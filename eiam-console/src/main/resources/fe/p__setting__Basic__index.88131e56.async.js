/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[8083],{92553:function(Ue,Ae,s){s.d(Ae,{W:function(){return Pe}});var Se=s(68591),p=s.n(Se),Fe=s(76091),ge=s.n(Fe),v=s(39620),ye=s.n(v),n=s(71775),Ee=s(47918),a=s(79685),Me=Ee.ZP.ConfigContext,Z=function(le){var ie=le.prefixCls;return ye()({},"".concat(ie),{margin:"0 auto"})};function Be(me){var le=(0,a.useContext)(Me),ie=le.getPrefixCls,ve=".".concat(ie());return(0,n.Xj)("ContainerComponent",function(oe){var he=ge()(ge()({},oe),{},{prefixCls:".".concat(me),antCls:ve});return[Z(he)]})}var se=s(63342),D="topiam-container",Pe=function(le){var ie=le.children,ve=ie===void 0?null:ie,oe=le.maxWidth,he=oe===void 0?1e3:oe,G=Be(D),Ce=G.wrapSSR,ue=G.hashId;return Ce((0,se.jsx)("div",{className:p()("".concat(D),ue),style:{maxWidth:he},children:ve}))}},23113:function(Ue,Ae,s){s.d(Ae,{Gh:function(){return ye},SC:function(){return n},Zw:function(){return p},gD:function(){return v},n6:function(){return Fe},o:function(){return Ee},pR:function(){return ge},rD:function(){return Se}});var Se;(function(a){a.EX900005="EX900005",a.EX000102="EX000102",a.EX000202="EX000202",a.SUCCESS="200"})(Se||(Se={}));var p;(function(a){a.ALIYUN="aliyun",a.QI_NIU="qiniu",a.TENCENT="tencent",a.NET_EASE="netease",a.MAXMIND="maxmind"})(p||(p={}));var Fe;(function(a){a.ALIYUN="aliyun",a.TENCENT="tencent",a.GEE_TEST="geetest",a.HCAPTCHA="hcaptcha",a.RECAPTCHA="recaptcha"})(Fe||(Fe={}));var ge;(function(a){a.STANDARD="standard",a.CUSTOM_MADE="custom_made"})(ge||(ge={}));var v;(function(a){a.SAML2="saml2",a.OIDC="oidc",a.CAS="cas",a.JWT="jwt",a.FORM="form",a.OAUTH2="oauth2"})(v||(v={}));var ye;(function(a){a.ALLOW="ALLOW",a.DENY="DENY"})(ye||(ye={}));var n;(function(a){a.ROLE="ROLE",a.RESOURCE="RESOURCE",a.USER="USER",a.ORGANIZATION="ORGANIZATION",a.USER_GROUP="USER_GROUP"})(n||(n={}));var Ee;(function(a){a.PHONE="PHONE",a.USERNAME="USERNAME",a.EMAIL="EMAIL"})(Ee||(Ee={}))},15431:function(Ue,Ae,s){s.r(Ae),s.d(Ae,{default:function(){return kr}});var Se=s(7863),p=s.n(Se),Fe=s(75109),ge=s(82925),v=s(79685),ye=s(84019),n=s.n(ye),Ee=s(76091),a=s.n(Ee),Me=s(32061),Z=s.n(Me),Be=s(92553),se=s(23113),D=s(17423),Pe=s(36489),me=s(63774),le=s(66767),ie=s(24285),ve=s(27181),oe=s(15457),he=s(60240),G=s(69268),Ce=s(54363),ue=s(90914),De=s(93973),h=s(3723),e=s(63342),He=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(h.Z.Password,{name:["config","sessionKey"],label:"\u6CE8\u518C\u7801",placeholder:"\u8BF7\u8F93\u5165MaxMind\u6CE8\u518C\u7801",rules:[{required:!0,message:"MaxMind\u6CE8\u518C\u7801\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"new-password"}})})},Ye=he.Z.confirm,We={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},Xe={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},Ne=se.Zw.MAXMIND,Qe=function(i){var F=i.visible,m=G.Z.useForm(),o=p()(m,1),c=o[0],L=(0,v.useState)(!1),E=p()(L,2),B=E[0],g=E[1],z=(0,v.useState)(!1),H=p()(z,2),M=H[0],I=H[1],de=(0,v.useState)(Ne),Q=p()(de,2),$=Q[0],T=Q[1];return(0,oe.Z)(Z()(n()().mark(function C(){var f,d,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!F){t.next=11;break}return c.resetFields(),g(!0),t.next=5,(0,D.t9)();case 5:return f=t.sent,d=f.success,u=f.result,d&&u&&u.enabled?(I(u.enabled),T(u.provider),c.setFieldsValue(a()({},u))):c.setFieldsValue({provider:$}),g(!1),t.abrupt("return");case 11:I(!1);case 12:case"end":return t.stop()}},C)})),[F]),(0,e.jsx)(Ce.Z,{spinning:B,children:(0,e.jsx)(me.Z,{title:"IP\u5730\u7406\u4F4D\u7F6E",headerBordered:!0,bordered:!1,collapsed:!M,style:{marginBottom:"24px"},extra:(0,e.jsx)(le.Z,{noStyle:!0,labelAlign:"right",fieldProps:{checked:M,onChange:function(){var C=Z()(n()().mark(function d(u){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u?I(u):Ye({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u5730\u7406\u4F4D\u7F6E\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var r=Z()(n()().mark(function A(){var W,J;return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return g(!0),j.next=3,(0,D.Y7)().finally(function(){g(!1)});case 3:if(W=j.sent,J=W.success,!J){j.next=12;break}return I(u),ue.ZP.success("\u64CD\u4F5C\u6210\u529F"),T(Ne),c.resetFields(),c.setFieldsValue({provider:Ne}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function Y(){return r.apply(this,arguments)}return Y}()});case 1:case"end":return t.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()}}),children:(0,e.jsx)(Be.W,{children:(0,e.jsx)(ie.A,a()(a()({form:c,scrollToFirstError:!0,layout:"horizontal",labelAlign:"right"},We),{},{initialValues:{provider:Ne},onReset:function(){c.resetFields(),c.setFieldsValue({enabled:M,provider:$})},submitter:{render:function(f,d){return(0,e.jsx)(G.Z.Item,a()(a()({},Xe),{},{children:(0,e.jsx)(De.Z,{children:d})}))},submitButtonProps:{style:{display:M?"":"none"}},resetButtonProps:{style:{display:M?"":"none"}}},onFinish:function(){var C=Z()(n()().mark(function f(d){var u,b;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return g(!0),r.prev=1,r.next=4,(0,D.S4)({provider:d.provider,config:d.config});case 4:if(u=r.sent,b=u.success,!b){r.next=9;break}return ue.ZP.success("\u4FDD\u5B58\u6210\u529F"),r.abrupt("return",Promise.resolve(!0));case 9:r.next=14;break;case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",Promise.reject());case 14:return r.prev=14,g(!1),r.finish(14);case 17:case"end":return r.stop()}},f,null,[[1,11,14,17]])}));return function(f){return C.apply(this,arguments)}}(),children:M&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve.Z,{name:"provider",label:"\u670D\u52A1\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var C=Z()(n()().mark(function d(u){var b,t,r;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return g(!0),T(u),c.resetFields(),c.setFieldsValue({provider:u}),A.next=6,(0,D.t9)();case 6:b=A.sent,t=b.success,r=b.result,t&&r&&r.enabled&&u===r.provider&&(I(r.enabled),c.setFieldsValue(a()({},r))),g(!1);case 11:case"end":return A.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()},options:[{value:se.Zw.MAXMIND,label:"MaxMind"}]}),$===se.Zw.MAXMIND&&(0,e.jsx)(He,{})]})}))})})})},be=s(10965),je=s(22649),Je=s(60979),qe=s(21574),_e=he.Z.confirm,er={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},rr={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},xe="customize",sr=function(i){var F=G.Z.useForm(),m=p()(F,1),o=m[0],c=i.visible,L=(0,v.useState)(xe),E=p()(L,2),B=E[0],g=E[1],z=(0,v.useState)(!1),H=p()(z,2),M=H[0],I=H[1],de=(0,v.useState)(!1),Q=p()(de,2),$=Q[0],T=Q[1];return(0,oe.Z)(Z()(n()().mark(function C(){var f,d,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=11;break}return o.resetFields(),I(!0),t.next=5,(0,D.cB)();case 5:return f=t.sent,d=f.success,u=f.result,d&&u&&u.enabled?(T(u.enabled),g(u.provider),o.setFieldsValue(a()({},u))):o.setFieldsValue({provider:B}),I(!1),t.abrupt("return");case 11:T(!1);case 12:case"end":return t.stop()}},C)})),[c]),(0,e.jsx)(Ce.Z,{spinning:M,children:(0,e.jsx)(me.Z,{title:"\u90AE\u4EF6\u63D0\u4F9B\u5546",headerBordered:!0,bordered:!1,collapsed:!$,style:{marginBottom:"24px"},extra:(0,e.jsx)(le.Z,{labelAlign:"right",noStyle:!0,fieldProps:{checked:$,onChange:function(){var C=Z()(n()().mark(function d(u){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u?T(u):_e({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u90AE\u4EF6\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",centered:!0,cancelText:"\u53D6\u6D88",onOk:function(){var r=Z()(n()().mark(function A(){var W,J;return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return I(!0),j.next=3,(0,D.iV)().finally(function(){I(!1)});case 3:if(W=j.sent,J=W.success,!J){j.next=12;break}return T(u),ue.ZP.success("\u64CD\u4F5C\u6210\u529F"),g(xe),o.resetFields(),o.setFieldsValue({provider:xe}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function Y(){return r.apply(this,arguments)}return Y}()});case 1:case"end":return t.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()},label:"\u5F00\u542F\u90AE\u4EF6\u670D\u52A1"}),children:(0,e.jsx)(Be.W,{children:(0,e.jsxs)(ie.A,a()(a()({form:o,scrollToFirstError:!0,initialValues:{safetyType:"ssl",provider:xe},onReset:function(){o.resetFields(),o.setFieldsValue({provider:B})}},er),{},{layout:"horizontal",labelAlign:"right",submitter:{render:function(f,d){return(0,e.jsx)(G.Z.Item,a()(a()({},rr),{},{children:(0,e.jsx)(De.Z,{children:d})}))},submitButtonProps:{style:{display:$?"inline":"none"}},resetButtonProps:{style:{display:$?"inline":"none"}}},onFinish:function(){var C=Z()(n()().mark(function f(d){var u,b;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return I(!0),r.prev=1,r.next=4,(0,D.$N)(d);case 4:return u=r.sent,b=u.success,b&&ue.ZP.success("\u4FDD\u5B58\u6210\u529F"),I(!1),r.abrupt("return",Promise.reject());case 11:return r.prev=11,r.t0=r.catch(1),r.abrupt("return",Promise.reject());case 14:return r.prev=14,I(!1),r.finish(14);case 17:case"end":return r.stop()}},f,null,[[1,11,14,17]])}));return function(f){return C.apply(this,arguments)}}(),children:[(0,e.jsx)(ve.Z,{name:"provider",label:"\u670D\u52A1\u63D0\u4F9B\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var C=Z()(n()().mark(function d(u){var b,t,r;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return I(!0),g(u),o.resetFields(),o.setFieldsValue({provider:u}),A.next=6,(0,D.cB)();case 6:b=A.sent,t=b.success,r=b.result,t&&r&&r.enabled&&u===r.provider&&(T(r.enabled),o.setFieldsValue(a()({},r))),I(!1);case 11:case"end":return A.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()},options:[{value:"customize",label:"\u81EA\u5B9A\u4E49"},{value:se.Zw.ALIYUN,label:"\u963F\u91CC\u4E91\u4F01\u4E1A\u90AE"},{value:se.Zw.TENCENT,label:"\u817E\u8BAF\u4E91\u4F01\u4E1A\u90AE"},{value:se.Zw.NET_EASE,label:"\u7F51\u6613\u4F01\u4E1A\u90AE"}]}),B==="customize"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:"smtpUrl",label:"SMTP\u5730\u5740",placeholder:"\u8BF7\u8F93\u5165SMTP\u5730\u5740",rules:[{required:!0,message:"\u8BF7\u8F93\u5165SMTP\u5730\u5740"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(Je.Z,{label:"\u7AEF\u53E3\u53F7",name:"port",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7AEF\u53E3\u53F7"}],fieldProps:{autoComplete:"off"},min:0,placeholder:"\u8BF7\u8F93\u5165\u7AEF\u53E3\u53F7"}),(0,e.jsx)(qe.Z.Group,{name:"safetyType",label:"\u5B89\u5168\u9A8C\u8BC1",rules:[{required:!0}],options:[{label:"None",value:"none"},{label:"SSL",value:"ssl"}]})]}),(0,e.jsx)(h.Z,{name:"username",label:B===xe?"\u7528\u6237\u540D":"\u53D1\u4EF6\u4EBA\u90AE\u7BB1",placeholder:B===xe?"\u8BF7\u8F93\u5165\u7528\u6237\u540D":"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7BB1",rules:B===xe?[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}]:[{required:!0,message:"\u8BF7\u8F93\u5165\u53D1\u4EF6\u4EBA\u90AE\u7BB1"},{type:"email",message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u53D1\u4EF6\u4EBA\u90AE\u7BB1"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:"secret",label:"\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}],placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801",fieldProps:{autoComplete:"new-password",iconRender:function(f){return f?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}})]}))})})})},ar=s(62119),nr=s(91902),Ge=function(i){var F=i.title,m=i.visible,o=i.onCancel,c=i.content;return(0,e.jsx)(he.Z,{title:F,open:m,closable:!0,destroyOnClose:!0,width:"800px",onCancel:o,onOk:o,children:(0,e.jsx)("div",{dangerouslySetInnerHTML:{__html:c}})})},tr=s(15874),ze=s(8821),ur=s(38735),Ke=s(10773),Vr=s(37480),Ur=s(17675),Gr=s(69535),zr=s(2441),Hr=s(13949),Yr=s(65597),lr=s(2308),ir=function(i){var F=i.visible,m=i.type,o=i.title,c=i.onClose,L=i.onSubmit,E=G.Z.useForm(),B=p()(E,1),g=B[0],z=(0,v.useState)(!1),H=p()(z,2),M=H[0],I=H[1],de=(0,v.useState)(!1),Q=p()(de,2),$=Q[0],T=Q[1],C=(0,v.useState)(!1),f=p()(C,2),d=f[0],u=f[1],b=(0,v.useState)(""),t=p()(b,2),r=t[0],Y=t[1],A=(0,v.useState)(!1),W=p()(A,2),J=W[0],fe=W[1];(0,oe.Z)(Z()(n()().mark(function q(){var ae,_,X;return n()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(!F){ne.next=9;break}return T(!0),ne.next=4,(0,D.Up)({type:m});case 4:ae=ne.sent,_=ae.success,X=ae.result,_&&(g.setFieldsValue(a()({},X)),fe(X.custom),Y(X.content)),T(!1);case 9:case"end":return ne.stop()}},q)})),[m,F]);function j(){c(),u(!1),g.resetFields()}return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tr.Z,{onClose:j,destroyOnClose:!0,width:"600px",title:o,placement:"right",closable:!0,open:F,footer:(0,e.jsxs)("div",{style:{textAlign:"right"},children:[(0,e.jsx)(ze.ZP,{onClick:function(){Y(r),I(!0)},style:{marginRight:8},children:"\u9884\u89C8"}),J&&(0,e.jsx)(ze.ZP,{loading:d,onClick:function(){g.submit()},type:"primary",children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(G.Z,{form:g,scrollToFirstError:!0,requiredMark:!0,onFinish:function(){var q=Z()(n()().mark(function ae(_){return n()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return u(!0),k.prev=1,k.next=4,(0,D.P0)(a()(a()({type:m},_),{},{content:r})).then(function(ne){ne.success&&ne.result===!0&&(ue.ZP.success("\u4FDD\u5B58\u6210\u529F"),j(),L&&L())});case 4:k.next=8;break;case 6:k.prev=6,k.t0=k.catch(1);case 8:return k.prev=8,u(!1),k.finish(8);case 11:case"end":return k.stop()}},ae,null,[[1,6,8,11]])}));return function(ae){return q.apply(this,arguments)}}(),layout:"vertical",children:(0,e.jsxs)(Ce.Z,{spinning:$,size:"large",children:[(0,e.jsx)(G.Z.Item,{label:"\u81EA\u5B9A\u4E49\u90AE\u4EF6",name:"custom",valuePropName:"checked",extra:"\u5F00\u5173\u5F00\u542F\u65F6\uFF0C\u4F60\u53EF\u4EE5\u81EA\u5B9A\u4E49\u6B22\u8FCE\u90AE\u4EF6\uFF0C\u5BC6\u7801\u9A8C\u8BC1\u548C\u8D26\u6237\u6CE8\u518C\u9A8C\u8BC1\u7684\u5177\u4F53\u5185\u5BB9\uFF0C\u4FDD\u5B58\u540E\u751F\u6548\uFF0C\u5F00\u5173\u5173\u95ED\u65F6\uFF0C\u7CFB\u7EDF\u5C06\u542F\u7528\u9ED8\u8BA4\u6A21\u7248\u3002",children:(0,e.jsx)(ur.Z,{onChange:function(){var q=Z()(n()().mark(function ae(_){var X,k;return n()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(T(!0),_){te.next=9;break}return te.next=4,(0,D.ms)(m).finally(function(){T(!1)});case 4:X=te.sent,k=X.success,k&&fe(_),te.next=10;break;case 9:fe(_);case 10:case"end":return te.stop()}},ae)}));return function(ae){return q.apply(this,arguments)}}()})}),J&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G.Z.Item,{label:"\u53D1\u9001\u4EBA",name:"sender",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u53D1\u9001\u4EBA"}],extra:"\u4F60\u53EF\u4EE5\u5305\u62EC\u4EE5\u4E0B\u53D8\u91CF\uFF1A${client_name}\uFF0C${time}\uFF0C${user_email}\uFF0C${client_description}\uFF0C${password}\u3002 \u4F8B\u5982\uFF1A${client_name} <support@yourcompany.com>\u3002${password} \u662F\u7528\u6237\u6CE8\u518C\u6210\u529F\u540E\u7684\u5BC6\u7801\uFF0C\u7531\u4E8E\u5B89\u5168\u539F\u56E0\uFF0C\u6B64\u5BC6\u7801\u4E0D\u4F1A\u660E\u6587\u6570\u636E\u5E93\u4E2D\u7559\u5B58\uFF0C\u4EC5\u4EC5\u4F1A\u5728\u521D\u6B21\u6CE8\u518C\u65F6\u901A\u8FC7\u90AE\u4EF6\u4F20\u8F93\u4E00\u6B21\u3002",children:(0,e.jsx)(Ke.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u53D1\u9001\u4EBA"})}),(0,e.jsx)(G.Z.Item,{label:"\u4E3B\u9898",name:"subject",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898"}],extra:"\u4F60\u53EF\u4EE5\u5305\u62EC\u4EE5\u4E0B\u53D8\u91CF\uFF1A${client_name}\uFF0C${time}\uFF0C${client_description}\uFF0C${user_email}\u3002 \u4F8B\u5982\uFF1A\u6B22\u8FCE\u6765\u5230 ${client_name}\uFF01",children:(0,e.jsx)(Ke.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u90AE\u4EF6\u4E3B\u9898"})}),(0,e.jsx)(G.Z.Item,{hidden:!0,name:"content",children:(0,e.jsx)(Ke.Z,{hidden:!0,value:r})}),!$&&(0,e.jsx)(G.Z.Item,{label:"\u5185\u5BB9",children:(0,e.jsx)(lr.Rt,{options:{mode:"htmlembedded",theme:"material",lineNumbers:!1,smartIndent:!1,fullScreen:!1},onChange:function(ae,_,X){Y(X)},value:r})})]})]})})}),(0,e.jsx)(Ge,{content:r,title:o,visible:M,onCancel:function(){I(!1)}})]})},or=s(39620),N=s.n(or),cr=s(84904),dr=s(47918),fr=dr.ZP.ConfigContext;function pr(i){var F=(0,v.useContext)(fr),m=F.getPrefixCls,o=".".concat(m()),c=(0,cr.l)(function(L){var E,B,g=L.token;return B={},N()(B,".".concat(i),(E={},N()(E,"&-title",{marginTop:0,marginBottom:"0",fontSize:"16px"}),N()(E,"".concat(o,"-avatar > img"),{objectFit:"fill"}),N()(E,"".concat(o,"-card-head"),{borderBottom:"none"}),N()(E,"".concat(o,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),N()(E,"".concat(o,"-card-extra"),{padding:"24px 0"}),N()(E,"".concat(o,"-list-pagination"),{marginTop:"24px"}),N()(E,"".concat(o,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),N()(E,"".concat(o,"-list-item-action"),{marginInlineStart:"15px"}),E)),N()(B,"@media  (max-width: ".concat(g.screenXS,"px)"),N()({},".".concat(i,"-list"),{})),N()(B,"@media  (max-width: ".concat(g.screenSM,"px)"),N()({},".".concat(i,"-list"),{})),N()(B,"@media  (max-width: ".concat(g.screenMD,"px)"),N()({},".".concat(i,"-list"),{})),N()(B,"@media  (max-width: ".concat(g.screenLG,"px) and @media (min-width: ").concat(g.screenMD,"px)"),N()({},".".concat(i,"-list"),{})),N()(B,"@media  (max-width: ".concat(g.screenXL,"px)"),N()({},".".concat(i,"-list"),{})),N()(B,"@media  (max-width: 1400px)",N()({},".".concat(i,"-list"),{})),B});return{className:c}}var mr=s(68591),vr=s.n(mr),Re="setting-mail-template",hr=function(i){var F=i.visible,m=(0,v.useState)(!1),o=p()(m,2),c=o[0],L=o[1],E=(0,v.useState)(),B=p()(E,2),g=B[0],z=B[1],H=(0,v.useState)(""),M=p()(H,2),I=M[0],de=M[1],Q=(0,v.useState)(""),$=p()(Q,2),T=$[0],C=$[1],f=(0,v.useState)(!1),d=p()(f,2),u=d[0],b=d[1],t=(0,v.useState)([]),r=p()(t,2),Y=r[0],A=r[1],W=(0,v.useState)(!1),J=p()(W,2),fe=J[0],j=J[1],q=(0,v.useState)(!0),ae=p()(q,2),_=ae[0],X=ae[1],k=pr(Re),ne=k.className;function te(){return we.apply(this,arguments)}function we(){return we=Z()(n()().mark(function R(){var w,l,P;return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return b(!0),x.next=3,(0,D._4)();case 3:w=x.sent,l=w.success,P=w.result,l&&A(P),b(!1);case 8:case"end":return x.stop()}},R)})),we.apply(this,arguments)}(0,oe.Z)(Z()(n()().mark(function R(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!F){l.next=3;break}return l.next=3,te();case 3:case"end":return l.stop()}},R)})),[F]);var Te=function(w,l){z((0,e.jsx)("span",{children:"".concat(w)})),L(!0),C(l)},Ve=function(w,l){z((0,e.jsx)("span",{children:"".concat(w)})),j(!0),de(l)};return(0,e.jsx)("div",{className:ne,children:(0,e.jsx)(Ce.Z,{spinning:u,children:(0,e.jsxs)(me.Z,{title:"\u90AE\u4EF6\u6A21\u677F",headerBordered:!0,className:"".concat(Re),bordered:!1,collapsed:_,extra:(0,e.jsx)("a",{onClick:function(){X(!_)},children:_?"\u5C55\u5F00":"\u6536\u8D77"}),children:[(0,e.jsx)(ar.Rs,{rowKey:"type",split:!0,cardProps:{bodyStyle:{padding:0}},showActions:"always",dataSource:Y,metas:{title:{render:function(w,l){return[(0,e.jsx)("p",{onClick:function(){Te(l.name,l.code)},className:vr()("".concat(Re,"-title")),children:l.name},l.name)]}},description:{},subTitle:{render:function(w,l){return(0,e.jsx)(De.Z,{size:0,children:l.custom&&(0,e.jsx)(nr.Z,{color:"#108ee9",children:"\u81EA\u5B9A\u4E49"},"customize")})}},actions:{render:function(w,l){return[(0,e.jsx)("a",{onClick:function(){Te(l.name,l.code)},children:"\u914D\u7F6E"},"config"),(0,e.jsx)("a",{onClick:function(){Ve(l.name,l.content)},children:"\u6D4F\u89C8"},"browse")]}}}}),(0,e.jsx)(ir,{visible:c,type:T,onClose:Z()(n()().mark(function R(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return L(!1),l.next=3,te();case 3:case"end":return l.stop()}},R)})),onSubmit:Z()(n()().mark(function R(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,te();case 2:case"end":return l.stop()}},R)})),title:g}),(0,e.jsx)(Ge,{content:I,title:g,visible:fe,onCancel:function(){j(!1)}})]})})})},Fr=hr,U;(function(i){i.MAIL="mail",i.SMS="sms",i.STORAGE="storage",i.LOCATION="location"})(U||(U={}));var ce;(function(i){i.ALIYUN_OSS="aliyun_oss",i.TENCENT_COS="tencent_cos",i.QINIU_KODO="qiniu_kodo",i.LOCAL="local",i.MINIO="minio"})(ce||(ce={}));var Ze;(function(i){i.ZH="zh",i.EN="en"})(Ze||(Ze={}));var Ie;(function(i){i.BEIJING="ap-beijing",i.GUANGZHOU="ap-guangzhou",i.NANJING="ap-nanjing"})(Ie||(Ie={}));var gr=s(24766),Cr=s(58397),Sr=s(65855),yr=s(37744),Er=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:"accessKeyId",label:"AccessKey ID",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91AccessKey ID",rules:[{required:!0,message:"\u963F\u91CC\u4E91AccessKey ID \u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:"accessKeySecret",label:"AccessKey Secret",rules:[{required:!0,message:"\u963F\u91CC\u4E91AccessKey Secret\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91AccessKey Secret",fieldProps:{autoComplete:"new-password",iconRender:function(m){return m?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(h.Z,{name:"signName",label:"\u77ED\u4FE1\u7B7E\u540D",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91\u77ED\u4FE1\u7B7E\u540D",rules:[{required:!0,message:"\u963F\u91CC\u4E91\u77ED\u4FE1\u7B7E\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},br=Er,jr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:"accessKey",label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91 AccessKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:"secretKey",label:"SecretKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(m){return m?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}})]})},xr=jr,Zr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve.Z,{name:"region",label:"\u5730\u57DF",placeholder:"\u8BF7\u9009\u62E9\u5730\u57DF\u914D\u7F6E",initialValue:Ie.GUANGZHOU,rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u5730\u57DF\u4E3A\u5FC5\u586B\u9879"}],options:[{label:"\u534E\u5317\u5730\u533A\uFF08\u5317\u4EAC\uFF09",value:Ie.BEIJING},{label:"\u534E\u5357\u5730\u533A\uFF08\u5E7F\u5DDE\uFF09 ",value:Ie.GUANGZHOU},{label:"\u534E\u4E1C\u5730\u533A\uFF08\u5357\u4EAC\uFF09",value:Ie.NANJING}]}),(0,e.jsx)(h.Z,{name:"secretId",label:"SecretId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91SecretId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91SecretId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:"secretKey",label:"SecretKey",rules:[{required:!0,message:"\u817E\u8BAF\u4E91SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91SecretKey",fieldProps:{iconRender:function(m){return m?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(h.Z,{name:"sdkAppId",label:"\u77ED\u4FE1\u5E94\u7528ID",placeholder:"\u8BF7\u8F93\u5165\u77ED\u4FE1\u5E94\u7528ID",rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u77ED\u4FE1\u5E94\u7528ID\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:"signName",label:"\u77ED\u4FE1\u7B7E\u540D",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91\u77ED\u4FE1\u7B7E\u540D",rules:[{required:!0,message:"\u817E\u8BAF\u4E91\u77ED\u4FE1\u7B7E\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Ar=Zr,Br=he.Z.confirm,Pr={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},Le=se.Zw.ALIYUN,Ir=function(F){var m=F.data,o=F.visible,c=F.onCancel;return(0,e.jsxs)(gr.Y,{preserve:!1,width:600,open:o,layout:"horizontal",modalProps:{onCancel:c,destroyOnClose:!0},labelAlign:"left",labelCol:{span:4},wrapperCol:{span:19},title:"\u6D4B\u8BD5\u77ED\u4FE1\u53D1\u9001",initialValues:{type:m.type,name:m.name,content:m.content},onFinish:function(E){return console.log(m),alert("\u53D1\u9001\u77ED\u4FE1"+E.phone),Promise.reject(!1)},children:[(0,e.jsx)(h.Z,{name:"type",hidden:!0}),(0,e.jsx)(h.Z,{label:"\u624B\u673A\u53F7",name:"phone",rules:[{required:!0}]}),(0,e.jsx)(h.Z,{label:"\u573A\u666F",name:"name",readonly:!0}),(0,e.jsx)(h.Z,{label:"\u6A21\u677F\u5185\u5BB9",name:"content",readonly:!0})]},m.type)},wr=function(i){var F=G.Z.useForm(),m=p()(F,1),o=m[0],c=(0,v.useRef)(),L=(0,v.useRef)(),E=i.visible,B=(0,v.useState)(Le),g=p()(B,2),z=g[0],H=g[1],M=(0,v.useState)(!1),I=p()(M,2),de=I[0],Q=I[1],$=(0,v.useState)({}),T=p()($,2),C=T[0],f=T[1],d=(0,v.useState)(!1),u=p()(d,2),b=u[0],t=u[1],r=(0,v.useState)(!1),Y=p()(r,2),A=Y[0],W=Y[1],J=(0,v.useState)(Ze.ZH),fe=p()(J,2),j=fe[0],q=fe[1],ae=(0,v.useState)(),_=p()(ae,2),X=_[0],k=_[1],ne=(0,v.useState)(),te=p()(ne,2),we=te[0],Te=te[1],Ve=[{dataIndex:"name",title:"\u6A21\u677F\u7C7B\u578B",fixed:"left",width:150,editable:!1},{dataIndex:"content",title:"\u6A21\u677F\u5185\u5BB9",copyable:!0,editable:!1},{dataIndex:"code",title:"\u6A21\u677FID/CODE",width:130,fixed:"right"},{title:"\u64CD\u4F5C",fixed:"right",align:"center",width:90,editable:!1,render:function(l,P){return[(0,e.jsx)("a",{onClick:Z()(n()().mark(function y(){var x,K;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,o==null?void 0:o.validateFields();case 2:if(S.sent){S.next=4;break}return S.abrupt("return");case 4:if((x=c.current)!==null&&x!==void 0&&(K=x.getFieldValue(P.type))!==null&&K!==void 0&&K.code){S.next=7;break}return ue.ZP.warning("\u8BF7\u914D\u7F6E\u77ED\u4FE1ID/CODE"),S.abrupt("return");case 7:Q(!0),f(a()(a()({},P),{},{config:o.getFieldsValue()}));case 9:case"end":return S.stop()}},y)})),children:"\u6D4B\u8BD5"},P.type)]}}],R=function(){var w=Z()(n()().mark(function l(P){var y,x,K;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,D.F8)({language:P});case 2:y=S.sent,x=y.result,K=y.success,K&&x&&(Te(x),k(x.map(function(ee){return ee.type})));case 6:case"end":return S.stop()}},l)}));return function(P){return w.apply(this,arguments)}}();return(0,oe.Z)(Z()(n()().mark(function w(){var l,P,y,x;return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!E){O.next=24;break}return t(!0),O.next=4,(0,D.di)();case 4:if(l=O.sent,P=l.success,y=l.result,W(y.enabled),!(P&&y&&y.enabled)){O.next=18;break}return o.setFieldsValue(a()({},y.config)),H(y.provider),q(y.language),O.next=14,R(y.language);case 14:(x=y.templates)===null||x===void 0||x.forEach(function(S){var ee;(ee=c.current)===null||ee===void 0||ee.setFieldsValue(N()({},S.type,{code:S.code}))}),t(!1),O.next=23;break;case 18:return O.next=20,R(j);case 20:return o.setFieldsValue({provider:z}),t(!1),O.abrupt("return");case 23:return O.abrupt("return");case 24:case"end":return O.stop()}},w)})),[E]),(0,e.jsxs)(Ce.Z,{spinning:b,children:[C&&(0,e.jsx)(Ir,{data:C,visible:de,onCancel:function(){Q(!1)}}),(0,e.jsx)(me.Z,{title:"\u77ED\u4FE1\u670D\u52A1",headerBordered:!0,bordered:!1,collapsed:!A,style:{marginBottom:"24px"},extra:(0,e.jsx)(le.Z,{noStyle:!0,fieldProps:{checked:A,onChange:function(){var w=Z()(n()().mark(function P(y){return n()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:y?W(y):Br({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u77ED\u4FE1\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var O=Z()(n()().mark(function ee(){var V,re;return n()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return t(!0),pe.next=3,(0,D.zS)().finally(function(){t(!1)});case 3:if(V=pe.sent,re=V.success,!re){pe.next=12;break}return W(y),ue.ZP.success("\u64CD\u4F5C\u6210\u529F"),H(Le),o.resetFields(),o.setFieldsValue({provider:Le}),pe.abrupt("return");case 12:case"end":return pe.stop()}},ee)}));function S(){return O.apply(this,arguments)}return S}(),onCancel:function(){}});case 1:case"end":return K.stop()}},P)}));function l(P){return w.apply(this,arguments)}return l}()}}),children:(0,e.jsxs)(Be.W,{children:[(0,e.jsxs)(ie.A,a()(a()({form:o,scrollToFirstError:!0,layout:"horizontal"},Pr),{},{labelAlign:"right",onReset:Z()(n()().mark(function w(){var l;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:o.resetFields(),o.setFieldsValue({provider:z}),(l=c.current)===null||l===void 0||l.resetFields();case 3:case"end":return y.stop()}},w)})),submitter:{render:function(l,P){return(0,e.jsx)(Cr.S,{children:P})},submitButtonProps:{style:{display:A?"":"none"}},resetButtonProps:{style:{display:A?"":"none"}}},onFinish:function(){var w=Z()(n()().mark(function l(P){var y,x,K,O,S;return n()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return x=(y=c.current)===null||y===void 0?void 0:y.getFieldsValue(),K=[],X==null||X.forEach(function(re){if(x[re].code!==void 0){var Oe={type:"".concat(re),code:x[re].code};K.push(Oe)}}),t(!0),V.prev=4,V.next=7,(0,D.sO)({provider:P.provider,config:P,templates:K,language:j});case 7:if(O=V.sent,S=O.success,!S){V.next=12;break}return ue.ZP.success("\u4FDD\u5B58\u6210\u529F"),V.abrupt("return",Promise.resolve(!0));case 12:return V.abrupt("return",Promise.reject());case 15:return V.prev=15,V.t0=V.catch(4),V.abrupt("return",Promise.reject());case 18:return V.prev=18,t(!1),V.finish(18);case 21:case"end":return V.stop()}},l,null,[[4,15,18,21]])}));return function(l){return w.apply(this,arguments)}}(),children:[(0,e.jsx)(ve.Z,{name:"provider",label:"\u670D\u52A1\u63D0\u4F9B\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var w=Z()(n()().mark(function P(y){var x,K,O,S,ee;return n()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return t(!0),H(y),o.resetFields(),o.setFieldsValue({provider:y}),(x=c.current)===null||x===void 0||x.resetFields(),re.next=7,(0,D.di)();case 7:if(K=re.sent,O=K.success,S=K.result,!(O&&S&&S.enabled&&S.provider===y)){re.next=16;break}return o.setFieldsValue(a()({},S.config)),q(S.language),re.next=15,R(S.language);case 15:(ee=S.templates)===null||ee===void 0||ee.forEach(function(Oe){var pe;(pe=c.current)===null||pe===void 0||pe.setFieldsValue(N()({},Oe.type,{code:Oe.code}))});case 16:if(!(O&&S&&S.provider!==y)){re.next=20;break}return q(Ze.ZH),re.next=20,R(Ze.ZH);case 20:t(!1);case 21:case"end":return re.stop()}},P)}));function l(P){return w.apply(this,arguments)}return l}()},options:[{value:se.Zw.ALIYUN,label:"\u963F\u91CC\u4E91"},{value:se.Zw.TENCENT,label:"\u817E\u8BAF\u4E91"},{value:se.Zw.QI_NIU,label:"\u4E03\u725B\u4E91"}]}),z===se.Zw.ALIYUN&&(0,e.jsx)(br,{}),z===se.Zw.TENCENT&&(0,e.jsx)(Ar,{}),z===se.Zw.QI_NIU&&(0,e.jsx)(xr,{})]})),(0,e.jsx)("br",{}),(0,e.jsx)(me.Z,{title:"\u53D1\u9001\u573A\u666F",bordered:!0,extra:(0,e.jsx)(yr.Z,{value:j,onChange:function(l){var P;q(l),t(!0),(P=c.current)===null||P===void 0||P.resetFields(),R(l).then(function(){(0,D.di)().then(function(y){var x=y.result,K=y.success;if(K&&x&&x.enabled&&x.provider===z&&x.language===l){var O;(O=x.templates)===null||O===void 0||O.forEach(function(S){var ee;(ee=c.current)===null||ee===void 0||ee.setFieldsValue(N()({},S.type,{code:S.code}))})}t(!1)})})},options:[{value:Ze.ZH,label:"\u4E2D\u6587"},{value:Ze.EN,label:"English"}]},"radio"),children:(0,e.jsx)(Sr.Z,{actionRef:L,columns:Ve,editableFormRef:c,scroll:{x:1200},cardProps:{bodyStyle:{padding:0}},value:we,rowKey:"type",pagination:!1,options:!1,editable:{type:"multiple",editableKeys:X},recordCreatorProps:!1,search:!1})})]})})]})},Or=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","accessKeyId"],label:"AccessKeyId",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS AccessKeyId",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS AccessKeyId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:["config","accessKeySecret"],label:"AccessKeySecret",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS AccessKeySecret\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS AccessKeySecret",fieldProps:{autoComplete:"new-password",iconRender:function(F){return F?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(h.Z,{name:["config","endpoint"],label:"Endpoint",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS Endpoint",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS Endpoint\u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(h.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u963F\u91CC\u4E91OSS Bucket",rules:[{required:!0,message:"\u963F\u91CC\u4E91OSS Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Dr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:["config","accessKey"],label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165MinIO  AccessKey",rules:[{required:!0,message:"MinIO  AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:["config","secretKey"],label:"SecretKey",rules:[{required:!0,message:"MinIO  SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165MinIO SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(F){return F?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(h.Z,{name:["config","domain"],label:"Domain",placeholder:"\u8BF7\u8F93\u5165MinIO Domain",rules:[{required:!0,message:"MinIO  Domain\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","endpoint"],label:"Endpoint",placeholder:"\u8BF7\u8F93\u5165MinIO Endpoint",rules:[{required:!0,message:"MinIO  Endpoint\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165MinIO  Bucket",rules:[{required:!0,message:"MinIO  Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Nr=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","accessKey"],label:"AccessKey",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo AccessKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo AccessKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z.Password,{name:["config","secretKey"],label:"SecretKey",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo SecretKey\u4E3A\u5FC5\u586B\u9879"}],placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo SecretKey",fieldProps:{autoComplete:"new-password",iconRender:function(F){return F?(0,e.jsx)(be.Z,{}):(0,e.jsx)(je.Z,{})}}}),(0,e.jsx)(h.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u4E03\u725B\u4E91Kodo Bucket",rules:[{required:!0,message:"\u4E03\u725B\u4E91Kodo Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},$r=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h.Z,{name:["config","domain"],label:"\u7ED1\u5B9A\u57DF\u540D",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS\u7ED1\u5B9A\u57DF\u540D",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS\u7ED1\u5B9A\u57DF\u540D\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","appId"],label:"AppId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS AppId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS AppId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","secretId"],label:"SecretId",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS SecretId",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS SecretId\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"new-password"}}),(0,e.jsx)(h.Z.Password,{name:["config","secretKey"],label:"SecretKey",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS SecretKey",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS SecretKey\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","region"],label:"Region",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS Region",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS Region\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(h.Z,{name:["config","bucket"],label:"Bucket",placeholder:"\u8BF7\u8F93\u5165\u817E\u8BAF\u4E91COS Bucket",rules:[{required:!0,message:"\u817E\u8BAF\u4E91COS Bucket\u4E3A\u5FC5\u586B\u9879"}],fieldProps:{autoComplete:"off"}})]})},Tr=he.Z.confirm,Mr={labelCol:{xs:{span:24},sm:{span:7},md:{span:6}},wrapperCol:{xs:{span:24},sm:{span:13},md:{span:14}}},Kr={wrapperCol:{xs:{span:24,offset:0},sm:{span:17,offset:7},md:{span:18,offset:6}}},$e=ce.ALIYUN_OSS,Rr=function(i){var F=i.visible,m=G.Z.useForm(),o=p()(m,1),c=o[0],L=(0,v.useState)(!1),E=p()(L,2),B=E[0],g=E[1],z=(0,v.useState)(!1),H=p()(z,2),M=H[0],I=H[1],de=(0,v.useState)($e),Q=p()(de,2),$=Q[0],T=Q[1];return(0,oe.Z)(Z()(n()().mark(function C(){var f,d,u;return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!F){t.next=11;break}return c.resetFields(),g(!0),t.next=5,(0,D.QH)();case 5:return f=t.sent,d=f.success,u=f.result,d&&u&&u.enabled?(I(u.enabled),T(u.provider),c.setFieldsValue(a()({},u))):c.setFieldsValue({provider:$}),g(!1),t.abrupt("return");case 11:I(!1);case 12:case"end":return t.stop()}},C)})),[F]),(0,e.jsx)(Ce.Z,{spinning:B,children:F&&(0,e.jsx)(me.Z,{title:"\u5B58\u50A8\u63D0\u4F9B\u5546",headerBordered:!0,bordered:!1,collapsed:!M,style:{marginBottom:"24px"},extra:(0,e.jsx)(le.Z,{noStyle:!0,preserve:!1,labelAlign:"right",fieldProps:{checked:M,onChange:function(){var C=Z()(n()().mark(function d(u){return n()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:u?I(u):Tr({title:"\u8B66\u544A",icon:(0,e.jsx)(Pe.Z,{}),content:"\u5173\u95ED\u6B64\u529F\u80FD\u5C06\u65E0\u6CD5\u4F7F\u7528\u5B58\u50A8\u670D\u52A1\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5173\u95ED\u3002",okText:"\u786E\u5B9A",okType:"danger",cancelText:"\u53D6\u6D88",centered:!0,onOk:function(){var r=Z()(n()().mark(function A(){var W,J;return n()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return g(!0),j.next=3,(0,D.wi)().finally(function(){g(!1)});case 3:if(W=j.sent,J=W.success,!J){j.next=12;break}return I(u),ue.ZP.success("\u64CD\u4F5C\u6210\u529F"),T($e),c.resetFields(),c.setFieldsValue({provider:$e}),j.abrupt("return");case 12:case"end":return j.stop()}},A)}));function Y(){return r.apply(this,arguments)}return Y}(),onCancel:function(){}});case 1:case"end":return t.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()}}),children:(0,e.jsx)(Be.W,{children:(0,e.jsx)(ie.A,a()(a()({form:c,scrollToFirstError:!0,layout:"horizontal",labelAlign:"right"},Mr),{},{initialValues:{provider:$e},onReset:function(){c.resetFields(),c.setFieldsValue({enabled:M,provider:$})},submitter:{render:function(f,d){return(0,e.jsx)(G.Z.Item,a()(a()({},Kr),{},{children:(0,e.jsx)(De.Z,{children:d})}))},submitButtonProps:{style:{display:M?"":"none"}},resetButtonProps:{style:{display:M?"":"none"}}},onFinish:function(){var C=Z()(n()().mark(function f(d){var u,b;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,D.tF)(d);case 2:if(u=r.sent,b=u.success,!b){r.next=7;break}return ue.ZP.success("\u4FDD\u5B58\u6210\u529F"),r.abrupt("return",Promise.resolve(!0));case 7:return r.abrupt("return",Promise.reject());case 8:case"end":return r.stop()}},f)}));return function(f){return C.apply(this,arguments)}}(),children:M&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ve.Z,{name:"provider",label:"\u5B58\u50A8\u670D\u52A1\u5546",rules:[{required:!0}],fieldProps:{onChange:function(){var C=Z()(n()().mark(function d(u){var b,t,r;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return g(!0),T(u),c.resetFields(),c.setFieldsValue({provider:u}),A.next=6,(0,D.QH)();case 6:b=A.sent,t=b.success,r=b.result,t&&r&&r.enabled&&u===r.provider&&(I(r.enabled),c.setFieldsValue(a()({},r))),g(!1);case 11:case"end":return A.stop()}},d)}));function f(d){return C.apply(this,arguments)}return f}()},options:[{value:ce.ALIYUN_OSS,label:"\u963F\u91CC\u4E91OSS"},{value:ce.TENCENT_COS,label:"\u817E\u8BAF\u4E91COS"},{value:ce.QINIU_KODO,label:"\u4E03\u725B\u4E91Kodo"},{value:ce.MINIO,label:"MinIO"}]}),$===ce.ALIYUN_OSS&&(0,e.jsx)(Or,{}),$===ce.TENCENT_COS&&(0,e.jsx)($r,{}),$===ce.QINIU_KODO&&(0,e.jsx)(Nr,{}),$===ce.MINIO&&(0,e.jsx)(Dr,{})]})}))})})})},ke=s(30708),Lr=s(59787),kr=function(){var i=(0,v.useState)(),F=p()(i,2),m=F[0],o=F[1],c=(0,Lr.useLocation)();return(0,v.useEffect)(function(){var L=ke.Z.parse(c.search),E=L,B=E.tab;if(!B||!(B.toUpperCase()in U)){o(U.STORAGE),Fe.m.replace({pathname:c.pathname,search:ke.Z.stringify({tab:U.STORAGE})});return}o(B)},[m]),(0,e.jsxs)(ge._z,{content:"\u7CFB\u7EDF\u57FA\u672C\u914D\u7F6E\uFF0C\u5982\u6587\u4EF6\u5B58\u50A8\u3001\u5730\u7406\u4F4D\u7F6E\u3001\u6D88\u606F\u670D\u52A1\u7B49\u3002",tabActiveKey:m,onTabChange:function(E){o(E),Fe.m.replace({pathname:c.pathname,search:ke.Z.stringify({tab:E})})},tabList:[{tab:"\u6587\u4EF6\u5B58\u50A8",key:U.STORAGE},{tab:"\u5730\u7406\u4F4D\u7F6E",key:U.LOCATION},{tab:"\u90AE\u4EF6\u670D\u52A1",key:U.MAIL},{tab:"\u77ED\u4FE1\u670D\u52A1",key:U.SMS}],children:[m===U.STORAGE&&(0,e.jsx)(Rr,{visible:m===U.STORAGE}),m===U.LOCATION&&(0,e.jsx)(Qe,{visible:m===U.LOCATION}),m===U.MAIL&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(sr,{visible:m===U.MAIL}),(0,e.jsx)(Fr,{visible:m===U.MAIL})]}),m===U.SMS&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(wr,{visible:m===U.SMS})})]})}}}]);
