/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[7793],{10218:function(ke,he,a){a.d(he,{Z:function(){return me}});var fe=a(86977),O=a(22192),ie=a(63342),c=function(de){var oe=de.avatar,u=de.username,v=de.size,n=v===void 0?"small":v;return(0,ie.jsx)(ie.Fragment,{children:oe?(0,ie.jsx)(fe.C,{size:n,src:(0,ie.jsx)(O.Z,{placeholder:!0,src:oe,fallback:"data:image/png;base64,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"})}):(0,ie.jsx)(fe.C,{style:{color:"#f56a00",backgroundColor:"#fde3cf",verticalAlign:"middle"},size:"small",gap:1,children:u.substring(0,1).toLocaleUpperCase()})})},me=c},23113:function(ke,he,a){a.d(he,{Gh:function(){return de},SC:function(){return oe},Zw:function(){return O},gD:function(){return me},n6:function(){return ie},o:function(){return u},pR:function(){return c},rD:function(){return fe}});var fe;(function(v){v.EX900005="EX900005",v.EX000102="EX000102",v.EX000202="EX000202",v.SUCCESS="200"})(fe||(fe={}));var O;(function(v){v.ALIYUN="aliyun",v.QI_NIU="qiniu",v.TENCENT="tencent",v.NET_EASE="netease",v.MAXMIND="maxmind"})(O||(O={}));var ie;(function(v){v.ALIYUN="aliyun",v.TENCENT="tencent",v.GEE_TEST="geetest",v.HCAPTCHA="hcaptcha",v.RECAPTCHA="recaptcha"})(ie||(ie={}));var c;(function(v){v.STANDARD="standard",v.CUSTOM_MADE="custom_made"})(c||(c={}));var me;(function(v){v.SAML2="saml2",v.OIDC="oidc",v.CAS="cas",v.JWT="jwt",v.FORM="form",v.OAUTH2="oauth2"})(me||(me={}));var de;(function(v){v.ALLOW="ALLOW",v.DENY="DENY"})(de||(de={}));var oe;(function(v){v.ROLE="ROLE",v.RESOURCE="RESOURCE",v.USER="USER",v.ORGANIZATION="ORGANIZATION",v.USER_GROUP="USER_GROUP"})(oe||(oe={}));var u;(function(v){v.PHONE="PHONE",v.USERNAME="USERNAME",v.EMAIL="EMAIL"})(u||(u={}))},44931:function(ke,he,a){a.r(he),a.d(he,{default:function(){return Cr}});var fe=a(76091),O=a.n(fe),ie=a(7863),c=a.n(ie),me=a(82925),de=a(61525),oe=a(54372),u=a(79685),v=a(84019),n=a.n(v),Ca=a(32061),j=a.n(Ca),Ea=a(2767),He=a(43637),Aa=a(13373),Sa=a(34973),ja=a(75827),Fa=a(25846),xa=a(44195),Re=a(45162),ba=a(60240),te=a(90914),ya=a(61109),wa=a(65184),Ye=a(18477),Ge=a(12790),Be=a(79696),ve=a(54363),ze=a(67021),Ba=a(68591),_=a.n(Ba),Za=a(39620),X=a.n(Za),Ze=a(47918),Ne=a(84904),Na=Ze.ZP.ConfigContext;function Ve(L){var p=(0,u.useContext)(Na),C=p.getPrefixCls,Q=".".concat(C()),J=(0,Ne.l)(function(){var g,k,N;return X()({},".".concat(L),(N={},X()(N,"&-tree",X()({marginTop:"10px"},"".concat(Q,"-tree"),(g={},X()(g,"&-title",{width:"100%"}),X()(g,"&-switcher",{display:"flex",flexWrap:"nowrap",alignContent:"center",alignItems:"center",justifyContent:"center"}),X()(g,"&-treenode",{alignItems:"center",height:"30px",paddingBottom:"0",overflow:"hidden"}),X()(g,"".concat(Q,"-tree-node-content-wrapper"),{overflow:"auto"}),g))),X()(N,"&-item",(k={position:"relative",display:"flex",justifyContent:"space-between",width:"100%"},X()(k,"".concat(Q,"-dropdown-open"),{backgroundColor:"rgba(0, 0, 0, 0.04)"}),X()(k,"&-title",{width:"100%",overflow:"hidden",lineHeight:"30px",whiteSpace:"nowrap",textOverflow:"ellipsis"}),X()(k,"&-action",X()({color:"#293350",fontWeight:400,fontSize:"14px",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
      'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
      'Noto Color Emoji', PingFangSC-Regular, PingFang SC`},"&-text",{paddingInlineStart:"4px"})),k)),X()(N,"&-dropdown",X()({minWidth:"70px",color:"#293350",border:"1px solid #eaebee",boxShadow:"0 0 12px 0 #f3f5f8"},"&-more",{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignContent:"center",alignItems:"center",justifyContent:"center",width:"35px",height:"30px",fontSize:"20px","&:hover":{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignContent:"center",alignItems:"center",justifyContent:"center",width:"35px",backgroundColor:"rgba(0, 0, 0, 0.04)"},"&:checked":{backgroundColor:"rgba(0, 0, 0, 0.04)"}})),N))});return{className:J}}var Te;(function(L){L.root="root"})(Te||(Te={}));var We={labelCol:{span:4},wrapperCol:{span:20}},U=a(9715),Pa=a(78035),je=a(7206),Oe=a(24766),pe=a(24285),q=a(3723),Xe=a(27181),Fe=a(69268),ge=a(10773),qe=a(48269),e=a(63342),Da=function(p){var C=p.visible,Q=p.currentNode,J=p.onCancel,g=p.onFinish,k=(0,u.useState)(!1),N=c()(k,2),B=N[0],Y=N[1],K=Fe.Z.useForm(),G=c()(K,1),x=G[0];return(0,u.useEffect)(function(){C&&x.setFieldsValue({parentId:Q.id,code:(0,je.MX)(7),sort:9999,parentName:Q.name})},[Q,x,C]),(0,e.jsx)(Oe.Y,{preserve:!1,form:x,scrollToFirstError:!0,modalProps:{maskClosable:!1,destroyOnClose:!0,onCancel:J},requiredMark:!0,layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},title:"\u65B0\u589E\u7EC4\u7EC7\u67B6\u6784",width:500,open:C,onFinish:function(){var M=j()(n()().mark(function $(D){var S;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return Y(!0),A.next=3,g(D);case 3:return S=A.sent,Y(!1),A.abrupt("return",!!S);case 6:case"end":return A.stop()}},$)}));return function($){return M.apply(this,arguments)}}(),children:(0,e.jsxs)(ve.Z,{spinning:B,children:[(0,e.jsx)(pe.A.Item,{name:"parentId",hidden:!0,children:(0,e.jsx)(ge.Z,{})}),(0,e.jsx)(q.Z,{name:"parentName",label:"\u4E0A\u7EA7\u7EC4\u7EC7",readonly:!0}),(0,e.jsx)(Xe.Z,{name:"type",label:"\u7EC4\u7EC7\u7C7B\u578B",fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u7EC4\u7EC7\u7C7B\u578B"},options:[{value:"group",label:"\u96C6\u56E2"},{value:"company",label:"\u516C\u53F8"},{value:"department",label:"\u90E8\u95E8"},{value:"unit",label:"\u5355\u4F4D"}],rules:[{required:!0,message:"\u7EC4\u7EC7\u7C7B\u578B\u4E3A\u5FC5\u586B\u9879"}]}),(0,e.jsx)(pe.A.Item,{name:"name",label:"\u7EC4\u7EC7\u540D\u79F0",rules:[{required:!0,message:"\u7EC4\u7EC7\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}],children:(0,e.jsx)(ge.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u7EC4\u7EC7\u540D\u79F0"})}),(0,e.jsx)(pe.A.Item,{name:"code",label:"\u7EC4\u7EC7\u4EE3\u7801",extra:"\u7EC4\u7EC7\u4EE3\u7801\u5168\u5C40\u552F\u4E00\uFF0C\u521B\u5EFA\u540E\u4E0D\u53EF\u4FEE\u6539\u3002",rules:[{required:!0,message:"\u7EC4\u7EC7\u4EE3\u7801\u4E3A\u5FC5\u586B\u9879"}],children:(0,e.jsx)(ge.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u7EC4\u7EC7\u4EE3\u7801"})}),(0,e.jsx)(pe.A.Item,{name:"order",label:"\u6392\u5E8F",children:(0,e.jsx)(qe.Z,{style:{width:"100%"},min:0})}),(0,e.jsx)(pe.A.Item,{name:"desc",label:"\u63CF\u8FF0",children:(0,e.jsx)(ge.Z.TextArea,{autoComplete:"off"})})]})})},Qa=Da,Pe=a(95094),Ue=a(61715),xe=a(15457),_e=a(24380),Ia=function(p){var C=p.visible,Q=p.onCancel,J=p.onFinish,g=(0,u.useState)(!1),k=c()(g,2),N=k[0],B=k[1],Y=(0,u.useState)([]),K=c()(Y,2),G=K[0],x=K[1],M=(0,u.useState)([]),$=c()(M,2),D=$[0],S=$[1],y=(0,u.useState)(),A=c()(y,2),z=A[0],R=A[1],re=(0,u.useState)([]),P=c()(re,2),se=P[0],T=P[1],w=(0,u.useState)(!1),h=c()(w,2),m=h[0],t=h[1],s=function(){var f=j()(n()().mark(function r(){var l,Z,F;return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return B(!0),E.next=3,(0,U.mB)();case 3:if(E.t0=E.sent,E.t0){E.next=6;break}E.t0={};case 6:l=E.t0,Z=l.success,F=l.result,B(!1),Z&&F&&(x([F]),R([]),S([F.id]),T([F.id]),t(!0));case 11:case"end":return E.stop()}},r)}));return function(){return f.apply(this,arguments)}}();(0,xe.Z)(j()(n()().mark(function f(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!C){l.next=3;break}return l.next=3,s();case 3:case"end":return l.stop()}},f)})),[C]);var i=function(){var f=j()(n()().mark(function r(l){var Z;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return B(!0),o.next=3,(0,U.z3)(l);case 3:return Z=o.sent,Z.success&&x(function(E){return(0,Pe.J)(E,l,Z.result)}),B(!1),o.abrupt("return",Promise.resolve());case 7:case"end":return o.stop()}},r)}));return function(l){return f.apply(this,arguments)}}();return(0,e.jsxs)(Ue.a,{preserve:!1,drawerProps:{maskClosable:!0,destroyOnClose:!0,onClose:function(){x([]),Q()}},onFinish:j()(n()().mark(function f(){return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(se.length>0)){l.next=4;break}return l.next=3,J(se[0]);case 3:return l.abrupt("return",l.sent);case 4:te.ZP.warning(" \u8BF7\u9009\u62E9\u8981\u79FB\u52A8\u5230\u7684\u7EC4\u7EC7\u673A\u6784");case 5:case"end":return l.stop()}},f)})),title:"\u79FB\u52A8\u7EC4\u7EC7",width:530,open:C,children:[(0,e.jsx)(_e.Z,{banner:!0,type:"info",message:"\u8BF7\u9009\u62E9\u9700\u8981\u79FB\u52A8\u5230\u7684\u90E8\u95E8\u6216\u7EC4\u7EC7, \u5E76\u70B9\u51FB\u786E\u8BA4\u6309\u94AE\u3002"}),(0,e.jsx)("br",{}),(0,e.jsx)(ve.Z,{spinning:N,children:(0,e.jsx)(ze.Z,{blockNode:!0,fieldNames:{key:"id",title:"name"},showLine:{showLeafIcon:!1},switcherIcon:(0,e.jsx)(Re.Z,{}),loadData:function(r){return i(r.key)},loadedKeys:z,selectedKeys:se,treeData:G,onExpand:function(r){S(r),t(!1)},expandedKeys:D,autoExpandParent:m,onSelect:function(r){T(r)}})})]})},ka=Ia,Ra=a(51483),Le="account-organization",za=ge.Z.Search,Ta=function(L){var p=Ve(Le),C=p.className,Q=L.handleTitleRender,J=L.onSearchChange,g=L.onSelect,k=(0,u.useState)([]),N=c()(k,2),B=N[0],Y=N[1],K=(0,u.useState)(),G=c()(K,2),x=G[0],M=G[1],$=(0,u.useState)(),D=c()($,2),S=D[0],y=D[1],A=(0,u.useState)(),z=c()(A,2),R=z[0],re=z[1],P=(0,u.useState)(!1),se=c()(P,2),T=se[0],w=se[1],h=(0,u.useState)(!1),m=c()(h,2),t=m[0],s=m[1],i=(0,u.useState)(!1),f=c()(i,2),r=f[0],l=f[1],Z=function(){var o=j()(n()().mark(function E(ue){var ne,le,ce;return n()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.next=2,(0,U.rl)(ue);case 2:return ne=Ce.sent,le=ne.success,ce=ne.result,le&&(Y(ce),w(!0),M((0,Pe.h)(ce))),Ce.abrupt("return",Promise.resolve(ce));case 7:case"end":return Ce.stop()}},E)}));return function(ue){return o.apply(this,arguments)}}(),F=function(){var o=j()(n()().mark(function E(ue){var ne;return n()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return s(!0),ce.next=3,(0,U.z3)(ue);case 3:return ne=ce.sent,ne.success&&Y(function(we){return(0,Pe.J)(we,ue,ne.result)}),s(!1),ce.abrupt("return",Promise.resolve());case 7:case"end":return ce.stop()}},E)}));return function(ue){return o.apply(this,arguments)}}();return(0,e.jsx)("div",{className:C,children:(0,e.jsx)("div",{className:_()("".concat(Le)),children:(0,e.jsxs)(ve.Z,{spinning:t,children:[(0,e.jsx)(za,{allowClear:!0,placeholder:"\u8F93\u5165\u7EC4\u7EC7\u540D\u79F0\u6216\u7EC4\u7EC7\u7F16\u7801",onSearch:function(){var o=j()(n()().mark(function E(ue){return n()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!ue){le.next=8;break}return s(!0),l(!0),J(!0),le.next=6,Z(ue);case 6:return s(!1),le.abrupt("return");case 8:l(!1),J(!1);case 10:case"end":return le.stop()}},E)}));return function(E){return o.apply(this,arguments)}}()}),r&&(B==null?void 0:B.length)>0?(0,e.jsx)("div",{className:_()("".concat(Le,"-tree")),children:(0,e.jsx)(ze.Z,{blockNode:!0,fieldNames:{key:"id",title:"name"},titleRender:Q,treeData:B,loadData:function(E){return F(E.key)},showLine:{showLeafIcon:!1},switcherIcon:(0,e.jsx)(Re.Z,{}),selectedKeys:R,loadedKeys:S,onLoad:y,onSelect:function(E,ue){var ne=ue.node;re(E),g(ne.key,ne==null?void 0:ne.name)},onExpand:function(E){M(E),w(!1)},expandedKeys:x,autoExpandParent:T})}):r&&!t&&(B==null?void 0:B.length)==0&&(0,e.jsx)(Ra.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60}})]})})})},Oa=function(p){var C=p.visible,Q=p.currentNode,J=p.onCancel,g=p.onFinish,k=(0,u.useState)(),N=c()(k,2),B=N[0],Y=N[1],K=(0,u.useState)(!1),G=c()(K,2),x=G[0],M=G[1],$=Fe.Z.useForm(),D=c()($,1),S=D[0];return(0,xe.Z)(j()(n()().mark(function y(){var A,z,R;return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(C&&Q)){P.next=8;break}return Y(!0),P.next=4,(0,U.Xu)(Q);case 4:A=P.sent,z=A.success,R=A.result,z&&(S.setFieldsValue(R),Y(!1));case 8:case"end":return P.stop()}},y)})),[Q,C]),(0,e.jsx)(Oe.Y,{form:S,scrollToFirstError:!0,preserve:!1,modalProps:{maskClosable:!1,destroyOnClose:!0,onCancel:function(A){J&&(J(A),S.resetFields())}},layout:"horizontal",labelCol:{span:4},wrapperCol:{span:20},requiredMark:!0,title:"\u7F16\u8F91\u7EC4\u7EC7\u67B6\u6784",width:500,open:C,onFinish:function(){var y=j()(n()().mark(function A(z){var R;return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return M(!0),P.next=3,g(z);case 3:return R=P.sent,M(!1),P.abrupt("return",!!R);case 6:case"end":return P.stop()}},A)}));return function(A){return y.apply(this,arguments)}}(),children:(0,e.jsx)(Be.Z,{loading:B,active:!0,children:(0,e.jsxs)(ve.Z,{spinning:x,children:[(0,e.jsx)(pe.A.Item,{name:"id",hidden:!0,children:(0,e.jsx)(ge.Z,{})}),(0,e.jsx)(Xe.Z,{name:"type",label:"\u7EC4\u7EC7\u7C7B\u578B",rules:[{required:!0,message:"\u7EC4\u7EC7\u7C7B\u578B\u4E3A\u5FC5\u586B\u9879"}],options:[{value:"group",label:"\u96C6\u56E2"},{value:"company",label:"\u516C\u53F8"},{value:"department",label:"\u90E8\u95E8"},{value:"unit",label:"\u5355\u4F4D"}]}),(0,e.jsx)(pe.A.Item,{name:"name",label:"\u7EC4\u7EC7\u540D\u79F0",rules:[{required:!0,message:"\u7EC4\u7EC7\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}],children:(0,e.jsx)(ge.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u7EC4\u7EC7\u540D\u79F0"})}),(0,e.jsx)(q.Z,{readonly:!0,name:"code",disabled:!0,label:"\u7EC4\u7EC7\u4EE3\u7801"}),(0,e.jsx)(pe.A.Item,{name:"order",label:"\u6392\u5E8F",children:(0,e.jsx)(qe.Z,{style:{width:"100%"},min:0})}),(0,e.jsx)(pe.A.Item,{name:"desc",label:"\u63CF\u8FF0",children:(0,e.jsx)(ge.Z.TextArea,{autoComplete:"off"})})]})})})},Ua=Oa,ae="account-organization",La=ba.Z.confirm,Ka=function(p){var C=Ve(ae),Q=C.className,J=(0,u.useState)(!1),g=c()(J,2),k=g[0],N=g[1],B=(0,u.useState)(!1),Y=c()(B,2),K=Y[0],G=Y[1],x=p.onSelect,M=(0,u.useState)([]),$=c()(M,2),D=$[0],S=$[1],y=(0,u.useState)(),A=c()(y,2),z=A[0],R=A[1],re=(0,u.useState)(),P=c()(re,2),se=P[0],T=P[1],w=(0,u.useState)(),h=c()(w,2),m=h[0],t=h[1],s=(0,u.useState)(!1),i=c()(s,2),f=i[0],r=i[1],l=(0,u.useState)(),Z=c()(l,2),F=Z[0],o=Z[1],E=(0,u.useState)(!1),ue=c()(E,2),ne=ue[0],le=ue[1],ce=(0,u.useState)(!1),we=c()(ce,2),Ce=we[0],Me=we[1],Er=(0,u.useState)(!1),ma=c()(Er,2),Ar=ma[0],$e=ma[1],Sr=(0,u.useState)(!1),va=c()(Sr,2),jr=va[0],Fr=va[1],Se=function(){var V=j()(n()().mark(function b(){var I,W,H;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return N(!0),d.next=3,(0,U.mB)().finally(function(){N(!1)});case 3:if(d.t0=d.sent,d.t0){d.next=6;break}d.t0={};case 6:I=d.t0,W=I.success,H=I.result,W&&H&&(S([H]),T([]),R([H.id]),t([H.id]),r(!0),x(H.id,H.name));case 10:case"end":return d.stop()}},b)}));return function(){return V.apply(this,arguments)}}();(0,Pa.Z)(j()(n()().mark(function V(){return n()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return G(!0),I.next=3,Se().finally(function(){G(!1)});case 3:case"end":return I.stop()}},V)})));var xr=function(){var V=j()(n()().mark(function b(I){var W;return n()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return N(!0),ee.next=3,(0,U.z3)(I).finally(function(){N(!1)});case 3:return W=ee.sent,W!=null&&W.success&&S(function(d){return(0,Pe.J)(d,I,W.result)}),ee.abrupt("return",Promise.resolve());case 6:case"end":return ee.stop()}},b)}));return function(I){return V.apply(this,arguments)}}(),br=function(b){return b?(0,e.jsx)(e.Fragment,{}):(0,e.jsx)(Ea.Z,{style:{marginRight:5}})},yr=function(b){var I=function(){var ee=[{key:"add",label:(0,e.jsx)("div",{className:Q,children:(0,e.jsxs)("div",{className:_()("".concat(ae,"-item-action")),children:[(0,e.jsx)(He.Z,{}),(0,e.jsx)("span",{className:_()("".concat(ae,"-item-action-text")),onClick:function(){o(b),le(!0)},children:"\u65B0\u589E\u5B50\u7EC4\u7EC7"})]})})}];return b.id!==Te.root?[].concat(ee,[{key:"update",label:(0,e.jsx)("div",{className:Q,children:(0,e.jsxs)("div",{className:_()("".concat(ae,"-item-action")),children:[(0,e.jsx)(Aa.Z,{}),(0,e.jsx)("span",{className:_()("".concat(ae,"-item-action-text")),onClick:function(){o(b),$e(!0)},children:"\u7F16\u8F91\u7EC4\u7EC7"})]})})},{key:"move",label:(0,e.jsx)("div",{className:Q,children:(0,e.jsxs)("div",{className:_()("".concat(ae,"-item-action")),children:[(0,e.jsx)(Sa.Z,{}),(0,e.jsx)("span",{className:_()("".concat(ae,"-item-action-text")),onClick:function(){o(b),Me(!0)},children:"\u79FB\u52A8\u7EC4\u7EC7"})]})})},{key:"remove",label:(0,e.jsx)("div",{className:Q,children:(0,e.jsxs)("div",{className:_()("".concat(ae,"-item-action")),children:[(0,e.jsx)(ja.Z,{}),(0,e.jsx)("span",{className:_()("".concat(ae,"-item-action-text")),onClick:function(){o(b),La({title:"\u8B66\u544A",icon:(0,e.jsx)(Fa.Z,{}),content:"\u5220\u9664\u64CD\u4F5C\u65E0\u6CD5\u6062\u590D\uFF0C\u8BF7\u8C28\u614E\u5220\u9664",okText:"\u786E\u8BA4",centered:!0,okType:"danger",cancelText:"\u53D6\u6D88",onOk:function(){var Je=j()(n()().mark(function Br(){var ha,ga;return n()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,(0,U.w0)(b.id);case 2:if(ha=Ee.sent,ga=ha.success,!ga){Ee.next=9;break}return te.ZP.success("\u5220\u9664\u6210\u529F"),Ee.next=8,Se();case 8:return Ee.abrupt("return");case 9:case"end":return Ee.stop()}},Br)}));function wr(){return Je.apply(this,arguments)}return wr}()})},children:"\u5220\u9664\u7EC4\u7EC7"})]})})}]):ee},W=function(){return(0,e.jsx)(ya.Z,{className:_()("".concat(ae,"-dropdown")),onClick:function(d){var Je=d.domEvent;Je.stopPropagation()},items:I()})};return(0,e.jsx)(wa.Z,{dropdownRender:W,placement:"bottom",trigger:["click","contextMenu"],children:(0,e.jsx)("span",{className:_()("".concat(ae,"-dropdown-more")),onClick:function(ee){ee.stopPropagation()},children:(0,e.jsx)(xa.Z,{})})})},pa=function(b){return(0,e.jsxs)("div",{className:_()("".concat(ae,"-item")),children:[(0,e.jsxs)("div",{className:_()("".concat(ae,"-item-title")),children:[br(!!b.isLeaf),(0,e.jsx)(Ye.Z,{title:b.name,placement:"topLeft",children:(0,e.jsx)("span",{children:b.name})})]}),yr(b)]})};return(0,e.jsx)("div",{className:Q,children:(0,e.jsxs)(Ge.Z,{style:{height:"calc(100vh - 220px)",overflow:"auto"},bordered:!1,className:_()("".concat(ae)),children:[(0,e.jsx)(Be.Z,{loading:K,paragraph:{rows:5},children:(0,e.jsxs)(ve.Z,{spinning:k,children:[(0,e.jsx)(Ta,{handleTitleRender:pa,onSearchChange:function(){var V=j()(n()().mark(function b(I){return n()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(I){H.next=3;break}return H.next=3,Se();case 3:Fr(I);case 4:case"end":return H.stop()}},b)}));return function(b){return V.apply(this,arguments)}}(),onSelect:x}),!jr&&(0,e.jsx)("div",{className:_()("".concat(ae,"-tree")),children:(0,e.jsx)(ze.Z,{blockNode:!0,fieldNames:{key:"id",title:"name"},titleRender:pa,treeData:D,loadData:function(b){return xr(b.key)},showLine:{showLeafIcon:!1},switcherIcon:(0,e.jsx)(Re.Z,{}),selectedKeys:m,loadedKeys:se,onLoad:T,onSelect:function(b,I){var W=I.node;t(b),x(W.key,W.name)},onExpand:function(b){R(b),r(!1)},expandedKeys:z,autoExpandParent:f})})]})}),(0,e.jsx)(Qa,{visible:ne,onCancel:function(){le(!1)},onFinish:function(){var V=j()(n()().mark(function b(I){var W,H;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,U.Yi)(I);case 3:if(W=d.sent,H=W.success,!H){d.next=11;break}return te.ZP.success("\u65B0\u589E\u6210\u529F"),le(!1),d.next=10,Se();case 10:return d.abrupt("return",Promise.resolve(!0));case 11:return d.abrupt("return",Promise.resolve(!1));case 14:return d.prev=14,d.t0=d.catch(0),d.abrupt("return",Promise.resolve(!1));case 17:case"end":return d.stop()}},b,null,[[0,14]])}));return function(b){return V.apply(this,arguments)}}(),currentNode:F}),F&&(0,e.jsx)(Ua,{visible:Ar,onCancel:j()(n()().mark(function V(){return n()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:$e(!1);case 1:case"end":return I.stop()}},V)})),onFinish:function(){var V=j()(n()().mark(function b(I){var W,H;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,(0,U.FV)(O()({},I));case 3:if(W=d.sent,H=W.success,!H){d.next=11;break}return te.ZP.success("\u7F16\u8F91\u6210\u529F"),$e(!1),d.next=10,Se();case 10:return d.abrupt("return",Promise.resolve(!0));case 11:return d.abrupt("return",Promise.resolve(!1));case 14:return d.prev=14,d.t0=d.catch(0),d.abrupt("return",Promise.resolve(!1));case 17:case"end":return d.stop()}},b,null,[[0,14]])}));return function(b){return V.apply(this,arguments)}}(),currentNode:F.id}),F&&(0,e.jsx)(ka,{onFinish:function(){var V=j()(n()().mark(function b(I){var W,H;return n()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,U.qb)(F.id,I);case 2:if(W=d.sent,H=W.success,!H){d.next=10;break}return Me(!1),te.ZP.success("\u64CD\u4F5C\u6210\u529F"),d.next=9,Se();case 9:return d.abrupt("return",Promise.resolve(!0));case 10:return d.abrupt("return",Promise.resolve(!1));case 11:case"end":return d.stop()}},b)}));return function(b){return V.apply(this,arguments)}}(),visible:Ce,onCancel:j()(n()().mark(function V(){return n()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:Me(!1);case 1:case"end":return I.stop()}},V)}))})]})})},Ma=Ka,$a=Ma,ea=a(75109),be=a(80591),Ja=a(52228),Ha=a(53802),aa=a(76815),Ae=a(93973),De=a(81381),Qe=a(18054),ra=a(28755),Ya=a(10779),na=a(13374),Ie=a(8821),ta=a(66767),sa=a(85724),ua=a(64213),la=a(90926),ia=a(90233),oa=a(97207),Ga=a(66939),ca=a.n(Ga),da=a(25374),Va=a(59787);function Wa(){return Ke.apply(this,arguments)}function Ke(){return Ke=j()(n()().mark(function L(){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,Va.request)("/api/country/list"));case 1:case"end":return C.stop()}},L)})),Ke.apply(this,arguments)}var Xa=da.Z.Option,qa=function(L){var p=L.defaultValue,C=p===void 0?"+86":p,Q=L.onChange,J=(0,u.useState)(),g=c()(J,2),k=g[0],N=g[1],B=(0,u.useState)(!0),Y=c()(B,2),K=Y[0],G=Y[1];return(0,xe.Z)(j()(n()().mark(function x(){var M,$,D;return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,Wa();case 2:M=y.sent,$=M.result,D=M.success,D&&(G(!0),N($),G(!1));case 6:case"end":return y.stop()}},x)})),[]),(0,e.jsx)(ve.Z,{spinning:K,children:(0,e.jsx)(da.Z,{showSearch:!0,defaultValue:C,style:{minWidth:"100px"},onChange:Q,children:k==null?void 0:k.map(function(x){return(0,e.jsx)(Xa,{value:x.phoneCode,children:"".concat(x.phoneCode," ").concat(x.chineseName)},x.countryCode)})})})},fa=qa,ye=a(23113),_a=Ze.ZP.ConfigContext,er=function(p){var C=p.visible,Q=p.onCancel,J=p.onFinish,g=p.organization,k=Fe.Z.useForm(),N=c()(k,1),B=N[0],Y=(0,u.useState)(!1),K=c()(Y,2),G=K[0],x=K[1],M=(0,u.useState)(!1),$=c()(M,2),D=$[0],S=$[1],y=(0,u.useState)("+86"),A=c()(y,2),z=A[0],R=A[1],re=function(t){return t&&t<ca()().endOf("day")},P=function(){return{disabledHours:function(){return(0,oa.range)(0,24).splice(4,20)},disabledMinutes:function(){return(0,oa.range)(30,60)},disabledSeconds:function(){return[55,56]}}},se=(0,u.useContext)(_a),T=se.getPrefixCls,w=".".concat(T()),h=(0,Ne.l)(function(){return X()({},"".concat(w,"-form-item-control-input"),{width:"100%"})});return(0,e.jsx)(Ue.a,O()(O()({form:B,className:h,scrollToFirstError:!0,preserve:!1,submitter:{render:function(t,s){return[s[0],(0,e.jsx)(Ie.ZP,{loading:G,onClick:function(){S(!0),t.submit()},children:"\u4FDD\u5B58\u5E76\u7EE7\u7EED"},"continue"),s[1]]}},drawerProps:{maskClosable:!0,destroyOnClose:!0,onClose:Q,afterOpenChange:function(t){t&&(x(!0),setTimeout(function(){B.setFieldsValue({organizationName:g==null?void 0:g.name,organizationId:g==null?void 0:g.id}),x(!1)},90))}},labelAlign:"right",layout:"horizontal"},We),{},{title:"\u65B0\u589E\u7528\u6237",width:590,open:C,onFinish:function(){var m=j()(n()().mark(function t(s){var i,f,r,l;return n()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(x(!0),i=s.phone,f=s.email,!(!i&&!f)){F.next=6;break}return te.ZP.warning("\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A"),x(!1),F.abrupt("return");case 6:return F.prev=6,r=O()({},s),s.phone&&(r=O()(O()({},s),{},{phone:"".concat(z).concat(s.phone)})),F.next=11,J(r,D);case 11:l=F.sent,l&&D&&(S(!1),B.resetFields(),B.setFieldsValue({organizationName:g==null?void 0:g.name,organizationId:g==null?void 0:g.id}),x(!1));case 13:return F.prev=13,x(!1),F.finish(13);case 16:case"end":return F.stop()}},t,null,[[6,,13,16]])}));return function(t){return m.apply(this,arguments)}}(),children:(0,e.jsxs)(ve.Z,{spinning:G,children:[(0,e.jsx)(q.Z,{name:"organizationId",hidden:!0}),(0,e.jsx)(q.Z,{label:"\u6240\u5C5E\u7EC4\u7EC7",name:"organizationName",readonly:!0}),(0,e.jsx)(q.Z,{name:"username",label:"\u7528\u6237\u540D",placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",rules:[{required:!0,message:"\u7528\u6237\u540D\u4E3A\u5FC5\u586B\u9879"},{pattern:new RegExp("^[a-zA-Z][a-zA-Z0-9_]{3,15}$"),message:"\u7528\u6237\u540D\u683C\u5F0F\u4E0D\u5408\u6CD5"},{validator:function(){var m=j()(n()().mark(function s(i,f){var r,l,Z;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(f){o.next=2;break}return o.abrupt("return",Promise.resolve());case 2:return o.next=4,(0,U.mz)(ye.o.USERNAME,f);case 4:if(r=o.sent,l=r.success,Z=r.result,l){o.next=9;break}return o.abrupt("return",Promise.reject());case 9:if(Z){o.next=11;break}return o.abrupt("return",Promise.reject(new Error("\u7528\u6237\u540D\u5DF2\u5B58\u5728")));case 11:case"end":return o.stop()}},s)}));function t(s,i){return m.apply(this,arguments)}return t}(),validateTrigger:["onBlur"]}],fieldProps:{autoComplete:"off"},extra:"\u8D26\u6237\u540D\u79F0\u4E0D\u80FD\u4EE5\u7279\u6B8A\u5B57\u7B26\u5F00\u59CB\uFF0C\u53EF\u5305\u542B\u5927\u5199\u5B57\u6BCD\u3001\u5C0F\u5199\u5B57\u6BCD\u3001\u6570\u5B57\u3001\u4E2D\u5212\u7EBF(-)\u3001\u4E0B\u5212\u7EBF(_)\u3001\u957F\u5EA6\u81F3\u5C11 4 \u4F4D"}),(0,e.jsx)(q.Z,{name:"fullName",label:"\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{message:"\u59D3\u540D\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(q.Z,{name:"nickName",label:"\u8D26\u6237\u6635\u79F0",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u6635\u79F0",fieldProps:{autoComplete:"off"}}),(0,e.jsx)(q.Z.Password,{name:"password",label:"\u767B\u5F55\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u767B\u5F55\u5BC6\u7801",fieldProps:{autoComplete:"new-password"},rules:[{required:!0,message:"\u767B\u5F55\u5BC6\u7801\u4E3A\u5FC5\u586B\u9879"}],addonAfter:(0,e.jsx)(Ie.ZP,{onClick:j()(n()().mark(function m(){var t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return x(!0),r.next=3,(0,U.EJ)().finally(function(){x(!1)});case 3:t=r.sent,s=t.result,i=t.success,i&&B.setFieldValue("password",s);case 7:case"end":return r.stop()}},m)})),children:"\u81EA\u52A8\u751F\u6210"},"autoGeneration")}),(0,e.jsx)(ta.Z,{name:["passwordInitializeConfig","enableNotice"],label:"\u5BC6\u7801\u901A\u77E5",extra:"\u52FE\u9009\u540E\uFF0C\u65B0\u5BC6\u7801\u5C06\u53D1\u9001\u7ED9\u7528\u6237"}),(0,e.jsx)(sa.Z,{name:["passwordInitializeConfig","enableNotice"],children:function(t){var s=t.passwordInitializeConfig;return(s==null?void 0:s.enableNotice)&&(0,e.jsx)(ua.Z.Group,{labelCol:{offset:4},initialValue:["mail"],name:["passwordInitializeConfig","noticeChannels"],label:"\u5BC6\u7801\u901A\u77E5\u65B9\u5F0F",fieldProps:{onChange:function(f){if(Array.prototype.isPrototypeOf(f)&&Object.keys(f).length===0){B.setFieldValue(["passwordInitializeConfig","enableNotice"],!1);return}B.setFieldValue(["passwordInitializeConfig","enableNotice"],!0)}},options:[{label:"\u90AE\u4EF6",value:"mail"},{label:"\u77ED\u4FE1",value:"sms"}]})}}),(0,e.jsx)(q.Z,{name:["phone"],label:"\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{validator:function(){var m=j()(n()().mark(function s(i,f){var r,l,Z,F;return n()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(f){E.next=2;break}return E.abrupt("return",Promise.resolve());case 2:return E.next=4,(0,je.Db)(f,z);case 4:if(r=E.sent,!r){E.next=7;break}return E.abrupt("return",Promise.reject(new Error("\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E")));case 7:return E.next=9,(0,U.mz)(ye.o.PHONE,"".concat(z).concat(f));case 9:if(l=E.sent,Z=l.success,F=l.result,Z){E.next=14;break}return E.abrupt("return",Promise.reject());case 14:if(F){E.next=16;break}return E.abrupt("return",Promise.reject(new Error("\u624B\u673A\u53F7\u5DF2\u5B58\u5728")));case 16:case"end":return E.stop()}},s)}));function t(s,i){return m.apply(this,arguments)}return t}(),validateTrigger:["onBlur"]}],fieldProps:{autoComplete:"off"},addonBefore:(0,e.jsx)(fa,{defaultValue:z,onChange:R}),extra:"\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u3002"}),(0,e.jsx)(q.Z,{name:"email",label:"\u90AE\u7BB1",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",rules:[{type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"},{validator:function(){var m=j()(n()().mark(function s(i,f){var r,l,Z;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(f){o.next=2;break}return o.abrupt("return",Promise.resolve());case 2:return o.next=4,(0,U.mz)(ye.o.EMAIL,f);case 4:if(r=o.sent,l=r.success,Z=r.result,!(l&&!Z)){o.next=9;break}return o.abrupt("return",Promise.reject(new Error("\u90AE\u7BB1\u5DF2\u5B58\u5728")));case 9:case"end":return o.stop()}},s)}));function t(s,i){return m.apply(this,arguments)}return t}(),validateTrigger:["onBlur"]}],fieldProps:{autoComplete:"off"},extra:"\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u3002"}),(0,e.jsx)(la.Z,{name:"expireTime",label:"\u8FC7\u671F\u65F6\u95F4",placeholder:"\u8FC7\u671F\u65F6\u95F4",fieldProps:{disabledDate:re,disabledTime:P},extra:"\u4E0D\u586B\u5C06\u4F7F\u7528\u7CFB\u7EDF\u9ED8\u8BA4\u8FC7\u671F\u65F6\u95F4 2116-12-31"}),(0,e.jsx)(ia.Z,{name:"remark",label:"\u5907\u6CE8",extra:"\u7528\u6237\u5907\u6CE8\u4FE1\u606F",fieldProps:{placeholder:"\u5907\u6CE8",rows:2,maxLength:20,autoComplete:"off",showCount:!0}})]})}))},ar=er,rr=a(80840),nr=a(38369),tr=Ze.ZP.ConfigContext,sr=function(L){var p=L.visible,C=L.onCancel,Q=L.id,J=(0,u.useState)(!1),g=c()(J,2),k=g[0],N=g[1],B=Fe.Z.useForm(),Y=c()(B,1),K=Y[0];(0,xe.Z)(j()(n()().mark(function D(){return n()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:p&&K.setFieldValue("id",Q);case 1:case"end":return y.stop()}},D)})),[p,Q]);var G=(0,u.useContext)(tr),x=G.getPrefixCls,M=".".concat(x()),$=(0,Ne.l)(function(){var D,S;return S={},X()(S,"".concat(M,"-form-item-control-input"),{width:"100%"}),X()(S,".notice-channel",(D={},X()(D,"".concat(M,"-form-item"),{marginBottom:0}),X()(D,"& + a",{display:"block",marginTop:24}),X()(D,"&-alert",X()({},"".concat(M,"-alert-content ").concat(M,"-alert-message ").concat(M,"-form-item"),{marginBottom:0})),D)),S});return(0,e.jsx)(Oe.Y,{title:"\u91CD\u7F6E\u7528\u6237\u5BC6\u7801",width:"460px",form:K,labelAlign:"right",preserve:!1,layout:"vertical",autoFocusFirstInput:!0,className:$,open:p,modalProps:{destroyOnClose:!0,onCancel:C},onFinish:function(){var D=j()(n()().mark(function S(y){var A,z,R;return n()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return A=rr.DS.encode(y.password,!0),N(!0),P.next=4,(0,U.QV)(O()(O()({},y),{},{password:A})).finally(function(){N(!1)});case 4:if(z=P.sent,R=z.success,!R){P.next=10;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),C==null||C(),P.abrupt("return");case 10:case"end":return P.stop()}},S)}));return function(S){return D.apply(this,arguments)}}(),children:(0,e.jsxs)(ve.Z,{spinning:k,children:[(0,e.jsx)(q.Z,{name:"id",hidden:!0}),(0,e.jsx)(q.Z.Password,{name:"password",label:"\u65B0\u5BC6\u7801",placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",fieldProps:{autoComplete:"off"},rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],addonAfter:(0,e.jsx)(Ie.ZP,{onClick:j()(n()().mark(function D(){var S,y,A;return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return N(!0),R.next=3,(0,U.EJ)().finally(function(){N(!1)});case 3:S=R.sent,y=S.result,A=S.success,A&&K.setFieldValue("password",y);case 7:case"end":return R.stop()}},D)})),children:"\u81EA\u52A8\u751F\u6210"},"autoGeneration")}),(0,e.jsx)("div",{className:"notice-channel",children:(0,e.jsx)(ta.Z,{name:["passwordResetConfig","enableNotice"],label:"\u5BC6\u7801\u901A\u77E5",extra:"\u52FE\u9009\u540E\uFF0C\u65B0\u5BC6\u7801\u5C06\u53D1\u9001\u7ED9\u7528\u6237"})}),(0,e.jsx)(sa.Z,{name:["passwordResetConfig","enableNotice"],children:function(S){var y=S.passwordResetConfig;return(y==null?void 0:y.enableNotice)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(_e.Z,{className:"notice-channel-alert",style:{backgroundColor:"#f1f1f2",border:"1px solid #f1f1f2"},message:(0,e.jsx)(ua.Z.Group,{labelCol:{offset:4},initialValue:["mail"],name:["passwordResetConfig","noticeChannels"],label:"\u5BC6\u7801\u901A\u77E5\u65B9\u5F0F",fieldProps:{onChange:function(z){if(Array.prototype.isPrototypeOf(z)&&Object.keys(z).length===0){K.setFieldValue(["passwordResetConfig","enableNotice"],!1);return}K.setFieldValue(["passwordResetConfig","enableNotice"],!0)}},options:[{label:"\u90AE\u4EF6",value:"mail"},{label:"\u77ED\u4FE1",value:"sms"}]})}),(0,e.jsx)("br",{})]})}}),(0,e.jsxs)("a",{onClick:j()(n()().mark(function D(){var S;return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return S=K.getFieldValue("password"),A.next=3,(0,je.JG)(`TopIAM \u8D26\u6237\u8FDB\u884C\u4E86\u5BC6\u7801\u4FEE\u6539
\u8D26\u6237\u540D\uFF1Aadmin
\u65B0\u5BC6\u7801\uFF1A`.concat(S||""));case 3:case"end":return A.stop()}},D)})),children:[(0,e.jsx)(nr.Z,{}),"\u590D\u5236\u8D26\u6237\u5BC6\u7801"]})]})})},ur=Ze.ZP.ConfigContext,lr=function(p){var C=p.visible,Q=p.onCancel,J=p.onFinish,g=p.id,k=Fe.Z.useForm(),N=c()(k,1),B=N[0],Y=(0,u.useState)(!0),K=c()(Y,2),G=K[0],x=K[1],M=(0,u.useState)(!1),$=c()(M,2),D=$[0],S=$[1],y=function(m){return m&&m<ca()().endOf("day")},A=(0,u.useState)("+86"),z=c()(A,2),R=z[0],re=z[1],P=(0,u.useContext)(ur),se=P.getPrefixCls,T=".".concat(se()),w=(0,Ne.l)(function(){return X()({},"".concat(T,"-form-item-control-input"),{width:"100%"})});return(0,xe.Z)(j()(n()().mark(function h(){var m,t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(C&&g)){r.next=9;break}return x(!0),r.next=4,(0,U.PR)(g);case 4:m=r.sent,t=m.success,s=m.result,t&&s&&(B.setFieldsValue(O()({},s)),s!=null&&s.phone&&(i=(0,je.R$)(s==null?void 0:s.phone),re("+".concat(i==null?void 0:i.getCountryCode())),B.setFieldsValue({phone:i==null?void 0:i.getNationalNumber()}))),x(!1);case 9:case"end":return r.stop()}},h)})),[C,g]),(0,e.jsx)(Ue.a,O()(O()({form:B,className:w,scrollToFirstError:!0,preserve:!1,drawerProps:{maskClosable:!0,destroyOnClose:!0,onClose:function(){x(!0),Q()}},labelAlign:"right",layout:"horizontal"},We),{},{title:"\u4FEE\u6539\u7528\u6237",width:590,open:C,onFinish:function(){var h=j()(n()().mark(function m(t){var s,i,f,r;return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(S(!0),s=t.phone,i=t.email,!(!s&&!i)){Z.next=6;break}return S(!1),te.ZP.warning("\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A"),Z.abrupt("return",!1);case 6:return f=O()({},t),t.phone&&(f=O()(O()({},t),{},{phone:"".concat(R).concat(t.phone)})),Z.prev=8,Z.next=11,J(f);case 11:return r=Z.sent,Z.abrupt("return",!!r);case 13:return Z.prev=13,S(!1),Z.finish(13);case 16:case"end":return Z.stop()}},m,null,[[8,,13,16]])}));return function(m){return h.apply(this,arguments)}}(),children:(0,e.jsx)(Be.Z,{loading:G,active:!0,children:(0,e.jsxs)(ve.Z,{spinning:D,children:[(0,e.jsx)(q.Z,{name:"id",hidden:!0}),(0,e.jsx)(q.Z,{label:"\u7528\u6237\u540D",name:"username",readonly:!0}),(0,e.jsx)(q.Z,{name:"fullName",label:"\u59D3\u540D",placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D",rules:[{message:"\u59D3\u540D\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(q.Z,{name:"nickName",label:"\u8D26\u6237\u6635\u79F0",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u6635\u79F0",fieldProps:{autoComplete:"off"}}),(0,e.jsx)(q.Z,{name:"phone",label:"\u624B\u673A\u53F7",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",rules:[{validator:function(){var h=j()(n()().mark(function t(s,i){var f,r,l,Z;return n()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(i){o.next=2;break}return o.abrupt("return",Promise.resolve());case 2:return o.next=4,(0,je.Db)(i,R);case 4:if(f=o.sent,!f){o.next=7;break}return o.abrupt("return",Promise.reject(new Error("\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E")));case 7:return o.next=9,(0,U.mz)(ye.o.PHONE,"".concat(R).concat(i),g);case 9:if(r=o.sent,l=r.success,Z=r.result,l){o.next=14;break}return o.abrupt("return",Promise.reject());case 14:if(Z){o.next=16;break}return o.abrupt("return",Promise.reject(new Error("\u624B\u673A\u53F7\u5DF2\u5B58\u5728")));case 16:case"end":return o.stop()}},t)}));function m(t,s){return h.apply(this,arguments)}return m}(),validateTrigger:["onBlur"]}],fieldProps:{autoComplete:"off"},addonBefore:(0,e.jsx)(fa,{defaultValue:R,onChange:re}),extra:"\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u3002"}),(0,e.jsx)(q.Z,{name:"email",label:"\u90AE\u7BB1",placeholder:"\u8BF7\u8F93\u5165\u90AE\u7BB1",rules:[{type:"email",message:"\u90AE\u7BB1\u683C\u5F0F\u4E0D\u6B63\u786E"},{validator:function(){var h=j()(n()().mark(function t(s,i){var f,r,l;return n()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(i){F.next=2;break}return F.abrupt("return",Promise.resolve());case 2:return F.next=4,(0,U.mz)(ye.o.EMAIL,i,g);case 4:if(f=F.sent,r=f.success,l=f.result,!(r&&!l)){F.next=9;break}return F.abrupt("return",Promise.reject(new Error("\u90AE\u7BB1\u5DF2\u5B58\u5728")));case 9:case"end":return F.stop()}},t)}));function m(t,s){return h.apply(this,arguments)}return m}(),validateTrigger:["onBlur"]}],fieldProps:{autoComplete:"off"},extra:"\u624B\u673A\u53F7\u6216\u90AE\u7BB1\u81F3\u5C11\u586B\u5199\u4E00\u4E2A\u3002"}),(0,e.jsx)(la.Z,{name:"expireDate",label:"\u8FC7\u671F\u65F6\u95F4",placeholder:"\u8FC7\u671F\u65F6\u95F4",fieldProps:{disabledDate:y},extra:"\u4E0D\u586B\u5C06\u4F7F\u7528\u7CFB\u7EDF\u9ED8\u8BA4\u8FC7\u671F\u65F6\u95F4 2116-12-31"}),(0,e.jsx)(ia.Z,{name:"remark",label:"\u5907\u6CE8",extra:"\u7528\u6237\u5907\u6CE8\u4FE1\u606F",fieldProps:{placeholder:"\u5907\u6CE8",rows:2,maxLength:20,autoComplete:"off",showCount:!0}})]})})}))},ir=lr,or=a(10218),cr=aa.Z.Text,dr=aa.Z.Link,fr=function(p){ea.m.push("/account/user/detail?id=".concat(p,"&tab=user-info"))},mr=function(L){var p=L.organization,C=(0,u.useRef)(),Q=(0,u.useState)(),J=c()(Q,2),g=J[0],k=J[1],N=(0,u.useState)(!0),B=c()(N,2),Y=B[0],K=B[1],G=(0,u.useState)(!1),x=c()(G,2),M=x[0],$=x[1],D=(0,u.useState)(!1),S=c()(D,2),y=S[0],A=S[1],z=(0,u.useState)(!1),R=c()(z,2),re=R[0],P=R[1],se=[{title:"\u7528\u6237\u540D\u79F0",dataIndex:"username",width:130,ellipsis:!0,renderText:function(w,h){return(0,e.jsxs)(Ae.Z,{children:[(0,e.jsx)(or.Z,{avatar:h.avatar,username:h.username}),(0,e.jsx)("a",{onClick:function(){fr(h.id)},children:h.username})]})}},{title:"\u7528\u6237\u59D3\u540D",align:"left",dataIndex:"fullName",ellipsis:!0},{title:"\u624B\u673A\u53F7\u7801",dataIndex:"phone",align:"left",ellipsis:!0,renderText:function(w,h){return w&&(0,e.jsxs)(Ae.Z,{children:[w&&h.phoneVerified?(0,e.jsx)(De.Z,{status:"success"}):(0,e.jsx)(De.Z,{status:"error"}),w]})}},{title:"\u90AE\u7BB1\u5730\u5740",dataIndex:"email",align:"left",ellipsis:!0,renderText:function(w,h){return w&&(0,e.jsxs)(Ae.Z,{children:[h.emailVerified?(0,e.jsx)(De.Z,{status:"success"}):(0,e.jsx)(De.Z,{status:"error"}),w]})}},{title:"\u6570\u636E\u6765\u6E90",dataIndex:"dataOrigin",ellipsis:!0,valueEnum:{input:{text:"\u81EA\u5EFA"},dingtalk:{text:"\u9489\u9489\u5BFC\u5165"},wechat:{text:"\u4F01\u4E1A\u5FAE\u4FE1\u5BFC\u5165"},feishu:{text:"\u98DE\u4E66\u5BFC\u5165"},ldap:{text:"LDAP\u5BFC\u5165"}}},{title:"\u6240\u5C5E\u7EC4\u7EC7",dataIndex:"orgDisplayPath",search:!1,ellipsis:!0},{title:"\u72B6\u6001",dataIndex:"status",align:"center",valueEnum:{enabled:{text:"\u542F\u7528",status:"Success"},disabled:{text:"\u7981\u7528",status:"Error"},locked:{text:"\u9501\u5B9A",status:"Warning"},expired_locked:{text:"\u8FC7\u671F\u9501\u5B9A",status:"Warning"},password_expired_locked:{text:"\u5BC6\u7801\u8FC7\u671F\u9501\u5B9A",status:"Warning"}}},{title:"\u6700\u540E\u767B\u5F55\u65F6\u95F4",dataIndex:"lastAuthTime",search:!1,ellipsis:!0},{title:"\u64CD\u4F5C",valueType:"option",width:130,align:"center",fixed:"right",render:function(w,h){return[h.status==="enabled"?(0,e.jsx)(Qe.Z,{title:"\u7981\u7528\u540E\u8BE5\u7528\u6237\u65E0\u6CD5\u4F7F\u7528\uFF0C\u786E\u5B9A\u7981\u7528\u6B64\u7528\u6237\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(be.Z,{style:{color:"red"}}),onConfirm:j()(n()().mark(function m(){var t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,U.B9)(h.id);case 2:if(t=r.sent,s=t.success,!s){r.next=8;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),(i=C.current)===null||i===void 0||i.reload(),r.abrupt("return");case 8:case"end":return r.stop()}},m)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{style:{color:"red"},children:"\u7981\u7528"},"disabled")},"disabled"):(0,e.jsx)(Qe.Z,{title:"\u786E\u5B9A\u542F\u7528\u8BE5\u7528\u6237\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(be.Z,{}),onConfirm:j()(n()().mark(function m(){var t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,U.Dx)(h.id);case 2:if(t=r.sent,s=t.success,!s){r.next=8;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),(i=C.current)===null||i===void 0||i.reload(),r.abrupt("return");case 8:case"end":return r.stop()}},m)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u542F\u7528"},"enabled")},"disabled"),(0,e.jsx)("a",{onClick:function(){k(h.id),A(!0)},children:"\u4FEE\u6539"},"update"),(0,e.jsx)(Ja.Z,{onSelect:function(t){t==="reset-password"&&(k(h.id),P(!0))},menus:[{key:"delete",name:(0,e.jsx)(Qe.Z,{title:"\u5220\u9664\u540E\u8BE5\u7528\u6237\u65E0\u6CD5\u4F7F\u7528\uFF0C\u786E\u5B9A\u5220\u9664\u6B64\u7528\u6237\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(be.Z,{style:{color:"red"}}),onConfirm:j()(n()().mark(function m(){var t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,U.kX)(h.id);case 2:if(t=r.sent,s=t.success,!s){r.next=8;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),(i=C.current)===null||i===void 0||i.reload(),r.abrupt("return");case 8:case"end":return r.stop()}},m)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u5220\u9664\u7528\u6237"},"remove")},"delete")},{key:"reset-password",name:"\u91CD\u7F6E\u5BC6\u7801"}]},"actionGroup")]}}];return(0,e.jsxs)(e.Fragment,{children:[p?(0,e.jsx)(Ha.Z,{scroll:{x:1200},params:{organizationId:p==null?void 0:p.id,inclSubOrganization:Y},style:{height:"calc(100vh - 220px)",overflow:"auto"},cardProps:{style:{minHeight:"calc(100vh - 220px)"}},search:{defaultCollapsed:!0},rowSelection:{selections:[ra.Z.SELECTION_ALL,ra.Z.SELECTION_INVERT]},tableAlertRender:function(w){var h=w.selectedRowKeys,m=w.onCleanSelected;return(0,e.jsx)(Ae.Z,{size:24,children:(0,e.jsxs)("span",{children:["\u5DF2\u9009 ",h.length," \u9879",(0,e.jsx)("a",{style:{marginLeft:8},onClick:m,children:"\u53D6\u6D88\u9009\u62E9"})]})})},tableAlertOptionRender:function(w){var h=w.selectedRowKeys,m=w.onCleanSelected;return h.length>1?(0,e.jsx)(Ae.Z,{size:16,children:(0,e.jsx)(Qe.Z,{title:"\u60A8\u786E\u5B9A\u8981\u6279\u91CF\u5220\u9664\u9009\u4E2D\u7528\u6237\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(be.Z,{style:{color:"red"}}),onConfirm:j()(n()().mark(function t(){var s,i,f;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,U.gE)(h);case 2:s=l.sent,i=s.success,i&&(te.ZP.success("\u64CD\u4F5C\u6210\u529F"),m(),(f=C.current)===null||f===void 0||f.reload());case 5:case"end":return l.stop()}},t)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u6279\u91CF\u5220\u9664"},"remove")},"offline")}):(0,e.jsx)(e.Fragment,{})},columns:se,actionRef:C,pagination:{defaultPageSize:10,showQuickJumper:!0},request:U.lE,rowKey:"id",dateFormatter:"string",headerTitle:p.name,form:{syncToUrl:function(w,h){return h==="get"?O()({},w):w}},toolbar:{actions:[(0,e.jsxs)(Ae.Z,{style:{alignItems:"flex-start"},children:[(0,e.jsx)(Ya.Z,{checked:Y,onChange:function(w){var h,m=w.target.checked;K(m),(h=C.current)===null||h===void 0||h.reload()}}),(0,e.jsx)(Ye.Z,{title:"\u82E5\u4E0D\u52FE\u9009\uFF0C\u5219\u53EA\u4F1A\u641C\u7D22\u5F53\u524D\u76F4\u5C5E\u8282\u70B9\u7684\u8D26\u6237\uFF0C\u4E0D\u5305\u542B\u4E0B\u7EA7\u8282\u70B9\u8D26\u6237\u3002",children:(0,e.jsxs)(cr,{ellipsis:!0,children:["\u5305\u542B\u8282\u70B9\u4E0B\u5168\u90E8\u8D26\u6237",(0,e.jsx)(be.Z,{style:{marginInlineStart:3}})]})})]},"checkbox"),(0,e.jsx)(na.Z,{type:"vertical"},"divider"),(0,e.jsx)(dr,{ellipsis:!0,onClick:function(){ea.m.push("/account/identity-source")},children:"\u8EAB\u4EFD\u6E90\u5BFC\u5165"},"identity-import"),(0,e.jsx)(na.Z,{type:"vertical"},"divider"),(0,e.jsx)(Ie.ZP,{type:"primary",icon:(0,e.jsx)(He.Z,{}),onClick:function(){$(!0)},children:"\u65B0\u589E\u7528\u6237"},"create")]}}):(0,e.jsx)(Ge.Z,{style:{height:"calc(100vh - 220px)"},bordered:!1,children:(0,e.jsx)(Be.Z,{paragraph:{rows:10},active:!0})}),p&&(0,e.jsx)(ar,{visible:M,onCancel:function(){$(!1)},organization:{id:p.id,name:p.name},onFinish:function(){var T=j()(n()().mark(function w(h,m){var t,s,i,f;return n()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,U.r4)(h);case 2:if(t=l.sent,s=t.success,i=t.result,!(s&&i)){l.next=10;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),(f=C.current)===null||f===void 0||f.reload(),m||$(!1),l.abrupt("return",Promise.resolve(!0));case 10:return l.abrupt("return",Promise.resolve(!1));case 11:case"end":return l.stop()}},w)}));return function(w,h){return T.apply(this,arguments)}}()}),g&&(0,e.jsx)(ir,{id:g,visible:y,onCancel:function(){A(!1)},onFinish:function(){var T=j()(n()().mark(function w(h){var m,t,s,i;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,U.Nq)(h);case 2:if(m=r.sent,t=m.success,s=m.result,!(t&&s)){r.next=10;break}return te.ZP.success("\u64CD\u4F5C\u6210\u529F"),A(!1),(i=C.current)===null||i===void 0||i.reload(),r.abrupt("return",Promise.resolve(!0));case 10:return r.abrupt("return",Promise.resolve(!1));case 11:case"end":return r.stop()}},w)}));return function(w){return T.apply(this,arguments)}}()}),g&&(0,e.jsx)(sr,{id:g,visible:re,onCancel:function(){P(!1)}})]})},vr=mr,pr={xxl:5,lg:6,md:24,sm:24,xs:24},hr={xxl:19,lg:18,md:24,sm:24,xs:24},gr=function(){var L=(0,u.useState)(),p=c()(L,2),C=p[0],Q=p[1],J=function(k,N){Q({id:k,name:N})};return(0,e.jsx)(me._z,{content:"\u7EC4\u7EC7\u4E0E\u7528\u6237\u7528\u4E8E\u89E3\u51B3\u4F01\u4E1A\u7EC4\u7EC7\u3001\u7528\u6237\u7B49\u5B9E\u4F53\u7684\u7BA1\u7406\u95EE\u9898\u3002\u8FD9\u4E9B\u5B9E\u4F53\u60A8\u53EF\u4EE5\u76F4\u63A5\u5728TopIAM\u4E2D\u8FDB\u884C\u7EF4\u62A4\uFF0C\u4E5F\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u8EAB\u4EFD\u6E90\u540E\uFF0C\u540C\u6B65\u8EAB\u4EFD\u6E90\u7684\u6570\u636E\u3002",children:(0,e.jsxs)(de.Z,{gutter:[16,16],children:[(0,e.jsx)(oe.Z,O()(O()({},pr),{},{style:{minHeight:"100%",overflow:"auto"},children:(0,e.jsx)($a,{onSelect:J})})),(0,e.jsx)(oe.Z,O()(O()({},hr),{},{style:{minHeight:"100%",overflow:"auto"},children:(0,e.jsx)(vr,{organization:C})}))]})})},Cr=gr},95094:function(ke,he,a){a.d(he,{J:function(){return me},h:function(){return de}});var fe=a(77566),O=a.n(fe),ie=a(76091),c=a.n(ie);function me(oe,u,v){return oe.map(function(n){return n.id===u?c()(c()({},n),{},{isLeaf:!1,children:v}):n.children?c()(c()({},n),{},{children:me(n.children,u,v)}):n})}function de(oe){var u=[];return oe.forEach(function(v){return u.push(v.id),v.children&&u.push.apply(u,O()(de(v.children))),u}),u}}}]);
