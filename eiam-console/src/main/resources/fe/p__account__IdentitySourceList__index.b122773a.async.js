/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[9902],{27181:function(oe,N,t){var x=t(5543),v=t(66105),z=t(54969),s=t(79685),T=t(79639),j=t(57231),U=t(63342),M=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],y=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],K=s.forwardRef(function(i,O){var J=i.fieldProps,Q=i.children,X=i.params,k=i.proFieldProps,L=i.mode,Y=i.valueEnum,q=i.request,e=i.showSearch,p=i.options,c=(0,v.Z)(i,M),r=(0,s.useContext)(T.Z);return(0,U.jsx)(j.Z,(0,x.Z)((0,x.Z)({valueEnum:(0,z.h)(Y),request:q,params:X,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,x.Z)({options:p,mode:L,showSearch:e,getPopupContainer:r.getPopupContainer},J),ref:O,proFieldProps:k},c),{},{children:Q}))}),Z=s.forwardRef(function(i,O){var J=i.fieldProps,Q=i.children,X=i.params,k=i.proFieldProps,L=i.mode,Y=i.valueEnum,q=i.request,e=i.options,p=(0,v.Z)(i,y),c=(0,x.Z)({options:e,mode:L||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},J),r=(0,s.useContext)(T.Z);return(0,U.jsx)(j.Z,(0,x.Z)((0,x.Z)({valueEnum:(0,z.h)(Y),request:q,params:X,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,x.Z)({getPopupContainer:r.getPopupContainer},c),ref:O,proFieldProps:k},p),{},{children:Q}))}),$=K,g=Z,R=$;R.SearchSelect=g,R.displayName="ProFormComponent",N.Z=R},3723:function(oe,N,t){var x=t(5543),v=t(66105),z=t(79685),s=t(57231),T=t(63342),j=["fieldProps","proFieldProps"],U=["fieldProps","proFieldProps"],M="text",y=function(g){var R=g.fieldProps,i=g.proFieldProps,O=(0,v.Z)(g,j);return(0,T.jsx)(s.Z,(0,x.Z)({valueType:M,fieldProps:R,filedConfig:{valueType:M},proFieldProps:i},O))},K=function(g){var R=g.fieldProps,i=g.proFieldProps,O=(0,v.Z)(g,U);return(0,T.jsx)(s.Z,(0,x.Z)({valueType:"password",fieldProps:R,proFieldProps:i,filedConfig:{valueType:M}},O))},Z=y;Z.Password=K,Z.displayName="ProFormComponent",N.Z=Z},90233:function(oe,N,t){var x=t(5543),v=t(66105),z=t(79685),s=t(57231),T=t(63342),j=["fieldProps","proFieldProps"],U=function(y,K){var Z=y.fieldProps,$=y.proFieldProps,g=(0,v.Z)(y,j);return(0,T.jsx)(s.Z,(0,x.Z)({ref:K,valueType:"textarea",fieldProps:Z,proFieldProps:$},g))};N.Z=z.forwardRef(U)},36127:function(oe,N,t){t.r(N),t.d(N,{default:function(){return ne}});var x=t(84019),v=t.n(x),z=t(32061),s=t.n(z),T=t(76091),j=t.n(T),U=t(7863),M=t.n(U),y=t(9715),K=t(75109),Z=t(43637),$=t(80591),g=t(82925),R=t(62119),i=t(91902),O=t(8821),J=t(86977),Q=t(18054),X=t(90914),k=t(60240),L=t(79685),Y=t(24766),q=t(27181),e=t(3723),p=t(90233),c=t(54363),r=t(63342),l=function(F){var C=(0,L.useRef)(),G=F.visible,f=F.onClose,W=F.onFinish,w=(0,L.useState)(!1),m=M()(w,2),V=m[0],u=m[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(Y.Y,{title:"\u65B0\u589E\u8EAB\u4EFD\u6E90",width:"500px",layout:"horizontal",labelCol:{span:4},wrapperCol:{span:19},onFinish:function(){var d=s()(v()().mark(function a(E){var P;return v()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return u(!0),h.next=3,W(E);case 3:return P=h.sent,u(!1),h.abrupt("return",!!P);case 6:case"end":return h.stop()}},a)}));return function(a){return d.apply(this,arguments)}}(),modalProps:{destroyOnClose:!0,onCancel:function(){var a;(a=C.current)===null||a===void 0||a.resetFields(),f()}},open:G,children:(0,r.jsxs)(c.Z,{spinning:V,children:[(0,r.jsx)(q.Z,{name:"provider",label:"\u63D0\u4F9B\u8005",fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u8EAB\u4EFD\u6E90\u63D0\u4F9B\u8005"},options:[{value:"dingtalk",label:"\u9489\u9489"},{value:"wechat_work",label:"\u4F01\u4E1A\u5FAE\u4FE1"},{value:"feishu",label:"\u98DE\u4E66"}],rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u8EAB\u4EFD\u6E90\u63D0\u4F9B\u8005"}]}),(0,r.jsx)(e.Z,{name:"name",label:"\u540D\u79F0",placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u6E90\u540D\u79F0",rules:[{required:!0,message:"\u8EAB\u4EFD\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}),(0,r.jsx)(p.Z,{name:"remark",label:"\u5907\u6CE8",placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8",fieldProps:{rows:2,maxLength:20}})]})})})},S=t(39620),n=t.n(S),_=t(47918),B=t(84904),A=_.ZP.ConfigContext;function b(F){var C=(0,L.useContext)(A),G=C.getPrefixCls,f=".".concat(G()),W=(0,B.l)(function(w){var m,V,u,d=w.token;return u={},n()(u,".".concat(F),(m={},n()(m,"&-content",{marginInlineStart:"15px","& > div":{marginInlineStart:"0"}}),n()(m,"&-item-content",{display:"block",flex:"none",width:"100%"}),n()(m,"".concat(f,"-avatar > img"),{objectFit:"fill"}),n()(m,"".concat(f,"-card-head"),{borderBottom:"none"}),n()(m,"".concat(f,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),n()(m,"".concat(f,"-card-extra"),{padding:"24px 0"}),n()(m,"".concat(f,"-list-pagination"),{marginTop:"24px"}),n()(m,"".concat(f,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),n()(m,"".concat(f,"-list-item-action"),{marginInlineStart:"15px"}),n()(m,"".concat(f,"-pro-list ").concat(f,"-pro-list-row"),{paddingLeft:"10px",paddingRight:"10px"}),n()(m,"".concat(f,"-pro-list ").concat(f,"-pro-list-row-content"),{flex:0,margin:"0"}),m)),n()(u,"@media  (max-width: ".concat(d.screenXS,"px)"),n()({},".".concat(F),(V={},n()(V,"&-content",{marginInlineStart:"0","& > div":{marginInlineStart:"0"}}),n()(V,"&-item-content",{display:"block",flex:"none",width:"100%"}),V))),n()(u,"@media  (max-width: ".concat(d.screenSM,"px)"),n()({},".".concat(F),{})),n()(u,"@media  (max-width: ".concat(d.screenMD,"px)"),n()({},".".concat(F),n()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),n()(u,"@media (max-width: ".concat(d.screenLG,"px) and @media (min-width: ").concat(d.screenMD,"px)"),n()({},".".concat(F),n()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),n()(u,"@media  (max-width: ".concat(d.screenXL,"px)"),n()({},".".concat(F),n()({},"&-content",{"& > div":{marginInlineStart:"24px","&:last-child":{top:"0"}}}))),n()(u,"@media  (max-width: 1400px)",n()({},".".concat(F),n()({},"&-content",{"& > div":{"&:last-child":{top:"0"}}}))),u});return{className:W}}var re=t(68591),H=t.n(re),te=t(55518),ee="identity-source-list",ae=function(C,G){K.m.push("/account/identity-source/detail?id=".concat(C,"&tab=config&provider=").concat(G))},le=function(){var F=(0,L.useState)(!1),C=M()(F,2),G=C[0],f=C[1],W=(0,L.useRef)(),w=b(ee),m=w.className,V=function(d){return(0,r.jsx)("div",{className:H()("".concat(ee,"-content")),children:(0,r.jsx)("div",{className:H()("".concat(ee,"-item-content")),children:d.enabled?(0,r.jsx)(i.Z,{color:"#5BD8A6",children:"\u5DF2\u542F\u7528"}):(0,r.jsx)(i.Z,{color:"#e54545",children:"\u672A\u542F\u7528"})})})};return(0,r.jsx)("div",{className:m,children:(0,r.jsxs)(g._z,{content:"\u652F\u6301\u4F01\u4E1A\u4EE5\u591A\u79CD\u8EAB\u4EFD\u6E90\u9014\u5F84\u540C\u6B65\u7528\u6237\u548C\u7EC4\u7EC7\u4FE1\u606F\u5230\u7CFB\u7EDF\uFF0C\u5728\u9AD8\u7EA7\u914D\u7F6E\u4E2D\u53EF\u4EE5\u5BF9\u5BFC\u5165\u7684\u5904\u7406\u903B\u8F91\u8FDB\u884C\u7075\u6D3B\u914D\u7F6E \uFF0C\u5B9E\u73B0\u4ECE\u591A\u4E2A\u6570\u636E\u6E90\u7684\u6C47\u805A\u4E3A\u4E00\u4E2A\u5B8C\u6574\u7684\u7528\u6237\u76EE\u5F55\uFF0C\u90E8\u5206\u8EAB\u4EFD\u6E90\u8FD8\u53EF\u4EE5\u901A\u8FC7\u56DE\u8C03\u7684\u65B9\u5F0F\u652F\u6301\u5B9E\u65F6\u540C\u6B65\u3002",className:"".concat(ee),children:[(0,r.jsx)(R.Rs,{toolBarRender:function(){return[(0,r.jsxs)(O.ZP,{type:"primary",onClick:function(){f(!0)},children:[(0,r.jsx)(Z.Z,{}),"\u6DFB\u52A0\u8EAB\u4EFD\u6E90"]},"add")]},search:{},rowKey:"id",headerTitle:"\u8EAB\u4EFD\u6E90\u5217\u8868",actionRef:W,split:!0,pagination:{showQuickJumper:!1,defaultPageSize:5,size:"small"},showActions:"always",request:y.SN,form:{syncToUrl:function(d,a){return a==="get"?j()({},d):d}},metas:{title:{title:"\u8EAB\u4EFD\u6E90\u540D\u79F0",dataIndex:"name",render:function(d,a){return(0,r.jsx)("span",{onClick:function(){ae(a.id,a.provider)},children:a.name})}},avatar:{search:!1,render:function(d,a){return(0,r.jsx)(J.C,{shape:"square",size:50,src:te.Y[a.provider]},a.id)}},description:{search:!1,render:function(d,a){return a.remark?(0,r.jsx)("span",{children:a.remark}):(0,r.jsx)("span",{children:a.desc})}},content:{search:!1,render:function(d,a){return[(0,r.jsx)(V,j()({},a),"context")]}},actions:{render:function(d,a){return[a.enabled?(0,r.jsx)(Q.Z,{title:"\u786E\u5B9A\u7981\u7528\u8BE5\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,r.jsx)($.Z,{style:{color:"red"}}),onConfirm:s()(v()().mark(function E(){var P,I,h,D;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.lz)(a.id);case 2:if(P=o.sent,I=P.success,h=P.result,!(I&&h)){o.next=10;break}return X.ZP.success("\u64CD\u4F5C\u6210\u529F"),o.next=9,(D=W.current)===null||D===void 0?void 0:D.reload();case 9:return o.abrupt("return");case 10:case"end":return o.stop()}},E)})),okText:"\u662F",cancelText:"\u5426",children:(0,r.jsx)("a",{children:"\u7981\u7528"},"disabled")},"disabled"):(0,r.jsx)(Q.Z,{title:"\u786E\u5B9A\u542F\u7528\u8BE5\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,r.jsx)($.Z,{}),onConfirm:s()(v()().mark(function E(){var P,I,h,D;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y.Cj)(a.id);case 2:if(P=o.sent,I=P.success,h=P.result,!(I&&h)){o.next=10;break}return X.ZP.success("\u64CD\u4F5C\u6210\u529F").then(),o.next=9,(D=W.current)===null||D===void 0?void 0:D.reload();case 9:return o.abrupt("return");case 10:case"end":return o.stop()}},E)})),okText:"\u662F",cancelText:"\u5426",children:(0,r.jsx)("a",{children:"\u542F\u7528"},"enabled")},"disabled"),(0,r.jsx)("a",{onClick:function(){ae(a.id,a.provider)},children:"\u8BE6\u60C5"},"detail"),(0,r.jsx)(Q.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,r.jsx)($.Z,{style:{color:"red"}}),onConfirm:s()(v()().mark(function E(){var P,I,h,D;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,y._p)(a.id);case 2:if(P=o.sent,I=P.success,h=P.result,!(I&&h)){o.next=10;break}return X.ZP.success("\u64CD\u4F5C\u6210\u529F"),o.next=9,(D=W.current)===null||D===void 0?void 0:D.reload();case 9:return o.abrupt("return");case 10:case"end":return o.stop()}},E)})),okText:"\u662F",cancelText:"\u5426",children:(0,r.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u5220\u9664"},"remove")},"delete")]}}}}),(0,r.jsx)(l,{visible:G,onClose:function(){f(!1)},onFinish:function(){var u=s()(v()().mark(function d(a){var E,P,I,h,D;return v()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,y.gD)(a);case 3:if(E=o.sent,P=E.result,I=E.success,!I){o.next=11;break}return f(!1),(h=W.current)===null||h===void 0||h.reload(),D=k.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:"\u8BF7\u8FDB\u5165\u8EAB\u4EFD\u6E90\u8BE6\u60C5\u9875\u9762\u5B8C\u5584\u8EAB\u4EFD\u6E90\u914D\u7F6E\u4FE1\u606F",okText:"\u5B8C\u5584\u914D\u7F6E",onOk:function(){D.destroy(),K.m.push("/account/identity-source/detail?id=".concat(P.id))}}),o.abrupt("return",!0);case 11:return o.abrupt("return",!1);case 14:return o.prev=14,o.t0=o.catch(0),o.abrupt("return",!1);case 17:case"end":return o.stop()}},d,null,[[0,14]])}));return function(d){return u.apply(this,arguments)}}()})]})})},ne=le},91902:function(oe,N,t){t.d(N,{Z:function(){return q}});var x=t(35632),v=t(68591),z=t.n(v),s=t(79685),T=t(56865),j=t(78699),U=t(96721),M=t(83396),y=t(42006);function K(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}var Z=t(8336),$=t(42786);const g=(e,p,c)=>{const r=K(c);return{[`${e.componentCls}-${p}`]:{color:e[`color${c}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`]}}},R=e=>(0,Z.j)(e,(p,c)=>{let{textColor:r,lightBorderColor:l,lightColor:S,darkColor:n}=c;return{[`${e.componentCls}-${p}`]:{color:r,background:S,borderColor:l,"&-inverse":{color:e.colorTextLightSolid,background:n,borderColor:n}}}}),i=e=>{const{paddingXXS:p,lineWidth:c,tagPaddingHorizontal:r,componentCls:l}=e,S=r-c,n=p-c;return{[l]:Object.assign(Object.assign({},(0,$.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:S,fontSize:e.tagFontSize,lineHeight:`${e.tagLineHeight}px`,whiteSpace:"nowrap",background:e.tagDefaultBg,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",[`&${l}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.tagDefaultColor},[`${l}-close-icon`]:{marginInlineStart:n,color:e.colorTextDescription,fontSize:e.tagIconSize,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${l}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${l}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:S}})}};var O=(0,M.Z)("Tag",e=>{const{fontSize:p,lineHeight:c,lineWidth:r,fontSizeIcon:l}=e,S=Math.round(p*c),n=e.fontSizeSM,_=S-r*2,B=e.colorFillAlter,A=e.colorText,b=(0,y.TS)(e,{tagFontSize:n,tagLineHeight:_,tagDefaultBg:B,tagDefaultColor:A,tagIconSize:l-2*r,tagPaddingHorizontal:8});return[i(b),R(b),g(b,"success","Success"),g(b,"processing","Info"),g(b,"error","Error"),g(b,"warning","Warning")]}),J=function(e,p){var c={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&p.indexOf(r)<0&&(c[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)p.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(c[r[l]]=e[r[l]]);return c},X=e=>{var{prefixCls:p,className:c,checked:r,onChange:l,onClick:S}=e,n=J(e,["prefixCls","className","checked","onChange","onClick"]);const{getPrefixCls:_}=s.useContext(T.E_),B=te=>{l==null||l(!r),S==null||S(te)},A=_("tag",p),[b,re]=O(A),H=z()(A,{[`${A}-checkable`]:!0,[`${A}-checkable-checked`]:r},c,re);return b(s.createElement("span",Object.assign({},n,{className:H,onClick:B})))},k=function(e,p){var c={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&p.indexOf(r)<0&&(c[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)p.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(c[r[l]]=e[r[l]]);return c};const L=(e,p)=>{var{prefixCls:c,className:r,rootClassName:l,style:S,children:n,icon:_,color:B,onClose:A,closeIcon:b,closable:re=!1}=e,H=k(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable"]);const{getPrefixCls:te,direction:ee}=s.useContext(T.E_),[ae,le]=s.useState(!0);s.useEffect(()=>{"visible"in H&&le(H.visible)},[H.visible]);const ne=(0,j.o2)(B)||(0,j.yT)(B),F=Object.assign({backgroundColor:B&&!ne?B:void 0},S),C=te("tag",c),[G,f]=O(C),W=z()(C,{[`${C}-${B}`]:ne,[`${C}-has-color`]:B&&!ne,[`${C}-hidden`]:!ae,[`${C}-rtl`]:ee==="rtl"},r,l,f),w=E=>{E.stopPropagation(),A==null||A(E),!E.defaultPrevented&&le(!1)},m=()=>re?b?s.createElement("span",{className:`${C}-close-icon`,onClick:w},b):s.createElement(x.Z,{className:`${C}-close-icon`,onClick:w}):null,V=typeof H.onClick=="function"||n&&n.type==="a",u=_||null,d=u?s.createElement(s.Fragment,null,u,s.createElement("span",null,n)):n,a=s.createElement("span",Object.assign({},H,{ref:p,className:W,style:F}),d,m());return G(V?s.createElement(U.Z,null,a):a)},Y=s.forwardRef(L);Y.CheckableTag=X;var q=Y}}]);
