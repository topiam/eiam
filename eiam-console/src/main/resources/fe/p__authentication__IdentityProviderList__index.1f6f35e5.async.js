/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
"use strict";(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[6462],{42096:function(hu,re,t){t.r(re),t.d(re,{default:function(){return fu}});var Ee=t(76091),T=t.n(Ee),ge=t(84019),l=t.n(ge),Ae=t(32061),x=t.n(Ae),xe=t(7863),L=t.n(xe),ye=t(55518),ae=t(7206),q=t(59787);function Be(r,a,n){return H.apply(this,arguments)}function H(){return H=x()(l()().mark(function r(a,n,u){return l()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",(0,q.request)("/api/authentication/idp/list",{params:T()(T()(T()({},a),(0,ae.YE)(n)),(0,ae.oH)(u))}).then(function(c){var s,E,h,g,w={data:c!=null&&(s=c.result)!==null&&s!==void 0&&s.list?c==null||(E=c.result)===null||E===void 0?void 0:E.list:[],success:c==null?void 0:c.success,total:c!=null&&(h=c.result)!==null&&h!==void 0&&h.pagination?c==null||(g=c.result)===null||g===void 0?void 0:g.pagination.total:0};return Promise.resolve(w)}));case 1:case"end":return B.stop()}},r)})),H.apply(this,arguments)}function te(r){return z.apply(this,arguments)}function z(){return z=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/get/".concat(a)));case 1:case"end":return u.stop()}},r)})),z.apply(this,arguments)}function je(r){return Q.apply(this,arguments)}function Q(){return Q=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/update",{data:a,method:"PUT",requestType:"json"}));case 1:case"end":return u.stop()}},r)})),Q.apply(this,arguments)}function Se(r){return Y.apply(this,arguments)}function Y(){return Y=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/create",{data:a,method:"POST",requestType:"json"}));case 1:case"end":return u.stop()}},r)})),Y.apply(this,arguments)}function be(r){return G.apply(this,arguments)}function G(){return G=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/enable/".concat(a),{method:"PUT"}));case 1:case"end":return u.stop()}},r)})),G.apply(this,arguments)}function De(r){return X.apply(this,arguments)}function X(){return X=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/disable/".concat(a),{method:"PUT"}));case 1:case"end":return u.stop()}},r)})),X.apply(this,arguments)}function Pe(r){return J.apply(this,arguments)}function J(){return J=x()(l()().mark(function r(a){return l()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,q.request)("/api/authentication/idp/delete/".concat(a),{method:"DELETE"}));case 1:case"end":return u.stop()}},r)})),J.apply(this,arguments)}var ne=t(75109),Ze=t(43637),_=t(80591),we=t(62119),Ie=t(82925),ke=t(78035),se=t(76815),Te=t(60240),N=t(90914),ie=t(91902),$e=t(8821),Le=t(86977),ee=t(18054),R=t(79685),le=t(24766),v=t(3723),oe=t(27181),ce=t(85724),de=t(90233),pe=t(15457),fe=t(54363),he=t(55998),y;(function(r){r.social="social",r.enterprise="enterprise"})(y||(y={}));var F;(function(r){r.wechatwork_qr="wechatwork_qr",r.dingtalk_qr="dingtalk_qr",r.feishu_oauth="feishu_oauth",r.dingtalk_oauth="dingtalk_oauth",r.ldap="ldap",r.qq="qq_oauth",r.wechat_qr="wechat_qr"})(F||(F={}));var Re=[F.wechatwork_qr,F.dingtalk_qr,F.dingtalk_oauth,F.wechat_qr,F.qq,F.feishu_oauth,F.feishu_oauth],Fe={labelCol:{span:4},wrapperCol:{span:19}},qe=t(66767),e=t(63342),Oe=se.Z.Paragraph,M=function(){return(0,e.jsx)(v.Z,{label:"\u56DE\u8C03\u5730\u5740",name:"redirectUri",proFieldProps:{render:function(a){return a&&(0,e.jsx)(Oe,{copyable:{text:a},style:{marginBottom:"0"},children:(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:"<span>".concat(a,"</span>")}})})}},readonly:!0,fieldProps:{autoComplete:"off"}})},Ue=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(M,{})]})},Me=Ue,Ne=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appKey"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u9489\u9489\u5F00\u653E\u5E73\u53F0\uFF0C\u5E94\u7528\u5F00\u53D1 -> \u4F01\u4E1A\u5185\u90E8\u5F00\u53D1\uFF0C\u6DFB\u52A0\u5C0F\u7A0B\u5E8F\u6216H5\u5FAE\u5E94\u7528\u540E\u83B7\u53D6",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(M,{})]})},We=Ne,Ke=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199AppId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appSecret"],label:"AppSecret",extra:"\u5728\u98DE\u4E66\u5F00\u653E\u5E73\u53F0\uFF0C\u5F00\u53D1\u8005\u540E\u53F0 -> \u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528\uFF0C\u521B\u5EFA\u4F01\u4E1A\u81EA\u5EFA\u5E94\u7528",placeholder:"\u8BF7\u586B\u5199AppSecret",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(M,{})]})},Ve=Ke,He=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],fieldProps:{autoComplete:"off"},placeholder:"\u8BF7\u586B\u5199appId"}),(0,e.jsx)(v.Z.Password,{rules:[{required:!0}],name:["config","appKey"],label:"AppSecret",placeholder:"\u8BF7\u586B\u5199appKey",fieldProps:{autoComplete:"off"}}),!n&&(0,e.jsx)(M,{})]})},ze=He,Qe=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","appId"],label:"AppId",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppId",placeholder:"\u8BF7\u586B\u5199\u83B7\u53D6\u7684AppId",fieldProps:{autoComplete:"off"}}),(0,e.jsx)(v.Z.Password,{name:["config","appSecret"],label:"AppSecret",rules:[{required:!0}],extra:"\u5FAE\u4FE1\u626B\u7801\u767B\u5F55\u5F00\u53D1\u7533\u8BF7\u83B7\u53D6\u7684AppSecret",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684AppSecret",fieldProps:{autoComplete:"new-password"}}),!n&&(0,e.jsx)(M,{})]})},Ye=Qe,ve=t(10773),Ge=function(a){var n=a.isCreate;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{name:["config","corpId"],label:"\u4F01\u4E1AID",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u6211\u7684\u4F01\u4E1A->\u4F01\u4E1A\u4FE1\u606F->\u4F01\u4E1AID",children:(0,e.jsx)(ve.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684CorpID"})}),(0,e.jsx)(v.Z,{name:["config","agentId"],label:"AgentId",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->AgentId",children:(0,e.jsx)(ve.Z,{autoComplete:"off",placeholder:"\u8BF7\u8F93\u5165AgentId"})}),(0,e.jsx)(v.Z.Password,{name:["config","appSecret"],label:"Secret",rules:[{required:!0}],extra:"\u4F01\u4E1A\u5FAE\u4FE1\u7BA1\u7406\u540E\u53F0->\u5E94\u7528\u7BA1\u7406->\u81EA\u5EFA\u5E94\u7528->\u9009\u62E9\u5E94\u7528->Secret",fieldProps:{autoComplete:"new-password"},placeholder:"\u8BF7\u8F93\u5165\u83B7\u53D6\u7684Secret"}),!n&&(0,e.jsx)(M,{})]})},Xe=Ge,Je=function(a){var n=a.type,u=a.isCreate,p=u===void 0?!1:u;return(0,e.jsxs)(e.Fragment,{children:[n===F.wechat_qr&&(0,e.jsx)(Ye,{isCreate:p}),n===F.wechatwork_qr&&(0,e.jsx)(Xe,{isCreate:p}),n===F.dingtalk_qr&&(0,e.jsx)(We,{isCreate:p}),n===F.dingtalk_oauth&&(0,e.jsx)(Me,{isCreate:p}),n===F.qq&&(0,e.jsx)(ze,{isCreate:p}),n===F.feishu_oauth&&(0,e.jsx)(Ve,{isCreate:p}),(0,e.jsx)(qe.Z,{name:["displayed"],extra:"\u5728\u767B\u5F55\u9875\u5C55\u793A\u8BA4\u8BC1\u6E90\u56FE\u6807 ",label:"\u662F\u5426\u663E\u793A"})]})},me=Je,_e=function(r){var a=r.visible,n=r.category,u=r.onCancel,p=r.onFinish,B=(0,he.Z)(),c=L()(B,1),s=c[0],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],w=h[1];return(0,pe.Z)(x()(l()().mark(function I(){return l()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:a&&(n===y.enterprise&&(s==null||s.setFieldsValue({displayed:!0,type:F.dingtalk_qr})),n===y.social&&(s==null||s.setFieldsValue({displayed:!0,type:F.wechat_qr})));case 1:case"end":return k.stop()}},I)})),[a,n]),(0,e.jsx)(le.Y,T()(T()({title:"\u521B\u5EFA\u8BA4\u8BC1\u6E90",width:600,modalProps:{forceRender:!0,onCancel:function(){u(),s==null||s.resetFields()},destroyOnClose:!0},open:a,form:s,scrollToFirstError:!0,layout:"horizontal"},Fe),{},{onFinish:function(){var I=x()(l()().mark(function j(k){var $;return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return w(!0),S.next=3,p(k);case 3:return $=S.sent,w(!1),S.abrupt("return",!!$);case 6:case"end":return S.stop()}},j)}));return function(j){return I.apply(this,arguments)}}(),children:(0,e.jsxs)(fe.Z,{spinning:g,children:[n===y.social&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{hidden:!0,name:"category",initialValue:y.social}),(0,e.jsx)(oe.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:F.wechat_qr,label:"\u5FAE\u4FE1\u5F00\u653E\u5E73\u53F0\u626B\u7801\u8BA4\u8BC1"},{value:F.qq,label:"QQ\u8BA4\u8BC1"}]})]}),n===y.enterprise&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{hidden:!0,name:"category",initialValue:y.enterprise}),(0,e.jsx)(oe.Z,{label:"\u8BA4\u8BC1\u63D0\u4F9B\u5546",name:"type",placeholder:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",rules:[{message:"\u8BF7\u9009\u62E9\u8BA4\u8BC1\u63D0\u4F9B\u5546",required:!0}],options:[{value:F.dingtalk_oauth,label:"\u9489\u9489\u8BA4\u8BC1"},{value:F.dingtalk_qr,label:"\u9489\u9489\u626B\u7801\u8BA4\u8BC1"},{value:F.feishu_oauth,label:"\u98DE\u4E66\u8BA4\u8BC1"},{value:F.wechatwork_qr,label:"\u4F01\u4E1A\u5FAE\u4FE1\u626B\u7801\u8BA4\u8BC1"}]})]}),(0,e.jsx)(v.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(ce.Z,{name:["type"],children:function(j){var k=j.type;return(0,e.jsx)(me,{type:k,isCreate:!0})}}),(0,e.jsx)(de.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})}))},eu=_e,uu=t(79696),ru=function(r){var a=r.visible,n=r.id,u=r.onCancel,p=r.onFinish,B=(0,he.Z)(),c=L()(B,1),s=c[0],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],w=h[1],I=(0,R.useState)(!1),j=L()(I,2),k=j[0],$=j[1];return(0,pe.Z)(x()(l()().mark(function O(){var S,U,m;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!a){i.next=8;break}return w(!0),i.next=4,te(n);case 4:S=i.sent,U=S.success,m=S.result,U&&m&&(s==null||s.setFieldsValue(T()({},m)),w(!1));case 8:case"end":return i.stop()}},O)})),[a,n]),(0,e.jsx)(le.Y,T()(T()({title:"\u4FEE\u6539\u8BA4\u8BC1\u6E90",width:600,layout:"horizontal"},Fe),{},{modalProps:{forceRender:!0,onCancel:function(){u(),s==null||s.resetFields()},destroyOnClose:!0},form:s,scrollToFirstError:!0,onFinish:function(){var O=x()(l()().mark(function S(U){var m;return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return $(!0),i.next=3,p(U);case 3:return m=i.sent,$(!1),i.abrupt("return",!!m);case 6:case"end":return i.stop()}},S)}));return function(S){return O.apply(this,arguments)}}(),open:a,children:(0,e.jsx)(uu.Z,{loading:g,active:!0,children:(0,e.jsxs)(fe.Z,{spinning:k,children:[(0,e.jsx)(v.Z,{name:"id",hidden:!0}),(0,e.jsx)(v.Z,{name:"type",hidden:!0}),(0,e.jsx)(v.Z,{label:"\u8BA4\u8BC1\u6E90\u540D\u79F0",name:"name",placeholder:"\u8BF7\u8F93\u5165\u8BA4\u8BC1\u6E90\u540D\u79F0",rules:[{message:"\u8BA4\u8BC1\u6E90\u540D\u79F0\u4E3A\u5FC5\u586B\u9879",required:!0}],fieldProps:{autoComplete:"off"}}),(0,e.jsx)(ce.Z,{name:["type"],children:function(S){var U=S.type;return(0,e.jsx)(me,{type:U,isCreate:!1})}}),(0,e.jsx)(de.Z,{name:"remark",fieldProps:{rows:2,maxLength:20,showCount:!1},placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8\u4FE1\u606F",label:"\u5907\u6CE8"})]})})}))},au=ru,tu=t(39620),o=t.n(tu),nu=t(47918),su=t(84904),iu=nu.ZP.ConfigContext;function lu(r){var a=(0,R.useContext)(iu),n=a.getPrefixCls,u=".".concat(n()),p=".".concat(r),B=(0,su.l)(function(c){var s,E,h,g=c.token;return h={},o()(h,"".concat(p),(s={},o()(s,"&-content",{marginInlineStart:"15px","& > div":{marginInlineStart:"0"}}),o()(s,"&-item-content",{display:"block",flex:"none",width:"100%"}),o()(s,"".concat(u,"-avatar > img"),{objectFit:"fill"}),o()(s,"".concat(u,"-card-head"),{borderBottom:"none"}),o()(s,"".concat(u,"-card-head-title"),{padding:"24px 0",lineHeight:"32px"}),o()(s,"".concat(u,"-card-extra"),{padding:"24px 0"}),o()(s,"".concat(u,"-list-pagination"),{marginTop:"24px"}),o()(s,"".concat(u,"-avatar-lg"),{width:"48px",height:"48px",lineHeight:"48px"}),o()(s,"".concat(u,"-list-item-action"),{marginInlineStart:"15px"}),o()(s,"".concat(u,"-pro-list ").concat(u,"-pro-list-row-content"),{flex:0,margin:"0"}),o()(s,"".concat(u,"-pro-list ").concat(u,"-pro-list-row"),{paddingLeft:"10px",paddingRight:"10px"}),s)),o()(h,"@media  (max-width: ".concat(g.screenXS,"px)"),o()({},"".concat(p),(E={},o()(E,"&-content",{marginInlineStart:"0","& > div":{marginInlineStart:"0"}}),o()(E,"&-item-content",{display:"block",flex:"none",width:"100%"}),E))),o()(h,"@media  (max-width: ".concat(g.screenSM,"px)"),o()({},"".concat(p),{})),o()(h,"@media  (max-width: ".concat(g.screenMD,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),o()(h,"@media  (max-width: ".concat(g.screenLG,"px) and @media (min-width: ").concat(g.screenMD,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{display:"block","&:last-child":{top:"0",width:"100%"}}}))),o()(h,"@media  (max-width: ".concat(g.screenXL,"px)"),o()({},"".concat(p),o()({},"&-content",{"& > div":{marginInlineStart:"24px","&:last-child":{top:"0"}}}))),o()(h,"@media  (max-width: 1400px)",o()({},"".concat(p),o()({},"&-content",{"& > div":{"&:last-child":{top:"0"}}}))),h});return{className:B}}var ou=t(68591),V=t.n(ou),ue=t(30708),W="identity-source-list",cu=se.Z.Paragraph,Ce=function(a){var n=a.category,u=(0,R.useRef)(),p=(0,R.useState)(),B=L()(p,2),c=B[0],s=B[1],E=(0,R.useState)(!1),h=L()(E,2),g=h[0],w=h[1],I=(0,R.useState)(!1),j=L()(I,2),k=j[0],$=j[1],O=function(){var m=x()(l()().mark(function P(i){var C,A,Z,d,b,K;return l()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,Se(i);case 3:if(C=D.sent,A=C.success,Z=C.result,!(Z&&A)){D.next=18;break}if(!(Z.id&&Re.includes(Z.type))){D.next=14;break}return D.next=10,te(Z.id);case 10:b=D.sent,b.success&&b.result&&(K=Te.Z.success({title:"\u6DFB\u52A0\u6210\u529F",content:(0,e.jsxs)(e.Fragment,{children:["\u8BF7\u524D\u5F80\u63D0\u4F9B\u5546\u5F00\u53D1\u540E\u53F0\u914D\u7F6E\u56DE\u8C03\u5730\u5740\uFF1A",(0,e.jsx)(cu,{copyable:{text:b.result.redirectUri},children:(0,e.jsx)("a",{href:"javascript:void(0);",children:b.result.redirectUri})})]}),okText:"\u786E\u8BA4",onOk:function(){K.destroy()}})),D.next=15;break;case 14:N.ZP.success("\u6DFB\u52A0\u6210\u529F");case 15:return w(!1),(d=u.current)===null||d===void 0||d.reload(),D.abrupt("return",!0);case 18:return D.abrupt("return",!1);case 21:return D.prev=21,D.t0=D.catch(0),D.abrupt("return",!1);case 24:case"end":return D.stop()}},P,null,[[0,21]])}));return function(i){return m.apply(this,arguments)}}(),S=function(){var m=x()(l()().mark(function P(i){var C,A;return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.prev=0,d.next=3,je(T()({},i));case 3:if(C=d.sent,!(C!=null&&C.result&&C!==null&&C!==void 0&&C.success)){d.next=9;break}return N.ZP.success("\u64CD\u4F5C\u6210\u529F").then(),$(!1),(A=u.current)===null||A===void 0||A.reload(),d.abrupt("return",!0);case 9:return d.abrupt("return",!1);case 12:return d.prev=12,d.t0=d.catch(0),d.abrupt("return",!1);case 15:case"end":return d.stop()}},P,null,[[0,12]])}));return function(i){return m.apply(this,arguments)}}(),U=function(P){return(0,e.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"},children:(0,e.jsx)("div",{className:V()("".concat(W,"-content")),children:(0,e.jsx)("div",{className:V()("".concat(W,"-item-content")),children:P.enabled?(0,e.jsx)(ie.Z,{color:"#5BD8A6",children:"\u5DF2\u5F00\u542F"}):(0,e.jsx)(ie.Z,{color:"#e54545",children:"\u672A\u542F\u7528"})})})})};return(0,e.jsxs)("div",{className:V()("".concat(W)),children:[(0,e.jsx)(we.Rs,{actionRef:u,rowKey:"id",split:!0,pagination:{showQuickJumper:!1,defaultPageSize:5,size:"small"},showActions:"always",headerTitle:"\u63D0\u4F9B\u5546\u5217\u8868",toolBarRender:function(){return[(0,e.jsx)($e.ZP,{icon:(0,e.jsx)(Ze.Z,{}),type:"primary",onClick:function(){w(!0)},children:"\u6DFB\u52A0\u8BA4\u8BC1\u6E90"},"add")]},request:Be,params:{category:n},search:{},metas:{title:{dataIndex:"name",title:"\u8BA4\u8BC1\u6E90\u540D\u79F0",render:function(P,i){return(0,e.jsx)("span",{onClick:function(){$(!0),s(i.id)},children:i.name})}},avatar:{search:!1,render:function(P,i){return(0,e.jsx)(Le.C,{shape:"square",size:50,src:ye.Y[i.type]},i.id)}},description:{search:!1,render:function(P,i){return i.remark?(0,e.jsx)("span",{children:i.remark}):(0,e.jsx)("span",{children:i.desc})}},content:{search:!1,render:function(P,i){return[(0,e.jsx)(U,T()({},i),"context")]}},actions:{render:function(P,i){return[i.enabled?(0,e.jsx)(ee.Z,{title:"\u60A8\u662F\u5426\u8981\u7981\u7528\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{style:{color:"red"}}),onConfirm:x()(l()().mark(function C(){var A,Z,d,b;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,De(i.id);case 2:if(A=f.sent,Z=A.success,d=A.result,!(Z&&d)){f.next=9;break}return N.ZP.success("\u64CD\u4F5C\u6210\u529F"),(b=u.current)===null||b===void 0||b.reload(),f.abrupt("return");case 9:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u7981\u7528"},"disabled")},"disabled"):(0,e.jsx)(ee.Z,{title:"\u60A8\u662F\u5426\u8981\u542F\u7528\u8EAB\u4EFD\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{}),onConfirm:x()(l()().mark(function C(){var A,Z,d,b;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,be(i.id);case 2:if(A=f.sent,Z=A.success,d=A.result,!(Z&&d)){f.next=9;break}return N.ZP.success("\u64CD\u4F5C\u6210\u529F"),(b=u.current)===null||b===void 0||b.reload(),f.abrupt("return");case 9:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{children:"\u542F\u7528"},"enabled")},"disabled"),(0,e.jsx)("a",{onClick:function(){s(i.id),$(!0)},children:"\u914D\u7F6E"},"config"),(0,e.jsx)(ee.Z,{title:"\u60A8\u786E\u5B9A\u8981\u5220\u9664\u8BA4\u8BC1\u6E90\u5417\uFF1F",placement:"bottomRight",icon:(0,e.jsx)(_.Z,{style:{color:"red"}}),onConfirm:x()(l()().mark(function C(){var A,Z,d,b;return l()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Pe(i.id);case 2:if(A=f.sent,Z=A.success,d=A.result,!(Z&&d)){f.next=10;break}return N.ZP.success("\u64CD\u4F5C\u6210\u529F"),f.next=9,(b=u.current)===null||b===void 0?void 0:b.reload();case 9:return f.abrupt("return");case 10:case"end":return f.stop()}},C)})),okText:"\u662F",cancelText:"\u5426",children:(0,e.jsx)("a",{target:"_blank",style:{color:"red"},children:"\u5220\u9664"},"remove")},"delete")]}}}}),(0,e.jsx)(eu,{category:n,visible:g,onCancel:function(){w(!1)},onFinish:O}),c&&(0,e.jsx)(au,{visible:k,id:c,onFinish:S,onCancel:function(){$(!1)}})]})},du=function(){var a=(0,q.useLocation)(),n=(0,R.useState)(),u=L()(n,2),p=u[0],B=u[1],c=ue.Z.parse(a.search),s=c,E=s.tab,h=lu(W),g=h.className;return(0,ke.Z)(x()(l()().mark(function w(){return l()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!E||!(E.toUpperCase()in y))){j.next=4;break}return B(y.social),ne.m.push({pathname:a.pathname,search:ue.Z.stringify({tab:y.social})}),j.abrupt("return");case 4:B(E);case 5:case"end":return j.stop()}},w)}))),(0,e.jsx)("div",{className:g,children:(0,e.jsxs)(Ie._z,{content:"\u652F\u6301\u8BBE\u7F6E\u591A\u79CD\u8BA4\u8BC1\u6E90\uFF0C\u4F01\u4E1A\u7528\u6237\u5373\u53EF\u901A\u8FC7\u4E0D\u540C\u65B9\u5F0F\u767B\u5F55\u95E8\u6237\u3002\u7CFB\u7EDF\u9ED8\u8BA4\u7684\u8BA4\u8BC1\u6E90\u4E3A\u7528\u6237\u5BC6\u7801\u548C\u77ED\u4FE1\u5FEB\u6377\u8BA4\u8BC1\uFF0C\u60A8\u8FD8\u53EF\u6DFB\u52A0\u9489\u9489\u626B\u7801\u3001\u5FAE\u4FE1\u626B\u7801\u3001\u4F01\u4E1A\u5FAE\u4FE1\u3001LDAP\u548CCAS\u534F\u8BAE\u8BA4\u8BC1\u6E90\u4F5C\u4E3A\u8BA4\u8BC1\u6E90\u3002",tabActiveKey:p,onTabChange:function(I){B(I),ne.m.replace({pathname:a.pathname,search:ue.Z.stringify({tab:I})})},tabProps:{size:"small"},className:V()("".concat(W)),tabList:[{tab:"\u793E\u4EA4\u8BA4\u8BC1\u6E90",key:y.social},{tab:"\u4F01\u4E1A\u8BA4\u8BC1\u6E90",key:y.enterprise}],children:[y.social===p&&(0,e.jsx)(Ce,{category:y.social}),y.enterprise===p&&(0,e.jsx)(Ce,{category:y.enterprise})]})})},pu=du,fu=pu}}]);
