/*
 * eiam-console - Employee Identity and Access Management Program
 * Copyright Â© 2020-2023 TopIAM (support@topiam.cn)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
(self.webpackChunktopiam_console=self.webpackChunktopiam_console||[]).push([[97],{95742:function(Ce){"use strict";(function(z,F){Ce.exports=F()})(this,function(){function z($){var et=[];return $.AMapUI&&et.push(F($.AMapUI)),$.Loca&&et.push(nt($.Loca)),Promise.all(et)}function F($){return new Promise(function(et,bt){var At=[];if($.plugins)for(var Ft=0;Ft<$.plugins.length;Ft+=1)Bt.AMapUI.plugins.indexOf($.plugins[Ft])==-1&&At.push($.plugins[Ft]);if(K.AMapUI===V.failed)bt("\u524D\u6B21\u8BF7\u6C42 AMapUI \u5931\u8D25");else if(K.AMapUI===V.notload){K.AMapUI=V.loading,Bt.AMapUI.version=$.version||Bt.AMapUI.version,Ft=Bt.AMapUI.version;var Lt=document.body||document.head,Tt=document.createElement("script");Tt.type="text/javascript",Tt.src="https://webapi.amap.com/ui/"+Ft+"/main.js",Tt.onerror=function(ct){K.AMapUI=V.failed,bt("\u8BF7\u6C42 AMapUI \u5931\u8D25")},Tt.onload=function(){if(K.AMapUI=V.loaded,At.length)window.AMapUI.loadUI(At,function(){for(var ct=0,St=At.length;ct<St;ct++){var Ut=At[ct].split("/").slice(-1)[0];window.AMapUI[Ut]=arguments[ct]}for(et();U.AMapUI.length;)U.AMapUI.splice(0,1)[0]()});else for(et();U.AMapUI.length;)U.AMapUI.splice(0,1)[0]()},Lt.appendChild(Tt)}else K.AMapUI===V.loaded?$.version&&$.version!==Bt.AMapUI.version?bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):At.length?window.AMapUI.loadUI(At,function(){for(var ct=0,St=At.length;ct<St;ct++){var Ut=At[ct].split("/").slice(-1)[0];window.AMapUI[Ut]=arguments[ct]}et()}):et():$.version&&$.version!==Bt.AMapUI.version?bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C AMapUI \u6DF7\u7528"):U.AMapUI.push(function(ct){ct?bt(ct):At.length?window.AMapUI.loadUI(At,function(){for(var St=0,Ut=At.length;St<Ut;St++){var Dt=At[St].split("/").slice(-1)[0];window.AMapUI[Dt]=arguments[St]}et()}):et()})})}function nt($){return new Promise(function(et,bt){if(K.Loca===V.failed)bt("\u524D\u6B21\u8BF7\u6C42 Loca \u5931\u8D25");else if(K.Loca===V.notload){K.Loca=V.loading,Bt.Loca.version=$.version||Bt.Loca.version;var At=Bt.Loca.version,Ft=Bt.AMap.version.startsWith("2"),Lt=At.startsWith("2");if(Ft&&!Lt||!Ft&&Lt)bt("JSAPI \u4E0E Loca \u7248\u672C\u4E0D\u5BF9\u5E94\uFF01\uFF01");else{Ft=Bt.key,Lt=document.body||document.head;var Tt=document.createElement("script");Tt.type="text/javascript",Tt.src="https://webapi.amap.com/loca?v="+At+"&key="+Ft,Tt.onerror=function(ct){K.Loca=V.failed,bt("\u8BF7\u6C42 AMapUI \u5931\u8D25")},Tt.onload=function(){for(K.Loca=V.loaded,et();U.Loca.length;)U.Loca.splice(0,1)[0]()},Lt.appendChild(Tt)}}else K.Loca===V.loaded?$.version&&$.version!==Bt.Loca.version?bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):et():$.version&&$.version!==Bt.Loca.version?bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C Loca \u6DF7\u7528"):U.Loca.push(function(ct){ct?bt(ct):bt()})})}if(!window)throw Error("AMap JSAPI can only be used in Browser.");var V;(function($){$.notload="notload",$.loading="loading",$.loaded="loaded",$.failed="failed"})(V||(V={}));var Bt={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},K={AMap:V.notload,AMapUI:V.notload,Loca:V.notload},U={AMap:[],AMapUI:[],Loca:[]},X=[],W=function($){typeof $=="function"&&(K.AMap===V.loaded?$(window.AMap):X.push($))};return{load:function($){return new Promise(function(et,bt){if(K.AMap==V.failed)bt("");else if(K.AMap==V.notload){var At=$.key,Ft=$.version,Lt=$.plugins;At?(window.AMap&&location.host!=="lbs.amap.com"&&bt("\u7981\u6B62\u591A\u79CDAPI\u52A0\u8F7D\u65B9\u5F0F\u6DF7\u7528"),Bt.key=At,Bt.AMap.version=Ft||Bt.AMap.version,Bt.AMap.plugins=Lt||Bt.AMap.plugins,K.AMap=V.loading,Ft=document.body||document.head,window.___onAPILoaded=function(ct){if(delete window.___onAPILoaded,ct)K.AMap=V.failed,bt(ct);else for(K.AMap=V.loaded,z($).then(function(){et(window.AMap)}).catch(bt);X.length;)X.splice(0,1)[0]()},Lt=document.createElement("script"),Lt.type="text/javascript",Lt.src="https://webapi.amap.com/maps?callback=___onAPILoaded&v="+Bt.AMap.version+"&key="+At+"&plugin="+Bt.AMap.plugins.join(","),Lt.onerror=function(ct){K.AMap=V.failed,bt(ct)},Ft.appendChild(Lt)):bt("\u8BF7\u586B\u5199key")}else if(K.AMap==V.loaded)if($.key&&$.key!==Bt.key)bt("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if($.version&&$.version!==Bt.AMap.version)bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{if(At=[],$.plugins)for(Ft=0;Ft<$.plugins.length;Ft+=1)Bt.AMap.plugins.indexOf($.plugins[Ft])==-1&&At.push($.plugins[Ft]);At.length?window.AMap.plugin(At,function(){z($).then(function(){et(window.AMap)}).catch(bt)}):z($).then(function(){et(window.AMap)}).catch(bt)}else if($.key&&$.key!==Bt.key)bt("\u591A\u4E2A\u4E0D\u4E00\u81F4\u7684 key");else if($.version&&$.version!==Bt.AMap.version)bt("\u4E0D\u5141\u8BB8\u591A\u4E2A\u7248\u672C JSAPI \u6DF7\u7528");else{var Tt=[];if($.plugins)for(Ft=0;Ft<$.plugins.length;Ft+=1)Bt.AMap.plugins.indexOf($.plugins[Ft])==-1&&Tt.push($.plugins[Ft]);W(function(){Tt.length?window.AMap.plugin(Tt,function(){z($).then(function(){et(window.AMap)}).catch(bt)}):z($).then(function(){et(window.AMap)}).catch(bt)})}})},reset:function(){delete window.AMap,delete window.AMapUI,delete window.Loca,Bt={key:"",AMap:{version:"1.4.15",plugins:[]},AMapUI:{version:"1.1",plugins:[]},Loca:{version:"1.3.2"}},K={AMap:V.notload,AMapUI:V.notload,Loca:V.notload},U={AMap:[],AMapUI:[],Loca:[]}}}})},16228:function(Ce,z,F){"use strict";var nt=F(86855),V=F(79685),Bt=F(53353),K=F(20165),U=function(W,$){return V.createElement(K.Z,(0,nt.Z)((0,nt.Z)({},W),{},{ref:$,icon:Bt.Z}))};U.displayName="SafetyCertificateOutlined",z.Z=V.forwardRef(U)},42090:function(Ce,z){"use strict";var F="*",nt=function(){function V(){this._events={}}return V.prototype.on=function(Bt,K,U){return this._events[Bt]||(this._events[Bt]=[]),this._events[Bt].push({callback:K,once:!!U}),this},V.prototype.once=function(Bt,K){return this.on(Bt,K,!0)},V.prototype.emit=function(Bt){for(var K=this,U=[],X=1;X<arguments.length;X++)U[X-1]=arguments[X];var W=this._events[Bt]||[],$=this._events[F]||[],et=function(bt){for(var At=bt.length,Ft=0;Ft<At;Ft++)if(bt[Ft]){var Lt=bt[Ft],Tt=Lt.callback,ct=Lt.once;ct&&(bt.splice(Ft,1),bt.length===0&&delete K._events[Bt],At--,Ft--),Tt.apply(K,U)}};et(W),et($)},V.prototype.off=function(Bt,K){if(!Bt)this._events={};else if(!K)delete this._events[Bt];else{for(var U=this._events[Bt]||[],X=U.length,W=0;W<X;W++)U[W].callback===K&&(U.splice(W,1),X--,W--);U.length===0&&delete this._events[Bt]}return this},V.prototype.getEvents=function(){return this._events},V}();z.Z=nt},53079:function(Ce,z,F){"use strict";var nt=F(29268),V=F(42090),Bt=F(91220),K=function(U){(0,nt.ZT)(X,U);function X(W){var $=U.call(this)||this;$.destroyed=!1;var et=$.getDefaultCfg();return $.cfg=(0,Bt.CD)(et,W),$}return X.prototype.getDefaultCfg=function(){return{}},X.prototype.get=function(W){return this.cfg[W]},X.prototype.set=function(W,$){this.cfg[W]=$},X.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},X}(V.Z);z.Z=K},57895:function(Ce,z,F){"use strict";F.d(z,{Z:function(){return hn}});var nt=F(29268),V=F(74348),Bt=F(51030),K=F(91220),U=F(22374),X=0,W=0,$=0,et=1e3,bt,At,Ft=0,Lt=0,Tt=0,ct=typeof performance=="object"&&performance.now?performance:Date,St=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Xt){setTimeout(Xt,17)};function Ut(){return Lt||(St(Dt),Lt=ct.now()+Tt)}function Dt(){Lt=0}function It(){this._call=this._time=this._next=null}It.prototype=mt.prototype={constructor:It,restart:function(Xt,at,Wt){if(typeof Xt!="function")throw new TypeError("callback is not a function");Wt=(Wt==null?Ut():+Wt)+(at==null?0:+at),!this._next&&At!==this&&(At?At._next=this:bt=this,At=this),this._call=Xt,this._time=Wt,$t()},stop:function(){this._call&&(this._call=null,this._time=1/0,$t())}};function mt(Xt,at,Wt){var ae=new It;return ae.restart(Xt,at,Wt),ae}function vt(){Ut(),++X;for(var Xt=bt,at;Xt;)(at=Lt-Xt._time)>=0&&Xt._call.call(null,at),Xt=Xt._next;--X}function kt(){Lt=(Ft=ct.now())+Tt,X=W=0;try{vt()}finally{X=0,gt(),Lt=0}}function Mt(){var Xt=ct.now(),at=Xt-Ft;at>et&&(Tt-=at,Ft=Xt)}function gt(){for(var Xt,at=bt,Wt,ae=1/0;at;)at._call?(ae>at._time&&(ae=at._time),Xt=at,at=at._next):(Wt=at._next,at._next=null,at=Xt?Xt._next=Wt:bt=Wt);At=Xt,$t(ae)}function $t(Xt){if(!X){W&&(W=clearTimeout(W));var at=Xt-Lt;at>24?(Xt<1/0&&(W=setTimeout(kt,Xt-ct.now()-Tt)),$&&($=clearInterval($))):($||(Ft=ct.now(),$=setInterval(Mt,et)),X=1,St(kt))}}var Ht=F(4620);function S(Xt,at,Wt){Xt.prototype=at.prototype=Wt,Wt.constructor=Xt}function H(Xt,at){var Wt=Object.create(Xt.prototype);for(var ae in at)Wt[ae]=at[ae];return Wt}function B(){}var tt=.7,k=1/tt,T="\\s*([+-]?\\d+)\\s*",_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",w="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",G=/^#([0-9a-f]{3,8})$/,it=new RegExp("^rgb\\(".concat(T,",").concat(T,",").concat(T,"\\)$")),_t=new RegExp("^rgb\\(".concat(w,",").concat(w,",").concat(w,"\\)$")),Yt=new RegExp("^rgba\\(".concat(T,",").concat(T,",").concat(T,",").concat(_,"\\)$")),D=new RegExp("^rgba\\(".concat(w,",").concat(w,",").concat(w,",").concat(_,"\\)$")),ht=new RegExp("^hsl\\(".concat(_,",").concat(w,",").concat(w,"\\)$")),Et=new RegExp("^hsla\\(".concat(_,",").concat(w,",").concat(w,",").concat(_,"\\)$")),lt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};S(B,P,{copy:function(at){return Object.assign(new this.constructor,this,at)},displayable:function(){return this.rgb().displayable()},hex:jt,formatHex:jt,formatHex8:Kt,formatHsl:ot,formatRgb:pt,toString:pt});function jt(){return this.rgb().formatHex()}function Kt(){return this.rgb().formatHex8()}function ot(){return L(this).formatHsl()}function pt(){return this.rgb().formatRgb()}function P(Xt){var at,Wt;return Xt=(Xt+"").trim().toLowerCase(),(at=G.exec(Xt))?(Wt=at[1].length,at=parseInt(at[1],16),Wt===6?rt(at):Wt===3?new qt(at>>8&15|at>>4&240,at>>4&15|at&240,(at&15)<<4|at&15,1):Wt===8?Q(at>>24&255,at>>16&255,at>>8&255,(at&255)/255):Wt===4?Q(at>>12&15|at>>8&240,at>>8&15|at>>4&240,at>>4&15|at&240,((at&15)<<4|at&15)/255):null):(at=it.exec(Xt))?new qt(at[1],at[2],at[3],1):(at=_t.exec(Xt))?new qt(at[1]*255/100,at[2]*255/100,at[3]*255/100,1):(at=Yt.exec(Xt))?Q(at[1],at[2],at[3],at[4]):(at=D.exec(Xt))?Q(at[1]*255/100,at[2]*255/100,at[3]*255/100,at[4]):(at=ht.exec(Xt))?j(at[1],at[2]/100,at[3]/100,1):(at=Et.exec(Xt))?j(at[1],at[2]/100,at[3]/100,at[4]):lt.hasOwnProperty(Xt)?rt(lt[Xt]):Xt==="transparent"?new qt(NaN,NaN,NaN,0):null}function rt(Xt){return new qt(Xt>>16&255,Xt>>8&255,Xt&255,1)}function Q(Xt,at,Wt,ae){return ae<=0&&(Xt=at=Wt=NaN),new qt(Xt,at,Wt,ae)}function xt(Xt){return Xt instanceof B||(Xt=P(Xt)),Xt?(Xt=Xt.rgb(),new qt(Xt.r,Xt.g,Xt.b,Xt.opacity)):new qt}function dt(Xt,at,Wt,ae){return arguments.length===1?xt(Xt):new qt(Xt,at,Wt,ae==null?1:ae)}function qt(Xt,at,Wt,ae){this.r=+Xt,this.g=+at,this.b=+Wt,this.opacity=+ae}S(qt,dt,H(B,{brighter:function(at){return at=at==null?k:Math.pow(k,at),new qt(this.r*at,this.g*at,this.b*at,this.opacity)},darker:function(at){return at=at==null?tt:Math.pow(tt,at),new qt(this.r*at,this.g*at,this.b*at,this.opacity)},rgb:function(){return this},clamp:function(){return new qt(O(this.r),O(this.g),O(this.b),b(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ot,formatHex:Ot,formatHex8:Rt,formatRgb:ut,toString:ut}));function Ot(){return"#".concat(I(this.r)).concat(I(this.g)).concat(I(this.b))}function Rt(){return"#".concat(I(this.r)).concat(I(this.g)).concat(I(this.b)).concat(I((isNaN(this.opacity)?1:this.opacity)*255))}function ut(){var Xt=b(this.opacity);return"".concat(Xt===1?"rgb(":"rgba(").concat(O(this.r),", ").concat(O(this.g),", ").concat(O(this.b)).concat(Xt===1?")":", ".concat(Xt,")"))}function b(Xt){return isNaN(Xt)?1:Math.max(0,Math.min(1,Xt))}function O(Xt){return Math.max(0,Math.min(255,Math.round(Xt)||0))}function I(Xt){return Xt=O(Xt),(Xt<16?"0":"")+Xt.toString(16)}function j(Xt,at,Wt,ae){return ae<=0?Xt=at=Wt=NaN:Wt<=0||Wt>=1?Xt=at=NaN:at<=0&&(Xt=NaN),new q(Xt,at,Wt,ae)}function L(Xt){if(Xt instanceof q)return new q(Xt.h,Xt.s,Xt.l,Xt.opacity);if(Xt instanceof B||(Xt=P(Xt)),!Xt)return new q;if(Xt instanceof q)return Xt;Xt=Xt.rgb();var at=Xt.r/255,Wt=Xt.g/255,ae=Xt.b/255,me=Math.min(at,Wt,ae),we=Math.max(at,Wt,ae),Be=NaN,Le=we-me,ir=(we+me)/2;return Le?(at===we?Be=(Wt-ae)/Le+(Wt<ae)*6:Wt===we?Be=(ae-at)/Le+2:Be=(at-Wt)/Le+4,Le/=ir<.5?we+me:2-we-me,Be*=60):Le=ir>0&&ir<1?0:Be,new q(Be,Le,ir,Xt.opacity)}function R(Xt,at,Wt,ae){return arguments.length===1?L(Xt):new q(Xt,at,Wt,ae==null?1:ae)}function q(Xt,at,Wt,ae){this.h=+Xt,this.s=+at,this.l=+Wt,this.opacity=+ae}S(q,R,H(B,{brighter:function(at){return at=at==null?k:Math.pow(k,at),new q(this.h,this.s,this.l*at,this.opacity)},darker:function(at){return at=at==null?tt:Math.pow(tt,at),new q(this.h,this.s,this.l*at,this.opacity)},rgb:function(){var at=this.h%360+(this.h<0)*360,Wt=isNaN(at)||isNaN(this.s)?0:this.s,ae=this.l,me=ae+(ae<.5?ae:1-ae)*Wt,we=2*ae-me;return new qt(Nt(at>=240?at-240:at+120,we,me),Nt(at,we,me),Nt(at<120?at+240:at-120,we,me),this.opacity)},clamp:function(){return new q(N(this.h),yt(this.s),yt(this.l),b(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var at=b(this.opacity);return"".concat(at===1?"hsl(":"hsla(").concat(N(this.h),", ").concat(yt(this.s)*100,"%, ").concat(yt(this.l)*100,"%").concat(at===1?")":", ".concat(at,")"))}}));function N(Xt){return Xt=(Xt||0)%360,Xt<0?Xt+360:Xt}function yt(Xt){return Math.max(0,Math.min(1,Xt||0))}function Nt(Xt,at,Wt){return(Xt<60?at+(Wt-at)*Xt/60:Xt<180?Wt:Xt<240?at+(Wt-at)*(240-Xt)/60:at)*255}function Vt(Xt,at,Wt,ae,me){var we=Xt*Xt,Be=we*Xt;return((1-3*Xt+3*we-Be)*at+(4-6*we+3*Be)*Wt+(1+3*Xt+3*we-3*Be)*ae+Be*me)/6}function te(Xt){var at=Xt.length-1;return function(Wt){var ae=Wt<=0?Wt=0:Wt>=1?(Wt=1,at-1):Math.floor(Wt*at),me=Xt[ae],we=Xt[ae+1],Be=ae>0?Xt[ae-1]:2*me-we,Le=ae<at-1?Xt[ae+2]:2*we-me;return Vt((Wt-ae/at)*at,Be,me,we,Le)}}function ee(Xt){var at=Xt.length;return function(Wt){var ae=Math.floor(((Wt%=1)<0?++Wt:Wt)*at),me=Xt[(ae+at-1)%at],we=Xt[ae%at],Be=Xt[(ae+1)%at],Le=Xt[(ae+2)%at];return Vt((Wt-ae/at)*at,me,we,Be,Le)}}var ue=function(Xt){return function(){return Xt}};function se(Xt,at){return function(Wt){return Xt+Wt*at}}function fe(Xt,at,Wt){return Xt=Math.pow(Xt,Wt),at=Math.pow(at,Wt)-Xt,Wt=1/Wt,function(ae){return Math.pow(Xt+ae*at,Wt)}}function Ae(Xt,at){var Wt=at-Xt;return Wt?se(Xt,Wt>180||Wt<-180?Wt-360*Math.round(Wt/360):Wt):constant(isNaN(Xt)?at:Xt)}function Ee(Xt){return(Xt=+Xt)==1?Ie:function(at,Wt){return Wt-at?fe(at,Wt,Xt):ue(isNaN(at)?Wt:at)}}function Ie(Xt,at){var Wt=at-Xt;return Wt?se(Xt,Wt):ue(isNaN(Xt)?at:Xt)}var ke=function Xt(at){var Wt=Ee(at);function ae(me,we){var Be=Wt((me=dt(me)).r,(we=dt(we)).r),Le=Wt(me.g,we.g),ir=Wt(me.b,we.b),Or=Ie(me.opacity,we.opacity);return function(sn){return me.r=Be(sn),me.g=Le(sn),me.b=ir(sn),me.opacity=Or(sn),me+""}}return ae.gamma=Xt,ae}(1);function je(Xt){return function(at){var Wt=at.length,ae=new Array(Wt),me=new Array(Wt),we=new Array(Wt),Be,Le;for(Be=0;Be<Wt;++Be)Le=dt(at[Be]),ae[Be]=Le.r||0,me[Be]=Le.g||0,we[Be]=Le.b||0;return ae=Xt(ae),me=Xt(me),we=Xt(we),Le.opacity=1,function(ir){return Le.r=ae(ir),Le.g=me(ir),Le.b=we(ir),Le+""}}}var Oe=je(te),$e=je(ee);function Ke(Xt,at){at||(at=[]);var Wt=Xt?Math.min(at.length,Xt.length):0,ae=at.slice(),me;return function(we){for(me=0;me<Wt;++me)ae[me]=Xt[me]*(1-we)+at[me]*we;return ae}}function Ye(Xt){return ArrayBuffer.isView(Xt)&&!(Xt instanceof DataView)}function er(Xt,at){return(Ye(at)?Ke:sr)(Xt,at)}function sr(Xt,at){var Wt=at?at.length:0,ae=Xt?Math.min(Wt,Xt.length):0,me=new Array(ae),we=new Array(Wt),Be;for(Be=0;Be<ae;++Be)me[Be]=bn(Xt[Be],at[Be]);for(;Be<Wt;++Be)we[Be]=at[Be];return function(Le){for(Be=0;Be<ae;++Be)we[Be]=me[Be](Le);return we}}function cr(Xt,at){var Wt=new Date;return Xt=+Xt,at=+at,function(ae){return Wt.setTime(Xt*(1-ae)+at*ae),Wt}}function Lr(Xt,at){return Xt=+Xt,at=+at,function(Wt){return Xt*(1-Wt)+at*Wt}}function en(Xt,at){var Wt={},ae={},me;(Xt===null||Ht(Xt)!=="object")&&(Xt={}),(at===null||Ht(at)!=="object")&&(at={});for(me in at)me in Xt?Wt[me]=bn(Xt[me],at[me]):ae[me]=at[me];return function(we){for(me in Wt)ae[me]=Wt[me](we);return ae}}var Yr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nn=new RegExp(Yr.source,"g");function Li(Xt){return function(){return Xt}}function Ii(Xt){return function(at){return Xt(at)+""}}function pa(Xt,at){var Wt=Yr.lastIndex=Nn.lastIndex=0,ae,me,we,Be=-1,Le=[],ir=[];for(Xt=Xt+"",at=at+"";(ae=Yr.exec(Xt))&&(me=Nn.exec(at));)(we=me.index)>Wt&&(we=at.slice(Wt,we),Le[Be]?Le[Be]+=we:Le[++Be]=we),(ae=ae[0])===(me=me[0])?Le[Be]?Le[Be]+=me:Le[++Be]=me:(Le[++Be]=null,ir.push({i:Be,x:Lr(ae,me)})),Wt=Nn.lastIndex;return Wt<at.length&&(we=at.slice(Wt),Le[Be]?Le[Be]+=we:Le[++Be]=we),Le.length<2?ir[0]?Ii(ir[0].x):Li(at):(at=ir.length,function(Or){for(var sn=0,mn;sn<at;++sn)Le[(mn=ir[sn]).i]=mn.x(Or);return Le.join("")})}function bn(Xt,at){var Wt=Ht(at),ae;return at==null||Wt==="boolean"?ue(at):(Wt==="number"?Lr:Wt==="string"?(ae=P(at))?(at=ae,ke):pa:at instanceof P?ke:at instanceof Date?cr:Ye(at)?Ke:Array.isArray(at)?sr:typeof at.valueOf!="function"&&typeof at.toString!="function"||isNaN(at)?en:Lr)(Xt,at)}var jn=F(97338),An=F(63007),Zn=function(Xt){return["fill","stroke","fillStyle","strokeStyle"].includes(Xt)},Pi=function(Xt){return/^[r,R,L,l]{1}[\s]*\(/.test(Xt)},vi=[1,0,0,0,1,0,0,0,1];function Na(Xt,at,Wt){var ae={},me=at.fromAttrs,we=at.toAttrs;if(!Xt.destroyed){var Be;for(var Le in we)if(!(0,U.Xy)(me[Le],we[Le]))if(Le==="path"){var ir=we[Le],Or=me[Le];ir.length>Or.length?(ir=An.parsePathString(we[Le]),Or=An.parsePathString(me[Le]),Or=An.fillPathByDiff(Or,ir),Or=An.formatPath(Or,ir),at.fromAttrs.path=Or,at.toAttrs.path=ir):at.pathFormatted||(ir=An.parsePathString(we[Le]),Or=An.parsePathString(me[Le]),Or=An.formatPath(Or,ir),at.fromAttrs.path=Or,at.toAttrs.path=ir,at.pathFormatted=!0),ae[Le]=[];for(var sn=0;sn<ir.length;sn++){for(var mn=ir[sn],Wn=Or[sn],Qr=[],_r=0;_r<mn.length;_r++)(0,U.hj)(mn[_r])&&Wn&&(0,U.hj)(Wn[_r])?(Be=bn(Wn[_r],mn[_r]),Qr.push(Be(Wt))):Qr.push(mn[_r]);ae[Le].push(Qr)}}else if(Le==="matrix"){var Ko=er(me[Le]||vi,we[Le]||vi),Za=Ko(Wt);ae[Le]=Za}else Zn(Le)&&Pi(we[Le])?ae[Le]=we[Le]:(0,U.mf)(we[Le])||(Be=bn(me[Le],we[Le]),ae[Le]=Be(Wt));Xt.attr(ae)}}function ta(Xt,at,Wt){var ae=at.startTime,me=at.delay;if(Wt<ae+me||at._paused)return!1;var we,Be=at.duration,Le=at.easing,ir=(0,jn._)(Le);if(Wt=Wt-ae-at.delay,at.repeat)we=Wt%Be/Be,we=ir(we);else if(we=Wt/Be,we<1)we=ir(we);else return at.onFrame?Xt.attr(at.onFrame(1)):Xt.attr(at.toAttrs),!0;if(at.onFrame){var Or=at.onFrame(we);Xt.attr(Or)}else Na(Xt,at,we);return!1}var ho=function(){function Xt(at){this.animators=[],this.current=0,this.timer=null,this.canvas=at}return Xt.prototype.initTimer=function(){var at=this,Wt=!1,ae,me,we;this.timer=mt(function(Be){if(at.current=Be,at.animators.length>0){for(var Le=at.animators.length-1;Le>=0;Le--){if(ae=at.animators[Le],ae.destroyed){at.removeAnimator(Le);continue}if(!ae.isAnimatePaused()){me=ae.get("animations");for(var ir=me.length-1;ir>=0;ir--)we=me[ir],Wt=ta(ae,we,Be),Wt&&(me.splice(ir,1),Wt=!1,we.callback&&we.callback())}me.length===0&&at.removeAnimator(Le)}var Or=at.canvas.get("autoDraw");Or||at.canvas.draw()}})},Xt.prototype.addAnimator=function(at){this.animators.push(at)},Xt.prototype.removeAnimator=function(at){this.animators.splice(at,1)},Xt.prototype.isAnimating=function(){return!!this.animators.length},Xt.prototype.stop=function(){this.timer&&this.timer.stop()},Xt.prototype.stopAllAnimations=function(at){at===void 0&&(at=!0),this.animators.forEach(function(Wt){Wt.stopAnimate(at)}),this.animators=[],this.canvas.draw()},Xt.prototype.getTime=function(){return this.current},Xt}(),da=ho,vo=F(83302),ga=40,Ri=0,Di=":",Qn=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function x(Xt,at){for(var Wt in Xt)if(Xt.hasOwnProperty(Wt)&&Wt.indexOf(Di+at)>=0)return!0;return!1}function d(Xt,at,Wt){Wt.name=at,Wt.target=Xt,Wt.currentTarget=Xt,Wt.delegateTarget=Xt,Xt.emit(at,Wt)}function zr(Xt,at,Wt){if(Wt.bubbles){var ae=void 0,me=!1;if(at==="mouseenter"?(ae=Wt.fromShape,me=!0):at==="mouseleave"&&(me=!0,ae=Wt.toShape),Xt.isCanvas()&&me)return;if(ae&&(0,K.UY)(Xt,ae)){Wt.bubbles=!1;return}Wt.name=at,Wt.currentTarget=Xt,Wt.delegateTarget=Xt,Xt.emit(at,Wt)}}var Pe=function(){function Xt(at){var Wt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(ae){var me=ae.type;Wt._triggerEvent(me,ae)},this._onDocumentMove=function(ae){var me=Wt.canvas,we=me.get("el");if(we!==ae.target&&(Wt.dragging||Wt.currentShape)){var Be=Wt._getPointInfo(ae);Wt.dragging&&Wt._emitEvent("drag",ae,Be,Wt.draggingShape)}},this._onDocumentMouseUp=function(ae){var me=Wt.canvas,we=me.get("el");if(we!==ae.target&&Wt.dragging){var Be=Wt._getPointInfo(ae);Wt.draggingShape&&Wt._emitEvent("drop",ae,Be,null),Wt._emitEvent("dragend",ae,Be,Wt.draggingShape),Wt._afterDrag(Wt.draggingShape,Be,ae)}},this.canvas=at.canvas}return Xt.prototype.init=function(){this._bindEvents()},Xt.prototype._bindEvents=function(){var at=this,Wt=this.canvas.get("el");(0,K.S6)(Qn,function(ae){Wt.addEventListener(ae,at._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},Xt.prototype._clearEvents=function(){var at=this,Wt=this.canvas.get("el");(0,K.S6)(Qn,function(ae){Wt.removeEventListener(ae,at._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},Xt.prototype._getEventObj=function(at,Wt,ae,me,we,Be){var Le=new vo.Z(at,Wt);return Le.fromShape=we,Le.toShape=Be,Le.x=ae.x,Le.y=ae.y,Le.clientX=ae.clientX,Le.clientY=ae.clientY,Le.propagationPath.push(me),Le},Xt.prototype._getShape=function(at,Wt){return this.canvas.getShape(at.x,at.y,Wt)},Xt.prototype._getPointInfo=function(at){var Wt=this.canvas,ae=Wt.getClientByEvent(at),me=Wt.getPointByEvent(at);return{x:me.x,y:me.y,clientX:ae.x,clientY:ae.y}},Xt.prototype._triggerEvent=function(at,Wt){var ae=this._getPointInfo(Wt),me=this._getShape(ae,Wt),we=this["_on"+at],Be=!1;if(we)we.call(this,ae,me,Wt);else{var Le=this.currentShape;at==="mouseenter"||at==="dragenter"||at==="mouseover"?(this._emitEvent(at,Wt,ae,null,null,me),me&&this._emitEvent(at,Wt,ae,me,null,me),at==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",Wt,ae,null)):at==="mouseleave"||at==="dragleave"||at==="mouseout"?(Be=!0,Le&&this._emitEvent(at,Wt,ae,Le,Le,null),this._emitEvent(at,Wt,ae,null,Le,null),at==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",Wt,ae,null)):this._emitEvent(at,Wt,ae,me,null,null)}if(Be||(this.currentShape=me),me&&!me.get("destroyed")){var ir=this.canvas,Or=ir.get("el");Or.style.cursor=me.attr("cursor")||ir.get("cursor")}},Xt.prototype._onmousedown=function(at,Wt,ae){ae.button===Ri&&(this.mousedownShape=Wt,this.mousedownPoint=at,this.mousedownTimeStamp=ae.timeStamp),this._emitEvent("mousedown",ae,at,Wt,null,null)},Xt.prototype._emitMouseoverEvents=function(at,Wt,ae,me){var we=this.canvas.get("el");ae!==me&&(ae&&(this._emitEvent("mouseout",at,Wt,ae,ae,me),this._emitEvent("mouseleave",at,Wt,ae,ae,me),(!me||me.get("destroyed"))&&(we.style.cursor=this.canvas.get("cursor"))),me&&(this._emitEvent("mouseover",at,Wt,me,ae,me),this._emitEvent("mouseenter",at,Wt,me,ae,me)))},Xt.prototype._emitDragoverEvents=function(at,Wt,ae,me,we){me?(me!==ae&&(ae&&this._emitEvent("dragleave",at,Wt,ae,ae,me),this._emitEvent("dragenter",at,Wt,me,ae,me)),we||this._emitEvent("dragover",at,Wt,me)):ae&&this._emitEvent("dragleave",at,Wt,ae,ae,me),we&&this._emitEvent("dragover",at,Wt,me)},Xt.prototype._afterDrag=function(at,Wt,ae){at&&(at.set("capture",!0),this.draggingShape=null),this.dragging=!1;var me=this._getShape(Wt,ae);me!==at&&this._emitMouseoverEvents(ae,Wt,at,me),this.currentShape=me},Xt.prototype._onmouseup=function(at,Wt,ae){if(ae.button===Ri){var me=this.draggingShape;this.dragging?(me&&this._emitEvent("drop",ae,at,Wt),this._emitEvent("dragend",ae,at,me),this._afterDrag(me,at,ae)):(this._emitEvent("mouseup",ae,at,Wt),Wt===this.mousedownShape&&this._emitEvent("click",ae,at,Wt),this.mousedownShape=null,this.mousedownPoint=null)}},Xt.prototype._ondragover=function(at,Wt,ae){ae.preventDefault();var me=this.currentShape;this._emitDragoverEvents(ae,at,me,Wt,!0)},Xt.prototype._onmousemove=function(at,Wt,ae){var me=this.canvas,we=this.currentShape,Be=this.draggingShape;if(this.dragging)Be&&this._emitDragoverEvents(ae,at,we,Wt,!1),this._emitEvent("drag",ae,at,Be);else{var Le=this.mousedownPoint;if(Le){var ir=this.mousedownShape,Or=ae.timeStamp,sn=Or-this.mousedownTimeStamp,mn=Le.clientX-at.clientX,Wn=Le.clientY-at.clientY,Qr=mn*mn+Wn*Wn;sn>120||Qr>ga?ir&&ir.get("draggable")?(Be=this.mousedownShape,Be.set("capture",!1),this.draggingShape=Be,this.dragging=!0,this._emitEvent("dragstart",ae,at,Be),this.mousedownShape=null,this.mousedownPoint=null):!ir&&me.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",ae,at,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(ae,at,we,Wt),this._emitEvent("mousemove",ae,at,Wt)):(this._emitMouseoverEvents(ae,at,we,Wt),this._emitEvent("mousemove",ae,at,Wt))}else this._emitMouseoverEvents(ae,at,we,Wt),this._emitEvent("mousemove",ae,at,Wt)}},Xt.prototype._emitEvent=function(at,Wt,ae,me,we,Be){var Le=this._getEventObj(at,Wt,ae,me,we,Be);if(me){Le.shape=me,d(me,at,Le);for(var ir=me.getParent();ir;)ir.emitDelegation(at,Le),Le.propagationStopped||zr(ir,at,Le),Le.propagationPath.push(ir),ir=ir.getParent()}else{var Or=this.canvas;d(Or,at,Le)}},Xt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},Xt}(),Kr=Pe,zn="px",rr=(0,V.qY)(),yn=rr&&rr.name==="firefox",$r=function(Xt){(0,nt.ZT)(at,Xt);function at(Wt){var ae=Xt.call(this,Wt)||this;return ae.initContainer(),ae.initDom(),ae.initEvents(),ae.initTimeline(),ae}return at.prototype.getDefaultCfg=function(){var Wt=Xt.prototype.getDefaultCfg.call(this);return Wt.cursor="default",Wt.supportCSSTransform=!1,Wt},at.prototype.initContainer=function(){var Wt=this.get("container");(0,K.HD)(Wt)&&(Wt=document.getElementById(Wt),this.set("container",Wt))},at.prototype.initDom=function(){var Wt=this.createDom();this.set("el",Wt);var ae=this.get("container");ae.appendChild(Wt),this.setDOMSize(this.get("width"),this.get("height"))},at.prototype.initEvents=function(){var Wt=new Kr({canvas:this});Wt.init(),this.set("eventController",Wt)},at.prototype.initTimeline=function(){var Wt=new da(this);this.set("timeline",Wt)},at.prototype.setDOMSize=function(Wt,ae){var me=this.get("el");K.jU&&(me.style.width=Wt+zn,me.style.height=ae+zn)},at.prototype.changeSize=function(Wt,ae){this.setDOMSize(Wt,ae),this.set("width",Wt),this.set("height",ae),this.onCanvasChange("changeSize")},at.prototype.getRenderer=function(){return this.get("renderer")},at.prototype.getCursor=function(){return this.get("cursor")},at.prototype.setCursor=function(Wt){this.set("cursor",Wt);var ae=this.get("el");K.jU&&ae&&(ae.style.cursor=Wt)},at.prototype.getPointByEvent=function(Wt){var ae=this.get("supportCSSTransform");if(ae){if(yn&&!(0,K.kK)(Wt.layerX)&&Wt.layerX!==Wt.offsetX)return{x:Wt.layerX,y:Wt.layerY};if(!(0,K.kK)(Wt.offsetX))return{x:Wt.offsetX,y:Wt.offsetY}}var me=this.getClientByEvent(Wt),we=me.x,Be=me.y;return this.getPointByClient(we,Be)},at.prototype.getClientByEvent=function(Wt){var ae=Wt;return Wt.touches&&(Wt.type==="touchend"?ae=Wt.changedTouches[0]:ae=Wt.touches[0]),{x:ae.clientX,y:ae.clientY}},at.prototype.getPointByClient=function(Wt,ae){var me=this.get("el"),we=me.getBoundingClientRect();return{x:Wt-we.left,y:ae-we.top}},at.prototype.getClientByPoint=function(Wt,ae){var me=this.get("el"),we=me.getBoundingClientRect();return{x:Wt+we.left,y:ae+we.top}},at.prototype.draw=function(){},at.prototype.removeDom=function(){var Wt=this.get("el");Wt.parentNode.removeChild(Wt)},at.prototype.clearEvents=function(){var Wt=this.get("eventController");Wt.destroy()},at.prototype.isCanvas=function(){return!0},at.prototype.getParent=function(){return null},at.prototype.destroy=function(){var Wt=this.get("timeline");this.get("destroyed")||(this.clear(),Wt&&Wt.stop(),this.clearEvents(),this.removeDom(),Xt.prototype.destroy.call(this))},at}(Bt.Z),hn=$r},51030:function(Ce,z,F){"use strict";var nt=F(29268),V=F(22374),Bt=F(16087),K=F(91220),U={},X="_INDEX";function W(Lt,Tt){if(Lt.set("canvas",Tt),Lt.isGroup()){var ct=Lt.get("children");ct.length&&ct.forEach(function(St){W(St,Tt)})}}function $(Lt,Tt){if(Lt.set("timeline",Tt),Lt.isGroup()){var ct=Lt.get("children");ct.length&&ct.forEach(function(St){$(St,Tt)})}}function et(Lt,Tt){var ct=Lt.getChildren();return ct.indexOf(Tt)>=0}function bt(Lt,Tt,ct){ct===void 0&&(ct=!0),ct?Tt.destroy():(Tt.set("parent",null),Tt.set("canvas",null)),(0,K.As)(Lt.getChildren(),Tt)}function At(Lt){return function(Tt,ct){var St=Lt(Tt,ct);return St===0?Tt[X]-ct[X]:St}}var Ft=function(Lt){(0,nt.ZT)(Tt,Lt);function Tt(){return Lt!==null&&Lt.apply(this,arguments)||this}return Tt.prototype.isCanvas=function(){return!1},Tt.prototype.getBBox=function(){var ct=1/0,St=-1/0,Ut=1/0,Dt=-1/0,It=[],mt=[],vt=this.getChildren().filter(function(Mt){return Mt.get("visible")&&(!Mt.isGroup()||Mt.isGroup()&&Mt.getChildren().length>0)});vt.length>0?((0,K.S6)(vt,function(Mt){var gt=Mt.getBBox();It.push(gt.minX,gt.maxX),mt.push(gt.minY,gt.maxY)}),ct=(0,V.VV)(It),St=(0,V.Fp)(It),Ut=(0,V.VV)(mt),Dt=(0,V.Fp)(mt)):(ct=0,St=0,Ut=0,Dt=0);var kt={x:ct,y:Ut,minX:ct,minY:Ut,maxX:St,maxY:Dt,width:St-ct,height:Dt-Ut};return kt},Tt.prototype.getCanvasBBox=function(){var ct=1/0,St=-1/0,Ut=1/0,Dt=-1/0,It=[],mt=[],vt=this.getChildren().filter(function(Mt){return Mt.get("visible")&&(!Mt.isGroup()||Mt.isGroup()&&Mt.getChildren().length>0)});vt.length>0?((0,K.S6)(vt,function(Mt){var gt=Mt.getCanvasBBox();It.push(gt.minX,gt.maxX),mt.push(gt.minY,gt.maxY)}),ct=(0,V.VV)(It),St=(0,V.Fp)(It),Ut=(0,V.VV)(mt),Dt=(0,V.Fp)(mt)):(ct=0,St=0,Ut=0,Dt=0);var kt={x:ct,y:Ut,minX:ct,minY:Ut,maxX:St,maxY:Dt,width:St-ct,height:Dt-Ut};return kt},Tt.prototype.getDefaultCfg=function(){var ct=Lt.prototype.getDefaultCfg.call(this);return ct.children=[],ct},Tt.prototype.onAttrChange=function(ct,St,Ut){if(Lt.prototype.onAttrChange.call(this,ct,St,Ut),ct==="matrix"){var Dt=this.getTotalMatrix();this._applyChildrenMarix(Dt)}},Tt.prototype.applyMatrix=function(ct){var St=this.getTotalMatrix();Lt.prototype.applyMatrix.call(this,ct);var Ut=this.getTotalMatrix();Ut!==St&&this._applyChildrenMarix(Ut)},Tt.prototype._applyChildrenMarix=function(ct){var St=this.getChildren();(0,K.S6)(St,function(Ut){Ut.applyMatrix(ct)})},Tt.prototype.addShape=function(){for(var ct=[],St=0;St<arguments.length;St++)ct[St]=arguments[St];var Ut=ct[0],Dt=ct[1];(0,K.Kn)(Ut)?Dt=Ut:Dt.type=Ut;var It=U[Dt.type];It||(It=(0,K.jC)(Dt.type),U[Dt.type]=It);var mt=this.getShapeBase(),vt=new mt[It](Dt);return this.add(vt),vt},Tt.prototype.addGroup=function(){for(var ct=[],St=0;St<arguments.length;St++)ct[St]=arguments[St];var Ut=ct[0],Dt=ct[1],It;if((0,K.mf)(Ut))Dt?It=new Ut(Dt):It=new Ut({parent:this});else{var mt=Ut||{},vt=this.getGroupBase();It=new vt(mt)}return this.add(It),It},Tt.prototype.getCanvas=function(){var ct;return this.isCanvas()?ct=this:ct=this.get("canvas"),ct},Tt.prototype.getShape=function(ct,St,Ut){if(!(0,K.pP)(this))return null;var Dt=this.getChildren(),It;if(this.isCanvas())It=this._findShape(Dt,ct,St,Ut);else{var mt=[ct,St,1];mt=this.invertFromMatrix(mt),this.isClipped(mt[0],mt[1])||(It=this._findShape(Dt,mt[0],mt[1],Ut))}return It},Tt.prototype._findShape=function(ct,St,Ut,Dt){for(var It=null,mt=ct.length-1;mt>=0;mt--){var vt=ct[mt];if((0,K.pP)(vt)&&(vt.isGroup()?It=vt.getShape(St,Ut,Dt):vt.isHit(St,Ut)&&(It=vt)),It)break}return It},Tt.prototype.add=function(ct){var St=this.getCanvas(),Ut=this.getChildren(),Dt=this.get("timeline"),It=ct.getParent();It&&bt(It,ct,!1),ct.set("parent",this),St&&W(ct,St),Dt&&$(ct,Dt),Ut.push(ct),ct.onCanvasChange("add"),this._applyElementMatrix(ct)},Tt.prototype._applyElementMatrix=function(ct){var St=this.getTotalMatrix();St&&ct.applyMatrix(St)},Tt.prototype.getChildren=function(){return this.get("children")},Tt.prototype.sort=function(){var ct=this.getChildren();(0,K.S6)(ct,function(St,Ut){return St[X]=Ut,St}),ct.sort(At(function(St,Ut){return St.get("zIndex")-Ut.get("zIndex")})),this.onCanvasChange("sort")},Tt.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var ct=this.getChildren(),St=ct.length-1;St>=0;St--)ct[St].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},Tt.prototype.destroy=function(){this.get("destroyed")||(this.clear(),Lt.prototype.destroy.call(this))},Tt.prototype.getFirst=function(){return this.getChildByIndex(0)},Tt.prototype.getLast=function(){var ct=this.getChildren();return this.getChildByIndex(ct.length-1)},Tt.prototype.getChildByIndex=function(ct){var St=this.getChildren();return St[ct]},Tt.prototype.getCount=function(){var ct=this.getChildren();return ct.length},Tt.prototype.contain=function(ct){var St=this.getChildren();return St.indexOf(ct)>-1},Tt.prototype.removeChild=function(ct,St){St===void 0&&(St=!0),this.contain(ct)&&ct.remove(St)},Tt.prototype.findAll=function(ct){var St=[],Ut=this.getChildren();return(0,K.S6)(Ut,function(Dt){ct(Dt)&&St.push(Dt),Dt.isGroup()&&(St=St.concat(Dt.findAll(ct)))}),St},Tt.prototype.find=function(ct){var St=null,Ut=this.getChildren();return(0,K.S6)(Ut,function(Dt){if(ct(Dt)?St=Dt:Dt.isGroup()&&(St=Dt.find(ct)),St)return!1}),St},Tt.prototype.findById=function(ct){return this.find(function(St){return St.get("id")===ct})},Tt.prototype.findByClassName=function(ct){return this.find(function(St){return St.get("className")===ct})},Tt.prototype.findAllByName=function(ct){return this.findAll(function(St){return St.get("name")===ct})},Tt}(Bt.Z);z.Z=Ft},16087:function(Ce,z,F){"use strict";var nt=F(29268),V=F(22374),Bt=F(32071),K=F(91220),U=F(55885),X=F(53079),W=Bt.vs,$="matrix",et=["zIndex","capture","visible","type"],bt=["repeat"],At=":",Ft="*";function Lt(Dt){for(var It=[],mt=0;mt<Dt.length;mt++)(0,V.kJ)(Dt[mt])?It.push([].concat(Dt[mt])):It.push(Dt[mt]);return It}function Tt(Dt,It){var mt={},vt=It.attrs;for(var kt in Dt)mt[kt]=vt[kt];return mt}function ct(Dt,It){var mt={},vt=It.attr();return(0,V.S6)(Dt,function(kt,Mt){bt.indexOf(Mt)===-1&&!(0,V.Xy)(vt[Mt],kt)&&(mt[Mt]=kt)}),mt}function St(Dt,It){if(It.onFrame)return Dt;var mt=It.startTime,vt=It.delay,kt=It.duration,Mt=Object.prototype.hasOwnProperty;return(0,V.S6)(Dt,function(gt){mt+vt<gt.startTime+gt.delay+gt.duration&&kt>gt.delay&&(0,V.S6)(It.toAttrs,function($t,Ht){Mt.call(gt.toAttrs,Ht)&&(delete gt.toAttrs[Ht],delete gt.fromAttrs[Ht])})}),Dt}var Ut=function(Dt){(0,nt.ZT)(It,Dt);function It(mt){var vt=Dt.call(this,mt)||this;vt.attrs={};var kt=vt.getDefaultAttrs();return(0,V.CD)(kt,mt.attrs),vt.attrs=kt,vt.initAttrs(kt),vt.initAnimate(),vt}return It.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},It.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},It.prototype.onCanvasChange=function(mt){},It.prototype.initAttrs=function(mt){},It.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},It.prototype.isGroup=function(){return!1},It.prototype.getParent=function(){return this.get("parent")},It.prototype.getCanvas=function(){return this.get("canvas")},It.prototype.attr=function(){for(var mt,vt=[],kt=0;kt<arguments.length;kt++)vt[kt]=arguments[kt];var Mt=vt[0],gt=vt[1];if(!Mt)return this.attrs;if((0,V.Kn)(Mt)){for(var $t in Mt)this.setAttr($t,Mt[$t]);return this.afterAttrsChange(Mt),this}return vt.length===2?(this.setAttr(Mt,gt),this.afterAttrsChange((mt={},mt[Mt]=gt,mt)),this):this.attrs[Mt]},It.prototype.isClipped=function(mt,vt){var kt=this.getClip();return kt&&!kt.isHit(mt,vt)},It.prototype.setAttr=function(mt,vt){var kt=this.attrs[mt];kt!==vt&&(this.attrs[mt]=vt,this.onAttrChange(mt,vt,kt))},It.prototype.onAttrChange=function(mt,vt,kt){mt==="matrix"&&this.set("totalMatrix",null)},It.prototype.afterAttrsChange=function(mt){if(this.cfg.isClipShape){var vt=this.cfg.applyTo;vt&&vt.onCanvasChange("clip")}else this.onCanvasChange("attr")},It.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},It.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},It.prototype.setZIndex=function(mt){this.set("zIndex",mt);var vt=this.getParent();return vt&&vt.sort(),this},It.prototype.toFront=function(){var mt=this.getParent();if(mt){var vt=mt.getChildren(),kt=this.get("el"),Mt=vt.indexOf(this);vt.splice(Mt,1),vt.push(this),this.onCanvasChange("zIndex")}},It.prototype.toBack=function(){var mt=this.getParent();if(mt){var vt=mt.getChildren(),kt=this.get("el"),Mt=vt.indexOf(this);vt.splice(Mt,1),vt.unshift(this),this.onCanvasChange("zIndex")}},It.prototype.remove=function(mt){mt===void 0&&(mt=!0);var vt=this.getParent();vt?((0,K.As)(vt.getChildren(),this),vt.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),mt&&this.destroy()},It.prototype.resetMatrix=function(){this.attr($,this.getDefaultMatrix()),this.onCanvasChange("matrix")},It.prototype.getMatrix=function(){return this.attr($)},It.prototype.setMatrix=function(mt){this.attr($,mt),this.onCanvasChange("matrix")},It.prototype.getTotalMatrix=function(){var mt=this.cfg.totalMatrix;if(!mt){var vt=this.attr("matrix"),kt=this.cfg.parentMatrix;kt&&vt?mt=(0,U.xq)(kt,vt):mt=vt||kt,this.set("totalMatrix",mt)}return mt},It.prototype.applyMatrix=function(mt){var vt=this.attr("matrix"),kt=null;mt&&vt?kt=(0,U.xq)(mt,vt):kt=vt||mt,this.set("totalMatrix",kt),this.set("parentMatrix",mt)},It.prototype.getDefaultMatrix=function(){return null},It.prototype.applyToMatrix=function(mt){var vt=this.attr("matrix");return vt?(0,U.rG)(vt,mt):mt},It.prototype.invertFromMatrix=function(mt){var vt=this.attr("matrix");if(vt){var kt=(0,U.U_)(vt);if(kt)return(0,U.rG)(kt,mt)}return mt},It.prototype.setClip=function(mt){var vt=this.getCanvas(),kt=null;if(mt){var Mt=this.getShapeBase(),gt=(0,V.jC)(mt.type),$t=Mt[gt];$t&&(kt=new $t({type:mt.type,isClipShape:!0,applyTo:this,attrs:mt.attrs,canvas:vt}))}return this.set("clipShape",kt),this.onCanvasChange("clip"),kt},It.prototype.getClip=function(){var mt=this.cfg.clipShape;return mt||null},It.prototype.clone=function(){var mt=this,vt=this.attrs,kt={};(0,V.S6)(vt,function($t,Ht){(0,V.kJ)(vt[Ht])?kt[Ht]=Lt(vt[Ht]):kt[Ht]=vt[Ht]});var Mt=this.constructor,gt=new Mt({attrs:kt});return(0,V.S6)(et,function($t){gt.set($t,mt.get($t))}),gt},It.prototype.destroy=function(){var mt=this.destroyed;mt||(this.attrs={},Dt.prototype.destroy.call(this))},It.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},It.prototype.animate=function(){for(var mt=[],vt=0;vt<arguments.length;vt++)mt[vt]=arguments[vt];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var kt=this.get("timeline");kt||(kt=this.get("canvas").get("timeline"),this.set("timeline",kt));var Mt=this.get("animations")||[];kt.timer||kt.initTimer();var gt=mt[0],$t=mt[1],Ht=mt[2],S=Ht===void 0?"easeLinear":Ht,H=mt[3],B=H===void 0?V.ZT:H,tt=mt[4],k=tt===void 0?0:tt,T,_,w,G,it;(0,V.mf)(gt)?(T=gt,gt={}):(0,V.Kn)(gt)&&gt.onFrame&&(T=gt.onFrame,_=gt.repeat),(0,V.Kn)($t)?(it=$t,$t=it.duration,S=it.easing||"easeLinear",k=it.delay||0,_=it.repeat||_||!1,B=it.callback||V.ZT,w=it.pauseCallback||V.ZT,G=it.resumeCallback||V.ZT):((0,V.hj)(B)&&(k=B,B=null),(0,V.mf)(S)?(B=S,S="easeLinear"):S=S||"easeLinear");var _t=ct(gt,this),Yt={fromAttrs:Tt(_t,this),toAttrs:_t,duration:$t,easing:S,repeat:_,callback:B,pauseCallback:w,resumeCallback:G,delay:k,startTime:kt.getTime(),id:(0,V.EL)(),onFrame:T,pathFormatted:!1};Mt.length>0?Mt=St(Mt,Yt):kt.addAnimator(this),Mt.push(Yt),this.set("animations",Mt),this.set("_pause",{isPaused:!1})}},It.prototype.stopAnimate=function(mt){var vt=this;mt===void 0&&(mt=!0);var kt=this.get("animations");(0,V.S6)(kt,function(Mt){mt&&(Mt.onFrame?vt.attr(Mt.onFrame(1)):vt.attr(Mt.toAttrs)),Mt.callback&&Mt.callback()}),this.set("animating",!1),this.set("animations",[])},It.prototype.pauseAnimate=function(){var mt=this.get("timeline"),vt=this.get("animations"),kt=mt.getTime();return(0,V.S6)(vt,function(Mt){Mt._paused=!0,Mt._pauseTime=kt,Mt.pauseCallback&&Mt.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:kt}),this},It.prototype.resumeAnimate=function(){var mt=this.get("timeline"),vt=mt.getTime(),kt=this.get("animations"),Mt=this.get("_pause").pauseTime;return(0,V.S6)(kt,function(gt){gt.startTime=gt.startTime+(vt-Mt),gt._paused=!1,gt._pauseTime=null,gt.resumeCallback&&gt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",kt),this},It.prototype.emitDelegation=function(mt,vt){var kt=this,Mt=vt.propagationPath,gt=this.getEvents(),$t;mt==="mouseenter"?$t=vt.fromShape:mt==="mouseleave"&&($t=vt.toShape);for(var Ht=function(tt){var k=Mt[tt],T=k.get("name");if(T){if((k.isGroup()||k.isCanvas&&k.isCanvas())&&$t&&(0,K.UY)(k,$t))return"break";(0,V.kJ)(T)?(0,V.S6)(T,function(_){kt.emitDelegateEvent(k,_,vt)}):S.emitDelegateEvent(k,T,vt)}},S=this,H=0;H<Mt.length;H++){var B=Ht(H);if(B==="break")break}},It.prototype.emitDelegateEvent=function(mt,vt,kt){var Mt=this.getEvents(),gt=vt+At+kt.type;(Mt[gt]||Mt[Ft])&&(kt.name=gt,kt.currentTarget=mt,kt.delegateTarget=this,kt.delegateObject=mt.get("delegateObject"),this.emit(gt,kt))},It.prototype.translate=function(mt,vt){mt===void 0&&(mt=0),vt===void 0&&(vt=0);var kt=this.getMatrix(),Mt=W(kt,[["t",mt,vt]]);return this.setMatrix(Mt),this},It.prototype.move=function(mt,vt){var kt=this.attr("x")||0,Mt=this.attr("y")||0;return this.translate(mt-kt,vt-Mt),this},It.prototype.moveTo=function(mt,vt){return this.move(mt,vt)},It.prototype.scale=function(mt,vt){var kt=this.getMatrix(),Mt=W(kt,[["s",mt,vt||mt]]);return this.setMatrix(Mt),this},It.prototype.rotate=function(mt){var vt=this.getMatrix(),kt=W(vt,[["r",mt]]);return this.setMatrix(kt),this},It.prototype.rotateAtStart=function(mt){var vt=this.attr(),kt=vt.x,Mt=vt.y,gt=this.getMatrix(),$t=W(gt,[["t",-kt,-Mt],["r",mt],["t",kt,Mt]]);return this.setMatrix($t),this},It.prototype.rotateAtPoint=function(mt,vt,kt){var Mt=this.getMatrix(),gt=W(Mt,[["t",-mt,-vt],["r",kt],["t",mt,vt]]);return this.setMatrix(gt),this},It}(X.Z);z.Z=Ut},14629:function(Ce,z,F){"use strict";var nt=F(29268),V=F(51030),Bt=function(K){(0,nt.ZT)(U,K);function U(){return K!==null&&K.apply(this,arguments)||this}return U.prototype.isGroup=function(){return!0},U.prototype.isEntityGroup=function(){return!1},U.prototype.clone=function(){for(var X=K.prototype.clone.call(this),W=this.getChildren(),$=0;$<W.length;$++){var et=W[$];X.add(et.clone())}return X},U}(V.Z);z.Z=Bt},40073:function(Ce,z,F){"use strict";var nt=F(29268),V=F(16087),Bt=F(55885),K=function(U){(0,nt.ZT)(X,U);function X(W){return U.call(this,W)||this}return X.prototype._isInBBox=function(W,$){var et=this.getBBox();return et.minX<=W&&et.maxX>=W&&et.minY<=$&&et.maxY>=$},X.prototype.afterAttrsChange=function(W){U.prototype.afterAttrsChange.call(this,W),this.clearCacheBBox()},X.prototype.getBBox=function(){var W=this.cfg.bbox;return W||(W=this.calculateBBox(),this.set("bbox",W)),W},X.prototype.getCanvasBBox=function(){var W=this.cfg.canvasBBox;return W||(W=this.calculateCanvasBBox(),this.set("canvasBBox",W)),W},X.prototype.applyMatrix=function(W){U.prototype.applyMatrix.call(this,W),this.set("canvasBBox",null)},X.prototype.calculateCanvasBBox=function(){var W=this.getBBox(),$=this.getTotalMatrix(),et=W.minX,bt=W.minY,At=W.maxX,Ft=W.maxY;if($){var Lt=(0,Bt.rG)($,[W.minX,W.minY]),Tt=(0,Bt.rG)($,[W.maxX,W.minY]),ct=(0,Bt.rG)($,[W.minX,W.maxY]),St=(0,Bt.rG)($,[W.maxX,W.maxY]);et=Math.min(Lt[0],Tt[0],ct[0],St[0]),At=Math.max(Lt[0],Tt[0],ct[0],St[0]),bt=Math.min(Lt[1],Tt[1],ct[1],St[1]),Ft=Math.max(Lt[1],Tt[1],ct[1],St[1])}var Ut=this.attrs;if(Ut.shadowColor){var Dt=Ut.shadowBlur,It=Dt===void 0?0:Dt,mt=Ut.shadowOffsetX,vt=mt===void 0?0:mt,kt=Ut.shadowOffsetY,Mt=kt===void 0?0:kt,gt=et-It+vt,$t=At+It+vt,Ht=bt-It+Mt,S=Ft+It+Mt;et=Math.min(et,gt),At=Math.max(At,$t),bt=Math.min(bt,Ht),Ft=Math.max(Ft,S)}return{x:et,y:bt,minX:et,minY:bt,maxX:At,maxY:Ft,width:At-et,height:Ft-bt}},X.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},X.prototype.isClipShape=function(){return this.get("isClipShape")},X.prototype.isInShape=function(W,$){return!1},X.prototype.isOnlyHitBox=function(){return!1},X.prototype.isHit=function(W,$){var et=this.get("startArrowShape"),bt=this.get("endArrowShape"),At=[W,$,1];At=this.invertFromMatrix(At);var Ft=At[0],Lt=At[1],Tt=this._isInBBox(Ft,Lt);return this.isOnlyHitBox()?Tt:!!(Tt&&!this.isClipped(Ft,Lt)&&(this.isInShape(Ft,Lt)||et&&et.isHit(Ft,Lt)||bt&&bt.isHit(Ft,Lt)))},X}(V.Z);z.Z=K},97338:function(Ce,z,F){"use strict";F.d(z,{_:function(){return Q},C:function(){return xt}});var nt={};F.r(nt),F.d(nt,{easeBack:function(){return Et},easeBackIn:function(){return D},easeBackInOut:function(){return Et},easeBackOut:function(){return ht},easeBounce:function(){return it},easeBounceIn:function(){return G},easeBounceInOut:function(){return _t},easeBounceOut:function(){return it},easeCircle:function(){return gt},easeCircleIn:function(){return kt},easeCircleInOut:function(){return gt},easeCircleOut:function(){return Mt},easeCubic:function(){return $},easeCubicIn:function(){return X},easeCubicInOut:function(){return $},easeCubicOut:function(){return W},easeElastic:function(){return pt},easeElasticIn:function(){return ot},easeElasticInOut:function(){return P},easeElasticOut:function(){return pt},easeExp:function(){return vt},easeExpIn:function(){return It},easeExpInOut:function(){return vt},easeExpOut:function(){return mt},easeLinear:function(){return V},easePoly:function(){return Ft},easePolyIn:function(){return bt},easePolyInOut:function(){return Ft},easePolyOut:function(){return At},easeQuad:function(){return U},easeQuadIn:function(){return Bt},easeQuadInOut:function(){return U},easeQuadOut:function(){return K},easeSin:function(){return Ut},easeSinIn:function(){return ct},easeSinInOut:function(){return Ut},easeSinOut:function(){return St}});function V(dt){return+dt}function Bt(dt){return dt*dt}function K(dt){return dt*(2-dt)}function U(dt){return((dt*=2)<=1?dt*dt:--dt*(2-dt)+1)/2}function X(dt){return dt*dt*dt}function W(dt){return--dt*dt*dt+1}function $(dt){return((dt*=2)<=1?dt*dt*dt:(dt-=2)*dt*dt+2)/2}var et=3,bt=function dt(qt){qt=+qt;function Ot(Rt){return Math.pow(Rt,qt)}return Ot.exponent=dt,Ot}(et),At=function dt(qt){qt=+qt;function Ot(Rt){return 1-Math.pow(1-Rt,qt)}return Ot.exponent=dt,Ot}(et),Ft=function dt(qt){qt=+qt;function Ot(Rt){return((Rt*=2)<=1?Math.pow(Rt,qt):2-Math.pow(2-Rt,qt))/2}return Ot.exponent=dt,Ot}(et),Lt=Math.PI,Tt=Lt/2;function ct(dt){return+dt==1?1:1-Math.cos(dt*Tt)}function St(dt){return Math.sin(dt*Tt)}function Ut(dt){return(1-Math.cos(Lt*dt))/2}function Dt(dt){return(Math.pow(2,-10*dt)-.0009765625)*1.0009775171065494}function It(dt){return Dt(1-+dt)}function mt(dt){return 1-Dt(dt)}function vt(dt){return((dt*=2)<=1?Dt(1-dt):2-Dt(dt-1))/2}function kt(dt){return 1-Math.sqrt(1-dt*dt)}function Mt(dt){return Math.sqrt(1- --dt*dt)}function gt(dt){return((dt*=2)<=1?1-Math.sqrt(1-dt*dt):Math.sqrt(1-(dt-=2)*dt)+1)/2}var $t=4/11,Ht=6/11,S=8/11,H=3/4,B=9/11,tt=10/11,k=15/16,T=21/22,_=63/64,w=1/$t/$t;function G(dt){return 1-it(1-dt)}function it(dt){return(dt=+dt)<$t?w*dt*dt:dt<S?w*(dt-=Ht)*dt+H:dt<tt?w*(dt-=B)*dt+k:w*(dt-=T)*dt+_}function _t(dt){return((dt*=2)<=1?1-it(1-dt):it(dt-1)+1)/2}var Yt=1.70158,D=function dt(qt){qt=+qt;function Ot(Rt){return(Rt=+Rt)*Rt*(qt*(Rt-1)+Rt)}return Ot.overshoot=dt,Ot}(Yt),ht=function dt(qt){qt=+qt;function Ot(Rt){return--Rt*Rt*((Rt+1)*qt+Rt)+1}return Ot.overshoot=dt,Ot}(Yt),Et=function dt(qt){qt=+qt;function Ot(Rt){return((Rt*=2)<1?Rt*Rt*((qt+1)*Rt-qt):(Rt-=2)*Rt*((qt+1)*Rt+qt)+2)/2}return Ot.overshoot=dt,Ot}(Yt),lt=2*Math.PI,jt=1,Kt=.3,ot=function dt(qt,Ot){var Rt=Math.asin(1/(qt=Math.max(1,qt)))*(Ot/=lt);function ut(b){return qt*Dt(- --b)*Math.sin((Rt-b)/Ot)}return ut.amplitude=function(b){return dt(b,Ot*lt)},ut.period=function(b){return dt(qt,b)},ut}(jt,Kt),pt=function dt(qt,Ot){var Rt=Math.asin(1/(qt=Math.max(1,qt)))*(Ot/=lt);function ut(b){return 1-qt*Dt(b=+b)*Math.sin((b+Rt)/Ot)}return ut.amplitude=function(b){return dt(b,Ot*lt)},ut.period=function(b){return dt(qt,b)},ut}(jt,Kt),P=function dt(qt,Ot){var Rt=Math.asin(1/(qt=Math.max(1,qt)))*(Ot/=lt);function ut(b){return((b=b*2-1)<0?qt*Dt(-b)*Math.sin((Rt-b)/Ot):2-qt*Dt(b)*Math.sin((Rt+b)/Ot))/2}return ut.amplitude=function(b){return dt(b,Ot*lt)},ut.period=function(b){return dt(qt,b)},ut}(jt,Kt),rt={};function Q(dt){return rt[dt.toLowerCase()]||nt[dt]}function xt(dt,qt){rt[dt.toLowerCase()]=qt}},71626:function(Ce,z,F){"use strict";F.d(z,{b:function(){return Bt},W:function(){return V}});var nt=new Map;function V(mt,vt){nt.set(mt,vt)}function Bt(mt){return nt.get(mt)}function K(mt){var vt=mt.attr(),kt=vt.x,Mt=vt.y,gt=vt.width,$t=vt.height;return{x:kt,y:Mt,width:gt,height:$t}}function U(mt){var vt=mt.attr(),kt=vt.x,Mt=vt.y,gt=vt.r;return{x:kt-gt,y:Mt-gt,width:gt*2,height:gt*2}}var X=F(62930);function W(mt,vt){return!mt||!vt?mt||vt:{minX:Math.min(mt.minX,vt.minX),minY:Math.min(mt.minY,vt.minY),maxX:Math.max(mt.maxX,vt.maxX),maxY:Math.max(mt.maxY,vt.maxY)}}function $(mt,vt){var kt=mt.get("startArrowShape"),Mt=mt.get("endArrowShape"),gt=null,$t=null;return kt&&(gt=kt.getCanvasBBox(),vt=W(vt,gt)),Mt&&($t=Mt.getCanvasBBox(),vt=W(vt,$t)),vt}function et(mt){for(var vt=mt.attr(),kt=vt.points,Mt=[],gt=[],$t=0;$t<kt.length;$t++){var Ht=kt[$t];Mt.push(Ht[0]),gt.push(Ht[1])}var S=X.Zr.getBBoxByArray(Mt,gt),H=S.x,B=S.y,tt=S.width,k=S.height,T={minX:H,minY:B,maxX:H+tt,maxY:B+k};return T=$(mt,T),{x:T.minX,y:T.minY,width:T.maxX-T.minX,height:T.maxY-T.minY}}function bt(mt){for(var vt=mt.attr(),kt=vt.points,Mt=[],gt=[],$t=0;$t<kt.length;$t++){var Ht=kt[$t];Mt.push(Ht[0]),gt.push(Ht[1])}return X.Zr.getBBoxByArray(Mt,gt)}var At=F(56430);function Ft(mt){var vt=mt.attr(),kt=vt.x,Mt=vt.y,gt=vt.text,$t=vt.fontSize,Ht=vt.lineHeight,S=vt.font;S||(S=(0,At.$O)(vt));var H=(0,At.mY)(gt,S),B;if(!H)B={x:kt,y:Mt,width:0,height:0};else{var tt=vt.textAlign,k=vt.textBaseline,T=(0,At.FE)(gt,$t,Ht),_={x:kt,y:Mt-T};tt&&(tt==="end"||tt==="right"?_.x-=H:tt==="center"&&(_.x-=H/2)),k&&(k==="top"?_.y+=T:k==="middle"&&(_.y+=T/2)),B={x:_.x,y:_.y,width:H,height:T}}return B}var Lt=F(34357),Tt=F(22374);function ct(mt,vt){for(var kt=[],Mt=[],gt=[],$t=0;$t<mt.length;$t++){var Ht=mt[$t],S=Ht.currentPoint,H=Ht.params,B=Ht.prePoint,tt=void 0;switch(Ht.command){case"Q":tt=X.lD.box(B[0],B[1],H[1],H[2],H[3],H[4]);break;case"C":tt=X.Ll.box(B[0],B[1],H[1],H[2],H[3],H[4],H[5],H[6]);break;case"A":var k=Ht.arcParams;tt=X.wN.box(k.cx,k.cy,k.rx,k.ry,k.xRotation,k.startAngle,k.endAngle);break;default:kt.push(S[0]),Mt.push(S[1]);break}tt&&(Ht.box=tt,kt.push(tt.x,tt.x+tt.width),Mt.push(tt.y,tt.y+tt.height)),vt&&(Ht.command==="L"||Ht.command==="M")&&Ht.prePoint&&Ht.nextPoint&&gt.push(Ht)}kt=kt.filter(function(_t){return!Number.isNaN(_t)&&_t!==1/0&&_t!==-1/0}),Mt=Mt.filter(function(_t){return!Number.isNaN(_t)&&_t!==1/0&&_t!==-1/0});var T=(0,Tt.VV)(kt),_=(0,Tt.VV)(Mt),w=(0,Tt.Fp)(kt),G=(0,Tt.Fp)(Mt);if(gt.length===0)return{x:T,y:_,width:w-T,height:G-_};for(var $t=0;$t<gt.length;$t++){var Ht=gt[$t],S=Ht.currentPoint,it=void 0;S[0]===T?(it=St(Ht,vt),T=T-it.xExtra):S[0]===w&&(it=St(Ht,vt),w=w+it.xExtra),S[1]===_?(it=St(Ht,vt),_=_-it.yExtra):S[1]===G&&(it=St(Ht,vt),G=G+it.yExtra)}return{x:T,y:_,width:w-T,height:G-_}}function St(mt,vt){var kt=mt.prePoint,Mt=mt.currentPoint,gt=mt.nextPoint,$t=Math.pow(Mt[0]-kt[0],2)+Math.pow(Mt[1]-kt[1],2),Ht=Math.pow(Mt[0]-gt[0],2)+Math.pow(Mt[1]-gt[1],2),S=Math.pow(kt[0]-gt[0],2)+Math.pow(kt[1]-gt[1],2),H=Math.acos(($t+Ht-S)/(2*Math.sqrt($t)*Math.sqrt(Ht)));if(!H||Math.sin(H)===0||(0,Tt.vQ)(H,0))return{xExtra:0,yExtra:0};var B=Math.abs(Math.atan2(gt[1]-Mt[1],gt[0]-Mt[0])),tt=Math.abs(Math.atan2(gt[0]-Mt[0],gt[1]-Mt[1]));B=B>Math.PI/2?Math.PI-B:B,tt=tt>Math.PI/2?Math.PI-tt:tt;var k={xExtra:Math.cos(H/2-B)*(vt/2*(1/Math.sin(H/2)))-vt/2||0,yExtra:Math.cos(tt-H/2)*(vt/2*(1/Math.sin(H/2)))-vt/2||0};return k}function Ut(mt){var vt=mt.attr(),kt=vt.path,Mt=vt.stroke,gt=Mt?vt.lineWidth:0,$t=mt.get("segments")||(0,Lt.zx)(kt),Ht=ct($t,gt),S=Ht.x,H=Ht.y,B=Ht.width,tt=Ht.height,k={minX:S,minY:H,maxX:S+B,maxY:H+tt};return k=$(mt,k),{x:k.minX,y:k.minY,width:k.maxX-k.minX,height:k.maxY-k.minY}}function Dt(mt){var vt=mt.attr(),kt=vt.x1,Mt=vt.y1,gt=vt.x2,$t=vt.y2,Ht=Math.min(kt,gt),S=Math.max(kt,gt),H=Math.min(Mt,$t),B=Math.max(Mt,$t),tt={minX:Ht,maxX:S,minY:H,maxY:B};return tt=$(mt,tt),{x:tt.minX,y:tt.minY,width:tt.maxX-tt.minX,height:tt.maxY-tt.minY}}function It(mt){var vt=mt.attr(),kt=vt.x,Mt=vt.y,gt=vt.rx,$t=vt.ry;return{x:kt-gt,y:Mt-$t,width:gt*2,height:$t*2}}V("rect",K),V("image",K),V("circle",U),V("marker",U),V("polyline",et),V("polygon",bt),V("text",Ft),V("path",Ut),V("line",Dt),V("ellipse",It)},83302:function(Ce,z){"use strict";var F=function(){function nt(V,Bt){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=V,this.name=V,this.originalEvent=Bt,this.timeStamp=Bt.timeStamp}return nt.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},nt.prototype.stopPropagation=function(){this.propagationStopped=!0},nt.prototype.toString=function(){var V=this.type;return"[Event (type="+V+")]"},nt.prototype.save=function(){},nt.prototype.restore=function(){},nt}();z.Z=F},22479:function(Ce,z,F){"use strict";F.r(z),F.d(z,{AbstractCanvas:function(){return bt.Z},AbstractGroup:function(){return At.Z},AbstractShape:function(){return Ft.Z},Base:function(){return et.Z},Event:function(){return $.Z},PathUtil:function(){return nt},assembleFont:function(){return Tt.$O},getBBoxMethod:function(){return Lt.b},getOffScreenContext:function(){return Ut.L},getTextHeight:function(){return Tt.FE},invert:function(){return St.U_},isAllowCapture:function(){return ct.pP},multiplyVec2:function(){return St.rG},registerBBox:function(){return Lt.W},registerEasing:function(){return Dt.C},version:function(){return It}});var nt=F(63007),V=F(54153),Bt=F.n(V),W={};for(var K in V)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(K)<0&&(W[K]=function(mt){return V[mt]}.bind(0,K));F.d(z,W);var U=F(97750),X=F.n(U),W={};for(var K in U)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","registerBBox","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","registerEasing","version"].indexOf(K)<0&&(W[K]=function(vt){return U[vt]}.bind(0,K));F.d(z,W);var $=F(83302),et=F(53079),bt=F(57895),At=F(14629),Ft=F(40073),Lt=F(71626),Tt=F(56430),ct=F(91220),St=F(55885),Ut=F(69307),Dt=F(97338),It="0.5.11"},97750:function(){},54153:function(){},55885:function(Ce,z,F){"use strict";F.d(z,{U_:function(){return Bt},rG:function(){return V},xq:function(){return nt}});function nt(K,U){var X=[],W=K[0],$=K[1],et=K[2],bt=K[3],At=K[4],Ft=K[5],Lt=K[6],Tt=K[7],ct=K[8],St=U[0],Ut=U[1],Dt=U[2],It=U[3],mt=U[4],vt=U[5],kt=U[6],Mt=U[7],gt=U[8];return X[0]=St*W+Ut*bt+Dt*Lt,X[1]=St*$+Ut*At+Dt*Tt,X[2]=St*et+Ut*Ft+Dt*ct,X[3]=It*W+mt*bt+vt*Lt,X[4]=It*$+mt*At+vt*Tt,X[5]=It*et+mt*Ft+vt*ct,X[6]=kt*W+Mt*bt+gt*Lt,X[7]=kt*$+Mt*At+gt*Tt,X[8]=kt*et+Mt*Ft+gt*ct,X}function V(K,U){var X=[],W=U[0],$=U[1];return X[0]=K[0]*W+K[3]*$+K[6],X[1]=K[1]*W+K[4]*$+K[7],X}function Bt(K){var U=[],X=K[0],W=K[1],$=K[2],et=K[3],bt=K[4],At=K[5],Ft=K[6],Lt=K[7],Tt=K[8],ct=Tt*bt-At*Lt,St=-Tt*et+At*Ft,Ut=Lt*et-bt*Ft,Dt=X*ct+W*St+$*Ut;return Dt?(Dt=1/Dt,U[0]=ct*Dt,U[1]=(-Tt*W+$*Lt)*Dt,U[2]=(At*W-$*bt)*Dt,U[3]=St*Dt,U[4]=(Tt*X-$*Ft)*Dt,U[5]=(-At*X+$*et)*Dt,U[6]=Ut*Dt,U[7]=(-Lt*X+W*Ft)*Dt,U[8]=(bt*X-W*et)*Dt,U):null}},69307:function(Ce,z,F){"use strict";F.d(z,{L:function(){return V}});var nt=null;function V(){if(!nt){var Bt=document.createElement("canvas");Bt.width=1,Bt.height=1,nt=Bt.getContext("2d")}return nt}},63007:function(Ce,z,F){"use strict";F.r(z),F.d(z,{catmullRomToBezier:function(){return X},fillPath:function(){return k},fillPathByDiff:function(){return G},formatPath:function(){return Yt},intersection:function(){return S},parsePathArray:function(){return Tt},parsePathString:function(){return U},pathToAbsolute:function(){return $},pathToCurve:function(){return Ft},rectPath:function(){return mt}});var nt=F(22374),V=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Bt=new RegExp("([a-z])["+V+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+V+"]*,?["+V+"]*)+)","ig"),K=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+V+"]*,?["+V+"]*","ig"),U=function(D){if(!D)return null;if((0,nt.kJ)(D))return D;var ht={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Et=[];return String(D).replace(Bt,function(lt,jt,Kt){var ot=[],pt=jt.toLowerCase();if(Kt.replace(K,function(P,rt){rt&&ot.push(+rt)}),pt==="m"&&ot.length>2&&(Et.push([jt].concat(ot.splice(0,2))),pt="l",jt=jt==="m"?"l":"L"),pt==="o"&&ot.length===1&&Et.push([jt,ot[0]]),pt==="r")Et.push([jt].concat(ot));else for(;ot.length>=ht[pt]&&(Et.push([jt].concat(ot.splice(0,ht[pt]))),!!ht[pt]););return D}),Et},X=function(D,ht){for(var Et=[],lt=0,jt=D.length;jt-2*!ht>lt;lt+=2){var Kt=[{x:+D[lt-2],y:+D[lt-1]},{x:+D[lt],y:+D[lt+1]},{x:+D[lt+2],y:+D[lt+3]},{x:+D[lt+4],y:+D[lt+5]}];ht?lt?jt-4===lt?Kt[3]={x:+D[0],y:+D[1]}:jt-2===lt&&(Kt[2]={x:+D[0],y:+D[1]},Kt[3]={x:+D[2],y:+D[3]}):Kt[0]={x:+D[jt-2],y:+D[jt-1]}:jt-4===lt?Kt[3]=Kt[2]:lt||(Kt[0]={x:+D[lt],y:+D[lt+1]}),Et.push(["C",(-Kt[0].x+6*Kt[1].x+Kt[2].x)/6,(-Kt[0].y+6*Kt[1].y+Kt[2].y)/6,(Kt[1].x+6*Kt[2].x-Kt[3].x)/6,(Kt[1].y+6*Kt[2].y-Kt[3].y)/6,Kt[2].x,Kt[2].y])}return Et},W=function(D,ht,Et,lt,jt){var Kt=[];if(jt===null&&lt===null&&(lt=Et),D=+D,ht=+ht,Et=+Et,lt=+lt,jt!==null){var ot=Math.PI/180,pt=D+Et*Math.cos(-lt*ot),P=D+Et*Math.cos(-jt*ot),rt=ht+Et*Math.sin(-lt*ot),Q=ht+Et*Math.sin(-jt*ot);Kt=[["M",pt,rt],["A",Et,Et,0,+(jt-lt>180),0,P,Q]]}else Kt=[["M",D,ht],["m",0,-lt],["a",Et,lt,0,1,1,0,2*lt],["a",Et,lt,0,1,1,0,-2*lt],["z"]];return Kt},$=function(D){if(D=U(D),!D||!D.length)return[["M",0,0]];var ht=[],Et=0,lt=0,jt=0,Kt=0,ot=0,pt,P;D[0][0]==="M"&&(Et=+D[0][1],lt=+D[0][2],jt=Et,Kt=lt,ot++,ht[0]=["M",Et,lt]);for(var rt=D.length===3&&D[0][0]==="M"&&D[1][0].toUpperCase()==="R"&&D[2][0].toUpperCase()==="Z",Q=void 0,xt=void 0,dt=ot,qt=D.length;dt<qt;dt++){if(ht.push(Q=[]),xt=D[dt],pt=xt[0],pt!==pt.toUpperCase())switch(Q[0]=pt.toUpperCase(),Q[0]){case"A":Q[1]=xt[1],Q[2]=xt[2],Q[3]=xt[3],Q[4]=xt[4],Q[5]=xt[5],Q[6]=+xt[6]+Et,Q[7]=+xt[7]+lt;break;case"V":Q[1]=+xt[1]+lt;break;case"H":Q[1]=+xt[1]+Et;break;case"R":P=[Et,lt].concat(xt.slice(1));for(var Ot=2,Rt=P.length;Ot<Rt;Ot++)P[Ot]=+P[Ot]+Et,P[++Ot]=+P[Ot]+lt;ht.pop(),ht=ht.concat(X(P,rt));break;case"O":ht.pop(),P=W(Et,lt,xt[1],xt[2]),P.push(P[0]),ht=ht.concat(P);break;case"U":ht.pop(),ht=ht.concat(W(Et,lt,xt[1],xt[2],xt[3])),Q=["U"].concat(ht[ht.length-1].slice(-2));break;case"M":jt=+xt[1]+Et,Kt=+xt[2]+lt;break;default:for(var Ot=1,Rt=xt.length;Ot<Rt;Ot++)Q[Ot]=+xt[Ot]+(Ot%2?Et:lt)}else if(pt==="R")P=[Et,lt].concat(xt.slice(1)),ht.pop(),ht=ht.concat(X(P,rt)),Q=["R"].concat(xt.slice(-2));else if(pt==="O")ht.pop(),P=W(Et,lt,xt[1],xt[2]),P.push(P[0]),ht=ht.concat(P);else if(pt==="U")ht.pop(),ht=ht.concat(W(Et,lt,xt[1],xt[2],xt[3])),Q=["U"].concat(ht[ht.length-1].slice(-2));else for(var ut=0,b=xt.length;ut<b;ut++)Q[ut]=xt[ut];if(pt=pt.toUpperCase(),pt!=="O")switch(Q[0]){case"Z":Et=+jt,lt=+Kt;break;case"H":Et=Q[1];break;case"V":lt=Q[1];break;case"M":jt=Q[Q.length-2],Kt=Q[Q.length-1];break;default:Et=Q[Q.length-2],lt=Q[Q.length-1]}}return ht},et=function(D,ht,Et,lt){return[D,ht,Et,lt,Et,lt]},bt=function(D,ht,Et,lt,jt,Kt){var ot=.3333333333333333,pt=2/3;return[ot*D+pt*Et,ot*ht+pt*lt,ot*jt+pt*Et,ot*Kt+pt*lt,jt,Kt]},At=function(D,ht,Et,lt,jt,Kt,ot,pt,P,rt){Et===lt&&(Et+=1);var Q=Math.PI*120/180,xt=Math.PI/180*(+jt||0),dt=[],qt,Ot,Rt,ut,b,O=function(sr,cr,Lr){var en=sr*Math.cos(Lr)-cr*Math.sin(Lr),Yr=sr*Math.sin(Lr)+cr*Math.cos(Lr);return{x:en,y:Yr}};if(rt)Ot=rt[0],Rt=rt[1],ut=rt[2],b=rt[3];else{qt=O(D,ht,-xt),D=qt.x,ht=qt.y,qt=O(pt,P,-xt),pt=qt.x,P=qt.y,D===pt&&ht===P&&(pt+=1,P+=1);var I=(D-pt)/2,j=(ht-P)/2,L=I*I/(Et*Et)+j*j/(lt*lt);L>1&&(L=Math.sqrt(L),Et=L*Et,lt=L*lt);var R=Et*Et,q=lt*lt,N=(Kt===ot?-1:1)*Math.sqrt(Math.abs((R*q-R*j*j-q*I*I)/(R*j*j+q*I*I)));ut=N*Et*j/lt+(D+pt)/2,b=N*-lt*I/Et+(ht+P)/2,Ot=Math.asin(((ht-b)/lt).toFixed(9)),Rt=Math.asin(((P-b)/lt).toFixed(9)),Ot=D<ut?Math.PI-Ot:Ot,Rt=pt<ut?Math.PI-Rt:Rt,Ot<0&&(Ot=Math.PI*2+Ot),Rt<0&&(Rt=Math.PI*2+Rt),ot&&Ot>Rt&&(Ot=Ot-Math.PI*2),!ot&&Rt>Ot&&(Rt=Rt-Math.PI*2)}var yt=Rt-Ot;if(Math.abs(yt)>Q){var Nt=Rt,Vt=pt,te=P;Rt=Ot+Q*(ot&&Rt>Ot?1:-1),pt=ut+Et*Math.cos(Rt),P=b+lt*Math.sin(Rt),dt=At(pt,P,Et,lt,jt,0,ot,Vt,te,[Rt,Nt,ut,b])}yt=Rt-Ot;var ee=Math.cos(Ot),ue=Math.sin(Ot),se=Math.cos(Rt),fe=Math.sin(Rt),Ae=Math.tan(yt/4),Ee=4/3*Et*Ae,Ie=4/3*lt*Ae,ke=[D,ht],je=[D+Ee*ue,ht-Ie*ee],Oe=[pt+Ee*fe,P-Ie*se],$e=[pt,P];if(je[0]=2*ke[0]-je[0],je[1]=2*ke[1]-je[1],rt)return[je,Oe,$e].concat(dt);dt=[je,Oe,$e].concat(dt).join().split(",");for(var Ke=[],Ye=0,er=dt.length;Ye<er;Ye++)Ke[Ye]=Ye%2?O(dt[Ye-1],dt[Ye],xt).y:O(dt[Ye],dt[Ye+1],xt).x;return Ke},Ft=function(D,ht){var Et=$(D),lt=ht&&$(ht),jt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Kt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ot=[],pt=[],P="",rt="",Q,xt=function(I,j,L){var R,q;if(!I)return["C",j.x,j.y,j.x,j.y,j.x,j.y];switch(!(I[0]in{T:1,Q:1})&&(j.qx=j.qy=null),I[0]){case"M":j.X=I[1],j.Y=I[2];break;case"A":I=["C"].concat(At.apply(0,[j.x,j.y].concat(I.slice(1))));break;case"S":L==="C"||L==="S"?(R=j.x*2-j.bx,q=j.y*2-j.by):(R=j.x,q=j.y),I=["C",R,q].concat(I.slice(1));break;case"T":L==="Q"||L==="T"?(j.qx=j.x*2-j.qx,j.qy=j.y*2-j.qy):(j.qx=j.x,j.qy=j.y),I=["C"].concat(bt(j.x,j.y,j.qx,j.qy,I[1],I[2]));break;case"Q":j.qx=I[1],j.qy=I[2],I=["C"].concat(bt(j.x,j.y,I[1],I[2],I[3],I[4]));break;case"L":I=["C"].concat(et(j.x,j.y,I[1],I[2]));break;case"H":I=["C"].concat(et(j.x,j.y,I[1],j.y));break;case"V":I=["C"].concat(et(j.x,j.y,j.x,I[1]));break;case"Z":I=["C"].concat(et(j.x,j.y,j.X,j.Y));break;default:break}return I},dt=function(I,j){if(I[j].length>7){I[j].shift();for(var L=I[j];L.length;)ot[j]="A",lt&&(pt[j]="A"),I.splice(j++,0,["C"].concat(L.splice(0,6)));I.splice(j,1),Q=Math.max(Et.length,lt&&lt.length||0)}},qt=function(I,j,L,R,q){I&&j&&I[q][0]==="M"&&j[q][0]!=="M"&&(j.splice(q,0,["M",R.x,R.y]),L.bx=0,L.by=0,L.x=I[q][1],L.y=I[q][2],Q=Math.max(Et.length,lt&&lt.length||0))};Q=Math.max(Et.length,lt&&lt.length||0);for(var Ot=0;Ot<Q;Ot++){Et[Ot]&&(P=Et[Ot][0]),P!=="C"&&(ot[Ot]=P,Ot&&(rt=ot[Ot-1])),Et[Ot]=xt(Et[Ot],jt,rt),ot[Ot]!=="A"&&P==="C"&&(ot[Ot]="C"),dt(Et,Ot),lt&&(lt[Ot]&&(P=lt[Ot][0]),P!=="C"&&(pt[Ot]=P,Ot&&(rt=pt[Ot-1])),lt[Ot]=xt(lt[Ot],Kt,rt),pt[Ot]!=="A"&&P==="C"&&(pt[Ot]="C"),dt(lt,Ot)),qt(Et,lt,jt,Kt,Ot),qt(lt,Et,Kt,jt,Ot);var Rt=Et[Ot],ut=lt&&lt[Ot],b=Rt.length,O=lt&&ut.length;jt.x=Rt[b-2],jt.y=Rt[b-1],jt.bx=parseFloat(Rt[b-4])||jt.x,jt.by=parseFloat(Rt[b-3])||jt.y,Kt.bx=lt&&(parseFloat(ut[O-4])||Kt.x),Kt.by=lt&&(parseFloat(ut[O-3])||Kt.y),Kt.x=lt&&ut[O-2],Kt.y=lt&&ut[O-1]}return lt?[Et,lt]:Et},Lt=/,?([a-z]),?/gi,Tt=function(D){return D.join(",").replace(Lt,"$1")},ct=function(D,ht,Et,lt,jt){var Kt=-3*ht+9*Et-9*lt+3*jt,ot=D*Kt+6*ht-12*Et+6*lt;return D*ot-3*ht+3*Et},St=function(D,ht,Et,lt,jt,Kt,ot,pt,P){P===null&&(P=1),P=P>1?1:P<0?0:P;for(var rt=P/2,Q=12,xt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],dt=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],qt=0,Ot=0;Ot<Q;Ot++){var Rt=rt*xt[Ot]+rt,ut=ct(Rt,D,Et,jt,ot),b=ct(Rt,ht,lt,Kt,pt),O=ut*ut+b*b;qt+=dt[Ot]*Math.sqrt(O)}return rt*qt},Ut=function(D,ht,Et,lt,jt,Kt,ot,pt){for(var P=[],rt=[[],[]],Q,xt,dt,qt,Ot=0;Ot<2;++Ot){if(Ot===0?(xt=6*D-12*Et+6*jt,Q=-3*D+9*Et-9*jt+3*ot,dt=3*Et-3*D):(xt=6*ht-12*lt+6*Kt,Q=-3*ht+9*lt-9*Kt+3*pt,dt=3*lt-3*ht),Math.abs(Q)<1e-12){if(Math.abs(xt)<1e-12)continue;qt=-dt/xt,qt>0&&qt<1&&P.push(qt);continue}var Rt=xt*xt-4*dt*Q,ut=Math.sqrt(Rt);if(!(Rt<0)){var b=(-xt+ut)/(2*Q);b>0&&b<1&&P.push(b);var O=(-xt-ut)/(2*Q);O>0&&O<1&&P.push(O)}}for(var I=P.length,j=I,L;I--;)qt=P[I],L=1-qt,rt[0][I]=L*L*L*D+3*L*L*qt*Et+3*L*qt*qt*jt+qt*qt*qt*ot,rt[1][I]=L*L*L*ht+3*L*L*qt*lt+3*L*qt*qt*Kt+qt*qt*qt*pt;return rt[0][j]=D,rt[1][j]=ht,rt[0][j+1]=ot,rt[1][j+1]=pt,rt[0].length=rt[1].length=j+2,{min:{x:Math.min.apply(0,rt[0]),y:Math.min.apply(0,rt[1])},max:{x:Math.max.apply(0,rt[0]),y:Math.max.apply(0,rt[1])}}},Dt=function(D,ht,Et,lt,jt,Kt,ot,pt){if(!(Math.max(D,Et)<Math.min(jt,ot)||Math.min(D,Et)>Math.max(jt,ot)||Math.max(ht,lt)<Math.min(Kt,pt)||Math.min(ht,lt)>Math.max(Kt,pt))){var P=(D*lt-ht*Et)*(jt-ot)-(D-Et)*(jt*pt-Kt*ot),rt=(D*lt-ht*Et)*(Kt-pt)-(ht-lt)*(jt*pt-Kt*ot),Q=(D-Et)*(Kt-pt)-(ht-lt)*(jt-ot);if(Q){var xt=P/Q,dt=rt/Q,qt=+xt.toFixed(2),Ot=+dt.toFixed(2);if(!(qt<+Math.min(D,Et).toFixed(2)||qt>+Math.max(D,Et).toFixed(2)||qt<+Math.min(jt,ot).toFixed(2)||qt>+Math.max(jt,ot).toFixed(2)||Ot<+Math.min(ht,lt).toFixed(2)||Ot>+Math.max(ht,lt).toFixed(2)||Ot<+Math.min(Kt,pt).toFixed(2)||Ot>+Math.max(Kt,pt).toFixed(2)))return{x:xt,y:dt}}}},It=function(D,ht,Et){return ht>=D.x&&ht<=D.x+D.width&&Et>=D.y&&Et<=D.y+D.height},mt=function(D,ht,Et,lt,jt){if(jt)return[["M",+D+ +jt,ht],["l",Et-jt*2,0],["a",jt,jt,0,0,1,jt,jt],["l",0,lt-jt*2],["a",jt,jt,0,0,1,-jt,jt],["l",jt*2-Et,0],["a",jt,jt,0,0,1,-jt,-jt],["l",0,jt*2-lt],["a",jt,jt,0,0,1,jt,-jt],["z"]];var Kt=[["M",D,ht],["l",Et,0],["l",0,lt],["l",-Et,0],["z"]];return Kt.parsePathArray=Tt,Kt},vt=function(D,ht,Et,lt){return D===null&&(D=ht=Et=lt=0),ht===null&&(ht=D.y,Et=D.width,lt=D.height,D=D.x),{x:D,y:ht,width:Et,w:Et,height:lt,h:lt,x2:D+Et,y2:ht+lt,cx:D+Et/2,cy:ht+lt/2,r1:Math.min(Et,lt)/2,r2:Math.max(Et,lt)/2,r0:Math.sqrt(Et*Et+lt*lt)/2,path:mt(D,ht,Et,lt),vb:[D,ht,Et,lt].join(" ")}},kt=function(D,ht){return D=vt(D),ht=vt(ht),It(ht,D.x,D.y)||It(ht,D.x2,D.y)||It(ht,D.x,D.y2)||It(ht,D.x2,D.y2)||It(D,ht.x,ht.y)||It(D,ht.x2,ht.y)||It(D,ht.x,ht.y2)||It(D,ht.x2,ht.y2)||(D.x<ht.x2&&D.x>ht.x||ht.x<D.x2&&ht.x>D.x)&&(D.y<ht.y2&&D.y>ht.y||ht.y<D.y2&&ht.y>D.y)},Mt=function(D,ht,Et,lt,jt,Kt,ot,pt){(0,nt.kJ)(D)||(D=[D,ht,Et,lt,jt,Kt,ot,pt]);var P=Ut.apply(null,D);return vt(P.min.x,P.min.y,P.max.x-P.min.x,P.max.y-P.min.y)},gt=function(D,ht,Et,lt,jt,Kt,ot,pt,P){var rt=1-P,Q=Math.pow(rt,3),xt=Math.pow(rt,2),dt=P*P,qt=dt*P,Ot=Q*D+xt*3*P*Et+rt*3*P*P*jt+qt*ot,Rt=Q*ht+xt*3*P*lt+rt*3*P*P*Kt+qt*pt,ut=D+2*P*(Et-D)+dt*(jt-2*Et+D),b=ht+2*P*(lt-ht)+dt*(Kt-2*lt+ht),O=Et+2*P*(jt-Et)+dt*(ot-2*jt+Et),I=lt+2*P*(Kt-lt)+dt*(pt-2*Kt+lt),j=rt*D+P*Et,L=rt*ht+P*lt,R=rt*jt+P*ot,q=rt*Kt+P*pt,N=90-Math.atan2(ut-O,b-I)*180/Math.PI;return{x:Ot,y:Rt,m:{x:ut,y:b},n:{x:O,y:I},start:{x:j,y:L},end:{x:R,y:q},alpha:N}},$t=function(D,ht,Et){var lt=Mt(D),jt=Mt(ht);if(!kt(lt,jt))return Et?0:[];for(var Kt=St.apply(0,D),ot=St.apply(0,ht),pt=~~(Kt/8),P=~~(ot/8),rt=[],Q=[],xt={},dt=Et?0:[],qt=0;qt<pt+1;qt++){var Ot=gt.apply(0,D.concat(qt/pt));rt.push({x:Ot.x,y:Ot.y,t:qt/pt})}for(var qt=0;qt<P+1;qt++){var Ot=gt.apply(0,ht.concat(qt/P));Q.push({x:Ot.x,y:Ot.y,t:qt/P})}for(var qt=0;qt<pt;qt++)for(var Rt=0;Rt<P;Rt++){var ut=rt[qt],b=rt[qt+1],O=Q[Rt],I=Q[Rt+1],j=Math.abs(b.x-ut.x)<.001?"y":"x",L=Math.abs(I.x-O.x)<.001?"y":"x",R=Dt(ut.x,ut.y,b.x,b.y,O.x,O.y,I.x,I.y);if(R){if(xt[R.x.toFixed(4)]===R.y.toFixed(4))continue;xt[R.x.toFixed(4)]=R.y.toFixed(4);var q=ut.t+Math.abs((R[j]-ut[j])/(b[j]-ut[j]))*(b.t-ut.t),N=O.t+Math.abs((R[L]-O[L])/(I[L]-O[L]))*(I.t-O.t);q>=0&&q<=1&&N>=0&&N<=1&&(Et?dt+=1:dt.push({x:R.x,y:R.y,t1:q,t2:N}))}}return dt},Ht=function(D,ht,Et){D=Ft(D),ht=Ft(ht);for(var lt,jt,Kt,ot,pt,P,rt,Q,xt,dt,qt=Et?0:[],Ot=0,Rt=D.length;Ot<Rt;Ot++){var ut=D[Ot];if(ut[0]==="M")lt=pt=ut[1],jt=P=ut[2];else{ut[0]==="C"?(xt=[lt,jt].concat(ut.slice(1)),lt=xt[6],jt=xt[7]):(xt=[lt,jt,lt,jt,pt,P,pt,P],lt=pt,jt=P);for(var b=0,O=ht.length;b<O;b++){var I=ht[b];if(I[0]==="M")Kt=rt=I[1],ot=Q=I[2];else{I[0]==="C"?(dt=[Kt,ot].concat(I.slice(1)),Kt=dt[6],ot=dt[7]):(dt=[Kt,ot,Kt,ot,rt,Q,rt,Q],Kt=rt,ot=Q);var j=$t(xt,dt,Et);if(Et)qt+=j;else{for(var L=0,R=j.length;L<R;L++)j[L].segment1=Ot,j[L].segment2=b,j[L].bez1=xt,j[L].bez2=dt;qt=qt.concat(j)}}}}}return qt},S=function(D,ht){return Ht(D,ht)};function H(D,ht){var Et=[],lt=[];function jt(Kt,ot){if(Kt.length===1)Et.push(Kt[0]),lt.push(Kt[0]);else{for(var pt=[],P=0;P<Kt.length-1;P++)P===0&&Et.push(Kt[0]),P===Kt.length-2&&lt.push(Kt[P+1]),pt[P]=[(1-ot)*Kt[P][0]+ot*Kt[P+1][0],(1-ot)*Kt[P][1]+ot*Kt[P+1][1]];jt(pt,ot)}}return D.length&&jt(D,ht),{left:Et,right:lt.reverse()}}function B(D,ht,Et){var lt=[[D[1],D[2]]];Et=Et||2;var jt=[];ht[0]==="A"?(lt.push(ht[6]),lt.push(ht[7])):ht[0]==="C"?(lt.push([ht[1],ht[2]]),lt.push([ht[3],ht[4]]),lt.push([ht[5],ht[6]])):ht[0]==="S"||ht[0]==="Q"?(lt.push([ht[1],ht[2]]),lt.push([ht[3],ht[4]])):lt.push([ht[1],ht[2]]);for(var Kt=lt,ot=1/Et,pt=0;pt<Et-1;pt++){var P=ot/(1-ot*pt),rt=H(Kt,P);jt.push(rt.left),Kt=rt.right}jt.push(Kt);var Q=jt.map(function(xt){var dt=[];return xt.length===4&&(dt.push("C"),dt=dt.concat(xt[2])),xt.length>=3&&(xt.length===3&&dt.push("Q"),dt=dt.concat(xt[1])),xt.length===2&&dt.push("L"),dt=dt.concat(xt[xt.length-1]),dt});return Q}var tt=function(D,ht,Et){if(Et===1)return[[].concat(D)];var lt=[];if(ht[0]==="L"||ht[0]==="C"||ht[0]==="Q")lt=lt.concat(B(D,ht,Et));else{var jt=[].concat(D);jt[0]==="M"&&(jt[0]="L");for(var Kt=0;Kt<=Et-1;Kt++)lt.push(jt)}return lt},k=function(D,ht){if(D.length===1)return D;var Et=D.length-1,lt=ht.length-1,jt=Et/lt,Kt=[];if(D.length===1&&D[0][0]==="M"){for(var ot=0;ot<lt-Et;ot++)D.push(D[0]);return D}for(var ot=0;ot<lt;ot++){var pt=Math.floor(jt*ot);Kt[pt]=(Kt[pt]||0)+1}var P=Kt.reduce(function(rt,Q,xt){return xt===Et?rt.concat(D[Et]):rt.concat(tt(D[xt],D[xt+1],Q))},[]);return P.unshift(D[0]),(ht[lt]==="Z"||ht[lt]==="z")&&P.push("Z"),P},T=function(D,ht){if(D.length!==ht.length)return!1;var Et=!0;return(0,nt.S6)(D,function(lt,jt){if(lt!==ht[jt])return Et=!1,!1}),Et};function _(D,ht,Et){var lt=null,jt=Et;return ht<jt&&(jt=ht,lt="add"),D<jt&&(jt=D,lt="del"),{type:lt,min:jt}}var w=function(D,ht){var Et=D.length,lt=ht.length,jt,Kt,ot=0;if(Et===0||lt===0)return null;for(var pt=[],P=0;P<=Et;P++)pt[P]=[],pt[P][0]={min:P};for(var rt=0;rt<=lt;rt++)pt[0][rt]={min:rt};for(var P=1;P<=Et;P++){jt=D[P-1];for(var rt=1;rt<=lt;rt++){Kt=ht[rt-1],T(jt,Kt)?ot=0:ot=1;var Q=pt[P-1][rt].min+1,xt=pt[P][rt-1].min+1,dt=pt[P-1][rt-1].min+ot;pt[P][rt]=_(Q,xt,dt)}}return pt},G=function(D,ht){var Et=w(D,ht),lt=D.length,jt=ht.length,Kt=[],ot=1,pt=1;if(Et[lt][jt].min!==lt){for(var P=1;P<=lt;P++){var rt=Et[P][P].min;pt=P;for(var Q=ot;Q<=jt;Q++)Et[P][Q].min<rt&&(rt=Et[P][Q].min,pt=Q);ot=pt,Et[P][ot].type&&Kt.push({index:P-1,type:Et[P][ot].type})}for(var P=Kt.length-1;P>=0;P--)ot=Kt[P].index,Kt[P].type==="add"?D.splice(ot,0,[].concat(D[ot])):D.splice(ot,1)}lt=D.length;var xt=jt-lt;if(lt<jt)for(var P=0;P<xt;P++)D[lt-1][0]==="z"||D[lt-1][0]==="Z"?D.splice(lt-2,0,D[lt-2]):D.push(D[lt-1]),lt+=1;return D};function it(D,ht,Et){for(var lt=[].concat(D),jt,Kt=1/(Et+1),ot=_t(ht)[0],pt=1;pt<=Et;pt++)Kt*=pt,jt=Math.floor(D.length*Kt),jt===0?lt.unshift([ot[0]*Kt+D[jt][0]*(1-Kt),ot[1]*Kt+D[jt][1]*(1-Kt)]):lt.splice(jt,0,[ot[0]*Kt+D[jt][0]*(1-Kt),ot[1]*Kt+D[jt][1]*(1-Kt)]);return lt}function _t(D){var ht=[];switch(D[0]){case"M":ht.push([D[1],D[2]]);break;case"L":ht.push([D[1],D[2]]);break;case"A":ht.push([D[6],D[7]]);break;case"Q":ht.push([D[3],D[4]]),ht.push([D[1],D[2]]);break;case"T":ht.push([D[1],D[2]]);break;case"C":ht.push([D[5],D[6]]),ht.push([D[1],D[2]]),ht.push([D[3],D[4]]);break;case"S":ht.push([D[3],D[4]]),ht.push([D[1],D[2]]);break;case"H":ht.push([D[1],D[1]]);break;case"V":ht.push([D[1],D[1]]);break;default:}return ht}var Yt=function(D,ht){if(D.length<=1)return D;for(var Et,lt=0;lt<ht.length;lt++)if(D[lt][0]!==ht[lt][0])switch(Et=_t(D[lt]),ht[lt][0]){case"M":D[lt]=["M"].concat(Et[0]);break;case"L":D[lt]=["L"].concat(Et[0]);break;case"A":D[lt]=[].concat(ht[lt]),D[lt][6]=Et[0][0],D[lt][7]=Et[0][1];break;case"Q":if(Et.length<2)if(lt>0)Et=it(Et,D[lt-1],1);else{D[lt]=ht[lt];break}D[lt]=["Q"].concat(Et.reduce(function(jt,Kt){return jt.concat(Kt)},[]));break;case"T":D[lt]=["T"].concat(Et[0]);break;case"C":if(Et.length<3)if(lt>0)Et=it(Et,D[lt-1],2);else{D[lt]=ht[lt];break}D[lt]=["C"].concat(Et.reduce(function(jt,Kt){return jt.concat(Kt)},[]));break;case"S":if(Et.length<2)if(lt>0)Et=it(Et,D[lt-1],1);else{D[lt]=ht[lt];break}D[lt]=["S"].concat(Et.reduce(function(jt,Kt){return jt.concat(Kt)},[]));break;default:D[lt]=ht[lt]}return D}},56430:function(Ce,z,F){"use strict";F.d(z,{$O:function(){return X},FE:function(){return Bt},mY:function(){return U}});var nt=F(91220),V=F(69307);function Bt(W,$,et){var bt=1;if((0,nt.HD)(W)&&(bt=W.split(`
`).length),bt>1){var At=K($,et);return $*bt+At*(bt-1)}return $}function K(W,$){return $?$-W:W*.14}function U(W,$){var et=(0,V.L)(),bt=0;if((0,nt.kK)(W)||W==="")return bt;if(et.save(),et.font=$,(0,nt.HD)(W)&&W.includes(`
`)){var At=W.split(`
`);(0,nt.S6)(At,function(Ft){var Lt=et.measureText(Ft).width;bt<Lt&&(bt=Lt)})}else bt=et.measureText(W).width;return et.restore(),bt}function X(W){var $=W.fontSize,et=W.fontFamily,bt=W.fontWeight,At=W.fontStyle,Ft=W.fontVariant;return[At,Ft,bt,$+"px",et].join(" ").trim()}},91220:function(Ce,z,F){"use strict";F.d(z,{As:function(){return V},CD:function(){return nt.CD},HD:function(){return nt.HD},Kn:function(){return nt.Kn},S6:function(){return nt.S6},UY:function(){return K},jC:function(){return nt.jC},jU:function(){return Bt},kK:function(){return nt.UM},mf:function(){return nt.mf},pP:function(){return U}});var nt=F(22374);function V(X,W){var $=X.indexOf(W);$!==-1&&X.splice($,1)}var Bt=typeof window!="undefined"&&typeof window.document!="undefined";function K(X,W){if(X.isCanvas())return!0;for(var $=W.getParent(),et=!1;$;){if($===X){et=!0;break}$=$.getParent()}return et}function U(X){return X.cfg.visible&&X.cfg.capture}},62930:function(Ce,z,F){"use strict";F.d(z,{wN:function(){return it},Ll:function(){return gt},x1:function(){return et},aH:function(){return lt},lD:function(){return Dt},Zr:function(){return nt}});var nt={};F.r(nt),F.d(nt,{distance:function(){return Bt},getBBoxByArray:function(){return U},getBBoxRange:function(){return X},isNumberEqual:function(){return K},piMod:function(){return W}});var V=F(22374);function Bt(ot,pt,P,rt){var Q=ot-P,xt=pt-rt;return Math.sqrt(Q*Q+xt*xt)}function K(ot,pt){return Math.abs(ot-pt)<.001}function U(ot,pt){var P=(0,V.VV)(ot),rt=(0,V.VV)(pt),Q=(0,V.Fp)(ot),xt=(0,V.Fp)(pt);return{x:P,y:rt,width:Q-P,height:xt-rt}}function X(ot,pt,P,rt){return{minX:(0,V.VV)([ot,P]),maxX:(0,V.Fp)([ot,P]),minY:(0,V.VV)([pt,rt]),maxY:(0,V.Fp)([pt,rt])}}function W(ot){return(ot+Math.PI*2)%(Math.PI*2)}var $=F(1153),et={box:function(ot,pt,P,rt){return U([ot,P],[pt,rt])},length:function(ot,pt,P,rt){return Bt(ot,pt,P,rt)},pointAt:function(ot,pt,P,rt,Q){return{x:(1-Q)*ot+Q*P,y:(1-Q)*pt+Q*rt}},pointDistance:function(ot,pt,P,rt,Q,xt){var dt=(P-ot)*(Q-ot)+(rt-pt)*(xt-pt);if(dt<0)return Bt(ot,pt,Q,xt);var qt=(P-ot)*(P-ot)+(rt-pt)*(rt-pt);return dt>qt?Bt(P,rt,Q,xt):this.pointToLine(ot,pt,P,rt,Q,xt)},pointToLine:function(ot,pt,P,rt,Q,xt){var dt=[P-ot,rt-pt];if($.I6(dt,[0,0]))return Math.sqrt((Q-ot)*(Q-ot)+(xt-pt)*(xt-pt));var qt=[-dt[1],dt[0]];$.Fv(qt,qt);var Ot=[Q-ot,xt-pt];return Math.abs($.AK(Ot,qt))},tangentAngle:function(ot,pt,P,rt){return Math.atan2(rt-pt,P-ot)}},bt=1e-4;function At(ot,pt,P,rt,Q,xt){var dt,qt=1/0,Ot=[P,rt],Rt=20;xt&&xt>200&&(Rt=xt/10);for(var ut=1/Rt,b=ut/10,O=0;O<=Rt;O++){var I=O*ut,j=[Q.apply(null,ot.concat([I])),Q.apply(null,pt.concat([I]))],L=Bt(Ot[0],Ot[1],j[0],j[1]);L<qt&&(dt=I,qt=L)}if(dt===0)return{x:ot[0],y:pt[0]};if(dt===1){var R=ot.length;return{x:ot[R-1],y:pt[R-1]}}qt=1/0;for(var O=0;O<32&&!(b<bt);O++){var q=dt-b,N=dt+b,j=[Q.apply(null,ot.concat([q])),Q.apply(null,pt.concat([q]))],L=Bt(Ot[0],Ot[1],j[0],j[1]);if(q>=0&&L<qt)dt=q,qt=L;else{var yt=[Q.apply(null,ot.concat([N])),Q.apply(null,pt.concat([N]))],Nt=Bt(Ot[0],Ot[1],yt[0],yt[1]);N<=1&&Nt<qt?(dt=N,qt=Nt):b*=.5}}return{x:Q.apply(null,ot.concat([dt])),y:Q.apply(null,pt.concat([dt]))}}function Ft(ot,pt){for(var P=0,rt=ot.length,Q=0;Q<rt;Q++){var xt=ot[Q],dt=pt[Q],qt=ot[(Q+1)%rt],Ot=pt[(Q+1)%rt];P+=Bt(xt,dt,qt,Ot)}return P/2}function Lt(ot,pt,P,rt){var Q=1-rt;return Q*Q*ot+2*rt*Q*pt+rt*rt*P}function Tt(ot,pt,P){var rt=ot+P-2*pt;if(K(rt,0))return[.5];var Q=(ot-pt)/rt;return Q<=1&&Q>=0?[Q]:[]}function ct(ot,pt,P,rt){return 2*(1-rt)*(pt-ot)+2*rt*(P-pt)}function St(ot,pt,P,rt,Q,xt,dt){var qt=Lt(ot,P,Q,dt),Ot=Lt(pt,rt,xt,dt),Rt=et.pointAt(ot,pt,P,rt,dt),ut=et.pointAt(P,rt,Q,xt,dt);return[[ot,pt,Rt.x,Rt.y,qt,Ot],[qt,Ot,ut.x,ut.y,Q,xt]]}function Ut(ot,pt,P,rt,Q,xt,dt){if(dt===0)return(Bt(ot,pt,P,rt)+Bt(P,rt,Q,xt)+Bt(ot,pt,Q,xt))/2;var qt=St(ot,pt,P,rt,Q,xt,.5),Ot=qt[0],Rt=qt[1];return Ot.push(dt-1),Rt.push(dt-1),Ut.apply(null,Ot)+Ut.apply(null,Rt)}var Dt={box:function(ot,pt,P,rt,Q,xt){var dt=Tt(ot,P,Q)[0],qt=Tt(pt,rt,xt)[0],Ot=[ot,Q],Rt=[pt,xt];return dt!==void 0&&Ot.push(Lt(ot,P,Q,dt)),qt!==void 0&&Rt.push(Lt(pt,rt,xt,qt)),U(Ot,Rt)},length:function(ot,pt,P,rt,Q,xt){return Ut(ot,pt,P,rt,Q,xt,3)},nearestPoint:function(ot,pt,P,rt,Q,xt,dt,qt){return At([ot,P,Q],[pt,rt,xt],dt,qt,Lt)},pointDistance:function(ot,pt,P,rt,Q,xt,dt,qt){var Ot=this.nearestPoint(ot,pt,P,rt,Q,xt,dt,qt);return Bt(Ot.x,Ot.y,dt,qt)},interpolationAt:Lt,pointAt:function(ot,pt,P,rt,Q,xt,dt){return{x:Lt(ot,P,Q,dt),y:Lt(pt,rt,xt,dt)}},divide:function(ot,pt,P,rt,Q,xt,dt){return St(ot,pt,P,rt,Q,xt,dt)},tangentAngle:function(ot,pt,P,rt,Q,xt,dt){var qt=ct(ot,P,Q,dt),Ot=ct(pt,rt,xt,dt),Rt=Math.atan2(Ot,qt);return W(Rt)}};function It(ot,pt,P,rt,Q){var xt=1-Q;return xt*xt*xt*ot+3*pt*Q*xt*xt+3*P*Q*Q*xt+rt*Q*Q*Q}function mt(ot,pt,P,rt,Q){var xt=1-Q;return 3*(xt*xt*(pt-ot)+2*xt*Q*(P-pt)+Q*Q*(rt-P))}function vt(ot,pt,P,rt){var Q=-3*ot+9*pt-9*P+3*rt,xt=6*ot-12*pt+6*P,dt=3*pt-3*ot,qt=[],Ot,Rt,ut;if(K(Q,0))K(xt,0)||(Ot=-dt/xt,Ot>=0&&Ot<=1&&qt.push(Ot));else{var b=xt*xt-4*Q*dt;K(b,0)?qt.push(-xt/(2*Q)):b>0&&(ut=Math.sqrt(b),Ot=(-xt+ut)/(2*Q),Rt=(-xt-ut)/(2*Q),Ot>=0&&Ot<=1&&qt.push(Ot),Rt>=0&&Rt<=1&&qt.push(Rt))}return qt}function kt(ot,pt,P,rt,Q,xt,dt,qt,Ot){var Rt=It(ot,P,Q,dt,Ot),ut=It(pt,rt,xt,qt,Ot),b=et.pointAt(ot,pt,P,rt,Ot),O=et.pointAt(P,rt,Q,xt,Ot),I=et.pointAt(Q,xt,dt,qt,Ot),j=et.pointAt(b.x,b.y,O.x,O.y,Ot),L=et.pointAt(O.x,O.y,I.x,I.y,Ot);return[[ot,pt,b.x,b.y,j.x,j.y,Rt,ut],[Rt,ut,L.x,L.y,I.x,I.y,dt,qt]]}function Mt(ot,pt,P,rt,Q,xt,dt,qt,Ot){if(Ot===0)return Ft([ot,P,Q,dt],[pt,rt,xt,qt]);var Rt=kt(ot,pt,P,rt,Q,xt,dt,qt,.5),ut=Rt[0],b=Rt[1];return ut.push(Ot-1),b.push(Ot-1),Mt.apply(null,ut)+Mt.apply(null,b)}var gt={extrema:vt,box:function(ot,pt,P,rt,Q,xt,dt,qt){for(var Ot=[ot,dt],Rt=[pt,qt],ut=vt(ot,P,Q,dt),b=vt(pt,rt,xt,qt),O=0;O<ut.length;O++)Ot.push(It(ot,P,Q,dt,ut[O]));for(var O=0;O<b.length;O++)Rt.push(It(pt,rt,xt,qt,b[O]));return U(Ot,Rt)},length:function(ot,pt,P,rt,Q,xt,dt,qt){return Mt(ot,pt,P,rt,Q,xt,dt,qt,3)},nearestPoint:function(ot,pt,P,rt,Q,xt,dt,qt,Ot,Rt,ut){return At([ot,P,Q,dt],[pt,rt,xt,qt],Ot,Rt,It,ut)},pointDistance:function(ot,pt,P,rt,Q,xt,dt,qt,Ot,Rt,ut){var b=this.nearestPoint(ot,pt,P,rt,Q,xt,dt,qt,Ot,Rt,ut);return Bt(b.x,b.y,Ot,Rt)},interpolationAt:It,pointAt:function(ot,pt,P,rt,Q,xt,dt,qt,Ot){return{x:It(ot,P,Q,dt,Ot),y:It(pt,rt,xt,qt,Ot)}},divide:function(ot,pt,P,rt,Q,xt,dt,qt,Ot){return kt(ot,pt,P,rt,Q,xt,dt,qt,Ot)},tangentAngle:function(ot,pt,P,rt,Q,xt,dt,qt,Ot){var Rt=mt(ot,P,Q,dt,Ot),ut=mt(pt,rt,xt,qt,Ot);return W(Math.atan2(ut,Rt))}};function $t(ot,pt){var P=Math.abs(ot);return pt>0?P:P*-1}var Ht={box:function(ot,pt,P,rt){return{x:ot-P,y:pt-rt,width:P*2,height:rt*2}},length:function(ot,pt,P,rt){return Math.PI*(3*(P+rt)-Math.sqrt((3*P+rt)*(P+3*rt)))},nearestPoint:function(ot,pt,P,rt,Q,xt){var dt=P,qt=rt;if(dt===0||qt===0)return{x:ot,y:pt};for(var Ot=Q-ot,Rt=xt-pt,ut=Math.abs(Ot),b=Math.abs(Rt),O=dt*dt,I=qt*qt,j=Math.PI/4,L,R,q=0;q<4;q++){L=dt*Math.cos(j),R=qt*Math.sin(j);var N=(O-I)*Math.pow(Math.cos(j),3)/dt,yt=(I-O)*Math.pow(Math.sin(j),3)/qt,Nt=L-N,Vt=R-yt,te=ut-N,ee=b-yt,ue=Math.hypot(Vt,Nt),se=Math.hypot(ee,te),fe=ue*Math.asin((Nt*ee-Vt*te)/(ue*se)),Ae=fe/Math.sqrt(O+I-L*L-R*R);j+=Ae,j=Math.min(Math.PI/2,Math.max(0,j))}return{x:ot+$t(L,Ot),y:pt+$t(R,Rt)}},pointDistance:function(ot,pt,P,rt,Q,xt){var dt=this.nearestPoint(ot,pt,P,rt,Q,xt);return Bt(dt.x,dt.y,Q,xt)},pointAt:function(ot,pt,P,rt,Q){var xt=2*Math.PI*Q;return{x:ot+P*Math.cos(xt),y:pt+rt*Math.sin(xt)}},tangentAngle:function(ot,pt,P,rt,Q){var xt=2*Math.PI*Q,dt=Math.atan2(rt*Math.cos(xt),-P*Math.sin(xt));return W(dt)}};function S(ot,pt,P,rt,Q,xt,dt,qt){return-1*P*Math.cos(Q)*Math.sin(qt)-rt*Math.sin(Q)*Math.cos(qt)}function H(ot,pt,P,rt,Q,xt,dt,qt){return-1*P*Math.sin(Q)*Math.sin(qt)+rt*Math.cos(Q)*Math.cos(qt)}function B(ot,pt,P){return Math.atan(-pt/ot*Math.tan(P))}function tt(ot,pt,P){return Math.atan(pt/(ot*Math.tan(P)))}function k(ot,pt,P,rt,Q,xt){return P*Math.cos(Q)*Math.cos(xt)-rt*Math.sin(Q)*Math.sin(xt)+ot}function T(ot,pt,P,rt,Q,xt){return P*Math.sin(Q)*Math.cos(xt)+rt*Math.cos(Q)*Math.sin(xt)+pt}function _(ot,pt,P,rt){var Q=Math.atan2(rt*ot,P*pt);return(Q+Math.PI*2)%(Math.PI*2)}function w(ot,pt,P){return{x:ot*Math.cos(P),y:pt*Math.sin(P)}}function G(ot,pt,P){var rt=Math.cos(P),Q=Math.sin(P);return[ot*rt-pt*Q,ot*Q+pt*rt]}var it={box:function(ot,pt,P,rt,Q,xt,dt){for(var qt=B(P,rt,Q),Ot=1/0,Rt=-1/0,ut=[xt,dt],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var O=qt+b;xt<dt?xt<O&&O<dt&&ut.push(O):dt<O&&O<xt&&ut.push(O)}for(var b=0;b<ut.length;b++){var I=k(ot,pt,P,rt,Q,ut[b]);I<Ot&&(Ot=I),I>Rt&&(Rt=I)}for(var j=tt(P,rt,Q),L=1/0,R=-1/0,q=[xt,dt],b=-Math.PI*2;b<=Math.PI*2;b+=Math.PI){var N=j+b;xt<dt?xt<N&&N<dt&&q.push(N):dt<N&&N<xt&&q.push(N)}for(var b=0;b<q.length;b++){var yt=T(ot,pt,P,rt,Q,q[b]);yt<L&&(L=yt),yt>R&&(R=yt)}return{x:Ot,y:L,width:Rt-Ot,height:R-L}},length:function(ot,pt,P,rt,Q,xt,dt){},nearestPoint:function(ot,pt,P,rt,Q,xt,dt,qt,Ot){var Rt=G(qt-ot,Ot-pt,-Q),ut=Rt[0],b=Rt[1],O=Ht.nearestPoint(0,0,P,rt,ut,b),I=_(P,rt,O.x,O.y);I<xt?O=w(P,rt,xt):I>dt&&(O=w(P,rt,dt));var j=G(O.x,O.y,Q);return{x:j[0]+ot,y:j[1]+pt}},pointDistance:function(ot,pt,P,rt,Q,xt,dt,qt,Ot){var Rt=this.nearestPoint(ot,pt,P,rt,qt,Ot);return Bt(Rt.x,Rt.y,qt,Ot)},pointAt:function(ot,pt,P,rt,Q,xt,dt,qt){var Ot=(dt-xt)*qt+xt;return{x:k(ot,pt,P,rt,Q,Ot),y:T(ot,pt,P,rt,Q,Ot)}},tangentAngle:function(ot,pt,P,rt,Q,xt,dt,qt){var Ot=(dt-xt)*qt+xt,Rt=S(ot,pt,P,rt,Q,xt,dt,Ot),ut=H(ot,pt,P,rt,Q,xt,dt,Ot);return W(Math.atan2(ut,Rt))}};function _t(ot){for(var pt=0,P=[],rt=0;rt<ot.length-1;rt++){var Q=ot[rt],xt=ot[rt+1],dt=Bt(Q[0],Q[1],xt[0],xt[1]),qt={from:Q,to:xt,length:dt};P.push(qt),pt+=dt}return{segments:P,totalLength:pt}}function Yt(ot){if(ot.length<2)return 0;for(var pt=0,P=0;P<ot.length-1;P++){var rt=ot[P],Q=ot[P+1];pt+=Bt(rt[0],rt[1],Q[0],Q[1])}return pt}function D(ot,pt){if(pt>1||pt<0||ot.length<2)return null;var P=_t(ot),rt=P.segments,Q=P.totalLength;if(Q===0)return{x:ot[0][0],y:ot[0][1]};for(var xt=0,dt=null,qt=0;qt<rt.length;qt++){var Ot=rt[qt],Rt=Ot.from,ut=Ot.to,b=Ot.length/Q;if(pt>=xt&&pt<=xt+b){var O=(pt-xt)/b;dt=et.pointAt(Rt[0],Rt[1],ut[0],ut[1],O);break}xt+=b}return dt}function ht(ot,pt){if(pt>1||pt<0||ot.length<2)return 0;for(var P=_t(ot),rt=P.segments,Q=P.totalLength,xt=0,dt=0,qt=0;qt<rt.length;qt++){var Ot=rt[qt],Rt=Ot.from,ut=Ot.to,b=Ot.length/Q;if(pt>=xt&&pt<=xt+b){dt=Math.atan2(ut[1]-Rt[1],ut[0]-Rt[0]);break}xt+=b}return dt}function Et(ot,pt,P){for(var rt=1/0,Q=0;Q<ot.length-1;Q++){var xt=ot[Q],dt=ot[Q+1],qt=et.pointDistance(xt[0],xt[1],dt[0],dt[1],pt,P);qt<rt&&(rt=qt)}return rt}var lt={box:function(ot){for(var pt=[],P=[],rt=0;rt<ot.length;rt++){var Q=ot[rt];pt.push(Q[0]),P.push(Q[1])}return U(pt,P)},length:function(ot){return Yt(ot)},pointAt:function(ot,pt){return D(ot,pt)},pointDistance:function(ot,pt,P){return Et(ot,pt,P)},tangentAngle:function(ot,pt){return ht(ot,pt)}};function jt(ot){var pt=ot.slice(0);return ot.length&&pt.push(ot[0]),pt}var Kt={box:function(ot){return lt.box(ot)},length:function(ot){return Yt(jt(ot))},pointAt:function(ot,pt){return D(jt(ot),pt)},pointDistance:function(ot,pt,P){return Et(jt(ot),pt,P)},tangentAngle:function(ot,pt){return ht(jt(ot),pt)}}},30870:function(){window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(Ce){try{let et=function(){U||(U=!0,Bt())},bt=function(){try{K.documentElement.doScroll("left")}catch(At){return void setTimeout(bt,50)}et()};var W=et,$=bt,F=(F=document.getElementsByTagName("script"))[F.length-1],z=F.getAttribute("data-injectcss"),F=F.getAttribute("data-disable-injectsvg");if(!F){var nt,V,Bt,K,U,X=function(Ft,Lt){Lt.parentNode.insertBefore(Ft,Lt)};if(z&&!Ce.__iconfont__svg__cssinject__){Ce.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(At){console&&console.log(At)}}nt=function(){var Ft,Lt=document.createElement("div");Lt.innerHTML=Ce._iconfont_svg_string_3580659,(Lt=Lt.getElementsByTagName("svg")[0])&&(Lt.setAttribute("aria-hidden","true"),Lt.style.position="absolute",Lt.style.width=0,Lt.style.height=0,Lt.style.overflow="hidden",Lt=Lt,(Ft=document.body).firstChild?X(Lt,Ft.firstChild):Ft.appendChild(Lt))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(nt,0):(V=function(){document.removeEventListener("DOMContentLoaded",V,!1),nt()},document.addEventListener("DOMContentLoaded",V,!1)):document.attachEvent&&(Bt=nt,K=Ce.document,U=!1,bt(),K.onreadystatechange=function(){K.readyState=="complete"&&(K.onreadystatechange=null,et())})}}catch(et){}}(window)},52789:function(Ce,z){"use strict";var F;F={value:!0},F=F=z.Tf=z.Bc=z.jp=z.fL=z.O6=z.rC=void 0,z.rC="l7plot-legend l7plot-legend__category",z.O6="l7plot-legend__title",z.fL="l7plot-legend__category-list",z.jp="l7plot-legend__list-item",z.Bc="l7plot-legend__category-marker",z.Tf="l7plot-legend__category-value",F='<div class="'.concat(z.rC,`">
  <div class="`).concat(z.O6,`"></div>
  <ul class="`).concat(z.fL,`"></ul>
</div>`),F='<li class="'.concat(z.jp,`" data-index={index}>
  <span class="`).concat(z.Bc,`" style="background:{color}"></span>
  <span class="`).concat(z.Tf,`">{value}</span>
</li>`)},34996:function(Ce,z){"use strict";var F;F={value:!0},F=F=z.VI=z.bl=z.el=z.I8=z.O6=z.rC=void 0,z.rC="l7plot-legend l7plot-legend__continue",z.O6="l7plot-legend__title",z.I8="l7plot-legend__ribbon-container",z.el="l7plot-legend__ribbon",z.bl="l7plot-legend__gradient-bar",z.VI="l7plot-legend__value-range",F='<div class="'.concat(z.rC,`">
  <div class="`).concat(z.O6,`"></div>
  <div class="`).concat(z.I8,`"></div>
</div>`),F='<div class="'.concat(z.el,`">
  <span class="`).concat(z.VI,`">{min}</span>
  <div class="`).concat(z.bl,`" style="background-image: {backgroundImage}"></div>
  <span class="`).concat(z.VI,`">{max}</span>
</div>`)},84593:function(Ce,z){"use strict";var F;F={value:!0},F=F=z.Tf=z.bX=z.jp=z.fL=z.O6=z.rC=void 0,z.rC="l7plot-tooltip",z.O6="l7plot-tooltip__title",z.fL="l7plot-tooltip__list",z.jp="l7plot-tooltip__list-item",z.bX="l7plot-tooltip__name",z.Tf="l7plot-tooltip__value",F='<div class="'.concat(z.rC,`">
  <div class="`).concat(z.O6,`"></div>
  <ul class="`).concat(z.fL,`"></ul>
</div>`),F='<li class="'.concat(z.jp,`" data-index={index}>
  <span class="`).concat(z.bX,`">{name}</span>
  <span class="`).concat(z.Tf,`">{value}</span>
</li>`)},32071:function(Ce,z,F){"use strict";F.d(z,{Dg:function(){return et},lh:function(){return U},m$:function(){return Bt},vs:function(){return W},zu:function(){return K}});var nt=F(99250),V=F(1153);function Bt(At,Ft,Lt){var Tt=[0,0,0,0,0,0,0,0,0];return nt.vc(Tt,Lt),nt.Jp(At,Tt,Ft)}function K(At,Ft,Lt){var Tt=[0,0,0,0,0,0,0,0,0];return nt.Us(Tt,Lt),nt.Jp(At,Tt,Ft)}function U(At,Ft,Lt){var Tt=[0,0,0,0,0,0,0,0,0];return nt.xJ(Tt,Lt),nt.Jp(At,Tt,Ft)}function X(At,Ft,Lt){return nt.Jp(At,Lt,Ft)}function W(At,Ft){for(var Lt=At?[].concat(At):[1,0,0,0,1,0,0,0,1],Tt=0,ct=Ft.length;Tt<ct;Tt++){var St=Ft[Tt];switch(St[0]){case"t":Bt(Lt,Lt,[St[1],St[2]]);break;case"s":U(Lt,Lt,[St[1],St[2]]);break;case"r":K(Lt,Lt,St[1]);break;case"m":X(Lt,Lt,St[1]);break;default:break}}return Lt}function $(At,Ft){return At[0]*Ft[1]-Ft[0]*At[1]}function et(At,Ft,Lt){var Tt=V.EU(At,Ft),ct=$(At,Ft)>=0;return Lt?ct?Math.PI*2-Tt:Tt:ct?Tt:Math.PI*2-Tt}function bt(At,Ft,Lt){return Lt?(At[0]=Ft[1],At[1]=-1*Ft[0]):(At[0]=-1*Ft[1],At[1]=Ft[0]),At}},34357:function(Ce,z,F){"use strict";F.d(z,{e9:function(){return et},Wq:function(){return j},tr:function(){return St},wb:function(){return It},zx:function(){return rt}});var nt=F(22374),V=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,Bt=/[^\s\,]+/ig;function K(L){var R=L||[];if((0,nt.kJ)(R))return R;if((0,nt.HD)(R))return R=R.match(V),(0,nt.S6)(R,function(q,N){if(q=q.match(Bt),q[0].length>1){var yt=q[0].charAt(0);q.splice(1,0,q[0].substr(1)),q[0]=yt}(0,nt.S6)(q,function(Nt,Vt){isNaN(Nt)||(q[Vt]=+Nt)}),R[N]=q}),R}var U=K,X=F(1153);function W(L,R,q,N){var yt=[],Nt=!!N,Vt,te,ee,ue,se,fe,Ae;if(Nt){ee=N[0],ue=N[1];for(var Ee=0,Ie=L.length;Ee<Ie;Ee+=1){var ke=L[Ee];ee=X.VV([0,0],ee,ke),ue=X.Fp([0,0],ue,ke)}}for(var Ee=0,je=L.length;Ee<je;Ee+=1){var ke=L[Ee];if(Ee===0&&!q)Ae=ke;else if(Ee===je-1&&!q)fe=ke,yt.push(Ae),yt.push(fe);else{var Oe=[Ee?Ee-1:je-1,Ee-1][q?0:1];Vt=L[Oe],te=L[q?(Ee+1)%je:Ee+1];var $e=[0,0];$e=X.lu($e,te,Vt),$e=X.bA($e,$e,R);var Ke=X.TE(ke,Vt),Ye=X.TE(ke,te),er=Ke+Ye;er!==0&&(Ke/=er,Ye/=er);var sr=X.bA([0,0],$e,-Ke),cr=X.bA([0,0],$e,Ye);fe=X.IH([0,0],ke,sr),se=X.IH([0,0],ke,cr),se=X.VV([0,0],se,X.Fp([0,0],te,ke)),se=X.Fp([0,0],se,X.VV([0,0],te,ke)),sr=X.lu([0,0],se,ke),sr=X.bA([0,0],sr,-Ke/Ye),fe=X.IH([0,0],ke,sr),fe=X.VV([0,0],fe,X.Fp([0,0],Vt,ke)),fe=X.Fp([0,0],fe,X.VV([0,0],Vt,ke)),cr=X.lu([0,0],ke,fe),cr=X.bA([0,0],cr,Ye/Ke),se=X.IH([0,0],ke,cr),Nt&&(fe=X.Fp([0,0],fe,ee),fe=X.VV([0,0],fe,ue),se=X.Fp([0,0],se,ee),se=X.VV([0,0],se,ue)),yt.push(Ae),yt.push(fe),Ae=se}}return q&&yt.push(yt.shift()),yt}function $(L,R,q){R===void 0&&(R=!1),q===void 0&&(q=[[0,0],[1,1]]);for(var N=!!R,yt=[],Nt=0,Vt=L.length;Nt<Vt;Nt+=2)yt.push([L[Nt],L[Nt+1]]);for(var te=W(yt,.4,N,q),ee=yt.length,ue=[],se,fe,Ae,Nt=0;Nt<ee-1;Nt+=1)se=te[Nt*2],fe=te[Nt*2+1],Ae=yt[Nt+1],ue.push(["C",se[0],se[1],fe[0],fe[1],Ae[0],Ae[1]]);return N&&(se=te[ee],fe=te[ee+1],Ae=yt[0],ue.push(["C",se[0],se[1],fe[0],fe[1],Ae[0],Ae[1]])),ue}var et=$;function bt(L,R,q){var N=null,yt=q;return R<yt&&(yt=R,N="add"),L<yt&&(yt=L,N="del"),{type:N,min:yt}}var At=function(L,R){var q=L.length,N=R.length,yt,Nt,Vt=0;if(q===0||N===0)return null;for(var te=[],ee=0;ee<=q;ee++)te[ee]=[],te[ee][0]={min:ee};for(var ue=0;ue<=N;ue++)te[0][ue]={min:ue};for(var ee=1;ee<=q;ee++){yt=L[ee-1];for(var ue=1;ue<=N;ue++){Nt=R[ue-1],isEqual(yt,Nt)?Vt=0:Vt=1;var se=te[ee-1][ue].min+1,fe=te[ee][ue-1].min+1,Ae=te[ee-1][ue-1].min+Vt;te[ee][ue]=bt(se,fe,Ae)}}return te};function Ft(L,R){var q=At(L,R),N=L.length,yt=R.length,Nt=[],Vt=1,te=1;if(q[N][yt]!==N){for(var ee=1;ee<=N;ee++){var ue=q[ee][ee].min;te=ee;for(var se=Vt;se<=yt;se++)q[ee][se].min<ue&&(ue=q[ee][se].min,te=se);Vt=te,q[ee][Vt].type&&Nt.push({index:ee-1,type:q[ee][Vt].type})}for(var ee=Nt.length-1;ee>=0;ee--)Vt=Nt[ee].index,Nt[ee].type==="add"?L.splice(Vt,0,[].concat(L[Vt])):L.splice(Vt,1)}if(N=L.length,N<yt)for(var ee=0;ee<yt-N;ee++)L[N-1][0]==="z"||L[N-1][0]==="Z"?L.splice(N-2,0,L[N-2]):L.push(L[N-1]);return L}var Lt=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,Tt=new RegExp("([a-z])["+Lt+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+Lt+"]*,?["+Lt+"]*)+)","ig"),ct=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+Lt+"]*,?["+Lt+"]*","ig");function St(L){if(!L)return null;if((0,nt.kJ)(L))return L;var R={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},q=[];return String(L).replace(Tt,function(N,yt,Nt){var Vt=[],te=yt.toLowerCase();if(Nt.replace(ct,function(ee,ue){ue&&Vt.push(+ue)}),te==="m"&&Vt.length>2&&(q.push([yt].concat(Vt.splice(0,2))),te="l",yt=yt==="m"?"l":"L"),te==="o"&&Vt.length===1&&q.push([yt,Vt[0]]),te==="r")q.push([yt].concat(Vt));else for(;Vt.length>=R[te]&&(q.push([yt].concat(Vt.splice(0,R[te]))),!!R[te]););return""}),q}var Ut=/[a-z]/;function Dt(L,R){return[R[0]+(R[0]-L[0]),R[1]+(R[1]-L[1])]}function It(L){var R=St(L);if(!R||!R.length)return[["M",0,0]];for(var q=!1,N=0;N<R.length;N++){var yt=R[N][0];if(Ut.test(yt)||["V","H","T","S"].indexOf(yt)>=0){q=!0;break}}if(!q)return R;var Nt=[],Vt=0,te=0,ee=0,ue=0,se=0,fe,Ae,Ee=R[0];(Ee[0]==="M"||Ee[0]==="m")&&(Vt=+Ee[1],te=+Ee[2],ee=Vt,ue=te,se++,Nt[0]=["M",Vt,te]);for(var N=se,Ie=R.length;N<Ie;N++){var ke=R[N],je=Nt[N-1],Oe=[],yt=ke[0],$e=yt.toUpperCase();if(yt!==$e)switch(Oe[0]=$e,$e){case"A":Oe[1]=ke[1],Oe[2]=ke[2],Oe[3]=ke[3],Oe[4]=ke[4],Oe[5]=ke[5],Oe[6]=+ke[6]+Vt,Oe[7]=+ke[7]+te;break;case"V":Oe[1]=+ke[1]+te;break;case"H":Oe[1]=+ke[1]+Vt;break;case"M":ee=+ke[1]+Vt,ue=+ke[2]+te,Oe[1]=ee,Oe[2]=ue;break;default:for(var Ke=1,Ye=ke.length;Ke<Ye;Ke++)Oe[Ke]=+ke[Ke]+(Ke%2?Vt:te)}else Oe=R[N];switch($e){case"Z":Vt=+ee,te=+ue;break;case"H":Vt=Oe[1],Oe=["L",Vt,te];break;case"V":te=Oe[1],Oe=["L",Vt,te];break;case"T":Vt=Oe[1],te=Oe[2];var er=Dt([je[1],je[2]],[je[3],je[4]]);Oe=["Q",er[0],er[1],Vt,te];break;case"S":Vt=Oe[Oe.length-2],te=Oe[Oe.length-1];var sr=je.length,cr=Dt([je[sr-4],je[sr-3]],[je[sr-2],je[sr-1]]);Oe=["C",cr[0],cr[1],Oe[1],Oe[2],Vt,te];break;case"M":ee=Oe[Oe.length-2],ue=Oe[Oe.length-1];break;default:Vt=Oe[Oe.length-2],te=Oe[Oe.length-1]}Nt.push(Oe)}return Nt}var mt=Math.PI*2,vt=function(L,R,q,N,yt,Nt,Vt){var te=L.x,ee=L.y;te*=R,ee*=q;var ue=N*te-yt*ee,se=yt*te+N*ee;return{x:ue+Nt,y:se+Vt}},kt=function(L,R){var q=R===1.5707963267948966?.551915024494:R===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(R/4),N=Math.cos(L),yt=Math.sin(L),Nt=Math.cos(L+R),Vt=Math.sin(L+R);return[{x:N-yt*q,y:yt+N*q},{x:Nt+Vt*q,y:Vt-Nt*q},{x:Nt,y:Vt}]},Mt=function(L,R,q,N){var yt=L*N-R*q<0?-1:1,Nt=L*q+R*N;return Nt>1&&(Nt=1),Nt<-1&&(Nt=-1),yt*Math.acos(Nt)},gt=function(L,R,q,N,yt,Nt,Vt,te,ee,ue,se,fe){var Ae=Math.pow(yt,2),Ee=Math.pow(Nt,2),Ie=Math.pow(se,2),ke=Math.pow(fe,2),je=Ae*Ee-Ae*ke-Ee*Ie;je<0&&(je=0),je/=Ae*ke+Ee*Ie,je=Math.sqrt(je)*(Vt===te?-1:1);var Oe=je*yt/Nt*fe,$e=je*-Nt/yt*se,Ke=ue*Oe-ee*$e+(L+q)/2,Ye=ee*Oe+ue*$e+(R+N)/2,er=(se-Oe)/yt,sr=(fe-$e)/Nt,cr=(-se-Oe)/yt,Lr=(-fe-$e)/Nt,en=Mt(1,0,er,sr),Yr=Mt(er,sr,cr,Lr);return te===0&&Yr>0&&(Yr-=mt),te===1&&Yr<0&&(Yr+=mt),[Ke,Ye,en,Yr]},$t=function(L){var R=L.px,q=L.py,N=L.cx,yt=L.cy,Nt=L.rx,Vt=L.ry,te=L.xAxisRotation,ee=te===void 0?0:te,ue=L.largeArcFlag,se=ue===void 0?0:ue,fe=L.sweepFlag,Ae=fe===void 0?0:fe,Ee=[];if(Nt===0||Vt===0)return[{x1:0,y1:0,x2:0,y2:0,x:N,y:yt}];var Ie=Math.sin(ee*mt/360),ke=Math.cos(ee*mt/360),je=ke*(R-N)/2+Ie*(q-yt)/2,Oe=-Ie*(R-N)/2+ke*(q-yt)/2;if(je===0&&Oe===0)return[{x1:0,y1:0,x2:0,y2:0,x:N,y:yt}];Nt=Math.abs(Nt),Vt=Math.abs(Vt);var $e=Math.pow(je,2)/Math.pow(Nt,2)+Math.pow(Oe,2)/Math.pow(Vt,2);$e>1&&(Nt*=Math.sqrt($e),Vt*=Math.sqrt($e));var Ke=gt(R,q,N,yt,Nt,Vt,se,Ae,Ie,ke,je,Oe),Ye=Ke[0],er=Ke[1],sr=Ke[2],cr=Ke[3],Lr=Math.abs(cr)/(mt/4);Math.abs(1-Lr)<1e-7&&(Lr=1);var en=Math.max(Math.ceil(Lr),1);cr/=en;for(var Yr=0;Yr<en;Yr++)Ee.push(kt(sr,cr)),sr+=cr;return Ee.map(function(Nn){var Li=vt(Nn[0],Nt,Vt,ke,Ie,Ye,er),Ii=Li.x,pa=Li.y,bn=vt(Nn[1],Nt,Vt,ke,Ie,Ye,er),jn=bn.x,An=bn.y,Zn=vt(Nn[2],Nt,Vt,ke,Ie,Ye,er),Pi=Zn.x,vi=Zn.y;return{x1:Ii,y1:pa,x2:jn,y2:An,x:Pi,y:vi}})};function Ht(L,R,q,N,yt,Nt,Vt,te,ee){var ue=$t({px:L,py:R,cx:te,cy:ee,rx:q,ry:N,xAxisRotation:yt,largeArcFlag:Nt,sweepFlag:Vt});return ue.reduce(function(se,fe){var Ae=fe.x1,Ee=fe.y1,Ie=fe.x2,ke=fe.y2,je=fe.x,Oe=fe.y;return se.push(Ae,Ee,Ie,ke,je,Oe),se},[])}function S(L,R){"TQ".indexOf(L[0])<0&&(R.qx=null,R.qy=null);var q=L.slice(1),N=q[0],yt=q[1];switch(L[0]){case"M":return R.x=N,R.y=yt,L;case"A":return["C"].concat(arcToCubic.apply(0,[R.x1,R.y1].concat(L.slice(1))));case"Q":return R.qx=N,R.qy=yt,["C"].concat(quadToCubic.apply(0,[R.x1,R.y1].concat(L.slice(1))));case"L":return["C"].concat(lineToCubic(R.x1,R.y1,L[1],L[2]));case"H":return["C"].concat(lineToCubic(R.x1,R.y1,L[1],R.y1));case"V":return["C"].concat(lineToCubic(R.x1,R.y1,R.x1,L[1]));case"Z":return["C"].concat(lineToCubic(R.x1,R.y1,R.x,R.y));default:}return L}function H(L,R){R===void 0&&(R=!1);for(var q=path2Absolute(L),N={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},yt=[],Nt="",Vt=q.length,te,ee,ue=[],se=0;se<Vt;se+=1)q[se]&&(Nt=q[se][0]),yt[se]=Nt,q[se]=segmentToCubic(q[se],N),B(q,yt,se),Vt=q.length,Nt==="Z"&&ue.push(se),te=q[se],ee=te.length,N.x1=+te[ee-2],N.y1=+te[ee-1],N.x2=+te[ee-4]||N.x1,N.y2=+te[ee-3]||N.y1;return R?[q,ue]:q}function B(L,R,q){if(L[q].length>7){L[q].shift();for(var N=L[q],yt=q;N.length;)R[q]="A",L.splice(yt+=1,0,["C"].concat(N.splice(0,6)));L.splice(q,1)}}var tt=function(L,R,q,N,yt){var Nt=-3*R+9*q-9*N+3*yt,Vt=L*Nt+6*R-12*q+6*N;return L*Vt-3*R+3*q},k=function(L,R,q,N,yt,Nt,Vt,te,ee){ee===null&&(ee=1),ee=ee>1?1:ee<0?0:ee;for(var ue=ee/2,se=12,fe=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ae=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Ee=0,Ie=0;Ie<se;Ie++){var ke=ue*fe[Ie]+ue,je=tt(ke,L,q,yt,Vt),Oe=tt(ke,R,N,Nt,te),$e=je*je+Oe*Oe;Ee+=Ae[Ie]*Math.sqrt($e)}return ue*Ee},T=function(L,R,q,N,yt,Nt,Vt,te){for(var ee=[],ue=[[],[]],se,fe,Ae,Ee,Ie=0;Ie<2;++Ie){if(Ie===0?(fe=6*L-12*q+6*yt,se=-3*L+9*q-9*yt+3*Vt,Ae=3*q-3*L):(fe=6*R-12*N+6*Nt,se=-3*R+9*N-9*Nt+3*te,Ae=3*N-3*R),Math.abs(se)<1e-12){if(Math.abs(fe)<1e-12)continue;Ee=-Ae/fe,Ee>0&&Ee<1&&ee.push(Ee);continue}var ke=fe*fe-4*Ae*se,je=Math.sqrt(ke);if(!(ke<0)){var Oe=(-fe+je)/(2*se);Oe>0&&Oe<1&&ee.push(Oe);var $e=(-fe-je)/(2*se);$e>0&&$e<1&&ee.push($e)}}for(var Ke=ee.length,Ye=Ke,er;Ke--;)Ee=ee[Ke],er=1-Ee,ue[0][Ke]=er*er*er*L+3*er*er*Ee*q+3*er*Ee*Ee*yt+Ee*Ee*Ee*Vt,ue[1][Ke]=er*er*er*R+3*er*er*Ee*N+3*er*Ee*Ee*Nt+Ee*Ee*Ee*te;return ue[0][Ye]=L,ue[1][Ye]=R,ue[0][Ye+1]=Vt,ue[1][Ye+1]=te,ue[0].length=ue[1].length=Ye+2,{min:{x:Math.min.apply(0,ue[0]),y:Math.min.apply(0,ue[1])},max:{x:Math.max.apply(0,ue[0]),y:Math.max.apply(0,ue[1])}}},_=function(L,R,q,N,yt,Nt,Vt,te){if(!(Math.max(L,q)<Math.min(yt,Vt)||Math.min(L,q)>Math.max(yt,Vt)||Math.max(R,N)<Math.min(Nt,te)||Math.min(R,N)>Math.max(Nt,te))){var ee=(L*N-R*q)*(yt-Vt)-(L-q)*(yt*te-Nt*Vt),ue=(L*N-R*q)*(Nt-te)-(R-N)*(yt*te-Nt*Vt),se=(L-q)*(Nt-te)-(R-N)*(yt-Vt);if(se){var fe=ee/se,Ae=ue/se,Ee=+fe.toFixed(2),Ie=+Ae.toFixed(2);if(!(Ee<+Math.min(L,q).toFixed(2)||Ee>+Math.max(L,q).toFixed(2)||Ee<+Math.min(yt,Vt).toFixed(2)||Ee>+Math.max(yt,Vt).toFixed(2)||Ie<+Math.min(R,N).toFixed(2)||Ie>+Math.max(R,N).toFixed(2)||Ie<+Math.min(Nt,te).toFixed(2)||Ie>+Math.max(Nt,te).toFixed(2)))return{x:fe,y:Ae}}}},w=function(L,R,q){return R>=L.x&&R<=L.x+L.width&&q>=L.y&&q<=L.y+L.height},G=function(L,R,q,N){return L===null&&(L=R=q=N=0),R===null&&(R=L.y,q=L.width,N=L.height,L=L.x),{x:L,y:R,width:q,w:q,height:N,h:N,x2:L+q,y2:R+N,cx:L+q/2,cy:R+N/2,r1:Math.min(q,N)/2,r2:Math.max(q,N)/2,r0:Math.sqrt(q*q+N*N)/2,path:rectPath(L,R,q,N),vb:[L,R,q,N].join(" ")}},it=function(L,R){return L=G(L),R=G(R),w(R,L.x,L.y)||w(R,L.x2,L.y)||w(R,L.x,L.y2)||w(R,L.x2,L.y2)||w(L,R.x,R.y)||w(L,R.x2,R.y)||w(L,R.x,R.y2)||w(L,R.x2,R.y2)||(L.x<R.x2&&L.x>R.x||R.x<L.x2&&R.x>L.x)&&(L.y<R.y2&&L.y>R.y||R.y<L.y2&&R.y>L.y)},_t=function(L,R,q,N,yt,Nt,Vt,te){isArray(L)||(L=[L,R,q,N,yt,Nt,Vt,te]);var ee=T.apply(null,L);return G(ee.min.x,ee.min.y,ee.max.x-ee.min.x,ee.max.y-ee.min.y)},Yt=function(L,R,q,N,yt,Nt,Vt,te,ee){var ue=1-ee,se=Math.pow(ue,3),fe=Math.pow(ue,2),Ae=ee*ee,Ee=Ae*ee,Ie=se*L+fe*3*ee*q+ue*3*ee*ee*yt+Ee*Vt,ke=se*R+fe*3*ee*N+ue*3*ee*ee*Nt+Ee*te,je=L+2*ee*(q-L)+Ae*(yt-2*q+L),Oe=R+2*ee*(N-R)+Ae*(Nt-2*N+R),$e=q+2*ee*(yt-q)+Ae*(Vt-2*yt+q),Ke=N+2*ee*(Nt-N)+Ae*(te-2*Nt+N),Ye=ue*L+ee*q,er=ue*R+ee*N,sr=ue*yt+ee*Vt,cr=ue*Nt+ee*te,Lr=90-Math.atan2(je-$e,Oe-Ke)*180/Math.PI;return{x:Ie,y:ke,m:{x:je,y:Oe},n:{x:$e,y:Ke},start:{x:Ye,y:er},end:{x:sr,y:cr},alpha:Lr}},D=function(L,R,q){var N=_t(L),yt=_t(R);if(!it(N,yt))return q?0:[];for(var Nt=k.apply(0,L),Vt=k.apply(0,R),te=~~(Nt/8),ee=~~(Vt/8),ue=[],se=[],fe={},Ae=q?0:[],Ee=0;Ee<te+1;Ee++){var Ie=Yt.apply(0,L.concat(Ee/te));ue.push({x:Ie.x,y:Ie.y,t:Ee/te})}for(var Ee=0;Ee<ee+1;Ee++){var Ie=Yt.apply(0,R.concat(Ee/ee));se.push({x:Ie.x,y:Ie.y,t:Ee/ee})}for(var Ee=0;Ee<te;Ee++)for(var ke=0;ke<ee;ke++){var je=ue[Ee],Oe=ue[Ee+1],$e=se[ke],Ke=se[ke+1],Ye=Math.abs(Oe.x-je.x)<.001?"y":"x",er=Math.abs(Ke.x-$e.x)<.001?"y":"x",sr=_(je.x,je.y,Oe.x,Oe.y,$e.x,$e.y,Ke.x,Ke.y);if(sr){if(fe[sr.x.toFixed(4)]===sr.y.toFixed(4))continue;fe[sr.x.toFixed(4)]=sr.y.toFixed(4);var cr=je.t+Math.abs((sr[Ye]-je[Ye])/(Oe[Ye]-je[Ye]))*(Oe.t-je.t),Lr=$e.t+Math.abs((sr[er]-$e[er])/(Ke[er]-$e[er]))*(Ke.t-$e.t);cr>=0&&cr<=1&&Lr>=0&&Lr<=1&&(q?Ae++:Ae.push({x:sr.x,y:sr.y,t1:cr,t2:Lr}))}}return Ae},ht=function(L,R,q){L=path2Curve(L),R=path2Curve(R);for(var N,yt,Nt,Vt,te,ee,ue,se,fe,Ae,Ee=q?0:[],Ie=0,ke=L.length;Ie<ke;Ie++){var je=L[Ie];if(je[0]==="M")N=te=je[1],yt=ee=je[2];else{je[0]==="C"?(fe=[N,yt].concat(je.slice(1)),N=fe[6],yt=fe[7]):(fe=[N,yt,N,yt,te,ee,te,ee],N=te,yt=ee);for(var Oe=0,$e=R.length;Oe<$e;Oe++){var Ke=R[Oe];if(Ke[0]==="M")Nt=ue=Ke[1],Vt=se=Ke[2];else{Ke[0]==="C"?(Ae=[Nt,Vt].concat(Ke.slice(1)),Nt=Ae[6],Vt=Ae[7]):(Ae=[Nt,Vt,Nt,Vt,ue,se,ue,se],Nt=ue,Vt=se);var Ye=D(fe,Ae,q);if(q)Ee+=Ye;else{for(var er=0,sr=Ye.length;er<sr;er++)Ye[er].segment1=Ie,Ye[er].segment2=Oe,Ye[er].bez1=fe,Ye[er].bez2=Ae;Ee=Ee.concat(Ye)}}}}}return Ee};function Et(L,R){return ht(L,R)}function lt(L){return Math.sqrt(L[0]*L[0]+L[1]*L[1])}function jt(L,R){return lt(L)*lt(R)?(L[0]*R[0]+L[1]*R[1])/(lt(L)*lt(R)):1}function Kt(L,R){return(L[0]*R[1]<L[1]*R[0]?-1:1)*Math.acos(jt(L,R))}function ot(L,R){return L[0]===R[0]&&L[1]===R[1]}function pt(L,R){var q=R[1],N=R[2],yt=(0,nt.wQ)((0,nt.c$)(R[3]),Math.PI*2),Nt=R[4],Vt=R[5],te=L[0],ee=L[1],ue=R[6],se=R[7],fe=Math.cos(yt)*(te-ue)/2+Math.sin(yt)*(ee-se)/2,Ae=-1*Math.sin(yt)*(te-ue)/2+Math.cos(yt)*(ee-se)/2,Ee=fe*fe/(q*q)+Ae*Ae/(N*N);Ee>1&&(q*=Math.sqrt(Ee),N*=Math.sqrt(Ee));var Ie=q*q*(Ae*Ae)+N*N*(fe*fe),ke=Ie?Math.sqrt((q*q*(N*N)-Ie)/Ie):1;Nt===Vt&&(ke*=-1),isNaN(ke)&&(ke=0);var je=N?ke*q*Ae/N:0,Oe=q?ke*-N*fe/q:0,$e=(te+ue)/2+Math.cos(yt)*je-Math.sin(yt)*Oe,Ke=(ee+se)/2+Math.sin(yt)*je+Math.cos(yt)*Oe,Ye=[(fe-je)/q,(Ae-Oe)/N],er=[(-1*fe-je)/q,(-1*Ae-Oe)/N],sr=Kt([1,0],Ye),cr=Kt(Ye,er);return jt(Ye,er)<=-1&&(cr=Math.PI),jt(Ye,er)>=1&&(cr=0),Vt===0&&cr>0&&(cr=cr-2*Math.PI),Vt===1&&cr<0&&(cr=cr+2*Math.PI),{cx:$e,cy:Ke,rx:ot(L,[ue,se])?0:q,ry:ot(L,[ue,se])?0:N,startAngle:sr,endAngle:sr+cr,xRotation:yt,arcFlag:Nt,sweepFlag:Vt}}function P(L,R){return[R[0]+(R[0]-L[0]),R[1]+(R[1]-L[1])]}function rt(L){L=U(L);for(var R=[],q=null,N=null,yt=null,Nt=0,Vt=L.length,te=0;te<Vt;te++){var ee=L[te];N=L[te+1];var ue=ee[0],se={command:ue,prePoint:q,params:ee,startTangent:null,endTangent:null};switch(ue){case"M":yt=[ee[1],ee[2]],Nt=te;break;case"A":var fe=pt(q,ee);se.arcParams=fe;break;default:break}if(ue==="Z")q=yt,N=L[Nt+1];else{var Ae=ee.length;q=[ee[Ae-2],ee[Ae-1]]}N&&N[0]==="Z"&&(N=L[Nt],R[Nt]&&(R[Nt].prePoint=q)),se.currentPoint=q,R[Nt]&&ot(q,R[Nt].currentPoint)&&(R[Nt].prePoint=se.prePoint);var Ee=N?[N[N.length-2],N[N.length-1]]:null;se.nextPoint=Ee;var Ie=se.prePoint;if(["L","H","V"].includes(ue))se.startTangent=[Ie[0]-q[0],Ie[1]-q[1]],se.endTangent=[q[0]-Ie[0],q[1]-Ie[1]];else if(ue==="Q"){var ke=[ee[1],ee[2]];se.startTangent=[Ie[0]-ke[0],Ie[1]-ke[1]],se.endTangent=[q[0]-ke[0],q[1]-ke[1]]}else if(ue==="T"){var je=R[te-1],ke=P(je.currentPoint,Ie);je.command==="Q"?(se.command="Q",se.startTangent=[Ie[0]-ke[0],Ie[1]-ke[1]],se.endTangent=[q[0]-ke[0],q[1]-ke[1]]):(se.command="TL",se.startTangent=[Ie[0]-q[0],Ie[1]-q[1]],se.endTangent=[q[0]-Ie[0],q[1]-Ie[1]])}else if(ue==="C"){var Oe=[ee[1],ee[2]],$e=[ee[3],ee[4]];se.startTangent=[Ie[0]-Oe[0],Ie[1]-Oe[1]],se.endTangent=[q[0]-$e[0],q[1]-$e[1]],se.startTangent[0]===0&&se.startTangent[1]===0&&(se.startTangent=[Oe[0]-$e[0],Oe[1]-$e[1]]),se.endTangent[0]===0&&se.endTangent[1]===0&&(se.endTangent=[$e[0]-Oe[0],$e[1]-Oe[1]])}else if(ue==="S"){var je=R[te-1],Oe=P(je.currentPoint,Ie),$e=[ee[1],ee[2]];je.command==="C"?(se.command="C",se.startTangent=[Ie[0]-Oe[0],Ie[1]-Oe[1]],se.endTangent=[q[0]-$e[0],q[1]-$e[1]]):(se.command="SQ",se.startTangent=[Ie[0]-$e[0],Ie[1]-$e[1]],se.endTangent=[q[0]-$e[0],q[1]-$e[1]])}else if(ue==="A"){var Ke=.001,Ye=se.arcParams||{},er=Ye.cx,sr=er===void 0?0:er,cr=Ye.cy,Lr=cr===void 0?0:cr,en=Ye.rx,Yr=en===void 0?0:en,Nn=Ye.ry,Li=Nn===void 0?0:Nn,Ii=Ye.sweepFlag,pa=Ii===void 0?0:Ii,bn=Ye.startAngle,jn=bn===void 0?0:bn,An=Ye.endAngle,Zn=An===void 0?0:An;pa===0&&(Ke*=-1);var Pi=Yr*Math.cos(jn-Ke)+sr,vi=Li*Math.sin(jn-Ke)+Lr;se.startTangent=[Pi-yt[0],vi-yt[1]];var Na=Yr*Math.cos(jn+Zn+Ke)+sr,ta=Li*Math.sin(jn+Zn-Ke)+Lr;se.endTangent=[Ie[0]-Na,Ie[1]-ta]}R.push(se)}return R}var Q=1e-6;function xt(L){return Math.abs(L)<Q?0:L<0?-1:1}function dt(L,R,q){return(q[0]-L[0])*(R[1]-L[1])===(R[0]-L[0])*(q[1]-L[1])&&Math.min(L[0],R[0])<=q[0]&&q[0]<=Math.max(L[0],R[0])&&Math.min(L[1],R[1])<=q[1]&&q[1]<=Math.max(L[1],R[1])}function qt(L,R,q){var N=!1,yt=L.length;if(yt<=2)return!1;for(var Nt=0;Nt<yt;Nt++){var Vt=L[Nt],te=L[(Nt+1)%yt];if(dt(Vt,te,[R,q]))return!0;xt(Vt[1]-q)>0!=xt(te[1]-q)>0&&xt(R-(q-Vt[1])*(Vt[0]-te[0])/(Vt[1]-te[1])-Vt[0])<0&&(N=!N)}return N}var Ot=function(L,R,q){return L>=R&&L<=q};function Rt(L,R,q,N){var yt=.001,Nt={x:q.x-L.x,y:q.y-L.y},Vt={x:R.x-L.x,y:R.y-L.y},te={x:N.x-q.x,y:N.y-q.y},ee=Vt.x*te.y-Vt.y*te.x,ue=ee*ee,se=Vt.x*Vt.x+Vt.y*Vt.y,fe=te.x*te.x+te.y*te.y,Ae=null;if(ue>yt*se*fe){var Ee=(Nt.x*te.y-Nt.y*te.x)/ee,Ie=(Nt.x*Vt.y-Nt.y*Vt.x)/ee;Ot(Ee,0,1)&&Ot(Ie,0,1)&&(Ae={x:L.x+Ee*Vt.x,y:L.y+Ee*Vt.y})}return Ae}function ut(L){for(var R=[],q=L.length,N=0;N<q-1;N++){var yt=L[N],Nt=L[N+1];R.push({from:{x:yt[0],y:yt[1]},to:{x:Nt[0],y:Nt[1]}})}if(R.length>1){var Vt=L[0],te=L[q-1];R.push({from:{x:te[0],y:te[1]},to:{x:Vt[0],y:Vt[1]}})}return R}function b(L,R){var q=!1;return(0,nt.S6)(L,function(N){if(Rt(N.from,N.to,R.from,R.to))return q=!0,!1}),q}function O(L){var R=L.map(function(N){return N[0]}),q=L.map(function(N){return N[1]});return{minX:Math.min.apply(null,R),maxX:Math.max.apply(null,R),minY:Math.min.apply(null,q),maxY:Math.max.apply(null,q)}}function I(L,R){return!(R.minX>L.maxX||R.maxX<L.minX||R.minY>L.maxY||R.maxY<L.minY)}function j(L,R){if(L.length<2||R.length<2)return!1;var q=O(L),N=O(R);if(!I(q,N))return!1;var yt=!1;if((0,nt.S6)(R,function(ee){if(qt(L,ee[0],ee[1]))return yt=!0,!1}),yt||((0,nt.S6)(L,function(ee){if(qt(R,ee[0],ee[1]))return yt=!0,!1}),yt))return!0;var Nt=ut(L),Vt=ut(R),te=!1;return(0,nt.S6)(Vt,function(ee){if(b(Nt,ee))return te=!0,!1}),te}},22374:function(Ce,z,F){"use strict";F.d(z,{Ct:function(){return Qc},f0:function(){return zc},uZ:function(){return Ke},VS:function(){return Yn},d9:function(){return ds},FX:function(){return K},Ds:function(){return Bi},b$:function(){return K6},e5:function(){return $},S6:function(){return Dt},yW:function(){return Nt},hX:function(){return X},sE:function(){return H},cx:function(){return tt},Wx:function(){return T},ri:function(){return er},xH:function(){return w},U5:function(){return Pe},U2:function(){return Uc},Lo:function(){return qc},rx:function(){return ht},ru:function(){return Ae},vM:function(){return se},Ms:function(){return fe},wH:function(){return zn},YM:function(){return I},q9:function(){return K},cq:function(){return Fl},kJ:function(){return ct},jn:function(){return Wn},J_:function(){return _r},kK:function(){return rn},xb:function(){return t7},Xy:function(){return e7},mf:function(){return Ft},BD:function(){return kt},UM:function(){return Tt},Ft:function(){return ya},hj:function(){return cr},vQ:function(){return An},Kn:function(){return St},PO:function(){return Ht},HD:function(){return Ot},P9:function(){return At},o8:function(){return Sr},XP:function(){return mt},Z$:function(){return j},vl:function(){return at},UI:function(){return n7},Q8:function(){return a7},Fp:function(){return _t},UT:function(){return ta},HP:function(){return Bc},VV:function(){return Yt},F:function(){return ho},CD:function(){return zc},wQ:function(){return vo},ZT:function(){return Xc},CE:function(){return jc},ei:function(){return Gc},u4:function(){return xt},Od:function(){return qt},U7:function(){return xn},t8:function(){return Hc},dp:function(){return Ol},G:function(){return te},MR:function(){return ut},ng:function(){return ae},P2:function(){return gs},qo:function(){return Wc},c$:function(){return zr},BB:function(){return hn},jj:function(){return b},EL:function(){return Yc},jC:function(){return we},VO:function(){return yn},I:function(){return O}});var nt=function(ft){return ft!==null&&typeof ft!="function"&&isFinite(ft.length)},V=nt,Bt=function(ft,Jt){return V(ft)?ft.indexOf(Jt)>-1:!1},K=Bt,U=function(ft,Jt){if(!V(ft))return ft;for(var oe=[],le=0;le<ft.length;le++){var be=ft[le];Jt(be,le)&&oe.push(be)}return oe},X=U,W=function(ft,Jt){return Jt===void 0&&(Jt=[]),X(ft,function(oe){return!K(Jt,oe)})},$=W,et={}.toString,bt=function(ft,Jt){return et.call(ft)==="[object "+Jt+"]"},At=bt,Ft=function(ft){return At(ft,"Function")},Lt=function(ft){return ft==null},Tt=Lt,ct=function(ft){return Array.isArray?Array.isArray(ft):At(ft,"Array")},St=function(ft){var Jt=typeof ft;return ft!==null&&Jt==="object"||Jt==="function"};function Ut(ft,Jt){if(ft){var oe;if(ct(ft))for(var le=0,be=ft.length;le<be&&(oe=Jt(ft[le],le),oe!==!1);le++);else if(St(ft)){for(var Ge in ft)if(ft.hasOwnProperty(Ge)&&(oe=Jt(ft[Ge],Ge),oe===!1))break}}}var Dt=Ut,It=Object.keys?function(ft){return Object.keys(ft)}:function(ft){var Jt=[];return Dt(ft,function(oe,le){Ft(ft)&&le==="prototype"||Jt.push(le)}),Jt},mt=It;function vt(ft,Jt){var oe=mt(Jt),le=oe.length;if(Tt(ft))return!le;for(var be=0;be<le;be+=1){var Ge=oe[be];if(Jt[Ge]!==ft[Ge]||!(Ge in ft))return!1}return!0}var kt=vt,Mt=function(ft){return typeof ft=="object"&&ft!==null},gt=Mt,$t=function(ft){if(!gt(ft)||!At(ft,"Object"))return!1;if(Object.getPrototypeOf(ft)===null)return!0;for(var Jt=ft;Object.getPrototypeOf(Jt)!==null;)Jt=Object.getPrototypeOf(Jt);return Object.getPrototypeOf(ft)===Jt},Ht=$t;function S(ft,Jt){if(!ct(ft))return null;var oe;if(Ft(Jt)&&(oe=Jt),Ht(Jt)&&(oe=function(be){return kt(be,Jt)}),oe){for(var le=0;le<ft.length;le+=1)if(oe(ft[le]))return ft[le]}return null}var H=S;function B(ft,Jt,oe){oe===void 0&&(oe=0);for(var le=oe;le<ft.length;le++)if(Jt(ft[le],le))return le;return-1}var tt=B,k=function(ft,Jt){for(var oe=null,le=0;le<ft.length;le++){var be=ft[le],Ge=be[Jt];if(!Tt(Ge)){ct(Ge)?oe=Ge[0]:oe=Ge;break}}return oe},T=k,_=function(ft){if(!ct(ft))return[];for(var Jt=[],oe=0;oe<ft.length;oe++)Jt=Jt.concat(ft[oe]);return Jt},w=_,G=function(ft,Jt){if(Jt===void 0&&(Jt=[]),!isArray(ft))Jt.push(ft);else for(var oe=0;oe<ft.length;oe+=1)G(ft[oe],Jt);return Jt},it=null,_t=function(ft){if(ct(ft))return ft.reduce(function(Jt,oe){return Math.max(Jt,oe)},ft[0])},Yt=function(ft){if(ct(ft))return ft.reduce(function(Jt,oe){return Math.min(Jt,oe)},ft[0])},D=function(ft){var Jt=ft.filter(function(ar){return!isNaN(ar)});if(!Jt.length)return{min:0,max:0};if(ct(ft[0])){for(var oe=[],le=0;le<ft.length;le++)oe=oe.concat(ft[le]);Jt=oe}var be=_t(Jt),Ge=Yt(Jt);return{min:Ge,max:be}},ht=D,Et=Array.prototype,lt=Et.splice,jt=Et.indexOf,Kt=function(ft){for(var Jt=[],oe=1;oe<arguments.length;oe++)Jt[oe-1]=arguments[oe];for(var le=0;le<Jt.length;le++)for(var be=Jt[le],Ge=-1;(Ge=jt.call(ft,be))>-1;)lt.call(ft,Ge,1);return ft},ot=null,pt=Array.prototype.splice,P=function(Jt,oe){if(!V(Jt))return[];for(var le=Jt?oe.length:0,be=le-1;le--;){var Ge=void 0,ar=oe[le];(le===be||ar!==Ge)&&(Ge=ar,pt.call(Jt,ar,1))}return Jt},rt=P,Q=function(ft,Jt,oe){if(!ct(ft)&&!Ht(ft))return ft;var le=oe;return Dt(ft,function(be,Ge){le=Jt(le,be,Ge)}),le},xt=Q,dt=function(ft,Jt){var oe=[];if(!V(ft))return oe;for(var le=-1,be=[],Ge=ft.length;++le<Ge;){var ar=ft[le];Jt(ar,le,ft)&&(oe.push(ar),be.push(le))}return rt(ft,be),oe},qt=dt,Ot=function(ft){return At(ft,"String")};function Rt(ft,Jt){var oe;if(Ft(Jt))oe=function(be,Ge){return Jt(be)-Jt(Ge)};else{var le=[];Ot(Jt)?le.push(Jt):ct(Jt)&&(le=Jt),oe=function(be,Ge){for(var ar=0;ar<le.length;ar+=1){var wr=le[ar];if(be[wr]>Ge[wr])return 1;if(be[wr]<Ge[wr])return-1}return 0}}return ft.sort(oe),ft}var ut=Rt;function b(ft,Jt){Jt===void 0&&(Jt=new Map);var oe=[];if(Array.isArray(ft))for(var le=0,be=ft.length;le<be;le++){var Ge=ft[le];Jt.has(Ge)||(oe.push(Ge),Jt.set(Ge,!0))}return oe}var O=function(ft,Jt){for(var oe=[],le={},be=0;be<ft.length;be++){var Ge=ft[be],ar=Ge[Jt];if(!Tt(ar)){ct(ar)||(ar=[ar]);for(var wr=0;wr<ar.length;wr++){var On=ar[wr];le[On]||(oe.push(On),le[On]=!0)}}}return oe};function I(ft){if(V(ft))return ft[0]}function j(ft){if(V(ft)){var Jt=ft;return Jt[Jt.length-1]}}function L(ft,Jt){return isArray(ft)||isString(ft)?ft[0]===Jt:!1}var R=null;function q(ft,Jt){return isArray(ft)||isString(ft)?ft[ft.length-1]===Jt:!1}var N=null,yt=function(ft,Jt){for(var oe=0;oe<ft.length;oe++)if(!Jt(ft[oe],oe))return!1;return!0},Nt=yt,Vt=function(ft,Jt){for(var oe=0;oe<ft.length;oe++)if(Jt(ft[oe],oe))return!0;return!1},te=Vt,ee=Object.prototype.hasOwnProperty;function ue(ft,Jt){if(!Jt||!ct(ft))return{};for(var oe={},le=Ft(Jt)?Jt:function(wr){return wr[Jt]},be,Ge=0;Ge<ft.length;Ge++){var ar=ft[Ge];be=le(ar),ee.call(oe,be)?oe[be].push(ar):oe[be]=[ar]}return oe}var se=ue;function fe(ft,Jt){if(!Jt)return{0:ft};if(!Ft(Jt)){var oe=ct(Jt)?Jt:Jt.replace(/\s+/g,"").split("*");Jt=function(le){for(var be="_",Ge=0,ar=oe.length;Ge<ar;Ge++)be+=le[oe[Ge]]&&le[oe[Ge]].toString();return be}}return se(ft,Jt)}var Ae=function(ft,Jt){if(!Jt)return[ft];var oe=fe(ft,Jt),le=[];for(var be in oe)le.push(oe[be]);return le},Ee={};function Ie(ft){var Jt=Ee[ft];if(!Jt){for(var oe=ft.toString(16),le=oe.length;le<6;le++)oe="0"+oe;Jt="#"+oe,Ee[ft]=Jt}return Jt}var ke=null;function je(ft){var Jt=0,oe=0,le=0,be=0;return isArray(ft)?ft.length===1?Jt=oe=le=be=ft[0]:ft.length===2?(Jt=le=ft[0],oe=be=ft[1]):ft.length===3?(Jt=ft[0],oe=be=ft[1],le=ft[2]):(Jt=ft[0],oe=ft[1],le=ft[2],be=ft[3]):Jt=oe=le=be=ft,{r1:Jt,r2:oe,r3:le,r4:be}}var Oe=null,$e=function(ft,Jt,oe){return ft<Jt?Jt:ft>oe?oe:ft},Ke=$e,Ye=function(ft,Jt){var oe=Jt.toString(),le=oe.indexOf(".");if(le===-1)return Math.round(ft);var be=oe.substr(le+1).length;return be>20&&(be=20),parseFloat(ft.toFixed(be))},er=Ye,sr=function(ft){return At(ft,"Number")},cr=sr,Lr=function(ft){return isNumber(ft)&&ft%1!==0},en=null,Yr=function(ft){return isNumber(ft)&&ft%2===0},Nn=null,Li=Number.isInteger?Number.isInteger:function(ft){return cr(ft)&&ft%1===0},Ii=null,pa=function(ft){return isNumber(ft)&&ft<0},bn=null,jn=1e-5;function An(ft,Jt,oe){return oe===void 0&&(oe=jn),Math.abs(ft-Jt)<oe}var Zn=function(ft){return isNumber(ft)&&ft%2!==0},Pi=null,vi=function(ft){return isNumber(ft)&&ft>0},Na=null,ta=function(ft,Jt){if(ct(ft)){for(var oe,le=-1/0,be=0;be<ft.length;be++){var Ge=ft[be],ar=Ft(Jt)?Jt(Ge):Ge[Jt];ar>le&&(oe=Ge,le=ar)}return oe}},ho=function(ft,Jt){if(ct(ft)){for(var oe,le=1/0,be=0;be<ft.length;be++){var Ge=ft[be],ar=Ft(Jt)?Jt(Ge):Ge[Jt];ar<le&&(oe=Ge,le=ar)}return oe}},da=function(ft,Jt){return(ft%Jt+Jt)%Jt},vo=da,ga=180/Math.PI,Ri=function(ft){return ga*ft},Di=null,Qn=parseInt,x=Math.PI/180,d=function(ft){return x*ft},zr=d,Pe=Dt,Kr=function(ft,Jt){return ft.hasOwnProperty(Jt)},zn=Kr,rr=Object.values?function(ft){return Object.values(ft)}:function(ft){var Jt=[];return Dt(ft,function(oe,le){Ft(ft)&&le==="prototype"||Jt.push(oe)}),Jt},yn=rr,$r=function(ft,Jt){return contains(values(ft),Jt)},hn=function(ft){return Tt(ft)?"":ft.toString()},Xt=function(ft){return hn(ft).toLowerCase()},at=Xt;function Wt(ft,Jt){return!ft||!Jt?ft:ft.replace(/\\?\{([^{}]+)\}/g,function(oe,le){return oe.charAt(0)==="\\"?oe.slice(1):Jt[le]===void 0?"":Jt[le]})}var ae=Wt,me=function(ft){var Jt=hn(ft);return Jt.charAt(0).toUpperCase()+Jt.substring(1)},we=me,Be={}.toString,Le=function(ft){return Be.call(ft).replace(/^\[object /,"").replace(/]$/,"")},ir=Le,Or=function(ft){return isType(ft,"Arguments")},sn=null,mn=function(ft){return At(ft,"Boolean")},Wn=mn,Qr=function(ft){return At(ft,"Date")},_r=Qr,Ko=function(ft){return isType(ft,"Error")},Za=null;function Q1(ft){return isNumber(ft)&&isFinite(ft)}var hs=function(ft){return ft===null},ya=hs,wt=Object.prototype,Gt=function(ft){var Jt=ft&&ft.constructor,oe=typeof Jt=="function"&&Jt.prototype||wt;return ft===oe},re=Gt,Se=function(ft){return isType(ft,"RegExp")},Ne=null,Qe=function(ft){return ft===void 0},Sr=Qe,cn=function(ft){return ft instanceof Element||ft instanceof HTMLDocument},rn=cn;function xn(ft){var Jt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(oe){return setTimeout(oe,16)};return Jt(ft)}function Yn(ft){var Jt=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;Jt(ft)}var vs=function(){for(var ft=[],Jt=0;Jt<arguments.length;Jt++)ft[Jt]=arguments[Jt];for(var oe=ft[0],le=1;le<ft.length;le++){var be=ft[le];isFunction(be)&&(be=be.prototype),mix(oe.prototype,be)}},X6=null,ps=function(ft){if(typeof ft!="object"||ft===null)return ft;var Jt;if(ct(ft)){Jt=[];for(var oe=0,le=ft.length;oe<le;oe++)typeof ft[oe]=="object"&&ft[oe]!=null?Jt[oe]=ps(ft[oe]):Jt[oe]=ft[oe]}else{Jt={};for(var be in ft)typeof ft[be]=="object"&&ft[be]!=null?Jt[be]=ps(ft[be]):Jt[be]=ft[be]}return Jt},ds=ps;function ea(ft,Jt,oe){var le;return function(){var be=this,Ge=arguments,ar=function(){le=null,oe||ft.apply(be,Ge)},wr=oe&&!le;clearTimeout(le),le=setTimeout(ar,Jt),wr&&ft.apply(be,Ge)}}var Bi=ea,Bc=function(ft,Jt){if(!Ft(ft))throw new TypeError("Expected a function");var oe=function(){for(var le=[],be=0;be<arguments.length;be++)le[be]=arguments[be];var Ge=Jt?Jt.apply(this,le):le[0],ar=oe.cache;if(ar.has(Ge))return ar.get(Ge);var wr=ft.apply(this,le);return ar.set(Ge,wr),wr};return oe.cache=new Map,oe},$6=5;function Nc(ft,Jt,oe,le){oe=oe||0,le=le||$6;for(var be in Jt)if(Jt.hasOwnProperty(be)){var Ge=Jt[be];Ge!==null&&Ht(Ge)?(Ht(ft[be])||(ft[be]={}),oe<le?Nc(ft[be],Ge,oe+1,le):ft[be]=Jt[be]):ct(Ge)?(ft[be]=[],ft[be]=ft[be].concat(Ge)):Ge!==void 0&&(ft[be]=Ge)}}var q6=function(ft){for(var Jt=[],oe=1;oe<arguments.length;oe++)Jt[oe-1]=arguments[oe];for(var le=0;le<Jt.length;le+=1)Nc(ft,Jt[le]);return ft},K6=q6,xw=function(ft,Jt,oe,le){isFunction(Jt)||(oe=Jt,Jt=ft,ft=function(){});var be=Object.create?function(ar,wr){return Object.create(ar,{constructor:{value:wr}})}:function(ar,wr){function On(){}On.prototype=ar;var Jn=new On;return Jn.constructor=wr,Jn},Ge=be(Jt.prototype,ft);return ft.prototype=mix(Ge,ft.prototype),ft.superclass=be(Jt.prototype,Jt),mix(Ge,oe),mix(ft,le),ft},_w=null,Q6=function(ft,Jt){if(!V(ft))return-1;var oe=Array.prototype.indexOf;if(oe)return oe.call(ft,Jt);for(var le=-1,be=0;be<ft.length;be++)if(ft[be]===Jt){le=be;break}return le},Fl=Q6,Zc=Object.prototype.hasOwnProperty;function J6(ft){if(Tt(ft))return!0;if(V(ft))return!ft.length;var Jt=ir(ft);if(Jt==="Map"||Jt==="Set")return!ft.size;if(re(ft))return!Object.keys(ft).length;for(var oe in ft)if(Zc.call(ft,oe))return!1;return!0}var t7=J6,po=function(ft,Jt){if(ft===Jt)return!0;if(!ft||!Jt||Ot(ft)||Ot(Jt))return!1;if(V(ft)||V(Jt)){if(ft.length!==Jt.length)return!1;for(var oe=!0,le=0;le<ft.length&&(oe=po(ft[le],Jt[le]),!!oe);le++);return oe}if(gt(ft)||gt(Jt)){var be=Object.keys(ft),Ge=Object.keys(Jt);if(be.length!==Ge.length)return!1;for(var oe=!0,le=0;le<be.length&&(oe=po(ft[be[le]],Jt[be[le]]),!!oe);le++);return oe}return!1},e7=po,Ew=function(ft,Jt,oe){return isFunction(oe)?!!oe(ft,Jt):isEqual(ft,Jt)},r7=function(ft,Jt){if(!V(ft))return ft;for(var oe=[],le=0;le<ft.length;le++){var be=ft[le];oe.push(Jt(be,le))}return oe},n7=r7,i7=function(ft){return ft},a7=function(ft,Jt){Jt===void 0&&(Jt=i7);var oe={};return St(ft)&&!Tt(ft)&&Object.keys(ft).forEach(function(le){oe[le]=Jt(ft[le],le)}),oe};function kl(ft,Jt){for(var oe in Jt)Jt.hasOwnProperty(oe)&&oe!=="constructor"&&Jt[oe]!==void 0&&(ft[oe]=Jt[oe])}function zc(ft,Jt,oe,le){return Jt&&kl(ft,Jt),oe&&kl(ft,oe),le&&kl(ft,le),ft}var Uc=function(ft,Jt,oe){for(var le=0,be=Ot(Jt)?Jt.split("."):Jt;ft&&le<be.length;)ft=ft[be[le++]];return ft===void 0||le<be.length?oe:ft},Hc=function(ft,Jt,oe){var le=ft,be=Ot(Jt)?Jt.split("."):Jt;return be.forEach(function(Ge,ar){ar<be.length-1?(St(le[Ge])||(le[Ge]=cr(be[ar+1])?[]:{}),le=le[Ge]):le[Ge]=oe}),ft},Vc=Object.prototype.hasOwnProperty,Gc=function(ft,Jt){if(ft===null||!Ht(ft))return{};var oe={};return Dt(Jt,function(le){Vc.call(ft,le)&&(oe[le]=ft[le])}),oe},jc=function(ft,Jt){return xt(ft,function(oe,le,be){return Jt.includes(be)||(oe[be]=le),oe},{})},gs=function(ft,Jt,oe){var le,be,Ge,ar,wr=0;oe||(oe={});var On=function(){wr=oe.leading===!1?0:Date.now(),le=null,ar=ft.apply(be,Ge),le||(be=Ge=null)},Jn=function(){var pi=Date.now();!wr&&oe.leading===!1&&(wr=pi);var Ni=Jt-(pi-wr);return be=this,Ge=arguments,Ni<=0||Ni>Jt?(le&&(clearTimeout(le),le=null),wr=pi,ar=ft.apply(be,Ge),le||(be=Ge=null)):!le&&oe.trailing!==!1&&(le=setTimeout(On,Ni)),ar};return Jn.cancel=function(){clearTimeout(le),wr=0,le=be=Ge=null},Jn},Wc=function(ft){return V(ft)?Array.prototype.slice.call(ft):[]},J1={},Yc=function(ft){return ft=ft||"g",J1[ft]?J1[ft]+=1:J1[ft]=1,ft+J1[ft]},Xc=function(){};function Ol(ft){return Tt(ft)?0:V(ft)?ft.length:Object.keys(ft).length}var $c=F(29268),ma,t0=Bc(function(ft,Jt){Jt===void 0&&(Jt={});var oe=Jt.fontSize,le=Jt.fontFamily,be=Jt.fontWeight,Ge=Jt.fontStyle,ar=Jt.fontVariant;return ma||(ma=document.createElement("canvas").getContext("2d")),ma.font=[Ge,ar,be,oe+"px",le].join(" "),ma.measureText(Ot(ft)?ft:"").width},function(ft,Jt){return Jt===void 0&&(Jt={}),(0,$c.pr)([ft],yn(Jt)).join("")}),qc=function(ft,Jt,oe,le){le===void 0&&(le="...");var be=16,Ge=t0(le,oe),ar=Ot(ft)?ft:hn(ft),wr=Jt,On=[],Jn,pi;if(t0(ft,oe)<=Jt)return ft;for(;Jn=ar.substr(0,be),pi=t0(Jn,oe),!(pi+Ge>wr&&pi>wr);)if(On.push(Jn),wr-=pi,ar=ar.substr(be),!ar)return On.join("");for(;Jn=ar.substr(0,1),pi=t0(Jn,oe),!(pi+Ge>wr);)if(On.push(Jn),wr-=pi,ar=ar.substr(1),!ar)return On.join("");return""+On.join("")+le},Kc=function(){function ft(){this.map={}}return ft.prototype.has=function(Jt){return this.map[Jt]!==void 0},ft.prototype.get=function(Jt,oe){var le=this.map[Jt];return le===void 0?oe:le},ft.prototype.set=function(Jt,oe){this.map[Jt]=oe},ft.prototype.clear=function(){this.map={}},ft.prototype.delete=function(Jt){delete this.map[Jt]},ft.prototype.size=function(){return Object.keys(this.map).length},ft}(),Qc=Kc},70309:function(Ce){Ce.exports=z;function z(V,Bt){var K=V&&V.type,U;if(K==="FeatureCollection")for(U=0;U<V.features.length;U++)z(V.features[U],Bt);else if(K==="GeometryCollection")for(U=0;U<V.geometries.length;U++)z(V.geometries[U],Bt);else if(K==="Feature")z(V.geometry,Bt);else if(K==="Polygon")F(V.coordinates,Bt);else if(K==="MultiPolygon")for(U=0;U<V.coordinates.length;U++)F(V.coordinates[U],Bt);return V}function F(V,Bt){if(V.length!==0){nt(V[0],Bt);for(var K=1;K<V.length;K++)nt(V[K],!Bt)}}function nt(V,Bt){for(var K=0,U=0,X=0,W=V.length,$=W-1;X<W;$=X++){var et=(V[X][0]-V[$][0])*(V[$][1]+V[X][1]),bt=K+et;U+=Math.abs(K)>=Math.abs(et)?K-bt+et:et-bt+K,K=bt}K+U>=0!=!!Bt&&V.reverse()}},56834:function(Ce){"use strict";Ce.exports=z;function z(F,nt){this.x=F,this.y=nt}z.prototype={clone:function(){return new z(this.x,this.y)},add:function(F){return this.clone()._add(F)},sub:function(F){return this.clone()._sub(F)},multByPoint:function(F){return this.clone()._multByPoint(F)},divByPoint:function(F){return this.clone()._divByPoint(F)},mult:function(F){return this.clone()._mult(F)},div:function(F){return this.clone()._div(F)},rotate:function(F){return this.clone()._rotate(F)},rotateAround:function(F,nt){return this.clone()._rotateAround(F,nt)},matMult:function(F){return this.clone()._matMult(F)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(F){return this.x===F.x&&this.y===F.y},dist:function(F){return Math.sqrt(this.distSqr(F))},distSqr:function(F){var nt=F.x-this.x,V=F.y-this.y;return nt*nt+V*V},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(F){return Math.atan2(this.y-F.y,this.x-F.x)},angleWith:function(F){return this.angleWithSep(F.x,F.y)},angleWithSep:function(F,nt){return Math.atan2(this.x*nt-this.y*F,this.x*F+this.y*nt)},_matMult:function(F){var nt=F[0]*this.x+F[1]*this.y,V=F[2]*this.x+F[3]*this.y;return this.x=nt,this.y=V,this},_add:function(F){return this.x+=F.x,this.y+=F.y,this},_sub:function(F){return this.x-=F.x,this.y-=F.y,this},_mult:function(F){return this.x*=F,this.y*=F,this},_div:function(F){return this.x/=F,this.y/=F,this},_multByPoint:function(F){return this.x*=F.x,this.y*=F.y,this},_divByPoint:function(F){return this.x/=F.x,this.y/=F.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var F=this.y;return this.y=this.x,this.x=-F,this},_rotate:function(F){var nt=Math.cos(F),V=Math.sin(F),Bt=nt*this.x-V*this.y,K=V*this.x+nt*this.y;return this.x=Bt,this.y=K,this},_rotateAround:function(F,nt){var V=Math.cos(F),Bt=Math.sin(F),K=nt.x+V*(this.x-nt.x)-Bt*(this.y-nt.y),U=nt.y+Bt*(this.x-nt.x)+V*(this.y-nt.y);return this.x=K,this.y=U,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},z.convert=function(F){return F instanceof z?F:Array.isArray(F)?new z(F[0],F[1]):F}},85143:function(Ce,z,F){Ce.exports.VectorTile=F(7317),F(26305),F(65336)},7317:function(Ce,z,F){"use strict";var nt=F(65336);Ce.exports=V;function V(K,U){this.layers=K.readFields(Bt,{},U)}function Bt(K,U,X){if(K===3){var W=new nt(X,X.readVarint()+X.pos);W.length&&(U[W.name]=W)}}},26305:function(Ce,z,F){"use strict";var nt=F(56834);Ce.exports=V;function V(W,$,et,bt,At){this.properties={},this.extent=et,this.type=0,this._pbf=W,this._geometry=-1,this._keys=bt,this._values=At,W.readFields(Bt,this,$)}function Bt(W,$,et){W==1?$.id=et.readVarint():W==2?K(et,$):W==3?$.type=et.readVarint():W==4&&($._geometry=et.pos)}function K(W,$){for(var et=W.readVarint()+W.pos;W.pos<et;){var bt=$._keys[W.readVarint()],At=$._values[W.readVarint()];$.properties[bt]=At}}V.types=["Unknown","Point","LineString","Polygon"],V.prototype.loadGeometry=function(){var W=this._pbf;W.pos=this._geometry;for(var $=W.readVarint()+W.pos,et=1,bt=0,At=0,Ft=0,Lt=[],Tt;W.pos<$;){if(bt<=0){var ct=W.readVarint();et=ct&7,bt=ct>>3}if(bt--,et===1||et===2)At+=W.readSVarint(),Ft+=W.readSVarint(),et===1&&(Tt&&Lt.push(Tt),Tt=[]),Tt.push(new nt(At,Ft));else if(et===7)Tt&&Tt.push(Tt[0].clone());else throw new Error("unknown command "+et)}return Tt&&Lt.push(Tt),Lt},V.prototype.bbox=function(){var W=this._pbf;W.pos=this._geometry;for(var $=W.readVarint()+W.pos,et=1,bt=0,At=0,Ft=0,Lt=1/0,Tt=-1/0,ct=1/0,St=-1/0;W.pos<$;){if(bt<=0){var Ut=W.readVarint();et=Ut&7,bt=Ut>>3}if(bt--,et===1||et===2)At+=W.readSVarint(),Ft+=W.readSVarint(),At<Lt&&(Lt=At),At>Tt&&(Tt=At),Ft<ct&&(ct=Ft),Ft>St&&(St=Ft);else if(et!==7)throw new Error("unknown command "+et)}return[Lt,ct,Tt,St]},V.prototype.toGeoJSON=function(W,$,et){var bt=this.extent*Math.pow(2,et),At=this.extent*W,Ft=this.extent*$,Lt=this.loadGeometry(),Tt=V.types[this.type],ct,St;function Ut(mt){for(var vt=0;vt<mt.length;vt++){var kt=mt[vt],Mt=180-(kt.y+Ft)*360/bt;mt[vt]=[(kt.x+At)*360/bt-180,360/Math.PI*Math.atan(Math.exp(Mt*Math.PI/180))-90]}}switch(this.type){case 1:var Dt=[];for(ct=0;ct<Lt.length;ct++)Dt[ct]=Lt[ct][0];Lt=Dt,Ut(Lt);break;case 2:for(ct=0;ct<Lt.length;ct++)Ut(Lt[ct]);break;case 3:for(Lt=U(Lt),ct=0;ct<Lt.length;ct++)for(St=0;St<Lt[ct].length;St++)Ut(Lt[ct][St]);break}Lt.length===1?Lt=Lt[0]:Tt="Multi"+Tt;var It={type:"Feature",geometry:{type:Tt,coordinates:Lt},properties:this.properties};return"id"in this&&(It.id=this.id),It};function U(W){var $=W.length;if($<=1)return[W];for(var et=[],bt,At,Ft=0;Ft<$;Ft++){var Lt=X(W[Ft]);Lt!==0&&(At===void 0&&(At=Lt<0),At===Lt<0?(bt&&et.push(bt),bt=[W[Ft]]):bt.push(W[Ft]))}return bt&&et.push(bt),et}function X(W){for(var $=0,et=0,bt=W.length,At=bt-1,Ft,Lt;et<bt;At=et++)Ft=W[et],Lt=W[At],$+=(Lt.x-Ft.x)*(Ft.y+Lt.y);return $}},65336:function(Ce,z,F){"use strict";var nt=F(26305);Ce.exports=V;function V(U,X){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=U,this._keys=[],this._values=[],this._features=[],U.readFields(Bt,this,X),this.length=this._features.length}function Bt(U,X,W){U===15?X.version=W.readVarint():U===1?X.name=W.readString():U===5?X.extent=W.readVarint():U===2?X._features.push(W.pos):U===3?X._keys.push(W.readString()):U===4&&X._values.push(K(W))}function K(U){for(var X=null,W=U.readVarint()+U.pos;U.pos<W;){var $=U.readVarint()>>3;X=$===1?U.readString():$===2?U.readFloat():$===3?U.readDouble():$===4?U.readVarint64():$===5?U.readVarint():$===6?U.readSVarint():$===7?U.readBoolean():null}return X}V.prototype.feature=function(U){if(U<0||U>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[U];var X=this._pbf.readVarint()+this._pbf.pos;return new nt(this._pbf,X,this.extent,this._keys,this._values)}},21432:function(Ce,z,F){"use strict";F.r(z),F.d(z,{default:function(){return G8t}});var nt={};F.r(nt),F.d(nt,{assign:function(){return mo},default:function(){return S7},defaultI18n:function(){return t4},format:function(){return E7},parse:function(){return C7},setGlobalDateI18n:function(){return v7},setGlobalDateMasks:function(){return _7}});var V={};F.r(V),F.d(V,{add:function(){return NF},angle:function(){return o4},bezier:function(){return $F},ceil:function(){return ZF},clone:function(){return RF},copy:function(){return DF},create:function(){return e0},cross:function(){return $7},dist:function(){return sk},distance:function(){return G7},div:function(){return ok},divide:function(){return V7},dot:function(){return X7},equals:function(){return ik},exactEquals:function(){return nk},floor:function(){return zF},forEach:function(){return fk},fromValues:function(){return _n},hermite:function(){return XF},inverse:function(){return WF},len:function(){return lk},length:function(){return z7},lerp:function(){return YF},max:function(){return HF},min:function(){return UF},mul:function(){return ak},multiply:function(){return H7},negate:function(){return Y7},normalize:function(){return r0},random:function(){return qF},rotateX:function(){return QF},rotateY:function(){return JF},rotateZ:function(){return tk},round:function(){return VF},scale:function(){return GF},scaleAndAdd:function(){return jF},set:function(){return BF},sqrDist:function(){return uk},sqrLen:function(){return ck},squaredDistance:function(){return j7},squaredLength:function(){return W7},str:function(){return rk},sub:function(){return s4},subtract:function(){return U7},transformMat3:function(){return n0},transformMat4:function(){return Es},transformQuat:function(){return KF},zero:function(){return ek}});var Bt={};F.r(Bt),F.d(Bt,{Arc:function(){return Gk},DataMarker:function(){return qk},DataRegion:function(){return Qk},Html:function(){return lO},Image:function(){return Xk},Line:function(){return zk},Region:function(){return Wk},RegionFilter:function(){return tO},Shape:function(){return rO},Text:function(){return Hk}});var K={};F.r(K),F.d(K,{ellipsisHead:function(){return hO},ellipsisMiddle:function(){return vO},ellipsisTail:function(){return ah},getDefault:function(){return fO}});var U={};F.r(U),F.d(U,{equidistance:function(){return uh},equidistanceWithReverseBoth:function(){return xO},getDefault:function(){return dO},reserveBoth:function(){return mO},reserveFirst:function(){return gO},reserveLast:function(){return yO}});var X={};F.r(X),F.d(X,{fixedAngle:function(){return ch},getDefault:function(){return EO},unfixedAngle:function(){return CO}});var W={};F.r(W),F.d(W,{autoEllipsis:function(){return K},autoHide:function(){return U},autoRotate:function(){return X}});var $={};F.r($),F.d($,{Base:function(){return g4},Circle:function(){return kO},Html:function(){return IO},Line:function(){return fh}});var et={};F.r(et),F.d(et,{CONTAINER_CLASS:function(){return Ua},CROSSHAIR_X:function(){return C4},CROSSHAIR_Y:function(){return S4},LIST_CLASS:function(){return ks},LIST_ITEM_CLASS:function(){return Wl},MARKER_CLASS:function(){return Yl},NAME_CLASS:function(){return gh},TITLE_CLASS:function(){return Ha},VALUE_CLASS:function(){return Xl}});var bt={};F.r(bt),F.d(bt,{Base:function(){return aa},Circle:function(){return kP},Ellipse:function(){return LP},Image:function(){return PP},Line:function(){return DP},Marker:function(){return ZP},Path:function(){return Q4},Polygon:function(){return XP},Polyline:function(){return qP},Rect:function(){return tR},Text:function(){return rR}});var At={};F.r(At),F.d(At,{Canvas:function(){return aR},Group:function(){return q4},Shape:function(){return bt},getArcParams:function(){return v2},version:function(){return oR}});var Ft={};F.r(Ft),F.d(Ft,{Base:function(){return Ui},Circle:function(){return hR},Dom:function(){return pR},Ellipse:function(){return gR},Image:function(){return mR},Line:function(){return _R},Marker:function(){return CR},Path:function(){return bR},Polygon:function(){return MR},Polyline:function(){return wR},Rect:function(){return IR},Text:function(){return ZR}});var Lt={};F.r(Lt),F.d(Lt,{Canvas:function(){return oD},Group:function(){return tf},Shape:function(){return Ft},version:function(){return sD}});var Tt={};F.r(Tt),F.d(Tt,{cluster:function(){return tY},hierarchy:function(){return T0},pack:function(){return jg},packEnclose:function(){return Ng},packSiblings:function(){return _G},partition:function(){return My},stratify:function(){return iY},tree:function(){return cY},treemap:function(){return Oy},treemapBinary:function(){return fY},treemapDice:function(){return uu},treemapResquarify:function(){return vY},treemapSlice:function(){return n3},treemapSliceDice:function(){return hY},treemapSquarify:function(){return ky}});var ct={};F.r(ct),F.d(ct,{add:function(){return Xtt},adjoint:function(){return Mtt},clone:function(){return c_},copy:function(){return Stt},create:function(){return ci},determinant:function(){return Ttt},equals:function(){return R8},exactEquals:function(){return Ktt},frob:function(){return Ytt},fromQuat:function(){return Ztt},fromQuat2:function(){return Ptt},fromRotation:function(){return ktt},fromRotationTranslation:function(){return p_},fromRotationTranslationScale:function(){return Btt},fromRotationTranslationScaleOrigin:function(){return Ntt},fromScaling:function(){return Ftt},fromTranslation:function(){return v_},fromValues:function(){return f_},fromXRotation:function(){return Ott},fromYRotation:function(){return Ltt},fromZRotation:function(){return Itt},frustum:function(){return ztt},getRotation:function(){return Dtt},getScaling:function(){return d_},getTranslation:function(){return Rtt},identity:function(){return h_},invert:function(){return I8},lookAt:function(){return m_},mul:function(){return Qtt},multiply:function(){return $i},multiplyScalar:function(){return $tt},multiplyScalarAndAdd:function(){return qtt},ortho:function(){return Vtt},orthoNO:function(){return y_},orthoZO:function(){return Gtt},perspective:function(){return P8},perspectiveFromFieldOfView:function(){return Htt},perspectiveNO:function(){return g_},perspectiveZO:function(){return Utt},rotate:function(){return wtt},rotateX:function(){return Z0},rotateY:function(){return Zu},rotateZ:function(){return zu},scale:function(){return O1},set:function(){return btt},str:function(){return Wtt},sub:function(){return Jtt},subtract:function(){return x_},targetTo:function(){return jtt},translate:function(){return Zo},transpose:function(){return Att}});var St=F(45597),Ut=F(54517),Dt=F(68263),It=F(76091),mt=F.n(It),vt=F(84019),kt=F.n(vt),Mt=F(32061),gt=F.n(Mt),$t=F(7863),Ht=F.n($t),S=F(4203),H=F(86855),B=F(5375),tt=F(76505),k=F(68591),T=F.n(k),_=F(79685),w=F(93520),G=F(36223),it=F(27478),_t=function(r){return(0,S.Z)({},r.componentCls,{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginBlock:r.marginLG,marginInline:0,color:r.colorText,fontWeight:"500",fontSize:"20px",lineHeight:"38px"})};function Yt(e){return(0,it.Xj)("ProCardOperation",function(r){var t=(0,H.Z)((0,H.Z)({},r),{},{componentCls:".".concat(e)});return[_t(t)]})}var D=F(63342),ht=function(r){var t=r.className,n=r.style,i=n===void 0?{}:n,a=r.children,o=(0,_.useContext)(tt.ZP.ConfigContext),s=o.getPrefixCls,u=s("pro-card-operation"),l=Yt(u),c=l.wrapSSR,f=l.hashId,h=T()(u,t,f);return c((0,D.jsx)("div",{className:h,style:i,children:a}))},Et=ht,lt=F(44992),jt=F(30877),Kt=function(r,t){return _.createElement(jt.Z,(0,H.Z)((0,H.Z)({},r),{},{ref:t,icon:lt.Z}))};Kt.displayName="QuestionCircleOutlined";var ot=_.forwardRef(Kt),pt=F(41394),P=F(9200),rt=F(14981),Q=F(96845),dt=e=>{const{value:r,formatter:t,precision:n,decimalSeparator:i,groupSeparator:a="",prefixCls:o}=e;let s;if(typeof t=="function")s=t(r);else{const u=String(r),l=u.match(/^(-?)(\d*)(\.(\d+))?$/);if(!l||u==="-")s=u;else{const c=l[1];let f=l[2]||"0",h=l[4]||"";f=f.replace(/\B(?=(\d{3})+(?!\d))/g,a),typeof n=="number"&&(h=h.padEnd(n,"0").slice(0,n>0?n:0)),h&&(h=`${i}${h}`),s=[_.createElement("span",{key:"int",className:`${o}-content-value-int`},c,f),h&&_.createElement("span",{key:"decimal",className:`${o}-content-value-decimal`},h)]}}return _.createElement("span",{className:`${o}-content-value`},s)},qt=F(53650),Ot=F(67920),Rt=F(45680);const ut=e=>{const{componentCls:r,marginXXS:t,padding:n,colorTextDescription:i,statisticTitleFontSize:a,colorTextHeading:o,statisticContentFontSize:s,statisticFontFamily:u}=e;return{[`${r}`]:Object.assign(Object.assign({},(0,Rt.Wf)(e)),{[`${r}-title`]:{marginBottom:t,color:i,fontSize:a},[`${r}-skeleton`]:{paddingTop:n},[`${r}-content`]:{color:o,fontSize:s,fontFamily:u,[`${r}-content-value`]:{display:"inline-block",direction:"ltr"},[`${r}-content-prefix, ${r}-content-suffix`]:{display:"inline-block"},[`${r}-content-prefix`]:{marginInlineEnd:t},[`${r}-content-suffix`]:{marginInlineStart:t}}})}};var b=(0,qt.Z)("Statistic",e=>{const{fontSizeHeading3:r,fontSize:t,fontFamily:n}=e,i=(0,Ot.TS)(e,{statisticTitleFontSize:t,statisticContentFontSize:r,statisticFontFamily:n});return[ut(i)]}),O=F(89091),I=F(61478);const j=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function L(e,r){let t=e;const n=/\[[^\]]*]/g,i=(r.match(n)||[]).map(u=>u.slice(1,-1)),a=r.replace(n,"[]"),o=j.reduce((u,l)=>{let[c,f]=l;if(u.includes(c)){const h=Math.floor(t/f);return t-=h*f,u.replace(new RegExp(`${c}+`,"g"),v=>{const p=v.length;return h.toString().padStart(p,"0")})}return u},a);let s=0;return o.replace(n,()=>{const u=i[s];return s+=1,u})}function R(e,r){const{format:t=""}=r,n=new Date(e).getTime(),i=Date.now(),a=Math.max(n-i,0);return L(a,t)}const q=1e3/30;function N(e){return new Date(e).getTime()}const yt=e=>{const{value:r,format:t="HH:mm:ss",onChange:n,onFinish:i}=e,a=(0,O.Z)(),o=_.useRef(null),s=()=>{i==null||i(),o.current&&(clearInterval(o.current),o.current=null)},u=()=>{const f=N(r);f>=Date.now()&&(o.current=setInterval(()=>{a(),n==null||n(f-Date.now()),f<Date.now()&&s()},q))};_.useEffect(()=>(u(),()=>{o.current&&(clearInterval(o.current),o.current=null)}),[r]);const l=(f,h)=>R(f,Object.assign(Object.assign({},h),{format:t})),c=f=>(0,I.Tm)(f,{title:void 0});return _.createElement(te,Object.assign({},e,{valueRender:c,formatter:l}))};var Nt=_.memo(yt);const Vt=e=>{const{prefixCls:r,className:t,rootClassName:n,style:i,valueStyle:a,value:o=0,title:s,valueRender:u,prefix:l,suffix:c,loading:f=!1,onMouseEnter:h,onMouseLeave:v,decimalSeparator:p=".",groupSeparator:g=","}=e,{getPrefixCls:y,direction:m}=_.useContext(rt.E_),E=y("statistic",r),[C,A]=b(E),M=_.createElement(dt,Object.assign({decimalSeparator:p,groupSeparator:g,prefixCls:E},e,{value:o})),Z=T()(E,{[`${E}-rtl`]:m==="rtl"},t,n,A);return C(_.createElement("div",{className:Z,style:i,onMouseEnter:h,onMouseLeave:v},s&&_.createElement("div",{className:`${E}-title`},s),_.createElement(Q.Z,{paragraph:!1,loading:f,className:`${E}-skeleton`},_.createElement("div",{style:a,className:`${E}-content`},l&&_.createElement("span",{className:`${E}-content-prefix`},l),u?u(M):M,c&&_.createElement("span",{className:`${E}-content-suffix`},c)))))};Vt.Countdown=Nt;var te=Vt,ee=te,ue=function(r){var t,n,i;return(0,S.Z)({},r.componentCls,(i={display:"flex",fontSize:r.fontSize,"& + &":{marginBlockStart:4},"&-tip":{marginInlineStart:4},"&-wrapper":(0,S.Z)({display:"flex",width:"100%"},"".concat(r.componentCls,"-status"),{width:"14px"}),"&-icon":{marginInlineEnd:16},"&-trend-icon":{width:0,height:0,borderInlineEnd:"3.5px solid transparent",borderBlockEnd:"9px solid #000",borderInlineStart:"3.5px solid transparent","&-up":{transform:"rotate(0deg)"},"&-down":{transform:"rotate(180deg)"}},"&-content":{width:"100%"},"&-description":{width:"100%"}},(0,S.Z)(i,"".concat(r.antCls,"-statistic-title"),{color:r.colorText}),(0,S.Z)(i,"&-trend-up",(0,S.Z)({},"".concat(r.antCls,"-statistic-content"),(0,S.Z)({color:"#f5222d"},"".concat(r.componentCls,"-trend-icon"),{borderBlockEndColor:"#f5222d"}))),(0,S.Z)(i,"&-trend-down",(0,S.Z)({},"".concat(r.antCls,"-statistic-content"),(0,S.Z)({color:"#389e0d"},"".concat(r.componentCls,"-trend-icon"),{borderBlockEndColor:"#52c41a"}))),(0,S.Z)(i,"& &-layout-horizontal",(t={display:"flex",justifyContent:"space-between"},(0,S.Z)(t,"".concat(r.antCls,"-statistic-title"),{marginBlockEnd:0}),(0,S.Z)(t,"".concat(r.antCls,"-statistic-content-value"),{fontWeight:500}),(0,S.Z)(t,"".concat(r.antCls,"-statistic-title,").concat(r.antCls,"-statistic-content,").concat(r.antCls,"-statistic-content-suffix,").concat(r.antCls,"-statistic-content-prefix,").concat(r.antCls,"-statistic-content-value-decimal"),{fontSize:r.fontSize}),t)),(0,S.Z)(i,"& &-layout-inline",(n={display:"inline-flex",color:r.colorTextSecondary},(0,S.Z)(n,"".concat(r.antCls,"-statistic-title"),{marginInlineEnd:"6px",marginBlockEnd:0}),(0,S.Z)(n,"".concat(r.antCls,"-statistic-content"),{color:r.colorTextSecondary}),(0,S.Z)(n,"".concat(r.antCls,"-statistic-title,").concat(r.antCls,"-statistic-content,").concat(r.antCls,"-statistic-content-suffix,").concat(r.antCls,"-statistic-content-prefix,").concat(r.antCls,"-statistic-content-value-decimal"),{fontSize:r.fontSizeSM}),n)),i))};function se(e){return(0,it.Xj)("Statistic",function(r){var t=(0,H.Z)((0,H.Z)({},r),{},{componentCls:".".concat(e)});return[ue(t)]})}var fe=["className","layout","style","description","children","title","tip","status","trend","prefix","icon"],Ae=function(r){var t,n=r.className,i=r.layout,a=i===void 0?"inline":i,o=r.style,s=o===void 0?{}:o,u=r.description,l=r.children,c=r.title,f=r.tip,h=r.status,v=r.trend,p=r.prefix,g=r.icon,y=(0,B.Z)(r,fe),m=(0,_.useContext)(tt.ZP.ConfigContext),E=m.getPrefixCls,C=E("pro-card-statistic"),A=se(C),M=A.wrapSSR,Z=A.hashId,Y=T()(C,n,Z),st=T()("".concat(C,"-status"),Z),Ct=T()("".concat(C,"-icon"),Z),Pt=T()("".concat(C,"-wrapper"),Z),Zt=T()("".concat(C,"-content"),Z),ie=T()(Z,(t={},(0,S.Z)(t,"".concat(C,"-layout-").concat(a),a),(0,S.Z)(t,"".concat(C,"-trend-").concat(v),v),t)),ce=f&&(0,D.jsx)(pt.Z,{title:f,children:(0,D.jsx)(ot,{className:"".concat(C,"-tip ").concat(Z)})}),_e=T()("".concat(C,"-trend-icon"),Z,(0,S.Z)({},"".concat(C,"-trend-icon-").concat(v),v)),Re=v&&(0,D.jsx)("div",{className:_e}),he=h&&(0,D.jsx)("div",{className:st,children:(0,D.jsx)(P.Z,{status:h,text:null})}),Me=g&&(0,D.jsx)("div",{className:Ct,children:g});return M((0,D.jsxs)("div",{className:Y,style:s,children:[Me,(0,D.jsxs)("div",{className:Pt,children:[he,(0,D.jsxs)("div",{className:Zt,children:[(0,D.jsx)(ee,(0,H.Z)({title:(c||ce)&&(0,D.jsxs)(D.Fragment,{children:[c,ce]}),prefix:(Re||p)&&(0,D.jsxs)(D.Fragment,{children:[Re,p]}),className:ie},y)),u&&(0,D.jsx)("div",{className:"".concat(C,"-description ").concat(Z),children:u})]})]})]}))},Ee=Ae,Ie=function(r){return(0,S.Z)({},r.componentCls,{"&-chart":{display:"flex",flexDirection:"column",marginBlockStart:8,marginBlockEnd:8,"&-left":{marginBlockStart:0,marginInlineEnd:"16px"},"&-right":{marginBlockStart:0,marginInlineStart:"16px"}},"&-content":{display:"flex",flexDirection:"column","&-horizontal":(0,S.Z)({flexDirection:"row"},"".concat(r.componentCls,"-chart"),{alignItems:"center",alignSelf:"flex-start"})},"&-footer":{marginBlockStart:8,paddingBlockStart:"16px",borderBlockStart:"rgba(0, 0, 0, 0.08) solid ".concat(r.colorBorder)}})};function ke(e){return(0,it.Xj)("StatisticCard",function(r){var t=(0,H.Z)((0,H.Z)({},r),{},{componentCls:".".concat(e)});return[Ie(t)]})}var je=["children","statistic","className","chart","chartPlacement","footer"],Oe=function(r){var t,n=r.children,i=r.statistic,a=r.className,o=r.chart,s=r.chartPlacement,u=r.footer,l=(0,B.Z)(r,je),c=(0,_.useContext)(tt.ZP.ConfigContext),f=c.getPrefixCls,h=f("pro-statistic-card"),v=ke(h),p=v.wrapSSR,g=v.hashId,y=T()(h,a,g),m=i&&(0,D.jsx)(Ee,(0,H.Z)({layout:"vertical"},i)),E=T()("".concat(h,"-chart"),g,(t={},(0,S.Z)(t,"".concat(h,"-chart-left"),s==="left"&&o&&i),(0,S.Z)(t,"".concat(h,"-chart-right"),s==="right"&&o&&i),t)),C=o&&(0,D.jsx)("div",{className:E,children:o}),A=T()("".concat(h,"-content "),g,(0,S.Z)({},"".concat(h,"-content-horizontal"),s==="left"||s==="right")),M=(C||m)&&(s==="left"?(0,D.jsxs)("div",{className:A,children:[C,m]}):(0,D.jsxs)("div",{className:A,children:[m,C]})),Z=u&&(0,D.jsx)("div",{className:"".concat(h,"-footer ").concat(g),children:u});return p((0,D.jsxs)(w.Z,(0,H.Z)((0,H.Z)({className:y},l),{},{children:[M,n,Z]})))},$e=function(r){return(0,D.jsx)(Oe,(0,H.Z)({bodyStyle:{padding:0}},r))};Oe.Statistic=Ee,Oe.Divider=G.Z,Oe.Operation=Et,Oe.isProCard=!0,Oe.Group=$e;var Ke=Oe,Ye=F(15457),er=F(59251),sr=F(16228),cr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 736c0-111.6-65.4-208-160-252.9V317.3c0-15.1-5.3-29.7-15.1-41.2L536.5 95.4C530.1 87.8 521 84 512 84s-18.1 3.8-24.5 11.4L335.1 276.1a63.97 63.97 0 00-15.1 41.2v165.8C225.4 528 160 624.4 160 736h156.5c-2.3 7.2-3.5 15-3.5 23.8 0 22.1 7.6 43.7 21.4 60.8a97.2 97.2 0 0043.1 30.6c23.1 54 75.6 88.8 134.5 88.8 29.1 0 57.3-8.6 81.4-24.8 23.6-15.8 41.9-37.9 53-64a97 97 0 0043.1-30.5 97.52 97.52 0 0021.4-60.8c0-8.4-1.1-16.4-3.1-23.8H864zM762.3 621.4c9.4 14.6 17 30.3 22.5 46.6H700V558.7a211.6 211.6 0 0162.3 62.7zM388 483.1V318.8l124-147 124 147V668H388V483.1zM239.2 668c5.5-16.3 13.1-32 22.5-46.6 16.3-25.2 37.5-46.5 62.3-62.7V668h-84.8zm388.9 116.2c-5.2 3-11.2 4.2-17.1 3.4l-19.5-2.4-2.8 19.4c-5.4 37.9-38.4 66.5-76.7 66.5-38.3 0-71.3-28.6-76.7-66.5l-2.8-19.5-19.5 2.5a27.7 27.7 0 01-17.1-3.5c-8.7-5-14.1-14.3-14.1-24.4 0-10.6 5.9-19.4 14.6-23.8h231.3c8.8 4.5 14.6 13.3 14.6 23.8-.1 10.2-5.5 19.6-14.2 24.5zM464 400a48 48 0 1096 0 48 48 0 10-96 0z"}}]},name:"rocket",theme:"outlined"},Lr=cr,en=F(20165),Yr=function(r,t){return _.createElement(en.Z,(0,H.Z)((0,H.Z)({},r),{},{ref:t,icon:Lr}))};Yr.displayName="RocketOutlined";var Nn=_.forwardRef(Yr),Li=F(58934),Ii=function(r,t){return _.createElement(en.Z,(0,H.Z)((0,H.Z)({},r),{},{ref:t,icon:Li.Z}))};Ii.displayName="TeamOutlined";var pa=_.forwardRef(Ii),bn=F(80568),jn=function(r,t){return _.createElement(en.Z,(0,H.Z)((0,H.Z)({},r),{},{ref:t,icon:bn.Z}))};jn.displayName="AppstoreOutlined";var An=_.forwardRef(jn),Zn=F(96104);function Pi(){return vi.apply(this,arguments)}function vi(){return vi=gt()(kt()().mark(function e(){return kt()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,Zn.request)("/api/analysis/overview"));case 1:case"end":return t.stop()}},e)})),vi.apply(this,arguments)}function Na(e,r){return ta.apply(this,arguments)}function ta(){return ta=gt()(kt()().mark(function e(r,t){return kt()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,Zn.request)("/api/analysis/authn/quantity",{params:{startTime:r,endTime:t}}));case 1:case"end":return i.stop()}},e)})),ta.apply(this,arguments)}function ho(e,r){return da.apply(this,arguments)}function da(){return da=gt()(kt()().mark(function e(r,t){return kt()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,Zn.request)("/api/analysis/authn/hot_provider",{params:{startTime:r,endTime:t}}));case 1:case"end":return i.stop()}},e)})),da.apply(this,arguments)}function vo(e,r){return ga.apply(this,arguments)}function ga(){return ga=gt()(kt()().mark(function e(r,t){return kt()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,Zn.request)("/api/analysis/app/visit_rank",{params:{startTime:r,endTime:t}}));case 1:case"end":return i.stop()}},e)})),ga.apply(this,arguments)}var Ri={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},Di=function(){var e=(0,_.useState)(!1),r=Ht()(e,2),t=r[0],n=r[1],i=(0,_.useState)(),a=Ht()(i,2),o=a[0],s=a[1];return(0,Ye.Z)(gt()(kt()().mark(function u(){var l,c,f;return kt()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n(!0),v.next=3,Pi();case 3:l=v.sent,c=l.result,f=l.success,f&&s(c),n(!1);case 8:case"end":return v.stop()}},u)})),[]),(0,D.jsxs)(Ut.Z,{gutter:24,children:[(0,D.jsx)(Dt.Z,mt()(mt()({},Ri),{},{children:(0,D.jsx)(Ke,{loading:t,statistic:{title:"\u4ECA\u65E5\u8BA4\u8BC1\u91CF",tip:"\u4ECA\u65E5\u8BA4\u8BC1\u91CF",value:o==null?void 0:o.todayAuthnCount,icon:(0,D.jsx)(sr.Z,{style:{width:46,height:46,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:21,color:"#1890FF",backgroundColor:"rgba(0,145,255,0.10)",fontSize:20}})}})})),(0,D.jsx)(Dt.Z,mt()(mt()({},Ri),{},{children:(0,D.jsx)(Ke,{loading:t,statistic:{title:"\u8BA4\u8BC1\u6E90\u603B\u6570",tip:"\u8BA4\u8BC1\u6E90\u603B\u6570",value:o==null?void 0:o.idpCount,valueRender:function(l){return(0,D.jsx)("a",{onClick:function(){er.m.replace("/authentication/identity-provider")},children:l})},icon:(0,D.jsx)(Nn,{style:{width:46,height:46,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:21,color:"#1890FF",backgroundColor:"rgba(0,145,255,0.10)",fontSize:20}})}})})),(0,D.jsx)(Dt.Z,mt()(mt()({},Ri),{},{children:(0,D.jsx)(Ke,{loading:t,statistic:{title:"\u7528\u6237\u6570\u91CF",tip:"\u7528\u6237\u6570\u91CF",value:o==null?void 0:o.userCount,valueRender:function(l){return(0,D.jsx)("a",{onClick:function(){er.m.replace("/account/user")},children:l})},icon:(0,D.jsx)(pa,{style:{width:46,height:46,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:21,color:"#1890FF",backgroundColor:"rgba(0,145,255,0.10)",fontSize:20}})}})})),(0,D.jsx)(Dt.Z,mt()(mt()({},Ri),{},{children:(0,D.jsx)(Ke,{loading:t,statistic:{title:"\u5E94\u7528\u6570\u91CF",tip:"\u5E94\u7528\u6570\u91CF",value:o==null?void 0:o.appCount,valueRender:function(l){return(0,D.jsx)("a",{onClick:function(){er.m.replace("/app")},children:l})},icon:(0,D.jsx)(An,{style:{width:46,height:46,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:21,color:"#1890FF",backgroundColor:"rgba(0,145,255,0.10)",fontSize:20}})}})}))]})},Qn=F(49678),x=F(29268),d=F(22374),zr;(function(e){e.FORE="fore",e.MID="mid",e.BG="bg"})(zr||(zr={}));var Pe;(function(e){e.TOP="top",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_BOTTOM="right-bottom",e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_BOTTOM="left-bottom",e.BOTTOM="bottom",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e.RADIUS="radius",e.CIRCLE="circle",e.NONE="none"})(Pe||(Pe={}));var Kr;(function(e){e.AXIS="axis",e.GRID="grid",e.LEGEND="legend",e.TOOLTIP="tooltip",e.ANNOTATION="annotation",e.SLIDER="slider",e.SCROLLBAR="scrollbar",e.OTHER="other"})(Kr||(Kr={}));var zn={FORE:3,MID:2,BG:1},rr;(function(e){e.BEFORE_RENDER="beforerender",e.AFTER_RENDER="afterrender",e.BEFORE_PAINT="beforepaint",e.AFTER_PAINT="afterpaint",e.BEFORE_CHANGE_DATA="beforechangedata",e.AFTER_CHANGE_DATA="afterchangedata",e.BEFORE_CLEAR="beforeclear",e.AFTER_CLEAR="afterclear",e.BEFORE_DESTROY="beforedestroy",e.BEFORE_CHANGE_SIZE="beforechangesize",e.AFTER_CHANGE_SIZE="afterchangesize"})(rr||(rr={}));var yn;(function(e){e.BEFORE_DRAW_ANIMATE="beforeanimate",e.AFTER_DRAW_ANIMATE="afteranimate",e.BEFORE_RENDER_LABEL="beforerenderlabel",e.AFTER_RENDER_LABEL="afterrenderlabel"})(yn||(yn={}));var $r;(function(e){e.MOUSE_ENTER="plot:mouseenter",e.MOUSE_DOWN="plot:mousedown",e.MOUSE_MOVE="plot:mousemove",e.MOUSE_UP="plot:mouseup",e.MOUSE_LEAVE="plot:mouseleave",e.TOUCH_START="plot:touchstart",e.TOUCH_MOVE="plot:touchmove",e.TOUCH_END="plot:touchend",e.TOUCH_CANCEL="plot:touchcancel",e.CLICK="plot:click",e.DBLCLICK="plot:dblclick",e.CONTEXTMENU="plot:contextmenu",e.LEAVE="plot:leave",e.ENTER="plot:enter"})($r||($r={}));var hn;(function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.SELECTED="selected",e.DEFAULT="default"})(hn||(hn={}));var Xt=["color","shape","size"],at="_origin",Wt=1,ae=1,me=.25,we={};function Be(e){var r=we[e];if(!r)throw new Error("G engine '".concat(e,"' is not exist, please register it at first."));return r}function Le(e,r){we[e]=r}var ir,Or,sn,mn;function Wn(){ir=document.createElement("table"),Or=document.createElement("tr"),sn=/^\s*<(\w+|!)[^>]*>/,mn={tr:document.createElement("tbody"),tbody:ir,thead:ir,tfoot:ir,td:Or,th:Or,"*":document.createElement("div")}}function Qr(e){ir||Wn();var r=sn.test(e)&&RegExp.$1;(!r||!(r in mn))&&(r="*");var t=mn[r];e=typeof e=="string"?e.replace(/(^\s*)|(\s*$)/g,""):e,t.innerHTML=""+e;var n=t.childNodes[0];return n&&t.contains(n)&&t.removeChild(n),n}function _r(e,r){if(e)for(var t in r)r.hasOwnProperty(t)&&(e.style[t]=r[t]);return e}function Ko(e){var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function Za(e){return typeof e=="number"&&!isNaN(e)}function Q1(e,r,t,n){var i=t,a=n;if(r){var o=Ko(e);i=o.width?o.width:i,a=o.height?o.height:a}return{width:Math.max(Za(i)?i:Wt,Wt),height:Math.max(Za(a)?a:ae,ae)}}function hs(e){var r=e.parentNode;r&&r.removeChild(e)}var ya=F(42090),wt=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this)||this;n.destroyed=!1;var i=t.visible,a=i===void 0?!0:i;return n.visible=a,n}return r.prototype.show=function(){var t=this.visible;t||this.changeVisible(!0)},r.prototype.hide=function(){var t=this.visible;t&&this.changeVisible(!1)},r.prototype.destroy=function(){this.off(),this.destroyed=!0},r.prototype.changeVisible=function(t){this.visible!==t&&(this.visible=t)},r}(ya.Z),Gt=wt,re=F(22479),Se=0,Ne=1/2,Qe=1/2,Sr=.05,cn=function(){function e(r){var t=r.xField,n=r.yField,i=r.adjustNames,a=i===void 0?["x","y"]:i,o=r.dimValuesMap;this.adjustNames=a,this.xField=t,this.yField=n,this.dimValuesMap=o}return e.prototype.isAdjust=function(r){return this.adjustNames.indexOf(r)>=0},e.prototype.getAdjustRange=function(r,t,n){var i=this.yField,a=n.indexOf(t),o=n.length,s,u;return!i&&this.isAdjust("y")?(s=0,u=1):o>1?(s=n[a===0?0:a-1],u=n[a===o-1?o-1:a+1],a!==0?s+=(t-s)/2:s-=(u-t)/2,a!==o-1?u-=(u-t)/2:u+=(t-n[o-2])/2):(s=t===0?0:t-.5,u=t===0?1:t+.5),{pre:s,next:u}},e.prototype.adjustData=function(r,t){var n=this,i=this.getDimValues(t);d.S6(r,function(a,o){d.S6(i,function(s,u){n.adjustDim(u,s,a,o)})})},e.prototype.groupData=function(r,t){return d.S6(r,function(n){n[t]===void 0&&(n[t]=Se)}),d.vM(r,t)},e.prototype.adjustDim=function(r,t,n,i){},e.prototype.getDimValues=function(r){var t=this,n=t.xField,i=t.yField,a=d.f0({},this.dimValuesMap),o=[];if(n&&this.isAdjust("x")&&o.push(n),i&&this.isAdjust("y")&&o.push(i),o.forEach(function(u){a&&a[u]||(a[u]=d.I(r,u).sort(function(l,c){return l-c}))}),!i&&this.isAdjust("y")){var s="y";a[s]=[Se,1]}return a},e}(),rn=cn,xn={},Yn=function(e){return xn[e.toLowerCase()]},vs=function(e,r){if(Yn(e))throw new Error("Adjust type '"+e+"' existed.");xn[e.toLowerCase()]=r},X6=F(4620),ps=F.n(X6);var ds=function(r,t){return ds=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},ds(r,t)};function ea(e,r){ds(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Bi=function(){return Bi=Object.assign||function(t){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Bi.apply(this,arguments)};function Bc(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}function $6(e,r,t,n){var i=arguments.length,a=i<3?r:n===null?n=Object.getOwnPropertyDescriptor(r,t):n,o;if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,r,t,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(r,t,a):o(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a}function Nc(e,r){return function(t,n){r(t,n,e)}}function q6(e,r){if((typeof Reflect=="undefined"?"undefined":_typeof(Reflect))==="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function K6(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})}function xw(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function _w(e,r,t,n){n===void 0&&(n=t),e[n]=r[t]}function Q6(e,r){for(var t in e)t!=="default"&&!r.hasOwnProperty(t)&&(r[t]=e[t])}function Fl(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zc(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,a=[],o;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a}function J6(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(Zc(arguments[r]));return e}function t7(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),i=0,r=0;r<t;r++)for(var a=arguments[r],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function po(e){return this instanceof po?(this.v=e,this):new po(e)}function e7(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(v){return new Promise(function(p,g){a.push([h,v,p,g])>1||s(h,v)})})}function s(h,v){try{u(n[h](v))}catch(p){f(a[0][3],p)}}function u(h){h.value instanceof po?Promise.resolve(h.value.v).then(l,c):f(a[0][2],h)}function l(h){s("next",h)}function c(h){s("throw",h)}function f(h,v){h(v),a.shift(),a.length&&s(a[0][0],a[0][1])}}function Ew(e){var r,t;return r={},n("next"),n("throw",function(i){throw i}),n("return"),r[Symbol.iterator]=function(){return this},r;function n(i,a){r[i]=e[i]?function(o){return(t=!t)?{value:po(e[i](o)),done:i==="return"}:a?a(o):o}:a}}function r7(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof Fl=="function"?Fl(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}}function n7(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function i7(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function a7(e){return e&&e.__esModule?e:{default:e}}function kl(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)}function zc(e,r,t){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,t),t}var Uc=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;n.cacheMap={},n.adjustDataArray=[],n.mergeData=[];var i=t.marginRatio,a=i===void 0?Ne:i,o=t.dodgeRatio,s=o===void 0?Qe:o,u=t.dodgeBy,l=t.intervalPadding,c=t.dodgePadding,f=t.xDimensionLength,h=t.groupNum,v=t.defaultSize,p=t.maxColumnWidth,g=t.minColumnWidth,y=t.columnWidthRatio,m=t.customOffset;return n.marginRatio=a,n.dodgeRatio=s,n.dodgeBy=u,n.intervalPadding=l,n.dodgePadding=c,n.xDimensionLegenth=f,n.groupNum=h,n.defaultSize=v,n.maxColumnWidth=p,n.minColumnWidth=g,n.columnWidthRatio=y,n.customOffset=m,n}return r.prototype.process=function(t){var n=d.d9(t),i=d.xH(n),a=this.dodgeBy,o=a?d.ru(i,a):n;return this.cacheMap={},this.adjustDataArray=o,this.mergeData=i,this.adjustData(o,i),this.adjustDataArray=[],this.mergeData=[],n},r.prototype.adjustDim=function(t,n,i,a){var o=this,s=this.customOffset,u=this.getDistribution(t),l=this.groupData(i,t);return d.S6(l,function(c,f){var h;n.length===1?h={pre:n[0]-1,next:n[0]+1}:h=o.getAdjustRange(t,parseFloat(f),n),d.S6(c,function(v){var p=v[t],g=u[p],y=g.indexOf(a);if(d.UM(s))v[t]=o.getDodgeOffset(h,y,g.length);else{var m=h.pre,E=h.next;v[t]=d.mf(s)?s(v,h):(m+E)/2+s}})}),[]},r.prototype.getDodgeOffset=function(t,n,i){var a=this,o=a.dodgeRatio,s=a.marginRatio,u=a.intervalPadding,l=a.dodgePadding,c=t.pre,f=t.next,h=f-c,v;if(!d.UM(u)&&d.UM(l)&&u>=0){var p=this.getIntervalOnlyOffset(i,n);v=c+p}else if(!d.UM(l)&&d.UM(u)&&l>=0){var p=this.getDodgeOnlyOffset(i,n);v=c+p}else if(!d.UM(u)&&!d.UM(l)&&u>=0&&l>=0){var p=this.getIntervalAndDodgeOffset(i,n);v=c+p}else{var g=h*o/i,y=s*g,p=1/2*(h-i*g-(i-1)*y)+((n+1)*g+n*y)-1/2*g-1/2*h;v=(c+f)/2+p}return v},r.prototype.getIntervalOnlyOffset=function(t,n){var i=this,a=i.defaultSize,o=i.intervalPadding,s=i.xDimensionLegenth,u=i.groupNum,l=i.dodgeRatio,c=i.maxColumnWidth,f=i.minColumnWidth,h=i.columnWidthRatio,v=o/s,p=(1-(u-1)*v)/u*l/(t-1),g=((1-v*(u-1))/u-p*(t-1))/t;if(g=d.UM(h)?g:1/u/t*h,!d.UM(c)){var y=c/s;g=Math.min(g,y)}if(!d.UM(f)){var m=f/s;g=Math.max(g,m)}g=a?a/s:g,p=((1-(u-1)*v)/u-t*g)/(t-1);var E=((1/2+n)*g+n*p+1/2*v)*u-v/2;return E},r.prototype.getDodgeOnlyOffset=function(t,n){var i=this,a=i.defaultSize,o=i.dodgePadding,s=i.xDimensionLegenth,u=i.groupNum,l=i.marginRatio,c=i.maxColumnWidth,f=i.minColumnWidth,h=i.columnWidthRatio,v=o/s,p=1*l/(u-1),g=((1-p*(u-1))/u-v*(t-1))/t;if(g=h?1/u/t*h:g,!d.UM(c)){var y=c/s;g=Math.min(g,y)}if(!d.UM(f)){var m=f/s;g=Math.max(g,m)}g=a?a/s:g,p=(1-(g*t+v*(t-1))*u)/(u-1);var E=((1/2+n)*g+n*v+1/2*p)*u-p/2;return E},r.prototype.getIntervalAndDodgeOffset=function(t,n){var i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.xDimensionLegenth,u=i.groupNum,l=a/s,c=o/s,f=((1-l*(u-1))/u-c*(t-1))/t,h=((1/2+n)*f+n*c+1/2*l)*u-l/2;return h},r.prototype.getDistribution=function(t){var n=this.adjustDataArray,i=this.cacheMap,a=i[t];return a||(a={},d.S6(n,function(o,s){var u=d.I(o,t);u.length||u.push(0),d.S6(u,function(l){a[l]||(a[l]=[]),a[l].push(s)})}),i[t]=a),a},r}(rn),Hc=Uc;function Vc(e,r){return(r-e)*Math.random()+e}var Gc=function(e){ea(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=d.d9(t),i=d.xH(n);return this.adjustData(n,i),n},r.prototype.adjustDim=function(t,n,i){var a=this,o=this.groupData(i,t);return d.S6(o,function(s,u){return a.adjustGroup(s,t,parseFloat(u),n)})},r.prototype.getAdjustOffset=function(t){var n=t.pre,i=t.next,a=(i-n)*Sr;return Vc(n+a,i-a)},r.prototype.adjustGroup=function(t,n,i,a){var o=this,s=this.getAdjustRange(n,i,a);return d.S6(t,function(u){u[n]=o.getAdjustOffset(s)}),t},r}(rn),jc=Gc,gs=d.Ct,Wc=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this,i=t.adjustNames,a=i===void 0?["y"]:i,o=t.height,s=o===void 0?NaN:o,u=t.size,l=u===void 0?10:u,c=t.reverseOrder,f=c===void 0?!1:c;return n.adjustNames=a,n.height=s,n.size=l,n.reverseOrder=f,n}return r.prototype.process=function(t){var n=this,i=n.yField,a=n.reverseOrder,o=i?this.processStack(t):this.processOneDimStack(t);return a?this.reverse(o):o},r.prototype.reverse=function(t){return t.slice(0).reverse()},r.prototype.processStack=function(t){var n=this,i=n.xField,a=n.yField,o=n.reverseOrder,s=o?this.reverse(t):t,u=new gs,l=new gs;return s.map(function(c){return c.map(function(f){var h,v=d.U2(f,i,0),p=d.U2(f,[a]),g=v.toString();if(p=d.kJ(p)?p[1]:p,!d.UM(p)){var y=p>=0?u:l;y.has(g)||y.set(g,0);var m=y.get(g),E=p+m;return y.set(g,E),Bi(Bi({},f),(h={},h[a]=[m,E],h))}return f})})},r.prototype.processOneDimStack=function(t){var n=this,i=this,a=i.xField,o=i.height,s=i.reverseOrder,u="y",l=s?this.reverse(t):t,c=new gs;return l.map(function(f){return f.map(function(h){var v,p=n.size,g=h[a],y=p*2/o;c.has(g)||c.set(g,y/2);var m=c.get(g);return c.set(g,m+y),Bi(Bi({},h),(v={},v[u]=m,v))})})},r}(rn),J1=Wc,Yc=function(e){ea(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.process=function(t){var n=d.xH(t),i=this,a=i.xField,o=i.yField,s=this.getXValuesMaxMap(n),u=Math.max.apply(Math,Object.keys(s).map(function(l){return s[l]}));return d.UI(t,function(l){return d.UI(l,function(c){var f,h,v=c[o],p=c[a];if(d.kJ(v)){var g=(u-s[p])/2;return Bi(Bi({},c),(f={},f[o]=d.UI(v,function(m){return g+m}),f))}var y=(u-v)/2;return Bi(Bi({},c),(h={},h[o]=[y,v+y],h))})})},r.prototype.getXValuesMaxMap=function(t){var n=this,i=this,a=i.xField,o=i.yField,s=d.vM(t,function(u){return u[a]});return d.Q8(s,function(u){return n.getDimMaxValue(u,o)})},r.prototype.getDimMaxValue=function(t,n){var i=d.UI(t,function(o){return d.U2(o,n,[])}),a=d.xH(i);return Math.max.apply(Math,a)},r}(rn),Xc=Yc;vs("Dodge",Hc),vs("Jitter",jc),vs("Stack",J1),vs("Symmetric",Xc);var Ol=function(e,r){return(0,d.HD)(r)?r:e.invert(e.scale(r))},$c=function(){function e(r){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(r)}return e.prototype.mapping=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.map(function(a,o){return r._toOriginParam(a,r.scales[o])});return this.callback.apply(this,i)},e.prototype.getLinearValue=function(r){var t=this.values.length-1,n=Math.floor(t*r),i=t*r-n,a=this.values[n],o=n===t?a:this.values[n+1];return a+(o-a)*i},e.prototype.getNames=function(){for(var r=this.scales,t=this.names,n=Math.min(r.length,t.length),i=[],a=0;a<n;a+=1)i.push(t[a]);return i},e.prototype.getFields=function(){return this.scales.map(function(r){return r.field})},e.prototype.getScale=function(r){return this.scales[this.names.indexOf(r)]},e.prototype.defaultCallback=function(){for(var r=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.length===0?this.values:t.map(function(i,a){var o=r.scales[a];return o.type==="identity"?o.values[0]:r._getAttributeValue(o,i)})},e.prototype._parseCfg=function(r){var t=this,n=r.type,i=n===void 0?"base":n,a=r.names,o=a===void 0?[]:a,s=r.scales,u=s===void 0?[]:s,l=r.values,c=l===void 0?[]:l,f=r.callback;this.type=i,this.scales=u,this.values=c,this.names=o,this.callback=function(){for(var h=[],v=0;v<arguments.length;v++)h[v]=arguments[v];if(f){var p=f.apply(void 0,h);if(!(0,d.UM)(p))return[p]}return t.defaultCallback.apply(t,h)}},e.prototype._getAttributeValue=function(r,t){if(r.isCategory&&!this.linear){var n=r.translate(t);return this.values[n%this.values.length]}var i=r.scale(t);return this.getLinearValue(i)},e.prototype._toOriginParam=function(r,t){return t.isLinear?r:(0,d.kJ)(r)?r.map(function(n){return Ol(t,n)}):Ol(t,r)},e}(),ma=$c,t0=/rgba?\(([\s.,0-9]+)\)/,qc=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,Kc=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,Qc=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,ft=function(e){return/^[r,R,L,l]{1}[\s]*\(/.test(e)},Jt=function(){var e=document.createElement("i");return e.title="Web Colour Picker",e.style.display="none",document.body.appendChild(e),e},oe=function(e,r,t,n){return e[n]+(r[n]-e[n])*t};function le(e){return"#"+Ge(e[0])+Ge(e[1])+Ge(e[2])}var be=function(e){return[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),parseInt(e.substr(5,2),16)]},Ge=function(e){var r=Math.round(e).toString(16);return r.length===1?"0"+r:r},ar=function(e,r){var t=isNaN(Number(r))||r<0?0:r>1?1:Number(r),n=e.length-1,i=Math.floor(n*t),a=n*t-i,o=e[i],s=i===n?o:e[i+1];return le([oe(o,s,a,0),oe(o,s,a,1),oe(o,s,a,2)])},wr,On=function(e){if(e[0]==="#"&&e.length===7)return e;wr||(wr=Jt()),wr.style.color=e;var r=document.defaultView.getComputedStyle(wr,"").getPropertyValue("color"),t=t0.exec(r),n=t[1].split(/\s*,\s*/).map(function(i){return Number(i)});return r=le(n),r},Jn=function(e){var r=(0,d.HD)(e)?e.split("-"):e,t=(0,d.UI)(r,function(n){return be(n.indexOf("#")===-1?On(n):n)});return function(n){return ar(t,n)}},pi=function(e){if(ft(e)){var r,t=void 0;if(e[0]==="l"){var n=qc.exec(e),i=+n[1]+90;t=n[2],r="linear-gradient("+i+"deg, "}else if(e[0]==="r"){r="radial-gradient(";var n=Kc.exec(e);t=n[4]}var a=t.match(Qc);return(0,d.S6)(a,function(o,s){var u=o.split(":");r+=u[1]+" "+u[0]*100+"%",s!==a.length-1&&(r+=", ")}),r+=")",r}return e},Ni={rgb2arr:be,gradient:Jn,toRGB:(0,d.HP)(On),toCSSGradient:pi},Cw=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;return n.type="color",n.names=["color"],(0,d.HD)(n.values)&&(n.linear=!0),n.gradient=Ni.gradient(n.values),n}return r.prototype.getLinearValue=function(t){return this.gradient(t)},r}(ma),Sw=Cw,bw=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;return n.type="opacity",n.names=["opacity"],n}return r}(ma),Aw=bw,Mw=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;return n.names=["x","y"],n.type="position",n}return r.prototype.mapping=function(t,n){var i=this.scales,a=i[0],o=i[1];return(0,d.UM)(t)||(0,d.UM)(n)?[]:[(0,d.kJ)(t)?t.map(function(s){return a.scale(s)}):a.scale(t),(0,d.kJ)(n)?n.map(function(s){return o.scale(s)}):o.scale(n)]},r}(ma),Tw=Mw,ww=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;return n.type="shape",n.names=["shape"],n}return r.prototype.getLinearValue=function(t){var n=Math.round((this.values.length-1)*t);return this.values[n]},r}(ma),Fw=ww,kw=function(e){ea(r,e);function r(t){var n=e.call(this,t)||this;return n.type="size",n.names=["size"],n}return r}(ma),Ow=kw,o7={};function Lw(e){return o7[e]}function xa(e,r){o7[e]=r}var Iw=function(){function e(r){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=r,this.initCfg(),this.init()}return e.prototype.translate=function(r){return r},e.prototype.change=function(r){(0,d.f0)(this.__cfg__,r),this.init()},e.prototype.clone=function(){return this.constructor(this.__cfg__)},e.prototype.getTicks=function(){var r=this;return(0,d.UI)(this.ticks,function(t,n){return(0,d.Kn)(t)?t:{text:r.getText(t,n),tickValue:t,value:r.scale(t)}})},e.prototype.getText=function(r,t){var n=this.formatter,i=n?n(r,t):r;return(0,d.UM)(i)||!(0,d.mf)(i.toString)?"":i.toString()},e.prototype.getConfig=function(r){return this.__cfg__[r]},e.prototype.init=function(){(0,d.f0)(this,this.__cfg__),this.setDomain(),(0,d.xb)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},e.prototype.initCfg=function(){},e.prototype.setDomain=function(){},e.prototype.calculateTicks=function(){var r=this.tickMethod,t=[];if((0,d.HD)(r)){var n=Lw(r);if(!n)throw new Error("There is no method to to calculate ticks!");t=n(this)}else(0,d.mf)(r)&&(t=r(this));return t},e.prototype.rangeMin=function(){return this.range[0]},e.prototype.rangeMax=function(){return this.range[1]},e.prototype.calcPercent=function(r,t,n){return(0,d.hj)(r)?(r-t)/(n-t):NaN},e.prototype.calcValue=function(r,t,n){return t+r*(n-t)},e}(),Jc=Iw,Pw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="cat",t.isCategory=!0,t}return r.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var t=0;t<this.values.length;t++)this.translateIndexMap.set(this.values[t],t)}},r.prototype.translate=function(t){this.buildIndexMap();var n=this.translateIndexMap.get(t);return n===void 0&&(n=(0,d.hj)(t)?t:NaN),n},r.prototype.scale=function(t){var n=this.translate(t),i=this.calcPercent(n,this.min,this.max);return this.calcValue(i,this.rangeMin(),this.rangeMax())},r.prototype.invert=function(t){var n=this.max-this.min,i=this.calcPercent(t,this.rangeMin(),this.rangeMax()),a=Math.round(n*i)+this.min;return a<this.min||a>this.max?NaN:this.values[a]},r.prototype.getText=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var a=t;return(0,d.hj)(t)&&!this.values.includes(t)&&(a=this.values[a]),e.prototype.getText.apply(this,(0,x.pr)([a],n))},r.prototype.initCfg=function(){this.tickMethod="cat"},r.prototype.setDomain=function(){if((0,d.UM)(this.getConfig("min"))&&(this.min=0),(0,d.UM)(this.getConfig("max"))){var t=this.values.length;this.max=t>1?t-1:t}this.translateIndexMap&&(this.translateIndexMap=void 0)},r}(Jc),Ll=Pw,s7=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,go="\\d\\d?",yo="\\d\\d",Rw="\\d{3}",Dw="\\d{4}",ys="[^\\s]+",u7=/\[([^]*?)\]/gm;function l7(e,r){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n].substr(0,r));return t}var c7=function(e){return function(r,t){var n=t[e].map(function(a){return a.toLowerCase()}),i=n.indexOf(r.toLowerCase());return i>-1?i:null}};function mo(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0,i=r;n<i.length;n++){var a=i[n];for(var o in a)e[o]=a[o]}return e}var f7=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],h7=["January","February","March","April","May","June","July","August","September","October","November","December"],Bw=l7(h7,3),Nw=l7(f7,3),t4={dayNamesShort:Nw,dayNames:f7,monthNamesShort:Bw,monthNames:h7,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!==10?1:0)*e%10]}},Il=mo({},t4),v7=function(e){return Il=mo(Il,e)},p7=function(e){return e.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},ti=function(e,r){for(r===void 0&&(r=2),e=String(e);e.length<r;)e="0"+e;return e},Zw={D:function(e){return String(e.getDate())},DD:function(e){return ti(e.getDate())},Do:function(e,r){return r.DoFn(e.getDate())},d:function(e){return String(e.getDay())},dd:function(e){return ti(e.getDay())},ddd:function(e,r){return r.dayNamesShort[e.getDay()]},dddd:function(e,r){return r.dayNames[e.getDay()]},M:function(e){return String(e.getMonth()+1)},MM:function(e){return ti(e.getMonth()+1)},MMM:function(e,r){return r.monthNamesShort[e.getMonth()]},MMMM:function(e,r){return r.monthNames[e.getMonth()]},YY:function(e){return ti(String(e.getFullYear()),4).substr(2)},YYYY:function(e){return ti(e.getFullYear(),4)},h:function(e){return String(e.getHours()%12||12)},hh:function(e){return ti(e.getHours()%12||12)},H:function(e){return String(e.getHours())},HH:function(e){return ti(e.getHours())},m:function(e){return String(e.getMinutes())},mm:function(e){return ti(e.getMinutes())},s:function(e){return String(e.getSeconds())},ss:function(e){return ti(e.getSeconds())},S:function(e){return String(Math.round(e.getMilliseconds()/100))},SS:function(e){return ti(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return ti(e.getMilliseconds(),3)},a:function(e,r){return e.getHours()<12?r.amPm[0]:r.amPm[1]},A:function(e,r){return e.getHours()<12?r.amPm[0].toUpperCase():r.amPm[1].toUpperCase()},ZZ:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+ti(Math.floor(Math.abs(r)/60)*100+Math.abs(r)%60,4)},Z:function(e){var r=e.getTimezoneOffset();return(r>0?"-":"+")+ti(Math.floor(Math.abs(r)/60),2)+":"+ti(Math.abs(r)%60,2)}},d7=function(e){return+e-1},g7=[null,go],y7=[null,ys],m7=["isPm",ys,function(e,r){var t=e.toLowerCase();return t===r.amPm[0]?0:t===r.amPm[1]?1:null}],x7=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(e){var r=(e+"").match(/([+-]|\d\d)/gi);if(r){var t=+r[1]*60+parseInt(r[2],10);return r[0]==="+"?t:-t}return 0}],zw={D:["day",go],DD:["day",yo],Do:["day",go+ys,function(e){return parseInt(e,10)}],M:["month",go,d7],MM:["month",yo,d7],YY:["year",yo,function(e){var r=new Date,t=+(""+r.getFullYear()).substr(0,2);return+(""+(+e>68?t-1:t)+e)}],h:["hour",go,void 0,"isPm"],hh:["hour",yo,void 0,"isPm"],H:["hour",go],HH:["hour",yo],m:["minute",go],mm:["minute",yo],s:["second",go],ss:["second",yo],YYYY:["year",Dw],S:["millisecond","\\d",function(e){return+e*100}],SS:["millisecond",yo,function(e){return+e*10}],SSS:["millisecond",Rw],d:g7,dd:g7,ddd:y7,dddd:y7,MMM:["month",ys,c7("monthNamesShort")],MMMM:["month",ys,c7("monthNames")],a:m7,A:m7,ZZ:x7,Z:x7},Pl={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},_7=function(e){return mo(Pl,e)},E7=function(e,r,t){if(r===void 0&&(r=Pl.default),t===void 0&&(t={}),typeof e=="number"&&(e=new Date(e)),Object.prototype.toString.call(e)!=="[object Date]"||isNaN(e.getTime()))throw new Error("Invalid Date pass to format");r=Pl[r]||r;var n=[];r=r.replace(u7,function(a,o){return n.push(o),"@@@"});var i=mo(mo({},Il),t);return r=r.replace(s7,function(a){return Zw[a](e,i)}),r.replace(/@@@/g,function(){return n.shift()})};function C7(e,r,t){if(t===void 0&&(t={}),typeof r!="string")throw new Error("Invalid format in fecha parse");if(r=Pl[r]||r,e.length>1e3)return null;var n=new Date,i={year:n.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},a=[],o=[],s=r.replace(u7,function(A,M){return o.push(p7(M)),"@@@"}),u={},l={};s=p7(s).replace(s7,function(A){var M=zw[A],Z=M[0],Y=M[1],st=M[3];if(u[Z])throw new Error("Invalid format. "+Z+" specified twice in format");return u[Z]=!0,st&&(l[st]=!0),a.push(M),"("+Y+")"}),Object.keys(l).forEach(function(A){if(!u[A])throw new Error("Invalid format. "+A+" is required in specified format")}),s=s.replace(/@@@/g,function(){return o.shift()});var c=e.match(new RegExp(s,"i"));if(!c)return null;for(var f=mo(mo({},Il),t),h=1;h<c.length;h++){var v=a[h-1],p=v[0],g=v[2],y=g?g(c[h],f):+c[h];if(y==null)return null;i[p]=y}i.isPm===1&&i.hour!=null&&+i.hour!=12?i.hour=+i.hour+12:i.isPm===0&&+i.hour==12&&(i.hour=0);var m;if(i.timezoneOffset==null){m=new Date(i.year,i.month,i.day,i.hour,i.minute,i.second,i.millisecond);for(var E=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],h=0,C=E.length;h<C;h++)if(u[E[h][0]]&&i[E[h][0]]!==m[E[h][1]]())return null}else if(m=new Date(Date.UTC(i.year,i.month,i.day,i.hour,i.minute-i.timezoneOffset,i.second,i.millisecond)),i.month>11||i.month<0||i.day>31||i.day<1||i.hour>23||i.hour<0||i.minute>59||i.minute<0||i.second>59||i.second<0)return null;return m}var Uw={format:E7,parse:C7,defaultI18n:t4,setGlobalDateI18n:v7,setGlobalDateMasks:_7},S7=Uw;function Hw(e){return function(r,t,n,i){for(var a=(0,d.UM)(n)?0:n,o=(0,d.UM)(i)?r.length:i;a<o;){var s=a+o>>>1;e(r[s])>t?o=s:a=s+1}return a}}var b7="format";function A7(e,r){var t=nt[b7]||S7[b7];return t(e,r)}function Rl(e){return(0,d.HD)(e)&&(e.indexOf("T")>0?e=new Date(e).getTime():e=new Date(e.replace(/-/gi,"/")).getTime()),(0,d.J_)(e)&&(e=e.getTime()),e}var ra=1e3,Qo=60*ra,Jo=60*Qo,za=24*Jo,ms=za*31,M7=za*365,xs=[["HH:mm:ss",ra],["HH:mm:ss",ra*10],["HH:mm:ss",ra*30],["HH:mm",Qo],["HH:mm",Qo*10],["HH:mm",Qo*30],["HH",Jo],["HH",Jo*6],["HH",Jo*12],["YYYY-MM-DD",za],["YYYY-MM-DD",za*4],["YYYY-WW",za*7],["YYYY-MM",ms],["YYYY-MM",ms*4],["YYYY-MM",ms*6],["YYYY",za*380]];function Vw(e,r,t){var n=(r-e)/t,i=Hw(function(o){return o[1]})(xs,n)-1,a=xs[i];return i<0?a=xs[0]:i>=xs.length&&(a=(0,d.Z$)(xs)),a}var Gw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="timeCat",t}return r.prototype.translate=function(t){t=Rl(t);var n=this.values.indexOf(t);return n===-1&&((0,d.hj)(t)&&t<this.values.length?n=t:n=NaN),n},r.prototype.getText=function(t,n){var i=this.translate(t);if(i>-1){var a=this.values[i],o=this.formatter;return a=o?o(a,n):A7(a,this.mask),a}return t},r.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},r.prototype.setDomain=function(){var t=this.values;(0,d.S6)(t,function(n,i){t[i]=Rl(n)}),t.sort(function(n,i){return n-i}),e.prototype.setDomain.call(this)},r}(Ll),jw=Gw,Ww=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isContinuous=!0,t}return r.prototype.scale=function(t){if((0,d.UM)(t))return NaN;var n=this.rangeMin(),i=this.rangeMax(),a=this.max,o=this.min;if(a===o)return n;var s=this.getScalePercent(t);return n+s*(i-n)},r.prototype.init=function(){e.prototype.init.call(this);var t=this.ticks,n=(0,d.YM)(t),i=(0,d.Z$)(t);n<this.min&&(this.min=n),i>this.max&&(this.max=i),(0,d.UM)(this.minLimit)||(this.min=n),(0,d.UM)(this.maxLimit)||(this.max=i)},r.prototype.setDomain=function(){var t=(0,d.rx)(this.values),n=t.min,i=t.max;(0,d.UM)(this.min)&&(this.min=n),(0,d.UM)(this.max)&&(this.max=i),this.min>this.max&&(this.min=n,this.max=i)},r.prototype.calculateTicks=function(){var t=this,n=e.prototype.calculateTicks.call(this);return this.nice||(n=(0,d.hX)(n,function(i){return i>=t.min&&i<=t.max})),n},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;return(t-i)/(n-i)},r.prototype.getInvertPercent=function(t){return(t-this.rangeMin())/(this.rangeMax()-this.rangeMin())},r}(Jc),Dl=Ww,Yw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="linear",t.isLinear=!0,t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t);return this.min+n*(this.max-this.min)},r.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},r}(Dl),Bl=Yw;function xo(e,r){var t=Math.E,n;return r>=0?n=Math.pow(t,Math.log(r)/e):n=Math.pow(t,Math.log(-r)/e)*-1,n}function Zi(e,r){return e===1?1:Math.log(r)/Math.log(e)}function T7(e,r,t){(0,d.UM)(t)&&(t=Math.max.apply(null,e));var n=t;return(0,d.S6)(e,function(i){i>0&&i<n&&(n=i)}),n===t&&(n=t/r),n>1&&(n=1),n}function w7(e){var r=e.toString().split(/[eE]/),t=(r[0].split(".")[1]||"").length-+(r[1]||0);return t>0?t:0}function $8t(e,r){var t=w7(e),n=w7(r),i=Math.pow(10,Math.max(t,n));return(e*i+r*i)/i}var Xw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="log",t}return r.prototype.invert=function(t){var n=this.base,i=Zi(n,this.max),a=this.rangeMin(),o=this.rangeMax()-a,s,u=this.positiveMin;if(u){if(t===0)return 0;s=Zi(n,u/n);var l=1/(i-s)*o;if(t<l)return t/l*u}else s=Zi(n,this.min);var c=(t-a)/o,f=c*(i-s)+s;return Math.pow(n,f)},r.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},r.prototype.setDomain=function(){e.prototype.setDomain.call(this);var t=this.min;if(t<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");t===0&&(this.positiveMin=T7(this.values,this.base,this.max))},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i||t<=0)return 0;var a=this.base,o=this.positiveMin;o&&(i=o*1/a);var s;return t<o?s=t/o/(Zi(a,n)-Zi(a,i)):s=(Zi(a,t)-Zi(a,i))/(Zi(a,n)-Zi(a,i)),s},r}(Dl),$w=Xw,qw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pow",t}return r.prototype.invert=function(t){var n=this.getInvertPercent(t),i=this.exponent,a=xo(i,this.max),o=xo(i,this.min),s=n*(a-o)+o,u=s>=0?1:-1;return Math.pow(s,i)*u},r.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},r.prototype.getScalePercent=function(t){var n=this.max,i=this.min;if(n===i)return 0;var a=this.exponent,o=(xo(a,t)-xo(a,i))/(xo(a,n)-xo(a,i));return o},r}(Dl),Kw=qw,Qw=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="time",t}return r.prototype.getText=function(t,n){var i=this.translate(t),a=this.formatter;return a?a(i,n):A7(i,this.mask)},r.prototype.scale=function(t){var n=t;return((0,d.HD)(n)||(0,d.J_)(n))&&(n=this.translate(n)),e.prototype.scale.call(this,n)},r.prototype.translate=function(t){return Rl(t)},r.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},r.prototype.setDomain=function(){var t=this.values,n=this.getConfig("min"),i=this.getConfig("max");if((!(0,d.UM)(n)||!(0,d.hj)(n))&&(this.min=this.translate(this.min)),(!(0,d.UM)(i)||!(0,d.hj)(i))&&(this.max=this.translate(this.max)),t&&t.length){var a=[],o=1/0,s=o,u=0;(0,d.S6)(t,function(l){var c=Rl(l);if(isNaN(c))throw new TypeError("Invalid Time: "+l+" in time scale!");o>c?(s=o,o=c):s>c&&(s=c),u<c&&(u=c),a.push(c)}),t.length>1&&(this.minTickInterval=s-o),(0,d.UM)(n)&&(this.min=o),(0,d.UM)(i)&&(this.max=u)}},r}(Bl),Jw=Qw,tF=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantize",t}return r.prototype.invert=function(t){var n=this.ticks,i=n.length,a=this.getInvertPercent(t),o=Math.floor(a*(i-1));if(o>=i-1)return(0,d.Z$)(n);if(o<0)return(0,d.YM)(n);var s=n[o],u=n[o+1],l=o/(i-1),c=(o+1)/(i-1);return s+(a-l)/(c-l)*(u-s)},r.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},r.prototype.calculateTicks=function(){var t=e.prototype.calculateTicks.call(this);return this.nice||((0,d.Z$)(t)!==this.max&&t.push(this.max),(0,d.YM)(t)!==this.min&&t.unshift(this.min)),t},r.prototype.getScalePercent=function(t){var n=this.ticks;if(t<(0,d.YM)(n))return 0;if(t>(0,d.Z$)(n))return 1;var i=0;return(0,d.S6)(n,function(a,o){if(t>=a)i=o;else return!1}),i/(n.length-1)},r}(Dl),F7=tF,eF=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="quantile",t}return r.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},r}(F7),rF=eF,k7={};function e4(e){return k7[e]}function _a(e,r){if(e4(e))throw new Error("type '"+e+"' existed.");k7[e]=r}var nF=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="identity",t.isIdentity=!0,t}return r.prototype.calculateTicks=function(){return this.values},r.prototype.scale=function(t){return this.values[0]!==t&&(0,d.hj)(t)?t:this.range[0]},r.prototype.invert=function(t){var n=this.range;return t<n[0]||t>n[1]?NaN:this.values[0]},r}(Jc),iF=nF;function O7(e){var r=e.values,t=e.tickInterval,n=e.tickCount,i=e.showLast;if((0,d.hj)(t)){var a=(0,d.hX)(r,function(p,g){return g%t===0}),o=(0,d.Z$)(r);return i&&(0,d.Z$)(a)!==o&&a.push(o),a}var s=r.length,u=e.min,l=e.max;if((0,d.UM)(u)&&(u=0),(0,d.UM)(l)&&(l=r.length-1),!(0,d.hj)(n)||n>=s)return r.slice(u,l+1);if(n<=0||l<=0)return[];for(var c=n===1?s:Math.floor(s/(n-1)),f=[],h=u,v=0;v<n&&!(h>=l);v++)h=Math.min(u+v*c,l),v===n-1&&i?f.push(r[l]):f.push(r[h]);return f}function aF(e){var r=e.min,t=e.max,n=e.nice,i=e.tickCount,a=new oF;return a.domain([r,t]),n&&a.nice(i),a.ticks(i)}var r4=5,L7=Math.sqrt(50),I7=Math.sqrt(10),P7=Math.sqrt(2),oF=function(){function e(){this._domain=[0,1]}return e.prototype.domain=function(r){return r?(this._domain=Array.from(r,Number),this):this._domain.slice()},e.prototype.nice=function(r){var t,n;r===void 0&&(r=r4);var i=this._domain.slice(),a=0,o=this._domain.length-1,s=this._domain[a],u=this._domain[o],l;return u<s&&(t=[u,s],s=t[0],u=t[1],n=[o,a],a=n[0],o=n[1]),l=Nl(s,u,r),l>0?(s=Math.floor(s/l)*l,u=Math.ceil(u/l)*l,l=Nl(s,u,r)):l<0&&(s=Math.ceil(s*l)/l,u=Math.floor(u*l)/l,l=Nl(s,u,r)),l>0?(i[a]=Math.floor(s/l)*l,i[o]=Math.ceil(u/l)*l,this.domain(i)):l<0&&(i[a]=Math.ceil(s*l)/l,i[o]=Math.floor(u*l)/l,this.domain(i)),this},e.prototype.ticks=function(r){return r===void 0&&(r=r4),sF(this._domain[0],this._domain[this._domain.length-1],r||r4)},e}();function sF(e,r,t){var n,i=-1,a,o,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(s=Nl(e,r,t))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),r=Math.floor(r/s),o=new Array(a=Math.ceil(r-e+1));++i<a;)o[i]=(e+i)*s;else for(e=Math.floor(e*s),r=Math.ceil(r*s),o=new Array(a=Math.ceil(e-r+1));++i<a;)o[i]=(e-i)/s;return n&&o.reverse(),o}function Nl(e,r,t){var n=(r-e)/Math.max(0,t),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=L7?10:a>=I7?5:a>=P7?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=L7?10:a>=I7?5:a>=P7?2:1)}function R7(e,r,t){var n;return t==="ceil"?n=Math.ceil(e/r):t==="floor"?n=Math.floor(e/r):n=Math.round(e/r),n*r}function n4(e,r,t){var n=R7(e,t,"floor"),i=R7(r,t,"ceil");n=(0,d.ri)(n,t),i=(0,d.ri)(i,t);for(var a=[],o=Math.max((i-n)/(Math.pow(2,12)-1),t),s=n;s<=i;s=s+o){var u=(0,d.ri)(s,o);a.push(u)}return{min:n,max:i,ticks:a}}function i4(e,r,t){var n,i=e.minLimit,a=e.maxLimit,o=e.min,s=e.max,u=e.tickCount,l=u===void 0?5:u,c=(0,d.UM)(i)?(0,d.UM)(r)?o:r:i,f=(0,d.UM)(a)?(0,d.UM)(t)?s:t:a;if(c>f&&(n=[c,f],f=n[0],c=n[1]),l<=2)return[c,f];for(var h=(f-c)/(l-1),v=[],p=0;p<l;p++)v.push(c+h*p);return v}function uF(e){var r=e.min,t=e.max,n=e.tickInterval,i=e.minLimit,a=e.maxLimit,o=aF(e);return!(0,d.UM)(i)||!(0,d.UM)(a)?i4(e,(0,d.YM)(o),(0,d.Z$)(o)):n?n4(r,t,n).ticks:o}function t1(e){return Math.abs(e)<1e-15?e:parseFloat(e.toFixed(15))}var lF=[1,5,2,2.5,4,3],q8t=null,D7=Number.EPSILON*100;function cF(e,r){return(e%r+r)%r}function fF(e){return Math.round(e*1e12)/1e12}function hF(e,r,t,n,i,a){var o=(0,d.dp)(r),s=(0,d.cq)(r,e),u=0,l=cF(n,a);return(l<D7||a-l<D7)&&n<=0&&i>=0&&(u=1),1-s/(o-1)-t+u}function vF(e,r,t){var n=(0,d.dp)(r),i=(0,d.cq)(r,e),a=1;return 1-i/(n-1)-t+a}function pF(e,r,t,n,i,a){var o=(e-1)/(a-i),s=(r-1)/(Math.max(a,n)-Math.min(t,i));return 2-Math.max(o/s,s/o)}function dF(e,r){return e>=r?2-(e-1)/(r-1):1}function gF(e,r,t,n){var i=r-e;return 1-.5*(Math.pow(r-n,2)+Math.pow(e-t,2))/Math.pow(.1*i,2)}function yF(e,r,t){var n=r-e;if(t>n){var i=(t-n)/2;return 1-Math.pow(i,2)/Math.pow(.1*n,2)}return 1}function mF(){return 1}function xF(e,r,t,n,i,a){t===void 0&&(t=5),n===void 0&&(n=!0),i===void 0&&(i=lF),a===void 0&&(a=[.25,.2,.5,.05]);var o=t<0?0:Math.round(t);if(Number.isNaN(e)||Number.isNaN(r)||typeof e!="number"||typeof r!="number"||!o)return{min:0,max:0,ticks:[]};if(r-e<1e-15||o===1)return{min:e,max:r,ticks:[e]};if(r-e>1e148){var s=t||5,u=(r-e)/s;return{min:e,max:r,ticks:Array(s).fill(null).map(function(tr,fr){return t1(e+u*fr)})}}for(var l={score:-2,lmin:0,lmax:0,lstep:0},c=1;c<1/0;){for(var f=0;f<i.length;f+=1){var h=i[f],v=vF(h,i,c);if(a[0]*v+a[1]+a[2]+a[3]<l.score){c=1/0;break}for(var p=2;p<1/0;){var g=dF(p,o);if(a[0]*v+a[1]+a[2]*g+a[3]<l.score)break;for(var y=(r-e)/(p+1)/c/h,m=Math.ceil(Math.log10(y));m<1/0;){var E=c*h*Math.pow(10,m),C=yF(e,r,E*(p-1));if(a[0]*v+a[1]*C+a[2]*g+a[3]<l.score)break;var A=Math.floor(r/E)*c-(p-1)*c,M=Math.ceil(e/E)*c;if(A<=M)for(var s=M-A,Z=0;Z<=s;Z+=1){var Y=A+Z,st=Y*(E/c),Ct=st+E*(p-1),Pt=E,Zt=hF(h,i,c,st,Ct,Pt),ie=gF(e,r,st,Ct),ce=pF(p,o,e,r,st,Ct),_e=mF(),Re=a[0]*Zt+a[1]*ie+a[2]*ce+a[3]*_e;Re>l.score&&(!n||st<=e&&Ct>=r)&&(l.lmin=st,l.lmax=Ct,l.lstep=Pt,l.score=Re)}m+=1}p+=1}}c+=1}var he=t1(l.lmax),Me=t1(l.lmin),De=t1(l.lstep),Fe=Math.floor(fF((he-Me)/De))+1,Ve=new Array(Fe);Ve[0]=t1(Me);for(var f=1;f<Fe;f++)Ve[f]=t1(Ve[f-1]+De);return{min:Math.min(e,(0,d.YM)(Ve)),max:Math.max(r,(0,d.Z$)(Ve)),ticks:Ve}}function _F(e){var r=e.min,t=e.max,n=e.tickCount,i=e.nice,a=e.tickInterval,o=e.minLimit,s=e.maxLimit,u=xF(r,t,n,i).ticks;return!(0,d.UM)(o)||!(0,d.UM)(s)?i4(e,(0,d.YM)(u),(0,d.Z$)(u)):a?n4(r,t,a).ticks:u}function EF(e){var r=e.base,t=e.tickCount,n=e.min,i=e.max,a=e.values,o,s=Zi(r,i);if(n>0)o=Math.floor(Zi(r,n));else{var u=T7(a,r,i);o=Math.floor(Zi(r,u))}for(var l=s-o,c=Math.ceil(l/t),f=[],h=o;h<s+c;h=h+c)f.push(Math.pow(r,h));return n<=0&&f.unshift(0),f}function B7(e,r,t){if(t===void 0&&(t=5),e===r)return{max:r,min:e,ticks:[e]};var n=t<0?0:Math.round(t);if(n===0)return{max:r,min:e,ticks:[]};var i=1.5,a=.5+1.5*i,o=r-e,s=o/n,u=Math.pow(10,Math.floor(Math.log10(s))),l=u;2*u-s<i*(s-l)&&(l=2*u,5*u-s<a*(s-l)&&(l=5*u,10*u-s<i*(s-l)&&(l=10*u)));for(var c=Math.ceil(r/l),f=Math.floor(e/l),h=Math.max(c*l,r),v=Math.min(f*l,e),p=Math.floor((h-v)/l)+1,g=new Array(p),y=0;y<p;y++)g[y]=t1(v+y*l);return{min:v,max:h,ticks:g}}function CF(e){var r=e.exponent,t=e.tickCount,n=Math.ceil(xo(r,e.max)),i=Math.floor(xo(r,e.min)),a=B7(i,n,t).ticks;return a.map(function(o){var s=o>=0?1:-1;return Math.pow(o,r)*s})}function SF(e,r){var t=e.length*r;return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function bF(e){var r=e.tickCount,t=e.values;if(!t||!t.length)return[];for(var n=t.slice().sort(function(s,u){return s-u}),i=[],a=0;a<r;a++){var o=a/(r-1);i.push(SF(n,o))}return i}function AF(e){var r=e.min,t=e.max,n=e.tickCount,i=e.tickInterval,a=e.minLimit,o=e.maxLimit,s=B7(r,t,n).ticks;return!(0,d.UM)(a)||!(0,d.UM)(o)?i4(e,(0,d.YM)(s),(0,d.Z$)(s)):i?n4(r,t,i).ticks:s}function MF(e){var r=e.min,t=e.max,n=e.minTickInterval,i=e.tickInterval,a=e.tickCount;if(i)a=Math.ceil((t-r)/i);else{i=Vw(r,t,a)[1];var o=(t-r)/i,s=o/a;s>1&&(i=i*Math.ceil(s)),n&&i<n&&(i=n)}i=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),i);for(var u=[],l=r;l<t+i;l+=i)u.push(l);return u}function TF(e){var r=O7((0,x.pi)({showLast:!0},e));return r}function Zl(e){return new Date(e).getFullYear()}function wF(e){return new Date(e,0,1).getTime()}function a4(e){return new Date(e).getMonth()}function FF(e,r){var t=Zl(e),n=Zl(r),i=a4(e),a=a4(r);return(n-t)*12+(a-i)%12}function kF(e,r){return new Date(e,r,1).getTime()}function OF(e,r){return Math.ceil((r-e)/za)}function LF(e,r){return Math.ceil((r-e)/Jo)}function IF(e,r){return Math.ceil((r-e)/(60*1e3))}function PF(e){var r=e.min,t=e.max,n=e.minTickInterval,i=e.tickCount,a=e.tickInterval,o=[];a||(a=(t-r)/i,n&&a<n&&(a=n)),a=Math.max(Math.floor((t-r)/(Math.pow(2,12)-1)),a);var s=Zl(r);if(a>M7)for(var u=Zl(t),l=Math.ceil(a/M7),c=s;c<=u+l;c=c+l)o.push(wF(c));else if(a>ms)for(var f=Math.ceil(a/ms),h=a4(r),v=FF(r,t),c=0;c<=v+f;c=c+f)o.push(kF(s,c+h));else if(a>za)for(var p=new Date(r),g=p.getFullYear(),y=p.getMonth(),m=p.getDate(),E=Math.ceil(a/za),C=OF(r,t),c=0;c<C+E;c=c+E)o.push(new Date(g,y,m+c).getTime());else if(a>Jo)for(var p=new Date(r),g=p.getFullYear(),y=p.getMonth(),E=p.getDate(),A=p.getHours(),M=Math.ceil(a/Jo),Z=LF(r,t),c=0;c<=Z+M;c=c+M)o.push(new Date(g,y,E,A+c).getTime());else if(a>Qo)for(var Y=IF(r,t),st=Math.ceil(a/Qo),c=0;c<=Y+st;c=c+st)o.push(r+c*Qo);else{var Ct=a;Ct<ra&&(Ct=ra);for(var Pt=Math.floor(r/ra)*ra,Zt=Math.ceil((t-r)/ra),ie=Math.ceil(Ct/ra),c=0;c<Zt+ie;c=c+ie)o.push(Pt+c*ra)}return o.length>=512&&console.warn("Notice: current ticks length("+o.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+a+") is too small, increase the value to solve the problem!"),o}xa("cat",O7),xa("time-cat",TF),xa("wilkinson-extended",_F),xa("r-pretty",AF),xa("time",MF),xa("time-pretty",PF),xa("log",EF),xa("pow",CF),xa("quantile",bF),xa("d3-linear",uF),_a("cat",Ll),_a("category",Ll),_a("identity",iF),_a("linear",Bl),_a("log",$w),_a("pow",Kw),_a("time",Jw),_a("timeCat",jw),_a("quantize",F7),_a("quantile",rF);var N7={},Z7=function(e){return N7[e.toLowerCase()]},_s=function(e,r){if(Z7(e))throw new Error("Attribute type '"+e+"' existed.");N7[e.toLowerCase()]=r};_s("Color",Sw),_s("Opacity",Aw),_s("Position",Tw),_s("Shape",Fw),_s("Size",Ow);var br=F(96140);function e0(){var e=new br.WT(3);return br.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function RF(e){var r=new br.WT(3);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r}function z7(e){var r=e[0],t=e[1],n=e[2];return Math.hypot(r,t,n)}function _n(e,r,t){var n=new br.WT(3);return n[0]=e,n[1]=r,n[2]=t,n}function DF(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e}function BF(e,r,t,n){return e[0]=r,e[1]=t,e[2]=n,e}function NF(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e}function U7(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e}function H7(e,r,t){return e[0]=r[0]*t[0],e[1]=r[1]*t[1],e[2]=r[2]*t[2],e}function V7(e,r,t){return e[0]=r[0]/t[0],e[1]=r[1]/t[1],e[2]=r[2]/t[2],e}function ZF(e,r){return e[0]=Math.ceil(r[0]),e[1]=Math.ceil(r[1]),e[2]=Math.ceil(r[2]),e}function zF(e,r){return e[0]=Math.floor(r[0]),e[1]=Math.floor(r[1]),e[2]=Math.floor(r[2]),e}function UF(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e[2]=Math.min(r[2],t[2]),e}function HF(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e[2]=Math.max(r[2],t[2]),e}function VF(e,r){return e[0]=Math.round(r[0]),e[1]=Math.round(r[1]),e[2]=Math.round(r[2]),e}function GF(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e}function jF(e,r,t,n){return e[0]=r[0]+t[0]*n,e[1]=r[1]+t[1]*n,e[2]=r[2]+t[2]*n,e}function G7(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2];return Math.hypot(t,n,i)}function j7(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2];return t*t+n*n+i*i}function W7(e){var r=e[0],t=e[1],n=e[2];return r*r+t*t+n*n}function Y7(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e}function WF(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e}function r0(e,r){var t=r[0],n=r[1],i=r[2],a=t*t+n*n+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=r[0]*a,e[1]=r[1]*a,e[2]=r[2]*a,e}function X7(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]}function $7(e,r,t){var n=r[0],i=r[1],a=r[2],o=t[0],s=t[1],u=t[2];return e[0]=i*u-a*s,e[1]=a*o-n*u,e[2]=n*s-i*o,e}function YF(e,r,t,n){var i=r[0],a=r[1],o=r[2];return e[0]=i+n*(t[0]-i),e[1]=a+n*(t[1]-a),e[2]=o+n*(t[2]-o),e}function XF(e,r,t,n,i,a){var o=a*a,s=o*(2*a-3)+1,u=o*(a-2)+a,l=o*(a-1),c=o*(3-2*a);return e[0]=r[0]*s+t[0]*u+n[0]*l+i[0]*c,e[1]=r[1]*s+t[1]*u+n[1]*l+i[1]*c,e[2]=r[2]*s+t[2]*u+n[2]*l+i[2]*c,e}function $F(e,r,t,n,i,a){var o=1-a,s=o*o,u=a*a,l=s*o,c=3*a*s,f=3*u*o,h=u*a;return e[0]=r[0]*l+t[0]*c+n[0]*f+i[0]*h,e[1]=r[1]*l+t[1]*c+n[1]*f+i[1]*h,e[2]=r[2]*l+t[2]*c+n[2]*f+i[2]*h,e}function qF(e,r){r=r||1;var t=br.FD()*2*Math.PI,n=br.FD()*2-1,i=Math.sqrt(1-n*n)*r;return e[0]=Math.cos(t)*i,e[1]=Math.sin(t)*i,e[2]=n*r,e}function Es(e,r,t){var n=r[0],i=r[1],a=r[2],o=t[3]*n+t[7]*i+t[11]*a+t[15];return o=o||1,e[0]=(t[0]*n+t[4]*i+t[8]*a+t[12])/o,e[1]=(t[1]*n+t[5]*i+t[9]*a+t[13])/o,e[2]=(t[2]*n+t[6]*i+t[10]*a+t[14])/o,e}function n0(e,r,t){var n=r[0],i=r[1],a=r[2];return e[0]=n*t[0]+i*t[3]+a*t[6],e[1]=n*t[1]+i*t[4]+a*t[7],e[2]=n*t[2]+i*t[5]+a*t[8],e}function KF(e,r,t){var n=t[0],i=t[1],a=t[2],o=t[3],s=r[0],u=r[1],l=r[2],c=i*l-a*u,f=a*s-n*l,h=n*u-i*s,v=i*h-a*f,p=a*c-n*h,g=n*f-i*c,y=o*2;return c*=y,f*=y,h*=y,v*=2,p*=2,g*=2,e[0]=s+c+v,e[1]=u+f+p,e[2]=l+h+g,e}function QF(e,r,t,n){var i=[],a=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e}function JF(e,r,t,n){var i=[],a=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e}function tk(e,r,t,n){var i=[],a=[];return i[0]=r[0]-t[0],i[1]=r[1]-t[1],i[2]=r[2]-t[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],e[0]=a[0]+t[0],e[1]=a[1]+t[1],e[2]=a[2]+t[2],e}function o4(e,r){var t=e[0],n=e[1],i=e[2],a=r[0],o=r[1],s=r[2],u=Math.sqrt(t*t+n*n+i*i),l=Math.sqrt(a*a+o*o+s*s),c=u*l,f=c&&X7(e,r)/c;return Math.acos(Math.min(Math.max(f,-1),1))}function ek(e){return e[0]=0,e[1]=0,e[2]=0,e}function rk(e){return"vec3("+e[0]+", "+e[1]+", "+e[2]+")"}function nk(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}function ik(e,r){var t=e[0],n=e[1],i=e[2],a=r[0],o=r[1],s=r[2];return Math.abs(t-a)<=br.Ib*Math.max(1,Math.abs(t),Math.abs(a))&&Math.abs(n-o)<=br.Ib*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=br.Ib*Math.max(1,Math.abs(i),Math.abs(s))}var s4=U7,ak=H7,ok=V7,sk=G7,uk=j7,lk=z7,ck=W7,fk=function(){var e=e0();return function(r,t,n,i,a,o){var s,u;for(t||(t=3),n||(n=0),i?u=Math.min(i*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],e[2]=r[s+2],a(e,e,o),r[s]=e[0],r[s+1]=e[1],r[s+2]=e[2];return r}}(),hk=F(99250),Ur=F(32071),vk=function(){function e(r){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var t=r.start,n=r.end,i=r.matrix,a=i===void 0?[1,0,0,0,1,0,0,0,1]:i,o=r.isTransposed,s=o===void 0?!1:o;this.start=t,this.end=n,this.matrix=a,this.originalMatrix=(0,x.ev)([],a),this.isTransposed=s}return e.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},e.prototype.update=function(r){(0,d.f0)(this,r),this.initial()},e.prototype.convertDim=function(r,t){var n,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(n=[o,a],a=n[0],o=n[1]),a+r*(o-a)},e.prototype.invertDim=function(r,t){var n,i=this[t],a=i.start,o=i.end;return this.isReflect(t)&&(n=[o,a],a=n[0],o=n[1]),(r-a)/(o-a)},e.prototype.applyMatrix=function(r,t,n){n===void 0&&(n=0);var i=this.matrix,a=[r,t,n];return n0(a,a,i),a},e.prototype.invertMatrix=function(r,t,n){n===void 0&&(n=0);var i=this.matrix,a=hk.U_([0,0,0,0,0,0,0,0,0],i),o=[r,t,n];return a&&n0(o,o,a),o},e.prototype.convert=function(r){var t=this.convertPoint(r),n=t.x,i=t.y,a=this.applyMatrix(n,i,1);return{x:a[0],y:a[1]}},e.prototype.invert=function(r){var t=this.invertMatrix(r.x,r.y,1);return this.invertPoint({x:t[0],y:t[1]})},e.prototype.rotate=function(r){var t=this.matrix,n=this.center;return Ur.m$(t,t,[-n.x,-n.y]),Ur.zu(t,t,r),Ur.m$(t,t,[n.x,n.y]),this},e.prototype.reflect=function(r){return r==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},e.prototype.scale=function(r,t){var n=this.matrix,i=this.center;return Ur.m$(n,n,[-i.x,-i.y]),Ur.lh(n,n,[r,t]),Ur.m$(n,n,[i.x,i.y]),this},e.prototype.translate=function(r,t){var n=this.matrix;return Ur.m$(n,n,[r,t]),this},e.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},e.prototype.getCenter=function(){return this.center},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},e.prototype.getRadius=function(){return this.radius},e.prototype.isReflect=function(r){return r==="x"?this.isReflectX:this.isReflectY},e.prototype.resetMatrix=function(r){this.matrix=r||(0,x.ev)([],this.originalMatrix)},e}(),u4=vk,pk=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.isRect=!0,n.type="cartesian",n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=this.start,n=this.end;this.x={start:t.x,end:n.x},this.y={start:t.y,end:n.y}},r.prototype.convertPoint=function(t){var n,i=t.x,a=t.y;return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:this.convertDim(i,"x"),y:this.convertDim(a,"y")}},r.prototype.invertPoint=function(t){var n,i=this.invertDim(t.x,"x"),a=this.invertDim(t.y,"y");return this.isTransposed&&(n=[a,i],i=n[0],a=n[1]),{x:i,y:a}},r}(u4),q7=pk,de=F(1153),dk=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.isHelix=!0,n.type="helix";var i=t.startAngle,a=i===void 0?1.25*Math.PI:i,o=t.endAngle,s=o===void 0?7.25*Math.PI:o,u=t.innerRadius,l=u===void 0?0:u,c=t.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=l,n.radius=c,n.initial(),n}return r.prototype.initial=function(){e.prototype.initial.call(this);var t=(this.endAngle-this.startAngle)/(2*Math.PI)+1,n=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(n=n*this.radius),this.d=Math.floor(n*(1-this.innerRadius)/t),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*n,end:this.innerRadius*n+this.d*.99}},r.prototype.convertPoint=function(t){var n,i=t.x,a=t.y;this.isTransposed&&(n=[a,i],i=n[0],a=n[1]);var o=this.convertDim(i,"x"),s=this.a*o,u=this.convertDim(a,"y");return{x:this.center.x+Math.cos(o)*(s+u),y:this.center.y+Math.sin(o)*(s+u)}},r.prototype.invertPoint=function(t){var n,i=this.d+this.y.start,a=de.$X([0,0],[t.x,t.y],[this.center.x,this.center.y]),o=Ur.Dg(a,[1,0],!0),s=o*this.a;de.kE(a)<s&&(s=de.kE(a));var u=Math.floor((de.kE(a)-s)/i);o=2*u*Math.PI+o;var l=this.a*o,c=de.kE(a)-l;c=(0,d.vQ)(c,0)?0:c;var f=this.invertDim(o,"x"),h=this.invertDim(c,"y");return f=(0,d.vQ)(f,0)?0:f,h=(0,d.vQ)(h,0)?0:h,this.isTransposed&&(n=[h,f],f=n[0],h=n[1]),{x:f,y:h}},r}(u4),gk=dk,yk=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.isPolar=!0,n.type="polar";var i=t.startAngle,a=i===void 0?-Math.PI/2:i,o=t.endAngle,s=o===void 0?Math.PI*3/2:o,u=t.innerRadius,l=u===void 0?0:u,c=t.radius;return n.startAngle=a,n.endAngle=s,n.innerRadius=l,n.radius=c,n.initial(),n}return r.prototype.initial=function(){for(e.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var t=this.getOneBox(),n=t.maxX-t.minX,i=t.maxY-t.minY,a=Math.abs(t.minX)/n,o=Math.abs(t.minY)/i,s;this.height/i>this.width/n?(s=this.width/n,this.circleCenter={x:this.center.x-(.5-a)*this.width,y:this.center.y-(.5-o)*s*i}):(s=this.height/i,this.circleCenter={x:this.center.x-(.5-a)*s*n,y:this.center.y-(.5-o)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=s*this.radius:(this.radius<=0||this.radius>s)&&(this.polarRadius=s):this.polarRadius=s,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},r.prototype.getRadius=function(){return this.polarRadius},r.prototype.convertPoint=function(t){var n,i=this.getCenter(),a=t.x,o=t.y;return this.isTransposed&&(n=[o,a],a=n[0],o=n[1]),a=this.convertDim(a,"x"),o=this.convertDim(o,"y"),{x:i.x+Math.cos(a)*o,y:i.y+Math.sin(a)*o}},r.prototype.invertPoint=function(t){var n,i=this.getCenter(),a=[t.x-i.x,t.y-i.y],o=this,s=o.startAngle,u=o.endAngle;this.isReflect("x")&&(n=[u,s],s=n[0],u=n[1]);var l=[1,0,0,0,1,0,0,0,1];Ur.zu(l,l,s);var c=[1,0,0];n0(c,c,l);var f=[c[0],c[1]],h=Ur.Dg(f,a,u<s);(0,d.vQ)(h,Math.PI*2)&&(h=0);var v=de.kE(a),p=h/(u-s);p=u-s>0?p:-p;var g=this.invertDim(v,"y"),y={x:0,y:0};return y.x=this.isTransposed?g:p,y.y=this.isTransposed?p:g,y},r.prototype.getCenter=function(){return this.circleCenter},r.prototype.getOneBox=function(){var t=this.startAngle,n=this.endAngle;if(Math.abs(n-t)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var i=[0,Math.cos(t),Math.cos(n)],a=[0,Math.sin(t),Math.sin(n)],o=Math.min(t,n);o<Math.max(t,n);o+=Math.PI/18)i.push(Math.cos(o)),a.push(Math.sin(o));return{minX:Math.min.apply(Math,i),maxX:Math.max.apply(Math,i),minY:Math.min.apply(Math,a),maxY:Math.max.apply(Math,a)}},r}(u4),mk=yk,K7={},xk=function(e){return K7[e.toLowerCase()]},zl=function(e,r){K7[e.toLowerCase()]=r};zl("rect",q7),zl("cartesian",q7),zl("polar",mk),zl("helix",gk);function Q7(e,r,t){var n=new re.Event(r,t);n.target=e,n.propagationPath.push(e),e.emitDelegation(r,n);for(var i=e.getParent();i;)i.emitDelegation(r,n),n.propagationPath.push(i),i=i.getParent()}var J7=[1,0,0,0,1,0,0,0,1];function e1(e,r,t){if(t===void 0&&(t=J7),!r)return null;var n=Ur.vs(t,[["t",-e.x,-e.y],["r",r],["t",e.x,e.y]]);return n}function l4(e,r){return!e.x&&!e.y?null:Ur.vs(r||J7,[["t",e.x,e.y]])}function _k(e){var r=[1,0,0],t=[0,0,0];return n0(t,r,e),Math.atan2(t[1],t[0])}function Ul(e,r){var t=[0,0];return de.kK(t,r,e),t}function Ek(e,r){var t=Ul(e,[r.minX,r.minY]),n=Ul(e,[r.maxX,r.minY]),i=Ul(e,[r.minX,r.maxY]),a=Ul(e,[r.maxX,r.maxY]),o=Math.min(t[0],n[0],i[0],a[0]),s=Math.max(t[0],n[0],i[0],a[0]),u=Math.min(t[1],n[1],i[1],a[1]),l=Math.max(t[1],n[1],i[1],a[1]);return{x:o,y:u,minX:o,minY:u,maxX:s,maxY:l,width:s-o,height:l-u}}function th(e,r,t,n){if(r){var i=e1({x:t,y:n},r,e.getMatrix());e.setMatrix(i)}}function Cs(e,r,t){var n=l4({x:r,y:t});e.attr("matrix",n)}function Hl(e){var r=0,t=0,n=0,i=0;return(0,d.hj)(e)?r=t=n=i=e:(0,d.kJ)(e)&&(r=e[0],n=(0,d.UM)(e[1])?e[0]:e[1],i=(0,d.UM)(e[2])?e[0]:e[2],t=(0,d.UM)(e[3])?n:e[3]),[r,n,i,t]}function c4(e){for(var r=e.childNodes,t=r.length,n=t-1;n>=0;n--)e.removeChild(r[n])}function Ck(e,r){return!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)"))}function Ss(e){var r=e.start,t=e.end,n=Math.min(r.x,t.x),i=Math.min(r.y,t.y),a=Math.max(r.x,t.x),o=Math.max(r.y,t.y);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function Sk(e){var r=e.map(function(s){return s.x}),t=e.map(function(s){return s.y}),n=Math.min.apply(Math,r),i=Math.min.apply(Math,t),a=Math.max.apply(Math,r),o=Math.max.apply(Math,t);return{x:n,y:i,minX:n,minY:i,maxX:a,maxY:o,width:a-n,height:o-i}}function bs(e,r,t,n){var i=e+t,a=r+n;return{x:e,y:r,width:t,height:n,minX:e,minY:r,maxX:isNaN(i)?0:i,maxY:isNaN(a)?0:a}}function r1(e,r,t){return(1-t)*e+r*t}function i0(e,r,t){return{x:e.x+Math.cos(t)*r,y:e.y+Math.sin(t)*r}}function bk(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}var K8t=function(e){return new Promise(function(r){setTimeout(r,e)})},Vl=function(e,r,t){return t===void 0&&(t=Math.pow(Number.EPSILON,.5)),[e,r].includes(1/0)?Math.abs(e)===Math.abs(r):Math.abs(e-r)<t};function Ak(e,r){var t=Math.max(e.minX,r.minX),n=Math.max(e.minY,r.minY),i=Math.min(e.maxX,r.maxX),a=Math.min(e.maxY,r.maxY);return bs(t,n,i-t,a-n)}function Q8t(e,r){var t=Math.min(e.minX,r.minX),n=Math.min(e.minY,r.minY),i=Math.max(e.maxX,r.maxX),a=Math.max(e.maxY,r.maxY);return bs(t,n,i-t,a-n)}function eh(e){var r=e.getClip(),t=r&&r.getBBox(),n;if(!e.isGroup())n=e.getBBox();else{var i=1/0,a=-1/0,o=1/0,s=-1/0,u=e.getChildren();u.length>0?(0,d.S6)(u,function(l){if(l.get("visible")){if(l.isGroup()&&l.get("children").length===0)return!0;var c=eh(l),f=l.applyToMatrix([c.minX,c.minY,1]),h=l.applyToMatrix([c.minX,c.maxY,1]),v=l.applyToMatrix([c.maxX,c.minY,1]),p=l.applyToMatrix([c.maxX,c.maxY,1]),g=Math.min(f[0],h[0],v[0],p[0]),y=Math.max(f[0],h[0],v[0],p[0]),m=Math.min(f[1],h[1],v[1],p[1]),E=Math.max(f[1],h[1],v[1],p[1]);g<i&&(i=g),y>a&&(a=y),m<o&&(o=m),E>s&&(s=E)}}):(i=0,a=0,o=0,s=0),n=bs(i,o,a-i,s-o)}return t?Ak(n,t):n}function Mk(e,r){if(!(!e.getClip()&&!r.getClip())){var t=r.getClip();if(!t){e.setClip(null);return}var n={type:t.get("type"),attrs:t.attr()};e.setClip(n)}}function ei(e){return e+"px"}function rh(e,r,t,n){var i=bk(e,r),a=n/i,o=0;return t==="start"?o=0-a:t==="end"&&(o=1+a),{x:r1(e.x,r.x,o),y:r1(e.y,r.y,o)}}var Tk={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},wk=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.initCfg(),n}return r.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},r.prototype.clear=function(){},r.prototype.update=function(t){var n=this,i=this.get("defaultCfg")||{};(0,d.S6)(t,function(a,o){var s=n.get(o),u=a;s!==a&&((0,d.Kn)(a)&&i[o]&&(u=(0,d.b$)({},i[o],a)),n.set(o,u))}),this.updateInner(t),this.afterUpdate(t)},r.prototype.updateInner=function(t){},r.prototype.afterUpdate=function(t){(0,d.wH)(t,"visible")&&(t.visible?this.show():this.hide()),(0,d.wH)(t,"capture")&&this.setCapture(t.capture)},r.prototype.getLayoutBBox=function(){return this.getBBox()},r.prototype.getLocationType=function(){return this.get("locationType")},r.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},r.prototype.setOffset=function(t,n){this.update({offsetX:t,offsetY:n})},r.prototype.setLocation=function(t){var n=(0,x.pi)({},t);this.update(n)},r.prototype.getLocation=function(){var t=this,n={},i=this.get("locationType"),a=Tk[i];return(0,d.S6)(a,function(o){n[o]=t.get(o)}),n},r.prototype.isList=function(){return!1},r.prototype.isSlider=function(){return!1},r.prototype.init=function(){},r.prototype.initCfg=function(){var t=this,n=this.get("defaultCfg");(0,d.S6)(n,function(i,a){var o=t.get(a);if((0,d.Kn)(o)){var s=(0,d.b$)({},i,o);t.set(a,s)}})},r}(re.Base),nh=wk,n1="update_status",Fk=["visible","tip","delegateObject"],kk=["container","group","shapesMap","isRegister","isUpdating","destroyed"],Ok=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},r.prototype.remove=function(){this.clear();var t=this.get("group");t.remove()},r.prototype.clear=function(){var t=this.get("group");t.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},r.prototype.getChildComponentById=function(t){var n=this.getElementById(t),i=n&&n.get("component");return i},r.prototype.getElementById=function(t){return this.get("shapesMap")[t]},r.prototype.getElementByLocalId=function(t){var n=this.getElementId(t);return this.getElementById(n)},r.prototype.getElementsByName=function(t){var n=[];return(0,d.S6)(this.get("shapesMap"),function(i){i.get("name")===t&&n.push(i)}),n},r.prototype.getContainer=function(){return this.get("container")},r.prototype.updateInner=function(t){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},r.prototype.render=function(){var t=this.get("offScreenGroup");t||(t=this.offScreenRender());var n=this.get("group");this.updateElements(t,n),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},r.prototype.show=function(){var t=this.get("group");t.show(),this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("group");t.hide(),this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.get("group");n.set("capture",t),this.set("capture",t)},r.prototype.destroy=function(){this.removeEvent(),this.remove(),e.prototype.destroy.call(this)},r.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},r.prototype.getLayoutBBox=function(){var t=this.get("group"),n=this.getInnerLayoutBBox(),i=t.getTotalMatrix();return i&&(n=Ek(i,n)),n},r.prototype.on=function(t,n,i){var a=this.get("group");return a.on(t,n,i),this},r.prototype.off=function(t,n){var i=this.get("group");return i&&i.off(t,n),this},r.prototype.emit=function(t,n){var i=this.get("group");i.emit(t,n)},r.prototype.init=function(){e.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},r.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},r.prototype.delegateEmit=function(t,n){var i=this.get("group");n.target=i,i.emit(t,n),Q7(i,t,n)},r.prototype.createOffScreenGroup=function(){var t=this.get("group"),n=t.getGroupBase(),i=new n({delegateObject:this.getDelegateObject()});return i},r.prototype.applyOffset=function(){var t=this.get("offsetX"),n=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t,y:n})},r.prototype.initGroup=function(){var t=this.get("container");this.set("group",t.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},r.prototype.offScreenRender=function(){this.clearOffScreenCache();var t=this.createOffScreenGroup();return this.renderInner(t),this.set("offScreenGroup",t),this.set("offScreenBBox",eh(t)),t},r.prototype.addGroup=function(t,n){this.appendDelegateObject(t,n);var i=t.addGroup(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addShape=function(t,n){this.appendDelegateObject(t,n);var i=t.addShape(n);return this.get("isRegister")&&this.registerElement(i),i},r.prototype.addComponent=function(t,n){var i=n.id,a=n.component,o=(0,x._T)(n,["id","component"]),s=new a((0,x.pi)((0,x.pi)({},o),{id:i,container:t,updateAutoRender:this.get("updateAutoRender")}));return s.init(),s.render(),this.get("isRegister")&&this.registerElement(s.get("group")),s},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){var t=this.get("group");t.off()},r.prototype.getElementId=function(t){var n=this.get("id"),i=this.get("name");return n+"-"+i+"-"+t},r.prototype.registerElement=function(t){var n=t.get("id");this.get("shapesMap")[n]=t},r.prototype.unregisterElement=function(t){var n=t.get("id");delete this.get("shapesMap")[n]},r.prototype.moveElementTo=function(t,n){var i=l4(n);t.attr("matrix",i)},r.prototype.addAnimation=function(t,n,i){var a=n.attr("opacity");(0,d.UM)(a)&&(a=1),n.attr("opacity",0),n.animate({opacity:a},i)},r.prototype.removeAnimation=function(t,n,i){n.animate({opacity:0},i)},r.prototype.updateAnimation=function(t,n,i,a){n.animate(i,a)},r.prototype.updateElements=function(t,n){var i=this,a=this.get("animate"),o=this.get("animateOption"),s=t.getChildren().slice(0),u;(0,d.S6)(s,function(l){var c=l.get("id"),f=i.getElementById(c),h=l.get("name");if(f)if(l.get("isComponent")){var v=l.get("component"),p=f.get("component"),g=(0,d.ei)(v.cfg,(0,d.e5)((0,d.XP)(v.cfg),kk));p.update(g),f.set(n1,"update")}else{var y=i.getReplaceAttrs(f,l);a&&o.update?i.updateAnimation(h,f,y,o.update):f.attr(y),l.isGroup()&&i.updateElements(l,f),(0,d.S6)(Fk,function(A){f.set(A,l.get(A))}),Mk(f,l),u=f,f.set(n1,"update")}else{n.add(l);var m=n.getChildren();if(m.splice(m.length-1,1),u){var E=m.indexOf(u);m.splice(E+1,0,l)}else m.unshift(l);if(i.registerElement(l),l.set(n1,"add"),l.get("isComponent")){var v=l.get("component");v.set("container",n)}else l.isGroup()&&i.registerNewGroup(l);if(u=l,a){var C=i.get("isInit")?o.appear:o.enter;C&&i.addAnimation(h,l,C)}}})},r.prototype.clearUpdateStatus=function(t){var n=t.getChildren();(0,d.S6)(n,function(i){i.set(n1,null)})},r.prototype.clearOffScreenCache=function(){var t=this.get("offScreenGroup");t&&t.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},r.prototype.getDelegateObject=function(){var t,n=this.get("name"),i=(t={},t[n]=this,t.component=this,t);return i},r.prototype.appendDelegateObject=function(t,n){var i=t.get("delegateObject");n.delegateObject||(n.delegateObject={}),(0,d.CD)(n.delegateObject,i)},r.prototype.getReplaceAttrs=function(t,n){var i=t.attr(),a=n.attr();return(0,d.S6)(i,function(o,s){a[s]===void 0&&(a[s]=void 0)}),a},r.prototype.registerNewGroup=function(t){var n=this,i=t.getChildren();(0,d.S6)(i,function(a){n.registerElement(a),a.set(n1,"add"),a.isGroup()&&n.registerNewGroup(a)})},r.prototype.deleteElements=function(){var t=this,n=this.get("shapesMap"),i=[];(0,d.S6)(n,function(s,u){!s.get(n1)||s.destroyed?i.push([u,s]):s.set(n1,null)});var a=this.get("animate"),o=this.get("animateOption");(0,d.S6)(i,function(s){var u=s[0],l=s[1];if(!l.destroyed){var c=l.get("name");if(a&&o.leave){var f=(0,d.CD)({callback:function(){t.removeElement(l)}},o.leave);t.removeAnimation(c,l,f)}else t.removeElement(l)}delete n[u]})},r.prototype.removeElement=function(t){if(t.get("isGroup")){var n=t.get("component");n&&n.destroy()}t.remove()},r}(nh),Ln=Ok,f4="\u2026";function Lk(e){for(var r=0,t=0;t<e.length;t++)r+=i1(e,t);return r}function i1(e,r){return e.charCodeAt(r)>0&&e.charCodeAt(r)<128?1:2}function Ik(e,r,t){t===void 0&&(t="tail");var n=e.length,i="";if(t==="tail"){for(var a=0,o=0;a<r;){var s=i1(e,o);if(a+s<=r)i+=e[o],a+=i1(e,o),o++;else break}i+=f4}else if(t==="head"){for(var a=0,o=n-1;a<r;){var s=i1(e,o);if(a+s<=r)i+=e[o],a+=i1(e,o),o--;else break}i=f4+i}else{for(var u="",l="",a=0,c=0,f=n-1;a<r;){var h=i1(e,c),v=!1;h+a<=r&&(u+=e[c],c++,a+=h,v=!0);var p=i1(e,f);if(p+a<=r&&(l=e[f]+l,a+=p,f--,v=!0),!v)break}i=u+f4+l}return i}var Pk="\u2026",Rk=2,Dk=400;function Bk(e){for(var r=e.map(function(u){var l=u.attr("text");return(0,d.UM)(l)?"":""+l}),t=0,n=0,i=0;i<r.length;i+=1){for(var a=0,o=0;o<=r[i].length;o+=1){var s=r[i].charCodeAt(o);s>=19968&&s<=40869?a+=2:a+=1}a>t&&(t=a,n=i)}return e[n].getBBox().width}function h4(e){if(e.length>Dk)return Bk(e);var r=0;return(0,d.S6)(e,function(t){var n=t.getBBox(),i=n.width;r<i&&(r=i)}),r}function Nk(e,r){var t=r.getCanvasBBox();return e?t.width:t.height}function J8t(e,r){return e.getBBox().width<r}function As(e,r,t,n){var i;n===void 0&&(n="tail");var a=(i=r.attr("text"))!==null&&i!==void 0?i:"";if(n==="tail"){var o=(0,d.ei)(r.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),s=(0,d.Lo)(a,t,o,"\u2026");return a!==s?(r.attr("text",s),r.set("tip",a),!0):(r.set("tip",null),!1)}var u=Nk(e,r),l=Lk(a),c=!1;if(t<u){var f=Math.floor(t/u*l)-Rk,h=void 0;f>=0?h=Ik(a,f,n):h=Pk,h&&(r.attr("text",h),c=!0)}return c?r.set("tip",a):r.set("tip",null),c}function Gl(e,r){var t=r.x,n=r.y,i=r.content,a=r.style,o=r.id,s=r.name,u=r.rotate,l=r.maxLength,c=r.autoEllipsis,f=r.isVertical,h=r.ellipsisPosition,v=r.background,p=e.addGroup({id:o+"-group",name:s+"-group",attrs:{x:t,y:n}}),g=p.addShape({type:"text",id:o,name:s,attrs:(0,x.pi)({x:0,y:0,text:i},a)}),y=Hl((0,d.U2)(v,"padding",0));if(l&&c){var m=l-(y[1]+y[3]);As(!f,g,m,h)}if(v){var E=(0,d.U2)(v,"style",{}),C=g.getCanvasBBox(),A=C.minX,M=C.minY,Z=C.width,Y=C.height,st=p.addShape("rect",{id:o+"-bg",name:o+"-bg",attrs:(0,x.pi)({x:A-y[3],y:M-y[0],width:Z+y[1]+y[3],height:Y+y[0]+y[2]},E)});st.toBack()}Cs(p,t,n),th(p,u,t,n)}var mr={fontFamily:`
  BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4,descriptionIconStroke:"#fff",descriptionIconFill:"rgba(58, 73, 101, .25)"},Zk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:mr.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:mr.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:mr.lineColor,lineWidth:1}}}})},r.prototype.renderInner=function(t){this.renderLine(t),this.get("text")&&this.renderLabel(t)},r.prototype.renderLine=function(t){var n=this.get("start"),i=this.get("end"),a=this.get("style");this.addShape(t,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:(0,x.pi)({x1:n.x,y1:n.y,x2:i.x,y2:i.y},a)})},r.prototype.getLabelPoint=function(t,n,i){var a;return i==="start"?a=0:i==="center"?a=.5:(0,d.HD)(i)&&i.indexOf("%")!==-1?a=parseInt(i,10)/100:(0,d.hj)(i)?a=i:a=1,(a>1||a<0)&&(a=1),{x:r1(t.x,n.x,a),y:r1(t.y,n.y,a)}},r.prototype.renderLabel=function(t){var n=this.get("text"),i=this.get("start"),a=this.get("end"),o=n.position,s=n.content,u=n.style,l=n.offsetX,c=n.offsetY,f=n.autoRotate,h=n.maxLength,v=n.autoEllipsis,p=n.ellipsisPosition,g=n.background,y=n.isVertical,m=y===void 0?!1:y,E=this.getLabelPoint(i,a,o),C=E.x+l,A=E.y+c,M={id:this.getElementId("line-text"),name:"annotation-line-text",x:C,y:A,content:s,style:u,maxLength:h,autoEllipsis:v,ellipsisPosition:p,background:g,isVertical:m};if(f){var Z=[a.x-i.x,a.y-i.y];M.rotate=Math.atan2(Z[1],Z[0])}Gl(t,M)},r}(Ln),zk=Zk,Uk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:mr.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:mr.fontFamily}}})},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.renderInner=function(t){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("content"),s=this.get("style"),u=this.getElementId("text"),l=this.get("name")+"-text",c=this.get("maxLength"),f=this.get("autoEllipsis"),h=this.get("isVertical"),v=this.get("ellipsisPosition"),p=this.get("background"),g=this.get("rotate"),y={id:u,name:l,x:i,y:a,content:o,style:s,maxLength:c,autoEllipsis:f,isVertical:h,ellipsisPosition:v,background:p,rotate:g};Gl(t,y)},r.prototype.resetLocation=function(){var t=this.getElementByLocalId("text-group");if(t){var n=this.getLocation(),i=n.x,a=n.y,o=this.get("rotate");Cs(t,i,a),th(t,o,i,a)}},r}(Ln),Hk=Uk,Vk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},r.prototype.renderInner=function(t){this.renderArc(t)},r.prototype.getArcPath=function(){var t=this.getLocation(),n=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=i0(n,i,a),u=i0(n,i,o),l=o-a>Math.PI?1:0,c=[["M",s.x,s.y]];if(o-a===Math.PI*2){var f=i0(n,i,a+Math.PI);c.push(["A",i,i,0,l,1,f.x,f.y]),c.push(["A",i,i,0,l,1,u.x,u.y])}else c.push(["A",i,i,0,l,1,u.x,u.y]);return c},r.prototype.renderArc=function(t){var n=this.getArcPath(),i=this.get("style");this.addShape(t,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:(0,x.pi)({path:n},i)})},r}(Ln),Gk=Vk,jk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:mr.regionColor,opacity:.4}}})},r.prototype.renderInner=function(t){this.renderRegion(t)},r.prototype.renderRegion=function(t){var n=this.get("start"),i=this.get("end"),a=this.get("style"),o=Ss({start:n,end:i});this.addShape(t,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.pi)({x:o.x,y:o.y,width:o.width,height:o.height},a)})},r}(Ln),Wk=jk,Yk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},r.prototype.renderInner=function(t){this.renderImage(t)},r.prototype.getImageAttrs=function(){var t=this.get("start"),n=this.get("end"),i=this.get("style"),a=Ss({start:t,end:n}),o=this.get("src");return(0,x.pi)({x:a.x,y:a.y,img:o,width:a.width,height:a.height},i)},r.prototype.renderImage=function(t){this.addShape(t,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},r}(Ln),Xk=Yk,$k=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:mr.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:mr.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:mr.fontFamily}}}})},r.prototype.renderInner=function(t){(0,d.U2)(this.get("line"),"display")&&this.renderLine(t),(0,d.U2)(this.get("text"),"display")&&this.renderText(t),(0,d.U2)(this.get("point"),"display")&&this.renderPoint(t),this.get("autoAdjust")&&this.autoAdjust(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},r.prototype.renderPoint=function(t){var n=this.getShapeAttrs().point;this.addShape(t,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:n})},r.prototype.renderLine=function(t){var n=this.getShapeAttrs().line;this.addShape(t,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:n})},r.prototype.renderText=function(t){var n=this.getShapeAttrs().text,i=n.x,a=n.y,o=n.text,s=(0,x._T)(n,["x","y","text"]),u=this.get("text"),l=u.background,c=u.maxLength,f=u.autoEllipsis,h=u.isVertival,v=u.ellipsisPosition,p={x:i,y:a,id:this.getElementId("text"),name:"annotation-text",content:o,style:s,background:l,maxLength:c,autoEllipsis:f,isVertival:h,ellipsisPosition:v};Gl(t,p)},r.prototype.autoAdjust=function(t){var n=this.get("direction"),i=this.get("x"),a=this.get("y"),o=(0,d.U2)(this.get("line"),"length",0),s=this.get("coordinateBBox"),u=t.getBBox(),l=u.minX,c=u.maxX,f=u.minY,h=u.maxY,v=t.findById(this.getElementId("text-group")),p=t.findById(this.getElementId("text")),g=t.findById(this.getElementId("line"));if(s){if(v){if(i+l<=s.minX){var y=s.minX-(i+l);Cs(v,v.attr("x")+y,v.attr("y"))}if(i+c>=s.maxX){var y=i+c-s.maxX;Cs(v,v.attr("x")-y,v.attr("y"))}}if(n==="upward"&&a+f<=s.minY||n!=="upward"&&a+h>=s.maxY){var m=void 0,E=void 0;n==="upward"&&a+f<=s.minY?(m="top",E=1):(m="bottom",E=-1),p.attr("textBaseline",m),g&&g.attr("path",[["M",0,0],["L",0,o*E]]),Cs(v,v.attr("x"),(o+2)*E)}}},r.prototype.getShapeAttrs=function(){var t=(0,d.U2)(this.get("line"),"display"),n=(0,d.U2)(this.get("point"),"style",{}),i=(0,d.U2)(this.get("line"),"style",{}),a=(0,d.U2)(this.get("text"),"style",{}),o=this.get("direction"),s=t?(0,d.U2)(this.get("line"),"length",0):0,u=o==="upward"?-1:1;return{point:(0,x.pi)({x:0,y:0},n),line:(0,x.pi)({path:[["M",0,0],["L",0,s*u]]},i),text:(0,x.pi)({x:0,y:(s+2)*u,text:(0,d.U2)(this.get("text"),"content",""),textBaseline:o==="upward"?"bottom":"top"},a)}},r}(Ln),qk=$k,Kk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:mr.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:mr.textColor,fontFamily:mr.fontFamily}}}})},r.prototype.renderInner=function(t){var n=(0,d.U2)(this.get("region"),"style",{}),i=(0,d.U2)(this.get("text"),"style",{}),a=this.get("lineLength")||0,o=this.get("points");if(o.length){var s=Sk(o),u=[];u.push(["M",o[0].x,s.minY-a]),o.forEach(function(c){u.push(["L",c.x,c.y])}),u.push(["L",o[o.length-1].x,o[o.length-1].y-a]),this.addShape(t,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:(0,x.pi)({path:u},n)});var l=(0,x.pi)({id:this.getElementId("text"),name:"annotation-text",x:(s.minX+s.maxX)/2,y:s.minY-a},this.get("text"));Gl(t,l)}},r}(Ln),Qk=Kk,Jk=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},r.prototype.renderInner=function(t){var n=this,i=this.get("start"),a=this.get("end"),o=this.addGroup(t,{id:this.getElementId("region-filter"),capture:!1});(0,d.S6)(this.get("shapes"),function(u,l){var c=u.get("type"),f=(0,d.d9)(u.attr());n.adjustShapeAttrs(f),n.addShape(o,{id:n.getElementId("shape-"+c+"-"+l),capture:!1,type:c,attrs:f})});var s=Ss({start:i,end:a});o.setClip({type:"rect",attrs:{x:s.minX,y:s.minY,width:s.width,height:s.height}})},r.prototype.adjustShapeAttrs=function(t){var n=this.get("color");t.fill&&(t.fill=t.fillStyle=n),t.stroke=t.strokeStyle=n},r}(Ln),tO=Jk,eO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"shape",draw:d.ZT})},r.prototype.renderInner=function(t){var n=this.get("render");(0,d.mf)(n)&&n(t)},r}(Ln),rO=eO;function ri(e,r,t){var n;try{n=window.getComputedStyle?window.getComputedStyle(e,null)[r]:e.style[r]}catch(i){}finally{n=n===void 0?t:n}return n}function nO(e,r){var t=ri(e,"width",r);return t==="auto"&&(t=e.offsetWidth),parseFloat(t)}function iO(e,r){var t=nO(e,r),n=parseFloat(ri(e,"borderLeftWidth"))||0,i=parseFloat(ri(e,"paddingLeft"))||0,a=parseFloat(ri(e,"paddingRight"))||0,o=parseFloat(ri(e,"borderRightWidth"))||0,s=parseFloat(ri(e,"marginRight"))||0,u=parseFloat(ri(e,"marginLeft"))||0;return t+n+o+i+a+u+s}function aO(e,r){var t=ri(e,"height",r);return t==="auto"&&(t=e.offsetHeight),parseFloat(t)}function oO(e,r){var t=aO(e,r),n=parseFloat(ri(e,"borderTopWidth"))||0,i=parseFloat(ri(e,"paddingTop"))||0,a=parseFloat(ri(e,"paddingBottom"))||0,o=parseFloat(ri(e,"borderBottomWidth"))||0,s=parseFloat(ri(e,"marginTop"))||0,u=parseFloat(ri(e,"marginBottom"))||0;return t+n+o+i+a+s+u}var sO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},r.prototype.getContainer=function(){return this.get("container")},r.prototype.show=function(){var t=this.get("container");t.style.display="",this.set("visible",!0)},r.prototype.hide=function(){var t=this.get("container");t.style.display="none",this.set("visible",!1)},r.prototype.setCapture=function(t){var n=this.getContainer(),i=t?"auto":"none";n.style.pointerEvents=i,this.set("capture",t)},r.prototype.getBBox=function(){var t=this.getContainer(),n=parseFloat(t.style.left)||0,i=parseFloat(t.style.top)||0;return bs(n,i,t.clientWidth,t.clientHeight)},r.prototype.clear=function(){var t=this.get("container");c4(t)},r.prototype.destroy=function(){this.removeEvent(),this.removeDom(),e.prototype.destroy.call(this)},r.prototype.init=function(){e.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},r.prototype.initCapture=function(){this.setCapture(this.get("capture"))},r.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},r.prototype.initDom=function(){},r.prototype.initContainer=function(){var t=this.get("container");if((0,d.UM)(t)){t=this.createDom();var n=this.get("parent");(0,d.HD)(n)&&(n=document.getElementById(n),this.set("parent",n)),n.appendChild(t),this.get("containerId")&&t.setAttribute("id",this.get("containerId")),this.set("container",t)}else(0,d.HD)(t)&&(t=document.getElementById(t),this.set("container",t));this.get("parent")||this.set("parent",t.parentNode)},r.prototype.resetStyles=function(){var t=this.get("domStyles"),n=this.get("defaultStyles");t?t=(0,d.b$)({},n,t):t=n,this.set("domStyles",t)},r.prototype.applyStyles=function(){var t=this.get("domStyles");if(t){var n=this.getContainer();this.applyChildrenStyles(n,t);var i=this.get("containerClassName");if(i&&Ck(n,i)){var a=t[i];_r(n,a)}}},r.prototype.applyChildrenStyles=function(t,n){(0,d.S6)(n,function(i,a){var o=t.getElementsByClassName(a);(0,d.S6)(o,function(s){_r(s,i)})})},r.prototype.applyStyle=function(t,n){var i=this.get("domStyles");_r(n,i[t])},r.prototype.createDom=function(){var t=this.get("containerTpl");return Qr(t)},r.prototype.initEvent=function(){},r.prototype.removeDom=function(){var t=this.get("container");t&&t.parentNode&&t.parentNode.removeChild(t)},r.prototype.removeEvent=function(){},r.prototype.updateInner=function(t){(0,d.wH)(t,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},r.prototype.resetPosition=function(){},r}(nh),v4=sO,uO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation" style="position:absolute"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},r.prototype.render=function(){var t=this.getContainer(),n=this.get("html");c4(t);var i=(0,d.mf)(n)?n(t):n;if((0,d.kK)(i))t.appendChild(i);else if((0,d.HD)(i)||(0,d.hj)(i)){var a=Qr(""+i);a&&t.appendChild(a)}this.resetPosition()},r.prototype.resetPosition=function(){var t=this.getContainer(),n=this.getLocation(),i=n.x,a=n.y,o=this.get("alignX"),s=this.get("alignY"),u=this.get("offsetX"),l=this.get("offsetY"),c=iO(t),f=oO(t),h={x:i,y:a};o==="middle"?h.x-=Math.round(c/2):o==="right"&&(h.x-=Math.round(c)),s==="middle"?h.y-=Math.round(f/2):s==="bottom"&&(h.y-=Math.round(f)),u&&(h.x+=u),l&&(h.y+=l),_r(t,{position:"absolute",left:h.x+"px",top:h.y+"px",zIndex:this.get("zIndex")})},r}(v4),lO=uO;function Ms(e,r,t){var n=r+"Style",i=null;return(0,d.S6)(t,function(a,o){e[o]&&a[n]&&(i||(i={}),(0,d.CD)(i,a[n]))}),i}var cO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:mr.lineColor}},tickLine:{style:{lineWidth:1,stroke:mr.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:mr.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:mr.textColor,fontFamily:mr.fontFamily,fontWeight:"normal"},offset:10,offsetX:0,offsetY:0},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:mr.textColor,textBaseline:"middle",fontFamily:mr.fontFamily,textAlign:"center"},iconStyle:{fill:mr.descriptionIconFill,stroke:mr.descriptionIconStroke},description:""},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:mr.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},r.prototype.renderInner=function(t){this.get("line")&&this.drawLine(t),this.drawTicks(t),this.get("title")&&this.drawTitle(t)},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("ticks")},r.prototype.setItems=function(t){this.update({ticks:t})},r.prototype.updateItem=function(t,n){(0,d.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("label-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i,this.updateTickStates(t)},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("tickStates"),i=[];return(0,d.S6)(n,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);(0,d.S6)(i,function(a){n.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return(0,d.hX)(i,function(a){return n.hasState(a,t)})},r.prototype.getSidePoint=function(t,n){var i=this,a=i.getSideVector(n,t);return{x:t.x+a[0],y:t.y+a[1]}},r.prototype.getTextAnchor=function(t){var n;return(0,d.vQ)(t[0],0)?n="center":t[0]>0?n="start":t[0]<0&&(n="end"),n},r.prototype.getTextBaseline=function(t){var n;return(0,d.vQ)(t[1],0)?n="middle":t[1]>0?n="top":t[1]<0&&(n="bottom"),n},r.prototype.processOverlap=function(t){},r.prototype.drawLine=function(t){var n=this.getLinePath(),i=this.get("line");this.addShape(t,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:(0,d.CD)({path:n},i.style)})},r.prototype.getTickLineItems=function(t){var n=this,i=[],a=this.get("tickLine"),o=a.alignTick,s=a.length,u=1,l=t.length;return l>=2&&(u=t[1].value-t[0].value),(0,d.S6)(t,function(c){var f=c.point;o||(f=n.getTickPoint(c.value-u/2));var h=n.getSidePoint(f,s);i.push({startPoint:f,tickValue:c.value,endPoint:h,tickId:c.id,id:"tickline-"+c.id})}),i},r.prototype.getSubTickLineItems=function(t){var n=[],i=this.get("subTickLine"),a=i.count,o=t.length;if(o>=2)for(var s=0;s<o-1;s++)for(var u=t[s],l=t[s+1],c=0;c<a;c++){var f=(c+1)/(a+1),h=(1-f)*u.tickValue+f*l.tickValue,v=this.getTickPoint(h),p=this.getSidePoint(v,i.length);n.push({startPoint:v,endPoint:p,tickValue:h,id:"sub-"+u.id+"-"+c})}return n},r.prototype.getTickLineAttrs=function(t,n,i,a){var o=this.get(n).style,s={points:[t.startPoint,t.endPoint]},u=(0,d.U2)(this.get("theme"),["tickLine","style"],{});o=(0,d.mf)(o)?(0,d.CD)({},u,o(s,i,a)):o;var l=t.startPoint,c=t.endPoint;return(0,x.pi)({x1:l.x,y1:l.y,x2:c.x,y2:c.y},o)},r.prototype.drawTick=function(t,n,i,a,o){this.addShape(n,{type:"line",id:this.getElementId(t.id),name:"axis-"+i,attrs:this.getTickLineAttrs(t,i,a,o)})},r.prototype.drawTickLines=function(t){var n=this,i=this.get("ticks"),a=this.get("subTickLine"),o=this.getTickLineItems(i),s=this.addGroup(t,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),u=this.get("tickLine");if((0,d.S6)(o,function(c,f){if(u.displayWithLabel){var h=n.getElementId("label-"+c.tickId);t.findById(h)&&n.drawTick(c,s,"tickLine",f,o)}else n.drawTick(c,s,"tickLine",f,o)}),a){var l=this.getSubTickLineItems(o);(0,d.S6)(l,function(c,f){n.drawTick(c,s,"subTickLine",f,l)})}},r.prototype.processTicks=function(){var t=this,n=this.get("ticks");(0,d.S6)(n,function(i){i.point=t.getTickPoint(i.value),(0,d.UM)(i.id)&&(i.id=i.name)})},r.prototype.drawTicks=function(t){var n=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(t),this.get("tickLine")&&this.drawTickLines(t);var i=this.get("ticks");(0,d.S6)(i,function(a){n.applyTickStates(a,t)})},r.prototype.optimizeTicks=function(){var t=this.get("optimize"),n=this.get("ticks");if(t&&t.enable&&t.threshold>0){var i=(0,d.dp)(n);if(i>t.threshold){var a=Math.ceil(i/t.threshold),o=n.filter(function(s,u){return u%a===0});this.set("ticks",o),this.set("originalTicks",n)}}},r.prototype.getLabelAttrs=function(t,n,i){var a=this.get("label"),o=a.offset,s=a.offsetX,u=a.offsetY,l=a.rotate,c=a.formatter,f=this.getSidePoint(t.point,o),h=this.getSideVector(o,f),v=c?c(t.name,t,n):t.name,p=a.style;p=(0,d.mf)(p)?(0,d.U2)(this.get("theme"),["label","style"],{}):p;var g=(0,d.CD)({x:f.x+s,y:f.y+u,text:v,textAlign:this.getTextAnchor(h),textBaseline:this.getTextBaseline(h)},p);return l&&(g.matrix=e1(f,l)),g},r.prototype.drawLabels=function(t){var n=this,i=this.get("ticks"),a=this.addGroup(t,{name:"axis-label-group",id:this.getElementId("label-group")});(0,d.S6)(i,function(h,v){n.addShape(a,{type:"text",name:"axis-label",id:n.getElementId("label-"+h.id),attrs:n.getLabelAttrs(h,v,i),delegateObject:{tick:h,item:h,index:v}})}),this.processOverlap(a);var o=a.getChildren(),s=(0,d.U2)(this.get("theme"),["label","style"],{}),u=this.get("label"),l=u.style,c=u.formatter;if((0,d.mf)(l)){var f=o.map(function(h){return(0,d.U2)(h.get("delegateObject"),"tick")});(0,d.S6)(o,function(h,v){var p=h.get("delegateObject").tick,g=c?c(p.name,p,v):p.name,y=(0,d.CD)({},s,l(g,v,f));h.attr(y)})}},r.prototype.getTitleAttrs=function(){var t=this.get("title"),n=t.style,i=t.position,a=t.offset,o=t.spacing,s=o===void 0?0:o,u=t.autoRotate,l=n.fontSize,c=.5;i==="start"?c=0:i==="end"&&(c=1);var f=this.getTickPoint(c),h=this.getSidePoint(f,a||s+l/2),v=(0,d.CD)({x:h.x,y:h.y,text:t.text},n),p=t.rotate,g=p;if((0,d.UM)(p)&&u){var y=this.getAxisVector(f),m=[1,0];g=Ur.Dg(y,m,!0)}if(g){var E=e1(h,g);v.matrix=E}return v},r.prototype.drawTitle=function(t){var n,i=this.getTitleAttrs(),a=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:i});!((n=this.get("title"))===null||n===void 0)&&n.description&&this.drawDescriptionIcon(t,a,i.matrix)},r.prototype.drawDescriptionIcon=function(t,n,i){var a=this.addGroup(t,{name:"axis-description",id:this.getElementById("description")}),o=n.getBBox(),s=o.maxX,u=o.maxY,l=o.height,c=this.get("title").iconStyle,f=4,h=l/2,v=h/6,p=s+f,g=u-l/2,y=[p+h,g-h],m=y[0],E=y[1],C=[m+h,E+h],A=C[0],M=C[1],Z=[m,M+h],Y=Z[0],st=Z[1],Ct=[p,E+h],Pt=Ct[0],Zt=Ct[1],ie=[p+h,g-l/4],ce=ie[0],_e=ie[1],Re=[ce,_e+v],he=Re[0],Me=Re[1],De=[he,Me+v],Fe=De[0],Ve=De[1],tr=[Fe,Ve+h*3/4],fr=tr[0],pr=tr[1];this.addShape(a,{type:"path",id:this.getElementId("title-description-icon"),name:"axis-title-description-icon",attrs:(0,x.pi)({path:[["M",m,E],["A",h,h,0,0,1,A,M],["A",h,h,0,0,1,Y,st],["A",h,h,0,0,1,Pt,Zt],["A",h,h,0,0,1,m,E],["M",ce,_e],["L",he,Me],["M",Fe,Ve],["L",fr,pr]],lineWidth:v,matrix:i},c)}),this.addShape(a,{type:"rect",id:this.getElementId("title-description-rect"),name:"axis-title-description-rect",attrs:{x:p,y:g-l/2,width:l,height:l,stroke:"#000",fill:"#000",opacity:0,matrix:i,cursor:"pointer"}})},r.prototype.applyTickStates=function(t,n){var i=this.getItemStates(t);if(i.length){var a=this.get("tickStates"),o=this.getElementId("label-"+t.id),s=n.findById(o);if(s){var u=Ms(t,"label",a);u&&s.attr(u)}var l=this.getElementId("tickline-"+t.id),c=n.findById(l);if(c){var f=Ms(t,"tickLine",a);f&&c.attr(f)}}},r.prototype.updateTickStates=function(t){var n=this.getItemStates(t),i=this.get("tickStates"),a=this.get("label"),o=this.getElementByLocalId("label-"+t.id),s=this.get("tickLine"),u=this.getElementByLocalId("tickline-"+t.id);if(n.length){if(o){var l=Ms(t,"label",i);l&&o.attr(l)}if(u){var c=Ms(t,"tickLine",i);c&&u.attr(c)}}else o&&o.attr(a.style),u&&u.attr(s.style)},r}(Ln),ih=cO;function p4(e,r,t,n){var i=r.getChildren(),a=!1;return(0,d.S6)(i,function(o){var s=As(e,o,t,n);a=a||s}),a}function fO(){return ah}function hO(e,r,t){return p4(e,r,t,"head")}function ah(e,r,t){return p4(e,r,t,"tail")}function vO(e,r,t){return p4(e,r,t,"middle")}function pO(e){var r=e.attr("matrix");return r&&r[0]!==1}function oh(e){var r=pO(e)?_k(e.attr("matrix")):0;return r%360}function d4(e,r,t,n){var i=!1,a=oh(r),o=Math.abs(e?t.attr("y")-r.attr("y"):t.attr("x")-r.attr("x")),s=(e?t.attr("y")>r.attr("y"):t.attr("x")>r.attr("x"))?r.getBBox():t.getBBox();if(e){var u=Math.abs(Math.cos(a));Vl(u,0,Math.PI/180)?i=s.width+n>o:i=s.height/u+n>o}else{var u=Math.abs(Math.sin(a));Vl(u,0,Math.PI/180)?i=s.width+n>o:i=s.height/u+n>o}return i}function Ts(e,r,t,n){var i=(n==null?void 0:n.minGap)||0,a=r.getChildren().slice().filter(function(p){return p.get("visible")});if(!a.length)return!1;var o=!1;t&&a.reverse();for(var s=a.length,u=a[0],l=u,c=1;c<s;c++){var f=a[c],h=f.getBBox(),v=d4(e,l,f,i);v?(f.hide(),o=!0):l=f}return o}function sh(e,r,t){var n=(t==null?void 0:t.minGap)||0,i=r.getChildren().slice();if(i.length<2)return!1;var a=!1,o=i[0],s=o.getBBox(),u=i[1],l=i.length,c=oh(o),f=Math.abs(e?u.attr("y")-o.attr("y"):u.attr("x")-o.attr("x")),h=0;if(e){var v=Math.abs(Math.cos(c));if(Vl(v,0,Math.PI/180)){var p=h4(i);h=(p+n)/f}else h=(s.height/v+n)/f}else{var v=Math.abs(Math.sin(c));if(Vl(v,0,Math.PI/180)){var p=h4(i);h=(p+n)/f}else h=(s.height/v+n)/f}if(h>1){h=Math.ceil(h);for(var g=0;g<l;g++)g%h!==0&&(i[g].hide(),a=!0)}return a}function dO(){return uh}function gO(e,r,t,n){return Ts(e,r,!1,n)}function yO(e,r,t,n){return Ts(e,r,!0,n)}function mO(e,r,t,n){var i=(n==null?void 0:n.minGap)||0,a=r.getChildren().slice();if(a.length<=2)return!1;for(var o=!1,s=a.length,u=a[0],l=a[s-1],c=u,f=1;f<s-1;f++){var h=a[f],v=h.getBBox(),p=d4(e,c,h,i);p?(h.hide(),o=!0):c=h}var g=d4(e,c,l,i);return g&&(c.hide(),o=!0),o}function uh(e,r,t,n){var i=sh(e,r,n);return Ts(e,r,!1)&&(i=!0),i}function xO(e,r,t,n){var i=r.getChildren().slice(),a=sh(e,r,n);if(i.length>2){var o=i[0],s=i[i.length-1];o.get("visible")||(o.show(),Ts(e,r,!1,n)&&(a=!0)),s.get("visible")||(s.show(),Ts(e,r,!0,n)&&(a=!0))}return a}function _O(e,r){(0,d.S6)(e,function(t){var n=t.attr("x"),i=t.attr("y"),a=e1({x:n,y:i},r);t.attr("matrix",a)})}function lh(e,r,t,n){var i=r.getChildren();if(!i.length||!e&&i.length<2)return!1;var a=h4(i),o=!1;if(e)o=!!t&&a>t;else{var s=Math.abs(i[1].attr("x")-i[0].attr("x"));o=a>s}if(o){var u=n(t,a);_O(i,u)}return o}function EO(){return ch}function ch(e,r,t,n){return lh(e,r,t,function(){return(0,d.hj)(n)?n:e?mr.verticalAxisRotate:mr.horizontalAxisRotate})}function CO(e,r,t){return lh(e,r,t,function(n,i){if(!n)return e?mr.verticalAxisRotate:mr.horizontalAxisRotate;if(e)return-Math.acos(n/i);var a=0;return n>i?a=Math.PI/4:(a=Math.asin(n/i),a>Math.PI/4&&(a=Math.PI/4)),a})}var SO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getLinePath=function(){var t=this.get("start"),n=this.get("end"),i=[];return i.push(["M",t.x,t.y]),i.push(["L",n.x,n.y]),i},r.prototype.getInnerLayoutBBox=function(){var t=this.get("start"),n=this.get("end"),i=e.prototype.getInnerLayoutBBox.call(this),a=Math.min(t.x,n.x,i.x),o=Math.min(t.y,n.y,i.y),s=Math.max(t.x,n.x,i.maxX),u=Math.max(t.y,n.y,i.maxY);return{x:a,y:o,minX:a,minY:o,maxX:s,maxY:u,width:s-a,height:u-o}},r.prototype.isVertical=function(){var t=this.get("start"),n=this.get("end");return(0,d.vQ)(t.x,n.x)},r.prototype.isHorizontal=function(){var t=this.get("start"),n=this.get("end");return(0,d.vQ)(t.y,n.y)},r.prototype.getTickPoint=function(t){var n=this,i=n.get("start"),a=n.get("end"),o=a.x-i.x,s=a.y-i.y;return{x:i.x+o*t,y:i.y+s*t}},r.prototype.getSideVector=function(t){var n=this.getAxisVector(),i=de.Fv([0,0],n),a=this.get("verticalFactor"),o=[i[1],i[0]*-1];return de.bA([0,0],o,t*a)},r.prototype.getAxisVector=function(){var t=this.get("start"),n=this.get("end");return[n.x-t.x,n.y-t.y]},r.prototype.processOverlap=function(t){var n=this,i=this.isVertical(),a=this.isHorizontal();if(!(!i&&!a)){var o=this.get("label"),s=this.get("title"),u=this.get("verticalLimitLength"),l=o.offset,c=u,f=0,h=0;s&&(f=s.style.fontSize,h=s.spacing),c&&(c=c-l-h-f);var v=this.get("overlapOrder");if((0,d.S6)(v,function(y){o[y]&&n.canProcessOverlap(y)&&n.autoProcessOverlap(y,o[y],t,c)}),s&&(0,d.UM)(s.offset)){var p=t.getCanvasBBox(),g=i?p.width:p.height;s.offset=l+g+h+f/2}}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?(0,d.UM)(n.rotate):!0},r.prototype.autoProcessOverlap=function(t,n,i,a){var o=this,s=this.isVertical(),u=!1,l=W[t];if(n===!0){var c=this.get("label");u=l.getDefault()(s,i,a)}else if((0,d.mf)(n))u=n(s,i,a);else if((0,d.Kn)(n)){var f=n;l[f.type]&&(u=l[f.type](s,i,a,f.cfg))}else l[n]&&(u=l[n](s,i,a));if(t==="autoRotate"){if(u){var h=i.getChildren(),v=this.get("verticalFactor");(0,d.S6)(h,function(g){var y=g.attr("textAlign");if(y==="center"){var m=v>0?"end":"start";g.attr("textAlign",m)}})}}else if(t==="autoHide"){var p=i.getChildren().slice(0);(0,d.S6)(p,function(g){g.get("visible")||(o.get("isRegister")&&o.unregisterElement(g),g.remove())})}},r}(ih),bO=SO,AO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getLinePath=function(){var t=this.get("center"),n=t.x,i=t.y,a=this.get("radius"),o=a,s=this.get("startAngle"),u=this.get("endAngle"),l=[];if(Math.abs(u-s)===Math.PI*2)l=[["M",n,i-o],["A",a,o,0,1,1,n,i+o],["A",a,o,0,1,1,n,i-o],["Z"]];else{var c=this.getCirclePoint(s),f=this.getCirclePoint(u),h=Math.abs(u-s)>Math.PI?1:0,v=s>u?0:1;l=[["M",n,i],["L",c.x,c.y],["A",a,o,0,h,v,f.x,f.y],["L",n,i]]}return l},r.prototype.getTickPoint=function(t){var n=this.get("startAngle"),i=this.get("endAngle"),a=n+(i-n)*t;return this.getCirclePoint(a)},r.prototype.getSideVector=function(t,n){var i=this.get("center"),a=[n.x-i.x,n.y-i.y],o=this.get("verticalFactor"),s=de.kE(a);return de.bA(a,a,o*t/s),a},r.prototype.getAxisVector=function(t){var n=this.get("center"),i=[t.x-n.x,t.y-n.y];return[i[1],-1*i[0]]},r.prototype.getCirclePoint=function(t,n){var i=this.get("center");return n=n||this.get("radius"),{x:i.x+Math.cos(t)*n,y:i.y+Math.sin(t)*n}},r.prototype.canProcessOverlap=function(t){var n=this.get("label");return t==="autoRotate"?(0,d.UM)(n.rotate):!0},r.prototype.processOverlap=function(t){var n=this,i=this.get("label"),a=this.get("title"),o=this.get("verticalLimitLength"),s=i.offset,u=o,l=0,c=0;a&&(l=a.style.fontSize,c=a.spacing),u&&(u=u-s-c-l);var f=this.get("overlapOrder");if((0,d.S6)(f,function(v){i[v]&&n.canProcessOverlap(v)&&n.autoProcessOverlap(v,i[v],t,u)}),a&&(0,d.UM)(a.offset)){var h=t.getCanvasBBox().height;a.offset=s+h+c+l/2}},r.prototype.autoProcessOverlap=function(t,n,i,a){var o=this,s=!1,u=W[t];if(a>0)if(n===!0)s=u.getDefault()(!1,i,a);else if((0,d.mf)(n))s=n(!1,i,a);else if((0,d.Kn)(n)){var l=n;u[l.type]&&(s=u[l.type](!1,i,a,l.cfg))}else u[n]&&(s=u[n](!1,i,a));if(t==="autoRotate"){if(s){var c=i.getChildren(),f=this.get("verticalFactor");(0,d.S6)(c,function(v){var p=v.attr("textAlign");if(p==="center"){var g=f>0?"end":"start";v.attr("textAlign",g)}})}}else if(t==="autoHide"){var h=i.getChildren().slice(0);(0,d.S6)(h,function(v){v.get("visible")||(o.get("isRegister")&&o.unregisterElement(v),v.remove())})}},r}(ih),MO=AO,TO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:mr.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:mr.textColor,textAlign:"center",textBaseline:"middle",fontFamily:mr.fontFamily}},textBackground:{padding:5,style:{stroke:mr.lineColor}}}})},r.prototype.renderInner=function(t){this.get("line")&&this.renderLine(t),this.get("text")&&(this.renderText(t),this.renderBackground(t))},r.prototype.renderText=function(t){var n=this.get("text"),i=n.style,a=n.autoRotate,o=n.content;if(!(0,d.UM)(o)){var s=this.getTextPoint(),u=null;if(a){var l=this.getRotateAngle();u=e1(s,l)}this.addShape(t,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:(0,x.pi)((0,x.pi)((0,x.pi)({},s),{text:o,matrix:u}),i)})}},r.prototype.renderLine=function(t){var n=this.getLinePath(),i=this.get("line"),a=i.style;this.addShape(t,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:(0,x.pi)({path:n},a)})},r.prototype.renderBackground=function(t){var n=this.getElementId("text"),i=t.findById(n),a=this.get("textBackground");if(a&&i){var o=i.getBBox(),s=Hl(a.padding),u=a.style,l=this.addShape(t,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:(0,x.pi)({x:o.x-s[3],y:o.y-s[0],width:o.width+s[1]+s[3],height:o.height+s[0]+s[2],matrix:i.attr("matrix")},u)});l.toBack()}},r}(Ln),g4=TO,wO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"line",locationType:"region",start:null,end:null})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text").position,o=Math.atan2(i.y-n.y,i.x-n.x),s=a==="start"?o-Math.PI/2:o+Math.PI/2;return s},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text"),o=a.position,s=a.offset;return rh(n,i,o,s)},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.start,i=t.end;return[["M",n.x,n.y],["L",i.x,i.y]]},r}(g4),fh=wO,FO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},r.prototype.getRotateAngle=function(){var t=this.getLocation(),n=t.startAngle,i=t.endAngle,a=this.get("text").position,o=a==="start"?n+Math.PI/2:i-Math.PI/2;return o},r.prototype.getTextPoint=function(){var t=this.get("text"),n=t.position,i=t.offset,a=this.getLocation(),o=a.center,s=a.radius,u=a.startAngle,l=a.endAngle,c=n==="start"?u:l,f=this.getRotateAngle()-Math.PI,h=i0(o,s,c),v=Math.cos(f)*i,p=Math.sin(f)*i;return{x:h.x+v,y:h.y+p}},r.prototype.getLinePath=function(){var t=this.getLocation(),n=t.center,i=t.radius,a=t.startAngle,o=t.endAngle,s=null;if(o-a===Math.PI*2){var u=n.x,l=n.y;s=[["M",u,l-i],["A",i,i,0,1,1,u,l+i],["A",i,i,0,1,1,u,l-i],["Z"]]}else{var c=i0(n,i,a),f=i0(n,i,o),h=Math.abs(o-a)>Math.PI?1:0,v=a>o?0:1;s=[["M",c.x,c.y],["A",i,i,0,h,v,f.x,f.y]]}return s},r}(g4),kO=FO,ws="g2-crosshair",y4=ws+"-line",m4=ws+"-text",Fs,OO=(Fs={},Fs[""+ws]={position:"relative"},Fs[""+y4]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},Fs[""+m4]={position:"absolute",color:mr.textColor,fontFamily:mr.fontFamily},Fs),LO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+ws+'"></div>',crosshairTpl:'<div class="'+y4+'"></div>',textTpl:'<span class="'+m4+'">{content}</span>',domStyles:null,containerClassName:ws,defaultStyles:OO,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},r.prototype.render=function(){this.resetText(),this.resetPosition()},r.prototype.initCrossHair=function(){var t=this.getContainer(),n=this.get("crosshairTpl"),i=Qr(n);t.appendChild(i),this.applyStyle(y4,i),this.set("crosshairEl",i)},r.prototype.getTextPoint=function(){var t=this.getLocation(),n=t.start,i=t.end,a=this.get("text"),o=a.position,s=a.offset;return rh(n,i,o,s)},r.prototype.resetText=function(){var t=this.get("text"),n=this.get("textEl");if(t){var i=t.content;if(!n){var a=this.getContainer(),o=(0,d.ng)(this.get("textTpl"),t);n=Qr(o),a.appendChild(n),this.applyStyle(m4,n),this.set("textEl",n)}n.innerHTML=i}else n&&n.remove()},r.prototype.isVertical=function(t,n){return t.x===n.x},r.prototype.resetPosition=function(){var t=this.get("crosshairEl");t||(this.initCrossHair(),t=this.get("crosshairEl"));var n=this.get("start"),i=this.get("end"),a=Math.min(n.x,i.x),o=Math.min(n.y,i.y);this.isVertical(n,i)?_r(t,{width:"1px",height:ei(Math.abs(i.y-n.y))}):_r(t,{height:"1px",width:ei(Math.abs(i.x-n.x))}),_r(t,{top:ei(o),left:ei(a)}),this.alignText()},r.prototype.alignText=function(){var t=this.get("textEl");if(t){var n=this.get("text").align,i=t.clientWidth,a=this.getTextPoint();switch(n){case"center":a.x=a.x-i/2;break;case"right":a.x=a.x-i;case"left":break}_r(t,{top:ei(a.y),left:ei(a.x)})}},r.prototype.updateInner=function(t){(0,d.wH)(t,"text")&&this.resetText(),e.prototype.updateInner.call(this,t)},r}(v4),IO=LO,PO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:mr.lineColor}}}})},r.prototype.getLineType=function(){var t=this.get("line")||this.get("defaultCfg").line;return t.type},r.prototype.renderInner=function(t){this.drawGrid(t)},r.prototype.getAlternatePath=function(t,n){var i=this.getGridPath(t),a=n.slice(0).reverse(),o=this.getGridPath(a,!0),s=this.get("closed");return s?i=i.concat(o):(o[0][0]="L",i=i.concat(o),i.push(["Z"])),i},r.prototype.getPathStyle=function(){return this.get("line").style},r.prototype.drawGrid=function(t){var n=this,i=this.get("line"),a=this.get("items"),o=this.get("alternateColor"),s=null;(0,d.S6)(a,function(u,l){var c=u.id||l;if(i){var f=n.getPathStyle();f=(0,d.mf)(f)?f(u,l,a):f;var h=n.getElementId("line-"+c),v=n.getGridPath(u.points);n.addShape(t,{type:"path",name:"grid-line",id:h,attrs:(0,d.CD)({path:v},f)})}if(o&&l>0){var p=n.getElementId("region-"+c),g=l%2===0;if((0,d.HD)(o))g&&n.drawAlternateRegion(p,t,s.points,u.points,o);else{var y=g?o[1]:o[0];n.drawAlternateRegion(p,t,s.points,u.points,y)}}s=u})},r.prototype.drawAlternateRegion=function(t,n,i,a,o){var s=this.getAlternatePath(i,a);this.addShape(n,{type:"path",id:t,name:"grid-region",attrs:{path:s,fill:o}})},r}(Ln),hh=PO;function RO(e,r,t,n){var i=t-e,a=n-r;return Math.sqrt(i*i+a*a)}var DO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"circle",center:null,closed:!0})},r.prototype.getGridPath=function(t,n){var i=this.getLineType(),a=this.get("closed"),o=[];if(t.length)if(i==="circle"){var s=this.get("center"),u=t[0],l=RO(s.x,s.y,u.x,u.y),c=n?0:1;a?(o.push(["M",s.x,s.y-l]),o.push(["A",l,l,0,0,c,s.x,s.y+l]),o.push(["A",l,l,0,0,c,s.x,s.y-l]),o.push(["Z"])):(0,d.S6)(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["A",l,l,0,0,c,f.x,f.y])})}else(0,d.S6)(t,function(f,h){h===0?o.push(["M",f.x,f.y]):o.push(["L",f.x,f.y])}),a&&o.push(["Z"]);return o},r}(hh),BO=DO,NO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"line"})},r.prototype.getGridPath=function(t){var n=[];return(0,d.S6)(t,function(i,a){a===0?n.push(["M",i.x,i.y]):n.push(["L",i.x,i.y])}),n},r}(hh),ZO=NO,zO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},r.prototype.getLayoutBBox=function(){var t=e.prototype.getLayoutBBox.call(this),n=this.get("maxWidth"),i=this.get("maxHeight"),a=t.width,o=t.height;return n&&(a=Math.min(a,n)),i&&(o=Math.min(o,i)),bs(t.minX,t.minY,a,o)},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetLocation()},r.prototype.resetLocation=function(){var t=this.get("x"),n=this.get("y"),i=this.get("offsetX"),a=this.get("offsetY");this.moveElementTo(this.get("group"),{x:t+i,y:n+a})},r.prototype.applyOffset=function(){this.resetLocation()},r.prototype.getDrawPoint=function(){return this.get("currentPoint")},r.prototype.setDrawPoint=function(t){return this.set("currentPoint",t)},r.prototype.renderInner=function(t){this.resetDraw(),this.get("title")&&this.drawTitle(t),this.drawLegendContent(t),this.get("background")&&this.drawBackground(t)},r.prototype.drawBackground=function(t){var n=this.get("background"),i=t.getBBox(),a=Hl(n.padding),o=(0,x.pi)({x:0,y:0,width:i.width+a[1]+a[3],height:i.height+a[0]+a[2]},n.style),s=this.addShape(t,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:o});s.toBack()},r.prototype.drawTitle=function(t){var n=this.get("currentPoint"),i=this.get("title"),a=i.spacing,o=i.style,s=i.text,u=this.addShape(t,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:(0,x.pi)({text:s,x:n.x,y:n.y},o)}),l=u.getBBox();this.set("currentPoint",{x:n.x,y:l.maxY+a})},r.prototype.resetDraw=function(){var t=this.get("background"),n={x:0,y:0};if(t){var i=Hl(t.padding);n.x=i[3],n.y=i[0]}this.set("currentPoint",n)},r}(Ln),vh=zO,x4={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},jl={fill:mr.textColor,fontSize:12,textAlign:"start",textBaseline:"middle",fontFamily:mr.fontFamily,fontWeight:"normal",lineHeight:12},_4="navigation-arrow-right",E4="navigation-arrow-left",ph={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},UO=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.currentPageIndex=1,t.totalPagesCnt=1,t.pageWidth=0,t.pageHeight=0,t.startX=0,t.startY=0,t.onNavigationBack=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex>1){t.currentPageIndex-=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t.onNavigationAfter=function(){var n=t.getElementByLocalId("item-group");if(t.currentPageIndex<t.totalPagesCnt){t.currentPageIndex+=1,t.updateNavigation();var i=t.getCurrentNavigationMatrix();t.get("animate")?n.animate({matrix:i},100):n.attr({matrix:i})}},t}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},radio:null,items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:mr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:mr.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:x4,itemName:{spacing:16,style:jl},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:jl,spacing:6},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:mr.uncheckedColor},markerStyle:{fill:mr.uncheckedColor,stroke:mr.uncheckedColor}},inactive:{nameStyle:{fill:mr.uncheckedColor},markerStyle:{opacity:.2}}}}})},r.prototype.isList=function(){return!0},r.prototype.getItems=function(){return this.get("items")},r.prototype.setItems=function(t){this.update({items:t})},r.prototype.updateItem=function(t,n){(0,d.CD)(t,n),this.clear(),this.render()},r.prototype.clearItems=function(){var t=this.getElementByLocalId("item-group");t&&t.clear()},r.prototype.setItemState=function(t,n,i){t[n]=i;var a=this.getElementByLocalId("item-"+t.id);if(a){var o=this.getItems(),s=o.indexOf(t),u=this.createOffScreenGroup(),l=this.drawItem(t,s,this.getItemHeight(),u);this.updateElements(l,a),this.clearUpdateStatus(a)}},r.prototype.hasState=function(t,n){return!!t[n]},r.prototype.getItemStates=function(t){var n=this.get("itemStates"),i=[];return(0,d.S6)(n,function(a,o){t[o]&&i.push(o)}),i},r.prototype.clearItemsState=function(t){var n=this,i=this.getItemsByState(t);(0,d.S6)(i,function(a){n.setItemState(a,t,!1)})},r.prototype.getItemsByState=function(t){var n=this,i=this.getItems();return(0,d.hX)(i,function(a){return n.hasState(a,t)})},r.prototype.drawLegendContent=function(t){this.processItems(),this.drawItems(t)},r.prototype.processItems=function(){var t=this.get("items");(0,d.S6)(t,function(n){n.id||(n.id=n.name)})},r.prototype.drawItems=function(t){var n=this,i=this.addGroup(t,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),a=this.addGroup(i,{id:this.getElementId("item-group"),name:"legend-item-group"}),o=this.getItemHeight(),s=this.get("itemWidth"),u=this.get("itemSpacing"),l=this.get("itemMarginBottom"),c=this.get("currentPoint"),f=c.x,h=c.y,v=this.get("layout"),p=this.get("items"),g=!1,y=0,m=this.get("maxWidth"),E=this.get("maxHeight");(0,d.S6)(p,function(C,A){var M=n.drawItem(C,A,o,a),Z=M.getBBox(),Y=s||Z.width;Y>y&&(y=Y),v==="horizontal"?(m&&m<c.x+Y-f&&(g=!0,c.x=f,c.y+=o+l),n.moveElementTo(M,c),c.x+=Y+u):(E&&E<c.y+o+l-h&&(g=!0,c.x+=y+u,c.y=h,y=0),n.moveElementTo(M,c),c.y+=o+l)}),g&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=f,this.startY=h,this.adjustNavigation(t,a))},r.prototype.getItemHeight=function(){var t=this.get("itemHeight");if(!t){var n=(this.get("itemName")||{}).style;if((0,d.mf)(n)){var i=this.getItems();i.forEach(function(a,o){var s=(0,x.pi)((0,x.pi)({},jl),n(a,o,i)).fontSize;t<s&&(t=s)})}else n&&(t=n.fontSize)}return t},r.prototype.drawMarker=function(t,n,i,a){var o=(0,x.pi)((0,x.pi)((0,x.pi)({x:0,y:a/2},n.style),{symbol:(0,d.U2)(i.marker,"symbol","circle")}),(0,d.U2)(i.marker,"style",{})),s=this.addShape(t,{type:"marker",id:this.getElementId("item-"+i.id+"-marker"),name:"legend-item-marker",attrs:o}),u=s.getBBox();s.attr("x",u.width/2);var l=s.attr(),c=l.stroke,f=l.fill;return c&&s.set("isStroke",!0),f&&s.set("isFill",!0),s},r.prototype.drawItemText=function(t,n,i,a,o,s,u){var l=i.formatter,c=i.style,f=(0,x.pi)((0,x.pi)({x:s,y:o/2,text:l?l(a[n],a,u):a[n]},jl),(0,d.mf)(c)?c(a,u,this.getItems()):c);return this.addShape(t,{type:"text",id:this.getElementId("item-"+a.id+"-"+n),name:"legend-item-"+n,attrs:f})},r.prototype.drawRadio=function(t,n,i,a,o){var s,u,l=n.style||{},c=(s=l.r)!==null&&s!==void 0?s:a/2,f=c*3.6/8,h=[o+c,a/2-c],v=h[0],p=h[1],g=[v+c,p+c],y=g[0],m=g[1],E=[v,m+c],C=E[0],A=E[1],M=[o,p+c],Z=M[0],Y=M[1],st=i.showRadio,Ct=(0,x.pi)((0,x.pi)({path:[["M",v,p],["A",c,c,0,0,1,y,m],["L",y-f,m],["L",y,m],["A",c,c,0,0,1,C,A],["L",C,A-f],["L",C,A],["A",c,c,0,0,1,Z,Y],["L",Z+f,Y],["L",Z,Y],["A",c,c,0,0,1,v,p],["L",v,p+f]],stroke:"#000000",fill:"#ffffff"},l),{opacity:st?(u=l==null?void 0:l.opacity)!==null&&u!==void 0?u:.45:0}),Pt=this.addShape(t,{type:"path",id:this.getElementId("item-"+i.id+"-radio"),name:"legend-item-radio",attrs:Ct});return Pt.set("tip",n.tip),Pt},r.prototype.drawItem=function(t,n,i,a){var o="item-"+t.id,s=this.addGroup(a,{name:"legend-item-container",id:this.getElementId("item-container-"+o),delegateObject:{item:t,index:n}}),u=this.addGroup(s,{name:"legend-item",id:this.getElementId(o),delegateObject:{item:t,index:n}}),l=this.get("marker"),c=this.get("itemName"),f=this.get("itemValue"),h=this.get("itemBackground"),v=this.get("radio"),p=this.getLimitItemWidth(),g=0;if(l){var y=this.drawMarker(u,l,t,i),m=l.spacing,E=(0,d.U2)(t,["marker","spacing"]);(0,d.hj)(E)&&(m=E),g=y.getBBox().maxX+m}if(c){var C=this.drawItemText(u,"name",c,t,i,g,n);p&&As(!0,C,(0,d.uZ)(p-g,0,p)),g=C.getBBox().maxX+c.spacing}if(f){var A=this.drawItemText(u,"value",f,t,i,g,n);p&&(f.alignRight?(A.attr({textAlign:"right",x:p}),As(!0,A,(0,d.uZ)(p-g,0,p),"head")):As(!0,A,(0,d.uZ)(p-g,0,p))),g=A.getBBox().maxX+f.spacing}if(v&&this.drawRadio(u,v,t,i,g),h){var M=u.getBBox(),Z=this.addShape(u,{type:"rect",name:"legend-item-background",id:this.getElementId(o+"-background"),attrs:(0,x.pi)({x:0,y:0,width:M.width,height:i},h.style)});Z.toBack()}return this.applyItemStates(t,u),u},r.prototype.adjustNavigation=function(t,n){var i=this,a=this.startX,o=this.startY,s=this.get("layout"),u=n.findAll(function(Pt){return Pt.get("name")==="legend-item"}),l=this.get("maxWidth"),c=this.get("maxHeight"),f=this.get("itemWidth"),h=this.get("itemSpacing"),v=this.getItemHeight(),p=(0,d.b$)({},x4,this.get("pageNavigator")),g=this.drawNavigation(t,s,"00/00",p),y=g.getBBox(),m={x:a,y:o},E=1,C=0,A=0,M=0,Z=this.get("itemMarginBottom");if(s==="horizontal"){var Y=this.get("maxRow")||1,st=v+(Y===1?0:Z);this.pageHeight=st*Y,(0,d.S6)(u,function(Pt){var Zt=Pt.getBBox(),ie=f||Zt.width;(C&&C<m.x+ie+h||l<m.x+ie+h+y.width)&&(E===1&&(C=m.x+h,i.pageWidth=C,i.moveElementTo(g,{x:l-h-y.width-y.minX,y:m.y+v/2-y.height/2-y.minY})),E+=1,m.x=a,m.y+=st),i.moveElementTo(Pt,m),Pt.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:ie+h,height:v}}),m.x+=ie+h})}else{(0,d.S6)(u,function(Pt){var Zt=Pt.getBBox();Zt.width>A&&(A=Zt.width)}),M=A,A+=h,l&&(A=Math.min(l,A),M=Math.min(l,M)),this.pageWidth=A,this.pageHeight=c-Math.max(y.height,v+Z);var Ct=Math.floor(this.pageHeight/(v+Z));(0,d.S6)(u,function(Pt,Zt){Zt!==0&&Zt%Ct===0&&(E+=1,m.x+=A,m.y=o),i.moveElementTo(Pt,m),Pt.getParent().setClip({type:"rect",attrs:{x:m.x,y:m.y,width:A,height:v}}),m.y+=v+Z}),this.totalPagesCnt=E,this.moveElementTo(g,{x:a+M/2-y.width/2-y.minX,y:c-y.height-y.minY})}this.pageHeight&&this.pageWidth&&n.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),s==="horizontal"&&this.get("maxRow")?this.totalPagesCnt=Math.ceil(E/this.get("maxRow")):this.totalPagesCnt=E,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(g),n.attr("matrix",this.getCurrentNavigationMatrix())},r.prototype.drawNavigation=function(t,n,i,a){var o={x:0,y:0},s=this.addGroup(t,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),u=(0,d.U2)(a.marker,"style",{}),l=u.size,c=l===void 0?12:l,f=(0,x._T)(u,["size"]),h=this.drawArrow(s,o,E4,n==="horizontal"?"up":"left",c,f);h.on("click",this.onNavigationBack);var v=h.getBBox();o.x+=v.width+2;var p=this.addShape(s,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:(0,x.pi)({x:o.x,y:o.y+c/2,text:i,textBaseline:"middle"},(0,d.U2)(a.text,"style"))}),g=p.getBBox();o.x+=g.width+2;var y=this.drawArrow(s,o,_4,n==="horizontal"?"down":"right",c,f);return y.on("click",this.onNavigationAfter),s},r.prototype.updateNavigation=function(t){var n=(0,d.b$)({},x4,this.get("pageNavigator")),i=n.marker.style,a=i.fill,o=i.opacity,s=i.inactiveFill,u=i.inactiveOpacity,l=this.currentPageIndex+"/"+this.totalPagesCnt,c=t?t.getChildren()[1]:this.getElementByLocalId("navigation-text"),f=t?t.findById(this.getElementId(E4)):this.getElementByLocalId(E4),h=t?t.findById(this.getElementId(_4)):this.getElementByLocalId(_4);c.attr("text",l),f.attr("opacity",this.currentPageIndex===1?u:o),f.attr("fill",this.currentPageIndex===1?s:a),f.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),h.attr("opacity",this.currentPageIndex===this.totalPagesCnt?u:o),h.attr("fill",this.currentPageIndex===this.totalPagesCnt?s:a),h.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer");var v=f.getBBox().maxX+2;c.attr("x",v),v+=c.getBBox().width+2,this.updateArrowPath(h,{x:v,y:0})},r.prototype.drawArrow=function(t,n,i,a,o,s){var u=n.x,l=n.y,c=this.addShape(t,{type:"path",id:this.getElementId(i),name:i,attrs:(0,x.pi)({size:o,direction:a,path:[["M",u+o/2,l],["L",u,l+o],["L",u+o,l+o],["Z"]],cursor:"pointer"},s)});return c.attr("matrix",e1({x:u+o/2,y:l+o/2},ph[a])),c},r.prototype.updateArrowPath=function(t,n){var i=n.x,a=n.y,o=t.attr(),s=o.size,u=o.direction,l=e1({x:i+s/2,y:a+s/2},ph[u]);t.attr("path",[["M",i+s/2,a],["L",i,a+s],["L",i+s,a+s],["Z"]]),t.attr("matrix",l)},r.prototype.getCurrentNavigationMatrix=function(){var t=this,n=t.currentPageIndex,i=t.pageWidth,a=t.pageHeight,o=this.get("layout"),s=o==="horizontal"?{x:0,y:a*(1-n)}:{x:i*(1-n),y:0};return l4(s)},r.prototype.applyItemStates=function(t,n){var i=this.getItemStates(t),a=i.length>0;if(a){var o=n.getChildren(),s=this.get("itemStates");(0,d.S6)(o,function(u){var l=u.get("name"),c=l.split("-")[2],f=Ms(t,c,s);f&&(u.attr(f),c==="marker"&&!(u.get("isStroke")&&u.get("isFill"))&&(u.get("isStroke")&&u.attr("fill",null),u.get("isFill")&&u.attr("stroke",null)))})}},r.prototype.getLimitItemWidth=function(){var t=this.get("itemWidth"),n=this.get("maxItemWidth");return n?t&&(n=t<=n?t:n):t&&(n=t),n},r}(vh),HO=UO,VO=1.4,dh=.4,GO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:mr.textColor,textBaseline:"middle",fontFamily:mr.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:mr.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},r.prototype.isSlider=function(){return!0},r.prototype.getValue=function(){return this.getCurrentValue()},r.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},r.prototype.setRange=function(t,n){this.update({min:t,max:n})},r.prototype.setValue=function(t){var n=this.getValue();this.set("value",t);var i=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(i),this.delegateEmit("valuechanged",{originValue:n,value:t})},r.prototype.initEvent=function(){var t=this.get("group");this.bindSliderEvent(t),this.bindRailEvent(t),this.bindTrackEvent(t)},r.prototype.drawLegendContent=function(t){this.drawRail(t),this.drawLabels(t),this.fixedElements(t),this.resetTrack(t),this.resetTrackClip(t),this.get("slidable")&&this.resetHandlers(t)},r.prototype.bindSliderEvent=function(t){this.bindHandlersEvent(t)},r.prototype.bindHandlersEvent=function(t){var n=this;t.on("legend-handler-min:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[1];s<a&&(s=a),n.setValue([a,s])}),t.on("legend-handler-max:drag",function(i){var a=n.getValueByCanvasPoint(i.x,i.y),o=n.getCurrentValue(),s=o[0];s>a&&(s=a),n.setValue([s,a])})},r.prototype.bindRailEvent=function(t){},r.prototype.bindTrackEvent=function(t){var n=this,i=null;t.on("legend-track:dragstart",function(a){i={x:a.x,y:a.y}}),t.on("legend-track:drag",function(a){if(i){var o=n.getValueByCanvasPoint(i.x,i.y),s=n.getValueByCanvasPoint(a.x,a.y),u=n.getCurrentValue(),l=u[1]-u[0],c=n.getRange(),f=s-o;f<0?u[0]+f>c.min?n.setValue([u[0]+f,u[1]+f]):n.setValue([c.min,c.min+l]):f>0&&(f>0&&u[1]+f<c.max?n.setValue([u[0]+f,u[1]+f]):n.setValue([c.max-l,c.max])),i={x:a.x,y:a.y}}}),t.on("legend-track:dragend",function(a){i=null})},r.prototype.drawLabels=function(t){this.drawLabel("min",t),this.drawLabel("max",t)},r.prototype.drawLabel=function(t,n){var i=this.get("label"),a=i.style,o=i.align,s=i.formatter,u=this.get(t),l=this.getLabelAlignAttrs(t,o),c="label-"+t;this.addShape(n,{type:"text",id:this.getElementId(c),name:"legend-label-"+t,attrs:(0,x.pi)((0,x.pi)({x:0,y:0,text:(0,d.mf)(s)?s(u):u},a),l)})},r.prototype.getLabelAlignAttrs=function(t,n){var i=this.isVertical(),a="center",o="middle";return i?(a="start",n!=="rail"?t==="min"?o="top":o="bottom":o="top"):n!=="rail"?(o="top",t==="min"?a="start":a="end"):(a="start",o="middle"),{textAlign:a,textBaseline:o}},r.prototype.getRailPath=function(t,n,i,a){var o=this.get("rail"),s=o.size,u=o.defaultLength,l=o.type,c=this.isVertical(),f=u,h=i,v=a;h||(h=c?s:f),v||(v=c?f:s);var p=[];return l==="color"?(p.push(["M",t,n]),p.push(["L",t+h,n]),p.push(["L",t+h,n+v]),p.push(["L",t,n+v]),p.push(["Z"])):(p.push(["M",t+h,n]),p.push(["L",t+h,n+v]),p.push(["L",t,n+v]),p.push(["Z"])),p},r.prototype.drawRail=function(t){var n=this.get("rail"),i=n.style;this.addShape(t,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:(0,x.pi)({path:this.getRailPath(0,0)},i)})},r.prototype.getTrackColor=function(t){var n=t.length;if(!n)return null;if(n===1)return t[0];var i;this.isVertical()?i="l(90)":i="l(0)";for(var a=0;a<n;a++){var o=a/(n-1);i+=" "+o+":"+t[a]}return i},r.prototype.getTrackPath=function(t){var n=this.getRailShape(t),i=n.attr("path");return(0,d.d9)(i)},r.prototype.getClipTrackAttrs=function(t){var n=this.getCurrentValue(),i=n[0],a=n[1],o=this.getRailBBox(t),s=this.getPointByValue(i,t),u=this.getPointByValue(a,t),l=this.isVertical(),c,f,h,v;return l?(c=o.minX,f=s.y,h=o.width,v=u.y-s.y):(c=s.x,f=o.minY,h=u.x-s.x,v=o.height),{x:c,y:f,width:h,height:v}},r.prototype.getTrackAttrs=function(t){var n=this.get("track"),i=this.get("colors"),a=this.getTrackPath(t);return(0,d.CD)({path:a,fill:this.getTrackColor(i)},n.style)},r.prototype.resetTrackClip=function(t){var n=t||this.get("group"),i=this.getElementId("track"),a=n.findById(i),o=a.getClip(),s=this.getClipTrackAttrs(t);o?o.attr(s):a.setClip({type:"rect",attrs:s})},r.prototype.resetTrack=function(t){var n=this.getElementId("track"),i=t.findById(n),a=this.getTrackAttrs(t);i?i.attr(a):this.addShape(t,{type:"path",id:n,draggable:this.get("slidable"),name:"legend-track",attrs:a})},r.prototype.getPointByValue=function(t,n){var i=this.getRange(),a=i.min,o=i.max,s=(t-a)/(o-a),u=this.getRailBBox(n),l=this.isVertical(),c={x:0,y:0};return l?(c.x=u.minX+u.width/2,c.y=r1(u.minY,u.maxY,s)):(c.x=r1(u.minX,u.maxX,s),c.y=u.minY+u.height/2),c},r.prototype.getRailShape=function(t){var n=t||this.get("group");return n.findById(this.getElementId("rail"))},r.prototype.getRailBBox=function(t){var n=this.getRailShape(t),i=n.getBBox();return i},r.prototype.getRailCanvasBBox=function(){var t=this.get("group"),n=t.findById(this.getElementId("rail")),i=n.getCanvasBBox();return i},r.prototype.isVertical=function(){return this.get("layout")==="vertical"},r.prototype.getValueByCanvasPoint=function(t,n){var i=this.getRange(),a=i.min,o=i.max,s=this.getRailCanvasBBox(),u=this.isVertical(),l=this.get("step"),c;u?c=(n-s.minY)/s.height:c=(t-s.minX)/s.width;var f=r1(a,o,c);if(l){var h=Math.round((f-a)/l);f=a+h*l}return f>o&&(f=o),f<a&&(f=a),f},r.prototype.getCurrentValue=function(){var t=this.get("value");if(!t){var n=this.get("values");return n?[Math.max(Math.min.apply(Math,(0,x.pr)(n,[this.get("max")])),this.get("min")),Math.min(Math.max.apply(Math,(0,x.pr)(n,[this.get("min")])),this.get("max"))]:[this.get("min"),this.get("max")]}return t},r.prototype.resetHandlers=function(t){var n=this.getCurrentValue(),i=n[0],a=n[1];this.resetHandler(t,"min",i),this.resetHandler(t,"max",a)},r.prototype.getHandlerPath=function(t,n){var i=this.isVertical(),a=[],o=t.size,s=n.x,u=n.y,l=o*VO,c=o/2,f=o/6;if(i){var h=s+l*dh;a.push(["M",s,u]),a.push(["L",h,u+c]),a.push(["L",s+l,u+c]),a.push(["L",s+l,u-c]),a.push(["L",h,u-c]),a.push(["Z"]),a.push(["M",h,u+f]),a.push(["L",s+l-2,u+f]),a.push(["M",h,u-f]),a.push(["L",s+l-2,u-f])}else{var v=u+l*dh;a.push(["M",s,u]),a.push(["L",s-c,v]),a.push(["L",s-c,u+l]),a.push(["L",s+c,u+l]),a.push(["L",s+c,v]),a.push(["Z"]),a.push(["M",s-f,v]),a.push(["L",s-f,u+l-2]),a.push(["M",s+f,v]),a.push(["L",s+f,u+l-2])}return a},r.prototype.resetHandler=function(t,n,i){var a=this.getPointByValue(i,t),o=this.get("handler"),s=this.getHandlerPath(o,a),u=this.getElementId("handler-"+n),l=t.findById(u),c=this.isVertical();l?l.attr("path",s):this.addShape(t,{type:"path",name:"legend-handler-"+n,draggable:!0,id:u,attrs:(0,x.pi)((0,x.pi)({path:s},o.style),{cursor:c?"ns-resize":"ew-resize"})})},r.prototype.fixedElements=function(t){var n=t.findById(this.getElementId("rail")),i=t.findById(this.getElementId("label-min")),a=t.findById(this.getElementId("label-max")),o=this.getDrawPoint();this.isVertical()?this.fixedVertail(i,a,n,o):this.fixedHorizontal(i,a,n,o)},r.prototype.fitRailLength=function(t,n,i,a){var o=this.isVertical(),s=o?"height":"width",u=this.get("label"),l=u.align,c=u.spacing,f=this.get("max"+(0,d.jC)(s));if(f){var h=l==="rail"?i[s]+t[s]+n[s]+c*2:i[s],v=h-f;v>0&&this.changeRailLength(a,s,i[s]-v)}},r.prototype.changeRailLength=function(t,n,i){var a=t.getBBox(),o;n==="height"?o=this.getRailPath(a.x,a.y,a.width,i):o=this.getRailPath(a.x,a.y,i,a.height),t.attr("path",o)},r.prototype.changeRailPosition=function(t,n,i){var a=t.getBBox(),o=this.getRailPath(n,i,a.width,a.height);t.attr("path",o)},r.prototype.fixedHorizontal=function(t,n,i,a){var o=this.get("label"),s=o.align,u=o.spacing,l=i.getBBox(),c=t.getBBox(),f=n.getBBox(),h=l.height;this.fitRailLength(c,f,l,i),l=i.getBBox(),s==="rail"?(t.attr({x:a.x,y:a.y+h/2}),this.changeRailPosition(i,a.x+c.width+u,a.y),n.attr({x:a.x+c.width+l.width+u*2,y:a.y+h/2})):s==="top"?(t.attr({x:a.x,y:a.y}),n.attr({x:a.x+l.width,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+u)):(this.changeRailPosition(i,a.x,a.y),t.attr({x:a.x,y:a.y+l.height+u}),n.attr({x:a.x+l.width,y:a.y+l.height+u}))},r.prototype.fixedVertail=function(t,n,i,a){var o=this.get("label"),s=o.align,u=o.spacing,l=i.getBBox(),c=t.getBBox(),f=n.getBBox();if(this.fitRailLength(c,f,l,i),l=i.getBBox(),s==="rail")t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x,a.y+c.height+u),n.attr({x:a.x,y:a.y+c.height+l.height+u*2});else if(s==="right")t.attr({x:a.x+l.width+u,y:a.y}),this.changeRailPosition(i,a.x,a.y),n.attr({x:a.x+l.width+u,y:a.y+l.height});else{var h=Math.max(c.width,f.width);t.attr({x:a.x,y:a.y}),this.changeRailPosition(i,a.x+h+u,a.y),n.attr({x:a.x,y:a.y+l.height})}},r}(vh),jO=GO,Ua="g2-tooltip",Ha="g2-tooltip-title",ks="g2-tooltip-list",Wl="g2-tooltip-list-item",Yl="g2-tooltip-marker",Xl="g2-tooltip-value",gh="g2-tooltip-name",C4="g2-tooltip-crosshair-x",S4="g2-tooltip-crosshair-y",Ea,WO=(Ea={},Ea[""+Ua]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:mr.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Ea[""+Ha]={marginBottom:"4px"},Ea[""+ks]={margin:"0px",listStyleType:"none",padding:"0px"},Ea[""+Wl]={listStyleType:"none",marginBottom:"4px"},Ea[""+Yl]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},Ea[""+Xl]={display:"inline-block",float:"right",marginLeft:"30px"},Ea[""+C4]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ea[""+S4]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},Ea);function YO(e,r,t,n,i){var a={left:e<i.x,right:e+t>i.x+i.width,top:r<i.y,bottom:r+n>i.y+i.height};return a}function XO(e,r,t,n,i,a){var o=e,s=r;switch(a){case"left":o=e-n-t,s=r-i/2;break;case"right":o=e+t,s=r-i/2;break;case"top":o=e-n/2,s=r-i-t;break;case"bottom":o=e-n/2,s=r+t;break;default:o=e+t,s=r-i-t;break}return{x:o,y:s}}function $O(e,r,t,n,i,a,o){var s=XO(e,r,t,n,i,a);if(o){var u=YO(s.x,s.y,n,i,o);a==="auto"?(u.right&&(s.x=Math.max(0,e-n-t)),u.top&&(s.y=Math.max(0,r-i-t))):a==="top"||a==="bottom"?(u.left&&(s.x=o.x),u.right&&(s.x=o.x+o.width-n),a==="top"&&u.top&&(s.y=r+t),a==="bottom"&&u.bottom&&(s.y=r-i-t)):(u.top&&(s.y=o.y),u.bottom&&(s.y=o.y+o.height-i),a==="left"&&u.left&&(s.x=e+t),a==="right"&&u.right&&(s.x=e-n-t))}return s}function qO(e,r){var t=!1;return(0,d.S6)(r,function(n){if((0,d.wH)(e,n))return t=!0,!1}),t}var KO=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+Ua+'"><div class="'+Ha+'"></div><ul class="'+ks+'"></ul></div>',itemTpl:'<li class="'+Wl+`" data-index={index}>
          <span class="`+Yl+`" style="background:{color}"></span>
          <span class="`+gh+`">{name}</span>:
          <span class="`+Xl+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+C4+'"></div>',yCrosshairTpl:'<div class="'+S4+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:Ua,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:WO})},r.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},r.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},r.prototype.show=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!0),_r(t,{visibility:"visible"}),this.setCrossHairsVisible(!0))},r.prototype.hide=function(){var t=this.getContainer();!t||this.destroyed||(this.set("visible",!1),_r(t,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},r.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},r.prototype.setLocation=function(t){this.set("x",t.x),this.set("y",t.y),this.resetPosition()},r.prototype.setCrossHairsVisible=function(t){var n=t?"":"none",i=this.get("xCrosshairDom"),a=this.get("yCrosshairDom");i&&_r(i,{display:n}),a&&_r(a,{display:n})},r.prototype.initContainer=function(){if(e.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var t=this.getHtmlContentNode();this.get("parent").appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()}},r.prototype.updateInner=function(t){this.get("customContent")?this.renderCustomContent():(qO(t,["title","showTitle"])&&this.resetTitle(),(0,d.wH)(t,"items")&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.removeDom=function(){e.prototype.removeDom.call(this),this.clearCrosshairs()},r.prototype.resetPosition=function(){var t=this.get("x"),n=this.get("y"),i=this.get("offset"),a=this.getOffset(),o=a.offsetX,s=a.offsetY,u=this.get("position"),l=this.get("region"),c=this.getContainer(),f=this.getBBox(),h=f.width,v=f.height,p;l&&(p=Ss(l));var g=$O(t,n,i,h,v,u,p);_r(c,{left:ei(g.x+o),top:ei(g.y+s)}),this.resetCrosshairs()},r.prototype.renderCustomContent=function(){var t=this.getHtmlContentNode(),n=this.get("parent"),i=this.get("container");i&&i.parentNode===n?n.replaceChild(t,i):n.appendChild(t),this.set("container",t),this.resetStyles(),this.applyStyles()},r.prototype.getHtmlContentNode=function(){var t,n=this.get("customContent");if(n){var i=n(this.get("title"),this.get("items"));(0,d.kK)(i)?t=i:t=Qr(i)}return t},r.prototype.cacheDoms=function(){var t=this.getContainer(),n=t.getElementsByClassName(Ha)[0],i=t.getElementsByClassName(ks)[0];this.set("titleDom",n),this.set("listDom",i)},r.prototype.resetTitle=function(){var t=this.get("title"),n=this.get("showTitle");n&&t?this.setTitle(t):this.setTitle("")},r.prototype.setTitle=function(t){var n=this.get("titleDom");n&&(n.innerText=t)},r.prototype.resetCrosshairs=function(){var t=this.get("crosshairsRegion"),n=this.get("crosshairs");if(!t||!n)this.clearCrosshairs();else{var i=Ss(t),a=this.get("xCrosshairDom"),o=this.get("yCrosshairDom");n==="x"?(this.resetCrosshair("x",i),o&&(o.remove(),this.set("yCrosshairDom",null))):n==="y"?(this.resetCrosshair("y",i),a&&(a.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",i),this.resetCrosshair("y",i)),this.setCrossHairsVisible(this.get("visible"))}},r.prototype.resetCrosshair=function(t,n){var i=this.checkCrosshair(t),a=this.get(t);t==="x"?_r(i,{left:ei(a),top:ei(n.y),height:ei(n.height)}):_r(i,{top:ei(a),left:ei(n.x),width:ei(n.width)})},r.prototype.checkCrosshair=function(t){var n=t+"CrosshairDom",i=t+"CrosshairTpl",a="CROSSHAIR_"+t.toUpperCase(),o=et[a],s=this.get(n),u=this.get("parent");return s||(s=Qr(this.get(i)),this.applyStyle(o,s),u.appendChild(s),this.set(n,s)),s},r.prototype.renderItems=function(){this.clearItemDoms();var t=this.get("items"),n=this.get("itemTpl"),i=this.get("listDom");i&&((0,d.S6)(t,function(a){var o=Ni.toCSSGradient(a.color),s=(0,x.pi)((0,x.pi)({},a),{color:o}),u=(0,d.ng)(n,s),l=Qr(u);i.appendChild(l)}),this.applyChildrenStyles(i,this.get("domStyles")))},r.prototype.clearItemDoms=function(){this.get("listDom")&&c4(this.get("listDom"))},r.prototype.clearCrosshairs=function(){var t=this.get("xCrosshairDom"),n=this.get("yCrosshairDom");t&&t.remove(),n&&n.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},r}(v4),QO=KO,JO={opacity:0},tL={stroke:"#C5C5C5",strokeOpacity:.85},eL={fill:"#CACED4",opacity:.85},a0=F(34357);function rL(e){return(0,d.UI)(e,function(r,t){var n=t===0?"M":"L",i=r[0],a=r[1];return[n,i,a]})}function yh(e){return rL(e)}function nL(e){if(e.length<=2)return yh(e);var r=[];(0,d.S6)(e,function(o){(0,d.Xy)(o,r.slice(r.length-2))||r.push(o[0],o[1])});var t=(0,a0.e9)(r,!1),n=(0,d.YM)(e),i=n[0],a=n[1];return t.unshift(["M",i,a]),t}function iL(e,r,t,n){n===void 0&&(n=!0);var i=new Bl({values:e}),a=new Ll({values:(0,d.UI)(e,function(s,u){return u})}),o=(0,d.UI)(e,function(s,u){return[a.scale(u)*r,t-i.scale(s)*t]});return n?nL(o):yh(o)}function aL(e,r){var t=new Bl({values:e}),n=t.max<0?t.max:Math.max(0,t.min);return r-t.scale(n)*r}function oL(e,r,t,n){var i=(0,x.pr)(e),a=aL(n,t);return i.push(["L",r,a]),i.push(["L",0,a]),i.push(["Z"]),i}var sL=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:JO,lineStyle:tL,areaStyle:eL})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,a=n.height,o=n.data,s=n.smooth,u=n.isArea,l=n.backgroundStyle,c=n.lineStyle,f=n.areaStyle;this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,x.pi)({x:0,y:0,width:i,height:a},l)});var h=iL(o,i,a,s);if(this.addShape(t,{id:this.getElementId("line"),type:"path",attrs:(0,x.pi)({path:h},c)}),u){var v=oL(h,i,a,o);this.addShape(t,{id:this.getElementId("area"),type:"path",attrs:(0,x.pi)({path:v},f)})}},r.prototype.applyOffset=function(){var t=this.cfg,n=t.x,i=t.y;this.moveElementTo(this.get("group"),{x:n,y:i})},r}(Ln),t9t=null,mh={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},xh=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"handler",x:0,y:0,width:10,height:24,style:mh})},r.prototype.renderInner=function(t){var n=this.cfg,i=n.width,a=n.height,o=n.style,s=o.fill,u=o.stroke,l=o.radius,c=o.opacity,f=o.cursor;this.addShape(t,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:i,height:a,fill:s,stroke:u,radius:l,opacity:c,cursor:f}});var h=1/3*i,v=2/3*i,p=1/4*a,g=3/4*a;this.addShape(t,{id:this.getElementId("line-left"),type:"line",attrs:{x1:h,y1:p,x2:h,y2:g,stroke:u,cursor:f}}),this.addShape(t,{id:this.getElementId("line-right"),type:"line",attrs:{x1:v,y1:p,x2:v,y2:g,stroke:u,cursor:f}})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.bindEvents=function(){var t=this;this.get("group").on("mouseenter",function(){var n=t.get("style").highLightFill;t.getElementByLocalId("background").attr("fill",n),t.draw()}),this.get("group").on("mouseleave",function(){var n=t.get("style").fill;t.getElementByLocalId("background").attr("fill",n),t.draw()})},r.prototype.draw=function(){var t=this.get("container").get("canvas");t&&t.draw()},r}(Ln),e9t=null,uL={fill:"#416180",opacity:.05},lL={fill:"#5B8FF9",opacity:.15,cursor:"move"},$l=10,cL={width:$l,height:24},fL={textBaseline:"middle",fill:"#000",opacity:.45},hL="sliderchange",vL=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.onMouseDown=function(n){return function(i){t.currentTarget=n;var a=i.originalEvent;a.stopPropagation(),a.preventDefault(),t.prevX=(0,d.U2)(a,"touches.0.pageX",a.pageX),t.prevY=(0,d.U2)(a,"touches.0.pageY",a.pageY);var o=t.getContainerDOM();o.addEventListener("mousemove",t.onMouseMove),o.addEventListener("mouseup",t.onMouseUp),o.addEventListener("mouseleave",t.onMouseUp),o.addEventListener("touchmove",t.onMouseMove),o.addEventListener("touchend",t.onMouseUp),o.addEventListener("touchcancel",t.onMouseUp)}},t.onMouseMove=function(n){var i=t.cfg.width,a=[t.get("start"),t.get("end")];n.stopPropagation(),n.preventDefault();var o=(0,d.U2)(n,"touches.0.pageX",n.pageX),s=(0,d.U2)(n,"touches.0.pageY",n.pageY),u=o-t.prevX,l=t.adjustOffsetRange(u/i);t.updateStartEnd(l),t.updateUI(t.getElementByLocalId("foreground"),t.getElementByLocalId("minText"),t.getElementByLocalId("maxText")),t.prevX=o,t.prevY=s,t.draw(),t.emit(hL,[t.get("start"),t.get("end")].sort()),t.delegateEmit("valuechanged",{originValue:a,value:[t.get("start"),t.get("end")]})},t.onMouseUp=function(){t.currentTarget&&(t.currentTarget=void 0);var n=t.getContainerDOM();n&&(n.removeEventListener("mousemove",t.onMouseMove),n.removeEventListener("mouseup",t.onMouseUp),n.removeEventListener("mouseleave",t.onMouseUp),n.removeEventListener("touchmove",t.onMouseMove),n.removeEventListener("touchend",t.onMouseUp),n.removeEventListener("touchcancel",t.onMouseUp))},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.get("start"),a=this.get("end"),o=(0,d.uZ)(i,t,n),s=(0,d.uZ)(a,t,n);!this.get("isInit")&&(i!==o||a!==s)&&this.setValue([o,s])},r.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},r.prototype.setValue=function(t){var n=this.getRange();if((0,d.kJ)(t)&&t.length===2){var i=[this.get("start"),this.get("end")];this.update({start:(0,d.uZ)(t[0],n.min,n.max),end:(0,d.uZ)(t[1],n.min,n.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:i,value:t})}},r.prototype.getValue=function(){return[this.get("start"),this.get("end")]},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:uL,foregroundStyle:lL,handlerStyle:cL,textStyle:fL}})},r.prototype.update=function(t){var n=t.start,i=t.end,a=(0,x.pi)({},t);(0,d.UM)(n)||(a.start=(0,d.uZ)(n,0,1)),(0,d.UM)(i)||(a.end=(0,d.uZ)(i,0,1)),e.prototype.update.call(this,a),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},r.prototype.init=function(){this.set("start",(0,d.uZ)(this.get("start"),0,1)),this.set("end",(0,d.uZ)(this.get("end"),0,1)),e.prototype.init.call(this)},r.prototype.render=function(){e.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},r.prototype.renderInner=function(t){var n=this.cfg,i=n.start,a=n.end,o=n.width,s=n.height,u=n.trendCfg,l=u===void 0?{}:u,c=n.minText,f=n.maxText,h=n.backgroundStyle,v=h===void 0?{}:h,p=n.foregroundStyle,g=p===void 0?{}:p,y=n.textStyle,m=y===void 0?{}:y,E=(0,d.b$)({},mh,this.cfg.handlerStyle),C=i*o,A=a*o;(0,d.dp)((0,d.U2)(l,"data"))&&(this.trend=this.addComponent(t,(0,x.pi)({component:sL,id:this.getElementId("trend"),x:0,y:0,width:o,height:s},l))),this.addShape(t,{id:this.getElementId("background"),type:"rect",attrs:(0,x.pi)({x:0,y:0,width:o,height:s},v)});var M=this.addShape(t,{id:this.getElementId("minText"),type:"text",attrs:(0,x.pi)({y:s/2,textAlign:"right",text:c,silent:!1},m)}),Z=this.addShape(t,{id:this.getElementId("maxText"),type:"text",attrs:(0,x.pi)({y:s/2,textAlign:"left",text:f,silent:!1},m)}),Y=this.addShape(t,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:(0,x.pi)({y:0,height:s},g)}),st=(0,d.U2)(E,"width",$l),Ct=(0,d.U2)(E,"height",24);this.minHandler=this.addComponent(t,{component:xh,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(s-Ct)/2,width:st,height:Ct,cursor:"ew-resize",style:E}),this.maxHandler=this.addComponent(t,{component:xh,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(s-Ct)/2,width:st,height:Ct,cursor:"ew-resize",style:E})},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.updateUI=function(t,n,i){var a=this.cfg,o=a.start,s=a.end,u=a.width,l=a.minText,c=a.maxText,f=a.handlerStyle,h=a.height,v=o*u,p=s*u;this.trend&&(this.trend.update({width:u,height:h}),this.get("updateAutoRender")||this.trend.render()),t.attr("x",v),t.attr("width",p-v);var g=(0,d.U2)(f,"width",$l);n.attr("text",l),i.attr("text",c);var y=this._dodgeText([v,p],n,i),m=y[0],E=y[1];this.minHandler&&(this.minHandler.update({x:v-g/2}),this.get("updateAutoRender")||this.minHandler.render()),(0,d.S6)(m,function(C,A){return n.attr(A,C)}),this.maxHandler&&(this.maxHandler.update({x:p-g/2}),this.get("updateAutoRender")||this.maxHandler.render()),(0,d.S6)(E,function(C,A){return i.attr(A,C)})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("handler-min:mousedown",this.onMouseDown("minHandler")),t.on("handler-min:touchstart",this.onMouseDown("minHandler")),t.on("handler-max:mousedown",this.onMouseDown("maxHandler")),t.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var n=t.findById(this.getElementId("foreground"));n.on("mousedown",this.onMouseDown("foreground")),n.on("touchstart",this.onMouseDown("foreground"))},r.prototype.adjustOffsetRange=function(t){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":{var o=0-i,s=1-i;return Math.min(s,Math.max(o,t))}case"maxHandler":{var o=0-a,s=1-a;return Math.min(s,Math.max(o,t))}case"foreground":{var o=0-i,s=1-a;return Math.min(s,Math.max(o,t))}}},r.prototype.updateStartEnd=function(t){var n=this.cfg,i=n.start,a=n.end;switch(this.currentTarget){case"minHandler":i+=t;break;case"maxHandler":a+=t;break;case"foreground":i+=t,a+=t;break}this.set("start",i),this.set("end",a)},r.prototype._dodgeText=function(t,n,i){var a,o,s=this.cfg,u=s.handlerStyle,l=s.width,c=2,f=(0,d.U2)(u,"width",$l),h=t[0],v=t[1],p=!1;h>v&&(a=[v,h],h=a[0],v=a[1],o=[i,n],n=o[0],i=o[1],p=!0);var g=n.getBBox(),y=i.getBBox(),m=g.width>h-c?{x:h+f/2+c,textAlign:"left"}:{x:h-f/2-c,textAlign:"right"},E=y.width>l-v-c?{x:v-f/2-c,textAlign:"right"}:{x:v+f/2+c,textAlign:"left"};return p?[E,m]:[m,E]},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r}(Ln),r9t=null;function o0(e,r,t){if(e){if(typeof e.addEventListener=="function")return e.addEventListener(r,t,!1),{remove:function(){e.removeEventListener(r,t,!1)}};if(typeof e.attachEvent=="function")return e.attachEvent("on"+r,t),{remove:function(){e.detachEvent("on"+r,t)}}}}var pL={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},b4={default:pL,hover:{thumbColor:"rgba(0,0,0,0.2)"}},dL=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.clearEvents=d.ZT,t.onStartEvent=function(n){return function(i){t.isMobile=n,i.originalEvent.preventDefault();var a=n?(0,d.U2)(i.originalEvent,"touches.0.clientX"):i.clientX,o=n?(0,d.U2)(i.originalEvent,"touches.0.clientY"):i.clientY;t.startPos=t.cfg.isHorizontal?a:o,t.bindLaterEvent()}},t.bindLaterEvent=function(){var n=t.getContainerDOM(),i=[];t.isMobile?i=[o0(n,"touchmove",t.onMouseMove),o0(n,"touchend",t.onMouseUp),o0(n,"touchcancel",t.onMouseUp)]:i=[o0(n,"mousemove",t.onMouseMove),o0(n,"mouseup",t.onMouseUp),o0(n,"mouseleave",t.onMouseUp)],t.clearEvents=function(){i.forEach(function(a){a.remove()})}},t.onMouseMove=function(n){var i=t.cfg,a=i.isHorizontal,o=i.thumbOffset;n.preventDefault();var s=t.isMobile?(0,d.U2)(n,"touches.0.clientX"):n.clientX,u=t.isMobile?(0,d.U2)(n,"touches.0.clientY"):n.clientY,l=a?s:u,c=l-t.startPos;t.startPos=l,t.updateThumbOffset(o+c)},t.onMouseUp=function(n){n.preventDefault(),t.clearEvents()},t.onTrackClick=function(n){var i=t.cfg,a=i.isHorizontal,o=i.x,s=i.y,u=i.thumbLen,l=t.getContainerDOM(),c=l.getBoundingClientRect(),f=n.clientX,h=n.clientY,v=a?f-c.left-o-u/2:h-c.top-s-u/2,p=t.validateRange(v);t.updateThumbOffset(p)},t.onThumbMouseOver=function(){var n=t.cfg.theme.hover.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t.onThumbMouseOut=function(){var n=t.cfg.theme.default.thumbColor;t.getElementByLocalId("thumb").attr("stroke",n),t.draw()},t}return r.prototype.setRange=function(t,n){this.set("minLimit",t),this.set("maxLimit",n);var i=this.getValue(),a=(0,d.uZ)(i,t,n);i!==a&&!this.get("isInit")&&this.setValue(a)},r.prototype.getRange=function(){var t=this.get("minLimit")||0,n=this.get("maxLimit")||1;return{min:t,max:n}},r.prototype.setValue=function(t){var n=this.getRange(),i=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*(0,d.uZ)(t,n.min,n.max)}),this.delegateEmit("valuechange",{originalValue:i,value:this.getValue()})},r.prototype.getValue=function(){return(0,d.uZ)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return(0,x.pi)((0,x.pi)({},t),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:b4})},r.prototype.renderInner=function(t){this.renderTrackShape(t),this.renderThumbShape(t)},r.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},r.prototype.initEvent=function(){this.bindEvents()},r.prototype.renderTrackShape=function(t){var n=this.cfg,i=n.trackLen,a=n.theme,o=a===void 0?{default:{}}:a,s=(0,d.b$)({},b4,o).default,u=s.lineCap,l=s.trackColor,c=s.size,f=(0,d.U2)(this.cfg,"size",c),h=this.get("isHorizontal")?{x1:0+f/2,y1:f/2,x2:i-f/2,y2:f/2,lineWidth:f,stroke:l,lineCap:u}:{x1:f/2,y1:0+f/2,x2:f/2,y2:i-f/2,lineWidth:f,stroke:l,lineCap:u};return this.addShape(t,{id:this.getElementId("track"),name:"track",type:"line",attrs:h})},r.prototype.renderThumbShape=function(t){var n=this.cfg,i=n.thumbOffset,a=n.thumbLen,o=n.theme,s=(0,d.b$)({},b4,o).default,u=s.size,l=s.lineCap,c=s.thumbColor,f=(0,d.U2)(this.cfg,"size",u),h=this.get("isHorizontal")?{x1:i+f/2,y1:f/2,x2:i+a-f/2,y2:f/2,lineWidth:f,stroke:c,lineCap:l,cursor:"default"}:{x1:f/2,y1:i+f/2,x2:f/2,y2:i+a-f/2,lineWidth:f,stroke:c,lineCap:l,cursor:"default"};return this.addShape(t,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:h})},r.prototype.bindEvents=function(){var t=this.get("group");t.on("mousedown",this.onStartEvent(!1)),t.on("mouseup",this.onMouseUp),t.on("touchstart",this.onStartEvent(!0)),t.on("touchend",this.onMouseUp);var n=t.findById(this.getElementId("track"));n.on("click",this.onTrackClick);var i=t.findById(this.getElementId("thumb"));i.on("mouseover",this.onThumbMouseOver),i.on("mouseout",this.onThumbMouseOut)},r.prototype.getContainerDOM=function(){var t=this.get("container"),n=t&&t.get("canvas");return n&&n.get("container")},r.prototype.validateRange=function(t){var n=this.cfg,i=n.thumbLen,a=n.trackLen,o=t;return t+i>a?o=a-i:t+i<i&&(o=0),o},r.prototype.draw=function(){var t=this.get("container"),n=t&&t.get("canvas");n&&n.draw()},r.prototype.updateThumbOffset=function(t){var n=this.cfg,i=n.thumbOffset,a=n.isHorizontal,o=n.thumbLen,s=n.size,u=this.validateRange(t);if(u!==i){var l=this.getElementByLocalId("thumb");a?l.attr({x1:u+s/2,x2:u+o-s/2}):l.attr({y1:u+s/2,y2:u+o-s/2}),this.emitOffsetChange(u)}},r.prototype.emitOffsetChange=function(t){var n=this.cfg,i=n.thumbOffset,a=n.trackLen,o=n.thumbLen;this.cfg.thumbOffset=t,this.emit("scrollchange",{thumbOffset:t,ratio:(0,d.uZ)(t/(a-o),0,1)}),this.delegateEmit("valuechange",{originalValue:i,value:t})},r}(Ln),gL=bO,yL=MO,mL=ZO,xL=BO,_h=HO,_L=jO,ql=QO;function EL(e){if((0,d.xb)(e))return null;var r=e[0].x,t=e[0].x,n=e[0].y,i=e[0].y;return(0,d.S6)(e,function(a){r=r>a.x?a.x:r,t=t<a.x?a.x:t,n=n>a.y?a.y:n,i=i<a.y?a.y:i}),{minX:r,maxX:t,minY:n,maxY:i,centerX:(r+t)/2,centerY:(n+i)/2}}function Eh(e){return Array.from(new Set(e)).length===1}function Ch(e){return((0,d.VV)(e)+(0,d.Fp)(e))/2}function fn(e,r,t,n){return{x:e+t*Math.cos(n),y:r+t*Math.sin(n)}}function _o(e,r,t,n,i,a){a===void 0&&(a=0);var o=fn(e,r,t,n),s=fn(e,r,t,i),u=fn(e,r,a,n),l=fn(e,r,a,i);if(i-n===Math.PI*2){var c=fn(e,r,t,n+Math.PI),f=fn(e,r,a,n+Math.PI),h=[["M",o.x,o.y],["A",t,t,0,1,1,c.x,c.y],["A",t,t,0,1,1,s.x,s.y],["M",u.x,u.y]];return a&&(h.push(["A",a,a,0,1,0,f.x,f.y]),h.push(["A",a,a,0,1,0,l.x,l.y])),h.push(["M",o.x,o.y]),h.push(["Z"]),h}var v=i-n<=Math.PI?0:1,p=[["M",o.x,o.y],["A",t,t,0,v,1,s.x,s.y],["L",l.x,l.y]];return a&&p.push(["A",a,a,0,v,0,u.x,u.y]),p.push(["L",o.x,o.y]),p.push(["Z"]),p}function Sh(e,r,t,n,i){var a=fn(e,r,t,n),o=fn(e,r,t,i);if((0,d.vQ)(i-n,Math.PI*2)){var s=fn(e,r,t,n+Math.PI);return[["M",a.x,a.y],["A",t,t,0,1,1,s.x,s.y],["A",t,t,0,1,1,a.x,a.y],["A",t,t,0,1,0,s.x,s.y],["A",t,t,0,1,0,a.x,a.y],["Z"]]}var u=i-n<=Math.PI?0:1;return[["M",a.x,a.y],["A",t,t,0,u,1,o.x,o.y]]}function Os(e,r){var t=e.points,n=EL(t),i,a,o=r.startAngle,s=r.endAngle,u=s-o;return r.isTransposed?(i=n.maxY*u,a=n.minY*u):(i=n.maxX*u,a=n.minX*u),i+=o,a+=o,{startAngle:a,endAngle:i}}function CL(e,r){if((0,d.hj)(e)&&(0,d.hj)(r))return[e,r];if(e=e,r=r,Eh(e)||Eh(r))return[Ch(e),Ch(r)];for(var t=-1,n=0,i=0,a,o=e.length-1,s,u=0;++t<e.length;)a=o,o=t,u+=s=e[a]*r[o]-e[o]*r[a],n+=(e[a]+e[o])*s,i+=(r[a]+r[o])*s;return u*=3,[n/u,i/u]}function bh(e,r){var t=e.attr(),n=r.attr();return(0,d.S6)(t,function(i,a){n[a]===void 0&&(n[a]=void 0)}),n}function s0(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function SL(e,r,t){if((0,d.HD)(e))return e.padEnd(r,t);if((0,d.kJ)(e)){var n=e.length;if(n<r)for(var i=r-n,a=0;a<i;a++)e.push(t)}return e}function ni(e,r){return typeof e=="object"&&r.forEach(function(t){delete e[t]}),e}function Eo(e,r,t){var n,i;r===void 0&&(r=[]),t===void 0&&(t=new Map);try{for(var a=(0,x.XA)(e),o=a.next();!o.done;o=a.next()){var s=o.value;t.has(s)||(r.push(s),t.set(s,!0))}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return r}var Un=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=r,this.y=t,this.height=i,this.width=n}return e.fromRange=function(r,t,n,i){return new e(r,t,n-r,i-t)},e.fromObject=function(r){return new e(r.minX,r.minY,r.width,r.height)},Object.defineProperty(e.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(r){return this.x===r.x&&this.y===r.y&&this.width===r.width&&this.height===r.height},e.prototype.contains=function(r){return r.minX>=this.minX&&r.maxX<=this.maxX&&r.minY>=this.minY&&r.maxY<=this.maxY},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.add=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,d.S6)(r,function(i){n.x=Math.min(i.x,n.x),n.y=Math.min(i.y,n.y),n.width=Math.max(i.maxX,n.maxX)-n.x,n.height=Math.max(i.maxY,n.maxY)-n.y}),n},e.prototype.merge=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var n=this.clone();return(0,d.S6)(r,function(i){n.x=Math.max(i.x,n.x),n.y=Math.max(i.y,n.y),n.width=Math.min(i.maxX,n.maxX)-n.x,n.height=Math.min(i.maxY,n.maxY)-n.y}),n},e.prototype.cut=function(r,t){var n=r.width,i=r.height;switch(t){case Pe.TOP:case Pe.TOP_LEFT:case Pe.TOP_RIGHT:return e.fromRange(this.minX,this.minY+i,this.maxX,this.maxY);case Pe.RIGHT:case Pe.RIGHT_TOP:case Pe.RIGHT_BOTTOM:return e.fromRange(this.minX,this.minY,this.maxX-n,this.maxY);case Pe.BOTTOM:case Pe.BOTTOM_LEFT:case Pe.BOTTOM_RIGHT:return e.fromRange(this.minX,this.minY,this.maxX,this.maxY-i);case Pe.LEFT:case Pe.LEFT_TOP:case Pe.LEFT_BOTTOM:return e.fromRange(this.minX+n,this.minY,this.maxX,this.maxY);default:return this}},e.prototype.shrink=function(r){var t=(0,x.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x+o,this.y+n,this.width-o-i,this.height-n-a)},e.prototype.expand=function(r){var t=(0,x.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return new e(this.x-o,this.y-n,this.width+o+i,this.height+n+a)},e.prototype.exceed=function(r){return[Math.max(-this.minY+r.minY,0),Math.max(this.maxX-r.maxX,0),Math.max(this.maxY-r.maxY,0),Math.max(-this.minX+r.minX,0)]},e.prototype.collide=function(r){return this.minX<r.maxX&&this.maxX>r.minX&&this.minY<r.maxY&&this.maxY>r.minY},e.prototype.size=function(){return this.width*this.height},e.prototype.isPointIn=function(r){return r.x>=this.minX&&r.x<=this.maxX&&r.y>=this.minY&&r.y<=this.maxY},e}(),n9t=function(e,r){var t=r.start,n=r.end;return new Un(e.x+e.width*t.x,e.y+e.height*t.y,e.width*Math.abs(n.x-t.x),e.height*Math.abs(n.y-t.y))};function bL(e){return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]]}function Ls(e){if(e.isPolar&&!e.isTransposed)return(e.endAngle-e.startAngle)*e.getRadius();var r=e.convert({x:0,y:0}),t=e.convert({x:1,y:0});return Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2))}function AL(e){if(e.isPolar){var r=e.startAngle,t=e.endAngle;return t-r===Math.PI*2}return!1}function Kl(e,r){var t=e.getCenter();return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}function ML(e,r){var t=!1;if(e)if(e.type==="theta"){var n=e.start,i=e.end;t=s0(r.x,n.x,i.x)&&s0(r.y,n.y,i.y)}else{var a=e.invert(r);t=s0(a.x,0,1)&&s0(a.y,0,1)}return t}function u0(e,r){var t=e.getCenter();return Math.atan2(r.y-t.y,r.x-t.x)}function A4(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight();if(e.isPolar){var o=e.startAngle,s=e.endAngle,u=e.getCenter(),l=e.getRadius();return{type:"path",startState:{path:_o(u.x,u.y,l+r,o,o)},endState:function(f){var h=(s-o)*f+o,v=_o(u.x,u.y,l+r,o,h);return{path:v}},attrs:{path:_o(u.x,u.y,l+r,o,s)}}}var c;return e.isTransposed?c={height:a+r*2}:c={width:i+r*2},{type:"rect",startState:{x:t.x-r,y:n.y-r,width:e.isTransposed?i+r*2:0,height:e.isTransposed?0:a+r*2},endState:c,attrs:{x:t.x-r,y:n.y-r,width:i+r*2,height:a+r*2}}}function TL(e,r){r===void 0&&(r=0);var t=e.start,n=e.end,i=e.getWidth(),a=e.getHeight(),o=Math.min(t.x,n.x),s=Math.min(t.y,n.y);return Un.fromRange(o-r,s-r,o+i+r,s+a+r)}var wL=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function FL(e){var r="linear";return wL.test(e)?r="timeCat":(0,d.HD)(e)&&(r="cat"),r}function Ah(e,r,t,n){return r===void 0&&(r={}),r.type?r.type:e.type!=="identity"&&Xt.includes(t)&&["interval"].includes(n)||e.isCategory?"cat":e.type}function kL(e,r,t){var n=r||[];if((0,d.hj)(e)||(0,d.UM)((0,d.Wx)(n,e))&&(0,d.xb)(t)){var i=e4("identity");return new i({field:e.toString(),values:[e]})}var a=(0,d.I)(n,e),o=(0,d.U2)(t,"type",FL(a[0])),s=e4(o);return new s((0,x.pi)({field:e,values:a},t))}function OL(e,r){if(e.type!=="identity"&&r.type!=="identity"){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);e.change(t)}}function Is(e){return e.alias||e.field}function Mh(e,r,t){var n=e.values,i=n.length,a;if(i===1)a=[.5,1];else{var o=1,s=0;AL(r)?r.isTransposed?(o=(0,d.U2)(t,"widthRatio.multiplePie",1/1.3),s=1/i*o,a=[s/2,1-s/2]):a=[0,1-1/i]:(s=1/i/2,a=[s,1-s])}return a}function LL(e){var r=e.values.filter(function(t){return!(0,d.UM)(t)&&!isNaN(t)});return Math.max.apply(Math,(0,x.ev)((0,x.ev)([],(0,x.CR)(r),!1),[(0,d.UM)(e.max)?-1/0:e.max],!1))}function IL(e){var r,t;switch(e){case Pe.TOP:r={x:0,y:1},t={x:1,y:1};break;case Pe.RIGHT:r={x:1,y:0},t={x:1,y:1};break;case Pe.BOTTOM:r={x:0,y:0},t={x:1,y:0};break;case Pe.LEFT:r={x:0,y:0},t={x:0,y:1};break;default:r=t={x:0,y:0}}return{start:r,end:t}}function PL(e){var r,t;return e.isTransposed?(r={x:0,y:0},t={x:1,y:0}):(r={x:0,y:0},t={x:0,y:1}),{start:r,end:t}}function Ql(e,r){var t={start:{x:0,y:0},end:{x:0,y:0}};e.isRect?t=IL(r):e.isPolar&&(t=PL(e));var n=t.start,i=t.end;return{start:e.convert(n),end:e.convert(i)}}function i9t(e,r){if(e.isRect)return e.isTransposed?[DIRECTION.RIGHT,DIRECTION.BOTTOM].includes(r)?1:-1:[DIRECTION.BOTTOM,DIRECTION.RIGHT].includes(r)?-1:1;if(e.isPolar){var t=e.x.start;return t<0?-1:1}return 1}function Th(e){var r=e.start,t=e.end;return r.x===t.x}function wh(e,r){var t=e.start,n=e.end,i=Th(e);return i?(t.y-n.y)*(r.x-t.x)>0?1:-1:(n.x-t.x)*(t.y-r.y)>0?-1:1}function Jl(e,r){var t=(0,d.U2)(e,["components","axis"],{});return(0,d.b$)({},(0,d.U2)(t,["common"],{}),(0,d.b$)({},(0,d.U2)(t,[r],{})))}function Fh(e,r,t){var n=(0,d.U2)(e,["components","axis"],{});return(0,d.b$)({},(0,d.U2)(n,["common","title"],{}),(0,d.b$)({},(0,d.U2)(n,[r,"title"],{})),t)}function M4(e){var r=e.x,t=e.y,n=e.circleCenter,i=t.start>t.end,a=e.isTransposed?e.convert({x:i?0:1,y:0}):e.convert({x:0,y:i?0:1}),o=[a.x-n.x,a.y-n.y],s=[1,0],u=a.y>n.y?de.EU(o,s):de.EU(o,s)*-1,l=u+(r.end-r.start),c=Math.sqrt(Math.pow(a.x-n.x,2)+Math.pow(a.y-n.y,2));return{center:n,radius:c,startAngle:u,endAngle:l}}function t2(e,r){return(0,d.jn)(e)?e===!1?!1:{}:(0,d.U2)(e,[r])}function kh(e,r){return(0,d.U2)(e,"position",r)}function Oh(e,r){return(0,d.U2)(r,["title","text"],Is(e))}var l0=function(){function e(r,t){this.destroyed=!1,this.facets=[],this.view=r,this.cfg=(0,d.b$)({},this.getDefaultCfg(),t)}return e.prototype.init=function(){this.container||(this.container=this.createContainer());var r=this.view.getData();this.facets=this.generateFacets(r)},e.prototype.render=function(){this.renderViews()},e.prototype.update=function(){},e.prototype.clear=function(){this.clearFacetViews()},e.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},e.prototype.facetToView=function(r){var t=r.region,n=r.data,i=r.padding,a=i===void 0?this.cfg.padding:i,o=this.view.createView({region:t,padding:a});o.data(n||[]),r.view=o,this.beforeEachView(o,r);var s=this.cfg.eachView;return s&&s(o,r),this.afterEachView(o,r),o},e.prototype.createContainer=function(){var r=this.view.getLayer(zr.FORE);return r.addGroup()},e.prototype.renderViews=function(){this.createFacetViews()},e.prototype.createFacetViews=function(){var r=this;return this.facets.map(function(t){return r.facetToView(t)})},e.prototype.clearFacetViews=function(){var r=this;(0,d.S6)(this.facets,function(t){t.view&&(r.view.removeView(t.view),t.view=void 0)})},e.prototype.parseSpacing=function(){var r=this.view.viewBBox,t=r.width,n=r.height,i=this.cfg.spacing;return i.map(function(a,o){return(0,d.hj)(a)?a/(o===0?t:n):parseFloat(a)/100})},e.prototype.getFieldValues=function(r,t){var n=[],i={};return(0,d.S6)(r,function(a){var o=a[t];!(0,d.UM)(o)&&!i[o]&&(n.push(o),i[o]=!0)}),n},e.prototype.getRegion=function(r,t,n,i){var a=(0,x.CR)(this.parseSpacing(),2),o=a[0],s=a[1],u=(1+o)/(t===0?1:t)-o,l=(1+s)/(r===0?1:r)-s,c={x:(u+o)*n,y:(l+s)*i},f={x:c.x+u,y:c.y+l};return{start:c,end:f}},e.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,spacing:[0,0],padding:10,fields:[]}},e.prototype.getDefaultTitleCfg=function(){var r=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:r}}},e.prototype.processAxis=function(r,t){var n=r.getOptions(),i=n.coordinate,a=r.geometries,o=(0,d.U2)(i,"type","rect");if(o==="rect"&&a.length){(0,d.UM)(n.axes)&&(n.axes={});var s=n.axes,u=(0,x.CR)(a[0].getXYFields(),2),l=u[0],c=u[1],f=t2(s,l),h=t2(s,c);f!==!1&&(n.axes[l]=this.getXAxisOption(l,s,f,t)),h!==!1&&(n.axes[c]=this.getYAxisOption(c,s,h,t))}},e.prototype.getFacetDataFilter=function(r){return function(t){return(0,d.yW)(r,function(n){var i=n.field,a=n.value;return!(0,d.UM)(a)&&i?t[i]===a:!0})}},e}(),Lh={},RL=function(e){return Lh[(0,d.vl)(e)]},c0=function(e,r){Lh[(0,d.vl)(e)]=r},DL=function(){function e(r,t){this.context=r,this.cfg=t,r.addAction(this)}return e.prototype.applyCfg=function(r){(0,d.f0)(this,r)},e.prototype.init=function(){this.applyCfg(this.cfg)},e.prototype.destroy=function(){this.context.removeAction(this),this.context=null},e}(),Vr=DL,BL=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.execute=function(){this.callback&&this.callback(this.context)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.callback=null},r}(Vr),NL=BL,e2={};function ZL(e,r){var t=e2[e],n=null;if(t){var i=t.ActionClass,a=t.cfg;n=new i(r,a),n.name=e,n.init()}return n}function r2(e){var r=e2[e];return(0,d.U2)(r,"ActionClass")}function Je(e,r,t){e2[e]={ActionClass:r,cfg:t}}function a9t(e){delete e2[e]}function zL(e,r){var t=new NL(r);return t.callback=e,t.name="callback",t}function UL(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var a=e[n];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}function T4(e,r){for(var t=[e[0]],n=1,i=e.length;n<i;n=n+2){var a=r.convert({x:e[n],y:e[n+1]});t.push(a.x,a.y)}return t}function Ih(e,r){var t=r.isTransposed,n=e[1],i=e[6],a=e[7],o=r.convert({x:i,y:a}),s=t?0:1;return["A",n,n,0,0,s,o.x,o.y]}function HL(e,r,t){var n=t.isTransposed,i=t.startAngle,a=t.endAngle,o=e[0].toLowerCase()==="a"?{x:e[6],y:e[7]}:{x:e[1],y:e[2]},s={x:r[1],y:r[2]},u=[],l=n?"y":"x",c=Math.abs(s[l]-o[l])*(a-i),f=s[l]>=o[l]?1:0,h=c>Math.PI?1:0,v=t.convert(s),p=Kl(t,v);if(p>=.5)if(c===Math.PI*2){var g={x:(s.x+o.x)/2,y:(s.y+o.y)/2},y=t.convert(g);u.push(["A",p,p,0,h,f,y.x,y.y]),u.push(["A",p,p,0,h,f,v.x,v.y])}else u.push(["A",p,p,0,h,f,v.x,v.y]);return u}function VL(e){(0,d.S6)(e,function(r,t){var n=r;if(n[0].toLowerCase()==="a"){var i=e[t-1],a=e[t+1];a&&a[0].toLowerCase()==="a"?i&&i[0].toLowerCase()==="l"&&(i[0]="M"):i&&i[0].toLowerCase()==="a"&&a&&a[0].toLowerCase()==="l"&&(a[0]="M")}})}var GL=function(e,r,t,n){var i,a=[],o=!!n,s,u,l,c,f,h,v;if(o){i=(0,x.CR)(n,2),l=i[0],c=i[1];for(var p=0,g=e.length;p<g;p++){var y=e[p];l=de.VV([0,0],l,y),c=de.Fp([0,0],c,y)}}for(var p=0,m=e.length;p<m;p++){var y=e[p];if(p===0&&!t)v=y;else if(p===m-1&&!t)h=y,a.push(v),a.push(h);else{s=e[t?p?p-1:m-1:p-1],u=e[t?(p+1)%m:p+1];var E=[0,0];E=de.lu(E,u,s),E=de.bA(E,E,r);var C=de.TE(y,s),A=de.TE(y,u),M=C+A;M!==0&&(C/=M,A/=M);var Z=de.bA([0,0],E,-C),Y=de.bA([0,0],E,A);h=de.IH([0,0],y,Z),f=de.IH([0,0],y,Y),f=de.VV([0,0],f,de.Fp([0,0],u,y)),f=de.Fp([0,0],f,de.VV([0,0],u,y)),Z=de.lu([0,0],f,y),Z=de.bA([0,0],Z,-C/A),h=de.IH([0,0],y,Z),h=de.VV([0,0],h,de.Fp([0,0],s,y)),h=de.Fp([0,0],h,de.VV([0,0],s,y)),Y=de.lu([0,0],y,h),Y=de.bA([0,0],Y,A/C),f=de.IH([0,0],y,Y),o&&(h=de.Fp([0,0],h,l),h=de.VV([0,0],h,c),f=de.Fp([0,0],f,l),f=de.VV([0,0],f,c)),a.push(v),a.push(h),v=f}}return t&&a.push(a.shift()),a};function Ph(e,r,t){for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=GL(i,.4,n,t),u=i.length,l=[],c,f,h,a=0;a<u-1;a++)c=s[a*2],f=s[a*2+1],h=i[a+1],l.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=s[u],f=s[u+1],h=i[0],l.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),l}function Ps(e,r){return UL(e,r)}function n2(e,r,t){var n=[],i=e[0],a=null;if(e.length<=2)return Ps(e,r);for(var o=0,s=e.length;o<s;o++){var u=e[o];(!a||!(a.x===u.x&&a.y===u.y))&&(n.push(u.x),n.push(u.y),a=u)}var l=t||[[0,0],[1,1]],c=Ph(n,r,l);return c.unshift(["M",i.x,i.y]),c}function jL(e,r){var t=[];return(0,d.S6)(r,function(n){var i=n[0];switch(i.toLowerCase()){case"m":case"l":case"c":t.push(T4(n,e));break;case"a":t.push(Ih(n,e));break;case"z":default:t.push(n);break}}),t}function WL(e,r){var t=[],n,i,a,o;return(0,d.S6)(r,function(s,u){var l=s[0];switch(l.toLowerCase()){case"m":case"c":case"q":t.push(T4(s,e));break;case"l":n=r[u-1],i=s,a=e.isTransposed,o=a?n[n.length-2]===i[1]:n[n.length-1]===i[2],o?t=t.concat(HL(n,i,e)):t.push(T4(s,e));break;case"a":t.push(Ih(s,e));break;case"z":default:t.push(s);break}}),VL(t),t}function Rh(e,r){var t=e.event,n=t.target;return Bh(n,r)}function Dh(e,r){var t=e.getCanvasBBox(),n=t.width,i=t.height;return n>0&&i>0&&(n>=r||i>=r)}function Bh(e,r){var t=e.getCanvasBBox();return Dh(e,r)?t:null}function Nh(e,r){var t=e.event.maskShapes;return t.map(function(n){return Bh(n,r)}).filter(function(n){return!!n})}function YL(e,r){var t=e.event,n=t.target;return Zh(n,r)}function Zh(e,r){return Dh(e,r)?e.attr("path"):null}function XL(e,r){var t=e.event.maskShapes;return t.map(function(n){return Zh(n,r)})}function Co(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}function a1(e){var r=e.event,t=r.target,n;return t&&(n=t.get("delegateObject")),n}function zh(e){var r=e.event.gEvent;return!(r&&r.fromShape&&r.toShape&&r.fromShape.get("element")===r.toShape.get("element"))}function Rs(e){return e&&e.component&&e.component.isList()}function Uh(e){return e&&e.component&&e.component.isSlider()}function Ds(e){var r=e.event,t=r.target;return t&&(t==null?void 0:t.get("name"))==="mask"||i2(e)}function i2(e){var r;return((r=e.event.target)===null||r===void 0?void 0:r.get("name"))==="multi-mask"}function w4(e,r){var t=e.event.target;if(i2(e))return $L(e,r);if(t.get("type")==="path"){var n=YL(e,r);return n?Wh(e.view,n):void 0}var i=Rh(e,r);return i?a2(e.view,i):null}function $L(e,r){var t=e.event.target;if(t.get("type")==="path"){var n=XL(e,r);return n.length>0?n.flatMap(function(a){return Wh(e.view,a)}):null}var i=Nh(e,r);return i.length>0?i.flatMap(function(a){return a2(e.view,a)}):null}function Hh(e,r,t){if(i2(e))return qL(e,r,t);var n=Rh(e,t);return n?Vh(n,e,r):null}function Vh(e,r,t){var n=r.view,i=k4(n,t,{x:e.x,y:e.y}),a=k4(n,t,{x:e.maxX,y:e.maxY}),o={minX:i.x,minY:i.y,maxX:a.x,maxY:a.y};return a2(t,o)}function qL(e,r,t){var n=Nh(e,t);return n.length>0?n.flatMap(function(i){return Vh(i,e,r)}):null}function Mn(e){var r=e.geometries,t=[];return(0,d.S6)(r,function(n){var i=n.elements;t=t.concat(i)}),e.views&&e.views.length&&(0,d.S6)(e.views,function(n){t=t.concat(Mn(n))}),t}function KL(e,r,t){var n=Mn(e);return n.filter(function(i){return na(i,r)===t})}function Gh(e,r){var t=e.geometries,n=[];return(0,d.S6)(t,function(i){var a=i.getElementsBy(function(o){return o.hasState(r)});n=n.concat(a)}),n}function na(e,r){var t=e.getModel(),n=t.data,i;return(0,d.kJ)(n)?i=n[0][r]:i=n[r],i}function QL(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function a2(e,r){var t=Mn(e),n=[];return(0,d.S6)(t,function(i){var a=i.shape,o=a.getCanvasBBox();QL(r,o)&&n.push(i)}),n}function jh(e){var r=[];return(0,d.S6)(e,function(t){var n=t[0];if(n!=="A")for(var i=1;i<t.length;i=i+2)r.push([t[i],t[i+1]]);else{var a=t.length;r.push([t[a-2],t[a-1]])}}),r}function Wh(e,r){var t=Mn(e),n=jh(r),i=t.filter(function(a){var o=a.shape,s;if(o.get("type")==="path")s=jh(o.attr("path"));else{var u=o.getCanvasBBox();s=bL(u)}return(0,a0.Wq)(n,s)});return i}function Yh(e){return e.getComponents().map(function(r){return r.component})}function F4(e,r){var t=r.x-e.x,n=r.y-e.y;return Math.sqrt(t*t+n*n)}function JL(e,r){if(e.length<=2)return Ps(e,!1);var t=e[0],n=[];(0,d.S6)(e,function(a){n.push(a.x),n.push(a.y)});var i=Ph(n,r,null);return i.unshift(["M",t.x,t.y]),i}function Xh(e,r){return e.x<=r.x&&e.maxX>=r.x&&e.y<=r.y&&e.maxY>r.y}function Ca(e){var r=e.parent,t=null;return r&&(t=r.views.filter(function(n){return n!==e})),t}function tI(e,r){var t=e.getCoordinate();return t.invert(r)}function k4(e,r,t){var n=tI(e,t);return r.getCoordinate().convert(n)}function $h(e,r,t,n){var i=!1;return(0,d.S6)(e,function(a){if(a[t]===r[t]&&a[n]===r[n])return i=!0,!1}),i}function f0(e,r){var t=e.getScaleByField(r);return!t&&e.views&&(0,d.S6)(e.views,function(n){if(t=f0(n,r),t)return!1}),t}var eI=function(){function e(r){this.actions=[],this.event=null,this.cacheMap={},this.view=r}return e.prototype.cache=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(r.length===1)return this.cacheMap[r[0]];r.length===2&&(this.cacheMap[r[0]]=r[1])},e.prototype.getAction=function(r){return this.actions.find(function(t){return t.name===r})},e.prototype.addAction=function(r){this.actions.push(r)},e.prototype.removeAction=function(r){var t=this.actions,n=this.actions.indexOf(r);n>=0&&t.splice(n,1)},e.prototype.getCurrentPoint=function(){var r=this.event;if(r)if(r.target instanceof HTMLElement){var t=this.view.getCanvas(),n=t.getPointByClient(r.clientX,r.clientY);return n}else return{x:r.x,y:r.y};return null},e.prototype.getCurrentShape=function(){return(0,d.U2)(this.event,["gEvent","shape"])},e.prototype.isInPlot=function(){var r=this.getCurrentPoint();return r?this.view.isPointInPlot(r):!1},e.prototype.isInShape=function(r){var t=this.getCurrentShape();return t?t.get("name")===r:!1},e.prototype.isInComponent=function(r){var t=Yh(this.view),n=this.getCurrentPoint();return n?!!t.find(function(i){var a=i.getBBox();return r?i.get("name")===r&&Xh(a,n):Xh(a,n)}):!1},e.prototype.destroy=function(){(0,d.S6)(this.actions.slice(),function(r){r.destroy()}),this.view=null,this.event=null,this.actions=null,this.cacheMap=null},e}(),rI=eI,nI=function(){function e(r,t){this.view=r,this.cfg=t}return e.prototype.init=function(){this.initEvents()},e.prototype.initEvents=function(){},e.prototype.clearEvents=function(){},e.prototype.destroy=function(){this.clearEvents()},e}(),iI=nI;function qh(e,r,t){var n=e.split(":"),i=n[0],a=r.getAction(i)||ZL(i,r);if(!a)throw new Error("There is no action named ".concat(i));var o=n[1];return{action:a,methodName:o,arg:t}}function Kh(e){var r=e.action,t=e.methodName,n=e.arg;if(r[t])r[t](n);else throw new Error("Action(".concat(r.name,") doesn't have a method called ").concat(t))}var di={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},aI=function(e){(0,x.ZT)(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.callbackCaches={},i.emitCaches={},i.steps=n,i}return r.prototype.init=function(){this.initContext(),e.prototype.init.call(this)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},r.prototype.initEvents=function(){var t=this;(0,d.S6)(this.steps,function(n,i){(0,d.S6)(n,function(a){var o=t.getActionCallback(i,a);o&&t.bindEvent(a.trigger,o)})})},r.prototype.clearEvents=function(){var t=this;(0,d.S6)(this.steps,function(n,i){(0,d.S6)(n,function(a){var o=t.getActionCallback(i,a);o&&t.offEvent(a.trigger,o)})})},r.prototype.initContext=function(){var t=this.view,n=new rI(t);this.context=n;var i=this.steps;(0,d.S6)(i,function(a){(0,d.S6)(a,function(o){if((0,d.mf)(o.action))o.actionObject={action:zL(o.action,n),methodName:"execute"};else if((0,d.HD)(o.action))o.actionObject=qh(o.action,n,o.arg);else if((0,d.kJ)(o.action)){var s=o.action,u=(0,d.kJ)(o.arg)?o.arg:[o.arg];o.actionObject=[],(0,d.S6)(s,function(l,c){o.actionObject.push(qh(l,n,u[c]))})}})})},r.prototype.isAllowStep=function(t){var n=this.currentStepName,i=this.steps;if(n===t||t===di.SHOW_ENABLE)return!0;if(t===di.PROCESSING)return n===di.START;if(t===di.START)return n!==di.PROCESSING;if(t===di.END)return n===di.PROCESSING||n===di.START;if(t===di.ROLLBACK){if(i[di.END])return n===di.END;if(n===di.START)return!0}return!1},r.prototype.isAllowExecute=function(t,n){if(this.isAllowStep(t)){var i=this.getKey(t,n);return n.once&&this.emitCaches[i]?!1:n.isEnable?n.isEnable(this.context):!0}return!1},r.prototype.enterStep=function(t){this.currentStepName=t,this.emitCaches={}},r.prototype.afterExecute=function(t,n){t!==di.SHOW_ENABLE&&this.currentStepName!==t&&this.enterStep(t);var i=this.getKey(t,n);this.emitCaches[i]=!0},r.prototype.getKey=function(t,n){return t+n.trigger+n.action},r.prototype.getActionCallback=function(t,n){var i=this,a=this.context,o=this.callbackCaches,s=n.actionObject;if(n.action&&s){var u=this.getKey(t,n);if(!o[u]){var l=function(c){a.event=c,i.isAllowExecute(t,n)?((0,d.kJ)(s)?(0,d.S6)(s,function(f){a.event=c,Kh(f)}):(a.event=c,Kh(s)),i.afterExecute(t,n),n.callback&&(a.event=c,n.callback(a))):a.event=null};n.debounce?o[u]=(0,d.Ds)(l,n.debounce.wait,n.debounce.immediate):n.throttle?o[u]=(0,d.P2)(l,n.throttle.wait,{leading:n.throttle.leading,trailing:n.throttle.trailing}):o[u]=l}return o[u]}return null},r.prototype.bindEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.addEventListener(i[1],n):i[0]==="document"?document.addEventListener(i[1],n):this.view.on(t,n)},r.prototype.offEvent=function(t,n){var i=t.split(":");i[0]==="window"?window.removeEventListener(i[1],n):i[0]==="document"?document.removeEventListener(i[1],n):this.view.off(t,n)},r}(iI),oI=aI,Qh={};function sI(e){return Qh[(0,d.vl)(e)]}function lr(e,r){Qh[(0,d.vl)(e)]=r}function uI(e,r,t){var n=sI(e);if(!n)return null;if((0,d.PO)(n)){var i=(0,d.CD)((0,d.d9)(n),t);return new oI(r,i)}else{var a=n;return new a(r,t)}}function lI(e){return{title:{autoRotate:!0,position:"center",spacing:e.axisTitleSpacing,style:{fill:e.axisTitleTextFillColor,fontSize:e.axisTitleTextFontSize,lineHeight:e.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily},iconStyle:{fill:e.axisDescriptionIconFillColor}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:e.axisLabelOffset,style:{fill:e.axisLabelFillColor,fontSize:e.axisLabelFontSize,lineHeight:e.axisLabelLineHeight,fontFamily:e.fontFamily}},line:{style:{lineWidth:e.axisLineBorder,stroke:e.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:e.axisGridBorderColor,lineWidth:e.axisGridBorder,lineDash:e.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:e.axisTickLineBorder,stroke:e.axisTickLineBorderColor},alignTick:!0,length:e.axisTickLineLength},subTickLine:null,animate:!0}}function cI(e){return{title:null,marker:{symbol:"circle",spacing:e.legendMarkerSpacing,style:{r:e.legendCircleMarkerSize,fill:e.legendMarkerColor}},itemName:{spacing:5,style:{fill:e.legendItemNameFillColor,fontFamily:e.fontFamily,fontSize:e.legendItemNameFontSize,lineHeight:e.legendItemNameLineHeight,fontWeight:e.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:e.legendPageNavigatorMarkerSize,inactiveFill:e.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:e.legendPageNavigatorMarkerInactiveFillOpacity,fill:e.legendPageNavigatorMarkerFillColor,opacity:e.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:e.legendPageNavigatorTextFillColor,fontSize:e.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:e.legendItemSpacing,itemMarginBottom:e.legendItemMarginBottom,padding:e.legendPadding}}function Jh(e){var r,t={point:{default:{fill:e.pointFillColor,r:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{stroke:e.pointActiveBorderColor,lineWidth:e.pointActiveBorder},selected:{stroke:e.pointSelectedBorderColor,lineWidth:e.pointSelectedBorder},inactive:{fillOpacity:e.pointInactiveFillOpacity,strokeOpacity:e.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:e.hollowPointFillColor,lineWidth:e.hollowPointBorder,stroke:e.hollowPointBorderColor,strokeOpacity:e.hollowPointBorderOpacity,r:e.hollowPointSize},active:{stroke:e.hollowPointActiveBorderColor,strokeOpacity:e.hollowPointActiveBorderOpacity},selected:{lineWidth:e.hollowPointSelectedBorder,stroke:e.hollowPointSelectedBorderColor,strokeOpacity:e.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:e.hollowPointInactiveBorderOpacity}},area:{default:{fill:e.areaFillColor,fillOpacity:e.areaFillOpacity,stroke:null},active:{fillOpacity:e.areaActiveFillOpacity},selected:{fillOpacity:e.areaSelectedFillOpacity},inactive:{fillOpacity:e.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:e.hollowAreaBorderColor,lineWidth:e.hollowAreaBorder,strokeOpacity:e.hollowAreaBorderOpacity},active:{fill:null,lineWidth:e.hollowAreaActiveBorder},selected:{fill:null,lineWidth:e.hollowAreaSelectedBorder},inactive:{strokeOpacity:e.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:e.intervalFillColor,fillOpacity:e.intervalFillOpacity},active:{stroke:e.intervalActiveBorderColor,lineWidth:e.intervalActiveBorder},selected:{stroke:e.intervalSelectedBorderColor,lineWidth:e.intervalSelectedBorder},inactive:{fillOpacity:e.intervalInactiveFillOpacity,strokeOpacity:e.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:e.hollowIntervalFillColor,stroke:e.hollowIntervalBorderColor,lineWidth:e.hollowIntervalBorder,strokeOpacity:e.hollowIntervalBorderOpacity},active:{stroke:e.hollowIntervalActiveBorderColor,lineWidth:e.hollowIntervalActiveBorder,strokeOpacity:e.hollowIntervalActiveBorderOpacity},selected:{stroke:e.hollowIntervalSelectedBorderColor,lineWidth:e.hollowIntervalSelectedBorder,strokeOpacity:e.hollowIntervalSelectedBorderOpacity},inactive:{stroke:e.hollowIntervalInactiveBorderColor,lineWidth:e.hollowIntervalInactiveBorder,strokeOpacity:e.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:e.lineBorderColor,lineWidth:e.lineBorder,strokeOpacity:e.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:e.lineActiveBorder},selected:{lineWidth:e.lineSelectedBorder},inactive:{strokeOpacity:e.lineInactiveBorderOpacity}}},n=lI(e),i=cI(e);return{background:e.backgroundColor,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,padding:"auto",fontFamily:e.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:function(a){var o=a.geometry.coordinate;if(o.isPolar&&o.isTransposed){var s=Os(a.getModel(),o),u=s.startAngle,l=s.endAngle,c=(u+l)/2,f=7.5,h=f*Math.cos(c),v=f*Math.sin(c);return{matrix:Ur.vs(null,[["t",h,v]])}}return t.interval.selected}}},"hollow-rect":{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},line:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},tick:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},funnel:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}},pyramid:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},line:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},dot:{default:{style:(0,x.pi)((0,x.pi)({},t.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:(0,x.pi)((0,x.pi)({},t.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:(0,x.pi)((0,x.pi)({},t.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:(0,x.pi)((0,x.pi)({},t.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:(0,x.pi)((0,x.pi)({},t.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:(0,x.pi)((0,x.pi)({},t.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:(0,x.pi)((0,x.pi)({},t.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:(0,x.pi)((0,x.pi)({},t.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hvh:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},polygon:{polygon:{default:{style:t.interval.default},active:{style:t.interval.active},inactive:{style:t.interval.inactive},selected:{style:t.interval.selected}}},point:{circle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},square:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},bowtie:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},diamond:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},hexagon:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},triangle:{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"triangle-down":{default:{style:t.point.default},active:{style:t.point.active},inactive:{style:t.point.inactive},selected:{style:t.point.selected}},"hollow-circle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-square":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-bowtie":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-diamond":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-hexagon":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},"hollow-triangle-down":{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},cross:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},tick:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},plus:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},hyphen:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}},line:{default:{style:t.hollowPoint.default},active:{style:t.hollowPoint.active},inactive:{style:t.hollowPoint.inactive},selected:{style:t.hollowPoint.selected}}},area:{area:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},smooth:{default:{style:t.area.default},active:{style:t.area.active},inactive:{style:t.area.inactive},selected:{style:t.area.selected}},line:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"smooth-line":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}},schema:{candle:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}},box:{default:{style:t.hollowInterval.default},active:{style:t.hollowInterval.active},inactive:{style:t.hollowInterval.inactive},selected:{style:t.hollowInterval.selected}}},edge:{line:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},vhv:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},arc:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}}},violin:{violin:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},smooth:{default:{style:t.line.default},active:{style:t.line.active},inactive:{style:t.line.inactive},selected:{style:t.line.selected}},hollow:{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}},"hollow-smooth":{default:{style:t.hollowArea.default},active:{style:t.hollowArea.active},inactive:{style:t.hollowArea.inactive},selected:{style:t.hollowArea.selected}}}},components:{axis:{common:n,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:(0,d.b$)({},n.grid,{line:{type:"line"}})},radius:{title:null,grid:(0,d.b$)({},n.grid,{line:{type:"circle"}})}},legend:{common:i,right:{layout:"vertical",padding:e.legendVerticalPadding},left:{layout:"vertical",padding:e.legendVerticalPadding},top:{layout:"horizontal",padding:e.legendHorizontalPadding},bottom:{layout:"horizontal",padding:e.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:e.sliderRailHeight,defaultLength:e.sliderRailWidth,style:{fill:e.sliderRailFillColor,stroke:e.sliderRailBorderColor,lineWidth:e.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:e.sliderLabelTextFillColor,fontSize:e.sliderLabelTextFontSize,lineHeight:e.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:e.fontFamily}},handler:{size:e.sliderHandlerWidth,style:{fill:e.sliderHandlerFillColor,stroke:e.sliderHandlerBorderColor}},slidable:!0,padding:i.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:e.tooltipCrosshairsBorderColor,lineWidth:e.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(r={},r["".concat(Ua)]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:e.tooltipContainerFillColor,opacity:e.tooltipContainerFillOpacity,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:"".concat(e.tooltipTextLineHeight,"px"),padding:"0 12px 0 12px"},r["".concat(Ha)]={marginBottom:"12px",marginTop:"12px"},r["".concat(ks)]={margin:0,listStyleType:"none",padding:0},r["".concat(Wl)]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},r["".concat(Yl)]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},r["".concat(Xl)]={display:"inline-block",float:"right",marginLeft:"30px"},r)},annotation:{arc:{style:{stroke:e.annotationArcBorderColor,lineWidth:e.annotationArcBorder},animate:!0},line:{style:{stroke:e.annotationLineBorderColor,lineDash:e.annotationLineDash,lineWidth:e.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textAlign:"start",fontFamily:e.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:e.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:e.annotationRegionBorder,stroke:e.annotationRegionBorderColor,fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:e.brandColor,lineWidth:2}},line:{style:{stroke:e.annotationLineBorderColor,lineWidth:e.annotationLineBorder},length:e.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:e.annotationRegionFillColor,fillOpacity:e.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:e.annotationTextFillColor,stroke:e.annotationTextBorderColor,lineWidth:e.annotationTextBorder,fontSize:e.annotationTextFontSize,fontFamily:e.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:e.cSliderBackgroundFillColor,opacity:e.cSliderBackgroundFillOpacity},foregroundStyle:{fill:e.cSliderForegroundFillColor,opacity:e.cSliderForegroundFillOpacity},handlerStyle:{width:e.cSliderHandlerWidth,height:e.cSliderHandlerHeight,fill:e.cSliderHandlerFillColor,opacity:e.cSliderHandlerFillOpacity,stroke:e.cSliderHandlerBorderColor,lineWidth:e.cSliderHandlerBorder,radius:e.cSliderHandlerBorderRadius,highLightFill:e.cSliderHandlerHighlightFillColor},textStyle:{fill:e.cSliderTextFillColor,opacity:e.cSliderTextFillOpacity,fontSize:e.cSliderTextFontSize,lineHeight:e.cSliderTextLineHeight,fontWeight:e.cSliderTextFontWeight,stroke:e.cSliderTextBorderColor,lineWidth:e.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:e.scrollbarTrackFillColor,thumbColor:e.scrollbarThumbFillColor}},hover:{style:{thumbColor:e.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,stroke:e.labelBorderColor,lineWidth:e.labelBorder},fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:e.innerLabelFillColor,fontSize:e.innerLabelFontSize,fontFamily:e.fontFamily,stroke:e.innerLabelBorderColor,lineWidth:e.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:e.overflowLabelFillColor,fontSize:e.overflowLabelFontSize,fontFamily:e.fontFamily,stroke:e.overflowLabelBorderColor,lineWidth:e.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:e.labelLineBorder}},autoRotate:!0}}}var Ir={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},h0={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},fI=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],hI=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],vI=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],tv=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?fI:r,n=e.paletteQualitative20,i=n===void 0?hI:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"transparent",brandColor:o,subColor:"rgba(0,0,0,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:vI,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Ir[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ir[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:h0[85],axisTickLineBorderColor:Ir[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ir[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ir[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ir[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ir[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:o,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ir[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ir[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ir[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ir[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ir[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ir[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Ir[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Ir[25],annotationArcBorderColor:Ir[15],annotationArcBorder:1,annotationLineBorderColor:Ir[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ir[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ir[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ir[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ir[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ir[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:h0[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ir[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:h0[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ir[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:o,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:h0[100],pointBorderOpacity:1,pointActiveBorderColor:Ir[100],pointSelectedBorder:2,pointSelectedBorderColor:Ir[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:o,hollowPointBorderOpacity:.95,hollowPointFillColor:h0[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ir[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ir[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:o,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:o,areaFillOpacity:.25,areaActiveFillColor:o,areaActiveFillOpacity:.5,areaSelectedFillColor:o,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:o,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ir[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ir[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:o,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ir[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ir[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:o,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:h0[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ir[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ir[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,x.pi)((0,x.pi)({},s),e)},o9t=tv();function o2(e){var r=e.styleSheet,t=r===void 0?{}:r,n=(0,x._T)(e,["styleSheet"]),i=tv(t);return(0,d.b$)({},Jh(i),n)}var pI=o2({}),O4={default:pI};function Bs(e){return(0,d.U2)(O4,(0,d.vl)(e),O4.default)}function dI(e,r){O4[(0,d.vl)(e)]=o2(r)}function ev(e,r,t){var n=t.translate(e),i=t.translate(r);return(0,d.vQ)(n,i)}function gI(e,r){var t=r.coordinate,n=r.getXScale(),i=n.range,a=i[i.length-1],o=i[0],s=t.invert(e),u=s.x;return t.isPolar&&u>(1+a)/2&&(u=o),n.translate(n.invert(u))}function rv(e,r,t){var n=t.coordinate,i=t.getYScale(),a=i.field,o=n.invert(r),s=i.invert(o.y),u=(0,d.sE)(e,function(l){var c=l[at];return c[a][0]<=s&&c[a][1]>=s});return u||e[e.length-1]}var yI=(0,d.HP)(function(e){if(e.isCategory)return 1;for(var r=e.values,t=r.length,n=e.translate(r[0]),i=n,a=0;a<t;a++){var o=r[a],s=e.translate(o);s<n&&(n=s),s>i&&(i=s)}return(i-n)/(t-1)});function mI(e,r,t){var n=r.getAttribute("position"),i=n.getFields(),a=r.scales,o=(0,d.mf)(t)||!t?i[0]:t,s=a[o],u=s?s.getText(e[o]):e[o]||o;return(0,d.mf)(t)?t(u,e):u}function xI(e){var r=(0,d.VO)(e.attributes);return(0,d.hX)(r,function(t){return(0,d.FX)(Xt,t.type)})}function nv(e){var r,t,n=xI(e),i;try{for(var a=(0,x.XA)(n),o=a.next();!o.done;o=a.next()){var s=o.value,u=s.getScale(s.type);if(u&&u.isLinear){var l=(0,d.U2)(e.scaleDefs,u.field),c=Ah(u,l,s.type,e.type);if(c!=="cat"){i=u;break}}}}catch(v){r={error:v}}finally{try{o&&!o.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}var f=e.getXScale(),h=e.getYScale();return i||h||f}function _I(e,r){var t=r.field,n=e[t];if((0,d.kJ)(n)){var i=n.map(function(a){return r.getText(a)});return i.join("-")}return r.getText(n)}function EI(e,r){var t,n=r.getGroupScales();if(n.length&&(t=n[0]),t){var i=t.field;return t.getText(e[i])}var a=nv(r);return Is(a)}function iv(e,r,t){if(r.length===0)return null;var n=t.type,i=t.getXScale(),a=t.getYScale(),o=i.field,s=a.field,u=null;if(n==="heatmap"||n==="point"){for(var l=t.coordinate,c=l.invert(e),f=i.invert(c.x),h=a.invert(c.y),v=1/0,p=0;p<r.length;p++){var g=r[p],y=g[at],m=Math.pow(y[o]-f,2)+Math.pow(y[s]-h,2);m<v&&(v=m,u=g)}return u}var E=r[0],C=r[r.length-1],A=gI(e,t),M=E[at][o],Z=E[at][s],Y=C[at][o],st=a.isLinear&&(0,d.kJ)(Z);if((0,d.kJ)(M)){for(var p=0;p<r.length;p++){var Ct=r[p],y=Ct[at];if(i.translate(y[o][0])<=A&&i.translate(y[o][1])>=A)if(st)(0,d.kJ)(u)||(u=[]),u.push(Ct);else{u=Ct;break}}(0,d.kJ)(u)&&(u=rv(u,e,t))}else{var Pt=void 0;if(!i.isLinear&&i.type!=="timeCat"){for(var p=0;p<r.length;p++){var Ct=r[p],y=Ct[at];if(ev(y[o],A,i))if(st)(0,d.kJ)(u)||(u=[]),u.push(Ct);else{u=Ct;break}else i.translate(y[o])<=A&&(C=Ct,Pt=r[p+1])}(0,d.kJ)(u)&&(u=rv(u,e,t))}else{if((A>i.translate(Y)||A<i.translate(M))&&(A>i.max||A<i.min))return null;for(var Zt=0,ie=r.length-1,ce=void 0;Zt<=ie;){ce=Math.floor((Zt+ie)/2);var _e=r[ce][at][o];if(ev(_e,A,i))return r[ce];i.translate(_e)<=i.translate(A)?(Zt=ce+1,C=r[ce],Pt=r[ce+1]):(ie===0&&(C=r[0]),ie=ce-1)}}C&&Pt&&Math.abs(i.translate(C[at][o])-A)>Math.abs(i.translate(Pt[at][o])-A)&&(C=Pt)}var Re=yI(t.getXScale());return!u&&Math.abs(i.translate(C[at][o])-A)<=Re/2&&(u=C),u}function L4(e,r,t,n){var i,a;t===void 0&&(t=""),n===void 0&&(n=!1);var o=e[at],s=mI(o,r,t),u=r.tooltipOption,l=r.theme.defaultColor,c=[],f,h;function v(Ct,Pt){if(n||!(0,d.UM)(Pt)&&Pt!==""){var Zt={title:s,data:o,mappingData:e,name:Ct,value:Pt,color:e.color||l,marker:!0};c.push(Zt)}}if((0,d.Kn)(u)){var p=u.fields,g=u.callback;if(g){var y=p.map(function(Ct){return e[at][Ct]}),m=g.apply(void 0,(0,x.ev)([],(0,x.CR)(y),!1)),E=(0,x.pi)({data:e[at],mappingData:e,title:s,color:e.color||l,marker:!0},m);c.push(E)}else{var C=r.scales;try{for(var A=(0,x.XA)(p),M=A.next();!M.done;M=A.next()){var Z=M.value;if(!(0,d.UM)(o[Z])){var Y=C[Z];f=Is(Y),h=Y.getText(o[Z]),v(f,h)}}}catch(Ct){i={error:Ct}}finally{try{M&&!M.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}}}else{var st=nv(r);h=_I(o,st),f=EI(o,r),v(f,h)}return c}function av(e,r,t,n){var i,a,o=n.showNil,s=[],u=e.dataArray;if(!(0,d.xb)(u)){e.sort(u);try{for(var l=(0,x.XA)(u),c=l.next();!c.done;c=l.next()){var f=c.value,h=iv(r,f,e);if(h){var v=e.getElementId(h),p=e.elementsMap[v];if(e.type==="heatmap"||p.visible){var g=L4(h,e,t,o);g.length&&s.push(g)}}}}catch(y){i={error:y}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}}return s}function ov(e,r,t,n){var i=n.showNil,a=[],o=e.container,s=o.getShape(r.x,r.y);if(s&&s.get("visible")&&s.get("origin")){var u=s.get("origin").mappingData,l=L4(u,e,t,i);l.length&&a.push(l)}return a}function I4(e,r,t){var n,i,a=[],o=e.geometries,s=t.shared,u=t.title,l=t.reversed;try{for(var c=(0,x.XA)(o),f=c.next();!f.done;f=c.next()){var h=f.value;if(h.visible&&h.tooltipOption!==!1){var v=h.type,p=void 0;["point","edge","polygon"].includes(v)?p=ov(h,r,u,t):["area","line","path","heatmap"].includes(v)||s!==!1?p=av(h,r,u,t):p=ov(h,r,u,t),p.length&&(l&&p.reverse(),a.push(p))}}}catch(g){n={error:g}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return a}function CI(e,r,t){var n,i,a=I4(e,r,t);try{for(var o=(0,x.XA)(e.views),s=o.next();!s.done;s=o.next()){var u=s.value;a=a.concat(I4(u,r,t))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return a}function SI(e){return!(0,d.hj)(e)&&!(0,d.kJ)(e)}function P4(e){e===void 0&&(e=0);var r=(0,d.kJ)(e)?e:[e];switch(r.length){case 0:r=[0,0,0,0];break;case 1:r=new Array(4).fill(r[0]);break;case 2:r=(0,x.ev)((0,x.ev)([],(0,x.CR)(r),!1),(0,x.CR)(r),!1);break;case 3:r=(0,x.ev)((0,x.ev)([],(0,x.CR)(r),!1),[r[1]],!1);break;default:r=r.slice(0,4);break}return r}var s2={};function o1(e,r){s2[e]=r}function s9t(e){delete s2[e]}function bI(){return Object.keys(s2)}function AI(e){return s2[e]}var MI=function(){function e(r){this.option=this.wrapperOption(r)}return e.prototype.update=function(r){return this.option=this.wrapperOption(r),this},e.prototype.hasAction=function(r){var t=this.option.actions;return(0,d.G)(t,function(n){return n[0]===r})},e.prototype.create=function(r,t){var n=this.option,i=n.type,a=n.cfg,o=i==="theta",s=(0,x.pi)({start:r,end:t},a),u=xk(o?"polar":i);return this.coordinate=new u(s),this.coordinate.type=i,o&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},e.prototype.adjust=function(r,t){return this.coordinate.update({start:r,end:t}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},e.prototype.rotate=function(r){return this.option.actions.push(["rotate",r]),this},e.prototype.reflect=function(r){return this.option.actions.push(["reflect",r]),this},e.prototype.scale=function(r,t){return this.option.actions.push(["scale",r,t]),this},e.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},e.prototype.getOption=function(){return this.option},e.prototype.getCoordinate=function(){return this.coordinate},e.prototype.wrapperOption=function(r){return(0,x.pi)({type:"rect",actions:[],cfg:{}},r)},e.prototype.execActions=function(r){var t=this,n=this.option.actions;(0,d.S6)(n,function(i){var a,o=(0,x.CR)(i),s=o[0],u=o.slice(1),l=(0,d.UM)(r)?!0:r.includes(s);l&&(a=t.coordinate)[s].apply(a,(0,x.ev)([],(0,x.CR)(u),!1))})},e}(),TI=MI,wI=function(){function e(r,t,n){this.view=r,this.gEvent=t,this.data=n,this.type=t.type}return e.fromData=function(r,t,n){return new e(r,new re.Event(t,{}),n)},Object.defineProperty(e.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[Event (type=".concat(this.type,")]")},e.prototype.clone=function(){return new e(this.view,this.gEvent,this.data)},e}(),qr=wI;function FI(e){var r=e.getController("axis"),t=e.getController("legend"),n=e.getController("annotation"),i=e.getController("slider"),a=e.getController("scrollbar");[r,i,a,t,n].forEach(function(o){o&&o.layout()})}var kI=function(){function e(){this.scales=new Map,this.syncScales=new Map}return e.prototype.createScale=function(r,t,n,i){var a=n,o=this.getScaleMeta(i);if(t.length===0&&o){var s=o.scale,u={type:s.type};s.isCategory&&(u.values=s.values),a=(0,d.b$)(u,o.scaleDef,n)}var l=kL(r,t,a);return this.cacheScale(l,n,i),l},e.prototype.sync=function(r,t){var n=this;this.syncScales.forEach(function(i,a){var o=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,u=[];(0,d.S6)(i,function(l){var c=n.getScale(l);s=(0,d.hj)(c.max)?Math.max(s,c.max):s,o=(0,d.hj)(c.min)?Math.min(o,c.min):o,(0,d.S6)(c.values,function(f){u.includes(f)||u.push(f)})}),(0,d.S6)(i,function(l){var c=n.getScale(l);if(c.isContinuous)c.change({min:o,max:s,values:u});else if(c.isCategory){var f=c.range,h=n.getScaleMeta(l);u&&!(0,d.U2)(h,["scaleDef","range"])&&(f=Mh((0,d.b$)({},c,{values:u}),r,t)),c.change({values:u,range:f})}})})},e.prototype.cacheScale=function(r,t,n){var i=this.getScaleMeta(n);i&&i.scale.type===r.type?(OL(i.scale,r),i.scaleDef=t):(i={key:n,scale:r,scaleDef:t},this.scales.set(n,i));var a=this.getSyncKey(i);if(i.syncKey=a,this.removeFromSyncScales(n),a){var o=this.syncScales.get(a);o||(o=[],this.syncScales.set(a,o)),o.push(n)}},e.prototype.getScale=function(r){var t=this.getScaleMeta(r);if(!t){var n=(0,d.Z$)(r.split("-")),i=this.syncScales.get(n);i&&i.length&&(t=this.getScaleMeta(i[0]))}return t&&t.scale},e.prototype.deleteScale=function(r){var t=this.getScaleMeta(r);if(t){var n=t.syncKey,i=this.syncScales.get(n);if(i&&i.length){var a=i.indexOf(r);a!==-1&&i.splice(a,1)}}this.scales.delete(r)},e.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},e.prototype.removeFromSyncScales=function(r){var t=this;this.syncScales.forEach(function(n,i){var a=n.indexOf(r);if(a!==-1)return n.splice(a,1),n.length===0&&t.syncScales.delete(i),!1})},e.prototype.getSyncKey=function(r){var t=r.scale,n=r.scaleDef,i=t.field,a=(0,d.U2)(n,["sync"]);return a===!0?i:a===!1?void 0:a},e.prototype.getScaleMeta=function(r){return this.scales.get(r)},e}(),u2=function(){function e(r,t,n,i){r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),this.top=r,this.right=t,this.bottom=n,this.left=i}return e.instance=function(r,t,n,i){return r===void 0&&(r=0),t===void 0&&(t=0),n===void 0&&(n=0),i===void 0&&(i=0),new e(r,t,n,i)},e.prototype.max=function(r){var t=(0,x.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top=Math.max(this.top,n),this.right=Math.max(this.right,i),this.bottom=Math.max(this.bottom,a),this.left=Math.max(this.left,o),this},e.prototype.shrink=function(r){var t=(0,x.CR)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return this.top+=n,this.right+=i,this.bottom+=a,this.left+=o,this},e.prototype.inc=function(r,t){var n=r.width,i=r.height;switch(t){case Pe.TOP:case Pe.TOP_LEFT:case Pe.TOP_RIGHT:this.top+=i;break;case Pe.RIGHT:case Pe.RIGHT_TOP:case Pe.RIGHT_BOTTOM:this.right+=n;break;case Pe.BOTTOM:case Pe.BOTTOM_LEFT:case Pe.BOTTOM_RIGHT:this.bottom+=i;break;case Pe.LEFT:case Pe.LEFT_TOP:case Pe.LEFT_BOTTOM:this.left+=n;break;default:break}return this},e.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},e.prototype.clone=function(){return new(e.bind.apply(e,(0,x.ev)([void 0],(0,x.CR)(this.getPadding()),!1)))},e}();function OI(e){var r=e.padding;if(!SI(r))return new(u2.bind.apply(u2,(0,x.ev)([void 0],(0,x.CR)(P4(r)),!1)));var t=e.viewBBox,n=new u2,i=[],a=[],o=[];return(0,d.S6)(e.getComponents(),function(s){var u=s.type;u===Kr.AXIS?i.push(s):[Kr.LEGEND,Kr.SLIDER,Kr.SCROLLBAR].includes(u)?a.push(s):u!==Kr.GRID&&u!==Kr.TOOLTIP&&o.push(s)}),(0,d.S6)(i,function(s){var u=s.component,l=u.getLayoutBBox(),c=new Un(l.x,l.y,l.width,l.height),f=c.exceed(t);n.max(f)}),(0,d.S6)(a,function(s){var u=s.component,l=s.direction,c=u.getLayoutBBox(),f=u.get("padding"),h=new Un(c.x,c.y,c.width,c.height).expand(f);n.inc(h,l)}),(0,d.S6)(o,function(s){var u=s.component,l=s.direction,c=u.getLayoutBBox(),f=new Un(c.x,c.y,c.width,c.height);n.inc(f,l)}),n}function LI(e,r,t){var n=t.instance();r.forEach(function(i){i.autoPadding=n.max(i.autoPadding.getPadding())})}var sv=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,{visible:t.visible})||this;n.views=[],n.geometries=[],n.controllers=[],n.interactions={},n.limitInPlot=!1,n.options={data:[],animate:!0},n.usedControllers=bI(),n.scalePool=new kI,n.layoutFunc=FI,n.isPreMouseInPlot=!1,n.isDataChanged=!1,n.isCoordinateChanged=!1,n.createdScaleKeys=new Map,n.onCanvasEvent=function(C){var A=C.name;if(!A.includes(":")){var M=n.createViewEvent(C);n.doPlotEvent(M),n.emit(A,M)}},n.onDelegateEvents=function(C){var A=C.name;if(A.includes(":")){var M=n.createViewEvent(C);n.emit(A,M)}};var i=t.id,a=i===void 0?(0,d.EL)("view"):i,o=t.parent,s=t.canvas,u=t.backgroundGroup,l=t.middleGroup,c=t.foregroundGroup,f=t.region,h=f===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:f,v=t.padding,p=t.appendPadding,g=t.theme,y=t.options,m=t.limitInPlot,E=t.syncViewPadding;return n.parent=o,n.canvas=s,n.backgroundGroup=u,n.middleGroup=l,n.foregroundGroup=c,n.region=h,n.padding=v,n.appendPadding=p,n.options=(0,x.pi)((0,x.pi)({},n.options),y),n.limitInPlot=m,n.id=a,n.syncViewPadding=E,n.themeObject=(0,d.Kn)(g)?(0,d.b$)({},Bs("default"),o2(g)):Bs(g),n.init(),n}return r.prototype.setLayout=function(t){this.layoutFunc=t},r.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},r.prototype.render=function(t,n){t===void 0&&(t=!1),this.emit(rr.BEFORE_RENDER,qr.fromData(this,rr.BEFORE_RENDER,n)),this.paint(t),this.emit(rr.AFTER_RENDER,qr.fromData(this,rr.AFTER_RENDER,n)),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this;this.emit(rr.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var n=this.geometries,i=0;i<n.length;i++)n[i].clear(),n[i].container.remove(!0),n[i].labelsContainer.remove(!0);this.geometries=[];for(var a=this.controllers,i=0;i<a.length;i++)a[i].name==="annotation"?a[i].clear(!0):a[i].clear();this.createdScaleKeys.forEach(function(s,u){t.getRootView().scalePool.deleteScale(u)}),this.createdScaleKeys.clear();for(var o=this.views,i=0;i<o.length;i++)o[i].clear();this.emit(rr.AFTER_CLEAR)},r.prototype.destroy=function(){this.emit(rr.BEFORE_DESTROY);var t=this.interactions;(0,d.S6)(t,function(s){s&&s.destroy()}),this.clear();for(var n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];o.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.geometries,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}for(var s=this.controllers,i=0,a=s.length;i<a;i++){var u=s[i];u.changeVisible(t)}return this.foregroundGroup.set("visible",t),this.middleGroup.set("visible",t),this.backgroundGroup.set("visible",t),this.getCanvas().draw(),this},r.prototype.data=function(t){return(0,d.t8)(this.options,"data",t),this.isDataChanged=!0,this},r.prototype.source=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(t)},r.prototype.filter=function(t,n){return(0,d.mf)(n)?((0,d.t8)(this.options,["filters",t],n),this):(!n&&(0,d.U2)(this.options,["filters",t])&&delete this.options.filters[t],this)},r.prototype.axis=function(t,n){return(0,d.jn)(t)?(0,d.t8)(this.options,["axes"],t):(0,d.t8)(this.options,["axes",t],n),this},r.prototype.legend=function(t,n){return(0,d.jn)(t)?(0,d.t8)(this.options,["legends"],t):(0,d.HD)(t)?((0,d.t8)(this.options,["legends",t],n),(0,d.PO)(n)&&(n!=null&&n.selected)&&(0,d.t8)(this.options,["filters",t],function(i){var a;return(a=n==null?void 0:n.selected[i])!==null&&a!==void 0?a:!0})):(0,d.t8)(this.options,["legends"],t),this},r.prototype.scale=function(t,n){var i=this;return(0,d.HD)(t)?(0,d.t8)(this.options,["scales",t],n):(0,d.Kn)(t)&&(0,d.S6)(t,function(a,o){(0,d.t8)(i.options,["scales",o],a)}),this},r.prototype.tooltip=function(t){return(0,d.t8)(this.options,"tooltip",t),this},r.prototype.annotation=function(){return this.getController("annotation")},r.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},r.prototype.coordinate=function(t,n){return(0,d.HD)(t)?(0,d.t8)(this.options,"coordinate",{type:t,cfg:n}):(0,d.t8)(this.options,"coordinate",t),this.coordinateController.update(this.options.coordinate),this.coordinateController},r.prototype.coord=function(t,n){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(t,n)},r.prototype.facet=function(t,n){this.facetInstance&&this.facetInstance.destroy();var i=RL(t);if(!i)throw new Error("facet '".concat(t,"' is not exist!"));return this.facetInstance=new i(this,(0,x.pi)((0,x.pi)({},n),{type:t})),this},r.prototype.animate=function(t){return(0,d.t8)(this.options,"animate",t),this},r.prototype.updateOptions=function(t){return this.clear(),(0,d.CD)(this.options,t),this.views.forEach(function(n){return n.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},r.prototype.option=function(t,n){if(r.prototype[t])throw new Error(`Can't use built in variable name "`.concat(t,'", please change another one.'));return(0,d.t8)(this.options,t,n),this},r.prototype.theme=function(t){return this.themeObject=(0,d.Kn)(t)?(0,d.b$)({},this.themeObject,o2(t)):Bs(t),this},r.prototype.interaction=function(t,n){var i=this.interactions[t];i&&i.destroy();var a=uI(t,this,n);return a&&(a.init(),this.interactions[t]=a),this},r.prototype.removeInteraction=function(t){var n=this.interactions[t];n&&(n.destroy(),this.interactions[t]=void 0)},r.prototype.changeData=function(t){this.isDataChanged=!0,this.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this,rr.BEFORE_CHANGE_DATA,null)),this.data(t),this.paint(!0);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.changeData(t)}this.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this,rr.AFTER_CHANGE_DATA,null))},r.prototype.createView=function(t){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var n={data:this.options.data,scales:(0,d.d9)(this.options.scales),axes:(0,d.d9)(this.options.axes),coordinate:(0,d.d9)(this.coordinateController.getOption()),tooltip:(0,d.d9)(this.options.tooltip),legends:(0,d.d9)(this.options.legends),animate:this.options.animate,visible:this.visible},i=new r((0,x.pi)((0,x.pi)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:zn.BG}),middleGroup:this.middleGroup.addGroup({zIndex:zn.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:zn.FORE}),theme:this.themeObject,padding:this.padding},t),{options:(0,x.pi)((0,x.pi)({},n),(0,d.U2)(t,"options",{}))}));return this.views.push(i),i},r.prototype.view=function(t){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(t)},r.prototype.removeView=function(t){var n=(0,d.Od)(this.views,function(i){return i===t})[0];return n&&n.destroy(),n},r.prototype.getCoordinate=function(){return this.coordinateInstance},r.prototype.getTheme=function(){return this.themeObject},r.prototype.getXScale=function(){var t=this.geometries[0];return t?t.getXScale():null},r.prototype.getYScales=function(){var t={},n=[];return this.geometries.forEach(function(i){var a=i.getYScale(),o=a.field;t[o]||(t[o]=!0,n.push(a))}),n},r.prototype.getScalesByDim=function(t){for(var n=this.geometries,i={},a=0,o=n.length;a<o;a++){var s=n[a],u=t==="x"?s.getXScale():s.getYScale();u&&!i[u.field]&&(i[u.field]=u)}return i},r.prototype.getScale=function(t,n){var i=n||this.getScaleKey(t);return this.getRootView().scalePool.getScale(i)},r.prototype.getScaleByField=function(t,n){return this.getScale(t,n)},r.prototype.getOptions=function(){return this.options},r.prototype.getData=function(){return this.filteredData},r.prototype.getOriginalData=function(){return this.options.data},r.prototype.getPadding=function(){return this.autoPadding.getPadding()},r.prototype.getGeometries=function(){return this.geometries},r.prototype.getElements=function(){return(0,d.u4)(this.geometries,function(t,n){return t.concat(n.getElements())},[])},r.prototype.getElementsBy=function(t){return this.getElements().filter(function(n){return t(n)})},r.prototype.getLayer=function(t){return t===zr.BG?this.backgroundGroup:t===zr.MID?this.middleGroup:t===zr.FORE?this.foregroundGroup:this.foregroundGroup},r.prototype.isPointInPlot=function(t){return ML(this.getCoordinate(),t)},r.prototype.getLegendAttributes=function(){return(0,d.xH)(this.geometries.map(function(t){return t.getGroupAttributes()}))},r.prototype.getGroupScales=function(){var t=this.geometries.map(function(n){return n.getGroupScales()});return Eo((0,d.xH)(t))},r.prototype.getCanvas=function(){return this.getRootView().canvas},r.prototype.getRootView=function(){for(var t=this;;){if(t.parent){t=t.parent;continue}break}return t},r.prototype.getXY=function(t){var n=this.getCoordinate(),i=this.getScalesByDim("x"),a=this.getScalesByDim("y"),o,s;if((0,d.S6)(t,function(u,l){i[l]&&(o=i[l].scale(u)),a[l]&&(s=a[l].scale(u))}),!(0,d.UM)(o)&&!(0,d.UM)(s))return n.convert({x:o,y:s})},r.prototype.getController=function(t){return(0,d.sE)(this.controllers,function(n){return n.name===t})},r.prototype.showTooltip=function(t){var n=this.getController("tooltip");return n&&n.showTooltip(t),this},r.prototype.hideTooltip=function(){var t=this.getController("tooltip");return t&&t.hideTooltip(),this},r.prototype.lockTooltip=function(){var t=this.getController("tooltip");return t&&t.lockTooltip(),this},r.prototype.unlockTooltip=function(){var t=this.getController("tooltip");return t&&t.unlockTooltip(),this},r.prototype.isTooltipLocked=function(){var t=this.getController("tooltip");return t&&t.isTooltipLocked()},r.prototype.getTooltipItems=function(t){var n=this.getController("tooltip");return n?n.getTooltipItems(t):[]},r.prototype.getSnapRecords=function(t){for(var n=this.geometries,i=[],a=0,o=n.length;a<o;a++){var s=n[a],u=s.dataArray;s.sort(u);for(var l=void 0,c=0,f=u.length;c<f;c++){var h=u[c];l=iv(t,h,s),l&&i.push(l)}}for(var v=this.views,a=0,o=v.length;a<o;a++){var p=v[a],g=p.getSnapRecords(t);i=i.concat(g)}return i},r.prototype.getComponents=function(){for(var t=[],n=this.controllers,i=0,a=n.length;i<a;i++){var o=n[i];t=t.concat(o.getComponents())}return t},r.prototype.filterData=function(t){var n=this.options.filters;return(0,d.dp)(n)===0?t:(0,d.hX)(t,function(i,a){var o=Object.keys(n);return o.every(function(s){var u=n[s];return u(i[s],i,a)})})},r.prototype.filterFieldData=function(t,n){var i=this.options.filters,a=(0,d.U2)(i,t);return(0,d.o8)(a)?n:n.filter(function(o,s){return a(o[t],o,s)})},r.prototype.adjustCoordinate=function(){var t=this.getCoordinate(),n=t.start,i=t.end,a=this.coordinateBBox.bl,o=this.coordinateBBox.tr;if((0,d.Xy)(n,a)&&(0,d.Xy)(i,o)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(a,o)},r.prototype.paint=function(t){this.renderDataRecursive(t),this.syncScale(),this.emit(rr.BEFORE_PAINT),this.renderPaddingRecursive(t),this.renderLayoutRecursive(t),this.renderBackgroundStyleShape(),this.renderPaintRecursive(t),this.emit(rr.AFTER_PAINT),this.isDataChanged=!1},r.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var t=(0,d.U2)(this.themeObject,"background");if(t){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var n=this.viewBBox,i=n.x,a=n.y,o=n.width,s=n.height;this.backgroundStyleRectShape.attr({fill:t,x:i,y:a,width:o,height:s})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},r.prototype.renderPaddingRecursive=function(t){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(t),this.autoPadding=OI(this).shrink(P4(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();var n=this.controllers.find(function(u){return u.name==="tooltip"});n.update();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderPaddingRecursive(t)}},r.prototype.renderLayoutRecursive=function(t){var n=this.syncViewPadding===!0?LI:(0,d.mf)(this.syncViewPadding)?this.syncViewPadding:void 0;n&&(n(this,this.views,u2),this.views.forEach(function(u){u.coordinateBBox=u.viewBBox.shrink(u.autoPadding.getPadding()),u.adjustCoordinate()})),this.doLayout();for(var i=this.views,a=0,o=i.length;a<o;a++){var s=i[a];s.renderLayoutRecursive(t)}},r.prototype.renderPaintRecursive=function(t){var n=this.middleGroup;if(this.limitInPlot){var i=A4(this.coordinateInstance),a=i.type,o=i.attrs;n.setClip({type:a,attrs:o})}else n.setClip(void 0);this.paintGeometries(t),this.renderComponents(t);for(var s=this.views,u=0,l=s.length;u<l;u++){var c=s[u];c.renderPaintRecursive(t)}},r.prototype.createScale=function(t,n,i,a){var o=(0,d.U2)(this.options.scales,[t]),s=(0,x.pi)((0,x.pi)({},o),i);return this.parent?this.parent.createScale(t,n,s,a):this.scalePool.createScale(t,n,s,a)},r.prototype.renderDataRecursive=function(t){this.doFilterData(),this.createCoordinate(),this.initGeometries(t),this.renderFacet(t);for(var n=this.views,i=0,a=n.length;i<a;i++){var o=n[i];o.renderDataRecursive(t)}},r.prototype.calculateViewBBox=function(){var t,n,i,a;if(this.parent){var o=this.parent.coordinateBBox;t=o.x,n=o.y,i=o.width,a=o.height}else t=0,n=0,i=this.canvas.get("width"),a=this.canvas.get("height");var s=this.region,u=s.start,l=s.end,c=new Un(t+i*u.x,n+a*u.y,i*(l.x-u.x),a*(l.y-u.y));(!this.viewBBox||!this.viewBBox.isEqual(c))&&(this.viewBBox=new Un(t+i*u.x,n+a*u.y,i*(l.x-u.x),a*(l.y-u.y))),this.coordinateBBox=this.viewBBox},r.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},r.prototype.initComponentController=function(){for(var t=this.usedControllers,n=0,i=t.length;n<i;n++){var a=t[n],o=AI(a);o&&this.controllers.push(new o(this))}},r.prototype.createViewEvent=function(t){var n=t.shape,i=t.name,a=n?n.get("origin"):null,o=new qr(this,t,a);return o.type=i,o},r.prototype.doPlotEvent=function(t){var n=t.type,i=t.x,a=t.y,o={x:i,y:a},s=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(s.includes(n)){var u=this.isPointInPlot(o),l=t.clone();if(u){var c="plot:".concat(n);l.type=c,this.emit(c,l),(n==="mouseleave"||n==="touchend")&&(this.isPreMouseInPlot=!1)}n==="mousemove"||n==="touchmove"?(this.isPreMouseInPlot&&!u?(n==="mousemove"&&(l.type=$r.MOUSE_LEAVE,this.emit($r.MOUSE_LEAVE,l)),l.type=$r.LEAVE,this.emit($r.LEAVE,l)):!this.isPreMouseInPlot&&u&&(n==="mousemove"&&(l.type=$r.MOUSE_ENTER,this.emit($r.MOUSE_ENTER,l)),l.type=$r.ENTER,this.emit($r.ENTER,l)),this.isPreMouseInPlot=u):(n==="mouseleave"||n==="touchend")&&this.isPreMouseInPlot&&(n==="mouseleave"&&(l.type=$r.MOUSE_LEAVE,this.emit($r.MOUSE_LEAVE,l)),l.type=$r.LEAVE,this.emit($r.LEAVE,l),this.isPreMouseInPlot=!1)}},r.prototype.doFilterData=function(){var t=this.options.data;this.filteredData=this.filterData(t)},r.prototype.initGeometries=function(t){this.createOrUpdateScales();for(var n=this.getCoordinate(),i=(0,d.U2)(this.options,"scales",{}),a=this.geometries,o=0,s=a.length;o<s;o++){var u=a[o];u.scales=this.getGeometryScales();var l={coordinate:n,scaleDefs:i,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};t?u.update(l):u.init(l)}this.adjustScales()},r.prototype.createOrUpdateScales=function(){for(var t=this.getScaleFields(),n=this.getGroupedFields(),i=this.getOptions(),a=i.data,o=i.scales,s=o===void 0?{}:o,u=this.filteredData,l=0,c=t.length;l<c;l++){var f=t[l],h=s[f],v=this.getScaleKey(f);this.createScale(f,n.includes(f)?a:u,h,v),this.createdScaleKeys.set(v,!0)}},r.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},r.prototype.getGeometryScales=function(){for(var t=this.getScaleFields(),n={},i=0;i<t.length;i++){var a=t[i];n[a]=this.getScaleByField(a)}return n},r.prototype.getScaleFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getScaleFields();Eo(s,t,n)}return t},r.prototype.getGroupedFields=function(){for(var t=[],n=new Map,i=this.geometries,a=0;a<i.length;a++){var o=i[a],s=o.getGroupFields();Eo(s,t,n)}return t},r.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},r.prototype.adjustCategoryScaleRange=function(){var t=this,n=(0,x.ev)([this.getXScale()],(0,x.CR)(this.getYScales()),!1).filter(function(o){return!!o}),i=this.getCoordinate(),a=this.options.scales;(0,d.S6)(n,function(o){var s=o.field,u=o.values,l=o.isCategory,c=o.isIdentity;(l||c)&&u&&!(0,d.U2)(a,[s,"range"])&&(o.range=Mh(o,i,t.theme))})},r.prototype.initComponents=function(t){for(var n=this.controllers,i=0;i<n.length;i++){var a=n[i];t?a.update():(a.clear(),a.render())}},r.prototype.doLayout=function(){this.layoutFunc(this)},r.prototype.createCoordinate=function(){var t=this.coordinateBBox.bl,n=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(t,n)},r.prototype.paintGeometries=function(t){for(var n=this.options.animate,i=this.getCoordinate(),a={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},o=this.geometries,s=0;s<o.length;s++){var u=o[s];u.coordinate=i,u.canvasRegion=a,n||u.animate(!1),u.paint(t)}},r.prototype.renderComponents=function(t){for(var n=this.getComponents(),i=0;i<n.length;i++){var a=n[i];a.component.render()}},r.prototype.renderFacet=function(t){this.facetInstance&&(t?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},r.prototype.initOptions=function(){var t=this,n=this.options,i=n.geometries,a=i===void 0?[]:i,o=n.interactions,s=o===void 0?[]:o,u=n.views,l=u===void 0?[]:u,c=n.annotations,f=c===void 0?[]:c,h=n.coordinate,v=n.events,p=n.facets;this.coordinateController?h&&this.coordinateController.update(h):this.coordinateController=new TI(h);for(var g=0;g<a.length;g++){var y=a[g];this.createGeometry(y)}for(var m=0;m<s.length;m++){var E=s[m],C=E.type,A=E.cfg;this.interaction(C,A)}for(var M=0;M<l.length;M++){var Z=l[M];this.createView(Z)}for(var Y=this.getController("annotation"),st=0;st<f.length;st++){var Ct=f[st];Y.annotation(Ct)}v&&(0,d.S6)(v,function(Pt,Zt){t.on(Zt,Pt)}),p&&(0,d.S6)(p,function(Pt){var Zt=Pt.type,ie=(0,x._T)(Pt,["type"]);t.facet(Zt,ie)})},r.prototype.createGeometry=function(t){var n=t.type,i=t.cfg,a=i===void 0?{}:i;if(this[n]){var o=this[n](a);(0,d.S6)(t,function(s,u){(0,d.mf)(o[u])&&o[u](s)})}},r.prototype.getScaleKey=function(t){return"".concat(this.id,"-").concat(t)},r}(Gt);function Sa(e,r){sv.prototype[e.toLowerCase()]=function(t){t===void 0&&(t={});var n=(0,x.pi)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},t),i=new r(n);return this.geometries.push(i),i}}var II=sv,PI=function(e){(0,x.ZT)(r,e);function r(t){var n=this,i=t.container,a=t.width,o=t.height,s=t.autoFit,u=s===void 0?!1:s,l=t.padding,c=t.appendPadding,f=t.renderer,h=f===void 0?"canvas":f,v=t.pixelRatio,p=t.localRefresh,g=p===void 0?!0:p,y=t.visible,m=y===void 0?!0:y,E=t.supportCSSTransform,C=E===void 0?!1:E,A=t.defaultInteractions,M=A===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text","axis-description"]:A,Z=t.options,Y=t.limitInPlot,st=t.theme,Ct=t.syncViewPadding,Pt=(0,d.HD)(i)?document.getElementById(i):i,Zt=Qr('<div style="position:relative;"></div>');Pt.appendChild(Zt);var ie=Q1(Pt,u,a,o),ce=Be(h),_e=new ce.Canvas((0,x.pi)({container:Zt,pixelRatio:v,localRefresh:g,supportCSSTransform:C},ie));return n=e.call(this,{parent:null,canvas:_e,backgroundGroup:_e.addGroup({zIndex:zn.BG}),middleGroup:_e.addGroup({zIndex:zn.MID}),foregroundGroup:_e.addGroup({zIndex:zn.FORE}),padding:l,appendPadding:c,visible:m,options:Z,limitInPlot:Y,theme:st,syncViewPadding:Ct})||this,n.onResize=(0,d.Ds)(function(){n.forceFit()},300),n.ele=Pt,n.canvas=_e,n.width=ie.width,n.height=ie.height,n.autoFit=u,n.localRefresh=g,n.renderer=h,n.wrapperElement=Zt,n.updateCanvasStyle(),n.bindAutoFit(),n.initDefaultInteractions(M),n}return r.prototype.initDefaultInteractions=function(t){var n=this;(0,d.S6)(t,function(i){n.interaction(i)})},r.prototype.aria=function(t){var n="aria-label";t===!1?this.ele.removeAttribute(n):this.ele.setAttribute(n,t.label)},r.prototype.changeSize=function(t,n){return this.width===t&&this.height===n?this:(this.emit(rr.BEFORE_CHANGE_SIZE),this.width=t,this.height=n,this.canvas.changeSize(t,n),this.render(!0),this.emit(rr.AFTER_CHANGE_SIZE),this)},r.prototype.clear=function(){e.prototype.clear.call(this),this.aria(!1)},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),hs(this.wrapperElement),this.wrapperElement=null},r.prototype.changeVisible=function(t){return e.prototype.changeVisible.call(this,t),this.wrapperElement.style.display=t?"":"none",this},r.prototype.forceFit=function(){if(!this.destroyed){var t=Q1(this.ele,!0,this.width,this.height),n=t.width,i=t.height;this.changeSize(n,i)}},r.prototype.updateCanvasStyle=function(){_r(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},r.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},r.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},r}(II),RI=PI,v0=function(){function e(r){this.visible=!0,this.components=[],this.view=r}return e.prototype.clear=function(r){(0,d.S6)(this.components,function(t){t.component.destroy()}),this.components=[]},e.prototype.destroy=function(){this.clear()},e.prototype.getComponents=function(){return this.components},e.prototype.changeVisible=function(r){this.visible!==r&&(this.components.forEach(function(t){r?t.component.show():t.component.hide()}),this.visible=r)},e}();function DI(e){for(var r=[],t=function(i){var a=e[i],o=(0,d.sE)(r,function(s){return s.color===a.color&&s.name===a.name&&s.value===a.value&&s.title===a.title});o||r.push(a)},n=0;n<e.length;n++)t(n);return r}var BI=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isLocked=!1,t}return Object.defineProperty(r.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.isVisible=function(){var t=this.view.getOptions().tooltip;return t!==!1},r.prototype.render=function(){},r.prototype.showTooltip=function(t){if(this.point=t,!!this.isVisible()){var n=this.view,i=this.getTooltipItems(t);if(!i.length){this.hideTooltip();return}var a=this.getTitle(i),o={x:i[0].x,y:i[0].y};n.emit("tooltip:show",qr.fromData(n,"tooltip:show",(0,x.pi)({items:i,title:a},t)));var s=this.getTooltipCfg(),u=s.follow,l=s.showMarkers,c=s.showCrosshairs,f=s.showContent,h=s.marker,v=this.items,p=this.title;if(!(0,d.Xy)(p,a)||!(0,d.Xy)(v,i)?(n.emit("tooltip:change",qr.fromData(n,"tooltip:change",(0,x.pi)({items:i,title:a},t))),((0,d.mf)(f)?f(i):f)&&(this.tooltip||this.renderTooltip(),this.tooltip.update((0,d.CD)({},s,{items:this.getItemsAfterProcess(i),title:a},u?t:{})),this.tooltip.show()),l&&this.renderTooltipMarkers(i,h)):(this.tooltip&&u&&(this.tooltip.update(t),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=i,this.title=a,c){var g=(0,d.U2)(s,["crosshairs","follow"],!1);this.renderCrosshairs(g?t:o,s)}}},r.prototype.hideTooltip=function(){var t=this.getTooltipCfg().follow;if(!t){this.point=null;return}var n=this.tooltipMarkersGroup;n&&n.hide();var i=this.xCrosshair,a=this.yCrosshair;i&&i.hide(),a&&a.hide();var o=this.tooltip;o&&o.hide(),this.view.emit("tooltip:hide",qr.fromData(this.view,"tooltip:hide",{})),this.point=null},r.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},r.prototype.unlockTooltip=function(){this.isLocked=!1;var t=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(t.capture)},r.prototype.isTooltipLocked=function(){return this.isLocked},r.prototype.clear=function(){var t=this,n=t.tooltip,i=t.xCrosshair,a=t.yCrosshair,o=t.tooltipMarkersGroup;n&&(n.hide(),n.clear()),i&&i.clear(),a&&a.clear(),o&&o.clear(),n!=null&&n.get("customContent")&&(this.tooltip.destroy(),this.tooltip=null),this.title=null,this.items=null},r.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},r.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},r.prototype.changeVisible=function(t){if(this.visible!==t){var n=this,i=n.tooltip,a=n.tooltipMarkersGroup,o=n.xCrosshair,s=n.yCrosshair;t?(i&&i.show(),a&&a.show(),o&&o.show(),s&&s.show()):(i&&i.hide(),a&&a.hide(),o&&o.hide(),s&&s.hide()),this.visible=t}},r.prototype.getTooltipItems=function(t){var n,i,a,o,s,u,l=this.findItemsFromView(this.view,t);if(l.length){l=(0,d.xH)(l);try{for(var c=(0,x.XA)(l),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var v=(a=void 0,(0,x.XA)(h)),p=v.next();!p.done;p=v.next()){var g=p.value,y=g.mappingData,m=y.x,E=y.y;g.x=(0,d.kJ)(m)?m[m.length-1]:m,g.y=(0,d.kJ)(E)?E[E.length-1]:E}}catch(Pt){a={error:Pt}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}}catch(Pt){n={error:Pt}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var C=this.getTooltipCfg().shared;if(C===!1&&l.length>1){var A=l[0],M=Math.abs(t.y-A[0].y);try{for(var Z=(0,x.XA)(l),Y=Z.next();!Y.done;Y=Z.next()){var st=Y.value,Ct=Math.abs(t.y-st[0].y);Ct<=M&&(A=st,M=Ct)}}catch(Pt){s={error:Pt}}finally{try{Y&&!Y.done&&(u=Z.return)&&u.call(Z)}finally{if(s)throw s.error}}l=[A]}return DI((0,d.xH)(l))}return[]},r.prototype.layout=function(){},r.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var t=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}})}},r.prototype.isCursorEntered=function(t){if(this.tooltip){var n=this.tooltip.getContainer(),i=this.tooltip.get("capture");if(n&&i){var a=n.getBoundingClientRect(),o=a.x,s=a.y,u=a.width,l=a.height;return new Un(o,s,u,l).isPointIn(t)}}return!1},r.prototype.getTooltipCfg=function(){var t=this.view,n=t.getOptions().tooltip,i=this.processCustomContent(n),a=t.getTheme(),o=(0,d.U2)(a,["components","tooltip"],{}),s=(0,d.U2)(i,"enterable",o.enterable);return(0,d.b$)({},o,i,{capture:!!(s||this.isLocked)})},r.prototype.processCustomContent=function(t){if((0,d.jn)(t)||!(0,d.U2)(t,"customContent"))return t;var n=t.customContent,i=function(a,o){var s=n(a,o)||"";return(0,d.HD)(s)?'<div class="g2-tooltip">'+s+"</div>":s};return(0,x.pi)((0,x.pi)({},t),{customContent:i})},r.prototype.getTitle=function(t){var n=t[0].title||t[0].name;return this.title=n,n},r.prototype.renderTooltip=function(){var t=this.view.getCanvas(),n={start:{x:0,y:0},end:{x:t.get("width"),y:t.get("height")}},i=this.getTooltipCfg(),a=new ql((0,x.pi)((0,x.pi)({parent:t.get("el").parentNode,region:n},i),{visible:!1,crosshairs:null}));a.init(),this.tooltip=a},r.prototype.renderTooltipMarkers=function(t,n){var i,a,o=this.getTooltipMarkersGroup(),s=this.view.getRootView(),u=s.limitInPlot;try{for(var l=(0,x.XA)(t),c=l.next();!c.done;c=l.next()){var f=c.value,h=f.x,v=f.y;if(u||o!=null&&o.getClip()){var p=A4(s.getCoordinate()),g=p.type,y=p.attrs;o==null||o.setClip({type:g,attrs:y})}else o==null||o.setClip(void 0);var m=this.view.getTheme(),E=(0,d.U2)(m,["components","tooltip","marker"],{}),C=(0,x.pi)((0,x.pi)({fill:f.color,symbol:"circle",shadowColor:f.color},(0,d.mf)(n)?(0,x.pi)((0,x.pi)({},E),n(f)):n),{x:h,y:v});o.addShape("marker",{attrs:C})}}catch(A){i={error:A}}finally{try{c&&!c.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}},r.prototype.renderCrosshairs=function(t,n){var i=(0,d.U2)(n,["crosshairs","type"],"x");i==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(t,n)):i==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(t,n)):i==="xy"&&(this.renderXCrosshairs(t,n),this.renderYCrosshairs(t,n))},r.prototype.renderXCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect)i.isTransposed?(a={x:i.start.x,y:t.y},o={x:i.end.x,y:t.y}):(a={x:t.x,y:i.end.y},o={x:t.x,y:i.start.y});else{var s=u0(i,t),u=i.getCenter(),l=i.getRadius();o=fn(u.x,u.y,l,s),a=u}var c=(0,d.b$)({start:a,end:o,container:this.getTooltipCrosshairsGroup()},(0,d.U2)(n,"crosshairs",{}),this.getCrosshairsText("x",t,n));delete c.type;var f=this.xCrosshair;f?f.update(c):(f=new fh(c),f.init()),f.render(),f.show(),this.xCrosshair=f},r.prototype.renderYCrosshairs=function(t,n){var i=this.getViewWithGeometry(this.view).getCoordinate(),a,o;if(i.isRect){var s=void 0,u=void 0;i.isTransposed?(s={x:t.x,y:i.end.y},u={x:t.x,y:i.start.y}):(s={x:i.start.x,y:t.y},u={x:i.end.x,y:t.y}),a={start:s,end:u},o="Line"}else a={center:i.getCenter(),radius:Kl(i,t),startAngle:i.startAngle,endAngle:i.endAngle},o="Circle";a=(0,d.b$)({container:this.getTooltipCrosshairsGroup()},a,(0,d.U2)(n,"crosshairs",{}),this.getCrosshairsText("y",t,n)),delete a.type;var l=this.yCrosshair;l?i.isRect&&l.get("type")==="circle"||!i.isRect&&l.get("type")==="line"?(l=new $[o](a),l.init()):l.update(a):(l=new $[o](a),l.init()),l.render(),l.show(),this.yCrosshair=l},r.prototype.getCrosshairsText=function(t,n,i){var a=(0,d.U2)(i,["crosshairs","text"]),o=(0,d.U2)(i,["crosshairs","follow"]),s=this.items;if(a){var u=this.getViewWithGeometry(this.view),l=s[0],c=u.getXScale(),f=u.getYScales()[0],h=void 0,v=void 0;if(o){var p=this.view.getCoordinate().invert(n);h=c.invert(p.x),v=f.invert(p.y)}else h=l.data[c.field],v=l.data[f.field];var g=t==="x"?h:v;return(0,d.mf)(a)?a=a(t,g,s,n):a.content=g,{text:a}}},r.prototype.getGuideGroup=function(){if(!this.guideGroup){var t=this.view.foregroundGroup;this.guideGroup=t.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},r.prototype.getTooltipMarkersGroup=function(){var t=this.tooltipMarkersGroup;return t&&!t.destroyed?(t.clear(),t.show()):(t=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),t.toFront(),this.tooltipMarkersGroup=t),t},r.prototype.getTooltipCrosshairsGroup=function(){var t=this.tooltipCrosshairsGroup;return t||(t=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),t.toBack(),this.tooltipCrosshairsGroup=t),t},r.prototype.findItemsFromView=function(t,n){var i,a;if(t.getOptions().tooltip===!1)return[];var o=this.getTooltipCfg(),s=I4(t,n,o);try{for(var u=(0,x.XA)(t.views),l=u.next();!l.done;l=u.next()){var c=l.value;s=s.concat(this.findItemsFromView(c,n))}}catch(f){i={error:f}}finally{try{l&&!l.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return s},r.prototype.getViewWithGeometry=function(t){var n=this;return t.geometries.length?t:(0,d.sE)(t.views,function(i){return n.getViewWithGeometry(i)})},r.prototype.getItemsAfterProcess=function(t){var n=this.getTooltipCfg().customItems,i=n||function(a){return a};return i(t)},r}(v0),uv=BI,lv={};function cv(e){return lv[e.toLowerCase()]}function gi(e,r){lv[e.toLowerCase()]=r}var p0={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},NI={interval:function(e){return{enter:{animation:e.isRect?e.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:e.isPolar&&e.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},fv={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":(r="grow-in-xy",e.isPolar&&e.isTransposed&&(r="wave-in")),{animation:r}},schema:function(e){var r;return e.isRect?r=e.isTransposed?"grow-in-x":"grow-in-y":r="grow-in-xy",{animation:r}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function ZI(e,r){return{delay:(0,d.mf)(e.delay)?e.delay(r):e.delay,easing:(0,d.mf)(e.easing)?e.easing(r):e.easing,duration:(0,d.mf)(e.duration)?e.duration(r):e.duration,callback:e.callback,repeat:e.repeat}}function hv(e,r,t){var n=NI[e];return n&&((0,d.mf)(n)&&(n=n(r)),n=(0,d.b$)({},p0,n),t)?n[t]:n}function d0(e,r,t){var n=(0,d.U2)(e.get("origin"),"data",at),i=r.animation,a=ZI(r,n);if(i){var o=cv(i);o&&o(e,a,t)}else e.animate(t.toAttrs,a)}function zI(e,r,t,n,i){if(fv[t]){var a=fv[t](n),o=cv((0,d.U2)(a,"animation",""));if(o){var s=(0,x.pi)((0,x.pi)((0,x.pi)({},p0.appear),a),r);e.stopAnimate(),o(e,s,{coordinate:n,minYPoint:i,toAttrs:null})}}}var R4="element-background",UI=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.labelShape=[],n.states=[];var i=t.shapeFactory,a=t.container,o=t.offscreenGroup,s=t.elementIndex,u=t.visible,l=u===void 0?!0:u;return n.shapeFactory=i,n.container=a,n.offscreenGroup=o,n.visible=l,n.elementIndex=s,n}return r.prototype.draw=function(t,n){n===void 0&&(n=!1),this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.drawShape(t,n),this.visible===!1&&this.changeVisible(!1)},r.prototype.update=function(t){var n=this,i=n.shapeFactory,a=n.shape;if(a){this.model=t,this.data=t.data,this.shapeType=this.getShapeType(t),this.setShapeInfo(a,t);var o=this.getOffscreenGroup(),s=i.drawShape(this.shapeType,t,o);s.cfg.data=this.data,s.cfg.origin=t,s.cfg.element=this,this.syncShapeStyle(a,s,this.getStates(),this.getAnimateCfg("update"))}},r.prototype.destroy=function(){var t=this,n=t.shapeFactory,i=t.shape;if(i){var a=this.getAnimateCfg("leave");a?d0(i,a,{coordinate:n.coordinate,toAttrs:(0,x.pi)({},i.attr())}):i.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=[],this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,e.prototype.destroy.call(this)},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t),t?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(n){n.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(n){n.hide()}))},r.prototype.setState=function(t,n){var i=this,a=i.states,o=i.shapeFactory,s=i.model,u=i.shape,l=i.shapeType,c=a.indexOf(t);if(n){if(c>-1)return;a.push(t),(t==="active"||t==="selected")&&(u==null||u.toFront())}else{if(c===-1)return;if(a.splice(c,1),t==="active"||t==="selected"){var f=this.geometry,h=f.sortZIndex,v=f.zIndexReversed,p=v?this.geometry.elements.length-this.elementIndex:this.elementIndex;h?u.setZIndex(p):u.set("zIndex",p)}}var g=o.drawShape(l,s,this.getOffscreenGroup());a.length?this.syncShapeStyle(u,g,a,null):this.syncShapeStyle(u,g,["reset"],null),g.remove(!0);var y={state:t,stateStatus:n,element:this,target:this.container};this.container.emit("statechange",y),Q7(this.shape,"statechange",y)},r.prototype.clearStates=function(){var t=this,n=this.states;(0,d.S6)(n,function(i){t.setState(i,!1)}),this.states=[]},r.prototype.hasState=function(t){return this.states.includes(t)},r.prototype.getStates=function(){return this.states},r.prototype.getData=function(){return this.data},r.prototype.getModel=function(){return this.model},r.prototype.getBBox=function(){var t=this,n=t.shape,i=t.labelShape,a={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return n&&(a=n.getCanvasBBox()),i&&i.forEach(function(o){var s=o.getCanvasBBox();a.x=Math.min(s.x,a.x),a.y=Math.min(s.y,a.y),a.minX=Math.min(s.minX,a.minX),a.minY=Math.min(s.minY,a.minY),a.maxX=Math.max(s.maxX,a.maxX),a.maxY=Math.max(s.maxY,a.maxY)}),a.width=a.maxX-a.minX,a.height=a.maxY-a.minY,a},r.prototype.getStatesStyle=function(){if(!this.statesStyle){var t=this,n=t.shapeType,i=t.geometry,a=t.shapeFactory,o=i.stateOption,s=a.defaultShapeType,u=a.theme[n]||a.theme[s];this.statesStyle=(0,d.b$)({},u,o)}return this.statesStyle},r.prototype.getStateStyle=function(t,n){var i=this.getStatesStyle(),a=(0,d.U2)(i,[t,"style"],{}),o=a[n]||a;return(0,d.mf)(o)?o(this):o},r.prototype.getAnimateCfg=function(t){var n=this,i=this.animate;if(i){var a=i[t];return a&&(0,x.pi)((0,x.pi)({},a),{callback:function(){var o;(0,d.mf)(a.callback)&&a.callback(),(o=n.geometry)===null||o===void 0||o.emit(yn.AFTER_DRAW_ANIMATE)}})}return null},r.prototype.drawShape=function(t,n){var i;n===void 0&&(n=!1);var a=this,o=a.shapeFactory,s=a.container,u=a.shapeType;if(this.shape=o.drawShape(u,t,s),this.shape){this.setShapeInfo(this.shape,t);var l=this.shape.cfg.name;l?(0,d.HD)(l)&&(this.shape.cfg.name=["element",l]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var c=n?"enter":"appear",f=this.getAnimateCfg(c);f&&((i=this.geometry)===null||i===void 0||i.emit(yn.BEFORE_DRAW_ANIMATE),d0(this.shape,f,{coordinate:o.coordinate,toAttrs:(0,x.pi)({},this.shape.attr())}))}},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.setShapeInfo=function(t,n){var i=this;if(t.cfg.origin=n,t.cfg.element=this,t.isGroup()){var a=t.get("children");a.forEach(function(o){i.setShapeInfo(o,n)})}},r.prototype.syncShapeStyle=function(t,n,i,a,o){var s=this,u;if(i===void 0&&(i=[]),o===void 0&&(o=0),!(!t||!n)){var l=t.get("clipShape"),c=n.get("clipShape");if(this.syncShapeStyle(l,c,i,a),t.isGroup())for(var f=t.get("children"),h=n.get("children"),v=0;v<f.length;v++)this.syncShapeStyle(f[v],h[v],i,a,o+v);else{if(!(0,d.xb)(i)&&!(0,d.Xy)(i,["reset"])){var p=t.get("name");(0,d.kJ)(p)&&(p=p[1]),(0,d.S6)(i,function(y){if(n.get("name")!==R4){var m=s.getStateStyle(y,p||o);n.attr(m)}})}var g=bh(t,n);this.animate?a?((u=this.geometry)===null||u===void 0||u.emit(yn.BEFORE_DRAW_ANIMATE),d0(t,a,{coordinate:this.shapeFactory.coordinate,toAttrs:g,shapeModel:this.model})):(0,d.xb)(i)?t.attr(g):(t.stopAnimate(),t.animate(g,{duration:300})):t.attr(g)}}},r.prototype.getShapeType=function(t){var n=(0,d.U2)(t,"shape");return(0,d.kJ)(n)?n[0]:n},r}(Gt),vv=UI,pv={},dv={};function HI(e){return pv[e.toLowerCase()]}function Ns(e,r){pv[e.toLowerCase()]=r}function VI(e){return dv[e.toLowerCase()]}function ii(e,r){dv[e.toLowerCase()]=r}var GI={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(e,r){var t=this.getShape(e);return t.getPoints?t.getPoints(r):this.getDefaultPoints(r)},getShape:function(e){var r=this[e]||this[this.defaultShapeType];return r.coordinate=this.coordinate,r},getDefaultPoints:function(){return[]},getDefaultStyle:function(e){return(0,d.U2)(e,[this.defaultShapeType,"default","style"],{})},getMarker:function(e,r){var t=this.getShape(e);if(!t.getMarker){var n=this.defaultShapeType;t=this.getShape(n)}var i=this.theme,a=(0,d.U2)(i,[e,"default"],{}),o=t.getMarker(r);return(0,d.b$)({},a,o)},drawShape:function(e,r,t){var n=this.getShape(e);return n.draw(r,t)}},jI={coordinate:null,parsePath:function(e){var r=this.coordinate,t=(0,a0.tr)(e);return r.isPolar?t=WL(r,t):t=jL(r,t),t},parsePoint:function(e){var r=this.coordinate;return r.convert(e)},parsePoints:function(e){var r=this.coordinate;return e.map(function(t){return r.convert(t)})},draw:function(e,r){}},D4={};function So(e,r){var t=(0,d.jC)(e),n=(0,x.pi)((0,x.pi)((0,x.pi)({},GI),r),{geometryType:e});return D4[t]=n,n}function kr(e,r,t){var n=(0,d.jC)(e),i=D4[n],a=(0,x.pi)((0,x.pi)({},jI),t);return i[r]=a,a}function gv(e){var r=(0,d.jC)(e);return D4[r]}function WI(e,r,t){var n,i;if(t===void 0&&(t={}),!r)return[e];var a=(0,d.Ms)(e,r),o=[];if(r.length===1&&t[r[0]]){var s=t[r[0]];try{for(var u=(0,x.XA)(s),l=u.next();!l.done;l=u.next()){var c=l.value,f=a["_".concat(c)];f&&o.push(f)}}catch(p){n={error:p}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}}else for(var h in a)if(a.hasOwnProperty(h)){var v=a[h];o.push(v)}return o}function yv(e,r){return(0,d.G)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(t){return!(0,d.Xy)(e[t],r[t])})}function Zs(e){return(0,d.kJ)(e)?e:e.split("*")}function mv(e,r){for(var t=[],n=[],i=[],a=new Map,o=0;o<r.length;o++){var s=r[o];e[s]?n.push(s):t.push(s),a.set(s,!0)}return Object.keys(e).forEach(function(u){a.has(u)||i.push(u)}),{added:t,updated:n,removed:i}}var YI=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="base",n.attributes={},n.elements=[],n.elementsMap={},n.animateOption=!0,n.attributeOption={},n.lastElementsMap={},n.generatePoints=!1,n.beforeMappingData=null,n.adjusts={},n.idFields=[],n.hasSorted=!1,n.isCoordinateChanged=!1;var i=t.container,a=t.labelsContainer,o=t.coordinate,s=t.data,u=t.sortable,l=u===void 0?!1:u,c=t.visible,f=c===void 0?!0:c,h=t.theme,v=t.scales,p=v===void 0?{}:v,g=t.scaleDefs,y=g===void 0?{}:g,m=t.intervalPadding,E=t.dodgePadding,C=t.maxColumnWidth,A=t.minColumnWidth,M=t.columnWidthRatio,Z=t.roseWidthRatio,Y=t.multiplePieWidthRatio,st=t.zIndexReversed,Ct=t.sortZIndex,Pt=t.useDeferredLabel;return n.container=i,n.labelsContainer=a,n.coordinate=o,n.data=s,n.sortable=l,n.visible=f,n.userTheme=h,n.scales=p,n.scaleDefs=y,n.intervalPadding=m,n.dodgePadding=E,n.maxColumnWidth=C,n.minColumnWidth=A,n.columnWidthRatio=M,n.roseWidthRatio=Z,n.multiplePieWidthRatio=Y,n.zIndexReversed=st,n.sortZIndex=Ct,n.useDeferredLabel=Pt?typeof Pt=="number"?Pt:1/0:null,n}return r.prototype.position=function(t){var n=t;(0,d.PO)(t)||(n={fields:Zs(t)});var i=(0,d.U2)(n,"fields");return i.length===1&&(i.unshift("1"),(0,d.t8)(n,"fields",i)),(0,d.t8)(this.attributeOption,"position",n),this},r.prototype.color=function(t,n){return this.createAttrOption("color",t,n),this},r.prototype.shape=function(t,n){return this.createAttrOption("shape",t,n),this},r.prototype.size=function(t,n){return this.createAttrOption("size",t,n),this},r.prototype.adjust=function(t){var n=t;return((0,d.HD)(t)||(0,d.PO)(t))&&(n=[t]),(0,d.S6)(n,function(i,a){(0,d.Kn)(i)||(n[a]={type:i})}),this.adjustOption=n,this},r.prototype.style=function(t,n){if((0,d.HD)(t)){var i=Zs(t);this.styleOption={fields:i,callback:n}}else{var a=t,i=a.fields,o=a.callback,s=a.cfg;i||o||s?this.styleOption=t:this.styleOption={cfg:t}}return this},r.prototype.tooltip=function(t,n){if((0,d.HD)(t)){var i=Zs(t);this.tooltipOption={fields:i,callback:n}}else this.tooltipOption=t;return this},r.prototype.animate=function(t){return this.animateOption=t,this},r.prototype.label=function(t,n,i){if((0,d.HD)(t)){var a={},o=Zs(t);a.fields=o,(0,d.mf)(n)?a.callback=n:(0,d.PO)(n)&&(a.cfg=n),i&&(a.cfg=i),this.labelOption=a}else this.labelOption=t;return this},r.prototype.state=function(t){return this.stateOption=t,this},r.prototype.customInfo=function(t){return this.customOption=t,this},r.prototype.init=function(t){t===void 0&&(t={}),this.setCfg(t),this.initAttributes(),this.processData(this.data),this.adjustScale()},r.prototype.update=function(t){t===void 0&&(t={});var n=t.data,i=t.isDataChanged,a=t.isCoordinateChanged,o=this,s=o.attributeOption,u=o.lastAttributeOption;(0,d.Xy)(s,u)?n&&(i||!(0,d.Xy)(n,this.data))?(this.setCfg(t),this.initAttributes(),this.processData(n)):this.setCfg(t):this.init(t),this.adjustScale(),this.isCoordinateChanged=a},r.prototype.paint=function(t){var n=this;t===void 0&&(t=!1),this.animateOption&&(this.animateOption=(0,d.b$)({},hv(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elementsMap={},this.elements=[];var i=this.getOffscreenGroup();i.clear();var a=this.beforeMappingData,o=this.beforeMapping(a);this.dataArray=new Array(o.length);for(var s=0;s<o.length;s++){var u=o[s];this.dataArray[s]=this.mapping(u)}if(this.updateElements(this.dataArray,t),this.lastElementsMap=this.elementsMap,this.canDoGroupAnimation(t)){var l=this.container,c=this.type,f=this.coordinate,h=(0,d.U2)(this.animateOption,"appear"),v=this.getYScale(),p=f.convert({x:0,y:v.scale(this.getYMinValue())});zI(l,h,c,f,p)}if(this.labelOption){var g=this.useDeferredLabel,y=function(){return n.renderLabels((0,d.xH)(n.dataArray),t)}.bind(this);if(typeof g=="number"){var m=typeof g=="number"&&g!==1/0?g:0;if(!window.requestIdleCallback)setTimeout(y,m);else{var E=m&&m!==1/0?{timeout:m}:void 0;window.requestIdleCallback(y,E)}}else y()}this.lastAttributeOption=(0,x.pi)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},r.prototype.clear=function(){var t=this,n=t.container,i=t.geometryLabel,a=t.offscreenGroup;n&&n.clear(),i&&i.clear(),a&&a.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},r.prototype.destroy=function(){this.clear();var t=this.container;t.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,e.prototype.destroy.call(this)},r.prototype.getGroupScales=function(){return this.groupScales},r.prototype.getAttribute=function(t){return this.attributes[t]},r.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},r.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},r.prototype.getGroupAttributes=function(){var t=[];return(0,d.S6)(this.attributes,function(n){Xt.includes(n.type)&&t.push(n)}),t},r.prototype.getDefaultValue=function(t){var n,i=this.getAttribute(t);return i&&(0,d.xb)(i.scales)&&(n=i.values[0]),n},r.prototype.getAttributeValues=function(t,n){for(var i=[],a=t.scales,o=0,s=a.length;o<s;o++){var u=a[o],l=u.field;u.isIdentity?i.push(u.values):i.push(n[l])}return t.mapping.apply(t,(0,x.ev)([],(0,x.CR)(i),!1))},r.prototype.getAdjust=function(t){return this.adjusts[t]},r.prototype.getCoordinate=function(){return this.coordinate},r.prototype.getData=function(){return this.data},r.prototype.getShapeMarker=function(t,n){var i=this.getShapeFactory();return i.getMarker(t,n)},r.prototype.getElementsBy=function(t){return this.elements.filter(function(n){return t(n)})},r.prototype.getElements=function(){return this.elements},r.prototype.getElementId=function(t){t=(0,d.kJ)(t)?t[0]:t;var n=t[at];if(this.idFields.length){for(var i=n[this.idFields[0]],a=1;a<this.idFields.length;a++)i+="-"+n[this.idFields[a]];return i}var o=this.type,s=this.getXScale(),u=this.getYScale(),l=s.field||"x",c=u.field||"y",f=n[c],h;s.type==="identity"?h=s.values[0]:h=n[l];var v;o==="interval"||o==="schema"?v="".concat(h):o==="line"||o==="area"||o==="path"?v=o:v="".concat(h,"-").concat(f);for(var p=this.groupScales,a=0,g=p.length;a<g;a++){var y=p[a],m=y.field;v="".concat(v,"-").concat(n[m])}var E=this.getAdjust("dodge");if(E){var C=E.dodgeBy;C&&(v="".concat(v,"-").concat(n[C]))}return this.getAdjust("jitter")&&(v="".concat(v,"-").concat(t.x,"-").concat(t.y)),v},r.prototype.getScaleFields=function(){var t=[],n=new Map,i=this,a=i.attributeOption,o=i.labelOption,s=i.tooltipOption;for(var u in a)if(a.hasOwnProperty(u)){var l=a[u];l.fields?Eo(l.fields,t,n):l.values&&Eo(l.values,t,n)}return o&&o.fields&&Eo(o.fields,t,n),(0,d.Kn)(s)&&s.fields&&Eo(s.fields,t,n),t},r.prototype.changeVisible=function(t){e.prototype.changeVisible.call(this,t);for(var n=this.elements,i=0,a=n.length;i<a;i++){var o=n[i];o.changeVisible(t)}t?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},r.prototype.getFields=function(){var t=new Map,n=[];return Object.values(this.attributeOption).forEach(function(i){var a=(i==null?void 0:i.fields)||[];a.forEach(function(o){t.has(o)||n.push(o),t.set(o,!0)})},[]),n},r.prototype.getGroupFields=function(){for(var t=[],n=new Map,i=0,a=Xt.length;i<a;i++){var o=Xt[i],s=this.attributeOption[o];s&&s.fields&&Eo(s.fields,t,n)}return t},r.prototype.getXYFields=function(){var t=(0,x.CR)(this.attributeOption.position.fields,2),n=t[0],i=t[1];return[n,i]},r.prototype.getXField=function(){return(0,d.U2)(this.getXYFields(),[0])},r.prototype.getYField=function(){return(0,d.U2)(this.getXYFields(),[1])},r.prototype.getShapes=function(){return this.elements.map(function(t){return t.shape})},r.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var t=this.container.getGroupBase();this.offscreenGroup=new t({})}return this.offscreenGroup},r.prototype.sort=function(t){if(!this.hasSorted)for(var n=this.getXScale(),i=n.field,a=0;a<t.length;a++){var o=t[a];o.sort(function(s,u){return n.translate(s[at][i])-n.translate(u[at][i])})}this.hasSorted=!0},r.prototype.adjustScale=function(){var t=this.getYScale();t&&this.getAdjust("stack")&&this.updateStackRange(t,this.beforeMappingData)},r.prototype.getShapeFactory=function(){var t=this.shapeType;if(gv(t))return this.shapeFactory||(this.shapeFactory=(0,d.d9)(gv(t))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[t]||{},this.shapeFactory},r.prototype.createShapePointsCfg=function(t){var n=this.getXScale(),i=this.getYScale(),a=this.normalizeValues(t[n.field],n),o;return i?o=this.normalizeValues(t[i.field],i):o=t.y?t.y:.1,{x:a,y:o,y0:i?i.scale(this.getYMinValue()):void 0}},r.prototype.createElement=function(t,n,i){i===void 0&&(i=!1);var a=this.container,o=this.getDrawCfg(t),s=this.getShapeFactory(),u=new vv({shapeFactory:s,container:a,offscreenGroup:this.getOffscreenGroup(),elementIndex:n});return u.animate=this.animateOption,u.geometry=this,u.draw(o,i),u},r.prototype.getDrawCfg=function(t){var n=t[at],i={mappingData:t,data:n,x:t.x,y:t.y,color:t.color,size:t.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},a=t.shape;!a&&this.getShapeFactory()&&(a=this.getShapeFactory().defaultShapeType),i.shape=a;var o=this.theme.geometries[this.shapeType];i.defaultStyle=(0,d.U2)(o,[a,"default"],{}).style,!i.defaultStyle&&this.getShapeFactory()&&(i.defaultStyle=this.getShapeFactory().getDefaultStyle(o));var s=this.styleOption;return s&&(i.style=this.getStyleCfg(s,n)),this.generatePoints&&(i.points=t.points,i.nextPoints=t.nextPoints),i},r.prototype.updateElements=function(t,n){var i,a,o,s,u,l;n===void 0&&(n=!1);for(var c=new Map,f=[],h=new Map,v=0,p=0;p<t.length;p++)for(var g=t[p],y=0;y<g.length;y++){var m=g[y],E=this.getElementId(m),C=c.has(E)?"".concat(E,"-").concat(p,"-").concat(y):E;f.push(C),c.set(C,m),h.set(C,v),v++}this.elements=new Array(v);var A=mv(this.lastElementsMap,f),M=A.added,Z=A.updated,Y=A.removed;try{for(var st=(0,x.XA)(M),Ct=st.next();!Ct.done;Ct=st.next()){var E=Ct.value,m=c.get(E),p=h.get(E),Pt=this.createElement(m,p,n);this.elements[p]=Pt,this.elementsMap[E]=Pt,Pt.shape&&Pt.shape.set("zIndex",this.zIndexReversed?this.elements.length-p:p)}}catch(Me){i={error:Me}}finally{try{Ct&&!Ct.done&&(a=st.return)&&a.call(st)}finally{if(i)throw i.error}}try{for(var Zt=(0,x.XA)(Z),ie=Zt.next();!ie.done;ie=Zt.next()){var E=ie.value,Pt=this.lastElementsMap[E],m=c.get(E),ce=this.getDrawCfg(m),_e=Pt.getModel(),p=h.get(E);(this.isCoordinateChanged||yv(ce,_e))&&(Pt.animate=this.animateOption,Pt.update(ce)),this.elements[p]=Pt,this.elementsMap[E]=Pt,Pt.shape&&Pt.shape.set("zIndex",this.zIndexReversed?this.elements.length-p:p)}}catch(Me){o={error:Me}}finally{try{ie&&!ie.done&&(s=Zt.return)&&s.call(Zt)}finally{if(o)throw o.error}}this.container&&this.container.sort();try{for(var Re=(0,x.XA)(Y),he=Re.next();!he.done;he=Re.next()){var E=he.value,Pt=this.lastElementsMap[E];Pt.animate=this.animateOption,Pt.destroy()}}catch(Me){u={error:Me}}finally{try{he&&!he.done&&(l=Re.return)&&l.call(Re)}finally{if(u)throw u.error}}},r.prototype.getLabelType=function(){var t=this,n=t.labelOption,i=t.coordinate,a=t.type,o=i.type,s=i.isTransposed,u=(0,d.U2)(n,["cfg","type"]);return u||(o==="polar"?u=s?"pie":"polar":o==="theta"?u="pie":a==="interval"||a==="polygon"?u="interval":u="base"),u},r.prototype.getYMinValue=function(){var t=this.getYScale(),n=t.min,i=t.max,a;return n>=0?a=n:i<=0?a=i:a=0,a},r.prototype.createAttrOption=function(t,n,i){if((0,d.UM)(n)||(0,d.Kn)(n))(0,d.Kn)(n)&&(0,d.Xy)(Object.keys(n),["values"])?(0,d.t8)(this.attributeOption,t,{fields:n.values}):(0,d.t8)(this.attributeOption,t,n);else{var a={};(0,d.hj)(n)?a.values=[n]:a.fields=Zs(n),i&&((0,d.mf)(i)?a.callback=i:a.values=i),(0,d.t8)(this.attributeOption,t,a)}},r.prototype.initAttributes=function(){var t=this,n=this,i=n.attributes,a=n.attributeOption,o=n.theme,s=n.shapeType;this.groupScales=[];var u={},l=function(h){if(a.hasOwnProperty(h)){var v=a[h];if(!v)return{value:void 0};var p=(0,x.pi)({},v),g=p.callback,y=p.values,m=p.fields,E=m===void 0?[]:m,C=E.map(function(M){var Z=t.scales[M];if(!u[M]&&Xt.includes(h)){var Y=Ah(Z,(0,d.U2)(t.scaleDefs,M),h,t.type);Y==="cat"&&(t.groupScales.push(Z),u[M]=!0)}return Z});p.scales=C,h!=="position"&&C.length===1&&C[0].type==="identity"?p.values=C[0].values:!g&&!y&&(h==="size"?p.values=o.sizes:h==="shape"?p.values=o.shapes[s]||[]:h==="color"&&(C.length?p.values=C[0].values.length<=10?o.colors10:o.colors20:p.values=o.colors10));var A=Z7(h);i[h]=new A(p)}};for(var c in a){var f=l(c);if(typeof f=="object")return f.value}},r.prototype.processData=function(t){var n,i;this.hasSorted=!1;for(var a=this.getAttribute("position").scales,o=a.filter(function(Y){return Y.isCategory}),s=this.groupData(t),u=[],l=0,c=s.length;l<c;l++){for(var f=s[l],h=[],v=0,p=f.length;v<p;v++){var g=f[v],y={};for(var m in g)y[m]=g[m];y[at]=g;try{for(var E=(n=void 0,(0,x.XA)(o)),C=E.next();!C.done;C=E.next()){var A=C.value,M=A.field;y[M]=A.translate(y[M])}}catch(Y){n={error:Y}}finally{try{C&&!C.done&&(i=E.return)&&i.call(E)}finally{if(n)throw n.error}}h.push(y)}u.push(h)}var Z=this.adjustData(u);return this.beforeMappingData=Z,Z},r.prototype.adjustData=function(t){var n=this.adjustOption,i=this,a=i.intervalPadding,o=i.dodgePadding,s=i.theme,u=this.maxColumnWidth||s.maxColumnWidth,l=this.minColumnWidth||s.minColumnWidth,c=this.columnWidthRatio||s.columnWidthRatio,f=t;if(n){var h=this.getXScale(),v=this.getYScale(),p=h.field,g=v?v.field:null,y=Ls(this.coordinate),m=h.values.length,E=this.getAttribute("size"),C=void 0;E&&(C=E.values[0]);for(var A=0,M=n.length;A<M;A++){var Z=n[A],Y=(0,x.pi)({xField:p,yField:g,intervalPadding:a,dodgePadding:o,xDimensionLength:y,groupNum:m,defaultSize:C,maxColumnWidth:u,minColumnWidth:l,columnWidthRatio:c},Z),st=Z.type;if(st==="dodge"){var Ct=[];if(h.isCategory||h.type==="identity")Ct.push("x");else if(!v)Ct.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Y.adjustNames=Ct,Y.dodgeRatio=c}else if(st==="stack"){var Pt=this.coordinate;if(!v){Y.height=Pt.getHeight();var Zt=this.getDefaultValue("size")||3;Y.size=Zt}!Pt.isTransposed&&(0,d.UM)(Y.reverseOrder)&&(Y.reverseOrder=!0)}var ie=Yn(st);Y.dimValuesMap={},h&&h.values&&(Y.dimValuesMap[h.field]=h.values.map(function(_e){return h.translate(_e)}));var ce=new ie(Y);f=ce.process(f),this.adjusts[st]=ce}}return f},r.prototype.groupData=function(t){for(var n=this.getGroupScales(),i=this.scaleDefs,a={},o=[],s=0;s<n.length;s++){var u=n[s],l=u.field;o.push(l),(0,d.U2)(i,[l,"values"])&&(a[l]=i[l].values)}return WI(t,o,a)},r.prototype.updateStackRange=function(t,n){for(var i=(0,d.xH)(n),a=t.field,o=t.min,s=t.max,u=0;u<i.length;u++){var l=i[u],c=Math.min.apply(null,l[a]),f=Math.max.apply(null,l[a]);c<o&&(o=c),f>s&&(s=f)}var h=this.scaleDefs,v={};o<t.min&&!(0,d.U2)(h,[a,"min"])&&(v.min=o),s>t.max&&!(0,d.U2)(h,[a,"max"])&&(v.max=s),t.change(v)},r.prototype.beforeMapping=function(t){var n=t;if(this.sortable&&this.sort(n),this.generatePoints)for(var i=0,a=n.length;i<a;i++){var o=n[i];this.generateShapePoints(o);var s=n[i+1];s&&(this.generateShapePoints(s),o[0].nextPoints=s[0].points)}return n},r.prototype.generateShapePoints=function(t){for(var n=this.getShapeFactory(),i=this.getAttribute("shape"),a=0;a<t.length;a++){var o=t[a],s=this.createShapePointsCfg(o),u=i?this.getAttributeValues(i,o):null,l=n.getShapePoints(u,s);o.points=l}},r.prototype.normalizeValues=function(t,n){var i=[];if((0,d.kJ)(t))for(var a=0;a<t.length;a++){var o=t[a];i.push(n.scale(o))}else i=n.scale(t);return i},r.prototype.mapping=function(t){for(var n=this.attributes,i=[],a=0;a<t.length;a++){var o=t[a],s={_origin:o[at],points:o.points,nextPoints:o.nextPoints};for(var u in n)if(n.hasOwnProperty(u)){var l=n[u],c=l.names,f=this.getAttributeValues(l,o);if(c.length>1)for(var h=0;h<f.length;h+=1){var v=f[h],p=c[h];s[p]=(0,d.kJ)(v)&&v.length===1?v[0]:v}else s[c[0]]=f.length===1?f[0]:f}this.convertPoint(s),i.push(s)}return i},r.prototype.convertPoint=function(t){var n=t.x,i=t.y,a,o,s,u=this.coordinate;if((0,d.kJ)(n)&&(0,d.kJ)(i)){a=[],o=[];for(var l=0,c=0,f=n.length,h=i.length;l<f&&c<h;l+=1,c+=1)s=u.convert({x:n[l],y:i[c]}),a.push(s.x),o.push(s.y)}else if((0,d.kJ)(i)){o=[];for(var v=0;v<i.length;v++){var p=i[v];s=u.convert({x:n,y:p}),a&&a!==s.x?((0,d.kJ)(a)||(a=[a]),a.push(s.x)):a=s.x,o.push(s.y)}}else if((0,d.kJ)(n)){a=[];for(var v=0;v<n.length;v++){var g=n[v];s=u.convert({x:g,y:i}),o&&o!==s.y?((0,d.kJ)(o)||(o=[o]),o.push(s.y)):o=s.y,a.push(s.x)}}else{var y=u.convert({x:n,y:i});a=y.x,o=y.y}t.x=a,t.y=o},r.prototype.getStyleCfg=function(t,n){var i=t.fields,a=i===void 0?[]:i,o=t.callback,s=t.cfg;if(s)return s;var u=a.map(function(l){return n[l]});return o.apply(void 0,(0,x.ev)([],(0,x.CR)(u),!1))},r.prototype.setCfg=function(t){var n=this,i=t.coordinate,a=t.data,o=t.theme,s=t.scaleDefs;i&&(this.coordinate=i),a&&(this.data=a),s&&(this.scaleDefs=s,this.idFields=[],(0,d.S6)(s,function(u,l){u&&u.key&&n.idFields.push(l)})),o&&(this.theme=this.userTheme?(0,d.b$)({},o,this.userTheme):o)},r.prototype.renderLabels=function(t,n){return n===void 0&&(n=!1),(0,x.mG)(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,h,v,p,g,y=this;return(0,x.Jh)(this,function(m){switch(m.label){case 0:return i=this.geometryLabel,this.emit(yn.BEFORE_RENDER_LABEL),i||(a=this.getLabelType(),o=HI(a),i=new o(this),this.geometryLabel=i),[4,i.render(t,n)];case 1:m.sent(),s=i.labelsRenderer.shapesMap,u=new Map,(0,d.S6)(s,function(E,C){for(var A=E.getChildren()||[],M=0;M<A.length;M++){var Z=A[M],Y=y.elementsMap[Z.get("elementId")||C.split(" ")[0]];if(Y){Z.cfg.name=["element","label"],Z.cfg.element=Y;var st=u.get(Y)||new Set;st.add(E),u.set(Y,st)}}});try{for(l=(0,x.XA)(u.entries()),c=l.next();!c.done;c=l.next())f=(0,x.CR)(c.value,2),h=f[0],v=f[1],h.labelShape=(0,x.ev)([],(0,x.CR)(v),!1)}catch(E){p={error:E}}finally{try{c&&!c.done&&(g=l.return)&&g.call(l)}finally{if(p)throw p.error}}return this.emit(yn.AFTER_RENDER_LABEL),[2]}})})},r.prototype.canDoGroupAnimation=function(t){return!t&&this.animateOption&&((0,d.U2)(this.animateOption,"appear")===void 0||(0,d.U2)(this.animateOption,"appear")&&(0,d.U2)(this.animateOption,["appear","animation"])===void 0)},r}(Gt),bo=YI,l2=Ur.vs;function zs(e,r,t){var n=l2(e.getMatrix(),[["t",r,t]]);e.setMatrix(n)}function XI(e,r){var t=e.attr(),n=t.x,i=t.y,a=l2(e.getMatrix(),[["t",-n,-i],["r",r],["t",n,i]]);return a}function B4(e,r){var t=XI(e,r);e.setMatrix(t)}function u9t(){return[1,0,0,0,1,0,0,0,1]}function $I(e,r){var t=e.getBBox(),n=(t.minX+t.maxX)/2,i=(t.minY+t.maxY)/2;e.applyToMatrix([n,i,1]);var a=l2(e.getMatrix(),[["t",-n,-i],["s",r,r],["t",n,i]]);e.setMatrix(a)}function Ao(e){return e.find(function(r){return r.get("type")==="text"})}function xv(e,r,t){t===void 0&&(t=[0,0,0,0]);var n=e&&e.getChildren()[0];if(n){var i=n.clone();r!=null&&r.rotate&&B4(i,-r.rotate);var a=i.getCanvasBBox(),o=a.x,s=a.y,u=a.width,l=a.height;i.destroy();var c=t;return(0,d.UM)(c)?c=[2,2,2,2]:(0,d.hj)(c)&&(c=new Array(4).fill(c)),{x:o-c[3],y:s-c[0],width:u+c[1]+c[3],height:l+c[0]+c[2],rotation:(r==null?void 0:r.rotate)||0}}return{x:0,y:0,width:0,height:0,rotation:0}}function qI(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function KI(e,r){var t=e.getBBox();return(0,d.G)(r,function(n){var i=n.getBBox();return qI(t,i,2)>0})}function _v(e,r,t){var n=t.data,i=t.origin,a=t.animateCfg,o=t.coordinate,s=(0,d.U2)(a,"update");e.set("data",n),e.set("origin",i),e.set("animateCfg",a),e.set("coordinate",o),e.set("visible",r.get("visible")),(e.getChildren()||[]).forEach(function(u,l){var c=r.getChildByIndex(l);if(!c)e.removeChild(u),u.remove(!0);else{u.set("data",n),u.set("origin",i),u.set("animateCfg",a),u.set("coordinate",o);var f=bh(u,c);s?d0(u,s,{toAttrs:f,coordinate:o}):u.attr(f),c.isGroup()&&_v(u,c,t)}}),(0,d.S6)(r.getChildren(),function(u,l){l>=e.getCount()&&(u.destroyed||e.add(u))})}var QI=function(){function e(r){this.shapesMap={};var t=r.layout,n=r.container;this.layout=t,this.container=n}return e.prototype.render=function(r,t,n){return n===void 0&&(n=!1),(0,x.mG)(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f,h=this;return(0,x.Jh)(this,function(v){switch(v.label){case 0:if(i={},a=this.createOffscreenGroup(),!r.length)return[3,2];try{for(o=(0,x.XA)(r),s=o.next();!s.done;s=o.next())u=s.value,u&&(i[u.id]=this.renderLabel(u,a))}catch(p){c={error:p}}finally{try{s&&!s.done&&(f=o.return)&&f.call(o)}finally{if(c)throw c.error}}return[4,this.doLayout(r,t,i)];case 1:v.sent(),this.renderLabelLine(r,i),this.renderLabelBackground(r,i),this.adjustLabel(r,i),v.label=2;case 2:return l=this.shapesMap,(0,d.S6)(i,function(p,g){if(p.destroyed)delete i[g];else{if(l[g]){var y=p.get("data"),m=p.get("origin"),E=p.get("coordinate"),C=p.get("animateCfg"),A=l[g];_v(A,i[g],{data:y,origin:m,animateCfg:C,coordinate:E}),i[g]=A}else{if(h.container.destroyed)return;h.container.add(p);var M=(0,d.U2)(p.get("animateCfg"),n?"enter":"appear");M&&d0(p,M,{toAttrs:(0,x.pi)({},p.attr()),coordinate:p.get("coordinate")})}delete l[g]}}),(0,d.S6)(l,function(p){var g=(0,d.U2)(p.get("animateCfg"),"leave");g?d0(p,g,{toAttrs:null,coordinate:p.get("coordinate")}):p.remove(!0)}),this.shapesMap=i,a.destroy(),[2]}})})},e.prototype.clear=function(){this.container.clear(),this.shapesMap={}},e.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null},e.prototype.renderLabel=function(r,t){var n=r.id,i=r.elementId,a=r.data,o=r.mappingData,s=r.coordinate,u=r.animate,l=r.content,c=r.capture,f={id:n,elementId:i,capture:c,data:a,origin:(0,x.pi)((0,x.pi)({},o),{data:o[at]}),coordinate:s},h=t.addGroup((0,x.pi)({name:"label",animateCfg:this.animate===!1||u===null||u===!1?!1:(0,d.b$)({},this.animate,u)},f)),v;if(l.isGroup&&l.isGroup()||l.isShape&&l.isShape()){var p=l.getCanvasBBox(),g=p.width,y=p.height,m=(0,d.U2)(r,"textAlign","left"),E=r.x,C=r.y-y/2;m==="center"?E=E-g/2:(m==="right"||m==="end")&&(E=E-g),zs(l,E,C),v=l,h.add(l)}else{var A=(0,d.U2)(r,["style","fill"]);v=h.addShape("text",(0,x.pi)({attrs:(0,x.pi)((0,x.pi)({x:r.x,y:r.y,textAlign:r.textAlign,textBaseline:(0,d.U2)(r,"textBaseline","middle"),text:r.content},r.style),{fill:(0,d.Ft)(A)?r.color:A})},f))}return r.rotate&&B4(v,r.rotate),h},e.prototype.doLayout=function(r,t,n){return(0,x.mG)(this,void 0,void 0,function(){var i,a=this;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return this.layout?(i=(0,d.kJ)(this.layout)?this.layout:[this.layout],[4,Promise.all(i.map(function(s){var u=VI((0,d.U2)(s,"type",""));if(u){var l=[],c=[];return(0,d.S6)(n,function(f,h){l.push(f),c.push(t[f.get("elementId")])}),u(r,l,c,a.region,s.cfg)}}))]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.renderLabelLine=function(r,t){(0,d.S6)(r,function(n){var i=(0,d.U2)(n,"coordinate");if(!(!n||!i)){var a=i.getCenter(),o=i.getRadius();if(n.labelLine){var s=(0,d.U2)(n,"labelLine",{}),u=n.id,l=s.path;if(!l){var c=fn(a.x,a.y,o,n.angle);l=[["M",c.x,c.y],["L",n.x,n.y]]}var f=t[u];f.destroyed||f.addShape("path",{capture:!1,attrs:(0,x.pi)({path:l,stroke:n.color?n.color:(0,d.U2)(n,["style","fill"],"#000"),fill:null},s.style),id:u,origin:n.mappingData,data:n.data,coordinate:n.coordinate})}}})},e.prototype.renderLabelBackground=function(r,t){(0,d.S6)(r,function(n){var i=(0,d.U2)(n,"coordinate"),a=(0,d.U2)(n,"background");if(!(!a||!i)){var o=n.id,s=t[o];if(!s.destroyed){var u=s.getChildren()[0];if(u){var l=xv(s,n,a.padding),c=l.rotation,f=(0,x._T)(l,["rotation"]),h=s.addShape("rect",{attrs:(0,x.pi)((0,x.pi)({},f),a.style||{}),id:o,origin:n.mappingData,data:n.data,coordinate:n.coordinate});if(h.setZIndex(-1),c){var v=u.getMatrix();h.setMatrix(v)}}}}})},e.prototype.createOffscreenGroup=function(){var r=this.container,t=r.getGroupBase(),n=new t({});return n},e.prototype.adjustLabel=function(r,t){(0,d.S6)(r,function(n){if(n){var i=n.id,a=t[i];if(!a.destroyed){var o=a.findAll(function(s){return s.get("type")!=="path"});(0,d.S6)(o,function(s){s&&(n.offsetX&&s.attr("x",s.attr("x")+n.offsetX),n.offsetY&&s.attr("y",s.attr("y")+n.offsetY))})}}})},e}(),JI=QI;function Ev(e){var r=0;return(0,d.S6)(e,function(t){r+=t}),r/e.length}var tP=function(){function e(r){this.geometry=r}return e.prototype.getLabelItems=function(r){var t=this,n=[],i=this.getLabelCfgs(r);return(0,d.S6)(r,function(a,o){var s=i[o];if(!s||(0,d.UM)(a.x)||(0,d.UM)(a.y)){n.push(null);return}var u=(0,d.kJ)(s.content)?s.content:[s.content];s.content=u;var l=u.length;(0,d.S6)(u,function(c,f){if((0,d.UM)(c)||c===""){n.push(null);return}var h=(0,x.pi)((0,x.pi)({},s),t.getLabelPoint(s,a,f));h.textAlign||(h.textAlign=t.getLabelAlign(h,f,l)),h.offset<=0&&(h.labelLine=null),n.push(h)})}),n},e.prototype.render=function(r,t){return t===void 0&&(t=!1),(0,x.mG)(this,void 0,void 0,function(){var n,i,a;return(0,x.Jh)(this,function(o){switch(o.label){case 0:return n=this.getLabelItems(r),i=this.getLabelsRenderer(),a=this.getGeometryShapes(),[4,i.render(n,a,t)];case 1:return o.sent(),[2]}})})},e.prototype.clear=function(){var r=this.labelsRenderer;r&&r.clear()},e.prototype.destroy=function(){var r=this.labelsRenderer;r&&r.destroy(),this.labelsRenderer=null},e.prototype.getCoordinate=function(){return this.geometry.coordinate},e.prototype.getDefaultLabelCfg=function(r,t){var n=this.geometry,i=n.type,a=n.theme;return i==="polygon"||i==="interval"&&t==="middle"||r<0&&!["line","point","path"].includes(i)?(0,d.U2)(a,"innerLabels",{}):(0,d.U2)(a,"labels",{})},e.prototype.getThemedLabelCfg=function(r){var t=this.geometry,n=this.getDefaultLabelCfg(),i=t.type,a=t.theme,o;return i==="polygon"||r.offset<0&&!["line","point","path"].includes(i)?o=(0,d.b$)({},n,a.innerLabels,r):o=(0,d.b$)({},n,a.labels,r),o},e.prototype.setLabelPosition=function(r,t,n,i){},e.prototype.getLabelOffset=function(r){var t=this.getCoordinate(),n=this.getOffsetVector(r);return t.isTransposed?n[0]:n[1]},e.prototype.getLabelOffsetPoint=function(r,t,n){var i=r.offset,a=this.getCoordinate(),o=a.isTransposed,s=o?"x":"y",u=o?1:-1,l={x:0,y:0};return t>0||n===1?l[s]=i*u:l[s]=i*u*-1,l},e.prototype.getLabelPoint=function(r,t,n){var i=this.getCoordinate(),a=r.content.length;function o(y,m,E){E===void 0&&(E=!1);var C=y;return(0,d.kJ)(C)&&(r.content.length===1?E?C=Ev(C):C.length<=2?C=C[y.length-1]:C=Ev(C):C=C[m]),C}var s={content:r.content[n],x:0,y:0,start:{x:0,y:0},color:"#fff"},u=(0,d.kJ)(t.shape)?t.shape[0]:t.shape,l=u==="funnel"||u==="pyramid";if(this.geometry.type==="polygon"){var c=CL(t.x,t.y);s.x=c[0],s.y=c[1]}else this.geometry.type==="interval"&&!l?(s.x=o(t.x,n,!0),s.y=o(t.y,n)):(s.x=o(t.x,n),s.y=o(t.y,n));if(l){var f=(0,d.U2)(t,"nextPoints"),h=(0,d.U2)(t,"points");if(f){var v=i.convert(h[1]),p=i.convert(f[1]);s.x=(v.x+p.x)/2,s.y=(v.y+p.y)/2}else if(u==="pyramid"){var v=i.convert(h[1]),p=i.convert(h[2]);s.x=(v.x+p.x)/2,s.y=(v.y+p.y)/2}}r.position&&this.setLabelPosition(s,t,n,r.position);var g=this.getLabelOffsetPoint(r,n,a);return s.start={x:s.x,y:s.y},s.x+=g.x,s.y+=g.y,s.color=t.color,s},e.prototype.getLabelAlign=function(r,t,n){var i="center",a=this.getCoordinate();if(a.isTransposed){var o=r.offset;o<0?i="right":o===0?i="center":i="left",n>1&&t===0&&(i==="right"?i="left":i==="left"&&(i="right"))}return i},e.prototype.getLabelId=function(r){var t=this.geometry,n=t.type,i=t.getXScale(),a=t.getYScale(),o=r[at],s=t.getElementId(r);return n==="line"||n==="area"?s+=" ".concat(o[i.field]):n==="path"&&(s+=" ".concat(o[i.field],"-").concat(o[a.field])),s},e.prototype.getLabelsRenderer=function(){var r=this.geometry,t=r.labelsContainer,n=r.labelOption,i=r.canvasRegion,a=r.animateOption,o=this.geometry.coordinate,s=this.labelsRenderer;return s||(s=new JI({container:t,layout:(0,d.U2)(n,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=s),s.region=i,s.animate=a?hv("label",o):!1,s},e.prototype.getLabelCfgs=function(r){var t=this,n=this.geometry,i=n.labelOption,a=n.scales,o=n.coordinate,s=i,u=s.fields,l=s.callback,c=s.cfg,f=u.map(function(v){return a[v]}),h=[];return(0,d.S6)(r,function(v,p){var g=v[at],y=t.getLabelText(g,f),m;if(l){var E=u.map(function(Y){return g[Y]});if(m=l.apply(void 0,(0,x.ev)([],(0,x.CR)(E),!1)),(0,d.UM)(m)){h.push(null);return}}var C=(0,x.pi)((0,x.pi)({id:t.getLabelId(v),elementId:t.geometry.getElementId(v),data:g,mappingData:v,coordinate:o},c),m);(0,d.mf)(C.position)&&(C.position=C.position(g,v,p));var A=t.getLabelOffset(C.offset||0),M=t.getDefaultLabelCfg(A,C.position);C=(0,d.b$)({},M,C),C.offset=t.getLabelOffset(C.offset||0);var Z=C.content;(0,d.mf)(Z)?C.content=Z(g,v,p):(0,d.o8)(Z)&&(C.content=y[0]),h.push(C)}),h},e.prototype.getLabelText=function(r,t){var n=[];return(0,d.S6)(t,function(i){var a=r[i.field];(0,d.kJ)(a)?a=a.map(function(o){return i.getText(o)}):a=i.getText(a),(0,d.UM)(a)||a===""?n.push(null):n.push(a)}),n},e.prototype.getOffsetVector=function(r){r===void 0&&(r=0);var t=this.getCoordinate(),n=0;return(0,d.hj)(r)&&(n=r),t.isTransposed?t.applyMatrix(n,0):t.applyMatrix(0,n)},e.prototype.getGeometryShapes=function(){var r=this.geometry,t={};return(0,d.S6)(r.elementsMap,function(n,i){t[i]=n.shape}),(0,d.S6)(r.getOffscreenGroup().getChildren(),function(n){var i=r.getElementId(n.get("origin").mappingData);t[i]=n}),t},e}(),c2=tP;function N4(e,r,t){if(!e)return t;var n;if(e.callback&&e.callback.length>1){var i=Array(e.callback.length-1).fill("");n=e.mapping.apply(e,(0,x.ev)([r],(0,x.CR)(i),!1)).join("")}else n=e.mapping(r).join("");return n||t}var s1={hexagon:function(e,r,t){var n=t/2*Math.sqrt(3);return[["M",e,r-t],["L",e+n,r-t/2],["L",e+n,r+t/2],["L",e,r+t],["L",e-n,r+t/2],["L",e-n,r-t/2],["Z"]]},bowtie:function(e,r,t){var n=t-1.5;return[["M",e-t,r-n],["L",e+t,r+n],["L",e+t,r-n],["L",e-t,r+n],["Z"]]},cross:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r+t],["M",e+t,r-t],["L",e-t,r+t]]},tick:function(e,r,t){return[["M",e-t/2,r-t],["L",e+t/2,r-t],["M",e,r-t],["L",e,r+t],["M",e-t/2,r+t],["L",e+t/2,r+t]]},plus:function(e,r,t){return[["M",e-t,r],["L",e+t,r],["M",e,r-t],["L",e,r+t]]},hyphen:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},line:function(e,r,t){return[["M",e,r-t],["L",e,r+t]]}},eP=["line","cross","tick","plus","hyphen"];function rP(e,r){return(0,d.mf)(r)?r(e):(0,d.b$)({},e,r)}function nP(e,r){var t=e.symbol;if((0,d.HD)(t)&&eP.indexOf(t)!==-1){var n=(0,d.U2)(e,"style",{}),i=(0,d.U2)(n,"lineWidth",1),a=n.stroke||n.fill||r;e.style=(0,d.b$)({},e.style,{lineWidth:i,stroke:a,fill:null})}}function Cv(e){var r=e.symbol;(0,d.HD)(r)&&s1[r]&&(e.symbol=s1[r])}function Z4(e){return e.startsWith(Pe.LEFT)||e.startsWith(Pe.RIGHT)?"vertical":"horizontal"}function Sv(e,r,t,n,i){var a=t.getScale(t.type);if(a.isCategory){var o=a.field,s=r.getAttribute("color"),u=r.getAttribute("shape"),l=e.getTheme().defaultColor,c=r.coordinate.isPolar;return a.getTicks().map(function(f,h){var v,p=f.text,g=f.value,y=p,m=a.invert(g),E=e.filterFieldData(o,[(v={},v[o]=m,v)]).length===0;(0,d.S6)(e.views,function(Y){var st;Y.filterFieldData(o,[(st={},st[o]=m,st)]).length||(E=!0)});var C=N4(s,m,l),A=N4(u,m,"point"),M=r.getShapeMarker(A,{color:C,isInPolar:c}),Z=i;return(0,d.mf)(Z)&&(Z=Z(y,h,(0,x.pi)({name:y,value:m},(0,d.b$)({},n,M)))),M=(0,d.b$)({},n,M,ni((0,x.pi)({},Z),["style"])),nP(M,C),Z&&Z.style&&(M.style=rP(M.style,Z.style)),Cv(M),{id:m,name:y,value:m,marker:M,unchecked:E}})}return[]}function iP(e,r,t){return t.map(function(n,i){var a=r;(0,d.mf)(a)&&(a=a(n.name,i,(0,d.b$)({},e,n)));var o=(0,d.mf)(n.marker)?n.marker(n.name,i,(0,d.b$)({},e,n)):n.marker,s=(0,d.b$)({},e,a,o);return Cv(s),n.marker=s,n})}function bv(e,r){var t=(0,d.U2)(e,["components","legend"],{});return(0,d.b$)({},(0,d.U2)(t,["common"],{}),(0,d.b$)({},(0,d.U2)(t,[r],{})))}function z4(e){return e?!1:e==null||isNaN(e)}function Av(e){if((0,d.kJ)(e))return z4(e[1].y);var r=e.y;return(0,d.kJ)(r)?z4(r[0]):z4(r)}function f2(e,r,t){if(r===void 0&&(r=!1),t===void 0&&(t=!0),!e.length||e.length===1&&!t)return[];if(r){for(var n=[],i=0,a=e.length;i<a;i++){var o=e[i];Av(o)||n.push(o)}return[n]}for(var s=[],u=[],i=0,a=e.length;i<a;i++){var o=e[i];Av(o)?u.length&&(u.length===1&&!t||s.push(u),u=[]):u.push(o)}return u.length&&s.push(u),s}function Mv(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var i=t===0?"M":"L";r.push([i,n.x,n.y])}}var a=e[0];return a&&(r.push(["L",a.x,a.y]),r.push(["z"])),r}function Tv(e){for(var r=e.length/2,t=[],n=[],i=0;i<e.length;i++)i<r?t.push(e[i]):n.push(e[i]);var a=n2(t,!1),o=n2(n,!1);n.length&&a.push(["L",n[0].x,n[0].y]),o.shift();var s=a.concat(o);return t.length&&s.push(["L",t[0].x,t[0].y]),s.push(["z"]),s}function un(e,r,t,n){n===void 0&&(n="");var i=e.style,a=i===void 0?{}:i,o=e.defaultStyle,s=e.color,u=e.size,l=(0,x.pi)((0,x.pi)({},o),a);return s&&(r&&(a.stroke||(l.stroke=s)),t&&(a.fill||(l.fill=s))),n&&(0,d.UM)(a[n])&&!(0,d.UM)(u)&&(l[n]=u),l}function wv(e){return(0,d.b$)({},{fill:"#CCD6EC",fillOpacity:.3},(0,d.U2)(e,["background","style"]))}function U4(e){var r=e.x,t=(0,d.kJ)(e.y)?e.y:[e.y];return t.map(function(n,i){return{x:(0,d.kJ)(r)?r[i]:r,y:n}})}var aP={line:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dot:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},dash:function(e,r,t){return[["M",e-t,r],["L",e+t,r]]},smooth:function(e,r,t){return[["M",e-t,r],["A",t/2,t/2,0,1,1,e,r],["A",t/2,t/2,0,1,0,e+t,r]]},hv:function(e,r,t){return[["M",e-t-1,r-2.5],["L",e,r-2.5],["L",e,r+2.5],["L",e+t+1,r+2.5]]},vh:function(e,r,t){return[["M",e-t-1,r+2.5],["L",e,r+2.5],["L",e,r-2.5],["L",e+t+1,r-2.5]]},hvh:function(e,r,t){return[["M",e-(t+1),r+2.5],["L",e-t/2,r+2.5],["L",e-t/2,r-2.5],["L",e+t/2,r-2.5],["L",e+t/2,r+2.5],["L",e+t+1,r+2.5]]},vhv:function(e,r){return[["M",e-5,r+2.5],["L",e-5,r],["L",e,r],["L",e,r-3],["L",e,r+3],["L",e+6.5,r+3]]}};function Fv(e,r){var t=e.color;return{symbol:aP[r],style:{lineWidth:2,r:6,stroke:t}}}function oP(e,r,t){for(var n=e.isStack,i=e.connectNulls,a=e.isInCircle,o=e.showSinglePoint,s=un(e,!0,!1,"lineWidth"),u=f2(e.points,i,o),l=[],c=0,f=u.length;c<f;c++){var h=u[c];l=l.concat(kv(h,a,n,r,t,s))}return s.path=l,s}function H4(e,r,t,n,i){if(e.length===1)return[["M",e[0].x,e[0].y-i.lineWidth/2],["L",e[0].x,e[0].y],["L",e[0].x,e[0].y+i.lineWidth/2]];var a;return t?(r&&e.length&&e.push({x:e[0].x,y:e[0].y}),a=n2(e,!1,n)):(a=Ps(e,!1),r&&a.push(["Z"])),a}function sP(e,r,t,n,i,a){var o=[],s=[];(0,d.S6)(e,function(c){var f=U4(c);o.push(f[1]),s.push(f[0])});var u=H4(o,r,n,i,a),l=H4(s,r,n,i,a);return t?u:u.concat(l)}function kv(e,r,t,n,i,a){if(e.length){var o=e[0];return(0,d.kJ)(o.y)?sP(e,r,t,n,i,a):H4(e,r,n,i,a)}return[]}var l9t=So("line",{defaultShapeType:"line"});(0,d.S6)(["line","dot","dash","smooth"],function(e){kr("line",e,{draw:function(r,t){var n=e==="smooth",i;if(n){var a=this.coordinate,o=a.start,s=a.end;i=[[o.x,s.y],[s.x,o.y]]}var u=oP(r,n,i),l=t.addShape({type:"path",attrs:u,name:"line",capture:!n});return l},getMarker:function(r){return Fv(r,e)}})});var c9t=null,f9t="4.2.9",ai={getLegendItems:Sv,translate:zs,rotate:B4,zoom:$I,transform:l2,getAngle:Os,getSectorPath:_o,polarToCartesian:fn,getDelegationObject:a1,getTooltipItems:L4,getMappingValue:N4,getPath:kv,getPathPoints:f2},Mo={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Nr={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ia=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],uP=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],lP=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],cP=function(e){e===void 0&&(e={});var r=e.paletteQualitative10,t=r===void 0?ia:r,n=e.paletteQualitative20,i=n===void 0?uP:n,a=e.brandColor,o=a===void 0?t[0]:a,s={backgroundColor:"#141414",brandColor:o,subColor:"rgba(255,255,255,0.05)",paletteQualitative10:t,paletteQualitative20:i,paletteSemanticRed:"#F4664A",paletteSemanticGreen:"#30BF78",paletteSemanticYellow:"#FAAD14",paletteSequence:lP,fontFamily:`"Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`,axisLineBorderColor:Nr[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Nr[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisDescriptionIconFillColor:Mo[85],axisTickLineBorderColor:Nr[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Nr[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Nr[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Nr[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Nr[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ia[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Nr[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Nr[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Nr[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Nr[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Nr[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Nr[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Mo[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Mo[25],annotationArcBorderColor:Nr[15],annotationArcBorder:1,annotationLineBorderColor:Nr[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Nr[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Nr[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Nr[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Nr[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Nr[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Mo[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Nr[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Mo[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Nr[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:ia[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Mo[100],pointBorderOpacity:1,pointActiveBorderColor:Nr[100],pointSelectedBorder:2,pointSelectedBorderColor:Nr[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ia[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Mo[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Nr[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Nr[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ia[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ia[0],areaFillOpacity:.25,areaActiveFillColor:ia[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ia[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ia[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Nr[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Nr[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ia[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Nr[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Nr[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ia[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Mo[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Nr[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Nr[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3};return(0,x.pi)((0,x.pi)({},s),e)},fP=cP();function hP(){return window?window.devicePixelRatio:1}function Ov(e,r,t,n){var i=e-t,a=r-n;return Math.sqrt(i*i+a*a)}function u1(e,r,t,n,i,a){return i>=e&&i<=e+t&&a>=r&&a<=r+n}function Us(e,r){return!(r.minX>e.maxX||r.maxX<e.minX||r.minY>e.maxY||r.maxY<e.minY)}function vP(e,r){return!e||!r?e||r:{minX:Math.min(e.minX,r.minX),minY:Math.min(e.minY,r.minY),maxX:Math.max(e.maxX,r.maxX),maxY:Math.max(e.maxY,r.maxY)}}function Lv(e,r){return e[0]===r[0]&&e[1]===r[1]}var pP=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,dP=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,gP=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,Iv=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function Pv(e,r){var t=e.match(Iv);(0,d.S6)(t,function(n){var i=n.split(":");r.addColorStop(i[0],i[1])})}function yP(e,r,t){var n=pP.exec(t),i=parseFloat(n[1])%360*(Math.PI/180),a=n[2],o=r.getBBox(),s,u;i>=0&&i<1/2*Math.PI?(s={x:o.minX,y:o.minY},u={x:o.maxX,y:o.maxY}):1/2*Math.PI<=i&&i<Math.PI?(s={x:o.maxX,y:o.minY},u={x:o.minX,y:o.maxY}):Math.PI<=i&&i<3/2*Math.PI?(s={x:o.maxX,y:o.maxY},u={x:o.minX,y:o.minY}):(s={x:o.minX,y:o.maxY},u={x:o.maxX,y:o.minY});var l=Math.tan(i),c=l*l,f=(u.x-s.x+l*(u.y-s.y))/(c+1)+s.x,h=l*(u.x-s.x+l*(u.y-s.y))/(c+1)+s.y,v=e.createLinearGradient(s.x,s.y,f,h);return Pv(a,v),v}function mP(e,r,t){var n=dP.exec(t),i=parseFloat(n[1]),a=parseFloat(n[2]),o=parseFloat(n[3]),s=n[4];if(o===0){var u=s.match(Iv);return u[u.length-1].split(":")[1]}var l=r.getBBox(),c=l.maxX-l.minX,f=l.maxY-l.minY,h=Math.sqrt(c*c+f*f)/2,v=e.createRadialGradient(l.minX+c*i,l.minY+f*a,0,l.minX+c/2,l.minY+f/2,o*h);return Pv(s,v),v}function xP(e,r,t){if(r.get("patternSource")&&r.get("patternSource")===t)return r.get("pattern");var n,i,a=gP.exec(t),o=a[1],s=a[2];function u(){n=e.createPattern(i,o),r.set("pattern",n),r.set("patternSource",t)}switch(o){case"a":o="repeat";break;case"x":o="repeat-x";break;case"y":o="repeat-y";break;case"n":o="no-repeat";break;default:o="no-repeat"}return i=new Image,s.match(/^data:/i)||(i.crossOrigin="Anonymous"),i.src=s,i.complete?u():(i.onload=u,i.src=i.src),n}function _P(e,r,t){var n=r.getBBox();if(isNaN(n.x)||isNaN(n.y)||isNaN(n.width)||isNaN(n.height))return t;if((0,d.HD)(t)){if(t[1]==="("||t[2]==="("){if(t[0]==="l")return yP(e,r,t);if(t[0]==="r")return mP(e,r,t);if(t[0]==="p")return xP(e,r,t)}return t}if(t instanceof CanvasPattern)return t}function EP(e){var r=0,t=0,n=0,i=0;return(0,d.kJ)(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,[r,t,n,i]}function h2(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function V4(e,r){return h2(e)*h2(r)?(e[0]*r[0]+e[1]*r[1])/(h2(e)*h2(r)):1}function Rv(e,r){return(e[0]*r[1]<e[1]*r[0]?-1:1)*Math.acos(V4(e,r))}function v2(e,r){var t=r[1],n=r[2],i=(0,d.wQ)((0,d.c$)(r[3]),Math.PI*2),a=r[4],o=r[5],s=e[0],u=e[1],l=r[6],c=r[7],f=Math.cos(i)*(s-l)/2+Math.sin(i)*(u-c)/2,h=-1*Math.sin(i)*(s-l)/2+Math.cos(i)*(u-c)/2,v=f*f/(t*t)+h*h/(n*n);v>1&&(t*=Math.sqrt(v),n*=Math.sqrt(v));var p=t*t*(h*h)+n*n*(f*f),g=p?Math.sqrt((t*t*(n*n)-p)/p):1;a===o&&(g*=-1),isNaN(g)&&(g=0);var y=n?g*t*h/n:0,m=t?g*-n*f/t:0,E=(s+l)/2+Math.cos(i)*y-Math.sin(i)*m,C=(u+c)/2+Math.sin(i)*y+Math.cos(i)*m,A=[(f-y)/t,(h-m)/n],M=[(-1*f-y)/t,(-1*h-m)/n],Z=Rv([1,0],A),Y=Rv(A,M);return V4(A,M)<=-1&&(Y=Math.PI),V4(A,M)>=1&&(Y=0),o===0&&Y>0&&(Y=Y-2*Math.PI),o===1&&Y<0&&(Y=Y+2*Math.PI),{cx:E,cy:C,rx:Lv(e,[l,c])?0:t,ry:Lv(e,[l,c])?0:n,startAngle:Z,endAngle:Z+Y,xRotation:i,arcFlag:a,sweepFlag:o}}var p2=Math.sin,d2=Math.cos,G4=Math.atan2,g2=Math.PI;function Dv(e,r,t,n,i,a,o){var s=r.stroke,u=r.lineWidth,l=t-i,c=n-a,f=G4(c,l),h=new Q4({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*d2(g2/6)+","+10*p2(g2/6)+" L0,0 L"+10*d2(g2/6)+",-"+10*p2(g2/6),stroke:s,lineWidth:u}});h.translate(i,a),h.rotateAtPoint(i,a,f),e.set(o?"startArrowShape":"endArrowShape",h)}function Bv(e,r,t,n,i,a,o){var s=r.startArrow,u=r.endArrow,l=r.stroke,c=r.lineWidth,f=o?s:u,h=f.d,v=f.fill,p=f.stroke,g=f.lineWidth,y=(0,x._T)(f,["d","fill","stroke","lineWidth"]),m=t-i,E=n-a,C=G4(E,m);h&&(i=i-d2(C)*h,a=a-p2(C)*h);var A=new Q4({type:"path",canvas:e.get("canvas"),isArrowShape:!0,attrs:(0,x.pi)((0,x.pi)({},y),{stroke:p||l,lineWidth:g||c,fill:v})});A.translate(i,a),A.rotateAtPoint(i,a,C),e.set(o?"startArrowShape":"endArrowShape",A)}function l1(e,r,t,n,i){var a=G4(n-r,t-e);return{dx:d2(a)*i,dy:p2(a)*i}}function j4(e,r,t,n,i,a){typeof r.startArrow=="object"?Bv(e,r,t,n,i,a,!0):r.startArrow?Dv(e,r,t,n,i,a,!0):e.set("startArrowShape",null)}function W4(e,r,t,n,i,a){typeof r.endArrow=="object"?Bv(e,r,t,n,i,a,!1):r.endArrow?Dv(e,r,t,n,i,a,!1):e.set("startArrowShape",null)}var Nv={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function g0(e,r){var t=r.attr();for(var n in t){var i=t[n],a=Nv[n]?Nv[n]:n;a==="matrix"&&i?e.transform(i[0],i[1],i[3],i[4],i[6],i[7]):a==="lineDash"&&e.setLineDash?(0,d.kJ)(i)&&e.setLineDash(i):(a==="strokeStyle"||a==="fillStyle"?i=_P(e,r,i):a==="globalAlpha"&&(i=i*e.globalAlpha),e[a]=i)}}function Y4(e,r,t){for(var n=0;n<r.length;n++){var i=r[n];i.cfg.visible?i.draw(e,t):i.skipDraw()}}function CP(e,r,t){var n=e.get("refreshElements");(0,d.S6)(n,function(i){if(i!==e)for(var a=i.cfg.parent;a&&a!==e&&!a.cfg.refresh;)a.cfg.refresh=!0,a=a.cfg.parent}),n[0]===e?$4(r,t):X4(r,t)}function X4(e,r){for(var t=0;t<e.length;t++){var n=e[t];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&$4(n.cfg.children,r);else if(n.cfg.refresh)n.isGroup()&&X4(n.cfg.children,r);else{var i=SP(n,r);n.cfg.refresh=i,i&&n.isGroup()&&X4(n.cfg.children,r)}}}function Zv(e){for(var r=0;r<e.length;r++){var t=e[r];t.cfg.hasChanged=!1,t.isGroup()&&!t.destroyed&&Zv(t.cfg.children)}}function $4(e,r){for(var t=0;t<e.length;t++){var n=e[t];n.cfg.refresh=!0,n.isGroup()&&$4(n.get("children"),r)}}function SP(e,r){var t=e.cfg.cacheCanvasBBox,n=e.cfg.isInView&&t&&Us(t,r);return n}function zv(e,r,t,n){var i=t.path,a=t.startArrow,o=t.endArrow;if(i){var s=[0,0],u=[0,0],l={dx:0,dy:0};r.beginPath();for(var c=0;c<i.length;c++){var f=i[c],h=f[0];if(c===0&&a&&a.d){var v=e.getStartTangent();l=l1(v[0][0],v[0][1],v[1][0],v[1][1],a.d)}else if(c===i.length-2&&i[c+1][0]==="Z"&&o&&o.d){var p=i[c+1];if(p[0]==="Z"){var v=e.getEndTangent();l=l1(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}}else if(c===i.length-1&&o&&o.d&&i[0]!=="Z"){var v=e.getEndTangent();l=l1(v[0][0],v[0][1],v[1][0],v[1][1],o.d)}var g=l.dx,y=l.dy;switch(h){case"M":r.moveTo(f[1]-g,f[2]-y),u=[f[1],f[2]];break;case"L":r.lineTo(f[1]-g,f[2]-y);break;case"Q":r.quadraticCurveTo(f[1],f[2],f[3]-g,f[4]-y);break;case"C":r.bezierCurveTo(f[1],f[2],f[3],f[4],f[5]-g,f[6]-y);break;case"A":{var m=void 0;n?(m=n[c],m||(m=v2(s,f),n[c]=m)):m=v2(s,f);var E=m.cx,C=m.cy,A=m.rx,M=m.ry,Z=m.startAngle,Y=m.endAngle,st=m.xRotation,Ct=m.sweepFlag;if(r.ellipse)r.ellipse(E,C,A,M,st,Z,Y,1-Ct);else{var Pt=A>M?A:M,Zt=A>M?1:A/M,ie=A>M?M/A:1;r.translate(E,C),r.rotate(st),r.scale(Zt,ie),r.arc(0,0,Pt,Z,Y,1-Ct),r.scale(1/Zt,1/ie),r.rotate(-st),r.translate(-E,-C)}break}case"Z":r.closePath();break;default:break}if(h==="Z")s=u;else{var ce=f.length;s=[f[ce-2],f[ce-1]]}}}}function Uv(e,r){var t=e.get("canvas");t&&(r==="remove"&&(e._cacheCanvasBBox=e.get("cacheCanvasBBox")),e.get("hasChanged")||(e.set("hasChanged",!0),e.cfg.parent&&e.cfg.parent.get("hasChanged")||(t.refreshElement(e,r,t),t.get("autoDraw")&&t.draw())))}function bP(e){var r;if(e.destroyed)r=e._cacheCanvasBBox;else{var t=e.get("cacheCanvasBBox"),n=t&&!!(t.width&&t.height),i=e.getCanvasBBox(),a=i&&!!(i.width&&i.height);n&&a?r=vP(t,i):n?r=t:a&&(r=i)}return r}function AP(e){if(!e.length)return null;var r=[],t=[],n=[],i=[];return(0,d.S6)(e,function(a){var o=bP(a);o&&(r.push(o.minX),t.push(o.minY),n.push(o.maxX),i.push(o.maxY))}),{minX:(0,d.VV)(r),minY:(0,d.VV)(t),maxX:(0,d.Fp)(n),maxY:(0,d.Fp)(i)}}function MP(e,r){return!e||!r||!Us(e,r)?null:{minX:Math.max(e.minX,r.minX),minY:Math.max(e.minY,r.minY),maxX:Math.min(e.maxX,r.maxX),maxY:Math.min(e.maxY,r.maxY)}}var TP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.onCanvasChange=function(t){Uv(this,t)},r.prototype.getShapeBase=function(){return bt},r.prototype.getGroupBase=function(){return r},r.prototype._applyClip=function(t,n){n&&(t.save(),g0(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,n=[],i=[];(0,d.S6)(t,function(h){var v=h.cfg.cacheCanvasBBox;v&&h.cfg.isInView&&(n.push(v.minX,v.maxX),i.push(v.minY,v.maxY))});var a=null;if(n.length){var o=(0,d.VV)(n),s=(0,d.Fp)(n),u=(0,d.VV)(i),l=(0,d.Fp)(i);a={minX:o,minY:u,x:o,y:u,maxX:s,maxY:l,width:s-o,height:l-u};var c=this.cfg.canvas;if(c){var f=c.getViewRange();this.set("isInView",Us(a,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",a)},r.prototype.draw=function(t,n){var i=this.cfg.children,a=n?this.cfg.refresh:!0;i.length&&a&&(t.save(),g0(t,this),this._applyClip(t,this.getClip()),Y4(t,i,n),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},r}(re.AbstractGroup),q4=TP,wP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.getShapeBase=function(){return bt},r.prototype.getGroupBase=function(){return q4},r.prototype.onCanvasChange=function(t){Uv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("type"),n=this.getHitLineWidth(),i=(0,re.getBBoxMethod)(t),a=i(this),o=n/2,s=a.x-o,u=a.y-o,l=a.x+a.width+o,c=a.y+a.height+o;return{x:s,minX:s,y:u,minY:u,width:a.width+n,height:a.height+n,maxX:l,maxY:c}},r.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},r.prototype.isStroke=function(){return!!this.attrs.stroke},r.prototype._applyClip=function(t,n){n&&(t.save(),g0(t,n),n.createPath(t),t.restore(),t.clip(),n._afterDraw())},r.prototype.draw=function(t,n){var i=this.cfg.clipShape;if(n){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var a=this.getCanvasBBox();if(!Us(n,a)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}t.save(),g0(t,this),this._applyClip(t,i),this.drawPath(t),t.restore(),this._afterDraw()},r.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},r.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var n=this.getCanvasBBox(),i=Us(n,t);this.set("isInView",i),i?this.set("cacheCanvasBBox",n):this.set("cacheCanvasBBox",null)}},r.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},r.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},r.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},r.prototype.fill=function(t){t.fill()},r.prototype.stroke=function(t){t.stroke()},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isFill()&&(!(0,d.UM)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.isStroke()&&i>0&&(!(0,d.UM)(o)&&o!==1&&(t.globalAlpha=o),this.stroke(t)),this.afterDrawPath(t)},r.prototype.createPath=function(t){},r.prototype.afterDrawPath=function(t){},r.prototype.isInShape=function(t,n){var i=this.isStroke(),a=this.isFill(),o=this.getHitLineWidth();return this.isInStrokeOrPath(t,n,i,a,o)},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){return!1},r.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t.lineWidth+t.lineAppendWidth},r}(re.AbstractShape),aa=wP,FP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,r:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.r,f=o/2,h=Ov(u,l,t,n);return a&&i?h<=c+f:a?h<=c:i?h>=c-f&&h<=c+f:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.r;t.beginPath(),t.arc(i,a,o,0,Math.PI*2,!1),t.closePath()},r}(aa),kP=FP;function y2(e,r,t,n){return e/(t*t)+r/(n*n)}var OP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=o/2,l=s.x,c=s.y,f=s.rx,h=s.ry,v=(t-l)*(t-l),p=(n-c)*(n-c);return a&&i?y2(v,p,f+u,h+u)<=1:a?y2(v,p,f,h)<=1:i?y2(v,p,f-u,h-u)>=1&&y2(v,p,f+u,h+u)<=1:!1},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.rx,s=n.ry;if(t.beginPath(),t.ellipse)t.ellipse(i,a,o,s,0,0,Math.PI*2,!1);else{var u=o>s?o:s,l=o>s?1:o/s,c=o>s?s/o:1;t.save(),t.translate(i,a),t.scale(l,c),t.arc(0,0,u,0,Math.PI*2),t.restore(),t.closePath()}},r}(aa),LP=OP;function Hv(e){return e instanceof HTMLElement&&(0,d.HD)(e.nodeName)&&e.nodeName.toUpperCase()==="CANVAS"}var IP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.initAttrs=function(t){this._setImage(t.img)},r.prototype.isStroke=function(){return!1},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},r.prototype._setImage=function(t){var n=this,i=this.attrs;if((0,d.HD)(t)){var a=new Image;a.onload=function(){if(n.destroyed)return!1;n.attr("img",a),n.set("loading",!1),n._afterLoading();var o=n.get("callback");o&&o.call(n)},a.crossOrigin="Anonymous",a.src=t,this.set("loading",!0)}else t instanceof Image?(i.width||(i.width=t.width),i.height||(i.height=t.height)):Hv(t)&&(i.width||(i.width=Number(t.getAttribute("width"))),i.height||(i.height,Number(t.getAttribute("height"))))},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="img"&&this._setImage(n)},r.prototype.createPath=function(t){if(this.get("loading")){this.set("toDraw",!0),this.set("context",t);return}var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,u=n.sx,l=n.sy,c=n.swidth,f=n.sheight,h=n.img;(h instanceof Image||Hv(h))&&(!(0,d.UM)(u)&&!(0,d.UM)(l)&&!(0,d.UM)(c)&&!(0,d.UM)(f)?t.drawImage(h,u,l,c,f,i,a,o,s):t.drawImage(h,i,a,o,s))},r}(aa),PP=IP,Hn=F(62930);function To(e,r,t,n,i,a,o){var s=Math.min(e,t),u=Math.max(e,t),l=Math.min(r,n),c=Math.max(r,n),f=i/2;return a>=s-f&&a<=u+f&&o>=l-f&&o<=c+f?Hn.x1.pointToLine(e,r,t,n,a,o)<=i/2:!1}var RP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow()},r.prototype.setArrow=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.startArrow,u=t.endArrow;s&&j4(this,t,a,o,n,i),u&&W4(this,t,n,i,a,o)},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){if(!i||!o)return!1;var s=this.attr(),u=s.x1,l=s.y1,c=s.x2,f=s.y2;return To(u,l,c,f,o,t,n)},r.prototype.createPath=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2,u=n.startArrow,l=n.endArrow,c={dx:0,dy:0},f={dx:0,dy:0};u&&u.d&&(c=l1(i,a,o,s,n.startArrow.d)),l&&l.d&&(f=l1(i,a,o,s,n.endArrow.d)),t.beginPath(),t.moveTo(i+c.dx,a+c.dy),t.lineTo(o-f.dx,s-f.dy)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2;return Hn.x1.length(n,i,a,o)},r.prototype.getPoint=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return Hn.x1.pointAt(i,a,o,s,t)},r}(aa),DP=RP,BP={circle:function(e,r,t){return[["M",e-t,r],["A",t,t,0,1,0,e+t,r],["A",t,t,0,1,0,e-t,r]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["Z"]]},"triangle-down":function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},NP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.initAttrs=function(t){this._resetParamsCache()},r.prototype._resetParamsCache=function(){this.set("paramsCache",{})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),["symbol","x","y","r","radius"].indexOf(t)!==-1&&this._resetParamsCache()},r.prototype.isOnlyHitBox=function(){return!0},r.prototype._getR=function(t){return(0,d.UM)(t.r)?t.radius:t.r},r.prototype._getPath=function(){var t=this.attr(),n=t.x,i=t.y,a=t.symbol||"circle",o=this._getR(t),s,u;if((0,d.mf)(a))s=a,u=s(n,i,o),u=(0,a0.wb)(u);else{if(s=r.Symbols[a],!s)return console.warn(a+" marker is not supported."),null;u=s(n,i,o)}return u},r.prototype.createPath=function(t){var n=this._getPath(),i=this.get("paramsCache");zv(this,t,{path:n},i)},r.Symbols=BP,r}(aa),ZP=NP;function Vv(e,r,t){var n=(0,re.getOffScreenContext)();return e.createPath(n),n.isPointInPath(r,t)}var zP=1e-6;function K4(e){return Math.abs(e)<zP?0:e<0?-1:1}function UP(e,r,t){return(t[0]-e[0])*(r[1]-e[1])===(r[0]-e[0])*(t[1]-e[1])&&Math.min(e[0],r[0])<=t[0]&&t[0]<=Math.max(e[0],r[0])&&Math.min(e[1],r[1])<=t[1]&&t[1]<=Math.max(e[1],r[1])}function Gv(e,r,t){var n=!1,i=e.length;if(i<=2)return!1;for(var a=0;a<i;a++){var o=e[a],s=e[(a+1)%i];if(UP(o,s,[r,t]))return!0;K4(o[1]-t)>0!=K4(s[1]-t)>0&&K4(r-(t-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}function Hs(e,r,t,n,i,a,o,s){var u=(Math.atan2(s-r,o-e)+Math.PI*2)%(Math.PI*2);if(u<n||u>i)return!1;var l={x:e+t*Math.cos(u),y:r+t*Math.sin(u)};return Ov(l.x,l.y,o,s)<=a/2}var HP=Ur.vs;function VP(e){for(var r=!1,t=e.length,n=0;n<t;n++){var i=e[n],a=i[0];if(a==="C"||a==="A"||a==="Q"){r=!0;break}}return r}function GP(e,r,t,n,i){for(var a=!1,o=r/2,s=0;s<e.length;s++){var u=e[s],l=u.currentPoint,c=u.params,f=u.prePoint,h=u.box;if(!(h&&!u1(h.x-o,h.y-o,h.width+r,h.height+r,t,n))){switch(u.command){case"L":case"Z":a=To(f[0],f[1],l[0],l[1],r,t,n);break;case"Q":var v=Hn.lD.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],t,n);a=v<=r/2;break;case"C":var p=Hn.Ll.pointDistance(f[0],f[1],c[1],c[2],c[3],c[4],c[5],c[6],t,n,i);a=p<=r/2;break;case"A":var g=u.arcParams,y=g.cx,m=g.cy,E=g.rx,C=g.ry,A=g.startAngle,M=g.endAngle,Z=g.xRotation,Y=[t,n,1],st=E>C?E:C,Ct=E>C?1:E/C,Pt=E>C?C/E:1,Zt=HP(null,[["t",-y,-m],["r",-Z],["s",1/Ct,1/Pt]]);n0(Y,Y,Zt),a=Hs(0,0,st,A,M,r,Y[0],Y[1]);break;default:break}if(a)break}}return a}function jP(e){for(var r=e.length,t=[],n=[],i=[],a=0;a<r;a++){var o=e[a],s=o[0];s==="M"?(i.length&&(n.push(i),i=[]),i.push([o[1],o[2]])):s==="Z"?i.length&&(t.push(i),i=[]):i.push([o[1],o[2]])}return i.length>0&&n.push(i),{polygons:t,polylines:n}}var m2=(0,x.pi)({hasArc:VP,extractPolygons:jP,isPointInStroke:GP},re.PathUtil);function jv(e,r,t){for(var n=!1,i=0;i<e.length;i++){var a=e[i];if(n=Gv(a,r,t),n)break}return n}var WP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t==="path"&&this._setPathArr(n),this.setArrow()},r.prototype._setPathArr=function(t){this.attrs.path=(0,a0.wb)(t);var n=m2.hasArc(t);this.set("hasArc",n),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},r.prototype.getSegments=function(){var t=this.get("segements");return t||(t=(0,a0.zx)(this.attr("path")),this.set("segments",t)),t},r.prototype.setArrow=function(){var t=this.attr(),n=t.startArrow,i=t.endArrow;if(n){var a=this.getStartTangent();j4(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}if(i){var a=this.getEndTangent();W4(this,t,a[0][0],a[0][1],a[1][0],a[1][1])}},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.getSegments(),u=this.get("hasArc"),l=!1;if(i){var c=this.getTotalLength();l=m2.isPointInStroke(s,o,t,n,c)}if(!l&&a)if(u)l=Vv(this,t,n);else{var f=this.attr("path"),h=m2.extractPolygons(f);l=jv(h.polygons,t,n)||jv(h.polylines,t,n)}return l},r.prototype.createPath=function(t){var n=this.attr(),i=this.get("paramsCache");zv(this,t,n,i)},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.get("totalLength");return(0,d.UM)(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},r.prototype.getPoint=function(t){var n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var i,a,o=this.get("curve");if(!n||n.length===0)return o?{x:o[0][1],y:o[0][2]}:null;(0,d.S6)(n,function(c,f){t>=c[0]&&t<=c[1]&&(i=(t-c[0])/(c[1]-c[0]),a=f)});var s=o[a];if((0,d.UM)(s)||(0,d.UM)(a))return null;var u=s.length,l=o[a+1];return Hn.Ll.pointAt(s[u-2],s[u-1],l[1],l[2],l[3],l[4],l[5],l[6],i)},r.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",m2.pathToCurve(t))},r.prototype._setTcache=function(){var t=0,n=0,i=[],a,o,s,u,l=this.get("curve");if(l){if((0,d.S6)(l,function(c,f){s=l[f+1],u=c.length,s&&(t+=Hn.Ll.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6])||0)}),this.set("totalLength",t),t===0){this.set("tCache",[]);return}(0,d.S6)(l,function(c,f){s=l[f+1],u=c.length,s&&(a=[],a[0]=n/t,o=Hn.Ll.length(c[u-2],c[u-1],s[1],s[2],s[3],s[4],s[5],s[6]),n+=o||0,a[1]=n/t,i.push(a))}),this.set("tCache",i)}},r.prototype.getStartTangent=function(){var t=this.getSegments(),n;if(t.length>1){var i=t[0].currentPoint,a=t[1].currentPoint,o=t[1].startTangent;n=[],o?(n.push([i[0]-o[0],i[1]-o[1]]),n.push([i[0],i[1]])):(n.push([a[0],a[1]]),n.push([i[0],i[1]]))}return n},r.prototype.getEndTangent=function(){var t=this.getSegments(),n=t.length,i;if(n>1){var a=t[n-2].currentPoint,o=t[n-1].currentPoint,s=t[n-1].endTangent;i=[],s?(i.push([o[0]-s[0],o[1]-s[1]]),i.push([o[0],o[1]])):(i.push([a[0],a[1]]),i.push([o[0],o[1]]))}return i},r}(aa),Q4=WP;function Wv(e,r,t,n,i){var a=e.length;if(a<2)return!1;for(var o=0;o<a-1;o++){var s=e[o][0],u=e[o][1],l=e[o+1][0],c=e[o+1][1];if(To(s,u,l,c,r,t,n))return!0}if(i){var f=e[0],h=e[a-1];if(To(f[0],f[1],h[0],h[1],r,t,n))return!0}return!1}var YP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr().points,u=!1;return i&&(u=Wv(s,o,t,n,!0)),!u&&a&&(u=Gv(s,t,n)),u},r.prototype.createPath=function(t){var n=this.attr(),i=n.points;if(!(i.length<2)){t.beginPath();for(var a=0;a<i.length;a++){var o=i[a];a===0?t.moveTo(o[0],o[1]):t.lineTo(o[0],o[1])}t.closePath()}},r}(aa),XP=YP,$P=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.initAttrs=function(t){this.setArrow()},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),this.setArrow(),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.setArrow=function(){var t=this.attr(),n=this.attrs,i=n.points,a=n.startArrow,o=n.endArrow,s=i.length,u=i[0][0],l=i[0][1],c=i[s-1][0],f=i[s-1][1];a&&j4(this,t,i[1][0],i[1][1],u,l),o&&W4(this,t,i[s-2][0],i[s-2][1],c,f)},r.prototype.isFill=function(){return!1},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){if(!i||!o)return!1;var s=this.attr().points;return Wv(s,o,t,n,!1)},r.prototype.isStroke=function(){return!0},r.prototype.createPath=function(t){var n=this.attr(),i=n.points,a=n.startArrow,o=n.endArrow,s=i.length;if(!(i.length<2)){var u=i[0][0],l=i[0][1],c=i[s-1][0],f=i[s-1][1];if(a&&a.d){var h=l1(u,l,i[1][0],i[1][1],a.d);u+=h.dx,l+=h.dy}if(o&&o.d){var h=l1(i[s-2][0],i[s-2][1],c,f,o.d);c-=h.dx,f-=h.dy}t.beginPath(),t.moveTo(u,l);for(var v=0;v<s-1;v++){var p=i[v];t.lineTo(p[0],p[1])}t.lineTo(c,f)}},r.prototype.afterDrawPath=function(t){var n=this.get("startArrowShape"),i=this.get("endArrowShape");n&&n.draw(t),i&&i.draw(t)},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,d.UM)(n)?(this.set("totalLength",Hn.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return(0,d.S6)(i,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Hn.x1.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;(0,d.S6)(t,function(u,l){t[l+1]&&(o=[],o[0]=i/n,s=Hn.x1.length(u[0],u[1],t[l+1][0],t[l+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(aa),qP=$P;function KP(e,r,t,n,i,a,o){var s=i/2;return u1(e-s,r-s,t,i,a,o)||u1(e+t-s,r-s,i,n,a,o)||u1(e+s,r+n-s,t,i,a,o)||u1(e-s,r+s,i,n,a,o)}function QP(e,r,t,n,i,a,o,s){var u=a/2;return To(e+i,r,e+t-i,r,a,o,s)||To(e+t,r+i,e+t,r+n-i,a,o,s)||To(e+t-i,r+n,e+i,r+n,a,o,s)||To(e,r+n-i,e,r+i,a,o,s)||Hs(e+t-i,r+i,i,1.5*Math.PI,2*Math.PI,a,o,s)||Hs(e+t-i,r+n-i,i,0,.5*Math.PI,a,o,s)||Hs(e+i,r+n-i,i,.5*Math.PI,Math.PI,a,o,s)||Hs(e+i,r+i,i,Math.PI,1.5*Math.PI,a,o,s)}var JP=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.isInStrokeOrPath=function(t,n,i,a,o){var s=this.attr(),u=s.x,l=s.y,c=s.width,f=s.height,h=s.radius;if(h){var p=!1;return i&&(p=QP(u,l,c,f,h,o,t,n)),!p&&a&&(p=Vv(this,t,n)),p}else{var v=o/2;if(a&&i)return u1(u-v,l-v,c+v,f+v,t,n);if(a)return u1(u,l,c,f,t,n);if(i)return KP(u,l,c,f,o,t,n)}},r.prototype.createPath=function(t){var n=this.attr(),i=n.x,a=n.y,o=n.width,s=n.height,u=n.radius;if(t.beginPath(),u===0)t.rect(i,a,o,s);else{var l=EP(u),c=l[0],f=l[1],h=l[2],v=l[3];t.moveTo(i+c,a),t.lineTo(i+o-f,a),f!==0&&t.arc(i+o-f,a+f,f,-Math.PI/2,0),t.lineTo(i+o,a+s-h),h!==0&&t.arc(i+o-h,a+s-h,h,0,Math.PI/2),t.lineTo(i+v,a+s),v!==0&&t.arc(i+v,a+s-v,v,Math.PI/2,Math.PI),t.lineTo(i,a+c),c!==0&&t.arc(i+c,a+c,c,Math.PI,Math.PI*1.5),t.closePath()}},r}(aa),tR=JP,eR=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.isOnlyHitBox=function(){return!0},r.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},r.prototype._assembleFont=function(){var t=this.attrs;t.font=(0,re.assembleFont)(t)},r.prototype._setText=function(t){var n=null;(0,d.HD)(t)&&t.indexOf(`
`)!==-1&&(n=t.split(`
`)),this.set("textArr",n)},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),t.startsWith("font")&&this._assembleFont(),t==="text"&&this._setText(n)},r.prototype._getSpaceingY=function(){var t=this.attrs,n=t.lineHeight,i=t.fontSize*1;return n?n-i:i*.14},r.prototype._drawTextArr=function(t,n,i){var a=this.attrs,o=a.textBaseline,s=a.x,u=a.y,l=a.fontSize*1,c=this._getSpaceingY(),f=(0,re.getTextHeight)(a.text,a.fontSize,a.lineHeight),h;(0,d.S6)(n,function(v,p){h=u+p*(c+l)-f+l,o==="middle"&&(h+=f-l-(f-l)/2),o==="top"&&(h+=f-l),(0,d.UM)(v)||(i?t.fillText(v,s,h):t.strokeText(v,s,h))})},r.prototype._drawText=function(t,n){var i=this.attr(),a=i.x,o=i.y,s=this.get("textArr");if(s)this._drawTextArr(t,s,n);else{var u=i.text;(0,d.UM)(u)||(n?t.fillText(u,a,o):t.strokeText(u,a,o))}},r.prototype.strokeAndFill=function(t){var n=this.attrs,i=n.lineWidth,a=n.opacity,o=n.strokeOpacity,s=n.fillOpacity;this.isStroke()&&i>0&&(!(0,d.UM)(o)&&o!==1&&(t.globalAlpha=a),this.stroke(t)),this.isFill()&&(!(0,d.UM)(s)&&s!==1?(t.globalAlpha=s,this.fill(t),t.globalAlpha=a):this.fill(t)),this.afterDrawPath(t)},r.prototype.fill=function(t){this._drawText(t,!0)},r.prototype.stroke=function(t){this._drawText(t,!1)},r}(aa),rR=eR;function nR(e,r){if(r){var t=(0,re.invert)(r);return(0,re.multiplyVec2)(t,e)}return e}function Yv(e,r,t){var n=e.getTotalMatrix();if(n){var i=nR([r,t,1],n),a=i[0],o=i[1];return[a,o]}return[r,t]}function Xv(e,r,t){if(e.isCanvas&&e.isCanvas())return!0;if(!(0,re.isAllowCapture)(e)||e.cfg.isInView===!1)return!1;if(e.cfg.clipShape){var n=Yv(e,r,t),i=n[0],a=n[1];if(e.isClipped(i,a))return!1}var o=e.cfg.cacheCanvasBBox||e.getCanvasBBox();return r>=o.minX&&r<=o.maxX&&t>=o.minY&&t<=o.maxY}function $v(e,r,t){if(!Xv(e,r,t))return null;for(var n=null,i=e.getChildren(),a=i.length,o=a-1;o>=0;o--){var s=i[o];if(s.isGroup())n=$v(s,r,t);else if(Xv(s,r,t)){var u=s,l=Yv(s,r,t),c=l[0],f=l[1];u.isInShape(c,f)&&(n=s)}if(n)break}return n}var iR=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){var t=e.prototype.getDefaultCfg.call(this);return t.renderer="canvas",t.autoDraw=!0,t.localRefresh=!0,t.refreshElements=[],t.clipView=!0,t.quickHit=!1,t},r.prototype.onCanvasChange=function(t){(t==="attr"||t==="sort"||t==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},r.prototype.getShapeBase=function(){return bt},r.prototype.getGroupBase=function(){return q4},r.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||hP();return t>=1?Math.ceil(t):1},r.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},r.prototype.createDom=function(){var t=document.createElement("canvas"),n=t.getContext("2d");return this.set("context",n),t},r.prototype.setDOMSize=function(t,n){e.prototype.setDOMSize.call(this,t,n);var i=this.get("context"),a=this.get("el"),o=this.getPixelRatio();a.width=o*t,a.height=o*n,o>1&&i.scale(o,o)},r.prototype.clear=function(){e.prototype.clear.call(this),this._clearFrame();var t=this.get("context"),n=this.get("el");t.clearRect(0,0,n.width,n.height)},r.prototype.getShape=function(t,n){var i;return this.get("quickHit")?i=$v(this,t,n):i=e.prototype.getShape.call(this,t,n,null),i},r.prototype._getRefreshRegion=function(){var t=this.get("refreshElements"),n=this.getViewRange(),i;if(t.length&&t[0]===this)i=n;else if(i=AP(t),i){i.minX=Math.floor(i.minX),i.minY=Math.floor(i.minY),i.maxX=Math.ceil(i.maxX),i.maxY=Math.ceil(i.maxY),i.maxY+=1;var a=this.get("clipView");a&&(i=MP(i,n))}return i},r.prototype.refreshElement=function(t){var n=this.get("refreshElements");n.push(t)},r.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&((0,d.VS)(t),this.set("drawFrame",null),this.set("refreshElements",[]))},r.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},r.prototype._drawAll=function(){var t=this.get("context"),n=this.get("el"),i=this.getChildren();t.clearRect(0,0,n.width,n.height),g0(t,this),Y4(t,i),this.set("refreshElements",[])},r.prototype._drawRegion=function(){var t=this.get("context"),n=this.get("refreshElements"),i=this.getChildren(),a=this._getRefreshRegion();a?(t.clearRect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.save(),t.beginPath(),t.rect(a.minX,a.minY,a.maxX-a.minX,a.maxY-a.minY),t.clip(),g0(t,this),CP(this,i,a),Y4(t,i,a),t.restore()):n.length&&Zv(n),(0,d.S6)(n,function(o){o.get("hasChanged")&&o.set("hasChanged",!1)}),this.set("refreshElements",[])},r.prototype._startDraw=function(){var t=this,n=this.get("drawFrame");n||(n=(0,d.U7)(function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null)}),this.set("drawFrame",n))},r.prototype.skipDraw=function(){},r.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},r}(re.AbstractCanvas),aR=iR,oR="0.5.12",J4={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},Fr={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},h9t=null;function zi(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qv(e){var r=J4[e.type],t=e.getParent();if(!r)throw new Error("the type "+e.type+" is not supported by svg");var n=zi(r);if(e.get("id")&&(n.id=e.get("id")),e.set("el",n),e.set("attrs",{}),t){var i=t.get("el");i||(i=t.createDom(),t.set("el",i)),i.appendChild(n)}return n}function Kv(e,r){var t=e.get("el"),n=(0,d.qo)(t.children).sort(r),i=document.createDocumentFragment();n.forEach(function(a){i.appendChild(a)}),t.appendChild(i)}function sR(e,r){var t=e.parentNode,n=Array.from(t.childNodes).filter(function(s){return s.nodeType===1&&s.nodeName.toLowerCase()!=="defs"}),i=n[r],a=n.indexOf(e);if(i){if(a>r)t.insertBefore(e,i);else if(a<r){var o=n[r+1];o?t.insertBefore(e,o):t.appendChild(e)}}else t.appendChild(e)}function uR(e,r){var t=e.cfg.el,n=e.attr(),i={dx:n.shadowOffsetX,dy:n.shadowOffsetY,blur:n.shadowBlur,color:n.shadowColor};if(!i.dx&&!i.dy&&!i.blur&&!i.color)t.removeAttribute("filter");else{var a=r.find("filter",i);a||(a=r.addShadow(i)),t.setAttribute("filter","url(#"+a+")")}}function Vs(e){var r=e.attr().matrix;if(r){for(var t=e.cfg.el,n=[],i=0;i<9;i+=3)n.push(r[i]+","+r[i+1]);n=n.join(","),n.indexOf("NaN")===-1?t.setAttribute("transform","matrix("+n+")"):console.warn("invalid matrix:",r)}}function Gs(e,r){var t=e.getClip(),n=e.get("el");if(!t)n.removeAttribute("clip-path");else if(t&&!n.hasAttribute("clip-path")){qv(t),t.createPath(r);var i=r.addClip(t);n.setAttribute("clip-path","url(#"+i+")")}}function Qv(e,r){r.forEach(function(t){t.draw(e)})}function Jv(e,r){var t=e.get("canvas");if(t&&t.get("autoDraw")){var n=t.get("context"),i=e.getParent(),a=i?i.getChildren():[t],o=e.get("el");if(r==="remove"){var s=e.get("isClipShape");if(s){var u=o&&o.parentNode,l=u&&u.parentNode;u&&l&&l.removeChild(u)}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(r==="show")o.setAttribute("visibility","visible");else if(r==="hide")o.setAttribute("visibility","hidden");else if(r==="zIndex")sR(o,a.indexOf(e));else if(r==="sort"){var c=e.get("children");c&&c.length&&Kv(e,function(f,h){return c.indexOf(f)-c.indexOf(h)?1:0})}else r==="clear"?o&&(o.innerHTML=""):r==="matrix"?Vs(e):r==="clip"?Gs(e,n):r==="attr"||r==="add"&&e.draw(n)}}var lR=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.isEntityGroup=function(){return!0},r.prototype.createDom=function(){var t=zi("g");this.set("el",t);var n=this.getParent();if(n){var i=n.get("el");i||(i=n.createDom(),n.set("el",i)),i.appendChild(t)}return t},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.createPath(i,t)}},r.prototype.onCanvasChange=function(t){Jv(this,t)},r.prototype.getShapeBase=function(){return Ft},r.prototype.getGroupBase=function(){return r},r.prototype.draw=function(t){var n=this.getChildren(),i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||this.createDom(),Gs(this,t),this.createPath(t),n.length&&Qv(t,n))},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){Fr[s]&&a.setAttribute(Fr[s],o)}),Vs(this)},r}(re.AbstractGroup),tf=lR,cR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="svg",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},r.prototype.afterAttrsChange=function(t){e.prototype.afterAttrsChange.call(this,t);var n=this.get("canvas");if(n&&n.get("autoDraw")){var i=n.get("context");this.draw(i,t)}},r.prototype.getShapeBase=function(){return Ft},r.prototype.getGroupBase=function(){return tf},r.prototype.onCanvasChange=function(t){Jv(this,t)},r.prototype.calculateBBox=function(){var t=this.get("el"),n=null;if(t)n=t.getBBox();else{var i=(0,re.getBBoxMethod)(this.get("type"));i&&(n=i(this))}if(n){var a=n.x,o=n.y,s=n.width,u=n.height,l=this.getHitLineWidth(),c=l/2,f=a-c,h=o-c,v=a+s+c,p=o+u+c;return{x:f,y:h,minX:f,minY:h,maxX:v,maxY:p,width:s+l,height:u+l}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},r.prototype.isFill=function(){var t=this.attr(),n=t.fill,i=t.fillStyle;return(n||i||this.isClipShape())&&this.canFill},r.prototype.isStroke=function(){var t=this.attr(),n=t.stroke,i=t.strokeStyle;return(n||i)&&this.canStroke},r.prototype.draw=function(t,n){var i=this.get("el");this.get("destroyed")?i&&i.parentNode.removeChild(i):(i||qv(this),Gs(this,t),this.createPath(t,n),this.shadow(t,n),this.strokeAndFill(t,n),this.transform(n))},r.prototype.createPath=function(t,n){},r.prototype.strokeAndFill=function(t,n){var i=n||this.attr(),a=i.fill,o=i.fillStyle,s=i.stroke,u=i.strokeStyle,l=i.fillOpacity,c=i.strokeOpacity,f=i.lineWidth,h=this.get("el");this.canFill&&(n?"fill"in i?this._setColor(t,"fill",a):"fillStyle"in i&&this._setColor(t,"fill",o):this._setColor(t,"fill",a||o),l&&h.setAttribute(Fr.fillOpacity,l)),this.canStroke&&f>0&&(n?"stroke"in i?this._setColor(t,"stroke",s):"strokeStyle"in i&&this._setColor(t,"stroke",u):this._setColor(t,"stroke",s||u),c&&h.setAttribute(Fr.strokeOpacity,c),f&&h.setAttribute(Fr.lineWidth,f))},r.prototype._setColor=function(t,n,i){var a=this.get("el");if(!i){a.setAttribute(Fr[n],"none");return}if(i=i.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(i)){var o=t.find("gradient",i);o||(o=t.addGradient(i)),a.setAttribute(Fr[n],"url(#"+o+")")}else if(/^[p,P]{1}[\s]*\(/.test(i)){var o=t.find("pattern",i);o||(o=t.addPattern(i)),a.setAttribute(Fr[n],"url(#"+o+")")}else a.setAttribute(Fr[n],i)},r.prototype.shadow=function(t,n){var i=this.attr(),a=n||i,o=a.shadowOffsetX,s=a.shadowOffsetY,u=a.shadowBlur,l=a.shadowColor;(o||s||u||l)&&uR(this,t)},r.prototype.transform=function(t){var n=this.attr(),i=(t||n).matrix;i&&Vs(this)},r.prototype.isInShape=function(t,n){return this.isPointInPath(t,n)},r.prototype.isPointInPath=function(t,n){var i=this.get("el"),a=this.get("canvas"),o=a.get("el").getBoundingClientRect(),s=t+o.left,u=n+o.top,l=document.elementFromPoint(s,u);return!!(l&&l.isEqualNode(i))},r.prototype.getHitLineWidth=function(){var t=this.attrs,n=t.lineWidth,i=t.lineAppendWidth;return this.isStroke()?n+i:0},r}(re.AbstractShape),Ui=cR,fR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,r:0})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Fr[s]&&a.setAttribute(Fr[s],o)})},r}(Ui),hR=fR,vR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dom",t.canFill=!1,t.canStroke=!1,t}return r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");if((0,d.S6)(n||i,function(l,c){Fr[c]&&a.setAttribute(Fr[c],l)}),typeof i.html=="function"){var o=i.html.call(this,i);if(o instanceof Element||o instanceof HTMLDocument){for(var s=a.childNodes,u=s.length-1;u>=0;u--)a.removeChild(s[u]);a.appendChild(o)}else a.innerHTML=o}else a.innerHTML=i.html},r}(Ui),pR=vR,dR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ellipse",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,rx:0,ry:0})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){s==="x"||s==="y"?a.setAttribute("c"+s,o):Fr[s]&&a.setAttribute(Fr[s],o)})},r}(Ui),gR=dR,yR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="image",t.canFill=!1,t.canStroke=!1,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,width:0,height:0})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");(0,d.S6)(n||a,function(s,u){u==="img"?i._setImage(a.img):Fr[u]&&o.setAttribute(Fr[u],s)})},r.prototype.setAttr=function(t,n){this.attrs[t]=n,t==="img"&&this._setImage(n)},r.prototype._setImage=function(t){var n=this.attr(),i=this.get("el");if((0,d.HD)(t))i.setAttribute("href",t);else if(t instanceof window.Image)n.width||(i.setAttribute("width",t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",t.height),this.attr("height",t.height)),i.setAttribute("href",t.src);else if(t instanceof HTMLElement&&(0,d.HD)(t.nodeName)&&t.nodeName.toUpperCase()==="CANVAS")i.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var a=document.createElement("canvas");a.setAttribute("width",""+t.width),a.setAttribute("height",""+t.height),a.getContext("2d").putImageData(t,0,0),n.width||(i.setAttribute("width",""+t.width),this.attr("width",t.width)),n.height||(i.setAttribute("height",""+t.height),this.attr("height",t.height)),i.setAttribute("href",a.toDataURL())}},r}(Ui),mR=yR,xR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t.canFill=!1,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){if(s==="startArrow"||s==="endArrow")if(o){var u=(0,d.Kn)(o)?t.addArrow(i,Fr[s]):t.getDefaultArrow(i,Fr[s]);a.setAttribute(Fr[s],"url(#"+u+")")}else a.removeAttribute(Fr[s]);else Fr[s]&&a.setAttribute(Fr[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr(),n=t.x1,i=t.y1,a=t.x2,o=t.y2;return Hn.x1.length(n,i,a,o)},r.prototype.getPoint=function(t){var n=this.attr(),i=n.x1,a=n.y1,o=n.x2,s=n.y2;return Hn.x1.pointAt(i,a,o,s,t)},r}(Ui),_R=xR,x2={circle:function(e,r,t){return[["M",e,r],["m",-t,0],["a",t,t,0,1,0,t*2,0],["a",t,t,0,1,0,-t*2,0]]},square:function(e,r,t){return[["M",e-t,r-t],["L",e+t,r-t],["L",e+t,r+t],["L",e-t,r+t],["Z"]]},diamond:function(e,r,t){return[["M",e-t,r],["L",e,r-t],["L",e+t,r],["L",e,r+t],["Z"]]},triangle:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r+n],["L",e,r-n],["L",e+t,r+n],["z"]]},triangleDown:function(e,r,t){var n=t*Math.sin(.3333333333333333*Math.PI);return[["M",e-t,r-n],["L",e+t,r-n],["L",e,r+n],["Z"]]}},tp={get:function(e){return x2[e]},register:function(e,r){x2[e]=r},remove:function(e){delete x2[e]},getAll:function(){return x2}},ER=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="marker",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t){var n=this.get("el");n.setAttribute("d",this._assembleMarker())},r.prototype._assembleMarker=function(){var t=this._getPath();return(0,d.kJ)(t)?t.map(function(n){return n.join(" ")}).join(""):t},r.prototype._getPath=function(){var t=this.attr(),n=t.x,i=t.y,a=t.r||t.radius,o=t.symbol||"circle",s;return(0,d.mf)(o)?s=o:s=tp.get(o),s?s(n,i,a):(console.warn(s+" symbol is not exist."),null)},r.symbolsFactory=tp,r}(Ui),CR=ER,SR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="path",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");(0,d.S6)(n||a,function(s,u){if(u==="path"&&(0,d.kJ)(s))o.setAttribute("d",i._formatPath(s));else if(u==="startArrow"||u==="endArrow")if(s){var l=(0,d.Kn)(s)?t.addArrow(a,Fr[u]):t.getDefaultArrow(a,Fr[u]);o.setAttribute(Fr[u],"url(#"+l+")")}else o.removeAttribute(Fr[u]);else Fr[u]&&o.setAttribute(Fr[u],s)})},r.prototype._formatPath=function(t){var n=t.map(function(i){return i.join(" ")}).join("");return~n.indexOf("NaN")?"":n},r.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},r.prototype.getPoint=function(t){var n=this.get("el"),i=this.getTotalLength();if(i===0)return null;var a=n?n.getPointAtLength(t*i):null;return a?{x:a.x,y:a.y}:null},r}(Ui),bR=SR,AR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.canFill=!0,t.canStroke=!0,t}return r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){s==="points"&&(0,d.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):Fr[s]&&a.setAttribute(Fr[s],o)})},r}(Ui),MR=AR,TR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polyline",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{startArrow:!1,endArrow:!1})},r.prototype.onAttrChange=function(t,n,i){e.prototype.onAttrChange.call(this,t,n,i),["points"].indexOf(t)!==-1&&this._resetCache()},r.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},r.prototype.createPath=function(t,n){var i=this.attr(),a=this.get("el");(0,d.S6)(n||i,function(o,s){s==="points"&&(0,d.kJ)(o)&&o.length>=2?a.setAttribute("points",o.map(function(u){return u[0]+","+u[1]}).join(" ")):Fr[s]&&a.setAttribute(Fr[s],o)})},r.prototype.getTotalLength=function(){var t=this.attr().points,n=this.get("totalLength");return(0,d.UM)(n)?(this.set("totalLength",Hn.aH.length(t)),this.get("totalLength")):n},r.prototype.getPoint=function(t){var n=this.attr().points,i=this.get("tCache");i||(this._setTcache(),i=this.get("tCache"));var a,o;return(0,d.S6)(i,function(s,u){t>=s[0]&&t<=s[1]&&(a=(t-s[0])/(s[1]-s[0]),o=u)}),Hn.x1.pointAt(n[o][0],n[o][1],n[o+1][0],n[o+1][1],a)},r.prototype._setTcache=function(){var t=this.attr().points;if(!(!t||t.length===0)){var n=this.getTotalLength();if(!(n<=0)){var i=0,a=[],o,s;(0,d.S6)(t,function(u,l){t[l+1]&&(o=[],o[0]=i/n,s=Hn.x1.length(u[0],u[1],t[l+1][0],t[l+1][1]),i+=s,o[1]=i/n,a.push(o))}),this.set("tCache",a)}}},r.prototype.getStartTangent=function(){var t=this.attr().points,n=[];return n.push([t[1][0],t[1][1]]),n.push([t[0][0],t[0][1]]),n},r.prototype.getEndTangent=function(){var t=this.attr().points,n=t.length-1,i=[];return i.push([t[n-1][0],t[n-1][1]]),i.push([t[n][0],t[n][1]]),i},r}(Ui),wR=TR,FR=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,kR=/[^\s,]+/gi;function OR(e){var r=0,t=0,n=0,i=0;return(0,d.kJ)(e)?e.length===1?r=t=n=i=e[0]:e.length===2?(r=n=e[0],t=i=e[1]):e.length===3?(r=e[0],t=i=e[1],n=e[2]):(r=e[0],t=e[1],n=e[2],i=e[3]):r=t=n=i=e,{r1:r,r2:t,r3:n,r4:i}}function v9t(e){if(e=e||[],isArray(e))return e;if(isString(e))return e=e.match(FR),each(e,function(r,t){if(r=r.match(kR),r[0].length>1){var n=r[0].charAt(0);r.splice(1,0,r[0].substr(1)),r[0]=n}each(r,function(i,a){isNaN(i)||(r[a]=+i)}),e[t]=r}),e}var LR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rect",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,width:0,height:0,radius:0})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el"),s=!1,u=["x","y","width","height","radius"];(0,d.S6)(n||a,function(l,c){u.indexOf(c)!==-1&&!s?(o.setAttribute("d",i._assembleRect(a)),s=!0):u.indexOf(c)===-1&&Fr[c]&&o.setAttribute(Fr[c],l)})},r.prototype._assembleRect=function(t){var n=t.x,i=t.y,a=t.width,o=t.height,s=t.radius;if(!s)return"M "+n+","+i+" l "+a+",0 l 0,"+o+" l"+-a+" 0 z";var u=OR(s);(0,d.kJ)(s)?s.length===1?u.r1=u.r2=u.r3=u.r4=s[0]:s.length===2?(u.r1=u.r3=s[0],u.r2=u.r4=s[1]):s.length===3?(u.r1=s[0],u.r2=u.r4=s[1],u.r3=s[2]):(u.r1=s[0],u.r2=s[1],u.r3=s[2],u.r4=s[3]):u.r1=u.r2=u.r3=u.r4=s;var l=[["M "+(n+u.r1)+","+i],["l "+(a-u.r1-u.r2)+",0"],["a "+u.r2+","+u.r2+",0,0,1,"+u.r2+","+u.r2],["l 0,"+(o-u.r2-u.r3)],["a "+u.r3+","+u.r3+",0,0,1,"+-u.r3+","+u.r3],["l "+(u.r3+u.r4-a)+",0"],["a "+u.r4+","+u.r4+",0,0,1,"+-u.r4+","+-u.r4],["l 0,"+(u.r4+u.r1-o)],["a "+u.r1+","+u.r1+",0,0,1,"+u.r1+","+-u.r1],["z"]];return l.join(" ")},r}(Ui),IR=LR,PR=F(74348),ep=.3,RR={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},DR={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},BR={left:"left",start:"left",center:"middle",right:"end",end:"end"},NR=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="text",t.canFill=!0,t.canStroke=!0,t}return r.prototype.getDefaultAttrs=function(){var t=e.prototype.getDefaultAttrs.call(this);return(0,x.pi)((0,x.pi)({},t),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},r.prototype.createPath=function(t,n){var i=this,a=this.attr(),o=this.get("el");this._setFont(),(0,d.S6)(n||a,function(s,u){u==="text"?i._setText(""+s):u==="matrix"&&s?Vs(i):Fr[u]&&o.setAttribute(Fr[u],s)}),o.setAttribute("paint-order","stroke"),o.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},r.prototype._setFont=function(){var t=this.get("el"),n=this.attr(),i=n.textBaseline,a=n.textAlign,o=(0,PR.qY)();o&&o.name==="firefox"?t.setAttribute("dominant-baseline",DR[i]||"alphabetic"):t.setAttribute("alignment-baseline",RR[i]||"baseline"),t.setAttribute("text-anchor",BR[a]||"left")},r.prototype._setText=function(t){var n=this.get("el"),i=this.attr(),a=i.x,o=i.textBaseline,s=o===void 0?"bottom":o;if(!t)n.innerHTML="";else if(~t.indexOf(`
`)){var u=t.split(`
`),l=u.length-1,c="";(0,d.S6)(u,function(f,h){h===0?s==="alphabetic"?c+='<tspan x="'+a+'" dy="'+-l+'em">'+f+"</tspan>":s==="top"?c+='<tspan x="'+a+'" dy="0.9em">'+f+"</tspan>":s==="middle"?c+='<tspan x="'+a+'" dy="'+-(l-1)/2+'em">'+f+"</tspan>":s==="bottom"?c+='<tspan x="'+a+'" dy="-'+(l+ep)+'em">'+f+"</tspan>":s==="hanging"&&(c+='<tspan x="'+a+'" dy="'+(-(l-1)-ep)+'em">'+f+"</tspan>"):c+='<tspan x="'+a+'" dy="1em">'+f+"</tspan>"}),n.innerHTML=c}else n.innerHTML=t},r}(Ui),ZR=NR,zR=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,UR=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,HR=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function rp(e){var r=e.match(HR);if(!r)return"";var t="";return r.sort(function(n,i){return n=n.split(":"),i=i.split(":"),Number(n[0])-Number(i[0])}),(0,d.S6)(r,function(n){n=n.split(":"),t+='<stop offset="'+n[0]+'" stop-color="'+n[1]+'"></stop>'}),t}function VR(e,r){var t=zR.exec(e),n=(0,d.wQ)((0,d.c$)(parseFloat(t[1])),Math.PI*2),i=t[2],a,o;n>=0&&n<.5*Math.PI?(a={x:0,y:0},o={x:1,y:1}):.5*Math.PI<=n&&n<Math.PI?(a={x:1,y:0},o={x:0,y:1}):Math.PI<=n&&n<1.5*Math.PI?(a={x:1,y:1},o={x:0,y:0}):(a={x:0,y:1},o={x:1,y:0});var s=Math.tan(n),u=s*s,l=(o.x-a.x+s*(o.y-a.y))/(u+1)+a.x,c=s*(o.x-a.x+s*(o.y-a.y))/(u+1)+a.y;r.setAttribute("x1",a.x),r.setAttribute("y1",a.y),r.setAttribute("x2",l),r.setAttribute("y2",c),r.innerHTML=rp(i)}function GR(e,r){var t=UR.exec(e),n=parseFloat(t[1]),i=parseFloat(t[2]),a=parseFloat(t[3]),o=t[4];r.setAttribute("cx",n),r.setAttribute("cy",i),r.setAttribute("r",a),r.innerHTML=rp(o)}var jR=function(){function e(r){this.cfg={};var t=null,n=(0,d.EL)("gradient_");return r.toLowerCase()[0]==="l"?(t=zi("linearGradient"),VR(r,t)):(t=zi("radialGradient"),GR(r,t)),t.setAttribute("id",n),this.el=t,this.id=n,this.cfg=r,this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),WR=jR,YR={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},XR={x:"-40%",y:"-40%",width:"200%",height:"200%"},$R=function(){function e(r){this.type="filter",this.cfg={},this.type="filter";var t=zi("filter");return(0,d.S6)(XR,function(n,i){t.setAttribute(i,n)}),this.el=t,this.id=(0,d.EL)("filter_"),this.el.id=this.id,this.cfg=r,this._parseShadow(r,t),this}return e.prototype.match=function(r,t){if(this.type!==r)return!1;var n=!0,i=this.cfg;return(0,d.S6)(Object.keys(i),function(a){if(i[a]!==t[a])return n=!1,!1}),n},e.prototype.update=function(r,t){var n=this.cfg;return n[YR[r]]=t,this._parseShadow(n,this.el),this},e.prototype._parseShadow=function(r,t){var n=`<feDropShadow
      dx="`+(r.dx||0)+`"
      dy="`+(r.dy||0)+`"
      stdDeviation="`+(r.blur?r.blur/10:0)+`"
      flood-color="`+(r.color?r.color:"#000")+`"
      flood-opacity="`+(r.opacity?r.opacity:1)+`"
      />`;t.innerHTML=n},e}(),qR=$R,KR=function(){function e(r,t){this.cfg={};var n=zi("marker"),i=(0,d.EL)("marker_");n.setAttribute("id",i);var a=zi("path");a.setAttribute("stroke",r.stroke||"none"),a.setAttribute("fill",r.fill||"none"),n.appendChild(a),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=a,this.id=i;var o=r[t==="marker-start"?"startArrow":"endArrow"];return this.stroke=r.stroke||"#000",o===!0?this._setDefaultPath(t,a):(this.cfg=o,this._setMarker(r.lineWidth,a)),this}return e.prototype.match=function(){return!1},e.prototype._setDefaultPath=function(r,t){var n=this.el;t.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY",""+5)},e.prototype._setMarker=function(r,t){var n=this.el,i=this.cfg.path,a=this.cfg.d;(0,d.kJ)(i)&&(i=i.map(function(o){return o.join(" ")}).join("")),t.setAttribute("d",i),n.appendChild(t),a&&n.setAttribute("refX",""+a/r)},e.prototype.update=function(r){var t=this.child;t.attr?t.attr("fill",r):t.setAttribute("fill",r)},e}(),np=KR,QR=function(){function e(r){this.type="clip",this.cfg={};var t=zi("clipPath");this.el=t,this.id=(0,d.EL)("clip_"),t.id=this.id;var n=r.cfg.el;return t.appendChild(n),this.cfg=r,this}return e.prototype.match=function(){return!1},e.prototype.remove=function(){var r=this.el;r.parentNode.removeChild(r)},e}(),JR=QR,tD=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,eD=function(){function e(r){this.cfg={};var t=zi("pattern");t.setAttribute("patternUnits","userSpaceOnUse");var n=zi("image");t.appendChild(n);var i=(0,d.EL)("pattern_");t.id=i,this.el=t,this.id=i,this.cfg=r;var a=tD.exec(r),o=a[2];n.setAttribute("href",o);var s=new Image;o.match(/^data:/i)||(s.crossOrigin="Anonymous"),s.src=o;function u(){t.setAttribute("width",""+s.width),t.setAttribute("height",""+s.height)}return s.complete?u():(s.onload=u,s.src=s.src),this}return e.prototype.match=function(r,t){return this.cfg===t},e}(),rD=eD,nD=function(){function e(r){var t=zi("defs"),n=(0,d.EL)("defs_");t.id=n,r.appendChild(t),this.children=[],this.defaultArrow={},this.el=t,this.canvas=r}return e.prototype.find=function(r,t){for(var n=this.children,i=null,a=0;a<n.length;a++)if(n[a].match(r,t)){i=n[a].id;break}return i},e.prototype.findById=function(r){for(var t=this.children,n=null,i=0;i<t.length;i++)if(t[i].id===r){n=t[i];break}return n},e.prototype.add=function(r){this.children.push(r),r.canvas=this.canvas,r.parent=this},e.prototype.getDefaultArrow=function(r,t){var n=r.stroke||r.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var i=new np(r,t);return this.defaultArrow[n]=i,this.el.appendChild(i.el),this.add(i),i.id},e.prototype.addGradient=function(r){var t=new WR(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addArrow=function(r,t){var n=new np(r,t);return this.el.appendChild(n.el),this.add(n),n.id},e.prototype.addShadow=function(r){var t=new qR(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addPattern=function(r){var t=new rD(r);return this.el.appendChild(t.el),this.add(t),t.id},e.prototype.addClip=function(r){var t=new JR(r);return this.el.appendChild(t.el),this.add(t),t.id},e}(),iD=nD,aD=function(e){(0,x.ZT)(r,e);function r(t){return e.call(this,(0,x.pi)((0,x.pi)({},t),{autoDraw:!0,renderer:"svg"}))||this}return r.prototype.getShapeBase=function(){return Ft},r.prototype.getGroupBase=function(){return tf},r.prototype.getShape=function(t,n,i){var a=i.target||i.srcElement;if(!J4[a.tagName]){for(var o=a.parentNode;o&&!J4[o.tagName];)o=o.parentNode;a=o}return this.find(function(s){return s.get("el")===a})},r.prototype.createDom=function(){var t=zi("svg"),n=new iD(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",n),t},r.prototype.onCanvasChange=function(t){var n=this.get("context"),i=this.get("el");if(t==="sort"){var a=this.get("children");a&&a.length&&Kv(this,function(s,u){return a.indexOf(s)-a.indexOf(u)?1:0})}else if(t==="clear"){if(i){i.innerHTML="";var o=n.el;o.innerHTML="",i.appendChild(o)}}else t==="matrix"?Vs(this):t==="clip"?Gs(this,n):t==="changeSize"&&(i.setAttribute("width",""+this.get("width")),i.setAttribute("height",""+this.get("height")))},r.prototype.draw=function(){var t=this.get("context"),n=this.getChildren();Gs(this,t),n.length&&Qv(t,n)},r}(re.AbstractCanvas),oD=aD,sD="0.5.6",uD=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="path",n.shapeType="line";var i=t.connectNulls,a=i===void 0?!1:i,o=t.showSinglePoint,s=o===void 0?!0:o;return n.connectNulls=a,n.showSinglePoint=s,n}return r.prototype.updateElements=function(t,n){var i,a,o,s,u,l;n===void 0&&(n=!1);for(var c=new Map,f=new Map,h=[],v=0,p=0;p<t.length;p++){var g=t[p],y=this.getElementId(g);h.push(y),c.set(y,g),f.set(y,v),v++}this.elements=new Array(v);var m=mv(this.lastElementsMap,h),E=m.added,C=m.updated,A=m.removed;try{for(var M=(0,x.XA)(E),Z=M.next();!Z.done;Z=M.next()){var y=Z.value,g=c.get(y),Y=this.getShapeFactory(),st=this.getShapeInfo(g),p=f.get(y),Ct=new vv({shapeFactory:Y,container:this.container,offscreenGroup:this.getOffscreenGroup(),elementIndex:p});Ct.geometry=this,Ct.animate=this.animateOption,Ct.draw(st,n),this.elementsMap[y]=Ct,this.elements[p]=Ct}}catch(Re){i={error:Re}}finally{try{Z&&!Z.done&&(a=M.return)&&a.call(M)}finally{if(i)throw i.error}}try{for(var Pt=(0,x.XA)(C),Zt=Pt.next();!Zt.done;Zt=Pt.next()){var y=Zt.value,g=c.get(y),Ct=this.lastElementsMap[y],p=f.get(y),st=this.getShapeInfo(g),ie=Ct.getModel();(this.isCoordinateChanged||yv(ie,st))&&(Ct.animate=this.animateOption,Ct.update(st)),this.elementsMap[y]=Ct,this.elements[p]=Ct}}catch(Re){o={error:Re}}finally{try{Zt&&!Zt.done&&(s=Pt.return)&&s.call(Pt)}finally{if(o)throw o.error}}try{for(var ce=(0,x.XA)(A),_e=ce.next();!_e.done;_e=ce.next()){var y=_e.value,Ct=this.lastElementsMap[y];Ct.animate=this.animateOption,Ct.destroy()}}catch(Re){u={error:Re}}finally{try{_e&&!_e.done&&(l=ce.return)&&l.call(ce)}finally{if(u)throw u.error}}},r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push({x:s.x,y:s.y}),i.push(s[at])}return{points:n,data:i}},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=this.getPointsAndData(t),a=i.points,o=i.data;return n.mappingData=t,n.data=o,n.isStack=!!this.getAdjust("stack"),n.points=a,n.connectNulls=this.connectNulls,n.showSinglePoint=this.showSinglePoint,n},r}(bo),ef=uD;function lD(e,r,t,n,i){var a=[];if(e.length){for(var o=[],s=[],u=0,l=e.length;u<l;u++){var c=e[u];o.push(c[1]),s.push(c[0])}s=s.reverse(),(0,d.S6)([o,s],function(f,h){var v=[],p=n.parsePoints(f),g=p[0];o.length===1&&s.length===1?v=h===0?[["M",g.x-.5,g.y],["L",g.x+.5,g.y]]:[["L",g.x+.5,g.y],["L",g.x-.5,g.y]]:(r&&p.push({x:g.x,y:g.y}),t?v=n2(p,!1,i):v=Ps(p,!1),h>0&&(v[0][0]="L")),a=a.concat(v)}),a.push(["Z"])}return a}function _2(e,r,t,n,i){for(var a=un(e,r,!r,"lineWidth"),o=e.connectNulls,s=e.isInCircle,u=e.points,l=e.showSinglePoint,c=f2(u,o,l),f=[],h=0,v=c.length;h<v;h++){var p=c[h];f=f.concat(lD(p,s,t,n,i))}return a.path=f,a}function ip(e){var r=e.start,t=e.end;return[[r.x,t.y],[t.x,r.y]]}var p9t=So("area",{defaultShapeType:"area",getDefaultPoints:function(e){var r=e.x,t=e.y0,n=(0,d.kJ)(e.y)?e.y:[t,e.y];return n.map(function(i){return{x:r,y:i}})}});kr("area","area",{draw:function(e,r){var t=_2(e,!1,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}});var d9t=null,cD=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="area",n.shapeType="area",n.generatePoints=!0,n.startOnZero=!0;var i=t.startOnZero,a=i===void 0?!0:i,o=t.sortable,s=o===void 0?!1:o,u=t.showSinglePoint,l=u===void 0?!1:u;return n.startOnZero=a,n.sortable=s,n.showSinglePoint=l,n}return r.prototype.getPointsAndData=function(t){for(var n=[],i=[],a=0,o=t.length;a<o;a++){var s=t[a];n.push(s.points),i.push(s[at])}return{points:n,data:i}},r.prototype.getYMinValue=function(){if(this.startOnZero)return e.prototype.getYMinValue.call(this);var t=this.getYScale();return t.min},r}(ef),fD=cD,g9t=So("edge",{defaultShapeType:"line",getDefaultPoints:function(e){return U4(e)}});kr("edge","line",{draw:function(e,r){var t=un(e,!0,!1,"lineWidth"),n=Ps(this.parsePoints(e.points),this.coordinate.isPolar);return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var y9t=null,hD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="edge",t.shapeType="edge",t.generatePoints=!0,t}return r}(bo),vD=hD,pD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t.paletteCache={},t}return r.prototype.updateElements=function(t,n){n===void 0&&(n=!1);for(var i=0;i<t.length;i++){var a=t[i],o=this.prepareRange(a),s=this.prepareSize(),u=(0,d.U2)(this.styleOption,["cfg","shadowBlur"]);(0,d.hj)(u)||(u=s/2),this.prepareGreyScaleBlurredCircle(s,u),this.drawWithRange(a,o,s,u)}},r.prototype.color=function(t,n){return this.createAttrOption("color",t,typeof n!="function"?n:""),this},r.prototype.clear=function(){e.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},r.prototype.prepareRange=function(t){var n=this.getAttribute("color"),i=n.getFields()[0],a=1/0,o=-1/0;return t.forEach(function(s){var u=s[at][i];u>o&&(o=u),u<a&&(a=u)}),a===o&&(a=o-1),[a,o]},r.prototype.prepareSize=function(){var t=this.getDefaultValue("size");return(0,d.hj)(t)||(t=this.getDefaultSize()),t},r.prototype.prepareGreyScaleBlurredCircle=function(t,n){var i=this.getGrayScaleBlurredCanvas(),a=t+n,o=i.getContext("2d");i.width=i.height=a*2,o.clearRect(0,0,i.width,i.height),o.shadowOffsetX=o.shadowOffsetY=a*2,o.shadowBlur=n,o.shadowColor="black",o.beginPath(),o.arc(-a,-a,t,0,Math.PI*2,!0),o.closePath(),o.fill()},r.prototype.drawWithRange=function(t,n,i,a){var o,s,u=this.coordinate,l=u.start,c=u.end,f=this.coordinate.getWidth(),h=this.coordinate.getHeight(),v=this.getAttribute("color"),p=v.getFields()[0];this.clearShadowCanvasCtx();var g=this.getShadowCanvasCtx();n&&(t=t.filter(function(Pt){return Pt[at][p]<=n[1]&&Pt[at][p]>=n[0]}));var y=this.scales[p];try{for(var m=(0,x.XA)(t),E=m.next();!E.done;E=m.next()){var C=E.value,A=this.getDrawCfg(C),M=A.x,Z=A.y,Y=y.scale(C[at][p]);this.drawGrayScaleBlurredCircle(M-l.x,Z-c.y,i+a,Y,g)}}catch(Pt){o={error:Pt}}finally{try{E&&!E.done&&(s=m.return)&&s.call(m)}finally{if(o)throw o.error}}var st=g.getImageData(0,0,f,h);this.clearShadowCanvasCtx(),this.colorize(st),g.putImageData(st,0,0);var Ct=this.getImageShape();Ct.attr("x",l.x),Ct.attr("y",c.y),Ct.attr("width",f),Ct.attr("height",h),Ct.attr("img",g.canvas),Ct.set("origin",this.getShapeInfo(t))},r.prototype.getDefaultSize=function(){var t=this.getAttribute("position"),n=this.coordinate;return Math.min(n.getWidth()/(t.scales[0].ticks.length*4),n.getHeight()/(t.scales[1].ticks.length*4))},r.prototype.clearShadowCanvasCtx=function(){var t=this.getShadowCanvasCtx();t.clearRect(0,0,t.canvas.width,t.canvas.height)},r.prototype.getShadowCanvasCtx=function(){var t=this.shadowCanvas;return t||(t=document.createElement("canvas"),this.shadowCanvas=t),t.width=this.coordinate.getWidth(),t.height=this.coordinate.getHeight(),t.getContext("2d")},r.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},r.prototype.drawGrayScaleBlurredCircle=function(t,n,i,a,o){var s=this.getGrayScaleBlurredCanvas();o.globalAlpha=a,o.drawImage(s,t-i,n-i)},r.prototype.colorize=function(t){for(var n=this.getAttribute("color"),i=t.data,a=this.paletteCache,o=3;o<i.length;o+=4){var s=i[o];if((0,d.hj)(s)){var u=a[s]?a[s]:Ni.rgb2arr(n.gradient(s/256));i[o-3]=u[0],i[o-2]=u[1],i[o-1]=u[2],i[o]=s}}},r.prototype.getImageShape=function(){var t=this.imageShape;if(t)return t;var n=this.container;return t=n.addShape({type:"image",attrs:{}}),this.imageShape=t,t},r.prototype.getShapeInfo=function(t){var n=this.getDrawCfg(t[0]),i=t.map(function(a){return a[at]});return(0,x.pi)((0,x.pi)({},n),{mappingData:t,data:i})},r}(bo),dD=pD;function rf(e){var r,t,n=e.x,i=e.y,a=e.y0,o=e.size,s,u;(0,d.kJ)(i)?(r=(0,x.CR)(i,2),s=r[0],u=r[1]):(s=a,u=i);var l,c;(0,d.kJ)(n)?(t=(0,x.CR)(n,2),l=t[0],c=t[1]):(l=n-o/2,c=n+o/2);var f=[{x:l,y:s},{x:l,y:u}];return f.push({x:c,y:u},{x:c,y:s}),f}function nf(e,r){r===void 0&&(r=!0);var t=[],n=e[0];t.push(["M",n.x,n.y]);for(var i=1,a=e.length;i<a;i++)t.push(["L",e[i].x,e[i].y]);return r&&(t.push(["L",n.x,n.y]),t.push(["z"])),t}function ap(e,r){var t=0,n=0,i=0,a=0;return(0,d.kJ)(e)?e.length===1?t=n=i=a=e[0]:e.length===2?(t=i=e[0],n=a=e[1]):e.length===3?(t=e[0],n=a=e[1],i=e[2]):(t=e[0],n=e[1],i=e[2],a=e[3]):t=n=i=a=e,t+n>r&&(t=t?r/(1+n/t):0,n=r-t),i+a>r&&(i=i?r/(1+a/i):0,a=r-i),[t||0,n||0,i||0,a||0]}function op(e,r,t){var n=[];if(t.isRect){var i=t.isTransposed?{x:t.start.x,y:r[0].y}:{x:r[0].x,y:t.start.y},a=t.isTransposed?{x:t.end.x,y:r[2].y}:{x:r[3].x,y:t.end.y},o=(0,d.U2)(e,["background","style","radius"]);if(o){var s=t.isTransposed?Math.abs(r[0].y-r[2].y):r[2].x-r[1].x,u=t.isTransposed?t.getWidth():t.getHeight(),l=(0,x.CR)(ap(o,Math.min(s,u)),4),c=l[0],f=l[1],h=l[2],v=l[3],p=t.isTransposed&&t.isReflect("y"),g=p?0:1,y=function(Z){return p?-Z:Z};n.push(["M",i.x,a.y+y(c)]),c!==0&&n.push(["A",c,c,0,0,g,i.x+c,a.y]),n.push(["L",a.x-f,a.y]),f!==0&&n.push(["A",f,f,0,0,g,a.x,a.y+y(f)]),n.push(["L",a.x,i.y-y(h)]),h!==0&&n.push(["A",h,h,0,0,g,a.x-h,i.y]),n.push(["L",i.x+v,i.y]),v!==0&&n.push(["A",v,v,0,0,g,i.x,i.y-y(v)])}else n.push(["M",i.x,i.y]),n.push(["L",a.x,i.y]),n.push(["L",a.x,a.y]),n.push(["L",i.x,a.y]),n.push(["L",i.x,i.y]);n.push(["z"])}if(t.isPolar){var m=t.getCenter(),E=Os(e,t),C=E.startAngle,A=E.endAngle;if(t.type!=="theta"&&!t.isTransposed)n=_o(m.x,m.y,t.getRadius(),C,A);else{var M=function(st){return Math.pow(st,2)},c=Math.sqrt(M(m.x-r[0].x)+M(m.y-r[0].y)),f=Math.sqrt(M(m.x-r[2].x)+M(m.y-r[2].y));n=_o(m.x,m.y,c,t.startAngle,t.endAngle,f)}}return n}function gD(e,r,t){var n=t.getWidth(),i=t.getHeight(),a=t.type==="rect",o=[],s=(e[2].x-e[1].x)/2,u=t.isTransposed?s*i/n:s*n/i;return r==="round"?(a?(o.push(["M",e[0].x,e[0].y+u]),o.push(["L",e[1].x,e[1].y-u]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y-u]),o.push(["L",e[3].x,e[3].y+u]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y+u])):(o.push(["M",e[0].x,e[0].y]),o.push(["L",e[1].x,e[1].y]),o.push(["A",s,s,0,0,1,e[2].x,e[2].y]),o.push(["L",e[3].x,e[3].y]),o.push(["A",s,s,0,0,1,e[0].x,e[0].y])),o.push(["z"])):o=nf(e),o}function sp(e,r,t){var n=[];return(0,d.UM)(r)?t?n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",(e[2].x+e[3].x)/2,(e[2].y+e[3].y)/2],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",e[2].x,e[2].y],["L",e[3].x,e[3].y],["Z"]):n.push(["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["L",r[1].x,r[1].y],["L",r[0].x,r[0].y],["Z"]),n}function js(e,r){return[r,e]}function yD(e,r,t){var n,i,a,o,s,u,l,c=(0,x.CR)((0,x.ev)([],(0,x.CR)(e),!1),4),f=c[0],h=c[1],v=c[2],p=c[3],g=(0,x.CR)(typeof t=="number"?Array(4).fill(t):t,4),y=g[0],m=g[1],E=g[2],C=g[3];r.isTransposed&&(n=(0,x.CR)(js(h,p),2),h=n[0],p=n[1]),r.isReflect("y")&&(i=(0,x.CR)(js(f,h),2),f=i[0],h=i[1],a=(0,x.CR)(js(v,p),2),v=a[0],p=a[1]),r.isReflect("x")&&(o=(0,x.CR)(js(f,p),2),f=o[0],p=o[1],s=(0,x.CR)(js(h,v),2),h=s[0],v=s[1]);var A=[],M=function(Z){return Math.abs(Z)};return u=(0,x.CR)(ap([y,m,E,C],Math.min(M(p.x-f.x),M(h.y-f.y))).map(function(Z){return M(Z)}),4),y=u[0],m=u[1],E=u[2],C=u[3],r.isTransposed&&(l=(0,x.CR)([C,y,m,E],4),y=l[0],m=l[1],E=l[2],C=l[3]),f.y<h.y?(A.push(["M",p.x,p.y+E]),E!==0&&A.push(["A",E,E,0,0,0,p.x-E,p.y]),A.push(["L",f.x+C,f.y]),C!==0&&A.push(["A",C,C,0,0,0,f.x,f.y+C]),A.push(["L",h.x,h.y-y]),y!==0&&A.push(["A",y,y,0,0,0,h.x+y,h.y]),A.push(["L",v.x-m,v.y]),m!==0&&A.push(["A",m,m,0,0,0,v.x,v.y-m]),A.push(["L",p.x,p.y+E]),A.push(["z"])):p.x<f.x?(A.push(["M",v.x+m,v.y]),m!==0&&A.push(["A",m,m,0,0,0,v.x,v.y+m]),A.push(["L",p.x,p.y-E]),E!==0&&A.push(["A",E,E,0,0,0,p.x+E,p.y]),A.push(["L",f.x-C,f.y]),C!==0&&A.push(["A",C,C,0,0,0,f.x,f.y-C]),A.push(["L",h.x,h.y+y]),y!==0&&A.push(["A",y,y,0,0,0,h.x-y,h.y]),A.push(["L",v.x+m,v.y]),A.push(["z"])):(A.push(["M",h.x,h.y+y]),y!==0&&A.push(["A",y,y,0,0,1,h.x+y,h.y]),A.push(["L",v.x-m,v.y]),m!==0&&A.push(["A",m,m,0,0,1,v.x,v.y+m]),A.push(["L",p.x,p.y-E]),E!==0&&A.push(["A",E,E,0,0,1,p.x-E,p.y]),A.push(["L",f.x+C,f.y]),C!==0&&A.push(["A",C,C,0,0,1,f.x,f.y-C]),A.push(["L",h.x,h.y+y]),A.push(["z"])),A}var m9t=So("interval",{defaultShapeType:"rect",getDefaultPoints:function(e){return rf(e)}});kr("interval","rect",{draw:function(e,r){var t=un(e,!1,!0),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup({name:"interval-group"});var a=wv(e),o=op(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},a),{path:o}),zIndex:-1,name:R4})}var s;t.radius&&this.coordinate.isRect?s=yD(this.parsePoints(e.points),this.coordinate,t.radius):s=this.parsePath(gD(e.points,t.lineCap,this.coordinate));var u=n.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:s}),name:"interval"});return i?n:u},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,fill:r}}:{symbol:"square",style:{r:4,fill:r}}}});var x9t=null;function mD(e,r){var t=e.length,n=e;(0,d.HD)(n[0])&&(n=e.map(function(s){return r.translate(s)}));for(var i=n[1]-n[0],a=2;a<t;a++){var o=n[a]-n[a-1];i>o&&(i=o)}return i}function xD(e,r){if(r){var t=(0,d.xH)(e),n=(0,d.I)(t,r);return n.length}return e.length}function af(e){var r=e.theme,t=e.coordinate,n=e.getXScale(),i=n.values,a=e.beforeMappingData,o=i.length,s=Ls(e.coordinate),u=e.intervalPadding,l=e.dodgePadding,c=e.maxColumnWidth||r.maxColumnWidth,f=e.minColumnWidth||r.minColumnWidth,h=e.columnWidthRatio||r.columnWidthRatio,v=e.multiplePieWidthRatio||r.multiplePieWidthRatio,p=e.roseWidthRatio||r.roseWidthRatio;if(n.isLinear&&i.length>1){i.sort();var g=mD(i,n);o=(n.max-n.min)/g,i.length>o&&(o=i.length)}var y=n.range,m=1/o,E=1;if(t.isPolar?t.isTransposed&&o>1?E=v:E=p:(n.isLinear&&(m*=y[1]-y[0]),E=h),!(0,d.UM)(u)&&u>=0){var C=u/s;m=(1-(o-1)*C)/o}else m*=E;if(e.getAdjust("dodge")){var A=e.getAdjust("dodge"),M=A.dodgeBy,Z=xD(a,M);if(!(0,d.UM)(l)&&l>=0){var Y=l/s;m=(m-Y*(Z-1))/Z}else!(0,d.UM)(u)&&u>=0&&(m*=E),m=m/Z;m=m>=0?m:0}if(!(0,d.UM)(c)&&c>=0){var st=c/s;m>st&&(m=st)}if(!(0,d.UM)(f)&&f>=0){var Ct=f/s;m<Ct&&(m=Ct)}return m}var _D=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="interval",n.shapeType="interval",n.generatePoints=!0;var i=t.background;return n.background=i,n}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Ls(o);i=i/s}else this.defaultSize||(this.defaultSize=af(this)),i=this.defaultSize;return n.size=i,n},r.prototype.adjustScale=function(){e.prototype.adjustScale.call(this);var t=this.getYScale();if(this.coordinate.type==="theta")t.change({nice:!1,min:0,max:LL(t)});else{var n=this.scaleDefs,i=t.field,a=t.min,o=t.max,s=t.type;s!=="time"&&(a>0&&!(0,d.U2)(n,[i,"min"])&&t.change({min:0}),o<=0&&!(0,d.U2)(n,[i,"max"])&&t.change({max:0}))}},r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return n.background=this.background,n},r}(bo),ED=_D,CD=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type="line";var i=t.sortable,a=i===void 0?!1:i;return n.sortable=a,n}return r}(ef),SD=CD,up=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],bD=["cross","tick","plus","hyphen","line"];function of(e,r,t,n,i){var a,o,s=un(r,i,!i,"r"),u=e.parsePoints(r.points),l=u[0];if(r.isStack)l=u[1];else if(u.length>1){var c=t.addGroup();try{for(var f=(0,x.XA)(u),h=f.next();!h.done;h=f.next()){var v=h.value;c.addShape({type:"marker",attrs:(0,x.pi)((0,x.pi)((0,x.pi)({},s),{symbol:s1[n]||n}),v)})}}catch(p){a={error:p}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(a)throw a.error}}return c}return t.addShape({type:"marker",attrs:(0,x.pi)((0,x.pi)((0,x.pi)({},s),{symbol:s1[n]||n}),l)})}var _9t=So("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(e){return U4(e)}});(0,d.S6)(up,function(e){kr("point","hollow-".concat(e),{draw:function(r,t){return of(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:s1[e]||e,style:{r:4.5,stroke:t,fill:null}}}})});var E9t=null,AD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="point",t.shapeType="point",t.generatePoints=!0,t}return r.prototype.getDrawCfg=function(t){var n=e.prototype.getDrawCfg.call(this,t);return(0,x.pi)((0,x.pi)({},n),{isStack:!!this.getAdjust("stack")})},r}(bo),MD=AD;function TD(e){for(var r=e[0],t=1,n=[["M",r.x,r.y]];t<e.length;){var i=e[t];(i.x!==e[t-1].x||i.y!==e[t-1].y)&&(n.push(["L",i.x,i.y]),i.x===r.x&&i.y===r.y&&t<e.length-1&&(r=e[t+1],n.push(["Z"]),n.push(["M",r.x,r.y]),t++)),t++}return(0,d.Xy)((0,d.Z$)(n),r)||n.push(["L",r.x,r.y]),n.push(["Z"]),n}var C9t=So("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(e){var r=[];return(0,d.S6)(e.x,function(t,n){var i=e.y[n];r.push({x:t,y:i})}),r}});kr("polygon","polygon",{draw:function(e,r){if(!(0,d.xb)(e.points)){var t=un(e,!0,!0),n=this.parsePath(TD(e.points));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n}),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});var S9t=null,wD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="polygon",t.shapeType="polygon",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i=n.x,a=n.y,o;if(!((0,d.kJ)(i)&&(0,d.kJ)(a))){var s=this.getXScale(),u=this.getYScale(),l=s.values.length,c=u.values.length,f=.5*1/l,h=.5*1/c;s.isCategory&&u.isCategory?(i=[i-f,i-f,i+f,i+f],a=[a-h,a+h,a+h,a-h]):(0,d.kJ)(i)?(o=i,i=[o[0],o[0],o[1],o[1]],a=[a-h/2,a+h/2,a+h/2,a-h/2]):(0,d.kJ)(a)&&(o=a,a=[o[0],o[1],o[1],o[0]],i=[i-f/2,i-f/2,i+f/2,i+f/2]),n.x=i,n.y=a}return n},r}(bo),FD=wD,b9t=So("schema",{defaultShapeType:""}),A9t=null,kD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="schema",t.shapeType="schema",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Ls(o);i=i/s}else this.defaultSize||(this.defaultSize=af(this)),i=this.defaultSize;return n.size=i,n},r}(bo),OD=kD;function LD(e){if(!(0,d.kJ)(e))return[];var r=(0,d.Fp)(e);return(0,d.UI)(e,function(t){return t/r})}var M9t=So("violin",{defaultShapeType:"violin",getDefaultPoints:function(e){var r=e.size/2,t=[],n=LD(e._size);return(0,d.S6)(e.y,function(i,a){var o=n[a]*r,s=a===0,u=a===e.y.length-1;t.push({isMin:s,isMax:u,x:e.x-o,y:i}),t.unshift({isMin:s,isMax:u,x:e.x+o,y:i})}),t}});kr("violin","violin",{draw:function(e,r){var t=un(e,!0,!0),n=this.parsePath(Mv(e.points));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n}),name:"violin"})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:r}}}});var T9t=null,ID=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t.shapeType="violin",t.generatePoints=!0,t}return r.prototype.createShapePointsCfg=function(t){var n=e.prototype.createShapePointsCfg.call(this,t),i,a=this.getAttribute("size");if(a){i=this.getAttributeValues(a,t)[0];var o=this.coordinate,s=Ls(o);i=i/s}else this.defaultSize||(this.defaultSize=af(this)),i=this.defaultSize;return n.size=i,n._size=(0,d.U2)(t[at],[this._sizeField]),n},r.prototype.initAttributes=function(){var t=this.attributeOption,n=t.size?t.size.fields[0]:this._sizeField?this._sizeField:"size";this._sizeField=n,delete t.size,e.prototype.initAttributes.call(this)},r}(bo),PD=ID;kr("area","line",{draw:function(e,r){var t=_2(e,!0,!1,this),n=r.addShape({type:"path",attrs:t,name:"area"});return n},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}}),kr("area","smooth",{draw:function(e,r){var t=this.coordinate,n=_2(e,!1,!0,this,ip(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,fill:r,fillOpacity:1}}}}),kr("area","smooth-line",{draw:function(e,r){var t=this.coordinate,n=_2(e,!0,!0,this,ip(t)),i=r.addShape({type:"path",attrs:n,name:"area"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return i===void 0&&(i=5.5),[["M",t-i,n-4],["L",t+i,n-4],["L",t+i,n+4],["L",t-i,n+4],["Z"]]},style:{r:5,stroke:r,fill:null}}}});function sf(e,r){return["C",e.x*1/2+r.x*1/2,e.y,e.x*1/2+r.x*1/2,r.y,r.x,r.y]}function uf(e,r){var t=[];t.push({x:r.x,y:r.y}),t.push(e);var n=["Q"];return(0,d.S6)(t,function(i){n.push(i.x,i.y)}),n}function RD(e,r,t){var n=uf(r,t),i=[["M",e.x,e.y]];return i.push(n),i}function DD(e,r){var t=uf(e[1],r),n=uf(e[3],r),i=[["M",e[0].x,e[0].y]];return i.push(n),i.push(["L",e[3].x,e[3].y]),i.push(["L",e[2].x,e[2].y]),i.push(t),i.push(["L",e[1].x,e[1].y]),i.push(["L",e[0].x,e[0].y]),i.push(["Z"]),i}kr("edge","arc",{draw:function(e,r){var t=un(e,!0,!1,"lineWidth"),n=e.points,i=n.length>2?"weight":"normal",a;if(e.isInCircle){var o={x:0,y:1};return i==="normal"?a=RD(n[0],n[1],o):(t.fill=t.stroke,a=DD(n,o)),a=this.parsePath(a),r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:a})})}else{if(i==="normal")return n=this.parsePoints(n),a=Sh((n[1].x+n[0].x)/2,n[0].y,Math.abs(n[1].x-n[0].x)/2,Math.PI,Math.PI*2),r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:a})});var s=sf(n[1],n[3]),u=sf(n[2],n[0]);return a=[["M",n[0].x,n[0].y],["L",n[1].x,n[1].y],s,["L",n[3].x,n[3].y],["L",n[2].x,n[2].y],u,["Z"]],a=this.parsePath(a),t.fill=t.stroke,r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:a})})}},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});function BD(e,r){var t=sf(e,r),n=[["M",e.x,e.y]];return n.push(t),n}kr("edge","smooth",{draw:function(e,r){var t=un(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(BD(n[0],n[1]));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}});var E2=1/3;function ND(e,r){var t=[];t.push({x:e.x,y:e.y*(1-E2)+r.y*E2}),t.push({x:r.x,y:e.y*(1-E2)+r.y*E2}),t.push(r);var n=[["M",e.x,e.y]];return(0,d.S6)(t,function(i){n.push(["L",i.x,i.y])}),n}kr("edge","vhv",{draw:function(e,r){var t=un(e,!0,!1,"lineWidth"),n=e.points,i=this.parsePath(ND(n[0],n[1]));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:i})})},getMarker:function(e){return{symbol:"circle",style:{r:4.5,fill:e.color}}}}),kr("interval","funnel",{getPoints:function(e){return e.size=e.size*2,rf(e)},draw:function(e,r){var t=un(e,!1,!0),n=this.parsePath(sp(e.points,e.nextPoints,!1)),i=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}}),kr("interval","hollow-rect",{draw:function(e,r){var t=un(e,!0,!1),n=r,i=e==null?void 0:e.background;if(i){n=r.addGroup();var a=wv(e),o=op(e,this.parsePoints(e.points),this.coordinate);n.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},a),{path:o}),zIndex:-1,name:R4})}var s=this.parsePath(nf(e.points)),u=n.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:s}),name:"interval"});return i?n:u},getMarker:function(e){var r=e.color,t=e.isInPolar;return t?{symbol:"circle",style:{r:4.5,stroke:r,fill:null}}:{symbol:"square",style:{r:4,stroke:r,fill:null}}}});function ZD(e){var r=e.x,t=e.y,n=e.y0;return(0,d.kJ)(t)?t.map(function(i,a){return{x:(0,d.kJ)(r)?r[a]:r,y:i}}):[{x:r,y:n},{x:r,y:t}]}kr("interval","line",{getPoints:function(e){return ZD(e)},draw:function(e,r){var t=un(e,!0,!1,"lineWidth"),n=ni((0,x.pi)({},t),["fill"]),i=this.parsePath(nf(e.points,!1)),a=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},n),{path:i}),name:"interval"});return a},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t,n-i],["L",t,n+i]]},style:{r:5,stroke:r}}}}),kr("interval","pyramid",{getPoints:function(e){return e.size=e.size*2,rf(e)},draw:function(e,r){var t=un(e,!1,!0),n=this.parsePath(sp(e.points,e.nextPoints,!0)),i=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}});function zD(e){var r,t=e.x,n=e.y,i=e.y0,a=e.size,o,s;(0,d.kJ)(n)?(r=(0,x.CR)(n,2),o=r[0],s=r[1]):(o=i,s=n);var u=t+a/2,l=t-a/2;return[{x:t,y:o},{x:t,y:s},{x:l,y:o},{x:u,y:o},{x:l,y:s},{x:u,y:s}]}function UD(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y]]}kr("interval","tick",{getPoints:function(e){return zD(e)},draw:function(e,r){var t=un(e,!0,!1),n=this.parsePath(UD(e.points)),i=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n}),name:"interval"});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){return[["M",t-i/2,n-i],["L",t+i/2,n-i],["M",t,n-i],["L",t,n+i],["M",t-i/2,n+i],["L",t+i/2,n+i]]},style:{r:5,stroke:r}}}});var HD=function(e,r,t){var n=e.x,i=e.y,a=r.x,o=r.y,s;switch(t){case"hv":s=[{x:a,y:i}];break;case"vh":s=[{x:n,y:o}];break;case"hvh":var u=(a+n)/2;s=[{x:u,y:i},{x:u,y:o}];break;case"vhv":var l=(i+o)/2;s=[{x:n,y:l},{x:a,y:l}];break;default:break}return s};function VD(e,r){var t=[];return(0,d.S6)(e,function(n,i){var a=e[i+1];if(t.push(n),a){var o=HD(n,a,r);t=t.concat(o)}}),t}function GD(e){return e.map(function(r,t){return t===0?["M",r.x,r.y]:["L",r.x,r.y]})}function jD(e,r){var t=f2(e.points,e.connectNulls,e.showSinglePoint),n=[];return(0,d.S6)(t,function(i){var a=VD(i,r);n=n.concat(GD(a))}),(0,x.pi)((0,x.pi)({},un(e,!0,!1,"lineWidth")),{path:n})}(0,d.S6)(["hv","vh","hvh","vhv"],function(e){kr("line",e,{draw:function(r,t){var n=jD(r,e),i=t.addShape({type:"path",attrs:n,name:"line"});return i},getMarker:function(r){return Fv(r,e)}})}),(0,d.S6)(bD,function(e){kr("point",e,{draw:function(r,t){return of(this,r,t,e,!0)},getMarker:function(r){var t=r.color;return{symbol:s1[e],style:{r:4.5,stroke:t,fill:null}}}})}),kr("point","image",{draw:function(e,r){var t,n,i=un(e,!1,!1,"r").r,a=this.parsePoints(e.points),o=a[0];if(e.isStack)o=a[1];else if(a.length>1){var s=r.addGroup();try{for(var u=(0,x.XA)(a),l=u.next();!l.done;l=u.next()){var c=l.value;s.addShape("image",{attrs:{x:c.x-i/2,y:c.y-i,width:i,height:i,img:e.shape[1]}})}}catch(f){t={error:f}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}return r.addShape("image",{attrs:{x:o.x-i/2,y:o.y-i,width:i,height:i,img:e.shape[1]}})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4.5,fill:r}}}}),(0,d.S6)(up,function(e){kr("point",e,{draw:function(r,t){return of(this,r,t,e,!1)},getMarker:function(r){var t=r.color;return{symbol:s1[e]||e,style:{r:4.5,fill:t}}}})});function lp(e){var r=(0,d.kJ)(e)?e:[e],t=r[0],n=r[r.length-1],i=r.length>1?r[1]:t,a=r.length>3?r[3]:n,o=r.length>2?r[2]:i;return{min:t,max:n,min1:i,max1:a,median:o}}function cp(e,r,t){var n=t/2,i;if((0,d.kJ)(r)){var a=lp(r),o=a.min,s=a.max,u=a.median,l=a.min1,c=a.max1,f=e-n,h=e+n;i=[[f,s],[h,s],[e,s],[e,c],[f,l],[f,c],[h,c],[h,l],[e,l],[e,o],[f,o],[h,o],[f,u],[h,u]]}else{r=(0,d.UM)(r)?.5:r;var v=lp(e),o=v.min,s=v.max,u=v.median,l=v.min1,c=v.max1,p=r-n,g=r+n;i=[[o,p],[o,g],[o,r],[l,r],[l,p],[l,g],[c,g],[c,p],[c,r],[s,r],[s,p],[s,g],[u,p],[u,g]]}return i.map(function(y){return{x:y[0],y:y[1]}})}function WD(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["M",e[4].x,e[4].y],["L",e[5].x,e[5].y],["L",e[6].x,e[6].y],["L",e[7].x,e[7].y],["L",e[4].x,e[4].y],["Z"],["M",e[8].x,e[8].y],["L",e[9].x,e[9].y],["M",e[10].x,e[10].y],["L",e[11].x,e[11].y],["M",e[12].x,e[12].y],["L",e[13].x,e[13].y]]}kr("schema","box",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return cp(r,t,n)},draw:function(e,r){var t=un(e,!0,!1),n=this.parsePath(WD(e.points)),i=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n-6,n-3,n,n+3,n+6],o=cp(t,a,i);return[["M",o[0].x+1,o[0].y],["L",o[1].x-1,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["M",o[4].x,o[4].y],["L",o[5].x,o[5].y],["L",o[6].x,o[6].y],["L",o[7].x,o[7].y],["L",o[4].x,o[4].y],["Z"],["M",o[8].x,o[8].y],["L",o[9].x,o[9].y],["M",o[10].x+1,o[10].y],["L",o[11].x-1,o[11].y],["M",o[12].x,o[12].y],["L",o[13].x,o[13].y]]},style:{r:6,lineWidth:1,stroke:r}}}});function YD(e){var r=(0,d.kJ)(e)?e:[e],t=r.sort(function(n,i){return i-n});return SL(t,4,t[t.length-1])}function fp(e,r,t){var n=YD(r);return[{x:e,y:n[0]},{x:e,y:n[1]},{x:e-t/2,y:n[2]},{x:e-t/2,y:n[1]},{x:e+t/2,y:n[1]},{x:e+t/2,y:n[2]},{x:e,y:n[2]},{x:e,y:n[3]}]}function XD(e){return[["M",e[0].x,e[0].y],["L",e[1].x,e[1].y],["M",e[2].x,e[2].y],["L",e[3].x,e[3].y],["L",e[4].x,e[4].y],["L",e[5].x,e[5].y],["Z"],["M",e[6].x,e[6].y],["L",e[7].x,e[7].y]]}kr("schema","candle",{getPoints:function(e){var r=e.x,t=e.y,n=e.size;return fp(r,t,n)},draw:function(e,r){var t=un(e,!0,!0),n=this.parsePath(XD(e.points)),i=r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n,name:"schema"})});return i},getMarker:function(e){var r=e.color;return{symbol:function(t,n,i){var a=[n+7.5,n+3,n-3,n-7.5],o=fp(t,a,i);return[["M",o[0].x,o[0].y],["L",o[1].x,o[1].y],["M",o[2].x,o[2].y],["L",o[3].x,o[3].y],["L",o[4].x,o[4].y],["L",o[5].x,o[5].y],["Z"],["M",o[6].x,o[6].y],["L",o[7].x,o[7].y]]},style:{lineWidth:1,stroke:r,fill:r,r:6}}}});function $D(e,r){var t=Math.abs(e[0].x-e[2].x),n=Math.abs(e[0].y-e[2].y),i=Math.min(t,n);r&&(i=(0,d.uZ)(r,0,Math.min(t,n))),i=i/2;var a=(e[0].x+e[2].x)/2,o=(e[0].y+e[2].y)/2;return{x:a-i,y:o-i,width:i*2,height:i*2}}kr("polygon","square",{draw:function(e,r){if(!(0,d.xb)(e.points)){var t=un(e,!0,!0),n=this.parsePoints(e.points);return r.addShape("rect",{attrs:(0,x.pi)((0,x.pi)({},t),$D(n,e.size)),name:"polygon"})}},getMarker:function(e){var r=e.color;return{symbol:"square",style:{r:4,fill:r}}}}),kr("violin","smooth",{draw:function(e,r){var t=un(e,!0,!0),n=this.parsePath(Tv(e.points));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{stroke:null,r:4,fill:r}}}}),kr("violin","hollow",{draw:function(e,r){var t=un(e,!0,!1),n=this.parsePath(Mv(e.points));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}}),kr("violin","hollow-smooth",{draw:function(e,r){var t=un(e,!0,!1),n=this.parsePath(Tv(e.points));return r.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},t),{path:n})})},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{r:4,fill:null,stroke:r}}}});var qD=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelValueDir=function(t){var n="y",i=t.points;return i[0][n]<=i[2][n]?1:-1},r.prototype.getLabelOffsetPoint=function(t,n,i,a){var o,s=e.prototype.getLabelOffsetPoint.call(this,t,n,i),u=this.getCoordinate(),l=u.isTransposed,c=l?"x":"y",f=this.getLabelValueDir(t.mappingData);return s=(0,x.pi)((0,x.pi)({},s),(o={},o[c]=s[c]*f,o)),u.isReflect("x")&&(s=(0,x.pi)((0,x.pi)({},s),{x:s.x*-1})),u.isReflect("y")&&(s=(0,x.pi)((0,x.pi)({},s),{y:s.y*-1})),s},r.prototype.getThemedLabelCfg=function(t){var n=this.geometry,i=this.getDefaultLabelCfg(),a=n.theme;return(0,d.b$)({},i,a.labels,t.position==="middle"?{offset:0}:{},t)},r.prototype.setLabelPosition=function(t,n,i,a){var o=this.getCoordinate(),s=o.isTransposed,u=n.points,l=o.convert(u[0]),c=o.convert(u[2]),f=this.getLabelValueDir(n),h,v,p,g,y=(0,d.kJ)(n.shape)?n.shape[0]:n.shape;if(y==="funnel"||y==="pyramid"){var m=(0,d.U2)(n,"nextPoints"),E=(0,d.U2)(n,"points");if(m){var C=o.convert(E[0]),A=o.convert(E[1]),M=o.convert(m[0]),Z=o.convert(m[1]);s?(h=Math.min(M.y,C.y),p=Math.max(M.y,C.y),v=(A.x+Z.x)/2,g=(C.x+M.x)/2):(h=Math.min((A.y+Z.y)/2,(C.y+M.y)/2),p=Math.max((A.y+Z.y)/2,(C.y+M.y)/2),v=Z.x,g=C.x)}else h=Math.min(c.y,l.y),p=Math.max(c.y,l.y),v=c.x,g=l.x}else h=Math.min(c.y,l.y),p=Math.max(c.y,l.y),v=c.x,g=l.x;switch(a){case"right":t.x=v,t.y=(h+p)/2,t.textAlign=(0,d.U2)(t,"textAlign",f>0?"left":"right");break;case"left":t.x=g,t.y=(h+p)/2,t.textAlign=(0,d.U2)(t,"textAlign",f>0?"left":"right");break;case"bottom":s&&(t.x=(v+g)/2),t.y=p,t.textAlign=(0,d.U2)(t,"textAlign","center"),t.textBaseline=(0,d.U2)(t,"textBaseline",f>0?"bottom":"top");break;case"middle":s&&(t.x=(v+g)/2),t.y=(h+p)/2,t.textAlign=(0,d.U2)(t,"textAlign","center"),t.textBaseline=(0,d.U2)(t,"textBaseline","middle");break;case"top":s&&(t.x=(v+g)/2),t.y=h,t.textAlign=(0,d.U2)(t,"textAlign","center"),t.textBaseline=(0,d.U2)(t,"textBaseline",f>0?"bottom":"top");break;default:break}},r}(c2),KD=qD,C2=Math.PI/2,QD=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelOffset=function(t){var n=this.getCoordinate(),i=0;if((0,d.hj)(t))i=t;else if((0,d.HD)(t)&&t.indexOf("%")!==-1){var a=n.getRadius();n.innerRadius>0&&(a=a*(1-n.innerRadius)),i=parseFloat(t)*.01*a}return i},r.prototype.getLabelItems=function(t){var n=e.prototype.getLabelItems.call(this,t),i=this.geometry.getYScale();return(0,d.UI)(n,function(a){if(a&&i){var o=i.scale((0,d.U2)(a.data,i.field));return(0,x.pi)((0,x.pi)({},a),{percent:o})}return a})},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i;if(t.labelEmit)i=t.angle<=Math.PI/2&&t.angle>=-Math.PI/2?"left":"right";else if(!n.isTransposed)i="center";else{var a=n.getCenter(),o=t.offset;Math.abs(t.x-a.x)<1?i="center":t.angle>Math.PI||t.angle<=0?i=o>0?"left":"right":i=o>0?"right":"left"}return i},r.prototype.getLabelPoint=function(t,n,i){var a=1,o,s=t.content[i];this.isToMiddle(n)?o=this.getMiddlePoint(n.points):(t.content.length===1&&i===0?i=1:i===0&&(a=-1),o=this.getArcPoint(n,i));var u=t.offset*a,l=this.getPointAngle(o),c=t.labelEmit,f=this.getCirclePoint(l,u,o,c);return f.r===0?f.content="":(f.content=s,f.angle=l,f.color=n.color),f.rotate=t.autoRotate?this.getLabelRotate(l,u,c):t.rotate,f.start={x:o.x,y:o.y},f},r.prototype.getArcPoint=function(t,n){return n===void 0&&(n=0),!(0,d.kJ)(t.x)&&!(0,d.kJ)(t.y)?{x:t.x,y:t.y}:{x:(0,d.kJ)(t.x)?t.x[n]:t.x,y:(0,d.kJ)(t.y)?t.y[n]:t.y}},r.prototype.getPointAngle=function(t){return u0(this.getCoordinate(),t)},r.prototype.getCirclePoint=function(t,n,i,a){var o=this.getCoordinate(),s=o.getCenter(),u=Kl(o,i);if(u===0)return(0,x.pi)((0,x.pi)({},s),{r:u});var l=t;if(o.isTransposed&&u>n&&!a){var c=Math.asin(n/(2*u));l=t+c*2}else u=u+n;return{x:s.x+u*Math.cos(l),y:s.y+u*Math.sin(l),r:u}},r.prototype.getLabelRotate=function(t,n,i){var a=t+C2;return i&&(a-=C2),a&&(a>C2?a=a-Math.PI:a<-C2&&(a=a+Math.PI)),a},r.prototype.getMiddlePoint=function(t){var n=this.getCoordinate(),i=t.length,a={x:0,y:0};return(0,d.S6)(t,function(o){a.x+=o.x,a.y+=o.y}),a.x/=i,a.y/=i,a=n.convert(a),a},r.prototype.isToMiddle=function(t){return t.x.length>2},r}(c2),hp=QD,JD=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.defaultLayout="distribute",t}return r.prototype.getDefaultLabelCfg=function(t,n){var i=e.prototype.getDefaultLabelCfg.call(this,t,n);return(0,d.b$)({},i,(0,d.U2)(this.geometry.theme,"pieLabels",{}))},r.prototype.getLabelOffset=function(t){return e.prototype.getLabelOffset.call(this,t)||0},r.prototype.getLabelRotate=function(t,n,i){var a;return n<0&&(a=t,a>Math.PI/2&&(a=a-Math.PI),a<-Math.PI/2&&(a=a+Math.PI)),a},r.prototype.getLabelAlign=function(t){var n=this.getCoordinate(),i=n.getCenter(),a;return t.angle<=Math.PI/2&&t.x>=i.x?a="left":a="right",t.offset<=0&&(a==="right"?a="left":a="right"),a},r.prototype.getArcPoint=function(t){return t},r.prototype.getPointAngle=function(t){var n=this.getCoordinate(),i={x:(0,d.kJ)(t.x)?t.x[0]:t.x,y:t.y[0]},a={x:(0,d.kJ)(t.x)?t.x[1]:t.x,y:t.y[1]},o,s=u0(n,i);if(t.points&&t.points[0].y===t.points[1].y)o=s;else{var u=u0(n,a);s>=u&&(u=u+Math.PI*2),o=s+(u-s)/2}return o},r.prototype.getCirclePoint=function(t,n){var i=this.getCoordinate(),a=i.getCenter(),o=i.getRadius()+n;return(0,x.pi)((0,x.pi)({},fn(a.x,a.y,o,t)),{angle:t,r:o})},r}(hp),tB=JD,vp=4;function eB(e,r,t,n,i,a){var o,s,u=!0,l=n.start,c=n.end,f=Math.min(l.y,c.y),h=Math.abs(l.y-c.y),v,p=0,g=Number.MIN_VALUE,y=r.map(function(Y){return Y.y>p&&(p=Y.y),Y.y<g&&(g=Y.y),{size:t,targets:[Y.y-f]}});for(g-=f,p-f>h&&(h=p-f);u;)for(y.forEach(function(Y){var st=(Math.min.apply(g,Y.targets)+Math.max.apply(g,Y.targets))/2;Y.pos=Math.min(Math.max(g,st-Y.size/2),h-Y.size)}),u=!1,v=y.length;v--;)if(v>0){var m=y[v-1],E=y[v];m.pos+m.size>E.pos&&(m.size+=E.size,m.targets=m.targets.concat(E.targets),m.pos+m.size>h&&(m.pos=h-m.size),y.splice(v,1),u=!0)}v=0,y.forEach(function(Y){var st=f+t/2;Y.targets.forEach(function(){r[v].y=Y.pos+st,st+=t,v++})});var C={};try{for(var A=(0,x.XA)(e),M=A.next();!M.done;M=A.next()){var Z=M.value;C[Z.get("id")]=Z}}catch(Y){o={error:Y}}finally{try{M&&!M.done&&(s=A.return)&&s.call(A)}finally{if(o)throw o.error}}r.forEach(function(Y){var st=Y.r*Y.r,Ct=Math.pow(Math.abs(Y.y-i.y),2);if(st<Ct)Y.x=i.x;else{var Pt=Math.sqrt(st-Ct);a?Y.x=i.x+Pt:Y.x=i.x-Pt}var Zt=C[Y.id];Zt.attr("x",Y.x),Zt.attr("y",Y.y);var ie=(0,d.sE)(Zt.getChildren(),function(ce){return ce.get("type")==="text"});ie&&(ie.attr("y",Y.y),ie.attr("x",Y.x))})}function rB(e,r,t,n){if(!(!e.length||!r.length)){var i=e[0]?e[0].offset:0,a=r[0].get("coordinate"),o=a.getRadius(),s=a.getCenter();if(i>0){var u=14,l=o+i,c=l*2+u*2,f={start:a.start,end:a.end},h=[[],[]];e.forEach(function(v){v&&(v.textAlign==="right"?h[0].push(v):h[1].push(v))}),h.forEach(function(v,p){var g=c/u;v.length>g&&(v.sort(function(y,m){return m["..percent"]-y["..percent"]}),v.splice(g,v.length-g)),v.sort(function(y,m){return y.y-m.y}),eB(r,v,u,f,s,p)})}(0,d.S6)(e,function(v){if(v&&v.labelLine){var p=v.offset,g=v.angle,y=fn(s.x,s.y,o,g),m=fn(s.x,s.y,o+p/2,g),E=v.x+(0,d.U2)(v,"offsetX",0),C=v.y+(0,d.U2)(v,"offsetY",0),A={x:E-Math.cos(g)*vp,y:C-Math.sin(g)*vp};(0,d.Kn)(v.labelLine)||(v.labelLine={}),v.labelLine.path=["M ".concat(y.x),"".concat(y.y," Q").concat(m.x),"".concat(m.y," ").concat(A.x),A.y].join(",")}})}}function pp(e,r,t){var n=e.filter(function(p){return!p.invisible});n.sort(function(p,g){return p.y-g.y});var i=!0,a=t.minY,o=t.maxY,s=Math.abs(a-o),u,l=0,c=Number.MIN_VALUE,f=n.map(function(p){return p.y>l&&(l=p.y),p.y<c&&(c=p.y),{content:p.content,size:r,targets:[p.y-a],pos:null}});for(c-=a,l-a>s&&(s=l-a);i;)for(f.forEach(function(p){var g=(Math.min.apply(c,p.targets)+Math.max.apply(c,p.targets))/2;p.pos=Math.min(Math.max(c,g-p.size/2),s-p.size),p.pos=Math.max(0,p.pos)}),i=!1,u=f.length;u--;)if(u>0){var h=f[u-1],v=f[u];h.pos+h.size>v.pos&&(h.size+=v.size,h.targets=h.targets.concat(v.targets),h.pos+h.size>s&&(h.pos=s-h.size),f.splice(u,1),i=!0)}u=0,f.forEach(function(p){var g=a+r/2;p.targets.forEach(function(){n[u].y=p.pos+g,g+=r,u++})})}var dp=4;function nB(e,r){var t=r.getCenter(),n=r.getRadius();if(e&&e.labelLine){var i=e.angle,a=e.offset,o=fn(t.x,t.y,n,i),s=e.x+(0,d.U2)(e,"offsetX",0)*(Math.cos(i)>0?1:-1),u=e.y+(0,d.U2)(e,"offsetY",0)*(Math.sin(i)>0?1:-1),l={x:s-Math.cos(i)*dp,y:u-Math.sin(i)*dp},c=e.labelLine.smooth,f=[],h=l.x-t.x,v=l.y-t.y,p=Math.atan(v/h);if(h<0&&(p+=Math.PI),c===!1){(0,d.Kn)(e.labelLine)||(e.labelLine={});var g=0;(i<0&&i>-Math.PI/2||i>Math.PI*1.5)&&l.y>o.y&&(g=1),i>=0&&i<Math.PI/2&&l.y>o.y&&(g=1),i>=Math.PI/2&&i<Math.PI&&o.y>l.y&&(g=1),(i<-Math.PI/2||i>=Math.PI&&i<Math.PI*1.5)&&o.y>l.y&&(g=1);var y=a/2>4?4:Math.max(a/2-1,0),m=fn(t.x,t.y,n+y,i),E=fn(t.x,t.y,n+a/2,p),C=0;f.push("M ".concat(o.x," ").concat(o.y)),f.push("L ".concat(m.x," ").concat(m.y)),f.push("A ".concat(t.x," ").concat(t.y," 0 ").concat(C," ").concat(g," ").concat(E.x," ").concat(E.y)),f.push("L ".concat(l.x," ").concat(l.y))}else{var m=fn(t.x,t.y,n+(a/2>4?4:Math.max(a/2-1,0)),i),A=o.x<t.x?1:-1;f.push("M ".concat(l.x," ").concat(l.y));var M=(o.y-t.y)/(o.x-t.x),Z=(l.y-t.y)/(l.x-t.x);Math.abs(M-Z)>Math.pow(Math.E,-16)&&f.push.apply(f,["C",l.x+A*4,l.y,2*m.x-o.x,2*m.y-o.y,o.x,o.y]),f.push("L ".concat(o.x," ").concat(o.y))}e.labelLine.path=f.join(" ")}}function iB(e,r,t,n){var i,a,o=(0,d.hX)(e,function(st){return!(0,d.UM)(st)}),s=r[0]&&r[0].get("coordinate");if(s){var u=s.getCenter(),l=s.getRadius(),c={};try{for(var f=(0,x.XA)(r),h=f.next();!h.done;h=f.next()){var v=h.value;c[v.get("id")]=v}}catch(st){i={error:st}}finally{try{h&&!h.done&&(a=f.return)&&a.call(f)}finally{if(i)throw i.error}}var p=(0,d.U2)(o[0],"labelHeight",14),g=(0,d.U2)(o[0],"offset",0);if(!(g<=0)){var y="left",m="right",E=(0,d.vM)(o,function(st){return st.x<u.x?y:m}),C=s.start,A=s.end,M=Math.min((l+g+p)*2,s.getHeight()),Z=M/2,Y={minX:C.x,maxX:A.x,minY:u.y-Z,maxY:u.y+Z};(0,d.S6)(E,function(st,Ct){var Pt=Math.floor(M/p);st.length>Pt&&(st.sort(function(Zt,ie){return ie.percent-Zt.percent}),(0,d.S6)(st,function(Zt,ie){ie+1>Pt&&(c[Zt.id].set("visible",!1),Zt.invisible=!0)})),pp(st,p,Y)}),(0,d.S6)(E,function(st,Ct){(0,d.S6)(st,function(Pt){var Zt=Ct===m,ie=c[Pt.id],ce=ie.getChildByIndex(0);if(ce){var _e=l+g,Re=Pt.y-u.y,he=Math.pow(_e,2),Me=Math.pow(Re,2),De=he-Me>0?he-Me:0,Fe=Math.sqrt(De),Ve=Math.abs(Math.cos(Pt.angle)*_e);Zt?Pt.x=u.x+Math.max(Fe,Ve):Pt.x=u.x-Math.max(Fe,Ve)}ce&&(ce.attr("y",Pt.y),ce.attr("x",Pt.x)),nB(Pt,s)})})}}}var lf=4,aB=4,gp=4;function oB(e,r,t){var n=r.getCenter(),i=r.getRadius(),a={x:e.x-(t?gp:-gp),y:e.y},o=fn(n.x,n.y,i+lf,e.angle),s={x:a.x,y:a.y},u={x:o.x,y:o.y},l=fn(n.x,n.y,i,e.angle),c="";if(a.y!==o.y){var f=t?4:-4;s.y=a.y,e.angle<0&&e.angle>=-Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y<o.y?u.y=s.y:(u.y=o.y,u.x=Math.max(u.x,s.x-f))),e.angle>0&&e.angle<Math.PI/2&&(s.x=Math.max(o.x,a.x-f),a.y>o.y?u.y=s.y:(u.y=o.y,u.x=Math.max(u.x,s.x-f))),e.angle>Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y>o.y?u.y=s.y:(u.y=o.y,u.x=Math.min(u.x,s.x-f))),e.angle<-Math.PI/2&&(s.x=Math.min(o.x,a.x-f),a.y<o.y?u.y=s.y:(u.y=o.y,u.x=Math.min(u.x,s.x-f)))}c=["M ".concat(a.x,",").concat(a.y),"L ".concat(s.x,",").concat(s.y),"L ".concat(u.x,",").concat(u.y),"L ".concat(o.x,",").concat(o.y),"L ".concat(l.x,",").concat(l.y)].join(" "),e.labelLine=(0,d.b$)({},e.labelLine,{path:c})}function sB(e,r,t,n){var i,a,o=r[0]&&r[0].get("coordinate");if(o){var s=o.getCenter(),u=o.getRadius(),l={};try{for(var c=(0,x.XA)(r),f=c.next();!f.done;f=c.next()){var h=f.value;l[h.get("id")]=h}}catch(st){i={error:st}}finally{try{f&&!f.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var v=(0,d.U2)(e[0],"labelHeight",14),p=Math.max((0,d.U2)(e[0],"offset",0),lf);(0,d.S6)(e,function(st){if(st){var Ct=(0,d.U2)(l,[st.id]);if(Ct){var Pt=st.x>s.x||st.x===s.x&&st.y>s.y,Zt=(0,d.UM)(st.offsetX)?aB:st.offsetX,ie=fn(s.x,s.y,u+lf,st.angle),ce=p+Zt;st.x=s.x+(Pt?1:-1)*(u+ce),st.y=ie.y}}});var g=o.start,y=o.end,m="left",E="right",C=(0,d.vM)(e,function(st){return st.x<s.x?m:E}),A=(u+p)*2+v;(0,d.S6)(C,function(st){var Ct=st.length*v;Ct>A&&(A=Math.min(Ct,Math.abs(g.y-y.y)))});var M={minX:g.x,maxX:y.x,minY:s.y-A/2,maxY:s.y+A/2};(0,d.S6)(C,function(st,Ct){var Pt=A/v;st.length>Pt&&(st.sort(function(Zt,ie){return ie.percent-Zt.percent}),(0,d.S6)(st,function(Zt,ie){ie>Pt&&(l[Zt.id].set("visible",!1),Zt.invisible=!0)})),pp(st,v,M)});var Z=M.minY,Y=M.maxY;(0,d.S6)(C,function(st,Ct){var Pt=Ct===E;(0,d.S6)(st,function(Zt){var ie=(0,d.U2)(l,Zt&&[Zt.id]);if(ie){if(Zt.y<Z||Zt.y>Y){ie.set("visible",!1);return}var ce=ie.getChildByIndex(0),_e=ce.getCanvasBBox(),Re={x:Pt?_e.x:_e.maxX,y:_e.y+_e.height/2};zs(ce,Zt.x-Re.x,Zt.y-Re.y),Zt.labelLine&&oB(Zt,o,Pt)}})})}}function uB(e,r,t,n){(0,d.S6)(r,function(i){var a=n.minX,o=n.minY,s=n.maxX,u=n.maxY,l=i.getCanvasBBox(),c=l.minX,f=l.minY,h=l.maxX,v=l.maxY,p=l.x,g=l.y,y=l.width,m=l.height,E=p,C=g;(c<a||h<a)&&(E=a),(f<o||v<o)&&(C=o),c>s?E=s-y:h>s&&(E=E-(h-s)),f>u?C=u-m:v>u&&(C=C-(v-u)),(E!==p||C!==g)&&zs(i,E-p,C-g)})}function lB(e,r,t,n){(0,d.S6)(r,function(i,a){var o=i.getCanvasBBox(),s=t[a].getBBox();(o.minX<s.minX||o.minY<s.minY||o.maxX>s.maxX||o.maxY>s.maxY)&&i.remove(!0)})}var cB=100,yp=function(){function e(r){r===void 0&&(r={}),this.bitmap={};var t=r.xGap,n=t===void 0?1:t,i=r.yGap,a=i===void 0?8:i;this.xGap=n,this.yGap=a}return e.prototype.hasGap=function(r){for(var t=!0,n=this.bitmap,i=Math.round(r.minX),a=Math.round(r.maxX),o=Math.round(r.minY),s=Math.round(r.maxY),u=i;u<=a;u+=1){if(!n[u]){n[u]={};continue}if(u===i||u===a){for(var l=o;l<=s;l++)if(n[u][l]){t=!1;break}}else if(n[u][o]||n[u][s]){t=!1;break}}return t},e.prototype.fillGap=function(r){for(var t=this.bitmap,n=Math.round(r.minX),i=Math.round(r.maxX),a=Math.round(r.minY),o=Math.round(r.maxY),s=n;s<=i;s+=1)t[s]||(t[s]={});for(var s=n;s<=i;s+=this.xGap){for(var u=a;u<=o;u+=this.yGap)t[s][u]=!0;t[s][o]=!0}if(this.yGap!==1)for(var s=a;s<=o;s+=1)t[n][s]=!0,t[i][s]=!0;if(this.xGap!==1)for(var s=n;s<=i;s+=1)t[s][a]=!0,t[s][o]=!0},e.prototype.destroy=function(){this.bitmap={}},e}();function fB(e,r,t){t===void 0&&(t=cB);var n=-1,i=e.attr(),a=i.x,o=i.y,s=e.getCanvasBBox(),u=Math.sqrt(s.width*s.width+s.height*s.height),l,c=-n,f=0,h=0,v=function(m){var E=m*.1;return[E*Math.cos(E),E*Math.sin(E)]};if(r.hasGap(s))return r.fillGap(s),!0;for(var p=!1,g=0,y={};Math.min(Math.abs(f),Math.abs(h))<u&&g<t;)if(l=v(c+=n),f=~~l[0],h=~~l[1],!(!f&&!h||y["".concat(f,"-").concat(h)])&&(e.attr({x:a+f,y:o+h}),f+h<0&&e.attr("textAlign","right"),g++,r.hasGap(e.getCanvasBBox()))){r.fillGap(e.getCanvasBBox()),p=!0,y["".concat(f,"-").concat(h)]=!0;break}return p}function hB(e,r,t,n){var i=e.getCanvasBBox(),a=i.width,o=i.height,s={x:r,y:t,textAlign:"center"};switch(n){case 0:s.y-=o+1,s.x+=1,s.textAlign="left";break;case 1:s.y-=o+1,s.x-=1,s.textAlign="right";break;case 2:s.y+=o+1,s.x-=1,s.textAlign="right";break;case 3:s.y+=o+1,s.x+=1,s.textAlign="left";break;case 5:s.y-=o*2+2;break;case 6:s.y+=o*2+2;break;case 7:s.x+=a+1,s.textAlign="left";break;case 8:s.x-=a+1,s.textAlign="right";break;default:break}return e.attr(s),e.getCanvasBBox()}function vB(e,r,t,n){var i=new yp;(0,d.S6)(r,function(a){var o=a.find(function(s){return s.get("type")==="text"});fB(o,i)||a.remove(!0)}),i.destroy()}function pB(e,r,t,n){var i=new yp;(0,d.S6)(r,function(a){for(var o=a.find(function(v){return v.get("type")==="text"}),s=o.attr(),u=s.x,l=s.y,c=!1,f=0;f<=8;f++){var h=hB(o,u,l,f);if(i.hasGap(h)){i.fillGap(h),c=!0;break}}c||a.remove(!0)}),i.destroy()}function dB(e,r){return(e[0]||0)*(r[0]||0)+(e[1]||0)*(r[1]||0)+(e[2]||0)*(r[2]||0)}function mp(e){if(e.length>4)return[];var r=function(i,a){return[a.x-i.x,a.y-i.y]},t=r(e[0],e[1]),n=r(e[1],e[2]);return[t,n]}function S2(e,r,t){r===void 0&&(r=0),t===void 0&&(t={x:0,y:0});var n=e.x,i=e.y;return{x:(n-t.x)*Math.cos(-r)+(i-t.y)*Math.sin(-r)+t.x,y:(t.x-n)*Math.sin(-r)+(i-t.y)*Math.cos(-r)+t.y}}function xp(e){var r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}],t=e.rotation;return t?[S2(r[0],t,r[0]),S2(r[1],t,r[0]),S2(r[2],t,r[0]),S2(r[3],t,r[0])]:r}function _p(e,r){if(e.length>4)return{min:0,max:0};var t=[];return e.forEach(function(n){t.push(dB([n.x,n.y],r))}),{min:Math.min.apply(Math,(0,x.ev)([],(0,x.CR)(t),!1)),max:Math.max.apply(Math,(0,x.ev)([],(0,x.CR)(t),!1))}}function gB(e,r){return e.max>r.min&&e.min<r.max}function yB(e){return typeof e=="number"&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0}function Ep(e){return["x","y","width","height"].every(function(r){return yB(e[r])})}function mB(e,r,t){return t===void 0&&(t=0),!(r.x>e.x+e.width+t||r.x+r.width<e.x-t||r.y>e.y+e.height+t||r.y+r.height<e.y-t)}function xB(e,r,t){if(t===void 0&&(t=0),!Ep(e)||!Ep(r))return!1;if(!e.rotation&&!r.rotation)return mB(e,r,t);for(var n=xp(e),i=xp(r),a=mp(n).concat(mp(i)),o=0;o<a.length;o++){var s=a[o],u=_p(n,s),l=_p(i,s);if(!gB(u,l))return!1}return!0}var _B=function(){function e(r){var t=this;this.queue=[],this.worker=new Worker(r),this.worker.onmessage=function(n){var i;(i=t.queue.shift())===null||i===void 0||i.resolve(n)},this.worker.onmessageerror=function(n){var i;console.warn("[AntV G2] Web worker is not available"),(i=t.queue.shift())===null||i===void 0||i.reject(n)}}return e.prototype.post=function(r,t){var n=this;return new Promise(function(i,a){n.queue.push({resolve:i,reject:a});try{n.worker.postMessage(r)}catch(o){console.warn("[AntV G2] Web worker is not available"),(0,d.mf)(t)&&t()}})},e.prototype.destroy=function(){this.worker.terminate()},e}();function EB(e){if(typeof window!="undefined"){var r;try{r=new Blob([e.toString()],{type:"application/javascript"})}catch(t){r=new window.BlobBuilder,r.append(e.toString()),r=r.getBlob()}return new _B(URL.createObjectURL(r))}}var CB=function(e){function r(){function l(C,A){return(C[0]||0)*(A[0]||0)+(C[1]||0)*(A[1]||0)+(C[2]||0)*(A[2]||0)}function c(C){if(C.length>4)return[];var A=function(Y,st){return[st.x-Y.x,st.y-Y.y]},M=A(C[0],C[1]),Z=A(C[1],C[2]);return[M,Z]}function f(C,A,M){A===void 0&&(A=0),M===void 0&&(M={x:0,y:0});var Z=C.x,Y=C.y;return{x:(Z-M.x)*Math.cos(-A)+(Y-M.y)*Math.sin(-A)+M.x,y:(M.x-Z)*Math.sin(-A)+(Y-M.y)*Math.cos(-A)+M.y}}function h(C){var A=[{x:C.x,y:C.y},{x:C.x+C.width,y:C.y},{x:C.x+C.width,y:C.y+C.height},{x:C.x,y:C.y+C.height}],M=C.rotation;return M?[f(A[0],M,A[0]),f(A[1],M,A[0]),f(A[2],M,A[0]),f(A[3],M,A[0])]:A}function v(C,A){if(C.length>4)return{min:0,max:0};var M=[];return C.forEach(function(Z){M.push(l([Z.x,Z.y],A))}),{min:Math.min.apply(null,M),max:Math.max.apply(null,M)}}function p(C,A){return C.max>A.min&&C.min<A.max}function g(C){return typeof C=="number"&&!Number.isNaN(C)&&C!==1/0&&C!==-1/0}function y(C){return["x","y","width","height"].every(function(A){return g(C[A])})}function m(C,A,M){return M===void 0&&(M=0),!(A.x>C.x+C.width+M||A.x+A.width<C.x-M||A.y>C.y+C.height+M||A.y+A.height<C.y-M)}function E(C,A,M){if(M===void 0&&(M=0),!y(C)||!y(A))return!1;if(!C.rotation&&!A.rotation)return m(C,A,M);for(var Z=h(C),Y=h(A),st=c(Z).concat(c(Y)),Ct=0;Ct<st.length;Ct++){var Pt=st[Ct],Zt=v(Z,Pt),ie=v(Y,Pt);if(!p(Zt,ie))return!1}return!0}return{intersect:E}}var t=r().intersect;function n(l){for(var c=l.slice(),f=0;f<c.length;f++){var h=c[f];if(h.visible)for(var v=f+1;v<c.length;v++){var p=c[v];h!==p&&p.visible&&t(h,p)&&(p.visible=!1)}}return c}var i={"hide-overlap":n};try{var a=JSON.parse(e.data);if(!a||!a.type||!i[a.type])return;var o=a.type,s=a.items,u=i[o](s);self.postMessage(u)}catch(l){throw l}},SB=`
   self.onmessage = `.concat(CB.toString(),`
`),cf=function(e){for(var r=e.slice(),t=0;t<r.length;t++){var n=r[t];if(n.visible)for(var i=t+1;i<r.length;i++){var a=r[i];n!==a&&a.visible&&xB(n,a)&&(a.visible=!1)}}return r},ff=new Map,Cp=EB(SB);function bB(e,r,t,n){return(0,x.mG)(this,void 0,void 0,function(){var i,a,o,s,u,l;return(0,x.Jh)(this,function(c){switch(c.label){case 0:return i=r.map(function(f,h){return(0,x.pi)((0,x.pi)({},xv(f,e[h],(0,d.U2)(e[h],"background.padding"))),{visible:!0})}),a=JSON.stringify(i),o=function(f){return ff.set(a,f),(0,d.S6)(f,function(h,v){var p=h.visible,g=r[v];p?g==null||g.show():g==null||g.hide()}),f},ff.get(a)?(o(ff.get(a)),[3,7]):[3,1];case 1:if(!Cp)return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),s=JSON.stringify({type:"hide-overlap",items:i}),[4,Cp.post(s,function(){return o(cf(i))})];case 3:return u=c.sent(),o(Array.isArray(u.data)?u.data:[]),[3,5];case 4:return l=c.sent(),console.error(l),o(cf(i)),[3,5];case 5:return[3,7];case 6:o(cf(i)),c.label=7;case 7:return[2]}})})}var Sp={"#5B8FF9":!0},AB=function(e){var r=Ni.toRGB(e).toUpperCase();if(Sp[r])return Sp[r];var t=(0,x.CR)(Ni.rgb2arr(r),3),n=t[0],i=t[1],a=t[2],o=(n*299+i*587+a*114)/1e3<128;return o};function MB(e,r,t){if(t.length!==0){var n=t[0].get("element"),i=n.geometry.theme,a=i.labels||{},o=a.fillColorLight,s=a.fillColorDark;t.forEach(function(u,l){var c=r[l],f=c.find(function(m){return m.get("type")==="text"}),h=Un.fromObject(u.getBBox()),v=Un.fromObject(f.getCanvasBBox()),p=!h.contains(v),g=u.attr("fill"),y=AB(g);p?f.attr(i.overflowLabels.style):y?o&&f.attr("fill",o):s&&f.attr("fill",s)})}}function TB(e,r,t){var n=e.coordinate,i=Ao(r),a=Un.fromObject(i.getCanvasBBox()),o=Un.fromObject(t.getBBox());return n.isTransposed?o.height>=a.height:o.width>=a.width}function wB(e,r,t){var n=!!e.getAdjust("stack");return n||r.every(function(i,a){var o=t[a];return TB(e,i,o)})}function FB(e,r,t){var n=e.coordinate,i=Un.fromObject(t.getBBox()),a=Ao(r);n.isTransposed?a.attr({x:i.minX+i.width/2,textAlign:"center"}):a.attr({y:i.minY+i.height/2,textBaseline:"middle"})}function kB(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=wB(a,r,t);o&&t.forEach(function(s,u){var l=r[u];FB(a,l,s)})}}}function OB(e){var r=500,t=[],n=Math.max(Math.floor(e.length/r),1);return(0,d.S6)(e,function(i,a){a%n===0?t.push(i):i.set("visible",!1)}),t}function LB(e,r,t){var n;if(t.length!==0){var i=(n=t[0])===null||n===void 0?void 0:n.get("element"),a=i==null?void 0:i.geometry;if(!(!a||a.type!=="interval")){var o=OB(r),s=(0,x.CR)(a.getXYFields(),1),u=s[0],l=[],c=[],f=(0,d.vM)(o,function(y){return y.get("data")[u]}),h=(0,d.jj)((0,d.UI)(o,function(y){return y.get("data")[u]})),v;o.forEach(function(y){y.set("visible",!0)});var p=function(y){y&&(y.length&&c.push(y.pop()),c.push.apply(c,(0,x.ev)([],(0,x.CR)(y),!1)))};for((0,d.dp)(h)>0&&(v=h.shift(),p(f[v])),(0,d.dp)(h)>0&&(v=h.pop(),p(f[v])),(0,d.S6)(h.reverse(),function(y){p(f[y])});c.length>0;){var g=c.shift();g.get("visible")&&(KI(g,l)?g.set("visible",!1):l.push(g))}}}}function IB(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,x.ev)([],(0,x.CR)(i),!1)),n}function bp(e,r,t){return e.some(function(n){return t(n,r)})}function PB(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function Ap(e,r){return bp(e,r,function(t,n){var i=Ao(t),a=Ao(n);return PB(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function RB(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),u=s==null?void 0:s.geometry;if(!(!u||u.type!=="point")){var l=(0,x.CR)(u.getXYFields(),2),c=l[0],f=l[1],h=(0,d.vM)(r,function(g){return g.get("data")[c]}),v=[],p=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;(0,d.UI)((0,d.XP)(h).reverse(),function(g){for(var y=IB(u,h[g]);y.length;){var m=y.shift(),E=Ao(m);if(bp(v,m,function(M,Z){return M.get("data")[c]===Z.get("data")[c]&&M.get("data")[f]===Z.get("data")[f]})){E.set("visible",!1);continue}var C=Ap(v,m),A=!1;if(C&&(E.attr("y",E.attr("y")+2*p),A=Ap(v,m)),A){E.set("visible",!1);continue}v.push(m)}})}}}function DB(e,r){var t=e.getXYFields()[1],n=[],i=r.sort(function(a,o){return a.get("data")[t]-a.get("data")[t]});return i.length>0&&n.push(i.shift()),i.length>0&&n.push(i.pop()),n.push.apply(n,(0,x.ev)([],(0,x.CR)(i),!1)),n}function Mp(e,r,t){return e.some(function(n){return t(n,r)})}function BB(e,r,t){t===void 0&&(t=0);var n=Math.max(0,Math.min(e.x+e.width+t,r.x+r.width+t)-Math.max(e.x-t,r.x-t)),i=Math.max(0,Math.min(e.y+e.height+t,r.y+r.height+t)-Math.max(e.y-t,r.y-t));return n*i}function Tp(e,r){return Mp(e,r,function(t,n){var i=Ao(t),a=Ao(n);return BB(i.getCanvasBBox(),a.getCanvasBBox(),2)>0})}function NB(e,r,t,n,i){var a,o;if(t.length!==0){var s=(a=t[0])===null||a===void 0?void 0:a.get("element"),u=s==null?void 0:s.geometry;if(!(!u||["path","line","area"].indexOf(u.type)<0)){var l=(0,x.CR)(u.getXYFields(),2),c=l[0],f=l[1],h=(0,d.vM)(r,function(g){return g.get("data")[c]}),v=[],p=i&&i.offset||((o=e[0])===null||o===void 0?void 0:o.offset)||12;(0,d.UI)((0,d.XP)(h).reverse(),function(g){for(var y=DB(u,h[g]);y.length;){var m=y.shift(),E=Ao(m);if(Mp(v,m,function(M,Z){return M.get("data")[c]===Z.get("data")[c]&&M.get("data")[f]===Z.get("data")[f]})){E.set("visible",!1);continue}var C=Tp(v,m),A=!1;if(C&&(E.attr("y",E.attr("y")+2*p),A=Tp(v,m)),A){E.set("visible",!1);continue}v.push(m)}})}}}var hf;function ZB(){return hf||(hf=document.createElement("canvas").getContext("2d")),hf}var b2=(0,d.HP)(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=r.fontWeight,a=r.fontStyle,o=r.fontVariant,s=ZB();return s.font=[a,o,i,"".concat(t,"px"),n].join(" "),s.measureText((0,d.HD)(e)?e:"").width},function(e,r){return r===void 0&&(r={}),(0,x.ev)([e],(0,x.CR)((0,d.VO)(r)),!1).join("")}),zB=function(e,r,t){var n=16,i=b2("...",t),a;(0,d.HD)(e)?a=e:a=(0,d.BB)(e);var o=r,s=[],u,l;if(b2(e,t)<=r)return e;for(;u=a.substr(0,n),l=b2(u,t),!(l+i>o&&l>o);)if(s.push(u),o-=l,a=a.substr(n),!a)return s.join("");for(;u=a.substr(0,1),l=b2(u,t),!(l+i>o);)if(s.push(u),o-=l,a=a.substr(1),!a)return s.join("");return"".concat(s.join(""),"...")};function UB(e,r,t,n,i){if(!(r.length<=0)){var a=(i==null?void 0:i.direction)||["top","right","bottom","left"],o=(i==null?void 0:i.action)||"translate",s=(i==null?void 0:i.margin)||0,u=r[0].get("coordinate");if(u){var l=TL(u,s),c=l.minX,f=l.minY,h=l.maxX,v=l.maxY;(0,d.S6)(r,function(p){var g=p.getCanvasBBox(),y=g.minX,m=g.minY,E=g.maxX,C=g.maxY,A=g.x,M=g.y,Z=g.width,Y=g.height,st=A,Ct=M;if(a.indexOf("left")>=0&&(y<c||E<c)&&(st=c),a.indexOf("top")>=0&&(m<f||C<f)&&(Ct=f),a.indexOf("right")>=0&&(y>h?st=h-Z:E>h&&(st=st-(E-h))),a.indexOf("bottom")>=0&&(m>v?Ct=v-Y:C>v&&(Ct=Ct-(C-v))),st!==A||Ct!==M){var Pt=st-A;if(o==="translate")zs(p,Pt,Ct-M);else if(o==="ellipsis"){var Zt=p.findAll(function(ie){return ie.get("type")==="text"});Zt.forEach(function(ie){var ce=(0,d.ei)(ie.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),_e=ie.getCanvasBBox(),Re=zB(ie.attr("text"),_e.width-Math.abs(Pt),ce);ie.attr("text",Re)})}else p.hide()}})}}}function HB(e,r,t){var n={fillOpacity:(0,d.UM)(e.attr("fillOpacity"))?1:e.attr("fillOpacity"),strokeOpacity:(0,d.UM)(e.attr("strokeOpacity"))?1:e.attr("strokeOpacity"),opacity:(0,d.UM)(e.attr("opacity"))?1:e.attr("opacity")};e.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),e.animate(n,r)}function VB(e,r,t){var n={fillOpacity:0,strokeOpacity:0,opacity:0},i=r.easing,a=r.duration,o=r.delay;e.animate(n,a,i,function(){e.remove(!0)},o)}function GB(e,r,t){var n,i=(0,x.CR)(r,2),a=i[0],o=i[1];return e.applyToMatrix([a,o,1]),t==="x"?(e.setMatrix(Ur.vs(e.getMatrix(),[["t",-a,-o],["s",.01,1],["t",a,o]])),n=Ur.vs(e.getMatrix(),[["t",-a,-o],["s",100,1],["t",a,o]])):t==="y"?(e.setMatrix(Ur.vs(e.getMatrix(),[["t",-a,-o],["s",1,.01],["t",a,o]])),n=Ur.vs(e.getMatrix(),[["t",-a,-o],["s",1,100],["t",a,o]])):t==="xy"&&(e.setMatrix(Ur.vs(e.getMatrix(),[["t",-a,-o],["s",.01,.01],["t",a,o]])),n=Ur.vs(e.getMatrix(),[["t",-a,-o],["s",100,100],["t",a,o]])),n}function vf(e,r,t,n,i){var a=t.start,o=t.end,s=t.getWidth(),u=t.getHeight(),l,c;i==="y"?(l=a.x+s/2,c=n.y<a.y?n.y:a.y):i==="x"?(l=n.x>a.x?n.x:a.x,c=a.y+u/2):i==="xy"&&(t.isPolar?(l=t.getCenter().x,c=t.getCenter().y):(l=(a.x+o.x)/2,c=(a.y+o.y)/2));var f=GB(e,[l,c],i);e.animate({matrix:f},r)}function jB(e,r,t){var n=t.coordinate,i=t.minYPoint;vf(e,r,n,i,"x")}function WB(e,r,t){var n=t.coordinate,i=t.minYPoint;vf(e,r,n,i,"y")}function YB(e,r,t){var n=t.coordinate,i=t.minYPoint;vf(e,r,n,i,"xy")}function XB(e,r,t){var n=e.getTotalLength();e.attr("lineDash",[n]),e.animate(function(i){return{lineDashOffset:(1-i)*n}},r)}function $B(e,r,t){var n=t.toAttrs,i=n.x,a=n.y;delete n.x,delete n.y,e.attr(n),e.animate({x:i,y:a},r)}function qB(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=i.points,o=a[0].y-a[1].y>0?n.maxX:n.minX,s=(n.minY+n.maxY)/2;e.applyToMatrix([o,s,1]);var u=Ur.vs(e.getMatrix(),[["t",-o,-s],["s",.01,1],["t",o,s]]);e.setMatrix(u),e.animate({matrix:Ur.vs(e.getMatrix(),[["t",-o,-s],["s",100,1],["t",o,s]])},r)}function KB(e,r,t){var n=e.getBBox(),i=e.get("origin").mappingData,a=(n.minX+n.maxX)/2,o=i.points,s=o[0].y-o[1].y<=0?n.maxY:n.minY;e.applyToMatrix([a,s,1]);var u=Ur.vs(e.getMatrix(),[["t",-a,-s],["s",1,.01],["t",a,s]]);e.setMatrix(u),e.animate({matrix:Ur.vs(e.getMatrix(),[["t",-a,-s],["s",1,100],["t",a,s]])},r)}function wp(e,r){var t,n=v2(e,r),i=n.startAngle,a=n.endAngle;return!(0,d.vQ)(i,-Math.PI*.5)&&i<-Math.PI*.5&&(i+=Math.PI*2),!(0,d.vQ)(a,-Math.PI*.5)&&a<-Math.PI*.5&&(a+=Math.PI*2),r[5]===0&&(t=(0,x.CR)([a,i],2),i=t[0],a=t[1]),(0,d.vQ)(i,Math.PI*1.5)&&(i=Math.PI*-.5),(0,d.vQ)(a,Math.PI*-.5)&&!(0,d.vQ)(i,a)&&(a=Math.PI*1.5),{startAngle:i,endAngle:a}}function Fp(e){var r;return e[0]==="M"||e[0]==="L"?r=[e[1],e[2]]:(e[0]==="a"||e[0]==="A"||e[0]==="C")&&(r=[e[e.length-2],e[e.length-1]]),r}function kp(e){var r,t,n,i=e.filter(function(C){return C[0]==="A"||C[0]==="a"});if(i.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var a=i[0],o=i.length>1?i[1]:i[0],s=e.indexOf(a),u=e.indexOf(o),l=Fp(e[s-1]),c=Fp(e[u-1]),f=wp(l,a),h=f.startAngle,v=f.endAngle,p=wp(c,o),g=p.startAngle,y=p.endAngle;(0,d.vQ)(h,g)&&(0,d.vQ)(v,y)?(t=h,n=v):(t=Math.min(h,g),n=Math.max(v,y));var m=a[1],E=i[i.length-1][1];return m<E?(r=(0,x.CR)([E,m],2),m=r[0],E=r[1]):m===E&&(E=0),{startAngle:t,endAngle:n,radius:m,innerRadius:E}}function QB(e,r,t){var n=t.toAttrs,i=t.coordinate,a=n.path||[],o=a.map(function(E){return E[0]});if(!(a.length<1)){var s=kp(a),u=s.startAngle,l=s.endAngle,c=s.radius,f=s.innerRadius,h=kp(e.attr("path")),v=h.startAngle,p=h.endAngle,g=i.getCenter(),y=u-v,m=l-p;if(y===0&&m===0){e.attr("path",a);return}e.animate(function(E){var C=v+E*y,A=p+E*m;return(0,x.pi)((0,x.pi)({},n),{path:(0,d.Xy)(o,["M","A","A","Z"])?Sh(g.x,g.y,c,C,A):_o(g.x,g.y,c,C,A,f)})},(0,x.pi)((0,x.pi)({},r),{callback:function(){e.attr("path",a)}}))}}function JB(e,r,t){var n=A4(t.coordinate,20),i=n.type,a=n.startState,o=n.endState,s=e.setClip({type:i,attrs:a});t.toAttrs&&e.attr(t.toAttrs),s.animate(o,(0,x.pi)((0,x.pi)({},r),{callback:function(){e&&!e.get("destroyed")&&e.set("clipShape",null),s.remove(!0)}}))}function pf(e,r,t){if(e.isGroup())(0,d.S6)(e.getChildren(),function(s){pf(s,r,t)});else{var n=e.getBBox(),i=(n.minX+n.maxX)/2,a=(n.minY+n.maxY)/2;if(e.applyToMatrix([i,a,1]),t==="zoomIn"){var o=Ur.vs(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]]);e.setMatrix(o),e.animate({matrix:Ur.vs(e.getMatrix(),[["t",-i,-a],["s",100,100],["t",i,a]])},r)}else e.animate({matrix:Ur.vs(e.getMatrix(),[["t",-i,-a],["s",.01,.01],["t",i,a]])},(0,x.pi)((0,x.pi)({},r),{callback:function(){e.remove(!0)}}))}}function tN(e,r,t){pf(e,r,"zoomIn")}function eN(e,r,t){pf(e,r,"zoomOut")}function Va(e){return[Pe.TOP,Pe.BOTTOM].includes(e)?{offsetX:0,offsetY:e===Pe.TOP?-8:8,style:{textAlign:"center",textBaseline:e===Pe.TOP?"bottom":"top"}}:[Pe.LEFT,Pe.RIGHT].includes(e)?{offsetX:e===Pe.LEFT?-8:8,offsetY:0,style:{textAlign:e===Pe.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function df(e,r,t){return{x:e.x+r*Math.cos(t),y:e.y+r*Math.sin(t)}}var rN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.getRegion=function(t,n){var i=.5,a={x:.5,y:.5},o=Math.PI*2/t,s=-1*Math.PI/2+o*n,u=i/(1+1/Math.sin(o/2)),l=df(a,i-u,s),c=Math.PI*5/4,f=Math.PI*1/4;return{start:df(l,u,c),end:df(l,u,f)}},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg,a=i.fields,o=i.type,s=(0,x.CR)(a,1),u=s[0];if(!u)throw new Error("No `fields` specified!");var l=this.getFieldValues(t,u),c=l.length,f=[];return l.forEach(function(h,v){var p=[{field:u,value:h,values:l}],g=(0,d.hX)(t,n.getFacetDataFilter(p)),y={type:o,data:g,region:n.getRegion(c,v),columnValue:h,columnField:u,columnIndex:v,columnValuesLength:c,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};f.push(y)}),f},r.prototype.getXAxisOption=function(t,n,i,a){return i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,d.U2)(t.cfg.title,"formatter"),s=(0,d.b$)({position:["50%","0%"],content:o?o(i):i},Va(Pe.TOP),t.cfg.title);a.annotation().text(s)})},r}(l0),nN=rN,iN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){var n=this,i=this.cfg.fields,a=this.cfg.cols,o=(0,x.CR)(i,1),s=o[0];if(!s)throw new Error("No `fields` specified!");var u=this.getFieldValues(t,s),l=u.length;a=a||l;var c=this.getPageCount(l,a),f=[];return u.forEach(function(h,v){var p=n.getRowCol(v,a),g=p.row,y=p.col,m=[{field:s,value:h,values:u}],E=(0,d.hX)(t,n.getFacetDataFilter(m)),C={type:n.cfg.type,data:E,region:n.getRegion(c,a,y,g),columnValue:h,rowValue:h,columnField:s,rowField:null,columnIndex:y,rowIndex:g,columnValuesLength:a,rowValuesLength:c,total:l};f.push(C)}),f},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1&&a.columnValuesLength*a.rowIndex+a.columnIndex+1+a.columnValuesLength<=a.total?(0,x.pi)((0,x.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,d.U2)(t.cfg.title,"formatter"),s=(0,d.b$)({position:["50%","0%"],content:o?o(i):i},Va(Pe.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.getPageCount=function(t,n){return Math.floor((t+n-1)/n)},r.prototype.getRowCol=function(t,n){var i=Math.floor(t/n),a=t%n;return{row:i,col:a}},r}(l0),aN=iN,oN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:(0,x.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,x.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.generateFacets=function(t){for(var n=this.cfg,i=n.fields,a=n.type,o=i.length,s=o,u=[],l=0;l<s;l++)for(var c=i[l],f=0;f<o;f++){var h=i[f],v={type:a,data:t,region:this.getRegion(o,s,l,f),columnValue:c,rowValue:h,columnField:c,rowField:h,columnIndex:l,rowIndex:f,columnValuesLength:s,rowValuesLength:o};u.push(v)}return u},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.pi)((0,x.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):i},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,u=n.rowValuesLength,l=n.columnValue,c=n.rowValue,f=n.view;if(o===0){var h=(0,d.U2)(t.cfg.columnTitle,"formatter"),v=(0,d.b$)({position:["50%","0%"],content:h?h(l):l},Va(Pe.TOP),t.cfg.columnTitle);f.annotation().text(v)}if(a===s-1){var h=(0,d.U2)(t.cfg.rowTitle,"formatter"),v=(0,d.b$)({position:["100%","50%"],content:h?h(c):c},Va(Pe.RIGHT),t.cfg.rowTitle);f.annotation().text(v)}})},r}(l0),sN=oN,uN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this),transpose:!1})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.beforeEachView=function(t,n){this.cfg.transpose?n.columnIndex%2===0?t.coordinate().transpose().reflect("x"):t.coordinate().transpose():n.rowIndex%2!==0&&t.coordinate().reflect("y")},r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.generateFacets=function(t){var n=this,i=(0,x.CR)(this.cfg.fields,1),a=i[0],o=[],s=1,u=1,l=[""],c=[""],f,h;return this.cfg.transpose?(f=a,l=this.getFieldValues(t,f).slice(0,2),s=l.length):(h=a,c=this.getFieldValues(t,h).slice(0,2),u=c.length),l.forEach(function(v,p){c.forEach(function(g,y){var m=[{field:f,value:v,values:l},{field:h,value:g,values:c}],E=(0,d.hX)(t,n.getFacetDataFilter(m)),C={type:n.cfg.type,data:E,region:n.getRegion(u,s,p,y),columnValue:v,rowValue:g,columnField:f,rowField:h,columnIndex:p,rowIndex:y,columnValuesLength:s,rowValuesLength:u};o.push(C)})}),o},r.prototype.getXAxisOption=function(t,n,i,a){return a.columnIndex===1||a.rowIndex===1?(0,x.pi)((0,x.pi)({},i),{label:null,title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return i},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n,i){var a=n.columnValue,o=n.rowValue,s=n.view,u=(0,d.U2)(t.cfg.title,"formatter");if(t.cfg.transpose){var l=(0,d.b$)({position:["50%","0%"],content:u?u(a):a},Va(Pe.TOP),t.cfg.title);s.annotation().text(l)}else{var l=(0,d.b$)({position:["100%","50%"],content:u?u(o):o},Va(Pe.RIGHT),t.cfg.title);s.annotation().text(l)}})},r}(l0),lN=uN,cN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:(0,x.pi)({},e.prototype.getDefaultTitleCfg.call(this)),rowTitle:(0,x.pi)({},e.prototype.getDefaultTitleCfg.call(this))})},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.generateFacets=function(t){var n=this,i=(0,x.CR)(this.cfg.fields,2),a=i[0],o=i[1],s=[],u=1,l=1,c=[""],f=[""];return a&&(c=this.getFieldValues(t,a),u=c.length),o&&(f=this.getFieldValues(t,o),l=f.length),c.forEach(function(h,v){f.forEach(function(p,g){var y=[{field:a,value:h,values:c},{field:o,value:p,values:f}],m=(0,d.hX)(t,n.getFacetDataFilter(y)),E={type:n.cfg.type,data:m,region:n.getRegion(l,u,v,g),columnValue:h,rowValue:p,columnField:a,rowField:o,columnIndex:v,rowIndex:g,columnValuesLength:u,rowValuesLength:l};s.push(E)})}),s},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n,i){var a=n.columnIndex,o=n.rowIndex,s=n.columnValuesLength,u=n.columnValue,l=n.rowValue,c=n.view;if(o===0){var f=(0,d.U2)(t.cfg.columnTitle,"formatter"),h=(0,d.b$)({position:["50%","0%"],content:f?f(u):u},Va(Pe.TOP),t.cfg.columnTitle);c.annotation().text(h)}if(a===s-1){var f=(0,d.U2)(t.cfg.rowTitle,"formatter"),h=(0,d.b$)({position:["100%","50%"],content:f?f(l):l},Va(Pe.RIGHT),t.cfg.rowTitle);c.annotation().text(h)}})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):a.columnIndex!==Math.floor((a.columnValuesLength-1)/2)?(0,x.pi)((0,x.pi)({},i),{title:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.columnIndex!==0?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):a.rowIndex!==Math.floor((a.rowValuesLength-1)/2)?(0,x.pi)((0,x.pi)({},i),{title:null}):i},r}(l0),fN=cN,hN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.afterChartRender=function(){t.facets&&t.cfg.line&&(t.container.clear(),t.drawLines(t.facets))},t}return r.prototype.afterEachView=function(t,n){this.processAxis(t,n)},r.prototype.beforeEachView=function(t,n){},r.prototype.init=function(){e.prototype.init.call(this),this.view.on(rr.AFTER_RENDER,this.afterChartRender)},r.prototype.getDefaultCfg=function(){return(0,d.b$)({},e.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:e.prototype.getDefaultTitleCfg.call(this)})},r.prototype.generateFacets=function(t){var n=this.cfg.fields;if(!n.length)throw new Error("Please specify for the fields for rootFacet!");var i=[],a={type:this.cfg.type,data:t,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return i.push(a),a.children=this.getChildFacets(t,1,i),this.setRegion(i),i},r.prototype.setRegion=function(t){var n=this;this.forceColIndex(t),t.forEach(function(i){i.region=n.getRegion(i.rowValuesLength,i.columnValuesLength,i.columnIndex,i.rowIndex)})},r.prototype.getRegion=function(t,n,i,a){var o=1/n,s=1/t,u={x:o*i,y:s*a},l={x:u.x+o,y:u.y+s*2/3};return{start:u,end:l}},r.prototype.forceColIndex=function(t){var n,i,a=this,o=[],s=0;t.forEach(function(p){a.isLeaf(p)&&(o.push(p),p.columnIndex=s,s++)}),o.forEach(function(p){p.columnValuesLength=o.length});for(var u=this.cfg.fields.length,l=u-1;l>=0;l--){var c=this.getFacetsByLevel(t,l);try{for(var f=(n=void 0,(0,x.XA)(c)),h=f.next();!h.done;h=f.next()){var v=h.value;this.isLeaf(v)||(v.originColIndex=v.columnIndex,v.columnIndex=this.getRegionIndex(v.children),v.columnValuesLength=o.length)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}}},r.prototype.getFacetsByLevel=function(t,n){var i=[];return t.forEach(function(a){a.rowIndex===n&&i.push(a)}),i},r.prototype.getRegionIndex=function(t){var n=t[0],i=t[t.length-1];return(i.columnIndex-n.columnIndex)/2+n.columnIndex},r.prototype.isLeaf=function(t){return!t.children||!t.children.length},r.prototype.getRows=function(){return this.cfg.fields.length+1},r.prototype.getChildFacets=function(t,n,i){var a=this,o=this.cfg.fields,s=o.length;if(!(s<n)){var u=[],l=o[n-1],c=this.getFieldValues(t,l);return c.forEach(function(f,h){var v=[{field:l,value:f,values:c}],p=t.filter(a.getFacetDataFilter(v));if(p.length){var g={type:a.cfg.type,data:p,region:null,columnValue:f,rowValue:"",columnField:l,rowField:"",columnIndex:h,rowValuesLength:a.getRows(),columnValuesLength:1,rowIndex:n,children:a.getChildFacets(p,n+1,i)};u.push(g),i.push(g)}}),u}},r.prototype.render=function(){e.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},r.prototype.renderTitle=function(){var t=this;(0,d.S6)(this.facets,function(n){var i=n.columnValue,a=n.view,o=(0,d.U2)(t.cfg.title,"formatter"),s=(0,d.b$)({position:["50%","0%"],content:o?o(i):i},Va(Pe.TOP),t.cfg.title);a.annotation().text(s)})},r.prototype.drawLines=function(t){var n=this;t.forEach(function(i){if(!n.isLeaf(i)){var a=i.children;n.addFacetLines(i,a)}})},r.prototype.addFacetLines=function(t,n){var i=this,a=t.view,o=a.coordinateBBox,s={x:o.x+o.width/2,y:o.y+o.height};n.forEach(function(u){var l=u.view.coordinateBBox,c={x:l.bl.x+(l.tr.x-l.bl.x)/2,y:l.tr.y},f={x:s.x,y:s.y+(c.y-s.y)/2},h={x:c.x,y:f.y};i.drawLine([s,f,h,c])})},r.prototype.getPath=function(t){var n=[],i=this.cfg.line.smooth;return i?(n.push(["M",t[0].x,t[0].y]),n.push(["C",t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y])):t.forEach(function(a,o){o===0?n.push(["M",a.x,a.y]):n.push(["L",a.x,a.y])}),n},r.prototype.drawLine=function(t){var n=this.getPath(t),i=this.cfg.line.style;this.container.addShape("path",{attrs:(0,d.f0)({path:n},i)})},r.prototype.getXAxisOption=function(t,n,i,a){return a.rowIndex!==a.rowValuesLength-1?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):i},r.prototype.getYAxisOption=function(t,n,i,a){return a.originColIndex!==0&&a.columnIndex!==0?(0,x.pi)((0,x.pi)({},i),{title:null,label:null}):i},r}(l0),vN=hN;function Op(e){var r=(0,x.ev)([],(0,x.CR)(e),!1);r.sort(function(n,i){return n-i});var t=r.length;return t===0?0:t%2===1?r[(t-1)/2]:(r[t/2]+r[t/2-1])/2}function pN(e){var r=(0,d.u4)(e,function(t,n){return t+=isNaN(n)||!(0,d.hj)(n)?0:n},0);return e.length===0?0:r/e.length}function A2(e,r){if(!r)return null;var t;switch(e){case"start":return 0;case"center":return .5;case"end":return 1;case"median":{t=r.isCategory?Op(r.values.map(function(n,i){return i})):Op(r.values);break}case"mean":{t=r.isCategory?(r.values.length-1)/2:pN(r.values);break}case"min":t=r.isCategory?0:r[e];break;case"max":t=r.isCategory?r.values.length-1:r[e];break;default:t=e;break}return r.scale(t)}var M2=["regionFilter","shape"],dN=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.foregroundContainer=n.view.getLayer(zr.FORE).addGroup(),n.backgroundContainer=n.view.getLayer(zr.BG).addGroup(),n.option=[],n}return Object.defineProperty(r.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.layout=function(){this.update()},r.prototype.render=function(){},r.prototype.update=function(){var t=this;this.onAfterRender(function(){var i=new Map;(0,d.S6)(t.option,function(a){if((0,d.q9)(M2,a.type)){var o=t.updateOrCreate(a);o&&i.set(t.getCacheKey(a),o)}}),t.cache=t.syncCache(i)});var n=new Map;(0,d.S6)(this.option,function(i){if(!(0,d.q9)(M2,i.type)){var a=t.updateOrCreate(i);a&&n.set(t.getCacheKey(i),a)}}),this.cache=this.syncCache(n)},r.prototype.clear=function(t){t===void 0&&(t=!1),e.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),t&&(this.option=[])},r.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.clearComponents=function(){this.getComponents().forEach(function(t){t.component.destroy()}),this.cache.clear()},r.prototype.onAfterRender=function(t){var n=!1;this.view.getOptions().animate&&this.view.geometries.forEach(function(i){i.animateOption&&(i.once(yn.AFTER_DRAW_ANIMATE,function(){t()}),n=!0)}),n||this.view.getRootView().once(rr.AFTER_RENDER,function(){t()})},r.prototype.createAnnotation=function(t){var n=t.type,i=Bt[(0,d.jC)(n)];if(i){var a=this.getAnnotationTheme(n),o=this.getAnnotationCfg(n,t,a);if(!o)return null;var s=new i(o);return{component:s,layer:this.isTop(o)?zr.FORE:zr.BG,direction:Pe.NONE,type:Kr.ANNOTATION,extra:t}}},r.prototype.annotation=function(t){this.option.push(t)},r.prototype.arc=function(t){return this.annotation((0,x.pi)({type:"arc"},t)),this},r.prototype.image=function(t){return this.annotation((0,x.pi)({type:"image"},t)),this},r.prototype.line=function(t){return this.annotation((0,x.pi)({type:"line"},t)),this},r.prototype.region=function(t){return this.annotation((0,x.pi)({type:"region"},t)),this},r.prototype.text=function(t){return this.annotation((0,x.pi)({type:"text"},t)),this},r.prototype.dataMarker=function(t){return this.annotation((0,x.pi)({type:"dataMarker"},t)),this},r.prototype.dataRegion=function(t){this.annotation((0,x.pi)({type:"dataRegion"},t))},r.prototype.regionFilter=function(t){this.annotation((0,x.pi)({type:"regionFilter"},t))},r.prototype.shape=function(t){this.annotation((0,x.pi)({type:"shape"},t))},r.prototype.html=function(t){this.annotation((0,x.pi)({type:"html"},t))},r.prototype.parsePosition=function(t){var n,i,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=(0,d.mf)(t)?t.call(null,a,o):t,u=0,l=0;if((0,d.kJ)(s)){var c=(0,x.CR)(s,2),f=c[0],h=c[1];if((0,d.HD)(f)&&f.indexOf("%")!==-1&&!isNaN(f.slice(0,-1)))return this.parsePercentPosition(s);u=A2(f,a),l=A2(h,Object.values(o)[0])}else if(!(0,d.UM)(s))try{for(var v=(0,x.XA)((0,d.XP)(s)),p=v.next();!p.done;p=v.next()){var g=p.value,y=s[g];g===a.field&&(u=A2(y,a)),o[g]&&(l=A2(y,o[g]))}}catch(m){n={error:m}}finally{try{p&&!p.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}return isNaN(u)||isNaN(l)?null:this.view.getCoordinate().convert({x:u,y:l})},r.prototype.getRegionPoints=function(t,n){var i=this,a=this.view.getXScale(),o=this.view.getScalesByDim("y"),s=Object.values(o)[0],u=a.field,l=this.view.getData(),c=(0,d.kJ)(t)?t[0]:t[u],f=(0,d.kJ)(n)?n[0]:n[u],h=[],v;return(0,d.S6)(l,function(p,g){if(p[u]===c&&(v=g),g>=v){var y=i.parsePosition([p[u],p[s.field]]);y&&h.push(y)}if(p[u]===f)return!1}),h},r.prototype.parsePercentPosition=function(t){var n=parseFloat(t[0])/100,i=parseFloat(t[1])/100,a=this.view.getCoordinate(),o=a.start,s=a.end,u={x:Math.min(o.x,s.x),y:Math.min(o.y,s.y)},l=a.getWidth()*n+u.x,c=a.getHeight()*i+u.y;return{x:l,y:c}},r.prototype.getCoordinateBBox=function(){var t=this.view.getCoordinate(),n=t.start,i=t.end,a=t.getWidth(),o=t.getHeight(),s={x:Math.min(n.x,i.x),y:Math.min(n.y,i.y)};return{x:s.x,y:s.y,minX:s.x,minY:s.y,maxX:s.x+a,maxY:s.y+o,width:a,height:o}},r.prototype.getAnnotationCfg=function(t,n,i){var a=this,o=this.view.getCoordinate(),s=this.view.getCanvas(),u={};if((0,d.UM)(n))return null;var l=n.start,c=n.end,f=n.position,h=this.parsePosition(l),v=this.parsePosition(c),p=this.parsePosition(f);if(["arc","image","line","region","regionFilter"].includes(t)&&(!h||!v))return null;if(["text","dataMarker","html"].includes(t)&&!p)return null;if(t==="arc"){var g=n,y=g.start,m=g.end,E=(0,x._T)(g,["start","end"]),C=u0(o,h),A=u0(o,v);C>A&&(A=Math.PI*2+A),u=(0,x.pi)((0,x.pi)({},E),{center:o.getCenter(),radius:Kl(o,h),startAngle:C,endAngle:A})}else if(t==="image"){var M=n,Z=M.start,Y=M.end,E=(0,x._T)(M,["start","end"]);u=(0,x.pi)((0,x.pi)({},E),{start:h,end:v,src:n.src})}else if(t==="line"){var st=n,Ct=st.start,Pt=st.end,E=(0,x._T)(st,["start","end"]);u=(0,x.pi)((0,x.pi)({},E),{start:h,end:v,text:(0,d.U2)(n,"text",null)})}else if(t==="region"){var Zt=n,ie=Zt.start,ce=Zt.end,E=(0,x._T)(Zt,["start","end"]);u=(0,x.pi)((0,x.pi)({},E),{start:h,end:v})}else if(t==="text"){var _e=this.view.getData(),Re=n,he=Re.position,Me=Re.content,E=(0,x._T)(Re,["position","content"]),De=Me;(0,d.mf)(Me)&&(De=Me(_e)),u=(0,x.pi)((0,x.pi)((0,x.pi)({},p),E),{content:De})}else if(t==="dataMarker"){var Fe=n,Ve=Fe.position,tr=Fe.point,fr=Fe.line,pr=Fe.text,ur=Fe.autoAdjust,yr=Fe.direction,E=(0,x._T)(Fe,["position","point","line","text","autoAdjust","direction"]);u=(0,x.pi)((0,x.pi)((0,x.pi)({},E),p),{coordinateBBox:this.getCoordinateBBox(),point:tr,line:fr,text:pr,autoAdjust:ur,direction:yr})}else if(t==="dataRegion"){var Mr=n,an=Mr.start,on=Mr.end,qe=Mr.region,pr=Mr.text,xr=Mr.lineLength,E=(0,x._T)(Mr,["start","end","region","text","lineLength"]);u=(0,x.pi)((0,x.pi)({},E),{points:this.getRegionPoints(an,on),region:qe,text:pr,lineLength:xr})}else if(t==="regionFilter"){var Cr=n,He=Cr.start,gn=Cr.end,Gr=Cr.apply,qn=Cr.color,E=(0,x._T)(Cr,["start","end","apply","color"]),Kn=this.view.geometries,Da=[],fs=function(Ba){Ba&&(Ba.isGroup()?Ba.getChildren().forEach(function(wl){return fs(wl)}):Da.push(Ba))};(0,d.S6)(Kn,function(Ba){Gr?(0,d.FX)(Gr,Ba.type)&&(0,d.S6)(Ba.elements,function(wl){fs(wl.shape)}):(0,d.S6)(Ba.elements,function(wl){fs(wl.shape)})}),u=(0,x.pi)((0,x.pi)({},E),{color:qn,shapes:Da,start:h,end:v})}else if(t==="shape"){var mw=n,j8t=mw.render,j6=(0,x._T)(mw,["render"]),W8t=function(X8t){if((0,d.mf)(n.render))return j8t(X8t,a.view,{parsePosition:a.parsePosition.bind(a)})};u=(0,x.pi)((0,x.pi)({},j6),{render:W8t})}else if(t==="html"){var W6=n,Y6=W6.html,Lpt=W6.position,j6=(0,x._T)(W6,["html","position"]),Y8t=function(Ba){return(0,d.mf)(Y6)?Y6(Ba,a.view):Y6};u=(0,x.pi)((0,x.pi)((0,x.pi)({},j6),p),{parent:s.get("el").parentNode,html:Y8t})}var qo=(0,d.b$)({},i,(0,x.pi)((0,x.pi)({},u),{top:n.top,style:n.style,offsetX:n.offsetX,offsetY:n.offsetY}));return t!=="html"&&(qo.container=this.getComponentContainer(qo)),qo.animate=this.view.getOptions().animate&&qo.animate&&(0,d.U2)(n,"animate",qo.animate),qo.animateOption=(0,d.b$)({},p0,qo.animateOption,n.animateOption),qo},r.prototype.isTop=function(t){return(0,d.U2)(t,"top",!0)},r.prototype.getComponentContainer=function(t){return this.isTop(t)?this.foregroundContainer:this.backgroundContainer},r.prototype.getAnnotationTheme=function(t){return(0,d.U2)(this.view.getTheme(),["components","annotation",t],{})},r.prototype.updateOrCreate=function(t){var n=this.cache.get(this.getCacheKey(t));if(n){var i=t.type,a=this.getAnnotationTheme(i),o=this.getAnnotationCfg(i,t,a);o&&ni(o,["container"]),n.component.update((0,x.pi)((0,x.pi)({},o||{}),{visible:!!o})),(0,d.q9)(M2,t.type)&&n.component.render()}else n=this.createAnnotation(t),n&&(n.component.init(),(0,d.q9)(M2,t.type)&&n.component.render());return n},r.prototype.syncCache=function(t){var n=this,i=new Map(this.cache);return t.forEach(function(a,o){i.set(o,a)}),i.forEach(function(a,o){(0,d.sE)(n.option,function(s){return o===n.getCacheKey(s)})||(a.component.destroy(),i.delete(o))}),i},r.prototype.getCacheKey=function(t){return t},r}(v0),gN=dN;function Lp(e,r){var t=(0,d.b$)({},(0,d.U2)(e,["components","axis","common"]),(0,d.U2)(e,["components","axis",r]));return(0,d.U2)(t,["grid"],{})}function T2(e,r,t,n){var i=[],a=r.getTicks();return e.isPolar&&a.push({value:1,text:"",tickValue:""}),a.reduce(function(o,s,u){var l=s.value;if(n)i.push({points:[e.convert(t==="y"?{x:0,y:l}:{x:l,y:0}),e.convert(t==="y"?{x:1,y:l}:{x:l,y:1})]});else if(u){var c=o.value,f=(c+l)/2;i.push({points:[e.convert(t==="y"?{x:0,y:f}:{x:f,y:0}),e.convert(t==="y"?{x:1,y:f}:{x:f,y:1})]})}return s},a[0]),i}function gf(e,r,t,n,i){var a=r.values.length,o=[],s=t.getTicks();return s.reduce(function(u,l){var c=u?u.value:l.value,f=l.value,h=(c+f)/2;return i==="x"?o.push({points:[e.convert({x:n?f:h,y:0}),e.convert({x:n?f:h,y:1})]}):o.push({points:(0,d.UI)(Array(a+1),function(v,p){return e.convert({x:p/a,y:n?f:h})})}),l},s[0]),o}function Ip(e,r){var t=(0,d.U2)(r,"grid");if(t===null)return!1;var n=(0,d.U2)(e,"grid");return!(t===void 0&&n===null)}var wo=["container"],Pp=(0,x.pi)((0,x.pi)({},p0),{appear:null}),yN=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.cache=new Map,n.gridContainer=n.view.getLayer(zr.BG).addGroup(),n.gridForeContainer=n.view.getLayer(zr.FORE).addGroup(),n.axisContainer=n.view.getLayer(zr.BG).addGroup(),n.axisForeContainer=n.view.getLayer(zr.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this,n=this.view.getCoordinate();(0,d.S6)(this.getComponents(),function(i){var a=i.component,o=i.direction,s=i.type,u=i.extra,l=u.dim,c=u.scale,f=u.alignTick,h;if(s===Kr.AXIS)n.isPolar?l==="x"?h=n.isTransposed?Ql(n,o):M4(n):l==="y"&&(h=n.isTransposed?M4(n):Ql(n,o)):h=Ql(n,o);else if(s===Kr.GRID)if(n.isPolar){var v=void 0;n.isTransposed?v=l==="x"?gf(n,t.view.getYScales()[0],c,f,l):T2(n,c,l,f):v=l==="x"?T2(n,c,l,f):gf(n,t.view.getXScale(),c,f,l),h={items:v,center:t.view.getCoordinate().getCenter()}}else h={items:T2(n,c,l,f)};a.update(h)})},r.prototype.update=function(){this.option=this.view.getOptions().axes;var t=new Map;this.updateXAxes(t),this.updateYAxes(t);var n=new Map;this.cache.forEach(function(i,a){t.has(a)?n.set(a,i):i.component.destroy()}),this.cache=n},r.prototype.clear=function(){e.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},r.prototype.getComponents=function(){var t=[];return this.cache.forEach(function(n){t.push(n)}),t},r.prototype.updateXAxes=function(t){var n=this.view.getXScale();if(!(!n||n.isIdentity)){var i=t2(this.option,n.field);if(i!==!1){var a=kh(i,Pe.BOTTOM),o=zr.BG,s="x",u=this.view.getCoordinate(),l=this.getId("axis",n.field),c=this.getId("grid",n.field);if(u.isRect){var f=this.cache.get(l);if(f){var h=this.getLineAxisCfg(n,i,a);ni(h,wo),f.component.update(h),t.set(l,f)}else f=this.createLineAxis(n,i,o,a,s),this.cache.set(l,f),t.set(l,f);var v=this.cache.get(c);if(v){var h=this.getLineGridCfg(n,i,a,s);ni(h,wo),v.component.update(h),t.set(c,v)}else v=this.createLineGrid(n,i,o,a,s),v&&(this.cache.set(c,v),t.set(c,v))}else if(u.isPolar){var f=this.cache.get(l);if(f){var h=u.isTransposed?this.getLineAxisCfg(n,i,Pe.RADIUS):this.getCircleAxisCfg(n,i,a);ni(h,wo),f.component.update(h),t.set(l,f)}else{if(u.isTransposed){if((0,d.o8)(i))return;f=this.createLineAxis(n,i,o,Pe.RADIUS,s)}else f=this.createCircleAxis(n,i,o,a,s);this.cache.set(l,f),t.set(l,f)}var v=this.cache.get(c);if(v){var h=u.isTransposed?this.getCircleGridCfg(n,i,Pe.RADIUS,s):this.getLineGridCfg(n,i,Pe.CIRCLE,s);ni(h,wo),v.component.update(h),t.set(c,v)}else{if(u.isTransposed){if((0,d.o8)(i))return;v=this.createCircleGrid(n,i,o,Pe.RADIUS,s)}else v=this.createLineGrid(n,i,o,Pe.CIRCLE,s);v&&(this.cache.set(c,v),t.set(c,v))}}}}},r.prototype.updateYAxes=function(t){var n=this,i=this.view.getYScales();(0,d.S6)(i,function(a,o){if(!(!a||a.isIdentity)){var s=a.field,u=t2(n.option,s);if(u!==!1){var l=zr.BG,c="y",f=n.getId("axis",s),h=n.getId("grid",s),v=n.view.getCoordinate();if(v.isRect){var p=kh(u,o===0?Pe.LEFT:Pe.RIGHT),g=n.cache.get(f);if(g){var y=n.getLineAxisCfg(a,u,p);ni(y,wo),g.component.update(y),t.set(f,g)}else g=n.createLineAxis(a,u,l,p,c),n.cache.set(f,g),t.set(f,g);var m=n.cache.get(h);if(m){var y=n.getLineGridCfg(a,u,p,c);ni(y,wo),m.component.update(y),t.set(h,m)}else m=n.createLineGrid(a,u,l,p,c),m&&(n.cache.set(h,m),t.set(h,m))}else if(v.isPolar){var g=n.cache.get(f);if(g){var y=v.isTransposed?n.getCircleAxisCfg(a,u,Pe.CIRCLE):n.getLineAxisCfg(a,u,Pe.RADIUS);ni(y,wo),g.component.update(y),t.set(f,g)}else{if(v.isTransposed){if((0,d.o8)(u))return;g=n.createCircleAxis(a,u,l,Pe.CIRCLE,c)}else g=n.createLineAxis(a,u,l,Pe.RADIUS,c);n.cache.set(f,g),t.set(f,g)}var m=n.cache.get(h);if(m){var y=v.isTransposed?n.getLineGridCfg(a,u,Pe.CIRCLE,c):n.getCircleGridCfg(a,u,Pe.RADIUS,c);ni(y,wo),m.component.update(y),t.set(h,m)}else{if(v.isTransposed){if((0,d.o8)(u))return;m=n.createLineGrid(a,u,l,Pe.CIRCLE,c)}else m=n.createCircleGrid(a,u,l,Pe.RADIUS,c);m&&(n.cache.set(h,m),t.set(h,m))}}}}})},r.prototype.createLineAxis=function(t,n,i,a,o){var s={component:new gL(this.getLineAxisCfg(t,n,a)),layer:i,direction:a===Pe.RADIUS?Pe.NONE:a,type:Kr.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createLineGrid=function(t,n,i,a,o){var s=this.getLineGridCfg(t,n,a,o);if(s){var u={component:new mL(s),layer:i,direction:Pe.NONE,type:Kr.GRID,extra:{dim:o,scale:t,alignTick:(0,d.U2)(s,"alignTick",!0)}};return u.component.init(),u}},r.prototype.createCircleAxis=function(t,n,i,a,o){var s={component:new yL(this.getCircleAxisCfg(t,n,a)),layer:i,direction:a,type:Kr.AXIS,extra:{dim:o,scale:t}};return s.component.set("field",t.field),s.component.init(),s},r.prototype.createCircleGrid=function(t,n,i,a,o){var s=this.getCircleGridCfg(t,n,a,o);if(s){var u={component:new xL(s),layer:i,direction:Pe.NONE,type:Kr.GRID,extra:{dim:o,scale:t,alignTick:(0,d.U2)(s,"alignTick",!0)}};return u.component.init(),u}},r.prototype.getLineAxisCfg=function(t,n,i){var a=(0,d.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=Ql(o,i),u=Oh(t,n),l=Jl(this.view.getTheme(),i),c=(0,d.U2)(n,["title"])?(0,d.b$)({title:{style:{text:u}}},{title:Fh(this.view.getTheme(),i,n.title)},n):n,f=(0,d.b$)((0,x.pi)((0,x.pi)({container:a},s),{ticks:t.getTicks().map(function(C){return{id:"".concat(C.tickValue),name:C.text,value:C.value}}),verticalFactor:o.isPolar?wh(s,o.getCenter())*-1:wh(s,o.getCenter()),theme:l}),l,c),h=this.getAnimateCfg(f),v=h.animate,p=h.animateOption;f.animateOption=p,f.animate=v;var g=Th(s),y=(0,d.U2)(f,"verticalLimitLength",g?1/3:1/2);if(y<=1){var m=this.view.getCanvas().get("width"),E=this.view.getCanvas().get("height");f.verticalLimitLength=y*(g?m:E)}return f},r.prototype.getLineGridCfg=function(t,n,i,a){if(Ip(Jl(this.view.getTheme(),i),n)){var o=Lp(this.view.getTheme(),i),s=(0,d.b$)({container:(0,d.U2)(n,["top"])?this.gridForeContainer:this.gridContainer},o,(0,d.U2)(n,"grid"),this.getAnimateCfg(n));return s.items=T2(this.view.getCoordinate(),t,a,(0,d.U2)(s,"alignTick",!0)),s}},r.prototype.getCircleAxisCfg=function(t,n,i){var a=(0,d.U2)(n,["top"])?this.axisForeContainer:this.axisContainer,o=this.view.getCoordinate(),s=t.getTicks().map(function(g){return{id:"".concat(g.tickValue),name:g.text,value:g.value}});!t.isCategory&&Math.abs(o.endAngle-o.startAngle)===Math.PI*2&&s.length&&(s[s.length-1].name="");var u=Oh(t,n),l=Jl(this.view.getTheme(),Pe.CIRCLE),c=(0,d.U2)(n,["title"])?(0,d.b$)({title:{style:{text:u}}},{title:Fh(this.view.getTheme(),i,n.title)},n):n,f=(0,d.b$)((0,x.pi)((0,x.pi)({container:a},M4(this.view.getCoordinate())),{ticks:s,verticalFactor:1,theme:l}),l,c),h=this.getAnimateCfg(f),v=h.animate,p=h.animateOption;return f.animate=v,f.animateOption=p,f},r.prototype.getCircleGridCfg=function(t,n,i,a){if(Ip(Jl(this.view.getTheme(),i),n)){var o=Lp(this.view.getTheme(),Pe.RADIUS),s=(0,d.b$)({container:(0,d.U2)(n,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},o,(0,d.U2)(n,"grid"),this.getAnimateCfg(n)),u=(0,d.U2)(s,"alignTick",!0),l=a==="x"?this.view.getYScales()[0]:this.view.getXScale();return s.items=gf(this.view.getCoordinate(),l,t,u,a),s}},r.prototype.getId=function(t,n){var i=this.view.getCoordinate();return"".concat(t,"-").concat(n,"-").concat(i.type)},r.prototype.getAnimateCfg=function(t){return{animate:this.view.getOptions().animate&&(0,d.U2)(t,"animate"),animateOption:t&&t.animateOption?(0,d.b$)({},Pp,t.animateOption):Pp}},r}(v0),mN=yN;function Fo(e,r,t){return t===Pe.TOP?[e.minX+e.width/2-r.width/2,e.minY]:t===Pe.BOTTOM?[e.minX+e.width/2-r.width/2,e.maxY-r.height]:t===Pe.LEFT?[e.minX,e.minY+e.height/2-r.height/2]:t===Pe.RIGHT?[e.maxX-r.width,e.minY+e.height/2-r.height/2]:t===Pe.TOP_LEFT||t===Pe.LEFT_TOP?[e.tl.x,e.tl.y]:t===Pe.TOP_RIGHT||t===Pe.RIGHT_TOP?[e.tr.x-r.width,e.tr.y]:t===Pe.BOTTOM_LEFT||t===Pe.LEFT_BOTTOM?[e.bl.x,e.bl.y-r.height]:t===Pe.BOTTOM_RIGHT||t===Pe.RIGHT_BOTTOM?[e.br.x-r.width,e.br.y-r.height]:[0,0]}function xN(e,r){if(r.isTransposed)switch(e){case DIRECTION.BOTTOM:return DIRECTION.LEFT;case DIRECTION.LEFT:return DIRECTION.BOTTOM;case DIRECTION.RIGHT:return DIRECTION.TOP;case DIRECTION.TOP:return DIRECTION.RIGHT}return e}function Rp(e){return e===DIRECTION.LEFT?DIRECTION.RIGHT:e===DIRECTION.RIGHT?DIRECTION.LEFT:e}function Dp(e){return e===DIRECTION.TOP?DIRECTION.BOTTOM:e===DIRECTION.BOTTOM?DIRECTION.TOP:e}function _N(e,r){var t=r.matrix[0],n=r.matrix[4],i=e;return t<0&&(i=Rp(i)),n<0&&(i=Dp(i)),i}function EN(e,r){var t=e;return r.isReflect("x")&&(t=Rp(t)),r.isReflect("y")&&(t=Dp(t)),t}function w9t(e,r){var t=e;return t=xN(t,r),t=_N(t,r),t=EN(t,r),t}function Bp(e,r){return(0,d.jn)(e)?e===!1?!1:{}:(0,d.U2)(e,[r],e)}function w2(e){return(0,d.U2)(e,"position",Pe.BOTTOM)}var CN=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.container=n.view.getLayer(zr.FORE).addGroup(),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.render=function(){this.update()},r.prototype.layout=function(){var t=this;this.layoutBBox=this.view.viewBBox,(0,d.S6)(this.components,function(n){var i=n.component,a=n.direction,o=Z4(a),s=i.get("maxWidthRatio"),u=i.get("maxHeightRatio"),l=t.getCategoryLegendSizeCfg(o,s,u),c=i.get("maxWidth"),f=i.get("maxHeight");i.update({maxWidth:Math.min(l.maxWidth,c||0),maxHeight:Math.min(l.maxHeight,f||0)});var h=i.get("padding"),v=i.getLayoutBBox(),p=new Un(v.x,v.y,v.width,v.height).expand(h),g=(0,x.CR)(Fo(t.view.viewBBox,p,a),2),y=g[0],m=g[1],E=(0,x.CR)(Fo(t.layoutBBox,p,a),2),C=E[0],A=E[1],M=0,Z=0;a.startsWith("top")||a.startsWith("bottom")?(M=y,Z=A):(M=C,Z=m),i.setLocation({x:M+h[3],y:Z+h[0]}),t.layoutBBox=t.layoutBBox.cut(p,a)})},r.prototype.update=function(){var t=this;this.option=this.view.getOptions().legends;var n={},i=function(h,v,p){var g=t.getId(p.field),y=t.getComponentById(g);if(y){var m=void 0,E=Bp(t.option,p.field);E!==!1&&((0,d.U2)(E,"custom")?m=t.getCategoryCfg(h,v,p,E,!0):p.isLinear?m=t.getContinuousCfg(h,v,p,E):p.isCategory&&(m=t.getCategoryCfg(h,v,p,E))),m&&(ni(m,["container"]),y.direction=w2(E),y.component.update(m),n[g]=!0)}else{var C=t.createFieldLegend(h,v,p);C&&(C.component.init(),t.components.push(C),n[g]=!0)}};if((0,d.U2)(this.option,"custom")){var a="global-custom",o=this.getComponentById(a);if(o){var s=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ni(s,["container"]),o.component.update(s),n[a]=!0}else{var u=this.createCustomLegend(void 0,void 0,void 0,this.option);if(u){u.init();var l=zr.FORE,c=w2(this.option);this.components.push({id:a,component:u,layer:l,direction:c,type:Kr.LEGEND,extra:void 0}),n[a]=!0}}}else this.loopLegends(i);var f=[];(0,d.S6)(this.getComponents(),function(h){n[h.id]?f.push(h):h.component.destroy()}),this.components=f},r.prototype.clear=function(){e.prototype.clear.call(this),this.container.clear()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.container.remove(!0)},r.prototype.getGeometries=function(t){var n=this,i=t.geometries;return(0,d.S6)(t.views,function(a){i=i.concat(n.getGeometries(a))}),i},r.prototype.loopLegends=function(t){var n=this.view.getRootView()===this.view;if(n){var i=this.getGeometries(this.view),a={};(0,d.S6)(i,function(o){var s=o.getGroupAttributes();(0,d.S6)(s,function(u){var l=u.getScale(u.type);!l||l.type==="identity"||a[l.field]||(t(o,u,l),a[l.field]=!0)})})}},r.prototype.createFieldLegend=function(t,n,i){var a,o=Bp(this.option,i.field),s=zr.FORE,u=w2(o);if(o!==!1&&((0,d.U2)(o,"custom")?a=this.createCustomLegend(t,n,i,o):i.isLinear?a=this.createContinuousLegend(t,n,i,o):i.isCategory&&(a=this.createCategoryLegend(t,n,i,o))),a)return a.set("field",i.field),{id:this.getId(i.field),component:a,layer:s,direction:u,type:Kr.LEGEND,extra:{scale:i}}},r.prototype.createCustomLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a,!0);return new _h(o)},r.prototype.createContinuousLegend=function(t,n,i,a){var o=this.getContinuousCfg(t,n,i,ni(a,["value"]));return new _L(o)},r.prototype.createCategoryLegend=function(t,n,i,a){var o=this.getCategoryCfg(t,n,i,a);return new _h(o)},r.prototype.getContinuousCfg=function(t,n,i,a){var o=i.getTicks(),s=(0,d.sE)(o,function(g){return g.value===0}),u=(0,d.sE)(o,function(g){return g.value===1}),l=o.map(function(g){var y=g.value,m=g.tickValue,E=n.mapping(i.invert(y)).join("");return{value:m,attrValue:E,color:E,scaleValue:y}});s||l.push({value:i.min,attrValue:n.mapping(i.invert(0)).join(""),color:n.mapping(i.invert(0)).join(""),scaleValue:0}),u||l.push({value:i.max,attrValue:n.mapping(i.invert(1)).join(""),color:n.mapping(i.invert(1)).join(""),scaleValue:1}),l.sort(function(g,y){return g.value-y.value});var c={min:(0,d.YM)(l).value,max:(0,d.Z$)(l).value,colors:[],rail:{type:n.type},track:{}};n.type==="size"&&(c.track={style:{fill:n.type==="size"?this.view.getTheme().defaultColor:void 0}}),n.type==="color"&&(c.colors=l.map(function(g){return g.attrValue}));var f=this.container,h=w2(a),v=Z4(h),p=(0,d.U2)(a,"title");return p&&(p=(0,d.b$)({text:Is(i)},p)),c.container=f,c.layout=v,c.title=p,c.animateOption=p0,this.mergeLegendCfg(c,a,"continuous")},r.prototype.getCategoryCfg=function(t,n,i,a,o){var s=this.container,u=(0,d.U2)(a,"position",Pe.BOTTOM),l=bv(this.view.getTheme(),u),c=(0,d.U2)(l,["marker"]),f=(0,d.U2)(a,"marker"),h=Z4(u),v=(0,d.U2)(l,["pageNavigator"]),p=(0,d.U2)(a,"pageNavigator"),g=o?iP(c,f,a.items):Sv(this.view,t,n,c,f),y=(0,d.U2)(a,"title");y&&(y=(0,d.b$)({text:i?Is(i):""},y));var m=(0,d.U2)(a,"maxWidthRatio"),E=(0,d.U2)(a,"maxHeightRatio"),C=this.getCategoryLegendSizeCfg(h,m,E);C.container=s,C.layout=h,C.items=g,C.title=y,C.animateOption=p0,C.pageNavigator=(0,d.b$)({},v,p);var A=this.mergeLegendCfg(C,a,u);A.reversed&&A.items.reverse();var M=(0,d.U2)(A,"maxItemWidth");return M&&M<=1&&(A.maxItemWidth=this.view.viewBBox.width*M),A},r.prototype.mergeLegendCfg=function(t,n,i){var a=i.split("-")[0],o=bv(this.view.getTheme(),a);return(0,d.b$)({},o,t,n)},r.prototype.getId=function(t){return"".concat(this.name,"-").concat(t)},r.prototype.getComponentById=function(t){return(0,d.sE)(this.components,function(n){return n.id===t})},r.prototype.getCategoryLegendSizeCfg=function(t,n,i){n===void 0&&(n=me),i===void 0&&(i=me);var a=this.view.viewBBox,o=a.width,s=a.height;return t==="vertical"?{maxWidth:o*n,maxHeight:s}:{maxWidth:o,maxHeight:s*i}},r}(v0),SN=CN,bN=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=d.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=(0,x.CR)(i,2),o=a[0],s=a[1];n.start=o,n.end=s,n.changeViewData(o,s)},n.container=n.view.getLayer(zr.FORE).addGroup(),n.onChangeFn=(0,d.P2)(n.onValueChange,20,{leading:!0}),n.width=0,n.view.on(rr.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(rr.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(rr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(rr.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().slider;var t=this.getSliderCfg(),n=t.start,i=t.end;(0,d.UM)(this.start)&&(this.start=n,this.end=i);var a=this.view.getOptions().data;this.option&&!(0,d.xb)(a)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.start,t.end)},0)),this.slider){var n=this.view.coordinateBBox.width,i=this.slider.component.get("padding"),a=(0,x.CR)(i,4),o=a[0],s=a[1],u=a[2],l=a[3],c=this.slider.component.getLayoutBBox(),f=new Un(c.x,c.y,Math.min(c.width,n),c.height).expand(i),h=this.getMinMaxText(this.start,this.end),v=h.minText,p=h.maxText,g=(0,x.CR)(Fo(this.view.viewBBox,f,Pe.BOTTOM),2),y=g[0],m=g[1],E=(0,x.CR)(Fo(this.view.coordinateBBox,f,Pe.BOTTOM),2),C=E[0],A=E[1];this.slider.component.update((0,x.pi)((0,x.pi)({},this.getSliderCfg()),{x:C+l,y:m+o,width:this.width,start:this.start,end:this.end,minText:v,maxText:p})),this.view.viewBBox=this.view.viewBBox.cut(f,Pe.BOTTOM)}},r.prototype.update=function(){this.render()},r.prototype.createSlider=function(){var t=this.getSliderCfg(),n=new vL((0,x.pi)({container:this.container},t));return n.init(),{component:n,layer:zr.FORE,direction:Pe.BOTTOM,type:Kr.SLIDER}},r.prototype.updateSlider=function(){var t=this.getSliderCfg();if(this.width){var n=this.getMinMaxText(this.start,this.end),i=n.minText,a=n.maxText;t=(0,x.pi)((0,x.pi)({},t),{width:this.width,start:this.start,end:this.end,minText:i,maxText:a})}return this.slider.component.update(t),this.slider},r.prototype.measureSlider=function(){var t=this.getSliderCfg().width;this.width=t},r.prototype.getSliderCfg=function(){var t={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if((0,d.Kn)(this.option)){var n=(0,x.pi)({data:this.getData()},(0,d.U2)(this.option,"trendCfg",{}));t=(0,d.b$)({},t,this.getThemeOptions(),this.option),t=(0,x.pi)((0,x.pi)({},t),{trendCfg:n})}return t.start=(0,d.uZ)(Math.min((0,d.UM)(t.start)?0:t.start,(0,d.UM)(t.end)?1:t.end),0,1),t.end=(0,d.uZ)(Math.max((0,d.UM)(t.start)?0:t.start,(0,d.UM)(t.end)?1:t.end),0,1),t},r.prototype.getData=function(){var t=this.view.getOptions().data,n=(0,x.CR)(this.view.getYScales(),1),i=n[0],a=this.view.getGroupScales();if(a.length){var o=a[0],s=o.field,u=o.ticks;return t.reduce(function(l,c){return c[s]===u[0]&&l.push(c[i.field]),l},[])}return t.map(function(l){return l[i.field]||0})},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,d.U2)(t,["components","slider","common"],{})},r.prototype.getMinMaxText=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=!0,s=(0,d.I)(i,a.field);a.isLinear&&(s=s.sort());var u=o?s:s.reverse(),l=(0,d.dp)(i);if(!a||!l)return{};var c=(0,d.dp)(u),f=Math.round(t*(c-1)),h=Math.round(n*(c-1)),v=(0,d.U2)(u,[f]),p=(0,d.U2)(u,[h]),g=this.getSliderCfg().formatter;return g&&(v=g(v,i[f],f),p=g(p,i[h],h)),{minText:v,maxText:p}},r.prototype.changeViewData=function(t,n){var i=this.view.getOptions().data,a=this.view.getXScale(),o=(0,d.dp)(i);if(!(!a||!o)){var s=!0,u=(0,d.I)(i,a.field),l=this.view.getXScale().isLinear?u.sort(function(p,g){return Number(p)-Number(g)}):u,c=s?l:l.reverse(),f=(0,d.dp)(c),h=Math.round(t*(f-1)),v=Math.round(n*(f-1));this.view.filter(a.field,function(p,g){var y=c.indexOf(p);return y>-1?s0(y,h,v):!0}),this.view.render(!0)}},r.prototype.getComponents=function(){return this.slider?[this.slider]:[]},r.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},r}(v0),AN=bN,F2=0,Np=8,MN=32,TN=20,wN=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.onChangeFn=d.ZT,n.resetMeasure=function(){n.clear()},n.onValueChange=function(i){var a=i.ratio,o=n.getValidScrollbarCfg().animate;n.ratio=(0,d.uZ)(a,0,1);var s=n.view.getOptions().animate;o||n.view.animate(!1),n.changeViewData(n.getScrollRange(),!0),n.view.animate(s)},n.container=n.view.getLayer(zr.FORE).addGroup(),n.onChangeFn=(0,d.P2)(n.onValueChange,20,{leading:!0}),n.trackLen=0,n.thumbLen=0,n.ratio=0,n.view.on(rr.BEFORE_CHANGE_DATA,n.resetMeasure),n.view.on(rr.BEFORE_CHANGE_SIZE,n.resetMeasure),n}return Object.defineProperty(r.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),r.prototype.destroy=function(){e.prototype.destroy.call(this),this.view.off(rr.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(rr.BEFORE_CHANGE_SIZE,this.resetMeasure)},r.prototype.init=function(){},r.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},r.prototype.layout=function(){var t=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){t.view.destroyed||t.changeViewData(t.getScrollRange(),!0)})),this.scrollbar){var n=this.view.coordinateBBox.width,i=this.scrollbar.component.get("padding"),a=this.scrollbar.component.getLayoutBBox(),o=new Un(a.x,a.y,Math.min(a.width,n),a.height).expand(i),s=this.getScrollbarComponentCfg(),u=void 0,l=void 0;if(s.isHorizontal){var c=(0,x.CR)(Fo(this.view.viewBBox,o,Pe.BOTTOM),2),f=c[0],h=c[1],v=(0,x.CR)(Fo(this.view.coordinateBBox,o,Pe.BOTTOM),2),p=v[0],g=v[1];u=p,l=h}else{var y=(0,x.CR)(Fo(this.view.viewBBox,o,Pe.RIGHT),2),f=y[0],h=y[1],m=(0,x.CR)(Fo(this.view.viewBBox,o,Pe.RIGHT),2),p=m[0],g=m[1];u=p,l=h}u+=i[3],l+=i[0],this.trackLen?this.scrollbar.component.update((0,x.pi)((0,x.pi)({},s),{x:u,y:l,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update((0,x.pi)((0,x.pi)({},s),{x:u,y:l})),this.view.viewBBox=this.view.viewBBox.cut(o,s.isHorizontal?Pe.BOTTOM:Pe.RIGHT)}},r.prototype.update=function(){this.render()},r.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},r.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},r.prototype.setValue=function(t){this.onValueChange({ratio:t})},r.prototype.getValue=function(){return this.ratio},r.prototype.getThemeOptions=function(){var t=this.view.getTheme();return(0,d.U2)(t,["components","scrollbar","common"],{})},r.prototype.getScrollbarTheme=function(t){var n=(0,d.U2)(this.view.getTheme(),["components","scrollbar"]),i=t||{},a=i.thumbHighlightColor,o=(0,x._T)(i,["thumbHighlightColor"]);return{default:(0,d.b$)({},(0,d.U2)(n,["default","style"],{}),o),hover:(0,d.b$)({},(0,d.U2)(n,["hover","style"],{}),{thumbColor:a})}},r.prototype.measureScrollbar=function(){var t=this.view.getXScale(),n=this.view.getYScales().slice();this.data=this.getScrollbarData(),this.step=this.getStep(),this.cnt=this.getCnt();var i=this.getScrollbarComponentCfg(),a=i.trackLen,o=i.thumbLen;this.trackLen=a,this.thumbLen=o,this.xScaleCfg={field:t.field,values:t.values||[]},this.yScalesCfg=n},r.prototype.getScrollRange=function(){var t=Math.floor((this.cnt-this.step)*(0,d.uZ)(this.ratio,0,1)),n=Math.min(t+this.step-1,this.cnt-1);return[t,n]},r.prototype.changeViewData=function(t,n){var i=this,a=(0,x.CR)(t,2),o=a[0],s=a[1],u=this.getValidScrollbarCfg().type,l=u!=="vertical",c=(0,d.I)(this.data,this.xScaleCfg.field),f=this.view.getXScale().isLinear?c.sort(function(v,p){return Number(v)-Number(p)}):c,h=l?f:f.reverse();this.yScalesCfg.forEach(function(v){i.view.scale(v.field,{formatter:v.formatter,type:v.type,min:v.min,max:v.max,tickMethod:v.tickMethod})}),this.view.filter(this.xScaleCfg.field,function(v){var p=h.indexOf(v);return p>-1?s0(p,o,s):!0}),this.view.render(!0)},r.prototype.createScrollbar=function(){var t=this.getValidScrollbarCfg().type,n=t!=="vertical",i=new dL((0,x.pi)((0,x.pi)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return i.init(),{component:i,layer:zr.FORE,direction:n?Pe.BOTTOM:Pe.RIGHT,type:Kr.SCROLLBAR}},r.prototype.updateScrollbar=function(){var t=this.getScrollbarComponentCfg(),n=this.trackLen?(0,x.pi)((0,x.pi)({},t),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):(0,x.pi)({},t);return this.scrollbar.component.update(n),this.scrollbar},r.prototype.getStep=function(){if(this.step)return this.step;var t=this.view.coordinateBBox,n=this.getValidScrollbarCfg(),i=n.type,a=n.categorySize,o=i!=="vertical";return Math.floor((o?t.width:t.height)/a)},r.prototype.getCnt=function(){if(this.cnt)return this.cnt;var t=this.view.getXScale(),n=this.getScrollbarData(),i=(0,d.I)(n,t.field);return(0,d.dp)(i)},r.prototype.getScrollbarComponentCfg=function(){var t=this.view,n=t.coordinateBBox,i=t.viewBBox,a=this.getValidScrollbarCfg(),o=a.type,s=a.padding,u=a.width,l=a.height,c=a.style,f=o!=="vertical",h=(0,x.CR)(s,4),v=h[0],p=h[1],g=h[2],y=h[3],m=f?{x:n.minX+y,y:i.maxY-l-g}:{x:i.maxX-u-p,y:n.minY+v},E=this.getStep(),C=this.getCnt(),A=f?n.width-y-p:n.height-v-g,M=Math.max(A*(0,d.uZ)(E/C,0,1),TN);return(0,x.pi)((0,x.pi)({},this.getThemeOptions()),{x:m.x,y:m.y,size:f?l:u,isHorizontal:f,trackLen:A,thumbLen:M,thumbOffset:0,theme:this.getScrollbarTheme(c)})},r.prototype.getValidScrollbarCfg=function(){var t={type:"horizontal",categorySize:MN,width:Np,height:Np,padding:[0,0,0,0],animate:!0,style:{}};return(0,d.Kn)(this.option)&&(t=(0,x.pi)((0,x.pi)({},t),this.option)),(!(0,d.Kn)(this.option)||!this.option.padding)&&(t.padding=t.type==="horizontal"?[F2,0,F2,0]:[0,F2,0,F2]),t},r.prototype.getScrollbarData=function(){var t=this.view.getCoordinate(),n=this.getValidScrollbarCfg(),i=this.view.getOptions().data||[];return t.isReflect("y")&&n.type==="vertical"&&(i=(0,x.ev)([],(0,x.CR)(i),!1).reverse()),i},r}(v0),FN=wN,kN={fill:"#CCD6EC",opacity:.3};function ON(e,r,t){var n,i,a,o,s,u,l=CI(e,r,t);if(l.length){l=(0,d.xH)(l);try{for(var c=(0,x.XA)(l),f=c.next();!f.done;f=c.next()){var h=f.value;try{for(var v=(a=void 0,(0,x.XA)(h)),p=v.next();!p.done;p=v.next()){var g=p.value,y=g.mappingData,m=y.x,E=y.y;g.x=(0,d.kJ)(m)?m[m.length-1]:m,g.y=(0,d.kJ)(E)?E[E.length-1]:E}}catch(Pt){a={error:Pt}}finally{try{p&&!p.done&&(o=v.return)&&o.call(v)}finally{if(a)throw a.error}}}}catch(Pt){n={error:Pt}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var C=t.shared;if(C===!1&&l.length>1){var A=l[0],M=Math.abs(r.y-A[0].y);try{for(var Z=(0,x.XA)(l),Y=Z.next();!Y.done;Y=Z.next()){var st=Y.value,Ct=Math.abs(r.y-st[0].y);Ct<=M&&(A=st,M=Ct)}}catch(Pt){s={error:Pt}}finally{try{Y&&!Y.done&&(u=Z.return)&&u.call(Z)}finally{if(s)throw s.error}}l=[A]}return(0,d.jj)((0,d.xH)(l))}return[]}var LN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(t){var n=this.context.view,i=this.context.event,a=n.getController("tooltip").getTooltipCfg(),o=ON(n,{x:i.x,y:i.y},a);if(!(0,d.Xy)(o,this.items)&&(this.items=o,o.length)){var s=n.getXScale().field,u=o[0].data[s],l=[],c=n.geometries;if((0,d.S6)(c,function(De){if(De.type==="interval"||De.type==="schema"){var Fe=De.getElementsBy(function(Ve){var tr=Ve.getData();return tr[s]===u});l=l.concat(Fe)}}),l.length){var f=n.getCoordinate(),h=l[0].shape.getCanvasBBox(),v=l[0].shape.getCanvasBBox(),p=h;(0,d.S6)(l,function(De){var Fe=De.shape.getCanvasBBox();f.isTransposed?(Fe.minY<h.minY&&(h=Fe),Fe.maxY>v.maxY&&(v=Fe)):(Fe.minX<h.minX&&(h=Fe),Fe.maxX>v.maxX&&(v=Fe)),p.x=Math.min(Fe.minX,p.minX),p.y=Math.min(Fe.minY,p.minY),p.width=Math.max(Fe.maxX,p.maxX)-p.x,p.height=Math.max(Fe.maxY,p.maxY)-p.y});var g=n.backgroundGroup,y=n.coordinateBBox,m=void 0;if(f.isRect){var E=n.getXScale(),C=t||{},A=C.appendRatio,M=C.appendWidth;(0,d.UM)(M)&&(A=(0,d.UM)(A)?E.isLinear?0:.25:A,M=f.isTransposed?A*v.height:A*h.width);var Z=void 0,Y=void 0,st=void 0,Ct=void 0;f.isTransposed?(Z=y.minX,Y=Math.min(v.minY,h.minY)-M,st=y.width,Ct=p.height+M*2):(Z=Math.min(h.minX,v.minX)-M,Y=y.minY,st=p.width+M*2,Ct=y.height),m=[["M",Z,Y],["L",Z+st,Y],["L",Z+st,Y+Ct],["L",Z,Y+Ct],["Z"]]}else{var Pt=(0,d.YM)(l),Zt=(0,d.Z$)(l),ie=Os(Pt.getModel(),f).startAngle,ce=Os(Zt.getModel(),f).endAngle,_e=f.getCenter(),Re=f.getRadius(),he=f.innerRadius*Re;m=_o(_e.x,_e.y,Re,ie,ce,he)}if(this.regionPath)this.regionPath.attr("path",m),this.regionPath.show();else{var Me=(0,d.U2)(t,"style",kN);this.regionPath=g.addShape({type:"path",name:"active-region",capture:!1,attrs:(0,x.pi)((0,x.pi)({},Me),{path:m})})}}}},r.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},r.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),e.prototype.destroy.call(this)},r}(Vr),IN=LN,PN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.context,n=t.event,i=t.view,a=i.isTooltipLocked();if(!a){var o=this.timeStamp,s=+new Date,u=(0,d.U2)(t.view.getOptions(),"tooltip.showDelay",16);if(s-o>u){var l=this.location,c={x:n.x,y:n.y};(!l||!(0,d.Xy)(l,c))&&this.showTooltip(i,c),this.timeStamp=s,this.location=c}}},r.prototype.hide=function(){var t=this.context.view,n=t.getController("tooltip"),i=this.context.event,a=i.clientX,o=i.clientY;n.isCursorEntered({x:a,y:o})||t.isTooltipLocked()||(this.hideTooltip(t),this.location=null)},r.prototype.showTooltip=function(t,n){t.showTooltip(n)},r.prototype.hideTooltip=function(t){t.hideTooltip()},r}(Vr),Zp=PN,RN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.showTooltip=function(t,n){var i=Ca(t);(0,d.S6)(i,function(a){var o=k4(t,a,n);a.showTooltip(o)})},r.prototype.hideTooltip=function(t){var n=Ca(t);(0,d.S6)(n,function(i){i.hideTooltip()})},r}(Zp),DN=RN,BN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.show=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date;if(a-i>16){var o=this.location,s={x:n.x,y:n.y};(!o||!(0,d.Xy)(o,s))&&this.showTooltip(s),this.timeStamp=a,this.location=s}},r.prototype.hide=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=a.get("tip");this.tooltip.update((0,x.pi)({title:o},t)),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=n.getTheme(),s=(0,d.U2)(o,["components","tooltip","domStyles"],{}),u=new ql({parent:i.get("el").parentNode,region:a,visible:!1,crosshairs:null,domStyles:(0,x.pi)({},(0,d.b$)({},s,(t={},t[Ua]={"max-width":"50%"},t[Ha]={"word-break":"break-all"},t)))});u.init(),u.setCapture(!1),this.tooltip=u},r}(Vr),NN=BN,ZN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t}return r.prototype.hasState=function(t){return t.hasState(this.stateName)},r.prototype.setElementState=function(t,n){t.setState(this.stateName,n)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.clear=function(){var t=this.context.view;this.clearViewState(t)},r.prototype.clearViewState=function(t){var n=this,i=Gh(t,this.stateName);(0,d.S6)(i,function(a){n.setElementState(a,!1)})},r}(Vr),yf=ZN;function zp(e){return(0,d.U2)(e.get("delegateObject"),"item")}var zN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.ignoreListItemStates=["unchecked"],t}return r.prototype.isItemIgnore=function(t,n){var i=this.ignoreListItemStates,a=i.filter(function(o){return n.hasState(t,o)});return!!a.length},r.prototype.setStateByComponent=function(t,n,i){var a=this.context.view,o=t.get("field"),s=Mn(a);this.setElementsStateByItem(s,o,n,i)},r.prototype.setStateByElement=function(t,n){this.setElementState(t,n)},r.prototype.isMathItem=function(t,n,i){var a=this.context.view,o=f0(a,n),s=na(t,n);return!(0,d.UM)(s)&&i.name===o.getText(s)},r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this;(0,d.S6)(t,function(s){o.isMathItem(s,n,i)&&s.setState(o.stateName,a)})},r.prototype.setStateEnable=function(t){var n=Co(this.context);if(n)zh(this.context)&&this.setStateByElement(n,t);else{var i=a1(this.context);if(Rs(i)){var a=i.item,o=i.component;if(a&&o&&!this.isItemIgnore(a,o)){var s=this.context.event.gEvent;if(s&&s.fromShape&&s.toShape&&zp(s.fromShape)===zp(s.toShape))return;this.setStateByComponent(o,a,t)}}}},r.prototype.toggle=function(){var t=Co(this.context);if(t){var n=t.hasState(this.stateName);this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(yf),mf=zN,UN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(mf),HN=UN,VN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.cache={},t}return r.prototype.getColorScale=function(t,n){var i=n.geometry.getAttribute("color");if(!i)return null;var a=t.getScaleByField(i.getFields()[0]);return a},r.prototype.getLinkPath=function(t,n){var i=this.context.view,a=i.getCoordinate().isTransposed,o=t.shape.getCanvasBBox(),s=n.shape.getCanvasBBox(),u=a?[["M",o.minX,o.minY],["L",s.minX,s.maxY],["L",s.maxX,s.maxY],["L",o.maxX,o.minY],["Z"]]:[["M",o.maxX,o.minY],["L",s.minX,s.minY],["L",s.minX,s.maxY],["L",o.maxX,o.maxY],["Z"]];return u},r.prototype.addLinkShape=function(t,n,i,a){var o={opacity:.4,fill:n.shape.attr("fill")};t.addShape({type:"path",attrs:(0,x.pi)((0,x.pi)({},(0,d.b$)({},o,(0,d.mf)(a)?a(o,n):a)),{path:this.getLinkPath(n,i)})})},r.prototype.linkByElement=function(t,n){var i=this,a=this.context.view,o=this.getColorScale(a,t);if(o){var s=na(t,o.field);if(!this.cache[s]){var u=KL(a,o.field,s),l=this.linkGroup,c=l.addGroup();this.cache[s]=c;var f=u.length;(0,d.S6)(u,function(h,v){if(v<f-1){var p=u[v+1];i.addLinkShape(c,h,p,n)}})}}},r.prototype.removeLink=function(t){var n=this.getColorScale(this.context.view,t);if(n){var i=na(t,n.field);this.cache[i]&&(this.cache[i].remove(),this.cache[i]=null)}},r.prototype.link=function(t){var n=this.context;this.linkGroup||(this.linkGroup=n.view.foregroundGroup.addGroup({id:"link-by-color-group",capture:!1}));var i=Co(n);i&&this.linkByElement(i,t==null?void 0:t.style)},r.prototype.unlink=function(){var t=Co(this.context);t&&this.removeLink(t)},r.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},r}(Vr),GN=VN,jN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.endPoint=null,t.isStarted=!1,t.effectSiblings=!1,t.effectByRecord=!1,t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},r.prototype.getIntersectElements=function(){var t=null;if(Ds(this.context))t=w4(this.context,10);else{var n=this.startPoint,i=this.isStarted?this.getCurrentPoint():this.endPoint;if(!n||!i)return;var a={minX:Math.min(n.x,i.x),minY:Math.min(n.y,i.y),maxX:Math.max(n.x,i.x),maxY:Math.max(n.y,i.y)},o=this.context.view;t=a2(o,a)}return t},r.prototype.setStateEnable=function(t){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(t);else{var n=Mn(this.context.view),i=this.getIntersectElements();i&&i.length?this.effectByRecord?this.setSiblingsStateByRecord(i,t):this.setElementsState(i,t,n):this.clear()}},r.prototype.setSiblingsStateByRecord=function(t,n){var i=this,a=this.context.view,o=Ca(a),s=t.map(function(c){return c.getModel().data}),u=a.getXScale().field,l=a.getYScales()[0].field;(0,d.S6)(o,function(c){var f=Mn(c),h=f.filter(function(v){var p=v.getModel().data;return $h(s,p,u,l)});i.setElementsState(h,n,f)})},r.prototype.setSiblingsState=function(t){var n=this,i=this.context.view,a=Ca(i);Ds(this.context)&&(0,d.S6)(a,function(o){var s=Mn(o),u=Hh(n.context,o,10);u&&u.length?n.setElementsState(u,t,s):n.clearViewState(o)})},r.prototype.setElementsState=function(t,n,i){var a=this;(0,d.S6)(i,function(o){t.includes(o)?a.setElementState(o,n):a.setElementState(o,!1)})},r.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},r.prototype.clear=function(){var t=this,n=this.context.view;if(this.effectSiblings){var i=Ca(n);(0,d.S6)(i,function(a){t.clearViewState(a)})}else this.clearViewState(n)},r}(yf),xf=jN,WN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(xf),YN=WN,XN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateEnable=function(t){var n=Co(this.context);if(n){if(!zh(this.context))return;t?(this.clear(),this.setElementState(n,!0)):this.hasState(n)&&this.setElementState(n,!1)}},r.prototype.toggle=function(){var t=Co(this.context);if(t){var n=this.hasState(t);n||this.clear(),this.setElementState(t,!n)}},r.prototype.reset=function(){this.setStateEnable(!1)},r}(yf),_f=XN,$N=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(_f),qN=$N,Ws="inactive",Ys="active";function Ef(e){var r=Mn(e);(0,d.S6)(r,function(t){t.hasState(Ys)&&t.setState(Ys,!1),t.hasState(Ws)&&t.setState(Ws,!1)})}function Up(e,r,t){(0,d.S6)(e,function(n){r(n)?(n.hasState(Ws)&&n.setState(Ws,!1),n.setState(Ys,t)):(n.hasState(Ys)&&n.setState(Ys,!1),n.setState(Ws,t))})}var c1=hn.INACTIVE,Ga=hn.ACTIVE,KN=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=Ga,t}return r.prototype.setElementsStateByItem=function(t,n,i,a){var o=this,s=function(u){return o.isMathItem(u,n,i)};this.setHighlightBy(t,s,a)},r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(c1)&&t.setState(c1,!1),t.setState(Ga,!0)):t.hasState(Ga)||t.setState(c1,!0)},r.prototype.setHighlightBy=function(t,n,i){var a=this;if(i)(0,d.S6)(t,function(u){a.setElementHighlight(u,n)});else{var o=Gh(this.context.view,Ga),s=!0;(0,d.S6)(o,function(u){if(!n(u))return s=!1,!1}),s?this.clear():(0,d.S6)(t,function(u){n(u)&&(u.hasState(Ga)&&u.setState(Ga,!1),u.setState(c1,!0))})}},r.prototype.setElementState=function(t,n){var i=this.context.view,a=Mn(i);this.setHighlightBy(a,function(o){return t===o},n)},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.context.view;Ef(t)},r}(mf),Cf=KN,QN=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=t.geometry.getAttribute("color");if(a){var o=i.getScaleByField(a.getFields()[0]),s=na(t,o.field),u=Mn(i),l=u.filter(function(c){return na(c,o.field)===s});this.setHighlightBy(u,function(c){return l.includes(c)},n)}},r}(Cf),JN=QN,tZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setElementHighlight=function(t,n){n(t)?(t.hasState(c1)&&t.setState(c1,!1),t.setState(Ga,!0)):(t.setState(c1,!0),t.hasState(Ga)&&t.setState(Ga,!1))},r.prototype.setStateByElement=function(t,n){var i=this.context.view,a=i.getXScale(),o=na(t,a.field),s=Mn(i),u=s.filter(function(l){return na(l,a.field)===o});this.setHighlightBy(s,function(l){return u.includes(l)},n)},r.prototype.toggle=function(){var t=Co(this.context);if(t){var n=t.hasState(this.stateName);this.setStateByElement(t,!n)}},r}(Cf),eZ=tZ,ba;(function(e){e.BEFORE_HIGHLIGHT="element-range-highlight:beforehighlight",e.AFTER_HIGHLIGHT="element-range-highlight:afterhighlight",e.BEFORE_CLEAR="element-range-highlight:beforeclear",e.AFTER_CLEAR="element-range-highlight:afterclear"})(ba||(ba={}));var rZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.clearViewState=function(t){Ef(t)},r.prototype.highlight=function(){var t=this.context,n=t.view,i=t.event,a=this.getIntersectElements(),o={view:n,event:i,highlightElements:a};n.emit(ba.BEFORE_HIGHLIGHT,qr.fromData(n,ba.BEFORE_HIGHLIGHT,o)),this.setState(),n.emit(ba.AFTER_HIGHLIGHT,qr.fromData(n,ba.AFTER_HIGHLIGHT,o))},r.prototype.clear=function(){var t=this.context.view;t.emit(ba.BEFORE_CLEAR,qr.fromData(t,ba.BEFORE_CLEAR,{})),e.prototype.clear.call(this),t.emit(ba.AFTER_CLEAR,qr.fromData(t,ba.AFTER_CLEAR,{}))},r.prototype.setElementsState=function(t,n,i){Up(i,function(a){return t.indexOf(a)>=0},n)},r}(xf),Hp=rZ,nZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.highlight=function(){this.setState()},r.prototype.setElementState=function(t,n){var i=this.context.view,a=Mn(i);Up(a,function(o){return t===o},n)},r.prototype.clear=function(){var t=this.context.view;Ef(t)},r}(_f),iZ=nZ,aZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(xf),oZ=aZ,sZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(mf),uZ=sZ,lZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(_f),cZ=lZ,fZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="",t.ignoreItemStates=[],t}return r.prototype.getTriggerListInfo=function(){var t=a1(this.context),n=null;return Rs(t)&&(n={item:t.item,list:t.component}),n},r.prototype.getAllowComponents=function(){var t=this,n=this.context.view,i=Yh(n),a=[];return(0,d.S6)(i,function(o){o.isList()&&t.allowSetStateByElement(o)&&a.push(o)}),a},r.prototype.hasState=function(t,n){return t.hasState(n,this.stateName)},r.prototype.clearAllComponentsState=function(){var t=this,n=this.getAllowComponents();(0,d.S6)(n,function(i){i.clearItemsState(t.stateName)})},r.prototype.allowSetStateByElement=function(t){var n=t.get("field");if(!n)return!1;if(this.cfg&&this.cfg.componentNames){var i=t.get("name");if(this.cfg.componentNames.indexOf(i)===-1)return!1}var a=this.context.view,o=f0(a,n);return o&&o.isCategory},r.prototype.allowSetStateByItem=function(t,n){var i=this.ignoreItemStates;if(i.length){var a=i.filter(function(o){return n.hasState(t,o)});return a.length===0}return!0},r.prototype.setStateByElement=function(t,n,i){var a=t.get("field"),o=this.context.view,s=f0(o,a),u=na(n,a),l=s.getText(u);this.setItemsState(t,l,i)},r.prototype.setStateEnable=function(t){var n=this,i=Co(this.context);if(i){var a=this.getAllowComponents();(0,d.S6)(a,function(l){n.setStateByElement(l,i,t)})}else{var o=a1(this.context);if(Rs(o)){var s=o.item,u=o.component;this.allowSetStateByElement(u)&&this.allowSetStateByItem(s,u)&&this.setItemState(u,s,t)}}},r.prototype.setItemsState=function(t,n,i){var a=this,o=t.getItems();(0,d.S6)(o,function(s){s.name===n&&a.setItemState(t,s,i)})},r.prototype.setItemState=function(t,n,i){t.setItemState(n,this.stateName,i)},r.prototype.setState=function(){this.setStateEnable(!0)},r.prototype.reset=function(){this.setStateEnable(!1)},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=this.hasState(n,i);this.setItemState(n,i,!a)}},r.prototype.clear=function(){var t=this.getTriggerListInfo();t?t.list.clearItemsState(this.stateName):this.clearAllComponentsState()},r}(Vr),f1=fZ,hZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="active",t}return r.prototype.active=function(){this.setState()},r}(f1),vZ=hZ,Vp="inactive",Gp="active";function pZ(e){var r=e.getItems();(0,d.S6)(r,function(t){e.hasState(t,Gp)&&e.setItemState(t,Gp,!1),e.hasState(t,Vp)&&e.setItemState(t,Vp,!1)})}var Xs="inactive",h1="active",dZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=h1,t.ignoreItemStates=["unchecked"],t}return r.prototype.setItemsState=function(t,n,i){this.setHighlightBy(t,function(a){return a.name===n},i)},r.prototype.setItemState=function(t,n,i){var a=t.getItems();this.setHighlightBy(t,function(o){return o===n},i)},r.prototype.setHighlightBy=function(t,n,i){var a=t.getItems();if(i)(0,d.S6)(a,function(u){n(u)?(t.hasState(u,Xs)&&t.setItemState(u,Xs,!1),t.setItemState(u,h1,!0)):t.hasState(u,h1)||t.setItemState(u,Xs,!0)});else{var o=t.getItemsByState(h1),s=!0;(0,d.S6)(o,function(u){if(!n(u))return s=!1,!1}),s?this.clear():(0,d.S6)(a,function(u){n(u)&&(t.hasState(u,h1)&&t.setItemState(u,h1,!1),t.setItemState(u,Xs,!0))})}},r.prototype.highlight=function(){this.setState()},r.prototype.clear=function(){var t=this.getTriggerListInfo();if(t)pZ(t.list);else{var n=this.getAllowComponents();(0,d.S6)(n,function(i){i.clearItemsState(h1),i.clearItemsState(Xs)})}},r}(f1),Sf=dZ,gZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="selected",t}return r.prototype.selected=function(){this.setState()},r}(f1),yZ=gZ,mZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName="unchecked",t}return r.prototype.unchecked=function(){this.setState()},r}(f1),xZ=mZ,y0="unchecked",k2="checked",_Z=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.stateName=k2,t}return r.prototype.setItemState=function(t,n,i){this.setCheckedBy(t,function(a){return a===n},i)},r.prototype.setCheckedBy=function(t,n,i){var a=t.getItems();i&&(0,d.S6)(a,function(o){n(o)?(t.hasState(o,y0)&&t.setItemState(o,y0,!1),t.setItemState(o,k2,!0)):t.hasState(o,k2)||t.setItemState(o,y0,!0)})},r.prototype.toggle=function(){var t=this.getTriggerListInfo();if(t&&t.item){var n=t.list,i=t.item,a=!(0,d.G)(n.getItems(),function(o){return n.hasState(o,y0)});a||n.hasState(i,y0)?this.setItemState(n,i,!0):this.reset()}},r.prototype.checked=function(){this.setState()},r.prototype.reset=function(){var t=this.getAllowComponents();(0,d.S6)(t,function(n){n.clearItemsState(k2),n.clearItemsState(y0)})},r}(f1),EZ=_Z,m0="unchecked",CZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.toggle=function(){var t,n,i,a,o,s,u,l,c=this.getTriggerListInfo();if(c!=null&&c.item){var f=c.list,h=c.item,v=f.getItems(),p=v.filter(function(Pt){return!f.hasState(Pt,m0)}),g=v.filter(function(Pt){return f.hasState(Pt,m0)}),y=p[0];if(v.length===p.length)try{for(var m=(0,x.XA)(v),E=m.next();!E.done;E=m.next()){var C=E.value;f.setItemState(C,m0,C.id!==h.id)}}catch(Pt){t={error:Pt}}finally{try{E&&!E.done&&(n=m.return)&&n.call(m)}finally{if(t)throw t.error}}else if(v.length-g.length===1)if(y.id===h.id)try{for(var A=(0,x.XA)(v),M=A.next();!M.done;M=A.next()){var C=M.value;f.setItemState(C,m0,!1)}}catch(Pt){i={error:Pt}}finally{try{M&&!M.done&&(a=A.return)&&a.call(A)}finally{if(i)throw i.error}}else try{for(var Z=(0,x.XA)(v),Y=Z.next();!Y.done;Y=Z.next()){var C=Y.value;f.setItemState(C,m0,C.id!==h.id)}}catch(Pt){o={error:Pt}}finally{try{Y&&!Y.done&&(s=Z.return)&&s.call(Z)}finally{if(o)throw o.error}}else try{for(var st=(0,x.XA)(v),Ct=st.next();!Ct.done;Ct=st.next()){var C=Ct.value;f.setItemState(C,m0,C.id!==h.id)}}catch(Pt){u={error:Pt}}finally{try{Ct&&!Ct.done&&(l=st.return)&&l.call(st)}finally{if(u)throw u.error}}}},r}(f1),SZ=CZ,jp="showRadio",bf="legend-radio-tip",bZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.timeStamp=0,t}return r.prototype.show=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,i=t.item;n.setItemState(i,jp,!0)}},r.prototype.hide=function(){var t=this.getTriggerListInfo();if(t!=null&&t.item){var n=t.list,i=t.item;n.setItemState(i,jp,!1)}},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.showTip=function(){var t=this.context,n=t.event,i=this.timeStamp,a=+new Date,o=this.context.event.target;if(a-i>16&&o.get("name")==="legend-item-radio"){var s=this.location,u={x:n.x,y:n.y};this.timeStamp=a,this.location=u,(!s||!(0,d.Xy)(s,u))&&this.showTooltip(u)}},r.prototype.hideTip=function(){this.hideTooltip(),this.location=null},r.prototype.showTooltip=function(t){var n=this.context,i=n.event,a=i.target;if(a&&a.get("tip")){this.tooltip||this.renderTooltip();var o=n.view.getCanvas().get("el").getBoundingClientRect(),s=o.x,u=o.y;this.tooltip.update((0,x.pi)((0,x.pi)({title:a.get("tip")},t),{x:t.x+s,y:t.y+u})),this.tooltip.show()}},r.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=(t={},t[Ua]={padding:"6px 8px",transform:"translate(-50%, -80%)",background:"rgba(0,0,0,0.75)",color:"#fff","border-radius":"2px","z-index":100},t[Ha]={"font-size":"12px","line-height":"14px","margin-bottom":0,"word-break":"break-all"},t);document.getElementById(bf)&&document.body.removeChild(document.getElementById(bf));var i=new ql({parent:document.body,region:null,visible:!1,crosshairs:null,domStyles:n,containerId:bf});i.init(),i.setCapture(!1),this.tooltip=i},r}(f1),AZ=bZ,MZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShape=null,t.points=[],t.starting=!1,t.moving=!1,t.preMovePoint=null,t.shapeType="path",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="mask:".concat(t),i=this.context.view,a=this.context.event;i.emit(n,{target:this.maskShape,shape:this.maskShape,points:this.points,x:a.x,y:a.y})},r.prototype.createMask=function(){var t=this.context.view,n=this.getMaskAttrs(),i=t.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,x.pi)({fill:"#C5D4EB",opacity:.3},n)});return i},r.prototype.getMaskPath=function(){return[]},r.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},r.prototype.start=function(t){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},r.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,a=t.y-n.y,o=this.points;(0,d.S6)(o,function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t}},r.prototype.updateMask=function(t){var n=(0,d.b$)({},this.getMaskAttrs(),t);this.maskShape.attr(n)},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},r.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},r.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},r.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,e.prototype.destroy.call(this)},r}(Vr),Af=MZ;function Wp(e){var r=(0,d.Z$)(e),t=0,n=0,i=0;if(e.length){var a=e[0];t=F4(a,r)/2,n=(r.x+a.x)/2,i=(r.y+a.y)/2}return{x:n,y:i,r:t}}var TZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t}return r.prototype.getMaskAttrs=function(){return Wp(this.points)},r}(Af),wZ=TZ;function Yp(e){return{start:(0,d.YM)(e),end:(0,d.Z$)(e)}}function Xp(e,r){var t=Math.min(e.x,r.x),n=Math.min(e.y,r.y),i=Math.abs(r.x-e.x),a=Math.abs(r.y-e.y);return{x:t,y:n,width:i,height:a}}var FZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(){return Yp(this.points)},r.prototype.getMaskAttrs=function(){var t=this.getRegion(),n=t.start,i=t.end;return Xp(n,i)},r}(Af),$p=FZ;function qp(e){e.x=(0,d.uZ)(e.x,0,1),e.y=(0,d.uZ)(e.y,0,1)}function Kp(e,r,t,n){var i=null,a=null,o=n.invert((0,d.YM)(e)),s=n.invert((0,d.Z$)(e));return t&&(qp(o),qp(s)),r==="x"?(i=n.convert({x:o.x,y:0}),a=n.convert({x:s.x,y:1})):(i=n.convert({x:0,y:o.y}),a=n.convert({x:1,y:s.y})),{start:i,end:a}}var kZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(){var t=this.context.view.getCoordinate();return Kp(this.points,this.dim,this.inPlot,t)},r}($p),Qp=kZ;function Mf(e){var r=[];return e.length&&((0,d.S6)(e,function(t,n){n===0?r.push(["M",t.x,t.y]):r.push(["L",t.x,t.y])}),r.push(["L",e[0].x,e[0].y])),r}function Jp(e){return{path:Mf(e)}}var OZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){return Mf(this.points)},r.prototype.getMaskAttrs=function(){return Jp(this.points)},r.prototype.addPoint=function(){this.resize()},r}(Af),td=OZ;function Tf(e){return JL(e,!0)}function ed(e){return{path:Tf(e)}}var LZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getMaskPath=function(){return Tf(this.points)},r.prototype.getMaskAttrs=function(){return ed(this.points)},r}(td),IZ=LZ,PZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.maskShapes=[],t.starting=!1,t.moving=!1,t.recordPoints=null,t.preMovePoint=null,t.shapeType="path",t.maskType="multi-mask",t}return r.prototype.getCurrentPoint=function(){var t=this.context.event;return{x:t.x,y:t.y}},r.prototype.emitEvent=function(t){var n="".concat(this.maskType,":").concat(t),i=this.context.view,a=this.context.event,o={type:this.shapeType,name:this.maskType,get:function(s){return o.hasOwnProperty(s)?o[s]:void 0}};i.emit(n,{target:o,maskShapes:this.maskShapes,multiPoints:this.recordPoints,x:a.x,y:a.y})},r.prototype.createMask=function(t){var n=this.context.view,i=this.recordPoints[t],a=this.getMaskAttrs(i),o=n.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:(0,x.pi)({fill:"#C5D4EB",opacity:.3},a)});this.maskShapes.push(o)},r.prototype.getMaskPath=function(t){return[]},r.prototype.show=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.show()}),this.emitEvent("show"))},r.prototype.start=function(t){this.recordPointStart(),this.starting=!0,this.moving=!1;var n=this.recordPoints.length-1;this.createMask(n),this.updateShapesCapture(!1),this.updateMask(t==null?void 0:t.maskStyle),this.emitEvent("start")},r.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint(),this.updateShapesCapture(!1)},r.prototype.move=function(){if(!(!this.moving||this.maskShapes.length===0)){var t=this.getCurrentPoint(),n=this.preMovePoint,i=t.x-n.x,a=t.y-n.y,o=this.getCurMaskShapeIndex();o>-1&&(this.recordPoints[o].forEach(function(s){s.x+=i,s.y+=a}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=t)}},r.prototype.updateMask=function(t){var n=this;this.recordPoints.forEach(function(i,a){var o=(0,d.b$)({},n.getMaskAttrs(i),t);n.maskShapes[a].attr(o)})},r.prototype.resize=function(){this.starting&&this.maskShapes.length>0&&(this.recordPointContinue(),this.updateMask(),this.emitEvent("change"))},r.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null,this.updateShapesCapture(!0)},r.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.updateShapesCapture(!0)},r.prototype.hide=function(){this.maskShapes.length>0&&(this.maskShapes.forEach(function(t){return t.hide()}),this.emitEvent("hide"))},r.prototype.remove=function(){var t=this.getCurMaskShapeIndex();t>-1&&(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.updateShapesCapture(!0),this.emitEvent("change"))},r.prototype.clearAll=function(){this.recordPointClear(),this.maskShapes.forEach(function(t){return t.remove()}),this.maskShapes=[],this.preMovePoint=null},r.prototype.clear=function(){var t=this.getCurMaskShapeIndex();t===-1?(this.recordPointClear(),this.maskShapes.forEach(function(n){return n.remove()}),this.maskShapes=[],this.emitEvent("clearAll")):(this.recordPoints.splice(t,1),this.maskShapes[t].remove(),this.maskShapes.splice(t,1),this.preMovePoint=null,this.emitEvent("clearSingle")),this.preMovePoint=null},r.prototype.destroy=function(){this.clear(),e.prototype.destroy.call(this)},r.prototype.getRecordPoints=function(){var t;return(0,x.ev)([],(0,x.CR)((t=this.recordPoints)!==null&&t!==void 0?t:[]),!1)},r.prototype.recordPointStart=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint();this.recordPoints=(0,x.ev)((0,x.ev)([],(0,x.CR)(t),!1),[[n]],!1)},r.prototype.recordPointContinue=function(){var t=this.getRecordPoints(),n=this.getCurrentPoint(),i=t.splice(-1,1)[0]||[];i.push(n),this.recordPoints=(0,x.ev)((0,x.ev)([],(0,x.CR)(t),!1),[i],!1)},r.prototype.recordPointClear=function(){this.recordPoints=[]},r.prototype.updateShapesCapture=function(t){this.maskShapes.forEach(function(n){return n.set("capture",t)})},r.prototype.getCurMaskShapeIndex=function(){var t=this.getCurrentPoint();return this.maskShapes.findIndex(function(n){var i=n.attrs,a=i.width,o=i.height,s=i.r,u=a===0||o===0||s===0;return!u&&n.isHit(t.x,t.y)})},r}(Vr),wf=PZ,RZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="rect",t}return r.prototype.getRegion=function(t){return Yp(t)},r.prototype.getMaskAttrs=function(t){var n=this.getRegion(t),i=n.start,a=n.end;return Xp(i,a)},r}(wf),rd=RZ,DZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dim="x",t.inPlot=!0,t}return r.prototype.getRegion=function(t){var n=this.context.view.getCoordinate();return Kp(t,this.dim,this.inPlot,n)},r}(rd),nd=DZ,BZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.shapeType="circle",t.getMaskAttrs=Wp,t}return r}(wf),NZ=BZ,ZZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.getMaskPath=Mf,t.getMaskAttrs=Jp,t}return r.prototype.addPoint=function(){this.resize()},r}(wf),id=ZZ,zZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.getMaskPath=Tf,t.getMaskAttrs=ed,t}return r}(id),UZ=zZ,HZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.setCursor=function(t){var n=this.context.view;n.getCanvas().setCursor(t)},r.prototype.default=function(){this.setCursor("default")},r.prototype.pointer=function(){this.setCursor("pointer")},r.prototype.move=function(){this.setCursor("move")},r.prototype.crosshair=function(){this.setCursor("crosshair")},r.prototype.wait=function(){this.setCursor("wait")},r.prototype.help=function(){this.setCursor("help")},r.prototype.text=function(){this.setCursor("text")},r.prototype.eResize=function(){this.setCursor("e-resize")},r.prototype.wResize=function(){this.setCursor("w-resize")},r.prototype.nResize=function(){this.setCursor("n-resize")},r.prototype.sResize=function(){this.setCursor("s-resize")},r.prototype.neResize=function(){this.setCursor("ne-resize")},r.prototype.nwResize=function(){this.setCursor("nw-resize")},r.prototype.seResize=function(){this.setCursor("se-resize")},r.prototype.swResize=function(){this.setCursor("sw-resize")},r.prototype.nsResize=function(){this.setCursor("ns-resize")},r.prototype.ewResize=function(){this.setCursor("ew-resize")},r.prototype.zoomIn=function(){this.setCursor("zoom-in")},r.prototype.zoomOut=function(){this.setCursor("zoom-out")},r}(Vr),VZ=HZ,GZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=this;t.getScaleByField(n)&&t.filter(n,i),t.views&&t.views.length&&(0,d.S6)(t.views,function(o){a.filterView(o,n,i)})},r.prototype.filter=function(){var t=a1(this.context);if(t){var n=this.context.view,i=t.component,a=i.get("field");if(Rs(t)){if(a){var o=i.getItemsByState("unchecked"),s=f0(n,a),u=o.map(function(v){return v.name});u.length?this.filterView(n,a,function(v){var p=s.getText(v);return!u.includes(p)}):this.filterView(n,a,null),n.render(!0)}}else if(Uh(t)){var l=i.getValue(),c=(0,x.CR)(l,2),f=c[0],h=c[1];this.filterView(n,a,function(v){return v>=f&&v<=h}),n.render(!0)}}},r}(Vr),jZ=GZ;function ad(e,r,t,n){var i=Math.min(t[r],n[r]),a=Math.max(t[r],n[r]),o=(0,x.CR)(e.range,2),s=o[0],u=o[1];if(i<s&&(i=s),a>u&&(a=u),i===u&&a===u)return null;var l=e.invert(i),c=e.invert(a);if(e.isCategory){var f=e.values.indexOf(l),h=e.values.indexOf(c),v=e.values.slice(f,h+1);return function(p){return v.includes(p)}}else return function(p){return p>=l&&p<=c}}var oi;(function(e){e.FILTER="brush-filter-processing",e.RESET="brush-filter-reset",e.BEFORE_FILTER="brush-filter:beforefilter",e.AFTER_FILTER="brush-filter:afterfilter",e.BEFORE_RESET="brush-filter:beforereset",e.AFTER_RESET="brush-filter:afterreset"})(oi||(oi={}));var WZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=["x","y"],t.startPoint=null,t.isStarted=!1,t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.start=function(){var t=this.context;this.isStarted=!0,this.startPoint=t.getCurrentPoint()},r.prototype.filter=function(){var t,n;if(Ds(this.context)){var i=this.context.event.target,a=i.getCanvasBBox();t={x:a.x,y:a.y},n={x:a.maxX,y:a.maxY}}else{if(!this.isStarted)return;t=this.startPoint,n=this.context.getCurrentPoint()}if(!(Math.abs(t.x-n.x)<5||Math.abs(t.x-n.y)<5)){var o=this.context,s=o.view,u=o.event,l={view:s,event:u,dims:this.dims};s.emit(oi.BEFORE_FILTER,qr.fromData(s,oi.BEFORE_FILTER,l));var c=s.getCoordinate(),f=c.invert(n),h=c.invert(t);if(this.hasDim("x")){var v=s.getXScale(),p=ad(v,"x",f,h);this.filterView(s,v.field,p)}if(this.hasDim("y")){var g=s.getYScales()[0],p=ad(g,"y",f,h);this.filterView(s,g.field,p)}this.reRender(s,{source:oi.FILTER}),s.emit(oi.AFTER_FILTER,qr.fromData(s,oi.AFTER_FILTER,l))}},r.prototype.end=function(){this.isStarted=!1},r.prototype.reset=function(){var t=this.context.view;if(t.emit(oi.BEFORE_RESET,qr.fromData(t,oi.BEFORE_RESET,{})),this.isStarted=!1,this.hasDim("x")){var n=t.getXScale();this.filterView(t,n.field,null)}if(this.hasDim("y")){var i=t.getYScales()[0];this.filterView(t,i.field,null)}this.reRender(t,{source:oi.RESET}),t.emit(oi.AFTER_RESET,qr.fromData(t,oi.AFTER_RESET,{}))},r.prototype.filterView=function(t,n,i){t.filter(n,i)},r.prototype.reRender=function(t,n){t.render(!0,n)},r}(Vr),O2=WZ,YZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filterView=function(t,n,i){var a=Ca(t);(0,d.S6)(a,function(o){o.filter(n,i)})},r.prototype.reRender=function(t){var n=Ca(t);(0,d.S6)(n,function(i){i.render(!0)})},r}(O2),Ff=YZ,XZ=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.filter=function(){var t=a1(this.context),n=this.context.view,i=Mn(n);if(Ds(this.context)){var a=w4(this.context,10);a&&(0,d.S6)(i,function(g){a.includes(g)?g.show():g.hide()})}else if(t){var o=t.component,s=o.get("field");if(Rs(t)){if(s){var u=o.getItemsByState("unchecked"),l=f0(n,s),c=u.map(function(g){return g.name});(0,d.S6)(i,function(g){var y=na(g,s),m=l.getText(y);c.indexOf(m)>=0?g.hide():g.show()})}}else if(Uh(t)){var f=o.getValue(),h=(0,x.CR)(f,2),v=h[0],p=h[1];(0,d.S6)(i,function(g){var y=na(g,s);y>=v&&y<=p?g.show():g.hide()})}}},r.prototype.clear=function(){var t=Mn(this.context.view);(0,d.S6)(t,function(n){n.show()})},r.prototype.reset=function(){this.clear()},r}(Vr),$Z=XZ,qZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.byRecord=!1,t}return r.prototype.filter=function(){Ds(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},r.prototype.filterByRecord=function(){var t=this.context.view,n=w4(this.context,10);if(n){var i=t.getXScale().field,a=t.getYScales()[0].field,o=n.map(function(u){return u.getModel().data}),s=Ca(t);(0,d.S6)(s,function(u){var l=Mn(u);(0,d.S6)(l,function(c){var f=c.getModel().data;$h(o,f,i,a)?c.show():c.hide()})})}},r.prototype.filterByBBox=function(){var t=this,n=this.context.view,i=Ca(n);(0,d.S6)(i,function(a){var o=Hh(t.context,a,10),s=Mn(a);o&&(0,d.S6)(s,function(u){o.includes(u)?u.show():u.hide()})})},r.prototype.reset=function(){var t=Ca(this.context.view);(0,d.S6)(t,function(n){var i=Mn(n);(0,d.S6)(i,function(a){a.show()})})},r}(Vr),od=qZ,KZ=10,QZ=5,JZ=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},t}return r.prototype.getButtonCfg=function(){return(0,d.b$)(this.buttonCfg,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=n.addShape({type:"text",name:"button-text",attrs:(0,x.pi)({text:t.text},t.textStyle)}),a=i.getBBox(),o=P4(t.padding),s=n.addShape({type:"rect",name:"button-rect",attrs:(0,x.pi)({x:a.x-o[3],y:a.y-o[0],width:a.width+o[1]+o[3],height:a.height+o[0]+o[2]},t.style)});s.toBack(),n.on("mouseenter",function(){s.attr(t.activeStyle)}),n.on("mouseleave",function(){s.attr(t.style)}),this.buttonGroup=n},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=Ur.vs(null,[["t",i.x-o.width-KZ,i.y+o.height+QZ]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Vr),tz=JZ,ez=4,rz=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.dragStart=!1,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},r.prototype.drag=function(){if(this.startPoint){var t=this.context.getCurrentPoint(),n=this.context.view,i=this.context.event;this.dragStart?n.emit("drag",{target:i.target,x:i.x,y:i.y}):F4(t,this.startPoint)>ez&&(n.emit("dragstart",{target:i.target,x:i.x,y:i.y}),this.dragStart=!0)}},r.prototype.end=function(){if(this.dragStart){var t=this.context.view,n=this.context.event;t.emit("dragend",{target:n.target,x:n.x,y:n.y})}this.starting=!1,this.dragStart=!1},r}(Vr),nz=rz,iz=5,az=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.starting=!1,t.isMoving=!1,t.startPoint=null,t.startMatrix=null,t}return r.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},r.prototype.move=function(){if(this.starting){var t=this.startPoint,n=this.context.getCurrentPoint(),i=F4(t,n);if(i>iz&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var a=this.context.view,o=Ur.vs(this.startMatrix,[["t",n.x-t.x,n.y-t.y]]);a.backgroundGroup.setMatrix(o),a.foregroundGroup.setMatrix(o),a.middleGroup.setMatrix(o)}}},r.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},r.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var t=this.context.view;t.backgroundGroup.resetMatrix(),t.foregroundGroup.resetMatrix(),t.middleGroup.resetMatrix(),this.isMoving=!1},r}(Vr),oz=az,sd="x",ud="y",sz=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dims=[sd,ud],t.cfgFields=["dims"],t.cacheScaleDefs={},t}return r.prototype.hasDim=function(t){return this.dims.includes(t)},r.prototype.getScale=function(t){var n=this.context.view;return t==="x"?n.getXScale():n.getYScales()[0]},r.prototype.resetDim=function(t){var n=this.context.view;if(this.hasDim(t)&&this.cacheScaleDefs[t]){var i=this.getScale(t);n.scale(i.field,this.cacheScaleDefs[t]),this.cacheScaleDefs[t]=null}},r.prototype.reset=function(){this.resetDim(sd),this.resetDim(ud);var t=this.context.view;t.render(!0)},r}(Vr),ld=sz,uz=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.startPoint=null,t.starting=!1,t.startCache={},t}return r.prototype.start=function(){var t=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var n=this.dims;(0,d.S6)(n,function(i){var a=t.getScale(i),o=a.min,s=a.max,u=a.values;t.startCache[i]={min:o,max:s,values:u}})},r.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},r.prototype.translate=function(){var t=this;if(this.starting){var n=this.startPoint,i=this.context.view.getCoordinate(),a=this.context.getCurrentPoint(),o=i.invert(n),s=i.invert(a),u=s.x-o.x,l=s.y-o.y,c=this.context.view,f=this.dims;(0,d.S6)(f,function(h){t.translateDim(h,{x:u*-1,y:l*-1})}),c.render(!0)}},r.prototype.translateDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.translateLinear(t,i,n)}},r.prototype.translateLinear=function(t,n,i){var a=this.context.view,o=this.startCache[t],s=o.min,u=o.max,l=u-s,c=i[t]*l;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:s,max:u}),a.scale(n.field,{nice:!1,min:s+c,max:u+c})},r.prototype.reset=function(){e.prototype.reset.call(this),this.startPoint=null,this.starting=!1},r}(ld),lz=uz,cz=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.zoomRatio=.05,t}return r.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},r.prototype.zoom=function(t){var n=this,i=this.dims;(0,d.S6)(i,function(a){n.zoomDim(a,t)}),this.context.view.render(!0)},r.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},r.prototype.zoomDim=function(t,n){if(this.hasDim(t)){var i=this.getScale(t);i.isLinear&&this.zoomLinear(t,i,n)}},r.prototype.zoomLinear=function(t,n,i){var a=this.context.view;this.cacheScaleDefs[t]||(this.cacheScaleDefs[t]={nice:n.nice,min:n.min,max:n.max});var o=this.cacheScaleDefs[t],s=o.max-o.min,u=n.min,l=n.max,c=i*s,f=u-c,h=l+c,v=h-f,p=v/s;h>f&&p<100&&p>.01&&a.scale(n.field,{nice:!1,min:u-c,max:l+c})},r}(ld),fz=cz;function hz(e){var r=e.gEvent.originalEvent;return r.deltaY>0}var vz=1,pz=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.scroll=function(t){var n=this.context,i=n.view,a=n.event;if(i.getOptions().scrollbar){var o=(t==null?void 0:t.wheelDelta)||vz,s=i.getController("scrollbar"),u=i.getXScale(),l=i.getOptions().data,c=(0,d.dp)((0,d.I)(l,u.field)),f=(0,d.dp)(u.values),h=s.getValue(),v=Math.floor((c-f)*h),p=v+(hz(a)?o:-o),g=o/(c-f)/1e4,y=(0,d.uZ)(p/(c-f)+g,0,1);s.setValue(y)}},r}(Vr),dz=pz,gz="aixs-description-tooltip",yz=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.show=function(){var t=this.context,n=a1(t).axis,i=n.cfg.title,a=i.description,o=i.text,s=i.descriptionTooltipStyle,u=t.event,l=u.x,c=u.y;this.tooltip||this.renderTooltip(),this.tooltip.update({title:o||"",customContent:function(){return`
          <div class="`.concat(Ua,'" style={').concat(s,`}>
            <div class="`).concat(Ha,`">
              \u5B57\u6BB5\u8BF4\u660E\uFF1A`).concat(a,`
            </div>
          </div>
        `)},x:l,y:c}),this.tooltip.show()},r.prototype.destroy=function(){e.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},r.prototype.hide=function(){this.tooltip&&this.tooltip.hide()},r.prototype.renderTooltip=function(){var t,n=this.context.view,i=n.canvas,a={start:{x:0,y:0},end:{x:i.get("width"),y:i.get("height")}},o=new ql({parent:i.get("el").parentNode,region:a,visible:!1,containerId:gz,domStyles:(0,x.pi)({},(0,d.b$)({},(t={},t[Ua]={"max-width":"50%",padding:"10px","line-height":"15px","font-size":"12px",color:"rgba(0, 0, 0, .65)"},t[Ha]={"word-break":"break-all","margin-bottom":"3px"},t)))});o.init(),o.setCapture(!1),this.tooltip=o},r}(Vr),mz=yz;dI("dark",Jh(fP)),Le("canvas",At),Le("svg",Lt),Sa("Polygon",FD),Sa("Interval",ED),Sa("Schema",OD),Sa("Path",ef),Sa("Point",MD),Sa("Line",SD),Sa("Area",fD),Sa("Edge",vD),Sa("Heatmap",dD),Sa("Violin",PD),Ns("base",c2),Ns("interval",KD),Ns("pie",tB),Ns("polar",hp),ii("overlap",pB),ii("distribute",rB),ii("fixed-overlap",vB),ii("hide-overlap",bB),ii("limit-in-shape",lB),ii("limit-in-canvas",uB),ii("limit-in-plot",UB),ii("pie-outer",iB),ii("adjust-color",MB),ii("interval-adjust-position",kB),ii("interval-hide-overlap",LB),ii("point-adjust-position",RB),ii("pie-spider",sB),ii("path-adjust-position",NB),gi("fade-in",HB),gi("fade-out",VB),gi("grow-in-x",jB),gi("grow-in-xy",YB),gi("grow-in-y",WB),gi("scale-in-x",qB),gi("scale-in-y",KB),gi("wave-in",JB),gi("zoom-in",tN),gi("zoom-out",eN),gi("position-update",$B),gi("sector-path-update",QB),gi("path-in",XB),c0("rect",fN),c0("mirror",lN),c0("list",aN),c0("matrix",sN),c0("circle",nN),c0("tree",vN),o1("axis",mN),o1("legend",SN),o1("tooltip",uv),o1("annotation",gN),o1("slider",AN),o1("scrollbar",FN),Je("tooltip",Zp),Je("sibling-tooltip",DN),Je("ellipsis-text",NN),Je("element-active",HN),Je("element-single-active",qN),Je("element-range-active",YN),Je("element-highlight",Cf),Je("element-highlight-by-x",eZ),Je("element-highlight-by-color",JN),Je("element-single-highlight",iZ),Je("element-range-highlight",Hp),Je("element-sibling-highlight",Hp,{effectSiblings:!0,effectByRecord:!0}),Je("element-selected",uZ),Je("element-single-selected",cZ),Je("element-range-selected",oZ),Je("element-link-by-color",GN),Je("active-region",IN),Je("list-active",vZ),Je("list-selected",yZ),Je("list-highlight",Sf),Je("list-unchecked",xZ),Je("list-checked",EZ),Je("list-focus",SZ),Je("list-radio",AZ),Je("legend-item-highlight",Sf,{componentNames:["legend"]}),Je("axis-label-highlight",Sf,{componentNames:["axis"]}),Je("axis-description",mz),Je("rect-mask",$p),Je("x-rect-mask",Qp,{dim:"x"}),Je("y-rect-mask",Qp,{dim:"y"}),Je("circle-mask",wZ),Je("path-mask",td),Je("smooth-path-mask",IZ),Je("rect-multi-mask",rd),Je("x-rect-multi-mask",nd,{dim:"x"}),Je("y-rect-multi-mask",nd,{dim:"y"}),Je("circle-multi-mask",NZ),Je("path-multi-mask",id),Je("smooth-path-multi-mask",UZ),Je("cursor",VZ),Je("data-filter",jZ),Je("brush",O2),Je("brush-x",O2,{dims:["x"]}),Je("brush-y",O2,{dims:["y"]}),Je("sibling-filter",Ff),Je("sibling-x-filter",Ff),Je("sibling-y-filter",Ff),Je("element-filter",$Z),Je("element-sibling-filter",od),Je("element-sibling-filter-record",od,{byRecord:!0}),Je("view-drag",nz),Je("view-move",oz),Je("scale-translate",lz),Je("scale-zoom",fz),Je("reset-button",tz,{name:"reset-button",text:"reset"}),Je("mousewheel-scroll",dz);function ja(e){return e.isInPlot()}lr("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),lr("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseout",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),lr("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),lr("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),lr("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),lr("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),lr("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),lr("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),lr("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),lr("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),lr("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),lr("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(e){return!e.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(e){return!e.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),lr("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ja,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ja,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ja,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),lr("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),lr("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ja,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:ja,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:ja,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),lr("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:ja,action:"path-mask:start"},{trigger:"mousedown",isEnable:ja,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),lr("brush-x-multi",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"mousedown",isEnable:ja,action:["x-rect-multi-mask:start","x-rect-multi-mask:show"]},{trigger:"mask:dragstart",action:["x-rect-multi-mask:moveStart"]}],processing:[{trigger:"mousemove",isEnable:function(e){return!i2(e)},action:["x-rect-multi-mask:resize"]},{trigger:"multi-mask:change",action:"element-range-highlight:highlight"},{trigger:"mask:drag",action:["x-rect-multi-mask:move"]}],end:[{trigger:"mouseup",action:["x-rect-multi-mask:end"]},{trigger:"mask:dragend",action:["x-rect-multi-mask:moveEnd"]}],rollback:[{trigger:"dblclick",action:["x-rect-multi-mask:clear","cursor:crosshair"]},{trigger:"multi-mask:clearAll",action:["element-range-highlight:clear"]},{trigger:"multi-mask:clearSingle",action:["element-range-highlight:highlight"]}]}),lr("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),lr("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:["cursor:pointer","list-radio:show"]},{trigger:"legend-item:mouseleave",action:["cursor:default","list-radio:hide"]}],start:[{trigger:"legend-item:click",isEnable:function(e){return!e.isInShape("legend-item-radio")},action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","data-filter:filter","list-radio:show"]},{trigger:"legend-item-radio:mouseenter",action:["list-radio:showTip"]},{trigger:"legend-item-radio:mouseleave",action:["list-radio:hideTip"]},{trigger:"legend-item-radio:click",action:["list-focus:toggle","data-filter:filter","list-radio:show"]}]}),lr("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),lr("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),lr("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["legend-item-highlight:reset","element-highlight:reset","list-unchecked:toggle","element-filter:filter"]}]}),lr("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]}),lr("axis-description",{start:[{trigger:"axis-description:mousemove",action:"axis-description:show"}],end:[{trigger:"axis-description:mouseleave",action:"axis-description:hide"}]});function cd(e){return e.gEvent.preventDefault(),e.gEvent.originalEvent.deltaY>0}lr("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(e){return cd(e.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(e){return!cd(e.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),lr("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]}),lr("plot-mousewheel-scroll",{start:[{trigger:"plot:mousewheel",action:"mousewheel-scroll:scroll"}]});var si=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],oa;(function(e){e.ERROR="error",e.WARN="warn",e.INFO="log"})(oa||(oa={}));var fd="AntV/G2Plot";function hd(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=0;return fd+": "+e.replace(/%s/g,function(){return""+r[n++]})}function F9t(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(!e){var i=new Error(hd.apply(void 0,__spreadArrays([r],t)));throw i.name=fd,i}}function Wa(e,r,t){for(var n=[],i=3;i<arguments.length;i++)n[i-3]=arguments[i];r||console[e](hd.apply(void 0,(0,x.pr)([t],n)))}function Pr(e,r){var t={};return e!==null&&typeof e=="object"&&r.forEach(function(n){var i=e[n];i!==void 0&&(t[n]=i)}),t}function kf(e,r){if(!e)return{};var t=e.filter(function(a){var o=(0,d.U2)(a,[r]);return(0,d.hj)(o)&&!isNaN(o)}),n=t.every(function(a){return(0,d.U2)(a,[r])>=0}),i=t.every(function(a){return(0,d.U2)(a,[r])<=0});return n?{min:0}:i?{max:0}:{}}function vd(e,r,t,n,i){if(i===void 0&&(i=[]),!Array.isArray(e))return{nodes:[],links:[]};var a=[],o={},s=-1;return e.forEach(function(u){var l=u[r],c=u[t],f=u[n],h=Pr(u,i);o[l]||(o[l]=(0,x.pi)({id:++s,name:l},h)),o[c]||(o[c]=(0,x.pi)({id:++s,name:c},h)),a.push((0,x.pi)({source:o[l].id,target:o[c].id,value:f},h))}),{nodes:Object.values(o).sort(function(u,l){return u.id-l.id}),links:a}}function x0(e,r){var t=(0,d.hX)(e,function(n){var i=n[r];return i===null||typeof i=="number"&&!isNaN(i)});return Wa(oa.WARN,t.length===e.length,"illegal data existed in chart data."),t}var xz=5,_z={}.toString,pd=function(e,r){return _z.call(e)==="[object "+r+"]"},Ez=function(e){return pd(e,"Array")},Cz=function(e){return typeof e=="object"&&e!==null},dd=function(e){if(!Cz(e)||!pd(e,"Object"))return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},gd=function(e,r,t,n){t=t||0,n=n||xz;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i];a?dd(a)?(dd(e[i])||(e[i]={}),t<n?gd(e[i],a,t+1,n):e[i]=r[i]):Ez(a)?(e[i]=[],e[i]=e[i].concat(a)):e[i]=a:e[i]=a}},pe=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)gd(e,r[n]);return e};function Of(e){if(!e)return{width:0,height:0};var r=getComputedStyle(e);return{width:(e.clientWidth||parseInt(r.width,10))-parseInt(r.paddingLeft,10)-parseInt(r.paddingRight,10),height:(e.clientHeight||parseInt(r.height,10))-parseInt(r.paddingTop,10)-parseInt(r.paddingBottom,10)}}function or(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(t){return e.reduce(function(n,i){return i(n)},t)}}function In(e,r){return e.geometries.find(function(t){return t.type===r})}function L2(e){return(0,d.u4)(e.geometries,function(r,t){return r.concat(t.elements)},[])}function $s(e){return(0,d.U2)(e,["views","length"],0)<=0?L2(e):(0,d.u4)(e.views,function(r,t){return r.concat($s(t))},L2(e))}function Sz(e){return(0,d.U2)(e,["views","length"],0)<=0?e.geometries:(0,d.u4)(e.views,function(r,t){return r.concat(t.geometries)},e.geometries)}function Sn(e){if(!(0,d.P9)(e,"Object"))return e;var r=(0,x.pi)({},e);return r.formatter&&!r.content&&(r.content=r.formatter),r}var Lf;function bz(){return Lf||(Lf=document.createElement("canvas").getContext("2d")),Lf}var k9t=(0,d.HP)(function(e,r){r===void 0&&(r={});var t=r.fontSize,n=r.fontFamily,i=n===void 0?"sans-serif":n,a=r.fontWeight,o=r.fontStyle,s=r.fontVariant,u=bz();u.font=[o,a,s,t+"px",i].join(" ");var l=u.measureText((0,d.HD)(e)?e:"");return l.width},function(e,r){return r===void 0&&(r={}),(0,x.pr)([e],(0,d.VO)(r)).join("")});function v1(e){return typeof e=="number"&&!isNaN(e)}function Az(e,r,t){var n=Math.min(r,t),i=Math.max(r,t);return e>=n&&e<=i}function ko(e){if((0,d.hj)(e))return[e,e,e,e];if((0,d.kJ)(e)){var r=e.length;if(r===1)return[e[0],e[0],e[0],e[0]];if(r===2)return[e[0],e[1],e[0],e[1]];if(r===3)return[e[0],e[1],e[2],e[1]];if(r===4)return e}return[0,0,0,0]}function I2(e,r,t){r===void 0&&(r="bottom"),t===void 0&&(t=25);var n=ko(e),i=[r.startsWith("top")?t:0,r.startsWith("right")?t:0,r.startsWith("bottom")?t:0,r.startsWith("left")?t:0];return[n[0]+i[0],n[1]+i[1],n[2]+i[2],n[3]+i[3]]}function If(e){var r=e.map(function(n){return ko(n)}),t=[0,0,0,0];return r.length>0&&(t=t.map(function(n,i){return r.forEach(function(a,o){n+=r[o][i]}),n})),t}function Mz(e,r){var t=[];if(e.length){t.push(["M",e[0].x,e[0].y]);for(var n=1,i=e.length;n<i;n+=1){var a=e[n];t.push(["L",a.x,a.y])}r&&t.push(["Z"])}return t}var Tz=function(e,r,t,n){var i=[],a,o,s=!!n,u,l;if(s){u=[1/0,1/0],l=[-1/0,-1/0];for(var c=0,f=e.length;c<f;c++){var h=e[c];u=de.VV([0,0],u,h),l=de.Fp([0,0],l,h)}u=de.VV([0,0],u,n[0]),l=de.Fp([0,0],l,n[1])}for(var c=0,v=e.length;c<v;c++){var h=e[c];if(t)a=e[c?c-1:v-1],o=e[(c+1)%v];else if(c===0||c===v-1){i.push(h);continue}else a=e[c-1],o=e[c+1];var p=[0,0];p=de.lu(p,o,a),p=de.bA(p,p,r);var g=de.TE(h,a),y=de.TE(h,o),m=g+y;m!==0&&(g/=m,y/=m);var E=de.bA([0,0],p,-g),C=de.bA([0,0],p,y),A=de.IH([0,0],h,E),M=de.IH([0,0],h,C);s&&(A=de.Fp([0,0],A,u),A=de.VV([0,0],A,l),M=de.Fp([0,0],M,u),M=de.VV([0,0],M,l)),i.push(A),i.push(M)}return t&&i.push(i.shift()),i};function wz(e,r,t){for(var n=!!r,i=[],a=0,o=e.length;a<o;a+=2)i.push([e[a],e[a+1]]);for(var s=Tz(i,.4,n,t),u=i.length,l=[],c,f,h,a=0;a<u-1;a++)c=s[a*2],f=s[a*2+1],h=i[a+1],l.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]]);return n&&(c=s[u],f=s[u+1],h=i[0],l.push(["C",c[0],c[1],f[0],f[1],h[0],h[1]])),l}function Fz(e,r,t){var n=[],i=e[0],a=null;if(e.length<=2)return Mz(e,r);for(var o=0,s=e.length;o<s;o++){var u=e[o];(!a||!(a.x===u.x&&a.y===u.y))&&(n.push(u.x),n.push(u.y),a=u)}var l=t||[[0,0],[1,1]],c=wz(n,r,l);return c.unshift(["M",i.x,i.y]),c}function yd(e){if(!e)return e;var r=e.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return r.map(function(t){return t.toLowerCase()}).join("-")}function md(e){var r={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},t=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];(0,d.U2)(e,"fill")&&(r.color=e.fill);var n=Pr(e,t),i=n.shadowColor,a=n.shadowBlur,o=a===void 0?0:a,s=n.shadowOffsetX,u=s===void 0?0:s,l=n.shadowOffsetY,c=l===void 0?0:l;r["text-shadow"]=""+[i,u+"px",c+"px",o+"px"].join(" ");var f=Pr(e,t),h=f.stroke,v=f.lineWidth,p=v===void 0?0:v;return r["-webkit-text-stroke"]=""+[p+"px",h].join(" "),(0,d.S6)(e,function(g,y){["fontSize"].includes(y)&&(0,d.hj)(g)?r[yd(y)]=g+"px":y&&!t.includes(y)&&(r[yd(y)]=""+g)}),r}function xd(e,r){e.style["pointer-events"]="none",(0,d.S6)(r,function(t,n){n&&t&&(e.style[n]=t)})}var P2=function(e,r,t){var n=r.statistic,i=r.plotType,a=n.title,o=n.content;[a,o].forEach(function(s,u){if(s){var l="";u===0?l=o?"translate(-50%, -100%)":"translate(-50%, -50%)":l=a?"translate(-50%, 0)":"translate(-50%, -50%)";var c=(0,d.mf)(s.style)?s.style(t):s.style;e.annotation().html((0,x.pi)({position:["50%","50%"],html:function(f,h){var v=h.getCoordinate(),p=0;if(i==="pie"||i==="ring-progress")p=v.getRadius()*v.innerRadius*2;else if(i==="liquid"){var g=(0,d.U2)(h.geometries,[0,"elements",0,"shape"]);if(g){var y=g.find(function(A){return A.get("name")==="wrap"}),m=y.getCanvasBBox().width;p=m}}else p||(p=v.getWidth());xd(f,(0,x.pi)({width:p+"px",transform:l},md(c)));var E=h.getData();if(s.customHtml)return s.customHtml(f,h,t,E);var C=s.content;return s.formatter&&(C=s.formatter(t,E)),C?(0,d.HD)(C)?C:""+C:"<div></div>"},key:(u===0?"top":"bottom")+"-statistic"},Pr(s,["offsetX","offsetY","rotate","style","formatter"])))}})},kz=function(e,r,t){var n=r.statistic,i=n.title,a=n.content;[i,a].forEach(function(o){if(o){var s=(0,d.mf)(o.style)?o.style(t):o.style;e.annotation().html((0,x.pi)({position:["50%","100%"],html:function(u,l){var c=l.getCoordinate(),f=l.views[0].getCoordinate(),h=f.getCenter(),v=f.getRadius(),p=Math.max(Math.sin(f.startAngle),Math.sin(f.endAngle))*v,g=h.y+p-c.y.start-parseFloat((0,d.U2)(s,"fontSize",0)),y=c.getRadius()*c.innerRadius*2;xd(u,(0,x.pi)({width:y+"px",transform:"translate(-50%, "+g+"px)"},md(s)));var m=l.getData();if(o.customHtml)return o.customHtml(u,l,t,m);var E=o.content;return o.formatter&&(E=o.formatter(t,m)),E?(0,d.HD)(E)?E:""+E:"<div></div>"}},Pr(o,["offsetX","offsetY","rotate","style","formatter"])))}})};function _d(e,r){return r?(0,d.u4)(r,function(t,n,i){return t.replace(new RegExp("{\\s*"+i+"\\s*}","g"),n)},e):e}function gr(e,r){return e.views.find(function(t){return t.id===r})}function qs(e){var r=e.parent;return r?r.views:[]}function Ed(e){return qs(e).filter(function(r){return r!==e})}function Ks(e,r,t){t===void 0&&(t=e.geometries),typeof r=="boolean"?e.animate(r):e.animate(!0),(0,d.S6)(t,function(n){var i;(0,d.mf)(r)?i=r(n.type||n.shapeType,n)||!0:i=r,n.animate(i)})}function R2(){return typeof window=="object"?window==null?void 0:window.devicePixelRatio:2}function Pf(e,r){r===void 0&&(r=e);var t=document.createElement("canvas"),n=R2();t.width=e*n,t.height=r*n,t.style.width=e+"px",t.style.height=r+"px";var i=t.getContext("2d");return i.scale(n,n),t}function Rf(e,r,t,n){n===void 0&&(n=t);var i=r.backgroundColor,a=r.opacity;e.globalAlpha=a,e.fillStyle=i,e.beginPath(),e.fillRect(0,0,t,n),e.closePath()}function Cd(e,r,t){var n=e+r;return t?n*2:n}function Sd(e,r){var t=r?[[e*.25,e*.25],[e*.75,e*.75]]:[[e*.5,e*.5]];return t}function Df(e,r){var t=r*Math.PI/180,n={a:Math.cos(t)*(1/e),b:Math.sin(t)*(1/e),c:-Math.sin(t)*(1/e),d:Math.cos(t)*(1/e),e:0,f:0};return n}var Oz={size:6,padding:2,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0,isStagger:!0};function Lz(e,r,t,n){var i=r.size,a=r.fill,o=r.lineWidth,s=r.stroke,u=r.fillOpacity;e.beginPath(),e.globalAlpha=u,e.fillStyle=a,e.strokeStyle=s,e.lineWidth=o,e.arc(t,n,i/2,0,2*Math.PI,!1),e.fill(),o&&e.stroke(),e.closePath()}function Iz(e){var r=pe({},Oz,e),t=r.size,n=r.padding,i=r.isStagger,a=r.rotation,o=Cd(t,n,i),s=Sd(o,i),u=Pf(o,o),l=u.getContext("2d");Rf(l,r,o);for(var c=0,f=s;c<f.length;c++){var h=f[c],v=h[0],p=h[1];Lz(l,r,v,p)}var g=l.createPattern(u,"repeat");if(g){var y=R2(),m=Df(y,a);g.setTransform(m)}return g}var Pz={rotation:45,spacing:5,opacity:1,backgroundColor:"transparent",strokeOpacity:.5,stroke:"#fff",lineWidth:2};function Rz(e,r,t){var n=r.stroke,i=r.lineWidth,a=r.strokeOpacity,o=new Path2D(t);e.globalAlpha=a,e.lineCap="square",e.strokeStyle=i?n:"transparent",e.lineWidth=i,e.stroke(o)}function Dz(e){var r=pe({},Pz,e),t=r.spacing,n=r.rotation,i=r.lineWidth,a=t+i||1,o=t+i||1,s=`
            M 0 0 L `+a+` 0
            M 0 `+o+" L "+a+" "+o+`
            `,u=Pf(a,o),l=u.getContext("2d");Rf(l,r,a,o),Rz(l,r,s);var c=l.createPattern(u,"repeat");if(c){var f=R2(),h=Df(f,n);c.setTransform(h)}return c}var Bz={size:6,padding:1,isStagger:!0,backgroundColor:"transparent",opacity:1,rotation:0,fill:"#fff",fillOpacity:.5,stroke:"transparent",lineWidth:0};function Nz(e,r,t,n){var i=r.stroke,a=r.size,o=r.fill,s=r.lineWidth,u=r.fillOpacity;e.globalAlpha=u,e.strokeStyle=i,e.lineWidth=s,e.fillStyle=o,e.strokeRect(t-a/2,n-a/2,a,a),e.fillRect(t-a/2,n-a/2,a,a)}function Zz(e){var r=pe({},Bz,e),t=r.size,n=r.padding,i=r.isStagger,a=r.rotation,o=Cd(t,n,i),s=Sd(o,i),u=Pf(o,o),l=u.getContext("2d");Rf(l,r,o);for(var c=0,f=s;c<f.length;c++){var h=f[c],v=h[0],p=h[1];Nz(l,r,v,p)}var g=l.createPattern(u,"repeat");if(g){var y=R2(),m=Df(y,a);g.setTransform(m)}return g}function zz(e){var r=e.type,t=e.cfg,n;switch(r){case"dot":n=Iz(t);break;case"line":n=Dz(t);break;case"square":n=Zz(t);break;default:break}return n}function yi(e){var r=this;return function(t){var n,i=t.options,a=t.chart,o=i.pattern;if(!o)return t;var s=function(u){for(var l,c,f,h=[],v=1;v<arguments.length;v++)h[v-1]=arguments[v];var p=a.getTheme().defaultColor,g=p,y=(c=(l=a.geometries)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.getAttribute("color");if(y){var m=y.getFields()[0],E=(0,d.U2)(u,m);g=ai.getMappingValue(y,E,((f=y.values)===null||f===void 0?void 0:f[0])||p)}var C=o;typeof o=="function"&&(C=o.call(r,u,g)),C instanceof CanvasPattern||(C=zz(pe({},{cfg:{backgroundColor:g}},C)));var A=i[e];return(0,x.pi)((0,x.pi)({},typeof A=="function"?A.call.apply(A,(0,x.pr)([r,u],h)):A||{}),{fill:C||g})};return pe({},t,{options:(n={},n[e]=s,n)})}}function p1(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.seriesField;return n===!1?r.legend(!1):(i||a)&&r.legend(i||a,n),e}function vn(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==void 0&&r.tooltip(n),e}function jr(e){var r=e.chart,t=e.options,n=t.interactions;return(0,d.S6)(n,function(i){i.enable===!1?r.removeInteraction(i.type):r.interaction(i.type,i.cfg||{})}),e}function Rr(e){var r=e.chart,t=e.options,n=t.animation;return Ks(r,n),e}function Ar(e){var r=e.chart,t=e.options,n=t.theme;return n&&r.theme(n),e}function Oo(e){var r=e.chart,t=e.options,n=t.state;return n&&(0,d.S6)(r.geometries,function(i){i.state(n)}),e}function Qs(e){var r=e.chart,t=e.options,n=t.slider;return r.option("slider",n),e}function Bf(e){var r=e.chart,t=e.options,n=t.scrollbar;return r.option("scrollbar",n),e}function Jr(e,r){return function(t){var n=t.chart,i=t.options,a={};return(0,d.S6)(e,function(o,s){a[s]=Pr(o,si)}),a=pe({},r,i.meta,a),n.scale(a),t}}function Xr(e){return function(r){var t=r.chart,n=r.options,i=t.getController("annotation");return(0,d.S6)((0,x.pr)(n.annotations||[],e||[]),function(a){i.annotation(a)}),r}}function d1(e){var r=e.chart,t=e.options,n=t.yAxis,i=t.limitInPlot,a=i;return(0,d.Kn)(n)&&(0,d.UM)(i)&&(Object.values(Pr(n,["min","max","minLimit","maxLimit"])).some(function(o){return!(0,d.UM)(o)})?a=!0:a=!1),r.limitInPlot=a,e}function bd(e){return e===void 0&&(e="rect"),function(r){var t=r.chart,n=r.options,i=n.coordinate,a=Array.from(i||[]).map(function(o){return o.type==="reflectX"?["reflect","x"]:o.type==="reflectY"?["reflect","y"]:o.type==="transpose"?["transpose"]:null}).filter(function(o){return!!o});return a.length!==0&&t.coordinate({type:e,actions:a}),r}}var Ad={locale:"en-US"};function O9t(e){each(e,function(r,t){return Ad[t]=r})}var D2={};function Md(e,r){D2[e]=r}function B2(e){return{get:function(r,t){return _d((0,d.U2)(D2[e],r)||(0,d.U2)(D2[Ad.locale],r)||(0,d.U2)(D2["en-US"],r)||r,t)}}}var Uz={locale:"en-US",general:{increase:"Increase",decrease:"Decrease",root:"Root"},statistic:{total:"Total"},conversionTag:{label:"Rate"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"Total"}},Hz={locale:"zh-CN",general:{increase:"\u589E\u52A0",decrease:"\u51CF\u5C11",root:"\u521D\u59CB"},statistic:{total:"\u603B\u8BA1"},conversionTag:{label:"\u8F6C\u5316\u7387"},legend:{},tooltip:{},slider:{},scrollbar:{},waterfall:{total:"\u603B\u8BA1"}};function Hi(e,r){if(e===!1)return{fields:!1};var t=(0,d.U2)(e,"fields"),n=(0,d.U2)(e,"formatter");return n&&!t&&(t=r),{fields:t,formatter:n}}function N2(e,r){var t=e.type,n=e.xField,i=e.yField,a=e.colorField,o=e.shapeField,s=e.sizeField,u=e.styleField,l=e.rawFields,c=[];if(l=((0,d.mf)(l)?l(t,r):l)||[],r==="color")c=(0,x.pr)([a||n],l);else if(r==="shape")c=(0,x.pr)([o||n],l);else if(r==="size")c=(0,x.pr)([s||n],l);else{c=(0,x.pr)([n,i,a,o,s,u],l);var f=["x","y","color","shape","size","style"].indexOf(r),h=c[f];c.splice(f,1),c.unshift(h)}var v=(0,d.jj)(c.filter(function(g){return!!g})),p=t==="line"&&[n,i].includes(v.join("*"))?"":v.join("*");return{mappingFields:v,tileMappingField:p}}function _0(e,r){if(r)return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return e.forEach(function(a,o){i[a]=t[o]}),delete i.undefined,r(i)}}function ui(e){var r=e.chart,t=e.options,n=t.type,i=t.args,a=t.mapping,o=t.xField,s=t.yField,u=t.colorField,l=t.shapeField,c=t.sizeField,f=t.tooltipFields,h=t.label,v=t.state,p=t.customInfo;if(!a)return e;var g=a.color,y=a.shape,m=a.size,E=a.style,C=a.tooltip,A=r[n](i).position(o+"*"+s);if((0,d.HD)(g))u?A.color(u,g):A.color(g);else if((0,d.mf)(g)){var M=N2(t,"color"),Z=M.mappingFields,Y=M.tileMappingField;A.color(Y,_0(Z,g))}else u&&A.color(u,g);if((0,d.HD)(y))l?A.shape(l,[y]):A.shape(y);else if((0,d.mf)(y)){var st=N2(t,"shape"),Z=st.mappingFields,Y=st.tileMappingField;A.shape(Y,_0(Z,y))}else l&&A.shape(l,y);if((0,d.hj)(m))c?A.size(c,m):A.size(m);else if((0,d.mf)(m)){var Ct=N2(t,"size"),Z=Ct.mappingFields,Y=Ct.tileMappingField;A.size(Y,_0(Z,m))}else c&&A.size(c,m);if((0,d.mf)(E)){var Pt=N2(t,"style"),Z=Pt.mappingFields,Y=Pt.tileMappingField;A.style(Y,_0(Z,E))}else(0,d.Kn)(E)&&A.style(E);if(f===!1?A.tooltip(!1):(0,d.xb)(f)||A.tooltip(f.join("*"),_0(f,C)),h===!1)A.label(!1);else if(h){var Zt=h.callback,ie=h.fields,ce=(0,x._T)(h,["callback","fields"]);A.label({fields:ie||[s],callback:Zt,cfg:Sn(ce)})}return v&&A.state(v),p&&A.customInfo(p),[o,s].filter(function(_e){return _e!==u}).forEach(function(_e){r.legend(_e,!1)}),(0,x.pi)((0,x.pi)({},e),{ext:{geometry:A}})}function Z2(e){var r=e.options,t=r.area,n=r.xField,i=r.yField,a=r.seriesField,o=r.smooth,s=r.tooltip,u=r.useDeferredLabel,l=Hi(s,[n,i,a]),c=l.fields,f=l.formatter;return t?ui(pe({},e,{options:{type:"area",colorField:a,tooltipFields:c,mapping:(0,x.pi)({shape:o?"smooth":"area",tooltip:f},t),args:{useDeferredLabel:u}}})):e}function Td(e){var r=e.options,t=r.edge,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,u=Hi(o,[n,i,a]),l=u.fields,c=u.formatter;return t?ui(pe({},e,{options:{type:"edge",colorField:a,tooltipFields:l,mapping:(0,x.pi)({tooltip:c},t),args:{useDeferredLabel:s}}})):e}function Vz(e){var r=e.chart,t=e.options,n=e.ext,i=t.seriesField,a=t.isGroup,o=t.isStack,s=t.marginRatio,u=t.widthRatio,l=t.groupField,c=t.theme,f=[];if(i&&(a&&f.push({type:"dodge",dodgeBy:l||i,marginRatio:s}),o&&f.push({type:"stack",marginRatio:s})),f.length&&(n!=null&&n.geometry)){var h=n==null?void 0:n.geometry;h.adjust(f)}return(0,d.UM)(u)||r.theme(pe({},(0,d.Kn)(c)?c:Bs(c),{columnWidthRatio:u})),e}function Pn(e){var r=e.options,t=r.xField,n=r.yField,i=r.interval,a=r.seriesField,o=r.tooltip,s=r.minColumnWidth,u=r.maxColumnWidth,l=r.columnBackground,c=r.dodgePadding,f=r.intervalPadding,h=r.useDeferredLabel,v=Hi(o,[t,n,a]),p=v.fields,g=v.formatter,y=(i?ui(pe({},e,{options:{type:"interval",colorField:a,tooltipFields:p,mapping:(0,x.pi)({tooltip:g},i),args:{dodgePadding:c,intervalPadding:f,minColumnWidth:s,maxColumnWidth:u,background:l,useDeferredLabel:h}}})):e).ext;return Vz((0,x.pi)((0,x.pi)({},e),{ext:y}))}function E0(e){var r=e.options,t=r.line,n=r.stepType,i=r.xField,a=r.yField,o=r.seriesField,s=r.smooth,u=r.connectNulls,l=r.tooltip,c=r.useDeferredLabel,f=Hi(l,[i,a,o]),h=f.fields,v=f.formatter;return t?ui(pe({},e,{options:{type:"line",colorField:o,tooltipFields:h,mapping:(0,d.b$)({shape:n||(s?"smooth":"line"),tooltip:v},t),args:{connectNulls:u,useDeferredLabel:c}}})):e}function mi(e){var r=e.options,t=r.point,n=r.xField,i=r.yField,a=r.seriesField,o=r.sizeField,s=r.shapeField,u=r.tooltip,l=r.useDeferredLabel,c=Hi(u,[n,i,a,o,s]),f=c.fields,h=c.formatter;return t?ui(pe({},e,{options:{type:"point",colorField:a,shapeField:s,tooltipFields:f,mapping:(0,x.pi)({tooltip:h},t),args:{useDeferredLabel:l}}})):e}function z2(e){var r=e.options,t=r.polygon,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,u=Hi(o,[n,i,a]),l=u.fields,c=u.formatter;return t?ui(pe({},e,{options:{type:"polygon",colorField:a,tooltipFields:l,mapping:(0,x.pi)({tooltip:c},t),args:{useDeferredLabel:s}}})):e}function Nf(e){var r=e.options,t=r.schema,n=r.xField,i=r.yField,a=r.seriesField,o=r.tooltip,s=r.useDeferredLabel,u=Hi(o,[n,i,a]),l=u.fields,c=u.formatter;return t?ui(pe({},e,{options:{type:"schema",colorField:a,tooltipFields:l,mapping:(0,x.pi)({tooltip:c},t),args:{useDeferredLabel:s}}})):e}function Gz(e){var r=e.options,t=r.violin,n=r.xField,i=r.yField,a=r.seriesField,o=r.sizeField,s=r.tooltip,u=Hi(s,[n,i,a,o]),l=u.fields,c=u.formatter;return t?ui(pe({},e,{options:{type:"violin",colorField:a,tooltipFields:l,mapping:(0,x.pi)({tooltip:c},t)}})):e}var jz=F(1375),wd="data-chart-source-type",Fd=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],hr=function(e){(0,x.ZT)(r,e);function r(t,n){var i=e.call(this)||this;return i.container=typeof t=="string"?document.getElementById(t):t,i.options=pe({},i.getDefaultOptions(),n),i.createG2(),i.bindEvents(),i}return r.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},r.prototype.createG2=function(){var t=this.options,n=t.width,i=t.height,a=t.defaultInteractions;this.chart=new RI((0,x.pi)((0,x.pi)((0,x.pi)((0,x.pi)({container:this.container,autoFit:!1},this.getChartSize(n,i)),{localRefresh:!1}),Pr(this.options,Fd)),{defaultInteractions:a})),this.container.setAttribute(wd,"G2Plot")},r.prototype.getChartSize=function(t,n){var i=Of(this.container);return{width:t||i.width||400,height:n||i.height||400}},r.prototype.bindEvents=function(){var t=this;this.chart&&this.chart.on("*",function(n){n!=null&&n.type&&t.emit(n.type,n)})},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},r.prototype.update=function(t){this.updateOption(t),this.render()},r.prototype.updateOption=function(t){this.options=pe({},this.options,t)},r.prototype.setState=function(t,n,i){i===void 0&&(i=!0);var a=$s(this.chart);(0,d.S6)(a,function(o){n(o.getData())&&o.setState(t,i)})},r.prototype.getStates=function(){var t=$s(this.chart),n=[];return(0,d.S6)(t,function(i){var a=i.getData(),o=i.getStates();(0,d.S6)(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},r.prototype.changeData=function(t){this.update({data:t})},r.prototype.changeSize=function(t,n){this.chart.changeSize(t,n)},r.prototype.addAnnotations=function(t,n){n=n||this.chart;var i=(0,x.pr)(t),a=n.getController("annotation"),o=a.getComponents().map(function(l){return l.extra});a.clear(!0);for(var s=function(l){var c=o[l],f=i.findIndex(function(h){return h.id&&h.id===c.id});f!==-1&&(c=pe({},c,i[f]),i.splice(f,1)),a.annotation(c)},u=0;u<o.length;u++)s(u);i.forEach(function(l){return a.annotation(l)}),n.render(!0)},r.prototype.removeAnnotations=function(t){var n=this.chart.getController("annotation"),i=n.getComponents().map(function(s){return s.extra});n.clear(!0);for(var a=function(s){var u=i[s];t.find(function(l){return l.id&&l.id===u.id})||n.annotation(u)},o=0;o<i.length;o++)a(o);this.chart.render(!0)},r.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(wd)},r.prototype.execAdaptor=function(){var t=this.getSchemaAdaptor(),n=this.options,i=n.padding,a=n.appendPadding;this.chart.padding=i,this.chart.appendPadding=a,t({chart:this.chart,options:this.options})},r.prototype.triggerResize=function(){this.chart.forceFit()},r.prototype.bindSizeSensor=function(){var t=this;if(!this.unbind){var n=this.options.autoFit,i=n===void 0?!0:n;i&&(this.unbind=(0,jz.ak)(this.container,function(){var a=Of(t.container),o=a.width,s=a.height;(o!==t.chart.width||s!==t.chart.height)&&t.triggerResize()}))}},r.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},r}(ya.Z);function kd(e,r,t,n){var i=(0,d.u4)(e,function(a,o){var s=o[t],u=a.has(s)?a.get(s):0,l=o[r];return u=v1(l)?u+l:u,a.set(s,u),a},new Map);return(0,d.UI)(e,function(a){var o,s=a[r],u=a[t],l=v1(s)&&i.get(u)!==0?s/i.get(u):0;return(0,x.pi)((0,x.pi)({},a),(o={},o[n]=l,o))})}function Wz(e,r,t,n){var i=(0,d.u4)(e,function(a,o){var s=(0,d.u4)(t,function(c,f){return""+c+o[f]},""),u=a.has(s)?a.get(s):0,l=o[r];return u=v1(l)?u+l:u,a.set(s,u),a},new Map);return(0,d.UI)(e,function(a){var o,s=a[r],u=(0,d.u4)(t,function(c,f){return""+c+a[f]},""),l=v1(s)&&i.get(u)!==0?s/i.get(u):0;return(0,x.pi)((0,x.pi)({},a),(o={},o[n]=l,o))})}function Js(e,r,t,n,i){return i?kd(e,r,t,n):e}function Yz(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.lineStyle,o=t.lineShape,s=t.point,u=t.area,l=t.seriesField,c=s==null?void 0:s.state,f=u==null?void 0:u.state;r.data(n);var h=pe({},e,{options:{shapeField:l,line:{color:i,style:a,shape:o},point:s&&(0,x.pi)({color:i,shape:"circle"},s),area:u&&(0,x.pi)({color:i},u),label:void 0}}),v=pe({},h,{options:{tooltip:!1,state:c}}),p=pe({},h,{options:{tooltip:!1,state:f}});return E0(h),mi(v),Z2(p),e}function U2(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,u=n.data;return or(Jr((r={},r[o]=i,r[s]=a,r),(t={},t[o]={type:"cat"},t[s]=kf(u,s),t)))(e)}function Xz(e){var r=e.chart,t=e.options,n=t.reflect;if(n){var i=n;(0,d.kJ)(i)||(i=[i]);var a=i.map(function(o){return["reflect",o]});r.coordinate({type:"rect",actions:a})}return e}function Od(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function Ld(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):n===!1&&r.legend(!1),e}function $z(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=In(r,"line");if(!n)a.label(!1);else{var o=n.callback,s=(0,x._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,x.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Sn(s))})}return e}function qz(e){var r=e.chart,t=e.options,n=t.isStack;return n&&(0,d.S6)(r.geometries,function(i){i.adjust("stack")}),e}function Id(e){return or(Yz,U2,qz,Ar,Xz,Od,Ld,vn,$z,Qs,Bf,jr,Rr,Xr(),d1)(e)}function Kz(e){var r=e.chart,t=e.options,n=t.data,i=t.areaStyle,a=t.color,o=t.point,s=t.line,u=t.isPercent,l=t.xField,c=t.yField,f=t.tooltip,h=t.seriesField,v=t.startOnZero,p=o==null?void 0:o.state,g=Js(n,c,l,c,u);r.data(g);var y=u?(0,x.pi)({formatter:function(A){return{name:A[h]||A[l],value:(Number(A[c])*100).toFixed(2)+"%"}}},f):f,m=pe({},e,{options:{area:{color:a,style:i},point:o&&(0,x.pi)({color:a},o),tooltip:y,label:void 0,args:{startOnZero:v}}}),E={chart:r,options:pe({line:{size:2}},(0,d.CE)(t,["state"]),{line:s&&(0,x.pi)({color:a},s),sizeField:h,state:s==null?void 0:s.state,tooltip:!1,label:void 0,args:{startOnZero:v}})},C=pe({},m,{options:{tooltip:!1,state:p}});return Z2(m),E0(E),mi(C),e}function Qz(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=In(r,"area");if(!n)a.label(!1);else{var o=n.callback,s=(0,x._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,x.pi)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Sn(s))})}return e}function Jz(e){var r=e.chart,t=e.options,n=t.isStack,i=t.isPercent,a=t.seriesField;return(i||n)&&a&&(0,d.S6)(r.geometries,function(o){o.adjust("stack")}),e}function Pd(e){return or(Ar,yi("areaStyle"),bd("rect"),Kz,U2,Jz,Od,Ld,vn,Qz,Qs,Xr(),jr,Rr,d1)(e)}var tU=pe({},hr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left",radio:{}}}),eU=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return tU},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.isPercent,a=n.xField,o=n.yField,s=this,u=s.chart,l=s.options;U2({chart:u,options:l}),this.chart.changeData(Js(t,o,a,o,i))},r.prototype.getSchemaAdaptor=function(){return Pd},r}(hr),rU=10,nU=5,iU={padding:[8,10],text:"reset",textStyle:{default:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"}},buttonStyle:{default:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},active:{fill:"#e6e6e6"}}},aU=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.buttonGroup=null,t.buttonCfg=(0,x.pi)({name:"button"},iU),t}return r.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,d.U2)(t,["interactions","filter-action","cfg","buttonConfig"]);return pe(this.buttonCfg,n,this.cfg)},r.prototype.drawButton=function(){var t=this.getButtonCfg(),n=this.context.view.foregroundGroup.addGroup({name:t.name}),i=this.drawText(n);this.drawBackground(n,i.getBBox()),this.buttonGroup=n},r.prototype.drawText=function(t){var n,i=this.getButtonCfg();return t.addShape({type:"text",name:"button-text",attrs:(0,x.pi)({text:i.text},(n=i.textStyle)===null||n===void 0?void 0:n.default)})},r.prototype.drawBackground=function(t,n){var i,a=this.getButtonCfg(),o=ko(a.padding),s=t.addShape({type:"rect",name:"button-rect",attrs:(0,x.pi)({x:n.x-o[3],y:n.y-o[0],width:n.width+o[1]+o[3],height:n.height+o[0]+o[2]},(i=a.buttonStyle)===null||i===void 0?void 0:i.default)});return s.toBack(),t.on("mouseenter",function(){var u;s.attr((u=a.buttonStyle)===null||u===void 0?void 0:u.active)}),t.on("mouseleave",function(){var u;s.attr((u=a.buttonStyle)===null||u===void 0?void 0:u.default)}),s},r.prototype.resetPosition=function(){var t=this.context.view,n=t.getCoordinate(),i=n.convert({x:1,y:1}),a=this.buttonGroup,o=a.getBBox(),s=ai.transform(null,[["t",i.x-o.width-rU,i.y+o.height+nU]]);a.setMatrix(s)},r.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},r.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},r.prototype.destroy=function(){var t=this.buttonGroup;t&&t.remove(),e.prototype.destroy.call(this)},r}(Vr);Je("brush-reset-button",aU,{name:"brush-reset-button"}),lr("filter-action",{});function Ya(e){return e.isInPlot()}function g1(e,r,t){var n=t||{},i=n.mask,a=n.isStartEnable,o=r||"rect";switch(e){case"brush":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||Ya,action:["brush:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:Ya,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ya,action:["brush:filter","brush:end",o+"-mask:end",o+"-mask:hide","brush-reset-button:show"]}],rollback:[{trigger:"brush-reset-button:click",action:["brush:reset","brush-reset-button:hide","cursor:crosshair"]}]};case"brush-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mousemove",action:"cursor:default",isEnable:function(s){return a?!a(s):!1}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};case"brush-x":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||Ya,action:["brush-x:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:Ya,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ya,action:["brush-x:filter","brush-x:end",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]};case"brush-x-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};case"brush-y":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:a||Ya,action:["brush-y:start",o+"-mask:start",o+"-mask:show"],arg:[null,{maskStyle:i==null?void 0:i.style}]}],processing:[{trigger:"mousemove",isEnable:Ya,action:[o+"-mask:resize"]}],end:[{trigger:"mouseup",isEnable:Ya,action:["brush-y:filter","brush-y:end",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-y:reset"]}]};case"brush-y-highlight":return{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair",isEnable:a||function(){return!0}},{trigger:"mask:mouseenter",action:"cursor:move",isEnable:a||function(){return!0}},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:a||function(s){return!s.isInShape("mask")},action:[o+"-mask:start",o+"-mask:show"],arg:[{maskStyle:i==null?void 0:i.style}]},{trigger:"mask:dragstart",action:[o+"-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:[o+"-mask:resize"]},{trigger:"mask:drag",action:[o+"-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:[o+"-mask:end"]},{trigger:"mask:dragend",action:[o+"-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(s){return!s.isInPlot()},action:["element-range-highlight:clear",o+"-mask:end",o+"-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear",o+"-mask:hide"]}]};default:return{}}}lr("brush",g1("brush")),lr("brush-highlight",g1("brush-highlight")),lr("brush-x",g1("brush-x","x-rect")),lr("brush-y",g1("brush-y","y-rect")),lr("brush-x-highlight",g1("brush-x-highlight","x-rect")),lr("brush-y-highlight",g1("brush-y-highlight","y-rect"));var Rd=["brush","brush-x","brush-y","brush-highlight","brush-x-highlight","brush-y-highlight"];function Dd(e){var r=e.options,t=r.brush,n=(0,d.hX)(r.interactions||[],function(i){return Rd.indexOf(i.type)===-1});return t!=null&&t.enabled&&(Rd.forEach(function(i){var a=!1;switch(t.type){case"x-rect":a=i===(t.action==="highlight"?"brush-x-highlight":"brush-x");break;case"y-rect":a=i===(t.action==="highlight"?"brush-y-highlight":"brush-y");break;default:a=i===(t.action==="highlight"?"brush-highlight":"brush");break}var o={type:i,enable:a};t&&(o.cfg=g1(i,t.type,t)),n.push(o)}),(t==null?void 0:t.action)!=="highlight"&&n.push({type:"filter-action",cfg:{buttonConfig:t.button}})),pe({},e,{options:{interactions:n}})}var y1={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"},Zf=function(e,r){return e==="hover"?[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"],arg:[null,{style:r}]}]:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"],arg:[null,null,null,null,{style:r}]}]};lr(y1.hover,{start:Zf(y1.hover),end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),lr(y1.click,{start:Zf(y1.click),end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function oU(e){return e===void 0&&(e=!1),function(r){var t=r.chart,n=r.options,i=n.connectedArea,a=function(){t.removeInteraction(y1.hover),t.removeInteraction(y1.click)};if(!e&&i){var o=i.trigger||"hover";a(),t.interaction(y1[o],{start:Zf(o,i.style)})}else a();return r}}function Bd(e,r){return!(0,d.hj)(e)||!(0,d.hj)(r)||e===0&&r===0?"-":e===r?"100%":e===0?"\u221E":(100*r/e).toFixed(2)+"%"}function sU(e,r){return pe({size:r?32:80,spacing:r?8:12,offset:r?32:0,arrow:e.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:e.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:Bd}},e)}function H2(e,r){return(0,d.UI)(r.getModel().points,function(t){return e.convertPoint(t)})}function uU(e,r,t){var n=e.view,i=e.geometry,a=e.group,o=e.options,s=e.horizontal,u=o.offset,l=o.size,c=o.arrow,f=n.getCoordinate(),h=H2(f,r)[3],v=H2(f,t)[0],p=v.y-h.y,g=v.x-h.x;if(typeof c!="boolean"){var y=c.headSize,m=o.spacing,E;s?(g-y)/2<m?(m=Math.max(1,(g-y)/2),E=[[h.x+m,h.y-u],[h.x+m,h.y-u-l],[v.x-m,v.y-u-l/2]]):E=[[h.x+m,h.y-u],[h.x+m,h.y-u-l],[v.x-m-y,v.y-u-l],[v.x-m,v.y-u-l/2],[v.x-m-y,v.y-u]]:(p-y)/2<m?(m=Math.max(1,(p-y)/2),E=[[h.x+u,h.y+m],[h.x+u+l,h.y+m],[v.x+u+l/2,v.y-m]]):E=[[h.x+u,h.y+m],[h.x+u+l,h.y+m],[v.x+u+l,v.y-m-y],[v.x+u+l/2,v.y-m],[v.x+u,v.y-m-y]],a.addShape("polygon",{id:n.id+"-conversion-tag-arrow-"+i.getElementId(r.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:r,nextElement:t},attrs:(0,x.pi)((0,x.pi)({},c.style||{}),{points:E})})}}function lU(e,r,t){var n,i,a,o=e.view,s=e.geometry,u=e.group,l=e.options,c=e.field,f=e.horizontal,h=l.offset,v=l.size;if(typeof l.text!="boolean"){var p=o.getCoordinate(),g=((n=l.text)===null||n===void 0?void 0:n.formatter)&&((i=l.text)===null||i===void 0?void 0:i.formatter(r.getData()[c],t.getData()[c])),y=H2(p,r)[f?3:0],m=H2(p,t)[f?0:3],E=u.addShape("text",{id:o.id+"-conversion-tag-text-"+s.getElementId(r.getModel().mappingData),name:"conversion-tag-text",origin:{element:r,nextElement:t},attrs:(0,x.pi)((0,x.pi)({},((a=l.text)===null||a===void 0?void 0:a.style)||{}),{text:g,x:f?(y.x+m.x)/2:y.x+h+v/2,y:f?y.y-h-v/2:(y.y+m.y)/2})});if(f){var C=m.x-y.x,A=E.getBBox().width;if(A>C){var M=A/g.length,Z=Math.max(1,Math.ceil(C/M)-1),Y=g.slice(0,Z)+"...";E.attr("text",Y)}}}}function cU(e,r,t){uU(e,r,t),lU(e,r,t)}function fU(e,r,t){return r===void 0&&(r=!0),t===void 0&&(t=!1),function(n){var i=n.options,a=n.chart,o=i.conversionTag,s=i.theme;return o&&!t&&(a.theme(pe({},(0,d.Kn)(s)?s:Bs(s),{columnWidthRatio:1/3})),a.annotation().shape({render:function(u,l){var c=u.addGroup({id:a.id+"-conversion-tag-group",name:"conversion-tag-group"}),f=(0,d.sE)(a.geometries,function(p){return p.type==="interval"}),h={view:l,geometry:f,group:c,field:e,horizontal:r,options:sU(o,r)},v=f.elements;(0,d.S6)(v,function(p,g){g>0&&cU(h,v[g-1],p)})}})),n}}function hU(e){var r=e.options,t=r.legend,n=r.seriesField,i=r.isStack;return n?t!==!1&&(t=(0,x.pi)({position:i?"right-top":"top-left"},t)):t=!1,e.options.legend=t,e}function vU(e){var r=e.chart,t=e.options,n=t.data,i=t.columnStyle,a=t.color,o=t.columnWidthRatio,s=t.isPercent,u=t.isGroup,l=t.isStack,c=t.xField,f=t.yField,h=t.seriesField,v=t.groupField,p=t.tooltip,g=t.shape,y=s&&u&&l?Wz(n,f,[c,v],f):Js(n,f,c,f,s),m=[];l&&h&&!u?y.forEach(function(A){var M=m.find(function(Z){return Z[c]===A[c]&&Z[h]===A[h]});M?M[f]+=A[f]||0:m.push((0,x.pi)({},A))}):m=y,r.data(m);var E=s?(0,x.pi)({formatter:function(A){return{name:u&&l?A[h]+" - "+A[v]:A[h]||A[c],value:(Number(A[f])*100).toFixed(2)+"%"}}},p):p,C=pe({},e,{options:{data:m,widthRatio:o,tooltip:E,interval:{shape:g,style:i,color:a}}});return Pn(C),C}function zf(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,u=n.data,l=n.isPercent,c=l?{max:1,min:0,minLimit:0,maxLimit:1}:{};return or(Jr((r={},r[o]=i,r[s]=a,r),(t={},t[o]={type:"cat"},t[s]=(0,x.pi)((0,x.pi)({},kf(u,s)),c),t)))(e)}function pU(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function dU(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n&&i?r.legend(i,n):n===!1&&r.legend(!1),e}function gU(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=t.isRange,o=In(r,"interval");if(!n)o.label(!1);else{var s=n.callback,u=(0,x._T)(n,["callback"]);o.label({fields:[i],callback:s,cfg:(0,x.pi)({layout:u!=null&&u.position?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Sn(a?(0,x.pi)({content:function(l){var c;return(c=l[i])===null||c===void 0?void 0:c.join("-")}},u):u))})}return e}function yU(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.isGroup,a=t.isStack,o=t.groupField,s=t.data,u=t.xField,l=t.yField,c=t.seriesField;if(n===!1)r.tooltip(!1);else{var f=n;if(i&&a){var h=f.customItems,v=(f==null?void 0:f.formatter)||function(p){return{name:p[c]+" - "+p[o],value:p[l]}};f=(0,x.pi)((0,x.pi)({},f),{customItems:function(p){var g=[];return(0,d.S6)(p,function(y){var m=(0,d.hX)(s,function(E){return(0,d.BD)(E,Pr(y.data,[u,c]))});m.forEach(function(E){g.push((0,x.pi)((0,x.pi)((0,x.pi)({},y),{value:E[l],data:E,mappingData:{_origin:E}}),v(E)))})}),h?h(g):g}})}r.tooltip(f)}return e}function V2(e,r){r===void 0&&(r=!1);var t=e.options,n=t.seriesField;return or(hU,Ar,yi("columnStyle"),Oo,bd("rect"),vU,zf,pU,dU,yU,Qs,Bf,gU,Dd,jr,Rr,Xr(),fU(t.yField,!r,!!n),oU(!t.isStack),d1)(e)}function mU(e){var r=e.options,t=r.xField,n=r.yField,i=r.xAxis,a=r.yAxis,o={left:"bottom",right:"top",top:"left",bottom:"right"},s=a!==!1?(0,x.pi)({position:o[(a==null?void 0:a.position)||"left"]},a):!1,u=i!==!1?(0,x.pi)({position:o[(i==null?void 0:i.position)||"bottom"]},i):!1;return(0,x.pi)((0,x.pi)({},e),{options:(0,x.pi)((0,x.pi)({},r),{xField:n,yField:t,xAxis:s,yAxis:u})})}function xU(e){var r=e.options,t=r.label;return t&&!t.position&&(t.position="left",t.layout||(t.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}])),pe({},e,{options:{label:t}})}function _U(e){var r=e.options,t=r.seriesField,n=r.isStack,i=r.legend;return t?i!==!1&&(i=(0,x.pi)({position:n?"top-left":"right-top"},i||{})):i=!1,pe({},e,{options:{legend:i}})}function EU(e){var r=e.options,t=[{type:"transpose"},{type:"reflectY"}].concat(r.coordinate||[]);return pe({},e,{options:{coordinate:t}})}function CU(e){var r=e.chart,t=e.options,n=t.barStyle,i=t.barWidthRatio,a=t.minBarWidth,o=t.maxBarWidth,s=t.barBackground;return V2({chart:r,options:(0,x.pi)((0,x.pi)({},t),{columnStyle:n,columnWidthRatio:i,minColumnWidth:a,maxColumnWidth:o,columnBackground:s})},!0)}function Nd(e){return or(mU,xU,_U,vn,EU,CU)(e)}var SU=pe({},hr.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),Zd=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bar",t}return r.getDefaultOptions=function(){return SU},r.prototype.changeData=function(t){var n,i;this.updateOption({data:t});var a=this,o=a.chart,s=a.options,u=s.isPercent,l=s.xField,c=s.yField,f=s.xAxis,h=s.yAxis;n=[c,l],l=n[0],c=n[1],i=[h,f],f=i[0],h=i[1];var v=(0,x.pi)((0,x.pi)({},s),{xField:l,yField:c,yAxis:h,xAxis:f});zf({chart:o,options:v}),o.changeData(Js(t,l,c,l,u))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Nd},r}(hr),bU=pe({},hr.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},legend:{radio:{}},interactions:[{type:"active-region"}]}),zd=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="column",t}return r.getDefaultOptions=function(){return bU},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.yField,a=n.xField,o=n.isPercent,s=this,u=s.chart,l=s.options;zf({chart:u,options:l}),this.chart.changeData(Js(t,i,a,i,o))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return V2},r}(hr),Uf,Lo="$$percentage$$",Io="$$mappingValue$$",Xa="$$conversion$$",Hf="$$totalPercentage$$",tu="$$x$$",eu="$$y$$",AU={appendPadding:[0,80],minSize:0,maxSize:1,meta:(Uf={},Uf[Io]={min:0,max:1,nice:!1},Uf),label:{style:{fill:"#fff",fontSize:12}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1},conversionTag:{offsetX:10,offsetY:0,style:{fontSize:12,fill:"rgba(0,0,0,0.45)"}}},Ud="CONVERSION_TAG_NAME";function Vf(e,r,t){var n=[],i=t.yField,a=t.maxSize,o=t.minSize,s=(0,d.U2)((0,d.UT)(r,i),[i]),u=(0,d.hj)(a)?a:1,l=(0,d.hj)(o)?o:0;return n=(0,d.UI)(e,function(c,f){var h=(c[i]||0)/s;return c[Lo]=h,c[Io]=(u-l)*h+l,c[Xa]=[(0,d.U2)(e,[f-1,i]),c[i]],c}),n}function Gf(e){return function(r){var t=r.chart,n=r.options,i=n.conversionTag,a=n.filteredData,o=a||t.getOptions().data;if(i){var s=i.formatter;o.forEach(function(u,l){if(!(l<=0||Number.isNaN(u[Io]))){var c=e(u,l,o,{top:!0,name:Ud,text:{content:(0,d.mf)(s)?s(u,o):s,offsetX:i.offsetX,offsetY:i.offsetY,position:"end",autoRotate:!1,style:(0,x.pi)({textAlign:"start",textBaseline:"middle"},i.style)}});t.annotation().line(c)}})}return r}}function MU(e){var r=e.chart,t=e.options,n=t.data,i=n===void 0?[]:n,a=t.yField,o=t.maxSize,s=t.minSize,u=Vf(i,i,{yField:a,maxSize:o,minSize:s});return r.data(u),e}function TU(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.color,o=t.tooltip,s=t.label,u=t.shape,l=u===void 0?"funnel":u,c=t.funnelStyle,f=t.state,h=Hi(o,[n,i]),v=h.fields,p=h.formatter;ui({chart:r,options:{type:"interval",xField:n,yField:Io,colorField:n,tooltipFields:(0,d.kJ)(v)&&v.concat([Lo,Xa]),mapping:{shape:l,tooltip:p,color:a,style:c},label:s,state:f}});var g=In(e.chart,"interval");return g.adjust("symmetric"),e}function wU(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[]:[["transpose"],["scale",1,-1]]}),e}function Hd(e){var r=e.options,t=e.chart,n=r.maxSize,i=(0,d.U2)(t,["geometries","0","dataArray"],[]),a=(0,d.U2)(t,["options","data","length"]),o=(0,d.UI)(i,function(u){return(0,d.U2)(u,["0","nextPoints","0","x"])*a-.5}),s=function(u,l,c,f){var h=n-(n-u[Io])/2;return(0,x.pi)((0,x.pi)({},f),{start:[o[l-1]||l-.5,h],end:[o[l-1]||l-.5,h+.05]})};return Gf(s)(e),e}function Vd(e){return or(MU,TU,wU,Hd)(e)}function FU(e){var r,t=e.chart,n=e.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return t.data(a),t.scale((r={},r[o]={sync:!0},r)),e}function kU(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.color,s=t.compareField,u=t.isTransposed,l=t.tooltip,c=t.maxSize,f=t.minSize,h=t.label,v=t.funnelStyle,p=t.state,g=t.showFacetTitle;return r.facet("mirror",{fields:[s],transpose:!u,padding:u?0:[32,0,0,0],showTitle:g,eachView:function(y,m){var E=u?m.rowIndex:m.columnIndex;u||y.coordinate({type:"rect",actions:[["transpose"],["scale",E===0?-1:1,-1]]});var C=Vf(m.data,n,{yField:a,maxSize:c,minSize:f});y.data(C);var A=Hi(l,[i,a,s]),M=A.fields,Z=A.formatter,Y=u?{offset:E===0?10:-23,position:E===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:E===0?"end":"start"}};ui({chart:y,options:{type:"interval",xField:i,yField:Io,colorField:i,tooltipFields:(0,d.kJ)(M)&&M.concat([Lo,Xa]),mapping:{shape:"funnel",tooltip:Z,color:o,style:v},label:h===!1?!1:pe({},Y,h),state:p}})}}),e}function Gd(e){var r=e.chart,t=e.index,n=e.options,i=n.conversionTag,a=n.isTransposed;((0,d.hj)(t)?[r]:r.views).forEach(function(o,s){var u=(0,d.U2)(o,["geometries","0","dataArray"],[]),l=(0,d.U2)(o,["options","data","length"]),c=(0,d.UI)(u,function(h){return(0,d.U2)(h,["0","nextPoints","0","x"])*l-.5}),f=function(h,v,p,g){var y=(t||s)===0?-1:1;return pe({},g,{start:[c[v-1]||v-.5,h[Io]],end:[c[v-1]||v-.5,h[Io]+.05],text:a?{style:{textAlign:"start"}}:{offsetX:i!==!1?y*i.offsetX:0,style:{textAlign:(t||s)===0?"end":"start"}}})};Gf(f)(pe({},{chart:o,options:n}))})}function OU(e){var r=e.chart;return r.once("beforepaint",function(){return Gd(e)}),e}function LU(e){return or(FU,kU,OU)(e)}function IU(e){var r=e.chart,t=e.options,n=t.data,i=n===void 0?[]:n,a=t.yField,o=(0,d.u4)(i,function(l,c){return l+(c[a]||0)},0),s=(0,d.UT)(i,a)[a],u=(0,d.UI)(i,function(l,c){var f=[],h=[];if(l[Hf]=(l[a]||0)/o,c){var v=i[c-1][tu],p=i[c-1][eu];f[0]=v[3],h[0]=p[3],f[1]=v[2],h[1]=p[2]}else f[0]=-.5,h[0]=1,f[1]=.5,h[1]=1;return h[2]=h[1]-l[Hf],f[2]=(h[2]+1)/4,h[3]=h[2],f[3]=-f[2],l[tu]=f,l[eu]=h,l[Lo]=(l[a]||0)/s,l[Xa]=[(0,d.U2)(i,[c-1,a]),l[a]],l});return r.data(u),e}function PU(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.color,o=t.tooltip,s=t.label,u=t.funnelStyle,l=t.state,c=Hi(o,[n,i]),f=c.fields,h=c.formatter;return ui({chart:r,options:{type:"polygon",xField:tu,yField:eu,colorField:n,tooltipFields:(0,d.kJ)(f)&&f.concat([Lo,Xa]),label:s,state:l,mapping:{tooltip:h,color:a,style:u}}}),e}function RU(e){var r=e.chart,t=e.options,n=t.isTransposed;return r.coordinate({type:"rect",actions:n?[["transpose"],["reflect","x"]]:[]}),e}function DU(e){var r=function(t,n,i,a){return(0,x.pi)((0,x.pi)({},a),{start:[t[tu][1],t[eu][1]],end:[t[tu][1]+.05,t[eu][1]]})};return Gf(r)(e),e}function BU(e){return or(IU,PU,RU,DU)(e)}function NU(e){var r,t=e.chart,n=e.options,i=n.data,a=i===void 0?[]:i,o=n.yField;return t.data(a),t.scale((r={},r[o]={sync:!0},r)),e}function ZU(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.isTransposed,a=t.showFacetTitle;return r.facet("rect",{fields:[n],padding:[i?0:32,10,0,10],showTitle:a,eachView:function(o,s){Vd(pe({},e,{chart:o,options:{data:s.data}}))}}),e}function zU(e){return or(NU,ZU)(e)}var UU=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.rendering=!1,t}return r.prototype.change=function(t){var n=this;if(!this.rendering){var i=t.seriesField,a=t.compareField,o=a?Gd:Hd,s=this.context.view,u=i||a?s.views:[s];(0,d.UI)(u,function(l,c){var f=l.getController("annotation"),h=(0,d.hX)((0,d.U2)(f,["option"],[]),function(p){var g=p.name;return g!==Ud});f.clear(!0),(0,d.S6)(h,function(p){typeof p=="object"&&l.annotation()[p.type](p)});var v=(0,d.U2)(l,["filteredData"],l.getOptions().data);o({chart:l,index:c,options:(0,x.pi)((0,x.pi)({},t),{filteredData:Vf(v,v,t)})}),l.filterData(v),n.rendering=!0,l.render(!0)})}this.rendering=!1},r}(Vr),jd="funnel-conversion-tag",jf="funnel-afterrender",Wd={trigger:"afterrender",action:jd+":change"};Je(jd,UU),lr(jf,{start:[Wd]});function HU(e){var r=e.options,t=r.compareField,n=r.xField,i=r.yField,a=r.locale,o=r.funnelStyle,s=r.data,u=B2(a),l={label:t?{fields:[n,i,t,Lo,Xa],formatter:function(f){return""+f[i]}}:{fields:[n,i,Lo,Xa],offset:0,position:"middle",formatter:function(f){return f[n]+" "+f[i]}},tooltip:{title:n,formatter:function(f){return{name:f[n],value:f[i]}}},conversionTag:{formatter:function(f){return u.get(["conversionTag","label"])+": "+Bd.apply(void 0,f[Xa])}}},c;return(t||o)&&(c=function(f){return pe({},t&&{lineWidth:1,stroke:"#fff"},(0,d.mf)(o)?o(f):o)}),pe({options:l},e,{options:{funnelStyle:c,data:(0,d.d9)(s)}})}function VU(e){var r=e.options,t=r.compareField,n=r.dynamicHeight,i=r.seriesField;return i?zU(e):t?LU(e):n?BU(e):Vd(e)}function GU(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return or(Jr((r={},r[a]=n,r[o]=i,r)))(e)}function jU(e){var r=e.chart;return r.axis(!1),e}function WU(e){var r=e.chart,t=e.options,n=t.legend;return n===!1?r.legend(!1):r.legend(n),e}function YU(e){var r=e.chart,t=e.options,n=t.interactions,i=t.dynamicHeight;return(0,d.S6)(n,function(a){a.enable===!1?r.removeInteraction(a.type):r.interaction(a.type,a.cfg||{})}),i?r.removeInteraction(jf):r.interaction(jf,{start:[(0,x.pi)((0,x.pi)({},Wd),{arg:t})]}),e}function Yd(e){return or(HU,VU,GU,jU,vn,YU,WU,Rr,Ar,Xr())(e)}var XU=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="funnel",t}return r.getDefaultOptions=function(){return AU},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Yd},r.prototype.setState=function(t,n,i){i===void 0&&(i=!0);var a=$s(this.chart);(0,d.S6)(a,function(o){n(o.getData())&&o.setState(t,i)})},r.prototype.getStates=function(){var t=$s(this.chart),n=[];return(0,d.S6)(t,function(i){var a=i.getData(),o=i.getStates();(0,d.S6)(o,function(s){n.push({data:a,state:s,geometry:i.geometry,element:i})})}),n},r.CONVERSATION_FIELD=Xa,r.PERCENT_FIELD=Lo,r.TOTAL_PERCENT_FIELD=Hf,r}(hr),G2,Wf="range",Xd="type",$a="percent",$U="#f0f0f0",$d="indicator-view",qd="range-view",qU={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(G2={},G2[Wf]={sync:"v"},G2[$a]={sync:"v",tickCount:5,tickInterval:.2},G2),animation:!1};function KU(e,r){return e.map(function(t,n){var i;return i={},i[Wf]=t-(e[n-1]||0),i[Xd]=""+n,i[$a]=r,i})}function Kd(e){var r;return[(r={},r[$a]=(0,d.uZ)(e,0,1),r)]}function Qd(e,r){var t=(0,d.U2)(r,["ticks"],[]),n=(0,d.dp)(t)?(0,d.jj)(t):[0,(0,d.uZ)(e,0,1),1];return n[0]||n.shift(),KU(n,e)}function QU(e){var r=e.chart,t=e.options,n=t.percent,i=t.range,a=t.radius,o=t.innerRadius,s=t.startAngle,u=t.endAngle,l=t.axis,c=t.indicator,f=t.gaugeStyle,h=t.type,v=t.meter,p=i.color,g=i.width;if(c){var y=Kd(n),m=r.createView({id:$d});m.data(y),m.point().position($a+"*1").shape(c.shape||"gauge-indicator").customInfo({defaultColor:r.getTheme().defaultColor,indicator:c}),m.coordinate("polar",{startAngle:s,endAngle:u,radius:o*a}),m.axis($a,l),m.scale($a,Pr(l,si))}var E=Qd(n,t.range),C=r.createView({id:qd});C.data(E);var A=(0,d.HD)(p)?[p,$U]:p,M=Pn({chart:C,options:{xField:"1",yField:Wf,seriesField:Xd,rawFields:[$a],isStack:!0,interval:{color:A,style:f,shape:h==="meter"?"meter-gauge":null},args:{zIndexReversed:!0,sortZIndex:!0},minColumnWidth:g,maxColumnWidth:g}}).ext,Z=M.geometry;return Z.customInfo({meter:v}),C.coordinate("polar",{innerRadius:o,radius:a,startAngle:s,endAngle:u}).transpose(),e}function JU(e){var r;return or(Jr((r={range:{min:0,max:1,maxLimit:1,minLimit:0}},r[$a]={},r)))(e)}function Jd(e,r){var t=e.chart,n=e.options,i=n.statistic,a=n.percent;if(t.getController("annotation").clear(!0),i){var o=i.content,s=void 0;o&&(s=pe({},{content:(a*100).toFixed(2)+"%",style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},o)),kz(t,{statistic:(0,x.pi)((0,x.pi)({},i),{content:s})},{percent:a})}return r&&t.render(!0),e}function tH(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(pe({showTitle:!1,showMarkers:!1,containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',domStyles:{"g2-tooltip":{padding:"4px 8px",fontSize:"10px"}},customContent:function(i,a){var o=(0,d.U2)(a,[0,"data",$a],0);return(o*100).toFixed(2)+"%"}},n)):r.tooltip(!1),e}function eH(e){var r=e.chart;return r.legend(!1),e}function tg(e){return or(Ar,Rr,QU,JU,tH,Jd,jr,Xr(),eH)(e)}kr("point","gauge-indicator",{draw:function(e,r){var t=e.customInfo,n=t.indicator,i=t.defaultColor,a=n,o=a.pointer,s=a.pin,u=r.addGroup(),l=this.parsePoint({x:0,y:0});return o&&u.addShape("line",{name:"pointer",attrs:(0,x.pi)({x1:l.x,y1:l.y,x2:e.x,y2:e.y,stroke:i},o.style)}),s&&u.addShape("circle",{name:"pin",attrs:(0,x.pi)({x:l.x,y:l.y,stroke:i},s.style)}),u}}),kr("interval","meter-gauge",{draw:function(e,r){var t=e.customInfo.meter,n=t===void 0?{}:t,i=n.steps,a=i===void 0?50:i,o=n.stepRatio,s=o===void 0?.5:o;a=a<1?1:a,s=(0,d.uZ)(s,0,1);var u=this.coordinate,l=u.startAngle,c=u.endAngle,f=0;if(s>0&&s<1){var h=c-l;f=h/a/(s/(1-s)+1-1/a)}for(var v=f/(1-s)*s,p=r.addGroup(),g=this.coordinate.getCenter(),y=this.coordinate.getRadius(),m=ai.getAngle(e,this.coordinate),E=m.startAngle,C=m.endAngle,A=E;A<C;){var M=void 0,Z=(A-l)%(v+f);Z<v?M=A+(v-Z):(A+=v+f-Z,M=A+v);var Y=ai.getSectorPath(g.x,g.y,y,A,Math.min(M,C),y*this.coordinate.innerRadius);p.addShape("path",{name:"meter-gauge",attrs:{path:Y,fill:e.color,stroke:e.color,lineWidth:.5}}),A=M+f}return p}});var rH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="gauge",t}return r.getDefaultOptions=function(){return qU},r.prototype.changeData=function(t){this.chart.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this.chart,rr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t});var n=this.chart.views.find(function(a){return a.id===$d});n&&n.data(Kd(t));var i=this.chart.views.find(function(a){return a.id===qd});i&&i.data(Qd(t,this.options.range)),Jd({chart:this.chart,options:this.options},!0),this.chart.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this.chart,rr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tg},r}(hr);function eg(e,r,t){if(t===1)return[0,r];var n=Math.floor(e/r);return[r*n,r*(n+1)]}function nH(e){return Math.ceil(Math.log(e.length)/Math.LN2)+1}function rg(e,r,t,n,i){var a=(0,d.d9)(e);(0,d.MR)(a,r);var o=(0,d.I)(a,r),s=(0,d.rx)(o),u=s.max-s.min,l=t;if(!t&&n&&(l=n>1?u/(n-1):s.max),!t&&!n){var c=nH(o);l=u/c}var f={},h=(0,d.vM)(a,i);(0,d.xb)(h)?(0,d.S6)(a,function(p){var g=p[r],y=eg(g,l,n),m=y[0]+"-"+y[1];(0,d.wH)(f,m)||(f[m]={range:y,count:0}),f[m].count+=1}):Object.keys(h).forEach(function(p){(0,d.S6)(h[p],function(g){var y=g[r],m=eg(y,l,n),E=m[0]+"-"+m[1],C=E+"-"+p;(0,d.wH)(f,C)||(f[C]={range:m,count:0},f[C][i]=p),f[C].count+=1})});var v=[];return(0,d.S6)(f,function(p){v.push(p)}),v}var j2="range",ru="count",iH=pe({},hr.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]});function aH(e){var r=e.chart,t=e.options,n=t.data,i=t.binField,a=t.binNumber,o=t.binWidth,s=t.color,u=t.stackField,l=t.legend,c=t.columnStyle,f=rg(n,i,o,a,u);r.data(f);var h=pe({},e,{options:{xField:j2,yField:ru,seriesField:u,isStack:!0,interval:{color:s,style:c}}});return Pn(h),l&&u?r.legend(u,l):r.legend(!1),e}function oH(e){var r,t=e.options,n=t.xAxis,i=t.yAxis;return or(Jr((r={},r[j2]=n,r[ru]=i,r)))(e)}function sH(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis;return n===!1?r.axis(j2,!1):r.axis(j2,n),i===!1?r.axis(ru,!1):r.axis(ru,i),e}function uH(e){var r=e.chart,t=e.options,n=t.label,i=In(r,"interval");if(!n)i.label(!1);else{var a=n.callback,o=(0,x._T)(n,["callback"]);i.label({fields:[ru],callback:a,cfg:Sn(o)})}return e}function ng(e){return or(Ar,yi("columnStyle"),aH,oH,sH,Oo,uH,vn,jr,Rr)(e)}var lH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="histogram",t}return r.getDefaultOptions=function(){return iH},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options,i=n.binField,a=n.binNumber,o=n.binWidth,s=n.stackField;this.chart.changeData(rg(t,i,o,a,s))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ng},r}(hr),cH=pe({},hr.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left",radio:{}},isStack:!1}),fH=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.active=function(){var t=this.getView(),n=this.context.event;if(n.data){var i=n.data.items,a=t.geometries.filter(function(o){return o.type==="point"});(0,d.S6)(a,function(o){(0,d.S6)(o.elements,function(s){var u=(0,d.cx)(i,function(l){return l.data===s.data})!==-1;s.setState("active",u)})})}},r.prototype.reset=function(){var t=this.getView(),n=t.geometries.filter(function(i){return i.type==="point"});(0,d.S6)(n,function(i){(0,d.S6)(i.elements,function(a){a.setState("active",!1)})})},r.prototype.getView=function(){return this.context.view},r}(Vr);Je("marker-active",fH),lr("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}],end:[{trigger:"tooltip:hide",action:"marker-active:reset"}]});var hH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="line",t}return r.getDefaultOptions=function(){return cH},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;U2({chart:i,options:a}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Id},r}(hr),ig=pe({},hr.getDefaultOptions(),{legend:{position:"right",radio:{}},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}}),vH=[1,0,0,0,1,0,0,0,1];function Yf(e,r){var t=r?(0,x.pr)(r):(0,x.pr)(vH);return ai.transform(t,e)}var pH=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getActiveElements=function(){var t=ai.getDelegationObject(this.context);if(t){var n=this.context.view,i=t.component,a=t.item,o=i.get("field");if(o){var s=n.geometries[0].elements;return s.filter(function(u){return u.getModel().data[o]===a.value})}}return[]},r.prototype.getActiveElementLabels=function(){var t=this.context.view,n=this.getActiveElements(),i=t.geometries[0].labelsContainer.getChildren();return i.filter(function(a){return n.find(function(o){return(0,d.Xy)(o.getData(),a.get("data"))})})},r.prototype.transfrom=function(t){t===void 0&&(t=7.5);var n=this.getActiveElements(),i=this.getActiveElementLabels();n.forEach(function(a,o){var s=i[o],u=a.geometry.coordinate;if(u.isPolar&&u.isTransposed){var l=ai.getAngle(a.getModel(),u),c=l.startAngle,f=l.endAngle,h=(c+f)/2,v=t,p=v*Math.cos(h),g=v*Math.sin(h);a.shape.setMatrix(Yf([["t",p,g]])),s.setMatrix(Yf([["t",p,g]]))}})},r.prototype.active=function(){this.transfrom()},r.prototype.reset=function(){this.transfrom(0)},r}(Vr);function dH(e){var r=e.event,t,n=r.target;return n&&(t=n.get("element")),t}var gH=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAnnotations=function(t){var n=t||this.context.view;return n.getController("annotation").option},r.prototype.getInitialAnnotation=function(){return this.initialAnnotation},r.prototype.init=function(){var t=this,n=this.context.view;n.removeInteraction("tooltip"),n.on("afterchangesize",function(){var i=t.getAnnotations(n);t.initialAnnotation=i})},r.prototype.change=function(t){var n=this.context,i=n.view,a=n.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var o=(0,d.U2)(a,["data","data"]);if(a.type.match("legend-item")){var s=ai.getDelegationObject(this.context),u=i.getGroupedFields()[0];if(s&&u){var l=s.item;o=i.getData().find(function(v){return v[u]===l.value})}}if(o){var c=(0,d.U2)(t,"annotations",[]),f=(0,d.U2)(t,"statistic",{});i.getController("annotation").clear(!0),(0,d.S6)(c,function(v){typeof v=="object"&&i.annotation()[v.type](v)}),P2(i,{statistic:f,plotType:"pie"},o),i.render(!0)}var h=dH(this.context);h&&h.shape.toFront()},r.prototype.reset=function(){var t=this.context.view,n=t.getController("annotation");n.clear(!0);var i=this.getInitialAnnotation();(0,d.S6)(i,function(a){t.annotation()[a.type](a)}),t.render(!0)},r}(Vr),ag="pie-statistic";Je(ag,gH),lr("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Je("pie-legend",pH),lr("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]});function yH(e,r){var t=null;return(0,d.S6)(e,function(n){typeof n[r]=="number"&&(t+=n[r])}),t}function mH(e,r){var t;switch(e){case"inner":return t="-30%",(0,d.HD)(r)&&r.endsWith("%")?parseFloat(r)*.01>0?t:r:r<0?r:t;case"outer":return t=12,(0,d.HD)(r)&&r.endsWith("%")?parseFloat(r)*.01<0?t:r:r>0?r:t;default:return r}}function W2(e,r){return(0,d.yW)(x0(e,r),function(t){return t[r]===0})}function xH(e){var r=e.chart,t=e.options,n=t.data,i=t.angleField,a=t.colorField,o=t.color,s=t.pieStyle,u=t.shape,l=x0(n,i);if(W2(l,i)){var c="$$percentage$$";l=l.map(function(h){var v;return(0,x.pi)((0,x.pi)({},h),(v={},v[c]=1/l.length,v))}),r.data(l);var f=pe({},e,{options:{xField:"1",yField:c,seriesField:a,isStack:!0,interval:{color:o,shape:u,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});Pn(f)}else{r.data(l);var f=pe({},e,{options:{xField:"1",yField:i,seriesField:a,isStack:!0,interval:{color:o,shape:u,style:s},args:{zIndexReversed:!0,sortZIndex:!0}}});Pn(f)}return e}function _H(e){var r,t=e.chart,n=e.options,i=n.meta,a=n.colorField,o=pe({},i);return t.scale(o,(r={},r[a]={type:"cat"},r)),e}function EH(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"theta",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),e}function CH(e){var r=e.chart,t=e.options,n=t.label,i=t.colorField,a=t.angleField,o=r.geometries[0];if(!n)o.label(!1);else{var s=n.callback,u=(0,x._T)(n,["callback"]),l=Sn(u);if(l.content){var c=l.content;l.content=function(p,g,y){var m=p[i],E=p[a],C=r.getScaleByField(a),A=C==null?void 0:C.scale(E);return(0,d.mf)(c)?c((0,x.pi)((0,x.pi)({},p),{percent:A}),g,y):(0,d.HD)(c)?_d(c,{value:E,name:m,percentage:(0,d.hj)(A)&&!(0,d.UM)(E)?(A*100).toFixed(2)+"%":null}):c}}var f={inner:"",outer:"pie-outer",spider:"pie-spider"},h=l.type?f[l.type]:"pie-outer",v=l.layout?(0,d.kJ)(l.layout)?l.layout:[l.layout]:[];l.layout=(h?[{type:h}]:[]).concat(v),o.label({fields:i?[a,i]:[a],callback:s,cfg:(0,x.pi)((0,x.pi)({},l),{offset:mH(l.type,l.offset),type:"pie"})})}return e}function og(e){var r=e.innerRadius,t=e.statistic,n=e.angleField,i=e.colorField,a=e.meta,o=e.locale,s=B2(o);if(r&&t){var u=pe({},ig.statistic,t),l=u.title,c=u.content;return l!==!1&&(l=pe({},{formatter:function(f){var h=f?f[i]:(0,d.UM)(l.content)?s.get(["statistic","total"]):l.content,v=(0,d.U2)(a,[i,"formatter"])||function(p){return p};return v(h)}},l)),c!==!1&&(c=pe({},{formatter:function(f,h){var v=f?f[n]:yH(h,n),p=(0,d.U2)(a,[n,"formatter"])||function(g){return g};return f||(0,d.UM)(c.content)?p(v):c.content}},c)),pe({},{statistic:{title:l,content:c}},e)}return e}function sg(e){var r=e.chart,t=e.options,n=og(t),i=n.innerRadius,a=n.statistic;return r.getController("annotation").clear(!0),or(Xr())(e),i&&a&&P2(r,{statistic:a,plotType:"pie"}),e}function SH(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.colorField,a=t.angleField,o=t.data;if(n===!1)r.tooltip(n);else if(r.tooltip(pe({},n,{shared:!1})),W2(o,a)){var s=(0,d.U2)(n,"fields"),u=(0,d.U2)(n,"formatter");(0,d.xb)((0,d.U2)(n,"fields"))&&(s=[i,a],u=u||function(l){return{name:l[i],value:(0,d.BB)(l[a])}}),r.geometries[0].tooltip(s.join("*"),_0(s,u))}return e}function bH(e){var r=e.chart,t=e.options,n=og(t),i=n.interactions,a=n.statistic,o=n.annotations;return(0,d.S6)(i,function(s){var u,l;if(s.enable===!1)r.removeInteraction(s.type);else if(s.type==="pie-statistic-active"){var c=[];!((u=s.cfg)===null||u===void 0)&&u.start||(c=[{trigger:"element:mouseenter",action:ag+":change",arg:{statistic:a,annotations:o}}]),(0,d.S6)((l=s.cfg)===null||l===void 0?void 0:l.start,function(f){c.push((0,x.pi)((0,x.pi)({},f),{arg:{statistic:a,annotations:o}}))}),r.interaction(s.type,pe({},s.cfg,{start:c}))}else r.interaction(s.type,s.cfg||{})}),e}function ug(e){return or(yi("pieStyle"),xH,_H,Ar,EH,p1,SH,CH,Oo,sg,bH,Rr)(e)}var lg=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="pie",t}return r.getDefaultOptions=function(){return ig},r.prototype.changeData=function(t){this.chart.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this.chart,rr.BEFORE_CHANGE_DATA,null));var n=this.options,i=this.options.angleField,a=x0(n.data,i),o=x0(t,i);W2(a,i)||W2(o,i)?this.update({data:t}):(this.updateOption({data:t}),this.chart.data(o),sg({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this.chart,rr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ug},r}(hr),cg=["#FAAD14","#E8EDF3"],AH={percent:.2,color:cg,animation:{}};function Xf(e){var r=(0,d.uZ)(v1(e)?e:0,0,1);return[{current:""+r,type:"current",percent:r},{current:""+r,type:"target",percent:1}]}function fg(e){var r=e.chart,t=e.options,n=t.percent,i=t.progressStyle,a=t.color,o=t.barWidthRatio;r.data(Xf(n));var s=pe({},e,{options:{xField:"current",yField:"percent",seriesField:"type",widthRatio:o,interval:{style:i,color:(0,d.HD)(a)?[a,cg[1]]:a},args:{zIndexReversed:!0,sortZIndex:!0}}});return Pn(s),r.tooltip(!1),r.axis(!1),r.legend(!1),e}function MH(e){var r=e.chart;return r.coordinate("rect").transpose(),e}function hg(e){return or(fg,Jr({}),MH,Rr,Ar,Xr())(e)}var TH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="process",t}return r.getDefaultOptions=function(){return AH},r.prototype.changeData=function(t){this.updateOption({percent:t}),this.chart.changeData(Xf(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return hg},r}(hr);function wH(e){var r=e.chart,t=e.options,n=t.innerRadius,i=t.radius;return r.coordinate("theta",{innerRadius:n,radius:i}),e}function vg(e,r){var t=e.chart,n=e.options,i=n.innerRadius,a=n.statistic,o=n.percent,s=n.meta;if(t.getController("annotation").clear(!0),i&&a){var u=(0,d.U2)(s,["percent","formatter"])||function(c){return(c*100).toFixed(2)+"%"},l=a.content;l&&(l=pe({},l,{content:(0,d.UM)(l.content)?u(o):l.content})),P2(t,{statistic:(0,x.pi)((0,x.pi)({},a),{content:l}),plotType:"ring-progress"},{percent:o})}return r&&t.render(!0),e}function pg(e){return or(fg,Jr({}),wH,vg,Rr,Ar,Xr())(e)}var FH={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"}}},animation:{}},kH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="ring-process",t}return r.getDefaultOptions=function(){return FH},r.prototype.changeData=function(t){this.chart.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this.chart,rr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(Xf(t)),vg({chart:this.chart,options:this.options},!0),this.chart.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this.chart,rr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return pg},r}(hr),m1=F(44334),OH={exp:m1.regressionExp,linear:m1.regressionLinear,loess:m1.regressionLoess,log:m1.regressionLog,poly:m1.regressionPoly,pow:m1.regressionPow,quad:m1.regressionQuad};function LH(e,r){var t=10,n={regionStyle:[{position:{start:[e,"max"],end:["max",r]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[e,r]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",r],end:[e,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[e,r],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",r],offsetX:-t,offsetY:-t,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:-t,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",r],offsetX:t,offsetY:t,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",r],offsetX:-t,offsetY:t,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return n}var IH=function(e,r){var t=r.view,n=r.options,i=n.xField,a=n.yField,o=t.getScaleByField(i),s=t.getScaleByField(a),u=e.map(function(l){return t.getCoordinate().convert({x:o.scale(l[0]),y:s.scale(l[1])})});return Fz(u,!1)},PH=function(e){var r=e.options,t=r.xField,n=r.yField,i=r.data,a=r.regressionLine,o=a.type,s=o===void 0?"linear":o,u=a.algorithm,l;if(u)l=(0,d.kJ)(u)?u:u(i);else{var c=OH[s]().x(function(f){return f[t]}).y(function(f){return f[n]});l=c(i)}return IH(l,e)},RH=function(e){var r,t=e.meta,n=t===void 0?{}:t,i=e.xField,a=e.yField,o=e.data,s=o[0][i],u=o[0][a],l=s>0,c=u>0;function f(h,v){var p=(0,d.U2)(n,[h]);function g(m){return(0,d.U2)(p,m)}var y={};return v==="x"?((0,d.hj)(s)&&((0,d.hj)(g("min"))||(y.min=l?0:s*2),(0,d.hj)(g("max"))||(y.max=l?s*2:0)),y):((0,d.hj)(u)&&((0,d.hj)(g("min"))||(y.min=c?0:u*2),(0,d.hj)(g("max"))||(y.max=c?u*2:0)),y)}return(0,x.pi)((0,x.pi)({},n),(r={},r[i]=(0,x.pi)((0,x.pi)({},n[i]),f(i,"x")),r[a]=(0,x.pi)((0,x.pi)({},n[a]),f(a,"y")),r))};function dg(e){var r=e.data,t=r===void 0?[]:r,n=e.xField,i=e.yField;if(t.length){for(var a=!0,o=!0,s=t[0],u=void 0,l=1;l<t.length&&(u=t[l],s[n]!==u[n]&&(a=!1),s[i]!==u[i]&&(o=!1),!(!a&&!o));l++)s=u;var c=[];a&&c.push(n),o&&c.push(i);var f=Pr(RH(e),c);return pe({},e,{meta:f})}return e}function DH(e){var r=e.chart,t=e.options,n=t.data,i=t.type,a=t.color,o=t.shape,s=t.pointStyle,u=t.shapeField,l=t.colorField,c=t.xField,f=t.yField,h=t.sizeField,v=t.size,p=t.tooltip;h&&(v||(v=[2,8]),(0,d.hj)(v)&&(v=[v,v])),p&&!p.fields&&(p=(0,x.pi)((0,x.pi)({},p),{fields:[c,f,l,h,u]})),r.data(n),mi(pe({},e,{options:{seriesField:l,point:{color:a,shape:o,size:v,style:s},tooltip:p}}));var g=In(r,"point");return i&&g.adjust(i),e}function Y2(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=dg(t);return or(Jr((r={},r[a]=n,r[o]=i,r)))(pe({},e,{options:s}))}function BH(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return r.axis(a,n),r.axis(o,i),e}function NH(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.shapeField,o=t.sizeField,s=t.shapeLegend,u=t.sizeLegend,l=n!==!1;return i&&r.legend(i,l?n:!1),a&&(s?r.legend(a,s):r.legend(a,s===!1?!1:n)),o&&r.legend(o,u||!1),!l&&!s&&!u&&r.legend(!1),e}function ZH(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=In(r,"point");if(!n)a.label(!1);else{var o=n.callback,s=(0,x._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:Sn(s)})}return e}function zH(e){var r=e.options,t=r.quadrant,n=[];if(t){var i=t.xBaseline,a=i===void 0?0:i,o=t.yBaseline,s=o===void 0?0:o,u=t.labels,l=t.regionStyle,c=t.lineStyle,f=LH(a,s),h=new Array(4).join(",").split(",");h.forEach(function(v,p){n.push((0,x.pi)((0,x.pi)({type:"region",top:!1},f.regionStyle[p].position),{style:pe({},f.regionStyle[p].style,l==null?void 0:l[p])}),(0,x.pi)({type:"text",top:!0},pe({},f.labelStyle[p],u==null?void 0:u[p])))}),n.push({type:"line",top:!1,start:["min",s],end:["max",s],style:pe({},f.lineStyle,c)},{type:"line",top:!1,start:[a,"min"],end:[a,"max"],style:pe({},f.lineStyle,c)})}return or(Xr(n))(e)}function UH(e){var r=e.options,t=e.chart,n=r.regressionLine;if(n){var i=n.style,a=n.top,o=a===void 0?!1:a,s={stroke:"#9ba29a",lineWidth:2,opacity:.5};t.annotation().shape({top:o,render:function(u,l){var c=u.addGroup({id:t.id+"-regression-line",name:"regression-line-group"}),f=PH({view:l,options:r});c.addShape("path",{name:"regression-line",attrs:(0,x.pi)((0,x.pi)({path:f},s),i)})}})}return e}function HH(e){var r=e.chart,t=e.options,n=t.tooltip;return n?r.tooltip(n):n===!1&&r.tooltip(!1),e}function gg(e){return or(DH,Y2,BH,NH,HH,ZH,Dd,Qs,Bf,jr,zH,Rr,Ar,UH)(e)}var VH=pe({},hr.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}});lr("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]});var GH=function(e){(0,x.ZT)(r,e);function r(t,n){var i=e.call(this,t,n)||this;return i.type="scatter",i.on(rr.BEFORE_RENDER,function(a){var o,s,u=i,l=u.options,c=u.chart;if(((o=a.data)===null||o===void 0?void 0:o.source)===oi.FILTER){var f=i.chart.filterData(i.chart.getData());Y2({chart:c,options:(0,x.pi)((0,x.pi)({},l),{data:f})})}((s=a.data)===null||s===void 0?void 0:s.source)===oi.RESET&&Y2({chart:c,options:l})}),i}return r.getDefaultOptions=function(){return VH},r.prototype.changeData=function(t){this.updateOption(dg(pe({},this.options,{data:t})));var n=this,i=n.options,a=n.chart;Y2({chart:a,options:i}),this.chart.changeData(t)},r.prototype.getSchemaAdaptor=function(){return gg},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(hr),nu="$$stock-range$$",X2="trend",yg="up",mg="down",jH={showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0,text:function(e,r,t){var n;if(e==="x"){var i=t[0];n=i?i.title:r}else n=r;return{position:e==="y"?"start":"end",content:n,style:{fill:"#dfdfdf"}}},textBackground:{padding:[2,4],style:{fill:"#666"}}}},WH=pe({},hr.getDefaultOptions(),{tooltip:jH,interactions:[{type:"tooltip"}],legend:{position:"top-left"},risingFill:"#ef5350",fallingFill:"#26a69a"});function xg(e,r){return(0,d.UI)(e,function(t){var n=t&&(0,x.pi)({},t);if((0,d.kJ)(r)&&n){var i=r[0],a=r[1],o=r[2],s=r[3];n[X2]=n[i]<=n[a]?yg:mg,n[nu]=[n[i],n[a],n[o],n[s]]}return n})}function YH(e){var r=e.chart,t=e.options,n=t.yField,i=t.data,a=t.risingFill,o=t.fallingFill,s=t.tooltip,u=t.stockStyle;r.data(xg(i,n));var l=s;return l!==!1&&(l=pe({},{fields:n},l)),Nf(pe({},e,{options:{schema:{shape:"candle",color:[a,o],style:u},yField:nu,seriesField:X2,rawFields:n,tooltip:l}})),e}function XH(e){var r,t,n=e.chart,i=e.options,a=i.meta,o=i.xAxis,s=i.yAxis,u=i.xField,l=(r={},r[u]={type:"timeCat",tickCount:6},r[X2]={values:[yg,mg]},r),c=pe(l,a,(t={},t[u]=Pr(o,si),t[nu]=Pr(s,si),t));return n.scale(c),e}function $H(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(nu,!1):r.axis(nu,i),e}function qH(e){var r=e.chart,t=e.options,n=t.tooltip;return n!==!1?r.tooltip(n):r.tooltip(!1),e}function KH(e){var r=e.chart,t=e.options,n=t.legend;return n?r.legend(X2,n):n===!1&&r.legend(!1),e}function _g(e){or(Ar,YH,XH,$H,qH,KH,jr,Rr,Xr(),Qs)(e)}var QH=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="stock",t}return r.getDefaultOptions=function(){return WH},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return _g},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField;this.chart.changeData(xg(t,n))},r}(hr);function x1(e){return(0,d.UI)(e||[],function(r,t){return{x:""+t,y:r}})}var iu="x",C0="y",Eg={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,d.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},JH={appendPadding:2,tooltip:(0,x.pi)({},Eg),animation:{}};function tV(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.areaStyle,o=t.point,s=t.line,u=o==null?void 0:o.state,l=x1(n);r.data(l);var c=pe({},e,{options:{xField:iu,yField:C0,area:{color:i,style:a},line:s,point:o}}),f=pe({},c,{options:{tooltip:!1}}),h=pe({},c,{options:{tooltip:!1,state:u}});return Z2(c),E0(f),mi(h),r.axis(!1),r.legend(!1),e}function S0(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.data,s=x1(o);return or(Jr((r={},r[iu]=i,r[C0]=a,r),(t={},t[iu]={type:"cat"},t[C0]=kf(s,C0),t)))(e)}function Cg(e){return or(yi("areaStyle"),tV,S0,vn,Ar,Rr,Xr())(e)}var eV={appendPadding:2,tooltip:(0,x.pi)({},Eg),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},rV=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-area",t}return r.getDefaultOptions=function(){return eV},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;S0({chart:i,options:a}),i.changeData(x1(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Cg},r}(hr);function nV(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.columnStyle,o=t.columnWidthRatio,s=x1(n);r.data(s);var u=pe({},e,{options:{xField:iu,yField:C0,widthRatio:o,interval:{style:a,color:i}}});return Pn(u),r.axis(!1),r.legend(!1),r.interaction("element-active"),e}function Sg(e){return or(Ar,yi("columnStyle"),nV,S0,vn,Rr,Xr())(e)}var iV={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(e,r){return""+(0,d.U2)(r,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},aV={appendPadding:2,tooltip:(0,x.pi)({},iV),animation:{}},oV=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-column",t}return r.getDefaultOptions=function(){return aV},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;S0({chart:i,options:a}),i.changeData(x1(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Sg},r}(hr);function sV(e){var r=e.chart,t=e.options,n=t.data,i=t.color,a=t.lineStyle,o=t.point,s=o==null?void 0:o.state,u=x1(n);r.data(u);var l=pe({},e,{options:{xField:iu,yField:C0,line:{color:i,style:a},point:o}}),c=pe({},l,{options:{tooltip:!1,state:s}});return E0(l),mi(c),r.axis(!1),r.legend(!1),e}function bg(e){return or(sV,S0,Ar,vn,Rr,Xr())(e)}var uV=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="tiny-line",t}return r.getDefaultOptions=function(){return JH},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this,i=n.chart,a=n.options;S0({chart:i,options:a}),i.changeData(x1(t))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return bg},r}(hr),lV={line:Id,pie:ug,column:V2,bar:Nd,area:Pd,gauge:tg,"tiny-line":bg,"tiny-column":Sg,"tiny-area":Cg,"ring-progress":pg,progress:hg,scatter:gg,histogram:ng,funnel:Yd,stock:_g},cV={line:hH,pie:lg,column:zd,bar:Zd,area:eU,gauge:rH,"tiny-line":uV,"tiny-column":oV,"tiny-area":rV,"ring-progress":kH,progress:TH,scatter:GH,histogram:lH,funnel:XU,stock:QH},fV={pie:{label:!1},column:{tooltip:{showMarkers:!1}},bar:{tooltip:{showMarkers:!1}}};function $f(e,r,t){var n=cV[e];if(!n){console.error("could not find "+e+" plot");return}var i=lV[e];i({chart:r,options:pe({},n.getDefaultOptions(),(0,d.U2)(fV,e,{}),t)})}function hV(e){var r=e.chart,t=e.options,n=t.views,i=t.legend;return(0,d.S6)(n,function(a){var o=a.region,s=a.data,u=a.meta,l=a.axes,c=a.coordinate,f=a.interactions,h=a.annotations,v=a.tooltip,p=a.geometries,g=r.createView({region:o});g.data(s);var y={};l&&(0,d.S6)(l,function(m,E){y[E]=Pr(m,si)}),y=pe({},u,y),g.scale(y),l?(0,d.S6)(l,function(m,E){g.axis(E,m)}):g.axis(!1),g.coordinate(c),(0,d.S6)(p,function(m){var E=ui({chart:g,options:m}).ext,C=m.adjust;C&&E.geometry.adjust(C)}),(0,d.S6)(f,function(m){m.enable===!1?g.removeInteraction(m.type):g.interaction(m.type,m.cfg)}),(0,d.S6)(h,function(m){g.annotation()[m.type]((0,x.pi)({},m))}),typeof a.animation=="boolean"?g.animate(!1):(g.animate(!0),(0,d.S6)(g.geometries,function(m){m.animate(a.animation)})),v&&(g.interaction("tooltip"),g.tooltip(v))}),i?(0,d.S6)(i,function(a,o){r.legend(o,a)}):r.legend(!1),r.tooltip(t.tooltip),e}function vV(e){var r=e.chart,t=e.options,n=t.plots,i=t.data,a=i===void 0?[]:i;return(0,d.S6)(n,function(o){var s=o.type,u=o.region,l=o.options,c=l===void 0?{}:l,f=o.top,h=c.tooltip;if(f){$f(s,r,(0,x.pi)((0,x.pi)({},c),{data:a}));return}var v=r.createView((0,x.pi)({region:u},Pr(c,Fd)));h&&v.interaction("tooltip"),$f(s,v,(0,x.pi)({data:a},c))}),e}function pV(e){var r=e.chart,t=e.options;return r.option("slider",t.slider),e}function dV(e){return or(Rr,hV,vV,jr,Rr,Ar,vn,pV,Xr())(e)}function gV(e,r){var t=e.getModel(),n=t.data,i;return(0,d.kJ)(n)?i=n[0][r]:i=n[r],i}function yV(e){var r=L2(e);(0,d.S6)(r,function(t){t.hasState("active")&&t.setState("active",!1),t.hasState("selected")&&t.setState("selected",!1),t.hasState("inactive")&&t.setState("inactive",!1)})}var mV=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getAssociationItems=function(t,n){var i,a=this.context.event,o=n||{},s=o.linkField,u=o.dim,l=[];if(!((i=a.data)===null||i===void 0)&&i.data){var c=a.data.data;(0,d.S6)(t,function(f){var h,v,p=s;if(u==="x"?p=f.getXScale().field:u==="y"?p=(h=f.getYScales().find(function(y){return y.field===p}))===null||h===void 0?void 0:h.field:p||(p=(v=f.getGroupScales()[0])===null||v===void 0?void 0:v.field),!!p){var g=(0,d.UI)(L2(f),function(y){var m=!1,E=!1,C=(0,d.kJ)(c)?(0,d.U2)(c[0],p):(0,d.U2)(c,p);return gV(y,p)===C?m=!0:E=!0,{element:y,view:f,active:m,inactive:E}});l.push.apply(l,g)}})}return l},r.prototype.showTooltip=function(t){var n=Ed(this.context.view),i=this.getAssociationItems(n,t);(0,d.S6)(i,function(a){if(a.active){var o=a.element.shape.getCanvasBBox();a.view.showTooltip({x:o.minX+o.width/2,y:o.minY+o.height/2})}})},r.prototype.hideTooltip=function(){var t=Ed(this.context.view);(0,d.S6)(t,function(n){n.hideTooltip()})},r.prototype.active=function(t){var n=qs(this.context.view),i=this.getAssociationItems(n,t);(0,d.S6)(i,function(a){var o=a.active,s=a.element;o&&s.setState("active",!0)})},r.prototype.selected=function(t){var n=qs(this.context.view),i=this.getAssociationItems(n,t);(0,d.S6)(i,function(a){var o=a.active,s=a.element;o&&s.setState("selected",!0)})},r.prototype.highlight=function(t){var n=qs(this.context.view),i=this.getAssociationItems(n,t);(0,d.S6)(i,function(a){var o=a.inactive,s=a.element;o&&s.setState("inactive",!0)})},r.prototype.reset=function(){var t=qs(this.context.view);(0,d.S6)(t,function(n){yV(n)})},r}(Vr);Je("association",mV),lr("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),lr("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),lr("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),lr("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var xV=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="mix",t}return r.prototype.getSchemaAdaptor=function(){return dV},r}(hr),b0;(function(e){e.DEV="DEV",e.BETA="BETA",e.STABLE="STABLE"})(b0||(b0={}));function _V(e,r){console.warn(e===b0.DEV?"Plot '"+r+"' is in DEV stage, just give us issues.":e===b0.BETA?"Plot '"+r+"' is in BETA stage, DO NOT use it in production env.":e===b0.STABLE?"Plot '"+r+`' is in STABLE stage, import it by "import { `+r+` } from '@antv/g2plot'".`:"invalid Stage type.")}var L9t=function(){function e(){}return Object.defineProperty(e,"MultiView",{get:function(){return _V(b0.STABLE,"MultiView"),xV},enumerable:!1,configurable:!0}),e}(),Aa="first-axes-view",Ma="second-axes-view",_1="series-field-key";function Ag(e,r,t,n,i){var a=[];r.forEach(function(f){n.forEach(function(h){var v,p=(v={},v[e]=h[e],v[t]=f,v[f]=h[f],v);a.push(p)})});var o=Object.values((0,d.vM)(a,t)),s=o[0],u=s===void 0?[]:s,l=o[1],c=l===void 0?[]:l;return i?[u.reverse(),c.reverse()]:[u,c]}function qa(e){return e!=="vertical"}function EV(e,r,t){var n=r[0],i=r[1],a=n.autoPadding,o=i.autoPadding,s=e.__axisPosition,u=s.layout,l=s.position;if(qa(u)&&l==="top"&&(n.autoPadding=t.instance(a.top,0,a.bottom,a.left),i.autoPadding=t.instance(o.top,a.left,o.bottom,0)),qa(u)&&l==="bottom"&&(n.autoPadding=t.instance(a.top,a.right/2+5,a.bottom,a.left),i.autoPadding=t.instance(o.top,o.right,o.bottom,a.right/2+5)),!qa(u)&&l==="bottom"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=t.instance(a.top,a.right,a.bottom/2+5,c),i.autoPadding=t.instance(a.bottom/2+5,o.right,o.bottom,c)}if(!qa(u)&&l==="top"){var c=a.left>=o.left?a.left:o.left;n.autoPadding=t.instance(a.top,a.right,0,c),i.autoPadding=t.instance(0,o.right,a.top,c)}}function CV(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.color,s=t.barStyle,u=t.widthRatio,l=t.legend,c=t.layout,f=Ag(i,a,_1,n,qa(c));l?r.legend(_1,l):l===!1&&r.legend(!1);var h,v,p=f[0],g=f[1];qa(c)?(h=r.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:Aa}),h.coordinate().transpose().reflect("x"),v=r.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:Ma}),v.coordinate().transpose(),h.data(p),v.data(g)):(h=r.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:Aa}),v=r.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:Ma}),v.coordinate().reflect("y"),h.data(p),v.data(g));var y=pe({},e,{chart:h,options:{widthRatio:u,xField:i,yField:a[0],seriesField:_1,interval:{color:o,style:s}}});Pn(y);var m=pe({},e,{chart:v,options:{xField:i,yField:a[1],seriesField:_1,widthRatio:u,interval:{color:o,style:s}}});return Pn(m),e}function SV(e){var r,t,n,i=e.options,a=e.chart,o=i.xAxis,s=i.yAxis,u=i.xField,l=i.yField,c=gr(a,Aa),f=gr(a,Ma),h={};return(0,d.XP)((i==null?void 0:i.meta)||{}).map(function(v){(0,d.U2)(i==null?void 0:i.meta,[v,"alias"])&&(h[v]=i.meta[v].alias)}),a.scale((r={},r[_1]={sync:!0,formatter:function(v){return(0,d.U2)(h,v,v)}},r)),Jr((t={},t[u]=o,t[l[0]]=s[l[0]],t))(pe({},e,{chart:c})),Jr((n={},n[u]=o,n[l[1]]=s[l[1]],n))(pe({},e,{chart:f})),e}function bV(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=t.layout,u=gr(r,Aa),l=gr(r,Ma);return(n==null?void 0:n.position)==="bottom"?l.axis(a,(0,x.pi)((0,x.pi)({},n),{label:{formatter:function(){return""}}})):l.axis(a,!1),n===!1?u.axis(a,!1):u.axis(a,(0,x.pi)({position:qa(s)?"top":"bottom"},n)),i===!1?(u.axis(o[0],!1),l.axis(o[1],!1)):(u.axis(o[0],i[o[0]]),l.axis(o[1],i[o[1]])),r.__axisPosition={position:u.getOptions().axes[a].position,layout:s},e}function AV(e){var r=e.chart;return jr(pe({},e,{chart:gr(r,Aa)})),jr(pe({},e,{chart:gr(r,Ma)})),e}function MV(e){var r=e.chart,t=e.options,n=t.yField,i=t.yAxis;return d1(pe({},e,{chart:gr(r,Aa),options:{yAxis:i[n[0]]}})),d1(pe({},e,{chart:gr(r,Ma),options:{yAxis:i[n[1]]}})),e}function TV(e){var r=e.chart;return Ar(pe({},e,{chart:gr(r,Aa)})),Ar(pe({},e,{chart:gr(r,Ma)})),Ar(e),e}function wV(e){var r=e.chart;return Rr(pe({},e,{chart:gr(r,Aa)})),Rr(pe({},e,{chart:gr(r,Ma)})),e}function FV(e){var r=this,t,n,i=e.chart,a=e.options,o=a.label,s=a.yField,u=a.layout,l=gr(i,Aa),c=gr(i,Ma),f=In(l,"interval"),h=In(c,"interval");if(!o)f.label(!1),h.label(!1);else{var v=o.callback,p=(0,x._T)(o,["callback"]);p.position||(p.position="middle"),p.offset===void 0&&(p.offset=2);var g=(0,x.pi)({},p);if(qa(u)){var y=((t=g.style)===null||t===void 0?void 0:t.textAlign)||(p.position==="middle"?"center":"left");p.style=pe({},p.style,{textAlign:y});var m={left:"right",right:"left",center:"center"};g.style=pe({},g.style,{textAlign:m[y]})}else{var E={top:"bottom",bottom:"top",middle:"middle"};typeof p.position=="string"?p.position=E[p.position]:typeof p.position=="function"&&(p.position=function(){for(var M=[],Z=0;Z<arguments.length;Z++)M[Z]=arguments[Z];return E[p.position.apply(r,M)]});var C=((n=g.style)===null||n===void 0?void 0:n.textBaseline)||"bottom";g.style=pe({},g.style,{textBaseline:C});var A={top:"bottom",bottom:"top",middle:"middle"};p.style=pe({},p.style,{textBaseline:A[C]})}f.label({fields:[s[0]],callback:v,cfg:Sn(g)}),h.label({fields:[s[1]],callback:v,cfg:Sn(p)})}return e}function kV(e){return or(CV,SV,bV,MV,TV,FV,vn,AV,wV)(e)}var I9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bidirectional-bar",t}return r.getDefaultOptions=function(){return pe({},e.getDefaultOptions.call(this),{syncViewPadding:EV})},r.prototype.changeData=function(t){t===void 0&&(t=[]),this.chart.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this.chart,rr.BEFORE_CHANGE_DATA,null)),this.updateOption({data:t});var n=this.options,i=n.xField,a=n.yField,o=n.layout,s=Ag(i,a,_1,t,qa(o)),u=s[0],l=s[1],c=gr(this.chart,Aa),f=gr(this.chart,Ma);c.data(u),f.data(l),this.chart.render(!0),this.chart.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this.chart,rr.AFTER_CHANGE_DATA,null))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return kV},r.SERIES_FIELD_KEY=_1,r}(hr),qf,A0="$$range$$",OV="low-q1-median-q3-high",LV="$$y_outliers$$",Mg="outliers_view",IV=pe({},hr.getDefaultOptions(),{meta:(qf={},qf[A0]={min:0,alias:OV},qf),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,shared:!0},boxStyle:{lineWidth:1}}),Tg=function(e,r){var t=e;if(Array.isArray(r)){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4];t=(0,d.UI)(e,function(u){return u[A0]=[u[n],u[i],u[a],u[o],u[s]],u})}return t};function PV(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.groupField,o=t.color,s=t.tooltip,u=t.boxStyle;r.data(Tg(t.data,i));var l=(0,d.kJ)(i)?A0:i,c=i?(0,d.kJ)(i)?i:[i]:[],f=s;f!==!1&&(f=pe({},{fields:(0,d.kJ)(i)?i:[]},f));var h=Nf(pe({},e,{options:{xField:n,yField:l,seriesField:a,tooltip:f,rawFields:c,label:!1,schema:{shape:"box",color:o,style:u}}})).ext;return a&&h.geometry.adjust("dodge"),e}function RV(e){var r=e.chart,t=e.options,n=t.xField,i=t.data,a=t.outliersField,o=t.outliersStyle,s=t.padding,u=t.label;if(!a)return e;var l=r.createView({padding:s,id:Mg}),c=i.reduce(function(f,h){var v=h[a];return v.forEach(function(p){var g;return f.push((0,x.pi)((0,x.pi)({},h),(g={},g[a]=p,g)))}),f},[]);return l.data(c),mi({chart:l,options:{xField:n,yField:a,point:{shape:"circle",style:o},label:u}}),l.axis(!1),e}function DV(e){var r,t,n=e.chart,i=e.options,a=i.meta,o=i.xAxis,s=i.yAxis,u=i.xField,l=i.yField,c=i.outliersField,f=Array.isArray(l)?A0:l,h={};if(c){var v=LV;h=(r={},r[c]={sync:v,nice:!0},r[f]={sync:v,nice:!0},r)}var p=pe(h,a,(t={},t[u]=Pr(o,si),t[f]=Pr(s,si),t));return n.scale(p),e}function BV(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField,s=Array.isArray(o)?A0:o;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(A0,!1):r.axis(s,i),e}function NV(e){var r=e.chart,t=e.options,n=t.legend,i=t.groupField;return i?n?r.legend(i,n):r.legend(i,{position:"bottom"}):r.legend(!1),e}function ZV(e){return or(PV,RV,DV,BV,NV,vn,Xr(),jr,Rr,Ar)(e)}var P9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="box",t}return r.getDefaultOptions=function(){return IV},r.prototype.changeData=function(t){this.updateOption({data:t});var n=this.options.yField,i=this.chart.views.find(function(a){return a.id===Mg});i&&i.data(t),this.chart.changeData(Tg(t,n))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return ZV},r}(hr);function wg(e,r,t){return e.length>1?r+"_"+t:""+r}function Fg(e){var r=e.data,t=e.xField,n=e.measureField,i=e.rangeField,a=e.targetField,o=e.layout,s=[],u=[];r.forEach(function(f,h){var v=[f[i]].flat();v.sort(function(y,m){return y-m}),v.forEach(function(y,m){var E,C=m===0?y:v[m]-v[m-1];s.push((E={rKey:i+"_"+m},E[t]=t?f[t]:String(h),E[i]=C,E))});var p=[f[n]].flat();p.forEach(function(y,m){var E;s.push((E={mKey:wg(p,n,m)},E[t]=t?f[t]:String(h),E[n]=y,E))});var g=[f[a]].flat();g.forEach(function(y,m){var E;s.push((E={tKey:wg(g,a,m)},E[t]=t?f[t]:String(h),E[a]=y,E))}),u.push(f[i],f[n],f[a])});var l=Math.min.apply(Math,u.flat(1/0)),c=Math.max.apply(Math,u.flat(1/0));return l=l>0?0:l,o==="vertical"&&s.reverse(),{min:l,max:c,ds:s}}function zV(e){var r=e.chart,t=e.options,n=t.bulletStyle,i=t.targetField,a=t.rangeField,o=t.measureField,s=t.xField,u=t.color,l=t.layout,c=t.size,f=t.label,h=Fg(t),v=h.min,p=h.max,g=h.ds;r.data(g);var y=pe({},e,{options:{xField:s,yField:a,seriesField:"rKey",isStack:!0,label:(0,d.U2)(f,"range"),interval:{color:(0,d.U2)(u,"range"),style:(0,d.U2)(n,"range"),size:(0,d.U2)(c,"range")}}});Pn(y),r.geometries[0].tooltip(!1);var m=pe({},e,{options:{xField:s,yField:o,seriesField:"mKey",isStack:!0,label:(0,d.U2)(f,"measure"),interval:{color:(0,d.U2)(u,"measure"),style:(0,d.U2)(n,"measure"),size:(0,d.U2)(c,"measure")}}});Pn(m);var E=pe({},e,{options:{xField:s,yField:i,seriesField:"tKey",label:(0,d.U2)(f,"target"),point:{color:(0,d.U2)(u,"target"),style:(0,d.U2)(n,"target"),size:(0,d.mf)((0,d.U2)(c,"target"))?function(C){return(0,d.U2)(c,"target")(C)/2}:(0,d.U2)(c,"target")/2,shape:l==="horizontal"?"line":"hyphen"}}});return mi(E),l==="horizontal"&&r.coordinate().transpose(),(0,x.pi)((0,x.pi)({},e),{ext:{data:{min:v,max:p}}})}function kg(e){var r,t,n=e.options,i=e.ext,a=n.xAxis,o=n.yAxis,s=n.targetField,u=n.rangeField,l=n.measureField,c=n.xField,f=i.data;return or(Jr((r={},r[c]=a,r[l]=o,r),(t={},t[l]={min:f==null?void 0:f.min,max:f==null?void 0:f.max,sync:!0},t[s]={sync:""+l},t[u]={sync:""+l},t)))(e)}function UV(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.measureField,s=t.rangeField,u=t.targetField;return r.axis(""+s,!1),r.axis(""+u,!1),n===!1?r.axis(""+a,!1):r.axis(""+a,n),i===!1?r.axis(""+o,!1):r.axis(""+o,i),e}function HV(e){var r=e.chart,t=e.options,n=t.legend;return r.removeInteraction("legend-filter"),r.legend(n),r.legend("rKey",!1),r.legend("mKey",!1),r.legend("tKey",!1),e}function VV(e){var r=e.chart,t=e.options,n=t.label,i=t.measureField,a=t.targetField,o=t.rangeField,s=r.geometries,u=s[0],l=s[1],c=s[2];return(0,d.U2)(n,"range")?u.label(""+o,(0,x.pi)({layout:[{type:"limit-in-plot"}]},Sn(n.range))):u.label(!1),(0,d.U2)(n,"measure")?l.label(""+i,(0,x.pi)({layout:[{type:"limit-in-plot"}]},Sn(n.measure))):l.label(!1),(0,d.U2)(n,"target")?c.label(""+a,(0,x.pi)({layout:[{type:"limit-in-plot"}]},Sn(n.target))):c.label(!1),e}function GV(e){or(zV,kg,UV,HV,Ar,VV,vn,jr,Rr)(e)}var jV=pe({},hr.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),R9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="bullet",t}return r.getDefaultOptions=function(){return jV},r.prototype.changeData=function(t){this.updateOption({data:t});var n=Fg(this.options),i=n.min,a=n.max,o=n.ds;kg({options:this.options,ext:{data:{min:i,max:a}},chart:this.chart}),this.chart.changeData(o)},r.prototype.getSchemaAdaptor=function(){return GV},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(hr),WV={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(e){return e.id},source:function(e){return e.source},target:function(e){return e.target},sourceWeight:function(e){return e.value||1},targetWeight:function(e){return e.value||1},sortBy:null};function YV(e,r,t){(0,d.U5)(e,function(n,i){n.inEdges=r.filter(function(a){return""+t.target(a)==""+i}),n.outEdges=r.filter(function(a){return""+t.source(a)==""+i}),n.edges=n.outEdges.concat(n.inEdges),n.frequency=n.edges.length,n.value=0,n.inEdges.forEach(function(a){n.value+=t.targetWeight(a)}),n.outEdges.forEach(function(a){n.value+=t.sourceWeight(a)})})}function XV(e,r){var t={weight:function(i,a){return a.value-i.value},frequency:function(i,a){return a.frequency-i.frequency},id:function(i,a){return(""+r.id(i)).localeCompare(""+r.id(a))}},n=t[r.sortBy];!n&&(0,d.mf)(r.sortBy)&&(n=r.sortBy),n&&e.sort(n)}function $V(e,r){var t=e.length;if(!t)throw new TypeError("Invalid nodes: it's empty!");if(r.weight){var n=r.nodePaddingRatio;if(n<0||n>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var i=n/(2*t),a=r.nodeWidthRatio;if(a<=0||a>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var o=0;e.forEach(function(u){o+=u.value}),e.forEach(function(u){u.weight=u.value/o,u.width=u.weight*(1-n),u.height=a}),e.forEach(function(u,l){for(var c=0,f=l-1;f>=0;f--)c+=e[f].width+2*i;var h=u.minX=i+c,v=u.maxX=u.minX+u.width,p=u.minY=r.y-a/2,g=u.maxY=p+a;u.x=[h,v,v,h],u.y=[p,p,g,g]})}else{var s=1/t;e.forEach(function(u,l){u.x=(l+.5)*s,u.y=r.y})}return e}function qV(e,r,t){if(t.weight){var n={};(0,d.U5)(e,function(i,a){n[a]=i.value}),r.forEach(function(i){var a=t.source(i),o=t.target(i),s=e[a],u=e[o];if(s&&u){var l=n[a],c=t.sourceWeight(i),f=s.minX+(s.value-l)/s.value*s.width,h=f+c/s.value*s.width;n[a]-=c;var v=n[o],p=t.targetWeight(i),g=u.minX+(u.value-v)/u.value*u.width,y=g+p/u.value*u.width;n[o]-=p;var m=t.y;i.x=[f,h,g,y],i.y=[m,m,m,m],i.source=s,i.target=u}})}else r.forEach(function(i){var a=e[t.source(i)],o=e[t.target(i)];a&&o&&(i.x=[a.x,o.x],i.y=[a.y,o.y],i.source=a,i.target=o)});return r}function KV(e){return(0,d.f0)({},WV,e)}function QV(e,r){var t=KV(e),n={},i=r.nodes,a=r.links;i.forEach(function(u){var l=t.id(u);n[l]=u}),YV(n,a,t),XV(i,t);var o=$V(i,t),s=qV(n,a,t);return{nodes:o,links:s}}var Og="x",Lg="y",Ig="name",Pg="source",JV={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(e,r){var t=(e[0]+e[1])/2,n=t>.5?-4:4;return{offsetX:n,content:r}},labelEmit:!0,style:{fill:"#8c8c8c"}},tooltip:{showTitle:!1,showMarkers:!1,fields:["source","target","value","isNode"],showContent:function(e){return!(0,d.U2)(e,[0,"data","isNode"])},formatter:function(e){var r=e.source,t=e.target,n=e.value;return{name:r+" -> "+t,value:n}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function tG(e){var r=e.options,t=r.data,n=r.sourceField,i=r.targetField,a=r.weightField,o=r.nodePaddingRatio,s=r.nodeWidthRatio,u=r.rawFields,l=u===void 0?[]:u,c=vd(t,n,i,a),f=QV({weight:!0,nodePaddingRatio:o,nodeWidthRatio:s},c),h=f.nodes,v=f.links,p=h.map(function(y){return(0,x.pi)((0,x.pi)({},Pr(y,(0,x.pr)(["id","x","y","name"],l))),{isNode:!0})}),g=v.map(function(y){return(0,x.pi)((0,x.pi)({source:y.source.name,target:y.target.name,name:y.source.name||y.target.name},Pr(y,(0,x.pr)(["x","y","value"],l))),{isNode:!1})});return(0,x.pi)((0,x.pi)({},e),{ext:(0,x.pi)((0,x.pi)({},e.ext),{chordData:{nodesData:p,edgesData:g}})})}function eG(e){var r,t=e.chart;return t.scale((r={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},r[Ig]={sync:"color"},r[Pg]={sync:"color"},r)),e}function rG(e){var r=e.chart;return r.axis(!1),e}function nG(e){var r=e.chart;return r.legend(!1),e}function iG(e){var r=e.chart,t=e.options,n=t.tooltip;return r.tooltip(n),e}function aG(e){var r=e.chart;return r.coordinate("polar").reflect("y"),e}function oG(e){var r=e.chart,t=e.options,n=e.ext.chordData.nodesData,i=t.nodeStyle,a=t.label,o=t.tooltip,s=r.createView();return s.data(n),z2({chart:s,options:{xField:Og,yField:Lg,seriesField:Ig,polygon:{style:i},label:a,tooltip:o}}),e}function sG(e){var r=e.chart,t=e.options,n=e.ext.chordData.edgesData,i=t.edgeStyle,a=t.tooltip,o=r.createView();o.data(n);var s={xField:Og,yField:Lg,seriesField:Pg,edge:{style:i,shape:"arc"},tooltip:a};return Td({chart:o,options:s}),e}function uG(e){var r=e.chart,t=e.options,n=t.animation;return Ks(r,n,Sz(r)),e}function lG(e){return or(Ar,tG,aG,eG,rG,nG,iG,sG,oG,jr,Oo,uG)(e)}var D9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="chord",t}return r.getDefaultOptions=function(){return JV},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return lG},r}(hr),cG=["x","y","r","name","value","path","depth"],fG={colorField:"name",autoFit:!0,pointStyle:{lineWidth:0,stroke:"#fff"},legend:!1,hierarchyConfig:{size:[1,1],padding:0},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1}},Rg=4,hG=0,Dg=5,Bg="drilldown-bread-crumb",vG={position:"top-left",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}},au="hierarchy-data-transform-params",pG=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.name="drill-down",t.historyCache=[],t.breadCrumbGroup=null,t.breadCrumbCfg=vG,t}return r.prototype.click=function(){var t=(0,d.U2)(this.context,["event","data","data"]);if(!t)return!1;this.drill(t),this.drawBreadCrumb()},r.prototype.resetPosition=function(){if(this.breadCrumbGroup){var t=this.context.view.getCoordinate(),n=this.breadCrumbGroup,i=n.getBBox(),a=this.getButtonCfg().position,o={x:t.start.x,y:t.end.y-(i.height+Dg*2)};t.isPolar&&(o={x:0,y:0}),a==="bottom-left"&&(o={x:t.start.x,y:t.start.y});var s=ai.transform(null,[["t",o.x+hG,o.y+i.height+Dg]]);n.setMatrix(s)}},r.prototype.back=function(){(0,d.dp)(this.historyCache)&&this.backTo(this.historyCache.slice(0,-1))},r.prototype.reset=function(){this.historyCache[0]&&this.backTo(this.historyCache.slice(0,1)),this.historyCache=[],this.hideCrumbGroup()},r.prototype.drill=function(t){var n=this.context.view,i=(0,d.U2)(n,["interactions","drill-down","cfg","transformData"],function(l){return l}),a=i((0,x.pi)({data:t.data},t[au]));n.changeData(a);for(var o=[],s=t;s;){var u=s.data;o.unshift({id:u.name+"_"+s.height+"_"+s.depth,name:u.name,children:i((0,x.pi)({data:u},t[au]))}),s=s.parent}this.historyCache=(this.historyCache||[]).slice(0,-1).concat(o)},r.prototype.backTo=function(t){if(!(!t||t.length<=0)){var n=this.context.view,i=(0,d.Z$)(t).children;n.changeData(i),t.length>1?(this.historyCache=t,this.drawBreadCrumb()):(this.historyCache=[],this.hideCrumbGroup())}},r.prototype.getButtonCfg=function(){var t=this.context.view,n=(0,d.U2)(t,["interactions","drill-down","cfg","drillDownConfig"]);return pe(this.breadCrumbCfg,n==null?void 0:n.breadCrumb,this.cfg)},r.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},r.prototype.drawBreadCrumbGroup=function(){var t=this,n=this.getButtonCfg(),i=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:Bg});var a=0;i.forEach(function(o,s){var u=t.breadCrumbGroup.addShape({type:"text",id:o.id,name:Bg+"_"+o.name+"_text",attrs:(0,x.pi)((0,x.pi)({text:s===0&&!(0,d.UM)(n.rootText)?n.rootText:o.name},n.textStyle),{x:a,y:0})}),l=u.getBBox();if(a+=l.width+Rg,u.on("click",function(h){var v,p=h.target.get("id");if(p!==((v=(0,d.Z$)(i))===null||v===void 0?void 0:v.id)){var g=i.slice(0,i.findIndex(function(y){return y.id===p})+1);t.backTo(g)}}),u.on("mouseenter",function(h){var v,p=h.target.get("id");p!==((v=(0,d.Z$)(i))===null||v===void 0?void 0:v.id)?u.attr(n.activeTextStyle):u.attr({cursor:"default"})}),u.on("mouseleave",function(){u.attr(n.textStyle)}),s<i.length-1){var c=t.breadCrumbGroup.addShape({type:"text",name:n.name+"_"+o.name+"_divider",attrs:(0,x.pi)((0,x.pi)({text:n.dividerText},n.textStyle),{x:a,y:0})}),f=c.getBBox();a+=f.width+Rg}})},r.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},r.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),e.prototype.destroy.call(this)},r}(Vr);function dG(e){return ps()(e)==="object"&&"length"in e?e:Array.from(e)}function gG(e){for(var r=e.length,t,n;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}function Ng(e){for(var r=0,t=(e=gG(Array.from(e))).length,n=[],i,a;r<t;)i=e[r],a&&Zg(a,i)?++r:(a=mG(n=yG(n,i)),r=0);return a}function yG(e,r){var t,n;if(Kf(r,e))return[r];for(t=0;t<e.length;++t)if($2(r,e[t])&&Kf(ou(e[t],r),e))return[e[t],r];for(t=0;t<e.length-1;++t)for(n=t+1;n<e.length;++n)if($2(ou(e[t],e[n]),r)&&$2(ou(e[t],r),e[n])&&$2(ou(e[n],r),e[t])&&Kf(zg(e[t],e[n],r),e))return[e[t],e[n],r];throw new Error}function $2(e,r){var t=e.r-r.r,n=r.x-e.x,i=r.y-e.y;return t<0||t*t<n*n+i*i}function Zg(e,r){var t=e.r-r.r+Math.max(e.r,r.r,1)*1e-9,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function Kf(e,r){for(var t=0;t<r.length;++t)if(!Zg(e,r[t]))return!1;return!0}function mG(e){switch(e.length){case 1:return xG(e[0]);case 2:return ou(e[0],e[1]);case 3:return zg(e[0],e[1],e[2])}}function xG(e){return{x:e.x,y:e.y,r:e.r}}function ou(e,r){var t=e.x,n=e.y,i=e.r,a=r.x,o=r.y,s=r.r,u=a-t,l=o-n,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(t+a+u/f*c)/2,y:(n+o+l/f*c)/2,r:(f+i+s)/2}}function zg(e,r,t){var n=e.x,i=e.y,a=e.r,o=r.x,s=r.y,u=r.r,l=t.x,c=t.y,f=t.r,h=n-o,v=n-l,p=i-s,g=i-c,y=u-a,m=f-a,E=n*n+i*i-a*a,C=E-o*o-s*s+u*u,A=E-l*l-c*c+f*f,M=v*p-h*g,Z=(p*A-g*C)/(M*2)-n,Y=(g*y-p*m)/M,st=(v*C-h*A)/(M*2)-i,Ct=(h*m-v*y)/M,Pt=Y*Y+Ct*Ct-1,Zt=2*(a+Z*Y+st*Ct),ie=Z*Z+st*st-a*a,ce=-(Pt?(Zt+Math.sqrt(Zt*Zt-4*Pt*ie))/(2*Pt):ie/Zt);return{x:n+Z+Y*ce,y:i+st+Ct*ce,r:ce}}function Ug(e,r,t){var n=e.x-r.x,i,a,o=e.y-r.y,s,u,l=n*n+o*o;l?(a=r.r+t.r,a*=a,u=e.r+t.r,u*=u,a>u?(i=(l+u-a)/(2*l),s=Math.sqrt(Math.max(0,u/l-i*i)),t.x=e.x-i*n-s*o,t.y=e.y-i*o+s*n):(i=(l+a-u)/(2*l),s=Math.sqrt(Math.max(0,a/l-i*i)),t.x=r.x+i*n-s*o,t.y=r.y+i*o+s*n)):(t.x=r.x+t.r,t.y=r.y)}function Hg(e,r){var t=e.r+r.r-1e-6,n=r.x-e.x,i=r.y-e.y;return t>0&&t*t>n*n+i*i}function Vg(e){var r=e._,t=e.next._,n=r.r+t.r,i=(r.x*t.r+t.x*r.r)/n,a=(r.y*t.r+t.y*r.r)/n;return i*i+a*a}function q2(e){this._=e,this.next=null,this.previous=null}function Gg(e){if(!(i=(e=dG(e)).length))return 0;var r,t,n,i,a,o,s,u,l,c,f;if(r=e[0],r.x=0,r.y=0,!(i>1))return r.r;if(t=e[1],r.x=-t.r,t.x=r.r,t.y=0,!(i>2))return r.r+t.r;Ug(t,r,n=e[2]),r=new q2(r),t=new q2(t),n=new q2(n),r.next=n.previous=t,t.next=r.previous=n,n.next=t.previous=r;t:for(s=3;s<i;++s){Ug(r._,t._,n=e[s]),n=new q2(n),u=t.next,l=r.previous,c=t._.r,f=r._.r;do if(c<=f){if(Hg(u._,n._)){t=u,r.next=t,t.previous=r,--s;continue t}c+=u._.r,u=u.next}else{if(Hg(l._,n._)){r=l,r.next=t,t.previous=r,--s;continue t}f+=l._.r,l=l.previous}while(u!==l.next);for(n.previous=r,n.next=t,r.next=t.previous=t=n,a=Vg(r);(n=n.next)!==t;)(o=Vg(n))<a&&(r=n,a=o);t=r.next}for(r=[t._],n=t;(n=n.next)!==t;)r.push(n._);for(n=Ng(r),s=0;s<i;++s)r=e[s],r.x-=n.x,r.y-=n.y;return n.r}function _G(e){return Gg(e),e}function EG(e){return e==null?null:K2(e)}function K2(e){if(typeof e!="function")throw new Error;return e}function E1(){return 0}function M0(e){return function(){return e}}function CG(e){return Math.sqrt(e.value)}function jg(){var e=null,r=1,t=1,n=E1;function i(a){return a.x=r/2,a.y=t/2,e?a.eachBefore(Wg(e)).eachAfter(Qf(n,.5)).eachBefore(Yg(1)):a.eachBefore(Wg(CG)).eachAfter(Qf(E1,1)).eachAfter(Qf(n,a.r/Math.min(r,t))).eachBefore(Yg(Math.min(r,t)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=EG(a),i):e},i.size=function(a){return arguments.length?(r=+a[0],t=+a[1],i):[r,t]},i.padding=function(a){return arguments.length?(n=typeof a=="function"?a:M0(+a),i):n},i}function Wg(e){return function(r){r.children||(r.r=Math.max(0,+e(r)||0))}}function Qf(e,r){return function(t){if(n=t.children){var n,i,a=n.length,o=e(t)*r||0,s;if(o)for(i=0;i<a;++i)n[i].r+=o;if(s=Gg(n),o)for(i=0;i<a;++i)n[i].r-=o;t.r=s+o}}}function Yg(e){return function(r){var t=r.parent;r.r*=e,t&&(r.x=t.x+e*r.x,r.y=t.y+e*r.y)}}var SG=F(39620),sa=F.n(SG);function bG(e){var r=0,t=e.children,n=t&&t.length;if(!n)r=1;else for(;--n>=0;)r+=t[n].value;e.value=r}function AG(){return this.eachAfter(bG)}var MG=F(14912),Xg=F.n(MG);function TG(e,r){var t=-1,n=Xg()(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;e.call(r,a,++t,this)}}catch(o){n.e(o)}finally{n.f()}return this}function wG(e,r){for(var t=this,n=[t],i,a,o=-1;t=n.pop();)if(e.call(r,t,++o,this),i=t.children)for(a=i.length-1;a>=0;--a)n.push(i[a]);return this}function FG(e,r){for(var t=this,n=[t],i=[],a,o,s,u=-1;t=n.pop();)if(i.push(t),a=t.children)for(o=0,s=a.length;o<s;++o)n.push(a[o]);for(;t=i.pop();)e.call(r,t,++u,this);return this}function kG(e,r){var t=-1,n=Xg()(this),i;try{for(n.s();!(i=n.n()).done;){var a=i.value;if(e.call(r,a,++t,this))return a}}catch(o){n.e(o)}finally{n.f()}}function OG(e){return this.eachAfter(function(r){for(var t=+e(r.data)||0,n=r.children,i=n&&n.length;--i>=0;)t+=n[i].value;r.value=t})}function LG(e){return this.eachBefore(function(r){r.children&&r.children.sort(e)})}function IG(e){for(var r=this,t=PG(r,e),n=[r];r!==t;)r=r.parent,n.push(r);for(var i=n.length;e!==t;)n.splice(i,0,e),e=e.parent;return n}function PG(e,r){if(e===r)return e;var t=e.ancestors(),n=r.ancestors(),i=null;for(e=t.pop(),r=n.pop();e===r;)i=e,e=t.pop(),r=n.pop();return i}function RG(){for(var e=this,r=[e];e=e.parent;)r.push(e);return r}function DG(){return Array.from(this)}function BG(){var e=[];return this.eachBefore(function(r){r.children||e.push(r)}),e}function NG(){var e=this,r=[];return e.each(function(t){t!==e&&r.push({source:t.parent,target:t})}),r}var ZG=kt()().mark($g);function $g(){var e,r,t,n,i,a;return kt()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:e=this,t=[e];case 1:r=t.reverse(),t=[];case 2:if(!(e=r.pop())){s.next=8;break}return s.next=5,e;case 5:if(n=e.children)for(i=0,a=n.length;i<a;++i)t.push(n[i]);s.next=2;break;case 8:if(t.length){s.next=1;break}case 9:case"end":return s.stop()}},ZG,this)}function T0(e,r){e instanceof Map?(e=[void 0,e],r===void 0&&(r=HG)):r===void 0&&(r=UG);for(var t=new w0(e),n,i=[t],a,o,s,u;n=i.pop();)if((o=r(n.data))&&(u=(o=Array.from(o)).length))for(n.children=o,s=u-1;s>=0;--s)i.push(a=o[s]=new w0(o[s])),a.parent=n,a.depth=n.depth+1;return t.eachBefore(qg)}function zG(){return T0(this).eachBefore(VG)}function UG(e){return e.children}function HG(e){return Array.isArray(e)?e[1]:null}function VG(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function qg(e){var r=0;do e.height=r;while((e=e.parent)&&e.height<++r)}function w0(e){this.data=e,this.depth=this.height=0,this.parent=null}w0.prototype=T0.prototype=sa()({constructor:w0,count:AG,each:TG,eachAfter:FG,eachBefore:wG,find:kG,sum:OG,sort:LG,path:IG,ancestors:RG,descendants:DG,leaves:BG,links:NG,copy:zG},Symbol.iterator,$g);var Kg="nodeIndex",Qg="childNodeCount",Jf="nodeAncestor",t5="Invalid field: it must be a string!";function e5(e,r){var t=e.field,n=e.fields;if((0,d.HD)(t))return t;if((0,d.kJ)(t))return console.warn(t5),t[0];if(console.warn(t5+" will try to get fields instead."),(0,d.HD)(n))return n;if((0,d.kJ)(n)&&n.length)return n[0];if(r)return r;throw new TypeError(t5)}function r5(e){var r=[];if(e&&e.each){var t,n;e.each(function(i){var a,o;i.parent!==t?(t=i.parent,n=0):n+=1;var s=(0,d.hX)((((a=i.ancestors)===null||a===void 0?void 0:a.call(i))||[]).map(function(u){return r.find(function(l){return l.name===u.name})||u}),function(u){var l=u.depth;return l>0&&l<i.depth});i[Jf]=s,i[Qg]=((o=i.children)===null||o===void 0?void 0:o.length)||0,i[Kg]=n,r.push(i)})}else e&&e.eachNode&&e.eachNode(function(i){r.push(i)});return r}var GG={field:"value",as:["x","y","r"],sort:function(e,r){return r.value-e.value}};function jG(e,r){r=(0,d.f0)({},GG,r);var t=r.as;if(!(0,d.kJ)(t)||t.length!==3)throw new TypeError('Invalid as: it must be an array with 3 strings (e.g. [ "x", "y", "r" ])!');var n;try{n=e5(r)}catch(l){console.warn(l)}var i=function(l){return jg().size(r.size).padding(r.padding)(T0(l).sum(function(c){return c[n]}).sort(r.sort))},a=i(e),o=t[0],s=t[1],u=t[2];return a.each(function(l){l[o]=l.x,l[s]=l.y,l[u]=l.r}),r5(a)}function Jg(e){var r=e.data,t=e.hierarchyConfig,n=e.rawFields,i=n===void 0?[]:n,a=e.enableDrillDown,o=jG(r,(0,x.pi)((0,x.pi)({},t),{field:"value",as:["x","y","r"]})),s=[];return o.forEach(function(u){for(var l,c=u.data.name,f=(0,x.pi)({},u);f.depth>1;)c=((l=f.parent.data)===null||l===void 0?void 0:l.name)+" / "+c,f=f.parent;if(a&&u.depth>2)return null;var h=pe({},u.data,(0,x.pi)((0,x.pi)((0,x.pi)({},Pr(u.data,i)),{path:c}),u));h.ext=t,h[au]={hierarchyConfig:t,rawFields:i,enableDrillDown:a},s.push(h)}),s}function ty(e,r,t){var n=If([e,r]),i=n[0],a=n[1],o=n[2],s=n[3],u=t.width,l=t.height,c=u-(s+a),f=l-(i+o),h=Math.min(c,f),v=(c-h)/2,p=(f-h)/2,g=i+p,y=a+v,m=o+p,E=s+v,C=[g,y,m,E],A=h<0?0:h;return{finalPadding:C,finalSize:A}}function WG(e){var r=e.chart,t=Math.min(r.viewBBox.width,r.viewBBox.height);return pe({options:{size:function(n){var i=n.r;return i*t}}},e)}function YG(e){var r=e.options,t=e.chart,n=t.viewBBox,i=r.padding,a=r.appendPadding,o=r.drilldown,s=a;if(o!=null&&o.enabled){var u=I2(t.appendPadding,(0,d.U2)(o,["breadCrumb","position"]));s=If([u,a])}var l=ty(i,s,n).finalPadding;return t.padding=l,t.appendPadding=0,e}function XG(e){var r=e.chart,t=e.options,n=r.padding,i=r.appendPadding,a=t.color,o=t.colorField,s=t.pointStyle,u=t.hierarchyConfig,l=t.sizeField,c=t.rawFields,f=c===void 0?[]:c,h=t.drilldown,v=Jg({data:t.data,hierarchyConfig:u,enableDrillDown:h==null?void 0:h.enabled,rawFields:f});r.data(v);var p=r.viewBBox,g=ty(n,i,p).finalSize,y=function(m){var E=m.r;return E*g};return l&&(y=function(m){return m[l]*g}),mi(pe({},e,{options:{xField:"x",yField:"y",seriesField:o,sizeField:l,rawFields:(0,x.pr)(cG,f),point:{color:a,style:s,shape:"circle",size:y}}})),e}function $G(e){return or(Jr({},{x:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0},y:{min:0,max:1,minLimit:0,maxLimit:1,nice:!0}}))(e)}function qG(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var i=n;(0,d.U2)(n,"fields")||(i=pe({},{customItems:function(a){return a.map(function(o){var s=(0,d.U2)(r.getOptions(),"scales"),u=(0,d.U2)(s,["name","formatter"],function(c){return c}),l=(0,d.U2)(s,["value","formatter"],function(c){return c});return(0,x.pi)((0,x.pi)({},o),{name:u(o.data.name),value:l(o.data.value)})})}},i)),r.tooltip(i)}return e}function KG(e){var r=e.chart;return r.axis(!1),e}function QG(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return r!=null&&r.enabled?pe({},e,{interactions:(0,x.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Jg,enableDrillDown:!0}}])}):e}function JG(e){var r=e.chart,t=e.options;return jr({chart:r,options:QG(t)}),e}function tj(e){return or(yi("pointStyle"),WG,YG,Ar,$G,XG,KG,p1,qG,JG,Rr,Xr())(e)}function ey(e){var r=(0,d.U2)(e,["event","data","data"],{});return(0,d.kJ)(r.children)&&r.children.length>0}function ry(e){var r=e.view.getCoordinate(),t=r.innerRadius;if(t){var n=e.event,i=n.x,a=n.y,o=r.center,s=o.x,u=o.y,l=r.getRadius()*t,c=Math.sqrt(Math.pow(s-i,2)+Math.pow(u-a,2));return c<l}return!1}Je("drill-down-action",pG),lr("drill-down",{showEnable:[{trigger:"element:mouseenter",action:"cursor:pointer",isEnable:ey},{trigger:"element:mouseleave",action:"cursor:default"},{trigger:"element:mouseleave",action:"cursor:pointer",isEnable:ry}],start:[{trigger:"element:click",isEnable:ey,action:["drill-down-action:click"]},{trigger:"afterchangesize",action:["drill-down-action:resetPosition"]},{trigger:"click",isEnable:ry,action:["drill-down-action:back"]}]});var B9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="circle-packing",t}return r.getDefaultOptions=function(){return fG},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return tj},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r}(hr),xi="left-axes-view",_i="right-axes-view",ny={nice:!0,label:{autoHide:!0,autoRotate:!1}},ej=(0,x.pi)((0,x.pi)({},ny),{position:"left"}),rj=(0,x.pi)((0,x.pi)({},ny),{position:"right",grid:null}),F0;(function(e){e.Left="Left",e.Right="Right"})(F0||(F0={}));var C1;(function(e){e.Line="line",e.Column="column"})(C1||(C1={}));function n5(e){return(0,d.U2)(e,"geometry")===C1.Line}function i5(e){return(0,d.U2)(e,"geometry")===C1.Column}function iy(e,r,t){return i5(t)?pe({},{geometry:C1.Column,label:t.label&&t.isRange?{content:function(n){var i;return(i=n[r])===null||i===void 0?void 0:i.join("-")}}:void 0},t):(0,x.pi)({geometry:C1.Line},t)}function ay(e,r){var t=e[0],n=e[1];if((0,d.kJ)(r)){var i=r[0],a=r[1];return[i,a]}var o=(0,d.U2)(r,t),s=(0,d.U2)(r,n);return[o,s]}function oy(e,r){return r===F0.Left?e===!1?!1:pe({},ej,e):r===F0.Right?e===!1?!1:pe({},rj,e):e}function nj(e){var r=e.options,t=e.chart,n=r.geometryOption,i=n.isStack,a=n.color,o=n.seriesField,s=n.groupField,u=n.isGroup,l=["xField","yField"];if(n5(n)){E0(pe({},e,{options:(0,x.pi)((0,x.pi)((0,x.pi)({},Pr(r,l)),n),{line:{color:n.color,style:n.lineStyle}})})),mi(pe({},e,{options:(0,x.pi)((0,x.pi)((0,x.pi)({},Pr(r,l)),n),{point:n.point&&(0,x.pi)({color:a,shape:"circle"},n.point)})}));var c=[];u&&c.push({type:"dodge",dodgeBy:s||o,customOffset:0}),i&&c.push({type:"stack"}),c.length&&(0,d.S6)(t.geometries,function(f){f.adjust(c)})}return i5(n)&&V2(pe({},e,{options:(0,x.pi)((0,x.pi)((0,x.pi)({},Pr(r,l)),n),{widthRatio:n.columnWidthRatio,interval:(0,x.pi)((0,x.pi)({},Pr(n,["color"])),{style:n.columnStyle})})})),e}function sy(e){var r=e.view,t=e.geometryOption,n=e.yField,i=e.legend,a=(0,d.U2)(i,"marker"),o=In(r,n5(t)?"line":"interval");if(!t.seriesField){var s=(0,d.U2)(r,"options.scales."+n+".alias")||n,u=o.getAttribute("color"),l=r.getTheme().defaultColor;u&&(l=ai.getMappingValue(u,s,(0,d.U2)(u,["values",0],l)));var c=((0,d.mf)(a)?a:!(0,d.xb)(a)&&pe({},{style:{stroke:l,fill:l}},a))||(n5(t)?{symbol:function(h,v,p){return[["M",h-p,v],["L",h+p,v]]},style:{lineWidth:2,r:6,stroke:l}}:{symbol:"square",style:{fill:l}});return[{value:n,name:s,marker:c,isGeometry:!0,viewId:r.id}]}var f=o.getGroupAttributes();return(0,d.u4)(f,function(h,v){var p=ai.getLegendItems(r,o,v,r.getTheme(),a);return h.concat(p)},[])}var uy=function(e,r){var t=r[0],n=r[1],i=e.getOptions().data,a=e.getXScale(),o=(0,d.dp)(i);if(!(!a||!o)){var s=!0,u=(0,d.I)(i,a.field),l=s?u:u.reverse(),c=(0,d.dp)(l),f=Math.floor(t*(c-1)),h=Math.floor(n*(c-1));e.filter(a.field,function(v){var p=l.indexOf(v);return p>-1?Az(p,f,h):!0}),e.getRootView().render(!0)}};function ij(e){var r,t=e.options,n=t.geometryOptions,i=n===void 0?[]:n,a=t.xField,o=t.yField,s=(0,d.yW)(i,function(u){var l=u.geometry;return l===C1.Line||l===void 0});return pe({},{options:{geometryOptions:[],meta:(r={},r[a]={type:"cat",sync:!0,range:s?[0,1]:void 0},r),tooltip:{showMarkers:s,showCrosshairs:s,shared:!0,crosshairs:{type:"x"}},interactions:s?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},e,{options:{yAxis:ay(o,t.yAxis),geometryOptions:[iy(a,o[0],i[0]),iy(a,o[1],i[1])],annotations:ay(o,t.annotations)}})}function aj(e){var r,t,n=e.chart,i=e.options,a=i.geometryOptions,o={line:0,column:1},s=[{type:(r=a[0])===null||r===void 0?void 0:r.geometry,id:xi},{type:(t=a[1])===null||t===void 0?void 0:t.geometry,id:_i}];return s.sort(function(u,l){return-o[u.type]+o[l.type]}).forEach(function(u){return n.createView({id:u.id})}),e}function oj(e){var r=e.chart,t=e.options,n=t.xField,i=t.yField,a=t.geometryOptions,o=t.data,s=t.tooltip,u=[(0,x.pi)((0,x.pi)({},a[0]),{id:xi,data:o[0],yField:i[0]}),(0,x.pi)((0,x.pi)({},a[1]),{id:_i,data:o[1],yField:i[1]})];return u.forEach(function(l){var c=l.id,f=l.data,h=l.yField,v=i5(l)&&l.isPercent,p=v?kd(f,h,n,h):f,g=gr(r,c).data(p),y=v?(0,x.pi)({formatter:function(m){return{name:m[l.seriesField]||h,value:(Number(m[h])*100).toFixed(2)+"%"}}},s):s;nj({chart:g,options:{xField:n,yField:h,tooltip:y,geometryOption:l}})}),e}function sj(e){var r,t=e.chart,n=e.options,i=n.geometryOptions,a=((r=t.getTheme())===null||r===void 0?void 0:r.colors10)||[],o=0;return t.once("beforepaint",function(){(0,d.S6)(i,function(s,u){var l=gr(t,u===0?xi:_i);if(!s.color){var c=l.getGroupScales(),f=(0,d.U2)(c,[0,"values","length"],1),h=a.slice(o,o+f).concat(u===0?[]:a);l.geometries.forEach(function(v){s.seriesField?v.color(s.seriesField,h):v.color(h[0])}),o+=f}}),t.render(!0)}),e}function uj(e){var r,t,n=e.chart,i=e.options,a=i.xAxis,o=i.yAxis,s=i.xField,u=i.yField;return Jr((r={},r[s]=a,r[u[0]]=o[0],r))(pe({},e,{chart:gr(n,xi)})),Jr((t={},t[s]=a,t[u[1]]=o[1],t))(pe({},e,{chart:gr(n,_i)})),e}function lj(e){var r=e.chart,t=e.options,n=gr(r,xi),i=gr(r,_i),a=t.xField,o=t.yField,s=t.xAxis,u=t.yAxis;return r.axis(a,!1),r.axis(o[0],!1),r.axis(o[1],!1),n.axis(a,s),n.axis(o[0],oy(u[0],F0.Left)),i.axis(a,!1),i.axis(o[1],oy(u[1],F0.Right)),e}function cj(e){var r=e.chart,t=e.options,n=t.tooltip,i=gr(r,xi),a=gr(r,_i);return r.tooltip(n),i.tooltip({shared:!0}),a.tooltip({shared:!0}),e}function fj(e){var r=e.chart;return jr(pe({},e,{chart:gr(r,xi)})),jr(pe({},e,{chart:gr(r,_i)})),e}function hj(e){var r=e.chart,t=e.options,n=t.annotations,i=(0,d.U2)(n,[0]),a=(0,d.U2)(n,[1]);return Xr(i)(pe({},e,{chart:gr(r,xi),options:{annotations:i}})),Xr(a)(pe({},e,{chart:gr(r,_i),options:{annotations:a}})),e}function vj(e){var r=e.chart;return Ar(pe({},e,{chart:gr(r,xi)})),Ar(pe({},e,{chart:gr(r,_i)})),Ar(e),e}function pj(e){var r=e.chart;return Rr(pe({},e,{chart:gr(r,xi)})),Rr(pe({},e,{chart:gr(r,_i)})),e}function dj(e){var r=e.chart,t=e.options,n=t.yAxis;return d1(pe({},e,{chart:gr(r,xi),options:{yAxis:n[0]}})),d1(pe({},e,{chart:gr(r,_i),options:{yAxis:n[1]}})),e}function gj(e){var r=e.chart,t=e.options,n=t.legend,i=t.geometryOptions,a=t.yField,o=t.data,s=gr(r,xi),u=gr(r,_i);if(n===!1)r.legend(!1);else if((0,d.Kn)(n)&&n.custom===!0)r.legend(n);else{var l=(0,d.U2)(i,[0,"legend"],n),c=(0,d.U2)(i,[1,"legend"],n);r.once("beforepaint",function(){var f=o[0].length?sy({view:s,geometryOption:i[0],yField:a[0],legend:l}):[],h=o[1].length?sy({view:u,geometryOption:i[1],yField:a[1],legend:c}):[];r.legend(pe({},n,{custom:!0,items:f.concat(h)}))}),i[0].seriesField&&s.legend(i[0].seriesField,l),i[1].seriesField&&u.legend(i[1].seriesField,c),r.on("legend-item:click",function(f){var h=(0,d.U2)(f,"gEvent.delegateObject",{});if(h&&h.item){var v=h.item,p=v.value,g=v.isGeometry,y=v.viewId;if(g){var m=(0,d.cx)(a,function(A){return A===p});if(m>-1){var E=(0,d.U2)(gr(r,y),"geometries");(0,d.S6)(E,function(A){A.changeVisible(!h.item.unchecked)})}}else{var C=(0,d.U2)(r.getController("legend"),"option.items",[]);(0,d.S6)(r.views,function(A){var M=A.getGroupScales();(0,d.S6)(M,function(Z){Z.values&&Z.values.indexOf(p)>-1&&A.filter(Z.field,function(Y){var st=(0,d.sE)(C,function(Ct){return Ct.value===Y});return!st.unchecked})}),r.render(!0)})}}})}return e}function yj(e){var r=e.chart,t=e.options,n=t.slider,i=gr(r,xi),a=gr(r,_i);return n&&(i.option("slider",n),i.on("slider:valuechanged",function(o){var s=o.event,u=s.value,l=s.originValue;(0,d.Xy)(u,l)||uy(a,u)}),r.once("afterpaint",function(){if(!(0,d.jn)(n)){var o=n.start,s=n.end;(o||s)&&uy(a,[o,s])}})),e}function mj(e){return or(ij,aj,vj,oj,uj,lj,dj,cj,fj,hj,pj,sj,gj,yj)(e)}var N9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="dual-axes",t}return r.prototype.getDefaultOptions=function(){return pe({},e.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},r.prototype.getSchemaAdaptor=function(){return mj},r}(hr);function xj(e,r){var t=r.data,n=r.coordinate,i=r.interactions,a=r.annotations,o=r.animation,s=r.tooltip,u=r.axes,l=r.meta,c=r.geometries;t&&e.data(t);var f={};u&&(0,d.S6)(u,function(h,v){f[v]=Pr(h,si)}),f=pe({},l,f),e.scale(f),n&&e.coordinate(n),u===!1?e.axis(!1):(0,d.S6)(u,function(h,v){e.axis(v,h)}),(0,d.S6)(c,function(h){var v=ui({chart:e,options:h}).ext,p=h.adjust;p&&v.geometry.adjust(p)}),(0,d.S6)(i,function(h){h.enable===!1?e.removeInteraction(h.type):e.interaction(h.type,h.cfg)}),(0,d.S6)(a,function(h){e.annotation()[h.type]((0,x.pi)({},h))}),Ks(e,o),s?(e.interaction("tooltip"),e.tooltip(s)):s===!1&&e.removeInteraction("tooltip")}function _j(e){var r=e.chart,t=e.options,n=t.type,i=t.data,a=t.fields,o=t.eachView,s=(0,d.CE)(t,["type","data","fields","eachView","axes","meta","tooltip","coordinate","theme","legend","interactions","annotations"]);return r.data(i),r.facet(n,(0,x.pi)((0,x.pi)({},s),{fields:a,eachView:function(u,l){var c=o(u,l);if(c.geometries)xj(u,c);else{var f=c,h=f.options;h.tooltip&&u.interaction("tooltip"),$f(f.type,u,h)}}})),e}function Ej(e){var r=e.chart,t=e.options,n=t.axes,i=t.meta,a=t.tooltip,o=t.coordinate,s=t.theme,u=t.legend,l=t.interactions,c=t.annotations,f={};return n&&(0,d.S6)(n,function(h,v){f[v]=Pr(h,si)}),f=pe({},i,f),r.scale(f),r.coordinate(o),n?(0,d.S6)(n,function(h,v){r.axis(v,h)}):r.axis(!1),a?(r.interaction("tooltip"),r.tooltip(a)):a===!1&&r.removeInteraction("tooltip"),r.legend(u),s&&r.theme(s),(0,d.S6)(l,function(h){h.enable===!1?r.removeInteraction(h.type):r.interaction(h.type,h.cfg)}),(0,d.S6)(c,function(h){r.annotation()[h.type]((0,x.pi)({},h))}),e}function Cj(e){return or(Ar,_j,Ej)(e)}var Sj={title:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},rowTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}},columnTitle:{style:{fontSize:12,fill:"rgba(0,0,0,0.65)"}}},Z9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="area",t}return r.getDefaultOptions=function(){return Sj},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return Cj},r}(hr);function bj(e){var r=e.chart,t=e.options,n=t.data,i=t.type,a=t.xField,o=t.yField,s=t.colorField,u=t.sizeField,l=t.sizeRatio,c=t.shape,f=t.color,h=t.tooltip,v=t.heatmapStyle,p=t.meta;r.data(n);var g="polygon";i==="density"&&(g="heatmap");var y=Hi(h,[a,o,s]),m=y.fields,E=y.formatter,C=1;return(l||l===0)&&(!c&&!u?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):l<0||l>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):C=l),ui(pe({},e,{options:{type:g,colorField:s,tooltipFields:m,shapeField:u||"",label:void 0,mapping:{tooltip:E,shape:c&&(u?function(A){var M=n.map(function(Ct){return Ct[u]}),Z=(p==null?void 0:p[u])||{},Y=Z.min,st=Z.max;return Y=(0,d.hj)(Y)?Y:Math.min.apply(Math,M),st=(0,d.hj)(st)?st:Math.max.apply(Math,M),[c,((0,d.U2)(A,u)-Y)/(st-Y),C]}:function(){return[c,1,C]}),color:f||s&&r.getTheme().sequenceColors.join("-"),style:v}}})),e}function Aj(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return or(Jr((r={},r[a]=n,r[o]=i,r)))(e)}function Mj(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?r.axis(o,!1):r.axis(o,i),e}function Tj(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField,a=t.sizeField,o=t.sizeLegend,s=n!==!1;return i&&r.legend(i,s?n:!1),a&&r.legend(a,o===void 0?n:o),!s&&!o&&r.legend(!1),e}function wj(e){var r=e.chart,t=e.options,n=t.label,i=t.colorField,a=t.type,o=In(r,a==="density"?"heatmap":"polygon");if(!n)o.label(!1);else if(i){var s=n.callback,u=(0,x._T)(n,["callback"]);o.label({fields:[i],callback:s,cfg:Sn(u)})}return e}function Fj(e){var r,t,n=e.chart,i=e.options,a=i.coordinate,o=i.reflect,s=pe({actions:[]},a!=null?a:{type:"rect"});return o&&((t=(r=s.actions)===null||r===void 0?void 0:r.push)===null||t===void 0||t.call(r,["reflect",o])),n.coordinate(s),e}function kj(e){return or(Ar,yi("heatmapStyle"),Aj,Fj,bj,Mj,Tj,vn,wj,Xr(),jr,Rr,Oo)(e)}var Oj=pe({},hr.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}});kr("polygon","circle",{draw:function(e,r){var t,n,i=e.x,a=e.y,o=this.parsePoints(e.points),s=Math.abs(o[2].x-o[1].x),u=Math.abs(o[1].y-o[0].y),l=Math.min(s,u)/2,c=Number(e.shape[1]),f=Number(e.shape[2]),h=Math.sqrt(f),v=l*h*Math.sqrt(c),p=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),g=r.addShape("circle",{attrs:(0,x.pi)((0,x.pi)((0,x.pi)({x:i,y:a,r:v},e.defaultStyle),e.style),{fill:p})});return g}}),kr("polygon","square",{draw:function(e,r){var t,n,i=e.x,a=e.y,o=this.parsePoints(e.points),s=Math.abs(o[2].x-o[1].x),u=Math.abs(o[1].y-o[0].y),l=Math.min(s,u),c=Number(e.shape[1]),f=Number(e.shape[2]),h=Math.sqrt(f),v=l*h*Math.sqrt(c),p=((t=e.style)===null||t===void 0?void 0:t.fill)||e.color||((n=e.defaultStyle)===null||n===void 0?void 0:n.fill),g=r.addShape("rect",{attrs:(0,x.pi)((0,x.pi)((0,x.pi)({x:i-v/2,y:a-v/2,width:v,height:v},e.defaultStyle),e.style),{fill:p})});return g}});var z9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="heatmap",t}return r.getDefaultOptions=function(){return Oj},r.prototype.getSchemaAdaptor=function(){return kj},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(hr),Lj="liquid";function ly(e){return[{percent:e,type:Lj}]}function Ij(e){var r=e.chart,t=e.options,n=t.percent,i=t.liquidStyle,a=t.radius,o=t.outline,s=t.wave,u=t.shape,l=t.shapeStyle,c=t.animation;r.scale({percent:{min:0,max:1}}),r.data(ly(n));var f=t.color||r.getTheme().defaultColor,h=pe({},e,{options:{xField:"type",yField:"percent",widthRatio:a,interval:{color:f,style:i,shape:"liquid-fill-gauge"}}}),v=Pn(h).ext,p=v.geometry,g=r.getTheme().background,y={percent:n,radius:a,outline:o,wave:s,shape:u,shapeStyle:l,background:g,animation:c};return p.customInfo(y),r.legend(!1),r.axis(!1),r.tooltip(!1),e}function cy(e,r){var t=e.chart,n=e.options,i=n.statistic,a=n.percent,o=n.meta;t.getController("annotation").clear(!0);var s=(0,d.U2)(o,["percent","formatter"])||function(l){return(l*100).toFixed(2)+"%"},u=i.content;return u&&(u=pe({},u,{content:(0,d.UM)(u.content)?s(a):u.content})),P2(t,{statistic:(0,x.pi)((0,x.pi)({},i),{content:u}),plotType:"liquid"},{percent:a}),r&&t.render(!0),e}function Pj(e){return or(Ar,yi("liquidStyle"),Ij,cy,Jr({}),Rr,jr)(e)}var Rj={radius:.9,statistic:{title:!1,content:{style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},fy=5e3;function hy(e,r,t){return e+(r-e)*t}function Dj(e){var r=(0,x.pi)({opacity:1},e.style);return e.color&&!r.fill&&(r.fill=e.color),r}function Bj(e){var r={fill:"#fff",fillOpacity:0,lineWidth:4},t=(0,d.CD)({},r,e.style);return e.color&&!t.stroke&&(t.stroke=e.color),(0,d.hj)(e.opacity)&&(t.opacity=t.strokeOpacity=e.opacity),t}function Nj(e,r,t,n){return r===0?[[e+1/2*t/Math.PI/2,n/2],[e+1/2*t/Math.PI,n],[e+t/4,n]]:r===1?[[e+1/2*t/Math.PI/2*(Math.PI-2),n],[e+1/2*t/Math.PI/2*(Math.PI-1),n/2],[e+t/4,0]]:r===2?[[e+1/2*t/Math.PI/2,-n/2],[e+1/2*t/Math.PI,-n],[e+t/4,-n]]:[[e+1/2*t/Math.PI/2*(Math.PI-2),-n],[e+1/2*t/Math.PI/2*(Math.PI-1),-n/2],[e+t/4,0]]}function Zj(e,r,t,n,i,a,o){for(var s=Math.ceil(2*e/t*4)*4,u=[],l=n;l<-Math.PI*2;)l+=Math.PI*2;for(;l>0;)l-=Math.PI*2;l=l/Math.PI/2*t;var c=a-e+l-e*2;u.push(["M",c,r]);for(var f=0,h=0;h<s;++h){var v=h%4,p=Nj(h*t/4,v,t,i);u.push(["C",p[0][0]+c,-p[0][1]+r,p[1][0]+c,-p[1][1]+r,p[2][0]+c,-p[2][1]+r]),h===s-1&&(f=p[2][0])}return u.push(["L",f+c,o+e]),u.push(["L",c,o+e]),u.push(["Z"]),u}function zj(e,r,t,n,i,a,o,s,u,l){for(var c=i.fill,f=i.opacity,h=o.getBBox(),v=h.maxX-h.minX,p=h.maxY-h.minY,g=0;g<n;g++){var y=n<=1?1:g/(n-1),m=a.addShape("path",{name:"waterwave-path",attrs:{path:Zj(s,h.minY+p*t,u,0,v/32,e,r),fill:c,opacity:hy(.2,.9,y)*f}});try{if(l===!1)return;var E=Yf([["t",u,0]]);m.stopAnimate(),m.animate({matrix:E},{duration:hy(.5*fy,fy,y),repeat:!0})}catch(C){console.warn("off-screen group animate error!")}}}function Uj(e,r,t,n){var i=t*2/3,a=Math.max(i,n),o=i/2,s=e,u=o+r-a/2,l=Math.asin(o/((a-o)*.85)),c=Math.sin(l)*o,f=Math.cos(l)*o,h=s-f,v=u+c,p=e,g=u+o/Math.sin(l);return`
      M `+h+" "+v+`
      A `+o+" "+o+" 0 1 1 "+(h+f*2)+" "+v+`
      Q `+p+" "+g+" "+e+" "+(r+a/2)+`
      Q `+p+" "+g+" "+h+" "+v+`
      Z 
    `}function Hj(e,r,t,n){var i=t/2,a=n/2;return`
      M `+e+" "+(r-a)+` 
      a `+i+" "+a+" 0 1 0 0 "+a*2+`
      a `+i+" "+a+" 0 1 0 0 "+-a*2+`
      Z
    `}function Vj(e,r,t,n){var i=n/2,a=t/2;return`
      M `+e+" "+(r-i)+`
      L `+(e+a)+" "+r+`
      L `+e+" "+(r+i)+`
      L `+(e-a)+" "+r+`
      Z
    `}function Gj(e,r,t,n){var i=n/2,a=t/2;return`
      M `+e+" "+(r-i)+`
      L `+(e+a)+" "+(r+i)+`
      L `+(e-a)+" "+(r+i)+`
      Z
    `}function jj(e,r,t,n){var i=.618,a=n/2,o=t/2*i;return`
      M `+(e-o)+" "+(r-a)+`
      L `+(e+o)+" "+(r-a)+`
      L `+(e+o)+" "+(r+a)+`
      L `+(e-o)+" "+(r+a)+`
      Z
    `}var vy={pin:Uj,circle:Hj,diamond:Vj,triangle:Gj,rect:jj};kr("interval","liquid-fill-gauge",{draw:function(e,r){var t=.5,n=.5,i=e.customInfo,a=i,o=a.percent,s=a.radius,u=a.shape,l=a.shapeStyle,c=a.background,f=a.animation,h=i.outline,v=i.wave,p=h.border,g=h.distance,y=v.count,m=v.length,E=(0,d.u4)(e.points,function(_e,Re){return Math.min(_e,Re.x)},1/0),C=this.parsePoint({x:t,y:n}),A=this.parsePoint({x:E,y:n}),M=C.x-A.x,Z=Math.min(M,A.y*s),Y=Dj(e),st=Bj((0,d.CD)({},e,h)),Ct=Z-p/2,Pt=typeof u=="function"?u:vy[u]||vy.circle,Zt=Pt(C.x,C.y,Ct*2,Ct*2);if(l&&r.addShape("path",{name:"shape",attrs:(0,x.pi)({path:Zt},l)}),o>0){var ie=r.addGroup({name:"waves"}),ce=ie.setClip({type:"path",attrs:{path:Zt}});zj(C.x,C.y,1-e.points[1].y,y,Y,ie,ce,Z*2,m,f)}return r.addShape("path",{name:"distance",attrs:{path:Zt,fill:"transparent",lineWidth:p+g*2,stroke:c==="transparent"?"#fff":c}}),r.addShape("path",{name:"wrap",attrs:(0,d.CD)(st,{path:Zt,fill:"transparent",lineWidth:p})}),r}});var U9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="liquid",t}return r.getDefaultOptions=function(){return Rj},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.changeData=function(t){this.chart.emit(rr.BEFORE_CHANGE_DATA,qr.fromData(this.chart,rr.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:t}),this.chart.data(ly(t)),cy({chart:this.chart,options:this.options},!0),this.chart.emit(rr.AFTER_CHANGE_DATA,qr.fromData(this.chart,rr.AFTER_CHANGE_DATA,null))},r.prototype.getSchemaAdaptor=function(){return Pj},r}(hr);function Wj(e){var r=e.chart,t=e.options,n=t.data,i=t.lineStyle,a=t.color,o=t.point,s=t.area;r.data(n);var u=pe({},e,{options:{line:{style:i,color:a},point:o&&(0,x.pi)({color:a},o),area:s&&(0,x.pi)({color:a},s),label:void 0}}),l=pe({},u,{options:{tooltip:!1}}),c=(o==null?void 0:o.state)||t.state,f=pe({},u,{options:{tooltip:!1,state:c}});return E0(u),mi(f),Z2(l),e}function Yj(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return or(Jr((r={},r[a]=n,r[o]=i,r)))(e)}function Xj(e){var r=e.chart,t=e.options,n=t.radius,i=t.startAngle,a=t.endAngle;return r.coordinate("polar",{radius:n,startAngle:i,endAngle:a}),e}function $j(e){var r=e.chart,t=e.options,n=t.xField,i=t.xAxis,a=t.yField,o=t.yAxis;return r.axis(n,i),r.axis(a,o),e}function qj(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=In(r,"line");if(!n)a.label(!1);else{var o=n.callback,s=(0,x._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:Sn(s)})}return e}function Kj(e){return or(Wj,Yj,Ar,Xj,$j,p1,vn,qj,jr,Rr,Xr())(e)}var Qj=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),r.prototype.getTooltipItems=function(t){var n=this.getTooltipCfg(),i=n.shared,a=n.title,o=e.prototype.getTooltipItems.call(this,t);if(o.length>0){var s=this.view.geometries[0],u=s.dataArray,l=o[0].name,c=[];return u.forEach(function(f){f.forEach(function(h){var v=ai.getTooltipItems(h,s),p=v[0];if(!i&&p&&p.name===l){var g=(0,d.UM)(a)?l:a;c.push((0,x.pi)((0,x.pi)({},p),{name:p.title,title:g}))}else if(i&&p){var g=(0,d.UM)(a)?p.name||l:a;c.push((0,x.pi)((0,x.pi)({},p),{name:p.title,title:g}))}})}),c}return[]},r}(uv);o1("radar-tooltip",Qj);var Jj=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.init=function(){var t=this.context.view;t.removeInteraction("tooltip")},r.prototype.show=function(){var t=this.context.event,n=this.getTooltipController();n.showTooltip({x:t.x,y:t.y})},r.prototype.hide=function(){var t=this.getTooltipController();t.hideTooltip()},r.prototype.getTooltipController=function(){var t=this.context.view;return t.getController("radar-tooltip")},r}(Vr);Je("radar-tooltip",Jj),lr("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var H9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radar",t}return r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return pe({},e.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},r.prototype.getSchemaAdaptor=function(){return Kj},r}(hr);function tW(e,r,t){var n=t.map(function(o){return o[r]}).filter(function(o){return o!==void 0}),i=n.length>0?Math.max.apply(Math,n):0,a=Math.abs(e)%360;return a?i*360/a:i}function eW(e,r,t){var n=[];return e.forEach(function(i){var a=n.find(function(o){return o[r]===i[r]});a?a[t]+=i[t]||null:n.push((0,x.pi)({},i))}),n}function rW(e){var r=e.chart,t=e.options,n=t.barStyle,i=t.color,a=t.tooltip,o=t.colorField,s=t.type,u=t.xField,l=t.yField,c=t.data,f=x0(c,l);r.data(f);var h=pe({},e,{options:{tooltip:a,seriesField:o,interval:{style:n,color:i,shape:s==="line"?"line":"intervel"},minColumnWidth:t.minBarWidth,maxColumnWidth:t.maxBarWidth,columnBackground:t.barBackground}});return Pn(h),s==="line"&&mi({chart:r,options:{xField:u,yField:l,seriesField:o,point:{shape:"circle",color:i}}}),e}function py(e){var r,t=e.options,n=t.yField,i=t.xField,a=t.data,o=t.isStack,s=t.isGroup,u=t.colorField,l=t.maxAngle,c=o&&!s&&u?eW(a,i,n):a,f=x0(c,n);return or(Jr((r={},r[n]={min:0,max:tW(l,n,f)},r)))(e)}function nW(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}).transpose(),e}function iW(e){var r=e.chart,t=e.options,n=t.xField,i=t.xAxis;return r.axis(n,i),e}function aW(e){var r=e.chart,t=e.options,n=t.label,i=t.yField,a=In(r,"interval");if(!n)a.label(!1);else{var o=n.callback,s=(0,x._T)(n,["callback"]);a.label({fields:[i],callback:o,cfg:(0,x.pi)((0,x.pi)({},Sn(s)),{type:"polar"})})}return e}function oW(e){return or(yi("barStyle"),rW,py,iW,nW,jr,Rr,Ar,vn,p1,Xr(),aW)(e)}var sW=pe({},hr.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),V9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="radial-bar",t}return r.getDefaultOptions=function(){return sW},r.prototype.changeData=function(t){this.updateOption({data:t}),py({chart:this.chart,options:this.options}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return oW},r}(hr);function uW(e){var r=e.chart,t=e.options,n=t.data,i=t.sectorStyle,a=t.color;return r.data(n),or(Pn)(pe({},e,{options:{marginRatio:1,interval:{style:i,color:a}}})),e}function lW(e){var r=e.chart,t=e.options,n=t.label,i=t.xField,a=In(r,"interval");if(n===!1)a.label(!1);else if((0,d.Kn)(n)){var o=n.callback,s=n.fields,u=(0,x._T)(n,["callback","fields"]),l=u.offset,c=u.layout;(l===void 0||l>=0)&&(c=c?(0,d.kJ)(c)?c:[c]:[],u.layout=(0,d.hX)(c,function(f){return f.type!=="limit-in-shape"}),u.layout.length||delete u.layout),a.label({fields:s||[i],callback:o,cfg:Sn(u)})}else Wa(oa.WARN,n===null,"the label option must be an Object."),a.label({fields:[i]});return e}function cW(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField;return n===!1?r.legend(!1):i&&r.legend(i,n),e}function fW(e){var r=e.chart,t=e.options,n=t.radius,i=t.innerRadius,a=t.startAngle,o=t.endAngle;return r.coordinate({type:"polar",cfg:{radius:n,innerRadius:i,startAngle:a,endAngle:o}}),e}function hW(e){var r,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return or(Jr((r={},r[a]=n,r[o]=i,r)))(e)}function vW(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n?r.axis(a,n):r.axis(a,!1),i?r.axis(o,i):r.axis(o,!1),e}function pW(e){or(yi("sectorStyle"),uW,hW,lW,fW,vW,cW,vn,jr,Rr,Ar,Xr(),Oo)(e)}var dW=pe({},hr.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",radio:{}},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),G9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="rose",t}return r.getDefaultOptions=function(){return dW},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(t)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return pW},r}(hr),dy="x",gy="y",yy="name",Q2="nodes",J2="edges";function gW(e,r,t){var n=[];return e.forEach(function(i){var a=i[r],o=i[t];n.includes(a)||n.push(a),n.includes(o)||n.push(o)}),n}function yW(e,r,t,n){var i={};return r.forEach(function(a){i[a]={},r.forEach(function(o){i[a][o]=0})}),e.forEach(function(a){i[a[t]][a[n]]=1}),i}function mW(e,r,t){if(!(0,d.kJ)(e))return[];var n=[],i=gW(e,r,t),a=yW(e,i,r,t),o={};i.forEach(function(u){o[u]=0});function s(u){o[u]=1,i.forEach(function(l){if(a[u][l]!=0)if(o[l]==1)n.push(u+"_"+l);else{if(o[l]==-1)return;s(l)}}),o[u]=-1}return i.forEach(function(u){o[u]!=-1&&s(u)}),n.length!==0&&console.warn("sankey data contains circle, "+n.length+" records removed.",n),e.filter(function(u){return n.findIndex(function(l){return l===u[r]+"_"+u[t]})<0})}function xW(e){return e.target.depth}function _W(e){return e.depth}function EW(e,r){return r-1-e.height}function a5(e,r){return e.sourceLinks.length?e.depth:r-1}function CW(e){return e.targetLinks.length?e.depth:e.sourceLinks.length?(0,d.F)(e.sourceLinks,xW)-1:0}function t3(e){return function(){return e}}function o5(e,r){for(var t=0,n=0;n<e.length;n++)t+=r(e[n]);return t}function s5(e,r){for(var t=-1/0,n=0;n<e.length;n++)t=Math.max(r(e[n]),t);return t}function SW(e,r){for(var t=1/0,n=0;n<e.length;n++)t=Math.min(r(e[n]),t);return t}function xy(e,r){return e3(e.source,r.source)||e.index-r.index}function _y(e,r){return e3(e.target,r.target)||e.index-r.index}function e3(e,r){return e.y0-r.y0}function u5(e){return e.value}function bW(e){return e.index}function AW(e){return e.nodes}function MW(e){return e.links}function Ey(e,r){var t=e.get(r);if(!t)throw new Error("missing: "+r);return t}function Cy(e){for(var r=e.nodes,t=0,n=r;t<n.length;t++){for(var i=n[t],a=i.y0,o=a,s=0,u=i.sourceLinks;s<u.length;s++){var l=u[s];l.y0=a+l.width/2,a+=l.width}for(var c=0,f=i.targetLinks;c<f.length;c++){var l=f[c];l.y1=o+l.width/2,o+=l.width}}}function TW(){var e=0,r=0,t=1,n=1,i=24,a=8,o,s=bW,u=a5,l,c,f,h=AW,v=MW,p=6;function g(he){var Me={nodes:h(he),links:v(he)};return y(Me),m(Me),E(Me),C(Me),Z(Me),Cy(Me),Me}g.update=function(he){return Cy(he),he},g.nodeId=function(he){return arguments.length?(s=typeof he=="function"?he:t3(he),g):s},g.nodeAlign=function(he){return arguments.length?(u=typeof he=="function"?he:t3(he),g):u},g.nodeDepth=function(he){return arguments.length?(l=he,g):l},g.nodeSort=function(he){return arguments.length?(c=he,g):c},g.nodeWidth=function(he){return arguments.length?(i=+he,g):i},g.nodePadding=function(he){return arguments.length?(a=o=+he,g):a},g.nodes=function(he){return arguments.length?(h=typeof he=="function"?he:t3(he),g):h},g.links=function(he){return arguments.length?(v=typeof he=="function"?he:t3(he),g):v},g.linkSort=function(he){return arguments.length?(f=he,g):f},g.size=function(he){return arguments.length?(e=r=0,t=+he[0],n=+he[1],g):[t-e,n-r]},g.extent=function(he){return arguments.length?(e=+he[0][0],t=+he[1][0],r=+he[0][1],n=+he[1][1],g):[[e,r],[t,n]]},g.iterations=function(he){return arguments.length?(p=+he,g):p};function y(he){var Me=he.nodes,De=he.links;Me.forEach(function(yr,Mr){yr.index=Mr,yr.sourceLinks=[],yr.targetLinks=[]});var Fe=new Map(Me.map(function(yr){return[s(yr),yr]}));if(De.forEach(function(yr,Mr){yr.index=Mr;var an=yr.source,on=yr.target;typeof an!="object"&&(an=yr.source=Ey(Fe,an)),typeof on!="object"&&(on=yr.target=Ey(Fe,on)),an.sourceLinks.push(yr),on.targetLinks.push(yr)}),f!=null)for(var Ve=0,tr=Me;Ve<tr.length;Ve++){var fr=tr[Ve],pr=fr.sourceLinks,ur=fr.targetLinks;pr.sort(f),ur.sort(f)}}function m(he){for(var Me=he.nodes,De=0,Fe=Me;De<Fe.length;De++){var Ve=Fe[De];Ve.value=Ve.fixedValue===void 0?Math.max(o5(Ve.sourceLinks,u5),o5(Ve.targetLinks,u5)):Ve.fixedValue}}function E(he){for(var Me=he.nodes,De=Me.length,Fe=new Set(Me),Ve=new Set,tr=0;Fe.size;){if(Fe.forEach(function(yr){yr.depth=tr;for(var Mr=0,an=yr.sourceLinks;Mr<an.length;Mr++){var on=an[Mr].target;Ve.add(on)}}),++tr>De)throw new Error("circular link");Fe=Ve,Ve=new Set}if(l)for(var fr=Math.max(s5(Me,function(yr){return yr.depth})+1,0),pr=void 0,ur=0;ur<Me.length;ur++)pr=Me[ur],pr.depth=l.call(null,pr,fr)}function C(he){for(var Me=he.nodes,De=Me.length,Fe=new Set(Me),Ve=new Set,tr=0;Fe.size;){if(Fe.forEach(function(fr){fr.height=tr;for(var pr=0,ur=fr.targetLinks;pr<ur.length;pr++){var yr=ur[pr].source;Ve.add(yr)}}),++tr>De)throw new Error("circular link");Fe=Ve,Ve=new Set}}function A(he){for(var Me=he.nodes,De=Math.max(s5(Me,function(on){return on.depth})+1,0),Fe=(t-e-i)/(De-1),Ve=new Array(De).fill(0).map(function(){return[]}),tr=0,fr=Me;tr<fr.length;tr++){var pr=fr[tr],ur=Math.max(0,Math.min(De-1,Math.floor(u.call(null,pr,De))));pr.layer=ur,pr.x0=e+ur*Fe,pr.x1=pr.x0+i,Ve[ur]?Ve[ur].push(pr):Ve[ur]=[pr]}if(c)for(var yr=0,Mr=Ve;yr<Mr.length;yr++){var an=Mr[yr];an.sort(c)}return Ve}function M(he){for(var Me=SW(he,function(qe){return(n-r-(qe.length-1)*o)/o5(qe,u5)}),De=0,Fe=he;De<Fe.length;De++){for(var Ve=Fe[De],tr=r,fr=0,pr=Ve;fr<pr.length;fr++){var ur=pr[fr];ur.y0=tr,ur.y1=tr+ur.value*Me,tr=ur.y1+o;for(var yr=0,Mr=ur.sourceLinks;yr<Mr.length;yr++){var an=Mr[yr];an.width=an.value*Me}}tr=(n-tr+o)/(Ve.length+1);for(var on=0;on<Ve.length;++on){var ur=Ve[on];ur.y0+=tr*(on+1),ur.y1+=tr*(on+1)}ce(Ve)}}function Z(he){var Me=A(he);o=Math.min(a,(n-r)/(s5(Me,function(tr){return tr.length})-1)),M(Me);for(var De=0;De<p;++De){var Fe=Math.pow(.99,De),Ve=Math.max(1-Fe,(De+1)/p);st(Me,Fe,Ve),Y(Me,Fe,Ve)}}function Y(he,Me,De){for(var Fe=1,Ve=he.length;Fe<Ve;++Fe){for(var tr=he[Fe],fr=0,pr=tr;fr<pr.length;fr++){for(var ur=pr[fr],yr=0,Mr=0,an=0,on=ur.targetLinks;an<on.length;an++){var qe=on[an],xr=qe.source,Cr=qe.value,He=Cr*(ur.layer-xr.layer);yr+=_e(xr,ur)*He,Mr+=He}if(Mr>0){var gn=(yr/Mr-ur.y0)*Me;ur.y0+=gn,ur.y1+=gn,ie(ur)}}c===void 0&&tr.sort(e3),tr.length&&Ct(tr,De)}}function st(he,Me,De){for(var Fe=he.length,Ve=Fe-2;Ve>=0;--Ve){for(var tr=he[Ve],fr=0,pr=tr;fr<pr.length;fr++){for(var ur=pr[fr],yr=0,Mr=0,an=0,on=ur.sourceLinks;an<on.length;an++){var qe=on[an],xr=qe.target,Cr=qe.value,He=Cr*(xr.layer-ur.layer);yr+=Re(ur,xr)*He,Mr+=He}if(Mr>0){var gn=(yr/Mr-ur.y0)*Me;ur.y0+=gn,ur.y1+=gn,ie(ur)}}c===void 0&&tr.sort(e3),tr.length&&Ct(tr,De)}}function Ct(he,Me){var De=he.length>>1,Fe=he[De];Zt(he,Fe.y0-o,De-1,Me),Pt(he,Fe.y1+o,De+1,Me),Zt(he,n,he.length-1,Me),Pt(he,r,0,Me)}function Pt(he,Me,De,Fe){for(;De<he.length;++De){var Ve=he[De],tr=(Me-Ve.y0)*Fe;tr>1e-6&&(Ve.y0+=tr,Ve.y1+=tr),Me=Ve.y1+o}}function Zt(he,Me,De,Fe){for(;De>=0;--De){var Ve=he[De],tr=(Ve.y1-Me)*Fe;tr>1e-6&&(Ve.y0-=tr,Ve.y1-=tr),Me=Ve.y0-o}}function ie(he){var Me=he.sourceLinks,De=he.targetLinks;if(f===void 0){for(var Fe=0,Ve=De;Fe<Ve.length;Fe++){var tr=Ve[Fe].source.sourceLinks;tr.sort(_y)}for(var fr=0,pr=Me;fr<pr.length;fr++){var ur=pr[fr].target.targetLinks;ur.sort(xy)}}}function ce(he){if(f===void 0)for(var Me=0,De=he;Me<De.length;Me++){var Fe=De[Me],Ve=Fe.sourceLinks,tr=Fe.targetLinks;Ve.sort(_y),tr.sort(xy)}}function _e(he,Me){for(var De=he.y0-(he.sourceLinks.length-1)*o/2,Fe=0,Ve=he.sourceLinks;Fe<Ve.length;Fe++){var tr=Ve[Fe],fr=tr.target,pr=tr.width;if(fr===Me)break;De+=pr+o}for(var ur=0,yr=Me.targetLinks;ur<yr.length;ur++){var Mr=yr[ur],fr=Mr.source,pr=Mr.width;if(fr===he)break;De-=pr}return De}function Re(he,Me){for(var De=Me.y0-(Me.targetLinks.length-1)*o/2,Fe=0,Ve=Me.targetLinks;Fe<Ve.length;Fe++){var tr=Ve[Fe],fr=tr.source,pr=tr.width;if(fr===he)break;De+=pr+o}for(var ur=0,yr=he.sourceLinks;ur<yr.length;ur++){var Mr=yr[ur],fr=Mr.target,pr=Mr.width;if(fr===Me)break;De-=pr}return De}return g}var wW={left:_W,right:EW,center:CW,justify:a5},FW={nodeId:function(e){return e.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function kW(e){var r=(0,d.HD)(e)?wW[e]:(0,d.mf)(e)?e:null;return r||a5}function OW(e){return(0,d.f0)({},FW,e)}function LW(e,r){var t=OW(e),n=t.nodeId,i=t.nodeSort,a=t.nodeAlign,o=t.nodeWidth,s=t.nodePadding,u=t.nodeDepth,l=TW().nodeSort(i).nodeWidth(o).nodePadding(s).nodeDepth(u).nodeAlign(kW(a)).extent([[0,0],[1,1]]).nodeId(n),c=l(r),f=c.nodes.map(function(v){var p=v.x0,g=v.x1,y=v.y0,m=v.y1;return v.x=[p,g,g,p],v.y=[y,y,m,m],v}).filter(function(v){return v.name!==null}),h=c.links.map(function(v){var p=v.source,g=v.target,y=p.x1,m=g.x0;v.x=[y,y,m,m];var E=v.width/2;return v.y=[v.y0+E,v.y0-E,v.y1+E,v.y1-E],v}).filter(function(v){var p=v.source,g=v.target;return p.name!==null&&g.name!==null});return{nodes:f,links:h}}function IW(e){return e==="node-link"}function PW(e,r,t){return v1(e)?e/t:r}function RW(e,r,t){return v1(e)?e/t:r}function Sy(e,r,t){var n=e.dataType,i=e.data,a=e.sourceField,o=e.targetField,s=e.weightField,u=e.nodeAlign,l=e.nodeSort,c=e.nodePadding,f=e.nodePaddingRatio,h=e.nodeWidth,v=e.nodeWidthRatio,p=e.nodeDepth,g=e.rawFields,y=g===void 0?[]:g,m;IW(n)?m=i:m=vd(mW(i,a,o),a,o,s,y);var E=LW({nodeAlign:u,nodePadding:RW(c,f,t),nodeWidth:PW(h,v,r),nodeSort:l,nodeDepth:p},m),C=E.nodes,A=E.links;return{nodes:C.map(function(M){return(0,x.pi)((0,x.pi)({},Pr(M,(0,x.pr)(["x","y","name"],y))),{isNode:!0})}),edges:A.map(function(M){return(0,x.pi)((0,x.pi)({source:M.source.name,target:M.target.name,name:M.source.name||M.target.name},Pr(M,(0,x.pr)(["x","y","value"],y))),{isNode:!1})})}}function DW(e){var r=e.options,t=r.rawFields,n=t===void 0?[]:t;return pe({},{options:{tooltip:{fields:(0,d.jj)((0,x.pr)(["name","source","target","value","isNode"],n))},label:{fields:(0,d.jj)((0,x.pr)(["x","name"],n))}}},e)}function BW(e){var r=e.chart,t=e.options,n=t.color,i=t.nodeStyle,a=t.edgeStyle,o=t.label,s=t.tooltip,u=t.nodeState,l=t.edgeState;r.legend(!1),r.tooltip(s),r.axis(!1),r.coordinate().reflect("y");var c=Sy(t,r.width,r.height),f=c.nodes,h=c.edges,v=r.createView({id:J2});v.data(h),Td({chart:v,options:{xField:dy,yField:gy,seriesField:yy,edge:{color:n,style:a,shape:"arc"},tooltip:s,state:l}});var p=r.createView({id:Q2});return p.data(f),z2({chart:p,options:{xField:dy,yField:gy,seriesField:yy,polygon:{color:n,style:i},label:o,tooltip:s,state:u}}),r.interaction("element-active"),r.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color",type:"cat"}}),e}function NW(e){var r=e.chart,t=e.options,n=t.animation,i=(0,x.pr)(r.views[0].geometries,r.views[1].geometries);return Ks(r,n,i),e}function ZW(e){var r=e.chart,t=e.options,n=t.nodeDraggable,i="sankey-node-draggable";return n?r.interaction(i):r.removeInteraction(i),e}function zW(e){var r=e.chart,t=e.options,n=t.interactions,i=n===void 0?[]:n,a=[].concat(i,t.nodeInteractions||[]),o=[].concat(i,t.edgeInteractions||[]),s=gr(r,Q2),u=gr(r,J2);return a.forEach(function(l){(l==null?void 0:l.enable)===!1?s.removeInteraction(l.type):s.interaction(l.type,l.cfg||{})}),o.forEach(function(l){(l==null?void 0:l.enable)===!1?u.removeInteraction(l.type):u.interaction(l.type,l.cfg||{})}),e}function UW(e){return or(DW,BW,zW,ZW,NW,Ar)(e)}var HW=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDragging=!1,t}return r.prototype.isNodeElement=function(){var t=(0,d.U2)(this.context,"event.target");if(t){var n=t.get("element");return n&&n.getModel().data.isNode}return!1},r.prototype.getNodeView=function(){return gr(this.context.view,Q2)},r.prototype.getEdgeView=function(){return gr(this.context.view,J2)},r.prototype.getCurrentDatumIdx=function(t){return this.getNodeView().geometries[0].elements.indexOf(t)},r.prototype.start=function(){if(this.isNodeElement()){this.prevPoint={x:(0,d.U2)(this.context,"event.x"),y:(0,d.U2)(this.context,"event.y")};var t=this.context.event.target.get("element"),n=this.getCurrentDatumIdx(t);if(n===-1)return;this.currentElementIdx=n,this.context.isDragging=!0,this.isDragging=!0,this.prevNodeAnimateCfg=this.getNodeView().getOptions().animate,this.prevEdgeAnimateCfg=this.getEdgeView().getOptions().animate,this.getNodeView().animate(!1),this.getEdgeView().animate(!1)}},r.prototype.translate=function(){if(this.isDragging){var t=this.context.view,n={x:(0,d.U2)(this.context,"event.x"),y:(0,d.U2)(this.context,"event.y")},i=n.x-this.prevPoint.x,a=n.y-this.prevPoint.y,o=this.getNodeView(),s=o.geometries[0].elements[this.currentElementIdx];if(s&&s.getModel()){var u=s.getModel().data,l=o.getOptions().data,c=o.getCoordinate(),f={x:i/c.getWidth(),y:a/c.getHeight()},h=(0,x.pi)((0,x.pi)({},u),{x:u.x.map(function(m){return m+=f.x}),y:u.y.map(function(m){return m+=f.y})}),v=(0,x.pr)(l);v[this.currentElementIdx]=h,o.data(v);var p=u.name,g=this.getEdgeView(),y=g.getOptions().data;y.forEach(function(m){m.source===p&&(m.x[0]+=f.x,m.x[1]+=f.x,m.y[0]+=f.y,m.y[1]+=f.y),m.target===p&&(m.x[2]+=f.x,m.x[3]+=f.x,m.y[2]+=f.y,m.y[3]+=f.y)}),g.data(y),this.prevPoint=n,t.render(!0)}}},r.prototype.end=function(){this.isDragging=!1,this.context.isDragging=!1,this.prevPoint=null,this.currentElementIdx=null,this.getNodeView().animate(this.prevNodeAnimateCfg),this.getEdgeView().animate(this.prevEdgeAnimateCfg)},r}(Vr);Je("sankey-node-drag",HW),lr("sankey-node-draggable",{showEnable:[{trigger:"polygon:mouseenter",action:"cursor:pointer"},{trigger:"polygon:mouseleave",action:"cursor:default"}],start:[{trigger:"polygon:mousedown",action:"sankey-node-drag:start"}],processing:[{trigger:"plot:mousemove",action:"sankey-node-drag:translate"},{isEnable:function(e){return e.isDragging},trigger:"plot:mousemove",action:"cursor:move"}],end:[{trigger:"plot:mouseup",action:"sankey-node-drag:end"}]});var j9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sankey",t}return r.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},edgeState:{active:{style:{opacity:.8,lineWidth:0}}},label:{formatter:function(t){var n=t.name;return n},callback:function(t){var n=t[1]===1;return{style:{fill:"#545454",textAlign:n?"end":"start"},offsetX:n?-8:8}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,showContent:function(t){return!(0,d.U2)(t,[0,"data","isNode"])},formatter:function(t){var n=t.source,i=t.target,a=t.value;return{name:n+" -> "+i,value:a}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},r.prototype.changeData=function(t){this.updateOption({data:t});var n=Sy(this.options,this.chart.width,this.chart.height),i=n.nodes,a=n.edges,o=gr(this.chart,Q2),s=gr(this.chart,J2);o.changeData(i),s.changeData(a)},r.prototype.getSchemaAdaptor=function(){return UW},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(hr),l5="ancestor-node",by="value",su="path",VW=[su,Kg,Jf,Qg,"name","depth","height"],GW=pe({},hr.getDefaultOptions(),{innerRadius:0,radius:.85,hierarchyConfig:{field:"value"},tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1},legend:!1,sunburstStyle:{lineWidth:.5,stroke:"#FFF"},drilldown:{enabled:!0}});function Ay(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function uu(e,r,t,n,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(n-r)/e.value;++s<u;)o=a[s],o.y0=t,o.y1=i,o.x0=r,o.x1=r+=o.value*l}function My(){var e=1,r=1,t=0,n=!1;function i(o){var s=o.height+1;return o.x0=o.y0=t,o.x1=e,o.y1=r/s,o.eachBefore(a(r,s)),n&&o.eachBefore(Ay),o}function a(o,s){return function(u){u.children&&uu(u,u.x0,o*(u.depth+1)/s,u.x1,o*(u.depth+2)/s);var l=u.x0,c=u.y0,f=u.x1-t,h=u.y1-t;f<l&&(l=f=(l+f)/2),h<c&&(c=h=(c+h)/2),u.x0=l,u.y0=c,u.x1=f,u.y1=h}}return i.round=function(o){return arguments.length?(n=!!o,i):n},i.size=function(o){return arguments.length?(e=+o[0],r=+o[1],i):[e,r]},i.padding=function(o){return arguments.length?(t=+o,i):t},i}var jW={field:"value",size:[1,1],round:!1,padding:0,sort:function(e,r){return r.value-e.value},as:["x","y"],ignoreParentValue:!0};function WW(e,r){r=(0,d.f0)({},jW,r);var t=r.as;if(!(0,d.kJ)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=e5(r)}catch(u){console.warn(u)}var i=function(u){return My().size(r.size).round(r.round).padding(r.padding)(T0(u).sum(function(l){return(0,d.dp)(l.children)?r.ignoreParentValue?0:l[n]-(0,d.u4)(l.children,function(c,f){return c+f[n]},0):l[n]}).sort(r.sort))},a=i(e),o=t[0],s=t[1];return a.each(function(u){var l,c;u[o]=[u.x0,u.x1,u.x1,u.x0],u[s]=[u.y1,u.y1,u.y0,u.y0],u.name=u.name||((l=u.data)===null||l===void 0?void 0:l.name)||((c=u.data)===null||c===void 0?void 0:c.label),u.data.name=u.name,["x0","x1","y0","y1"].forEach(function(f){t.indexOf(f)===-1&&delete u[f]})}),r5(a)}function YW(e,r){return e.parent===r.parent?1:2}function XW(e){return e.reduce($W,0)/e.length}function $W(e,r){return e+r.x}function qW(e){return 1+e.reduce(KW,0)}function KW(e,r){return Math.max(e,r.y)}function QW(e){for(var r;r=e.children;)e=r[0];return e}function JW(e){for(var r;r=e.children;)e=r[r.length-1];return e}function tY(){var e=YW,r=1,t=1,n=!1;function i(a){var o,s=0;a.eachAfter(function(h){var v=h.children;v?(h.x=XW(v),h.y=qW(v)):(h.x=o?s+=e(h,o):0,h.y=0,o=h)});var u=QW(a),l=JW(a),c=u.x-e(u,l)/2,f=l.x+e(l,u)/2;return a.eachAfter(n?function(h){h.x=(h.x-a.x)*r,h.y=(a.y-h.y)*t}:function(h){h.x=(h.x-c)/(f-c)*r,h.y=(1-(a.y?h.y/a.y:1))*t})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(n=!1,r=+a[0],t=+a[1],i):n?null:[r,t]},i.nodeSize=function(a){return arguments.length?(n=!0,r=+a[0],t=+a[1],i):n?[r,t]:null},i}var eY={depth:-1},Ty={};function rY(e){return e.id}function nY(e){return e.parentId}function iY(){var e=rY,r=nY;function t(n){var i=Array.from(n),a=i.length,o,s,u,l,c,f,h,v=new Map;for(s=0;s<a;++s)o=i[s],c=i[s]=new w0(o),(f=e(o,s,n))!=null&&(f+="")&&(h=c.id=f,v.set(h,v.has(h)?Ty:c)),(f=r(o,s,n))!=null&&(f+="")&&(c.parent=f);for(s=0;s<a;++s)if(c=i[s],f=c.parent){if(l=v.get(f),!l)throw new Error("missing: "+f);if(l===Ty)throw new Error("ambiguous: "+f);l.children?l.children.push(c):l.children=[c],c.parent=l}else{if(u)throw new Error("multiple roots");u=c}if(!u)throw new Error("no root");if(u.parent=eY,u.eachBefore(function(p){p.depth=p.parent.depth+1,--a}).eachBefore(qg),u.parent=null,a>0)throw new Error("cycle");return u}return t.id=function(n){return arguments.length?(e=K2(n),t):e},t.parentId=function(n){return arguments.length?(r=K2(n),t):r},t}function aY(e,r){return e.parent===r.parent?1:2}function c5(e){var r=e.children;return r?r[0]:e.t}function f5(e){var r=e.children;return r?r[r.length-1]:e.t}function oY(e,r,t){var n=t/(r.i-e.i);r.c-=n,r.s+=t,e.c+=n,r.z+=t,r.m+=t}function sY(e){for(var r=0,t=0,n=e.children,i=n.length,a;--i>=0;)a=n[i],a.z+=r,a.m+=r,r+=a.s+(t+=a.c)}function uY(e,r,t){return e.a.parent===r.parent?e.a:t}function r3(e,r){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=r}r3.prototype=Object.create(w0.prototype);function lY(e){for(var r=new r3(e,0),t,n=[r],i,a,o,s;t=n.pop();)if(a=t._.children)for(t.children=new Array(s=a.length),o=s-1;o>=0;--o)n.push(i=t.children[o]=new r3(a[o],o)),i.parent=t;return(r.parent=new r3(null,0)).children=[r],r}function cY(){var e=aY,r=1,t=1,n=null;function i(l){var c=lY(l);if(c.eachAfter(a),c.parent.m=-c.z,c.eachBefore(o),n)l.eachBefore(u);else{var f=l,h=l,v=l;l.eachBefore(function(E){E.x<f.x&&(f=E),E.x>h.x&&(h=E),E.depth>v.depth&&(v=E)});var p=f===h?1:e(f,h)/2,g=p-f.x,y=r/(h.x+p+g),m=t/(v.depth||1);l.eachBefore(function(E){E.x=(E.x+g)*y,E.y=E.depth*m})}return l}function a(l){var c=l.children,f=l.parent.children,h=l.i?f[l.i-1]:null;if(c){sY(l);var v=(c[0].z+c[c.length-1].z)/2;h?(l.z=h.z+e(l._,h._),l.m=l.z-v):l.z=v}else h&&(l.z=h.z+e(l._,h._));l.parent.A=s(l,h,l.parent.A||f[0])}function o(l){l._.x=l.z+l.parent.m,l.m+=l.parent.m}function s(l,c,f){if(c){for(var h=l,v=l,p=c,g=h.parent.children[0],y=h.m,m=v.m,E=p.m,C=g.m,A;p=f5(p),h=c5(h),p&&h;)g=c5(g),v=f5(v),v.a=l,A=p.z+E-h.z-y+e(p._,h._),A>0&&(oY(uY(p,l,f),l,A),y+=A,m+=A),E+=p.m,y+=h.m,C+=g.m,m+=v.m;p&&!f5(v)&&(v.t=p,v.m+=E-m),h&&!c5(g)&&(g.t=h,g.m+=y-C,f=l)}return f}function u(l){l.x*=r,l.y=l.depth*t}return i.separation=function(l){return arguments.length?(e=l,i):e},i.size=function(l){return arguments.length?(n=!1,r=+l[0],t=+l[1],i):n?null:[r,t]},i.nodeSize=function(l){return arguments.length?(n=!0,r=+l[0],t=+l[1],i):n?[r,t]:null},i}function n3(e,r,t,n,i){for(var a=e.children,o,s=-1,u=a.length,l=e.value&&(i-t)/e.value;++s<u;)o=a[s],o.x0=r,o.x1=n,o.y0=t,o.y1=t+=o.value*l}var wy=(1+Math.sqrt(5))/2;function Fy(e,r,t,n,i,a){for(var o=[],s=r.children,u,l,c=0,f=0,h=s.length,v,p,g=r.value,y,m,E,C,A,M,Z;c<h;){v=i-t,p=a-n;do y=s[f++].value;while(!y&&f<h);for(m=E=y,M=Math.max(p/v,v/p)/(g*e),Z=y*y*M,A=Math.max(E/Z,Z/m);f<h;++f){if(y+=l=s[f].value,l<m&&(m=l),l>E&&(E=l),Z=y*y*M,C=Math.max(E/Z,Z/m),C>A){y-=l;break}A=C}o.push(u={value:y,dice:v<p,children:s.slice(c,f)}),u.dice?uu(u,t,n,i,g?n+=p*y/g:a):n3(u,t,n,g?t+=v*y/g:i,a),g-=y,c=f}return o}var ky=function e(r){function t(n,i,a,o,s){Fy(r,n,i,a,o,s)}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(wy);function Oy(){var e=ky,r=!1,t=1,n=1,i=[0],a=E1,o=E1,s=E1,u=E1,l=E1;function c(h){return h.x0=h.y0=0,h.x1=t,h.y1=n,h.eachBefore(f),i=[0],r&&h.eachBefore(Ay),h}function f(h){var v=i[h.depth],p=h.x0+v,g=h.y0+v,y=h.x1-v,m=h.y1-v;y<p&&(p=y=(p+y)/2),m<g&&(g=m=(g+m)/2),h.x0=p,h.y0=g,h.x1=y,h.y1=m,h.children&&(v=i[h.depth+1]=a(h)/2,p+=l(h)-v,g+=o(h)-v,y-=s(h)-v,m-=u(h)-v,y<p&&(p=y=(p+y)/2),m<g&&(g=m=(g+m)/2),e(h,p,g,y,m))}return c.round=function(h){return arguments.length?(r=!!h,c):r},c.size=function(h){return arguments.length?(t=+h[0],n=+h[1],c):[t,n]},c.tile=function(h){return arguments.length?(e=K2(h),c):e},c.padding=function(h){return arguments.length?c.paddingInner(h).paddingOuter(h):c.paddingInner()},c.paddingInner=function(h){return arguments.length?(a=typeof h=="function"?h:M0(+h),c):a},c.paddingOuter=function(h){return arguments.length?c.paddingTop(h).paddingRight(h).paddingBottom(h).paddingLeft(h):c.paddingTop()},c.paddingTop=function(h){return arguments.length?(o=typeof h=="function"?h:M0(+h),c):o},c.paddingRight=function(h){return arguments.length?(s=typeof h=="function"?h:M0(+h),c):s},c.paddingBottom=function(h){return arguments.length?(u=typeof h=="function"?h:M0(+h),c):u},c.paddingLeft=function(h){return arguments.length?(l=typeof h=="function"?h:M0(+h),c):l},c}function fY(e,r,t,n,i){var a=e.children,o,s=a.length,u,l=new Array(s+1);for(l[0]=u=o=0;o<s;++o)l[o+1]=u+=a[o].value;c(0,s,e.value,r,t,n,i);function c(f,h,v,p,g,y,m){if(f>=h-1){var E=a[f];E.x0=p,E.y0=g,E.x1=y,E.y1=m;return}for(var C=l[f],A=v/2+C,M=f+1,Z=h-1;M<Z;){var Y=M+Z>>>1;l[Y]<A?M=Y+1:Z=Y}A-l[M-1]<l[M]-A&&f+1<M&&--M;var st=l[M]-C,Ct=v-st;if(y-p>m-g){var Pt=v?(p*Ct+y*st)/v:y;c(f,M,st,p,g,Pt,m),c(M,h,Ct,Pt,g,y,m)}else{var Zt=v?(g*Ct+m*st)/v:m;c(f,M,st,p,g,y,Zt),c(M,h,Ct,p,Zt,y,m)}}}function hY(e,r,t,n,i){(e.depth&1?n3:uu)(e,r,t,n,i)}var vY=function e(r){function t(n,i,a,o,s){if((u=n._squarify)&&u.ratio===r)for(var u,l,c,f,h=-1,v,p=u.length,g=n.value;++h<p;){for(l=u[h],c=l.children,f=l.value=0,v=c.length;f<v;++f)l.value+=c[f].value;l.dice?uu(l,i,a,o,g?a+=(s-a)*l.value/g:s):n3(l,i,a,g?i+=(o-i)*l.value/g:o,s),g-=l.value}else n._squarify=u=Fy(r,n,i,a,o,s),u.ratio=r}return t.ratio=function(n){return e((n=+n)>1?n:1)},t}(wy),pY={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(e,r){return r.value-e.value},ratio:.5*(1+Math.sqrt(5))};function dY(e,r){return e==="treemapSquarify"?Tt[e].ratio(r):Tt[e]}function Ly(e,r){r=(0,d.f0)({},pY,r);var t=r.as;if(!(0,d.kJ)(t)||t.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var n;try{n=e5(r)}catch(l){console.warn(l)}var i=dY(r.tile,r.ratio),a=function(l){return Oy().tile(i).size(r.size).round(r.round).padding(r.padding).paddingInner(r.paddingInner).paddingOuter(r.paddingOuter).paddingTop(r.paddingTop).paddingRight(r.paddingRight).paddingBottom(r.paddingBottom).paddingLeft(r.paddingLeft)(T0(l).sum(function(c){return r.ignoreParentValue&&c.children?0:c[n]}).sort(r.sort))},o=a(e),s=t[0],u=t[1];return o.each(function(l){l[s]=[l.x0,l.x1,l.x1,l.x0],l[u]=[l.y1,l.y1,l.y0,l.y0],["x0","x1","y0","y1"].forEach(function(c){t.indexOf(c)===-1&&delete l[c]})}),r5(o)}function Iy(e){var r=e.data,t=e.colorField,n=e.rawFields,i=e.hierarchyConfig,a=i===void 0?{}:i,o=a.activeDepth,s={partition:WW,treemap:Ly},u=e.seriesField,l=e.type||"partition",c=s[l](r,(0,x.pi)((0,x.pi)({field:u||"value"},(0,d.CE)(a,["activeDepth"])),{type:"hierarchy."+l,as:["x","y"]})),f=[];return c.forEach(function(h){var v,p,g,y,m,E;if(h.depth===0||o>0&&h.depth>o)return null;for(var C=h.data.name,A=(0,x.pi)({},h);A.depth>1;)C=((p=A.parent.data)===null||p===void 0?void 0:p.name)+" / "+C,A=A.parent;var M=(0,x.pi)((0,x.pi)((0,x.pi)({},Pr(h.data,(0,x.pr)(n||[],[a.field]))),(v={},v[su]=C,v[l5]=A.data.name,v)),h);u&&(M[u]=h.data[u]||((y=(g=h.parent)===null||g===void 0?void 0:g.data)===null||y===void 0?void 0:y[u])),t&&(M[t]=h.data[t]||((E=(m=h.parent)===null||m===void 0?void 0:m.data)===null||E===void 0?void 0:E[t])),M.ext=a,M[au]={hierarchyConfig:a,colorField:t,rawFields:n},f.push(M)}),f}function gY(e){var r=e.chart,t=e.options,n=t.color,i=t.colorField,a=i===void 0?l5:i,o=t.sunburstStyle,s=t.rawFields,u=s===void 0?[]:s,l=Iy(t);r.data(l);var c;return o&&(c=function(f){return pe({},{fillOpacity:Math.pow(.85,f.depth)},(0,d.mf)(o)?o(f):o)}),z2(pe({},e,{options:{xField:"x",yField:"y",seriesField:a,rawFields:(0,d.jj)((0,x.pr)(VW,u)),polygon:{color:n,style:c}}})),e}function yY(e){var r=e.chart;return r.axis(!1),e}function mY(e){var r=e.chart,t=e.options,n=t.label,i=In(r,"polygon");if(!n)i.label(!1);else{var a=n.fields,o=a===void 0?["name"]:a,s=n.callback,u=(0,x._T)(n,["fields","callback"]);i.label({fields:o,callback:s,cfg:Sn(u)})}return e}function xY(e){var r=e.chart,t=e.options,n=t.innerRadius,i=t.radius,a=t.reflect,o=r.coordinate({type:"polar",cfg:{innerRadius:n,radius:i}});return a&&o.reflect(a),e}function _Y(e){var r,t=e.options,n=t.hierarchyConfig,i=t.meta;return or(Jr({},(r={},r[by]=(0,d.U2)(i,(0,d.U2)(n,["field"],"value")),r)))(e)}function EY(e){var r=e.chart,t=e.options,n=t.tooltip;if(n===!1)r.tooltip(!1);else{var i=n;(0,d.U2)(n,"fields")||(i=pe({},{customItems:function(a){return a.map(function(o){var s=(0,d.U2)(r.getOptions(),"scales"),u=(0,d.U2)(s,[su,"formatter"],function(c){return c}),l=(0,d.U2)(s,[by,"formatter"],function(c){return c});return(0,x.pi)((0,x.pi)({},o),{name:u(o.data[su]),value:l(o.data.value)})})}},i)),r.tooltip(i)}return e}function CY(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t;return r!=null&&r.enabled?pe({},e,{interactions:(0,x.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:Iy}}])}):e}function SY(e){var r=e.chart,t=e.options,n=t.drilldown;return jr({chart:r,options:CY(t)}),n!=null&&n.enabled&&(r.appendPadding=I2(r.appendPadding,(0,d.U2)(n,["breadCrumb","position"]))),e}function bY(e){return or(Ar,yi("sunburstStyle"),gY,yY,_Y,p1,xY,EY,mY,SY,Rr,Xr())(e)}var W9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="sunburst",t}return r.getDefaultOptions=function(){return GW},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return bY},r.SUNBURST_ANCESTOR_FIELD=l5,r.SUNBURST_PATH_FIELD=su,r.NODE_ANCESTORS_FIELD=Jf,r}(hr);function Py(e,r){if((0,d.kJ)(e))return e.find(function(t){return t.type===r})}function Ry(e,r){var t=Py(e,r);return t&&t.enable!==!1}function h5(e){var r=e.interactions,t=e.drilldown;return(0,d.U2)(t,"enabled")||Ry(r,"treemap-drill-down")}function AY(e){var r=e.interactions["drill-down"];if(r){var t=r.context.actions.find(function(n){return n.name==="drill-down-action"});t.reset()}}function v5(e){var r=e.data,t=e.colorField,n=e.enableDrillDown,i=e.hierarchyConfig,a=Ly(r,(0,x.pi)((0,x.pi)({},i),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),o=[];return a.forEach(function(s){if(s.depth===0||n&&s.depth!==1||!n&&s.children)return null;var u=s.ancestors().map(function(h){return{data:h.data,height:h.height,value:h.value}}),l=n&&(0,d.kJ)(r.path)?u.concat(r.path.slice(1)):u,c=Object.assign({},s.data,(0,x.pi)({x:s.x,y:s.y,depth:s.depth,value:s.value,path:l},s));if(!s.data[t]&&s.parent){var f=s.ancestors().find(function(h){return h.data[t]});c[t]=f==null?void 0:f.data[t]}else c[t]=s.data[t];c[au]={hierarchyConfig:i,colorField:t,enableDrillDown:n},o.push(c)}),o}function MY(e){var r=e.options,t=r.colorField;return pe({options:{rawFields:["value"],tooltip:{fields:["name","value",t,"path"],formatter:function(n){return{name:n.name,value:n.value}}}}},e)}function TY(e){var r=e.chart,t=e.options,n=t.color,i=t.colorField,a=t.rectStyle,o=t.hierarchyConfig,s=t.rawFields,u=v5({data:t.data,colorField:t.colorField,enableDrillDown:h5(t),hierarchyConfig:o});return r.data(u),z2(pe({},e,{options:{xField:"x",yField:"y",seriesField:i,rawFields:s,polygon:{color:n,style:a}}})),r.coordinate().reflect("y"),e}function wY(e){var r=e.chart;return r.axis(!1),e}function FY(e){var r=e.drilldown,t=e.interactions,n=t===void 0?[]:t,i=h5(e);return i?pe({},e,{interactions:(0,x.pr)(n,[{type:"drill-down",cfg:{drillDownConfig:r,transformData:v5}}])}):e}function kY(e){var r=e.chart,t=e.options,n=t.interactions,i=t.drilldown;jr({chart:r,options:FY(t)});var a=Py(n,"view-zoom");a&&(a.enable!==!1?r.getCanvas().on("mousewheel",function(s){s.preventDefault()}):r.getCanvas().off("mousewheel"));var o=h5(t);return o&&(r.appendPadding=I2(r.appendPadding,(0,d.U2)(i,["breadCrumb","position"]))),e}function OY(e){return or(MY,Ar,yi("rectStyle"),TY,wY,p1,vn,kY,Rr,Xr())(e)}var LY={colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1},drilldown:{enabled:!1,breadCrumb:{position:"bottom-left",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeTextStyle:{fill:"#87B5FF"}}}},Y9t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="treemap",t}return r.getDefaultOptions=function(){return LY},r.prototype.changeData=function(t){var n=this.options,i=n.colorField,a=n.interactions,o=n.hierarchyConfig;this.updateOption({data:t});var s=v5({data:t,colorField:i,enableDrillDown:Ry(a,"treemap-drill-down"),hierarchyConfig:o});this.chart.changeData(s),AY(this.chart)},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return OY},r}(hr),Ka="id",p5="path",IY={appendPadding:[10,0,20,0],blendMode:"multiply",tooltip:{showTitle:!1,showMarkers:!1,fields:["id","size"],formatter:function(e){return{name:e.id,value:e.size}}},legend:{position:"top-left"},label:{style:{textAlign:"center",fill:"#fff"}},interactions:[{type:"legend-filter",enable:!1}],state:{active:{style:{stroke:"#000"}},selected:{style:{stroke:"#000",lineWidth:2}},inactive:{style:{fillOpacity:.3,strokeOpacity:.3}}},defaultInteractions:["tooltip","venn-legend-active"]};function i3(e){if(e){var r=e.geometries[0].elements;r.forEach(function(t){t.shape.toFront()})}}var PY=r2("element-active"),RY=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){i3(this.context.view)},r.prototype.active=function(){e.prototype.active.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(PY),DY=r2("element-highlight"),BY=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){i3(this.context.view)},r.prototype.highlight=function(){e.prototype.highlight.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.clear=function(){e.prototype.clear.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(DY),NY=r2("element-selected"),ZY=r2("element-single-selected"),zY=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){i3(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(NY),UY=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.syncElementsPos=function(){i3(this.context.view)},r.prototype.selected=function(){e.prototype.selected.call(this),this.syncElementsPos()},r.prototype.toggle=function(){e.prototype.toggle.call(this),this.syncElementsPos()},r.prototype.reset=function(){e.prototype.reset.call(this),this.syncElementsPos()},r}(ZY);Je("venn-element-active",RY),Je("venn-element-highlight",BY),Je("venn-element-selected",zY),Je("venn-element-single-selected",UY),lr("venn-element-active",{start:[{trigger:"element:mouseenter",action:"venn-element-active:active"}],end:[{trigger:"element:mouseleave",action:"venn-element-active:reset"}]}),lr("venn-element-highlight",{start:[{trigger:"element:mouseenter",action:"venn-element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"venn-element-highlight:reset"}]}),lr("venn-element-selected",{start:[{trigger:"element:click",action:"venn-element-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-selected:reset"]}]}),lr("venn-element-single-selected",{start:[{trigger:"element:click",action:"venn-element-single-selected:toggle"}],rollback:[{trigger:"dblclick",action:["venn-element-single-selected:reset"]}]}),lr("venn-legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","venn-element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","venn-element-active:reset"]}]}),lr("venn-legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","venn-element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","venn-element-highlight:reset"]}]});var HY=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getLabelPoint=function(t,n,i){var a=t.data,o=a.x,s=a.y,u=t.customLabelInfo,l=u.offsetX,c=u.offsetY;return{content:t.content[i],x:o+l,y:s+c}},r}(c2);Ns("venn",HY);var VY=Array.isArray,a3=VY,lu=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,GY=new RegExp("([a-z])["+lu+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+lu+"]*,?["+lu+"]*)+)","ig"),jY=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+lu+"]*,?["+lu+"]*","ig");function WY(e){if(!e)return null;if(a3(e))return e;var r={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},t=[];return String(e).replace(GY,function(n,i,a){var o=[],s=i.toLowerCase();if(a.replace(jY,function(u,l){l&&o.push(+l)}),s==="m"&&o.length>2&&(t.push([i].concat(o.splice(0,2))),s="l",i=i==="m"?"l":"L"),s==="o"&&o.length===1&&t.push([i,o[0]]),s==="r")t.push([i].concat(o));else for(;o.length>=r[s]&&(t.push([i].concat(o.splice(0,r[s]))),!!r[s]););return""}),t}var YY=/[a-z]/;function Dy(e,r){return[r[0]+(r[0]-e[0]),r[1]+(r[1]-e[1])]}function X9t(e){var r=parsePathString(e);if(!r||!r.length)return[["M",0,0]];for(var t=!1,n=0;n<r.length;n++){var i=r[n][0];if(YY.test(i)||["V","H","T","S"].indexOf(i)>=0){t=!0;break}}if(!t)return r;var a=[],o=0,s=0,u=0,l=0,c=0,f,h,v=r[0];(v[0]==="M"||v[0]==="m")&&(o=+v[1],s=+v[2],u=o,l=s,c++,a[0]=["M",o,s]);for(var n=c,p=r.length;n<p;n++){var g=r[n],y=a[n-1],m=[],i=g[0],E=i.toUpperCase();if(i!==E)switch(m[0]=E,E){case"A":m[1]=g[1],m[2]=g[2],m[3]=g[3],m[4]=g[4],m[5]=g[5],m[6]=+g[6]+o,m[7]=+g[7]+s;break;case"V":m[1]=+g[1]+s;break;case"H":m[1]=+g[1]+o;break;case"M":u=+g[1]+o,l=+g[2]+s,m[1]=u,m[2]=l;break;default:for(var C=1,A=g.length;C<A;C++)m[C]=+g[C]+(C%2?o:s)}else m=r[n];switch(E){case"Z":o=+u,s=+l;break;case"H":o=m[1],m=["L",o,s];break;case"V":s=m[1],m=["L",o,s];break;case"T":o=m[1],s=m[2];var M=Dy([y[1],y[2]],[y[3],y[4]]);m=["Q",M[0],M[1],o,s];break;case"S":o=m[m.length-2],s=m[m.length-1];var Z=y.length,Y=Dy([y[Z-4],y[Z-3]],[y[Z-2],y[Z-1]]);m=["C",Y[0],Y[1],m[1],m[2],o,s];break;case"M":u=m[m.length-2],l=m[m.length-1];break;default:o=m[m.length-2],s=m[m.length-1]}a.push(m)}return a}var cu=Math.PI*2,d5=function(e,r,t,n,i,a,o){var s=e.x,u=e.y;s*=r,u*=t;var l=n*s-i*u,c=i*s+n*u;return{x:l+a,y:c+o}},XY=function(e,r){var t=r===1.5707963267948966?.551915024494:r===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(r/4),n=Math.cos(e),i=Math.sin(e),a=Math.cos(e+r),o=Math.sin(e+r);return[{x:n-i*t,y:i+n*t},{x:a+o*t,y:o-a*t},{x:a,y:o}]},By=function(e,r,t,n){var i=e*n-r*t<0?-1:1,a=e*t+r*n;return a>1&&(a=1),a<-1&&(a=-1),i*Math.acos(a)},$Y=function(e,r,t,n,i,a,o,s,u,l,c,f){var h=Math.pow(i,2),v=Math.pow(a,2),p=Math.pow(c,2),g=Math.pow(f,2),y=h*v-h*g-v*p;y<0&&(y=0),y/=h*g+v*p,y=Math.sqrt(y)*(o===s?-1:1);var m=y*i/a*f,E=y*-a/i*c,C=l*m-u*E+(e+t)/2,A=u*m+l*E+(r+n)/2,M=(c-m)/i,Z=(f-E)/a,Y=(-c-m)/i,st=(-f-E)/a,Ct=By(1,0,M,Z),Pt=By(M,Z,Y,st);return s===0&&Pt>0&&(Pt-=cu),s===1&&Pt<0&&(Pt+=cu),[C,A,Ct,Pt]},qY=function(e){var r=e.px,t=e.py,n=e.cx,i=e.cy,a=e.rx,o=e.ry,s=e.xAxisRotation,u=s===void 0?0:s,l=e.largeArcFlag,c=l===void 0?0:l,f=e.sweepFlag,h=f===void 0?0:f,v=[];if(a===0||o===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:i}];var p=Math.sin(u*cu/360),g=Math.cos(u*cu/360),y=g*(r-n)/2+p*(t-i)/2,m=-p*(r-n)/2+g*(t-i)/2;if(y===0&&m===0)return[{x1:0,y1:0,x2:0,y2:0,x:n,y:i}];a=Math.abs(a),o=Math.abs(o);var E=Math.pow(y,2)/Math.pow(a,2)+Math.pow(m,2)/Math.pow(o,2);E>1&&(a*=Math.sqrt(E),o*=Math.sqrt(E));var C=$Y(r,t,n,i,a,o,c,h,p,g,y,m),A=C[0],M=C[1],Z=C[2],Y=C[3],st=Math.abs(Y)/(cu/4);Math.abs(1-st)<1e-7&&(st=1);var Ct=Math.max(Math.ceil(st),1);Y/=Ct;for(var Pt=0;Pt<Ct;Pt++)v.push(XY(Z,Y)),Z+=Y;return v.map(function(Zt){var ie=d5(Zt[0],a,o,g,p,A,M),ce=ie.x,_e=ie.y,Re=d5(Zt[1],a,o,g,p,A,M),he=Re.x,Me=Re.y,De=d5(Zt[2],a,o,g,p,A,M),Fe=De.x,Ve=De.y;return{x1:ce,y1:_e,x2:he,y2:Me,x:Fe,y:Ve}})};function $9t(e,r,t,n,i,a,o,s,u){var l=qY({px:e,py:r,cx:s,cy:u,rx:t,ry:n,xAxisRotation:i,largeArcFlag:a,sweepFlag:o});return l.reduce(function(c,f){var h=f.x1,v=f.y1,p=f.x2,g=f.y2,y=f.x,m=f.y;return c.push(h,v,p,g,y,m),c},[])}function q9t(e,r){"TQ".indexOf(e[0])<0&&(r.qx=null,r.qy=null);var t=e.slice(1),n=t[0],i=t[1];switch(e[0]){case"M":return r.x=n,r.y=i,e;case"A":return["C"].concat(arcToCubic.apply(0,[r.x1,r.y1].concat(e.slice(1))));case"Q":return r.qx=n,r.qy=i,["C"].concat(quadToCubic.apply(0,[r.x1,r.y1].concat(e.slice(1))));case"L":return["C"].concat(lineToCubic(r.x1,r.y1,e[1],e[2]));case"H":return["C"].concat(lineToCubic(r.x1,r.y1,e[1],r.y1));case"V":return["C"].concat(lineToCubic(r.x1,r.y1,r.x1,e[1]));case"Z":return["C"].concat(lineToCubic(r.x1,r.y1,r.x,r.y));default:}return e}function K9t(e,r){r===void 0&&(r=!1);for(var t=path2Absolute(e),n={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],a="",o=t.length,s,u,l=[],c=0;c<o;c+=1)t[c]&&(a=t[c][0]),i[c]=a,t[c]=segmentToCubic(t[c],n),KY(t,i,c),o=t.length,a==="Z"&&l.push(c),s=t[c],u=s.length,n.x1=+s[u-2],n.y1=+s[u-1],n.x2=+s[u-4]||n.x1,n.y2=+s[u-3]||n.y1;return r?[t,l]:t}function KY(e,r,t){if(e[t].length>7){e[t].shift();for(var n=e[t],i=t;n.length;)r[t]="A",e.splice(i+=1,0,["C"].concat(n.splice(0,6)));e.splice(t,1)}}var Ny=function(e,r,t,n,i){var a=-3*r+9*t-9*n+3*i,o=e*a+6*r-12*t+6*n;return e*o-3*r+3*t},Zy=function(e,r,t,n,i,a,o,s,u){u===null&&(u=1),u=u>1?1:u<0?0:u;for(var l=u/2,c=12,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],v=0,p=0;p<c;p++){var g=l*f[p]+l,y=Ny(g,e,t,i,o),m=Ny(g,r,n,a,s),E=y*y+m*m;v+=h[p]*Math.sqrt(E)}return l*v},QY=function(e,r,t,n,i,a,o,s){for(var u=[],l=[[],[]],c,f,h,v,p=0;p<2;++p){if(p===0?(f=6*e-12*t+6*i,c=-3*e+9*t-9*i+3*o,h=3*t-3*e):(f=6*r-12*n+6*a,c=-3*r+9*n-9*a+3*s,h=3*n-3*r),Math.abs(c)<1e-12){if(Math.abs(f)<1e-12)continue;v=-h/f,v>0&&v<1&&u.push(v);continue}var g=f*f-4*h*c,y=Math.sqrt(g);if(!(g<0)){var m=(-f+y)/(2*c);m>0&&m<1&&u.push(m);var E=(-f-y)/(2*c);E>0&&E<1&&u.push(E)}}for(var C=u.length,A=C,M;C--;)v=u[C],M=1-v,l[0][C]=M*M*M*e+3*M*M*v*t+3*M*v*v*i+v*v*v*o,l[1][C]=M*M*M*r+3*M*M*v*n+3*M*v*v*a+v*v*v*s;return l[0][A]=e,l[1][A]=r,l[0][A+1]=o,l[1][A+1]=s,l[0].length=l[1].length=A+2,{min:{x:Math.min.apply(0,l[0]),y:Math.min.apply(0,l[1])},max:{x:Math.max.apply(0,l[0]),y:Math.max.apply(0,l[1])}}},JY=function(e,r,t,n,i,a,o,s){if(!(Math.max(e,t)<Math.min(i,o)||Math.min(e,t)>Math.max(i,o)||Math.max(r,n)<Math.min(a,s)||Math.min(r,n)>Math.max(a,s))){var u=(e*n-r*t)*(i-o)-(e-t)*(i*s-a*o),l=(e*n-r*t)*(a-s)-(r-n)*(i*s-a*o),c=(e-t)*(a-s)-(r-n)*(i-o);if(c){var f=u/c,h=l/c,v=+f.toFixed(2),p=+h.toFixed(2);if(!(v<+Math.min(e,t).toFixed(2)||v>+Math.max(e,t).toFixed(2)||v<+Math.min(i,o).toFixed(2)||v>+Math.max(i,o).toFixed(2)||p<+Math.min(r,n).toFixed(2)||p>+Math.max(r,n).toFixed(2)||p<+Math.min(a,s).toFixed(2)||p>+Math.max(a,s).toFixed(2)))return{x:f,y:h}}}},Po=function(e,r,t){return r>=e.x&&r<=e.x+e.width&&t>=e.y&&t<=e.y+e.height},g5=function(e,r,t,n){return e===null&&(e=r=t=n=0),r===null&&(r=e.y,t=e.width,n=e.height,e=e.x),{x:e,y:r,width:t,w:t,height:n,h:n,x2:e+t,y2:r+n,cx:e+t/2,cy:r+n/2,r1:Math.min(t,n)/2,r2:Math.max(t,n)/2,r0:Math.sqrt(t*t+n*n)/2,path:rectPath(e,r,t,n),vb:[e,r,t,n].join(" ")}},tX=function(e,r){return e=g5(e),r=g5(r),Po(r,e.x,e.y)||Po(r,e.x2,e.y)||Po(r,e.x,e.y2)||Po(r,e.x2,e.y2)||Po(e,r.x,r.y)||Po(e,r.x2,r.y)||Po(e,r.x,r.y2)||Po(e,r.x2,r.y2)||(e.x<r.x2&&e.x>r.x||r.x<e.x2&&r.x>e.x)&&(e.y<r.y2&&e.y>r.y||r.y<e.y2&&r.y>e.y)},zy=function(e,r,t,n,i,a,o,s){isArray(e)||(e=[e,r,t,n,i,a,o,s]);var u=QY.apply(null,e);return g5(u.min.x,u.min.y,u.max.x-u.min.x,u.max.y-u.min.y)},Uy=function(e,r,t,n,i,a,o,s,u){var l=1-u,c=Math.pow(l,3),f=Math.pow(l,2),h=u*u,v=h*u,p=c*e+f*3*u*t+l*3*u*u*i+v*o,g=c*r+f*3*u*n+l*3*u*u*a+v*s,y=e+2*u*(t-e)+h*(i-2*t+e),m=r+2*u*(n-r)+h*(a-2*n+r),E=t+2*u*(i-t)+h*(o-2*i+t),C=n+2*u*(a-n)+h*(s-2*a+n),A=l*e+u*t,M=l*r+u*n,Z=l*i+u*o,Y=l*a+u*s,st=90-Math.atan2(y-E,m-C)*180/Math.PI;return{x:p,y:g,m:{x:y,y:m},n:{x:E,y:C},start:{x:A,y:M},end:{x:Z,y:Y},alpha:st}},eX=function(e,r,t){var n=zy(e),i=zy(r);if(!tX(n,i))return t?0:[];for(var a=Zy.apply(0,e),o=Zy.apply(0,r),s=~~(a/8),u=~~(o/8),l=[],c=[],f={},h=t?0:[],v=0;v<s+1;v++){var p=Uy.apply(0,e.concat(v/s));l.push({x:p.x,y:p.y,t:v/s})}for(var v=0;v<u+1;v++){var p=Uy.apply(0,r.concat(v/u));c.push({x:p.x,y:p.y,t:v/u})}for(var v=0;v<s;v++)for(var g=0;g<u;g++){var y=l[v],m=l[v+1],E=c[g],C=c[g+1],A=Math.abs(m.x-y.x)<.001?"y":"x",M=Math.abs(C.x-E.x)<.001?"y":"x",Z=JY(y.x,y.y,m.x,m.y,E.x,E.y,C.x,C.y);if(Z){if(f[Z.x.toFixed(4)]===Z.y.toFixed(4))continue;f[Z.x.toFixed(4)]=Z.y.toFixed(4);var Y=y.t+Math.abs((Z[A]-y[A])/(m[A]-y[A]))*(m.t-y.t),st=E.t+Math.abs((Z[M]-E[M])/(C[M]-E[M]))*(C.t-E.t);Y>=0&&Y<=1&&st>=0&&st<=1&&(t?h++:h.push({x:Z.x,y:Z.y,t1:Y,t2:st}))}}return h},rX=function(e,r,t){e=path2Curve(e),r=path2Curve(r);for(var n,i,a,o,s,u,l,c,f,h,v=t?0:[],p=0,g=e.length;p<g;p++){var y=e[p];if(y[0]==="M")n=s=y[1],i=u=y[2];else{y[0]==="C"?(f=[n,i].concat(y.slice(1)),n=f[6],i=f[7]):(f=[n,i,n,i,s,u,s,u],n=s,i=u);for(var m=0,E=r.length;m<E;m++){var C=r[m];if(C[0]==="M")a=l=C[1],o=c=C[2];else{C[0]==="C"?(h=[a,o].concat(C.slice(1)),a=h[6],o=h[7]):(h=[a,o,a,o,l,c,l,c],a=l,o=c);var A=eX(f,h,t);if(t)v+=A;else{for(var M=0,Z=A.length;M<Z;M++)A[M].segment1=p,A[M].segment2=m,A[M].bez1=f,A[M].bez2=h;v=v.concat(A)}}}}}return v};function Q9t(e,r){return rX(e,r)}function nX(e){return pe({},e.defaultStyle,{fill:e.color},e.style)}kr("schema","venn",{draw:function(e,r){var t=e.data,n=WY(t[p5]),i=nX(e),a=r.addGroup({name:"venn-shape"});a.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},i),{path:n}),name:"venn-path"});var o=e.customInfo,s=o.offsetX,u=o.offsetY,l=ai.transform(null,[["t",s,u]]);return a.setMatrix(l),a},getMarker:function(e){var r=e.color;return{symbol:"circle",style:{lineWidth:0,stroke:r,fill:r,r:4}}}});var iX=function(e){return function(r,t){var n=[];return n[0]=e(r[0],t[0]),n[1]=e(r[1],t[1]),n[2]=e(r[2],t[2]),n}},Hy={normal:function(e){return e},multiply:function(e,r){return e*r/255},screen:function(e,r){return 255*(1-(1-e/255)*(1-r/255))},overlay:function(e,r){return r<128?2*e*r/255:255*(1-2*(1-e/255)*(1-r/255))},darken:function(e,r){return e>r?r:e},lighten:function(e,r){return e>r?e:r},dodge:function(e,r){return e===255?255:(e=255*(r/255)/(1-e/255),e>255?255:e)},burn:function(e,r){return r===255?255:e===0?0:255*(1-Math.min(1,(1-r/255)/(e/255)))}},aX=function(e){if(!Hy[e])throw new Error("unknown blend mode "+e);return Hy[e]};function oX(e,r,t){t===void 0&&(t="normal");var n=iX(aX(t))(o3(e),o3(r)),i=o3(e),a=i[0],o=i[1],s=i[2],u=i[3],l=o3(r),c=l[0],f=l[1],h=l[2],v=l[3],p=Number((u+v*(1-u)).toFixed(2)),g=Math.round((u*(1-v)*(a/255)+u*v*(n[0]/255)+(1-u)*v*(c/255))/p*255),y=Math.round((u*(1-v)*(o/255)+u*v*(n[1]/255)+(1-u)*v*(f/255))/p*255),m=Math.round((u*(1-v)*(s/255)+u*v*(n[2]/255)+(1-u)*v*(h/255))/p*255);return"rgba("+g+", "+y+", "+m+", "+p+")"}function o3(e){var r=e.replace("/s+/g",""),t;return typeof r=="string"&&!r.startsWith("rgba")&&!r.startsWith("#")?t=Ni.rgb2arr(Ni.toRGB(r)).concat([1]):(r.startsWith("rgba")&&(t=r.replace("rgba(","").replace(")","").split(",")),r.startsWith("#")&&(t=Ni.rgb2arr(r).concat([1])),t.map(function(n,i){return i===3?Number(n):n|0}))}var Ta=F(12886),Vy=1e-10;function y5(e,r){var t=uX(e),n=t.filter(function(Y){return sX(Y,e)}),i=0,a=0,o,s=[];if(n.length>1){var u=Wy(n);for(o=0;o<n.length;++o){var l=n[o];l.angle=Math.atan2(l.x-u.x,l.y-u.y)}n.sort(function(Y,st){return st.angle-Y.angle});var c=n[n.length-1];for(o=0;o<n.length;++o){var f=n[o];a+=(c.x+f.x)*(f.y-c.y);for(var h={x:(f.x+c.x)/2,y:(f.y+c.y)/2},v=null,p=0;p<f.parentIndex.length;++p)if(c.parentIndex.indexOf(f.parentIndex[p])>-1){var g=e[f.parentIndex[p]],y=Math.atan2(f.x-g.x,f.y-g.y),m=Math.atan2(c.x-g.x,c.y-g.y),E=m-y;E<0&&(E+=2*Math.PI);var C=m-E/2,A=ua(h,{x:g.x+g.radius*Math.sin(C),y:g.y+g.radius*Math.cos(C)});A>g.radius*2&&(A=g.radius*2),(v===null||v.width>A)&&(v={circle:g,width:A,p1:f,p2:c})}v!==null&&(s.push(v),i+=m5(v.circle.radius,v.width),c=f)}}else{var M=e[0];for(o=1;o<e.length;++o)e[o].radius<M.radius&&(M=e[o]);var Z=!1;for(o=0;o<e.length;++o)if(ua(e[o],M)>Math.abs(M.radius-e[o].radius)){Z=!0;break}Z?i=a=0:(i=M.radius*M.radius*Math.PI,s.push({circle:M,p1:{x:M.x,y:M.y+M.radius},p2:{x:M.x-Vy,y:M.y+M.radius},width:M.radius*2}))}return a/=2,r&&(r.area=i+a,r.arcArea=i,r.polygonArea=a,r.arcs=s,r.innerPoints=n,r.intersectionPoints=t),i+a}function sX(e,r){for(var t=0;t<r.length;++t)if(ua(e,r[t])>r[t].radius+Vy)return!1;return!0}function uX(e){for(var r=[],t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)for(var i=jy(e[t],e[n]),a=0;a<i.length;++a){var o=i[a];o.parentIndex=[t,n],r.push(o)}return r}function m5(e,r){return e*e*Math.acos(1-r/e)-(e-r)*Math.sqrt(r*(2*e-r))}function ua(e,r){return Math.sqrt((e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y))}function Gy(e,r,t){if(t>=e+r)return 0;if(t<=Math.abs(e-r))return Math.PI*Math.min(e,r)*Math.min(e,r);var n=e-(t*t-r*r+e*e)/(2*t),i=r-(t*t-e*e+r*r)/(2*t);return m5(e,n)+m5(r,i)}function jy(e,r){var t=ua(e,r),n=e.radius,i=r.radius;if(t>=n+i||t<=Math.abs(n-i))return[];var a=(n*n-i*i+t*t)/(2*t),o=Math.sqrt(n*n-a*a),s=e.x+a*(r.x-e.x)/t,u=e.y+a*(r.y-e.y)/t,l=-(r.y-e.y)*(o/t),c=-(r.x-e.x)*(o/t);return[{x:s+l,y:u-c},{x:s-l,y:u+c}]}function Wy(e){for(var r={x:0,y:0},t=0;t<e.length;++t)r.x+=e[t].x,r.y+=e[t].y;return r.x/=e.length,r.y/=e.length,r}function x5(e,r,t){var n=r[0].radius-ua(r[0],e),i,a;for(i=1;i<r.length;++i)a=r[i].radius-ua(r[i],e),a<=n&&(n=a);for(i=0;i<t.length;++i)a=ua(t[i],e)-t[i].radius,a<=n&&(n=a);return n}function Yy(e,r){var t=[],n;for(n=0;n<e.length;++n){var i=e[n];t.push({x:i.x,y:i.y}),t.push({x:i.x+i.radius/2,y:i.y}),t.push({x:i.x-i.radius/2,y:i.y}),t.push({x:i.x,y:i.y+i.radius/2}),t.push({x:i.x,y:i.y-i.radius/2})}var a=t[0],o=x5(t[0],e,r);for(n=1;n<t.length;++n){var s=x5(t[n],e,r);s>=o&&(a=t[n],o=s)}var u=(0,Ta.nelderMead)(function(h){return-1*x5({x:h[0],y:h[1]},e,r)},[a.x,a.y],{maxIterations:500,minErrorDelta:1e-10}).x,l={x:u[0],y:u[1]},c=!0;for(n=0;n<e.length;++n)if(ua(l,e[n])>e[n].radius){c=!1;break}for(n=0;n<r.length;++n)if(ua(l,r[n])<r[n].radius){c=!1;break}if(!c)if(e.length==1)l={x:e[0].x,y:e[0].y};else{var f={};y5(e,f),f.arcs.length===0?l={x:0,y:-1e3,disjoint:!0}:f.arcs.length==1?l={x:f.arcs[0].circle.x,y:f.arcs[0].circle.y}:r.length?l=Yy(e,[]):l=Wy(f.arcs.map(function(h){return h.p1}))}return l}function lX(e){var r={},t=[];for(var n in e)t.push(n),r[n]=[];for(var i=0;i<t.length;i++)for(var a=e[t[i]],o=i+1;o<t.length;++o){var s=e[t[o]],u=ua(a,s);u+s.radius<=a.radius+1e-10?r[t[o]].push(t[i]):u+a.radius<=s.radius+1e-10&&r[t[i]].push(t[o])}return r}function cX(e,r){for(var t={},n=lX(e),i=0;i<r.length;++i){for(var a=r[i].sets,o={},s={},u=0;u<a.length;++u){o[a[u]]=!0;for(var l=n[a[u]],c=0;c<l.length;++c)s[l[c]]=!0}var f=[],h=[];for(var v in e)v in o?f.push(e[v]):v in s||h.push(e[v]);var p=Yy(f,h);t[a]=p,p.disjoint&&r[i].size>0&&console.log("WARNING: area "+a+" not represented on screen")}return t}function fX(e,r,t){var n=[],i=e-t,a=r;return n.push("M",i,a),n.push("A",t,t,0,1,0,i+2*t,a),n.push("A",t,t,0,1,0,i,a),n.join(" ")}function J9t(e){var r=e.split(" ");return{x:parseFloat(r[1]),y:parseFloat(r[2]),radius:-parseFloat(r[4])}}function hX(e){var r={};y5(e,r);var t=r.arcs;if(t.length===0)return"M 0 0";if(t.length==1){var n=t[0].circle;return fX(n.x,n.y,n.radius)}else{for(var i=[`
M`,t[0].p2.x,t[0].p2.y],a=0;a<t.length;++a){var o=t[a],s=o.circle.radius,u=o.width>s;i.push(`
A`,s,s,0,u?1:0,1,o.p1.x,o.p1.y)}return i.join(" ")}}function vX(e,r){r=r||{},r.maxIterations=r.maxIterations||500;var t=r.initialLayout||yX,n=r.lossFunction||E5;e=pX(e);var i=t(e,r),a=[],o=[],s;for(s in i)i.hasOwnProperty(s)&&(a.push(i[s].x),a.push(i[s].y),o.push(s));for(var u=(0,Ta.nelderMead)(function(f){for(var h={},v=0;v<o.length;++v){var p=o[v];h[p]={x:f[2*v],y:f[2*v+1],radius:i[p].radius}}return n(h,e)},a,r),l=u.x,c=0;c<o.length;++c)s=o[c],i[s].x=l[2*c],i[s].y=l[2*c+1];return i}var Xy=1e-10;function _5(e,r,t){return Math.min(e,r)*Math.min(e,r)*Math.PI<=t+Xy?Math.abs(e-r):(0,Ta.bisect)(function(n){return Gy(e,r,n)-t},0,e+r)}function pX(e){e=e.slice();var r=[],t={},n,i,a,o;for(n=0;n<e.length;++n){var s=e[n];s.sets.length==1?r.push(s.sets[0]):s.sets.length==2&&(a=s.sets[0],o=s.sets[1],t[[a,o]]=!0,t[[o,a]]=!0)}for(r.sort(function(u,l){return u>l?1:-1}),n=0;n<r.length;++n)for(a=r[n],i=n+1;i<r.length;++i)o=r[i],[a,o]in t||e.push({sets:[a,o],size:0});return e}function dX(e,r,t){var n=(0,Ta.zerosM)(r.length,r.length),i=(0,Ta.zerosM)(r.length,r.length);return e.filter(function(a){return a.sets.length==2}).map(function(a){var o=t[a.sets[0]],s=t[a.sets[1]],u=Math.sqrt(r[o].size/Math.PI),l=Math.sqrt(r[s].size/Math.PI),c=_5(u,l,a.size);n[o][s]=n[s][o]=c;var f=0;a.size+1e-10>=Math.min(r[o].size,r[s].size)?f=1:a.size<=1e-10&&(f=-1),i[o][s]=i[s][o]=f}),{distances:n,constraints:i}}function gX(e,r,t,n){var i=0,a;for(a=0;a<r.length;++a)r[a]=0;for(a=0;a<t.length;++a)for(var o=e[2*a],s=e[2*a+1],u=a+1;u<t.length;++u){var l=e[2*u],c=e[2*u+1],f=t[a][u],h=n[a][u],v=(l-o)*(l-o)+(c-s)*(c-s),p=Math.sqrt(v),g=v-f*f;h>0&&p<=f||h<0&&p>=f||(i+=2*g*g,r[2*a]+=4*g*(o-l),r[2*a+1]+=4*g*(s-c),r[2*u]+=4*g*(l-o),r[2*u+1]+=4*g*(c-s))}return i}function yX(e,r){var t=xX(e,r),n=r.lossFunction||E5;if(e.length>=8){var i=mX(e,r),a=n(i,e),o=n(t,e);a+1e-8<o&&(t=i)}return t}function mX(e,r){r=r||{};var t=r.restarts||10,n=[],i={},a;for(a=0;a<e.length;++a){var o=e[a];o.sets.length==1&&(i[o.sets[0]]=n.length,n.push(o))}var s=dX(e,n,i),u=s.distances,l=s.constraints,c=(0,Ta.norm2)(u.map(Ta.norm2))/u.length;u=u.map(function(E){return E.map(function(C){return C/c})});var f=function(E,C){return gX(E,C,u,l)},h,v;for(a=0;a<t;++a){var p=(0,Ta.zeros)(u.length*2).map(Math.random);v=(0,Ta.conjugateGradient)(f,p,r),(!h||v.fx<h.fx)&&(h=v)}var g=h.x,y={};for(a=0;a<n.length;++a){var m=n[a];y[m.sets[0]]={x:g[2*a]*c,y:g[2*a+1]*c,radius:Math.sqrt(m.size/Math.PI)}}if(r.history)for(a=0;a<r.history.length;++a)(0,Ta.scale)(r.history[a].x,c);return y}function xX(e,r){for(var t=r&&r.lossFunction?r.lossFunction:E5,n={},i={},a,o=0;o<e.length;++o){var s=e[o];s.sets.length==1&&(a=s.sets[0],n[a]={x:1e10,y:1e10,rowid:Object.keys(n).length,size:s.size,radius:Math.sqrt(s.size/Math.PI)},i[a]=[])}e=e.filter(function(he){return he.sets.length==2});for(var o=0;o<e.length;++o){var u=e[o],l=u.hasOwnProperty("weight")?u.weight:1,c=u.sets[0],f=u.sets[1];u.size+Xy>=Math.min(n[c].size,n[f].size)&&(l=0),i[c].push({set:f,size:u.size,weight:l}),i[f].push({set:c,size:u.size,weight:l})}var h=[];for(a in i)if(i.hasOwnProperty(a)){for(var v=0,o=0;o<i[a].length;++o)v+=i[a][o].size*i[a][o].weight;h.push({set:a,size:v})}function p(he,Me){return Me.size-he.size}h.sort(p);var g={};function y(he){return he.set in g}function m(he,Me){n[Me].x=he.x,n[Me].y=he.y,g[Me]=!0}m({x:0,y:0},h[0].set);for(var o=1;o<h.length;++o){var E=h[o].set,C=i[E].filter(y);if(a=n[E],C.sort(p),C.length===0)throw"ERROR: missing pairwise overlap information";for(var A=[],M=0;M<C.length;++M){var Z=n[C[M].set],Y=_5(a.radius,Z.radius,C[M].size);A.push({x:Z.x+Y,y:Z.y}),A.push({x:Z.x-Y,y:Z.y}),A.push({y:Z.y+Y,x:Z.x}),A.push({y:Z.y-Y,x:Z.x});for(var st=M+1;st<C.length;++st)for(var Ct=n[C[st].set],Pt=_5(a.radius,Ct.radius,C[st].size),Zt=jy({x:Z.x,y:Z.y,radius:Y},{x:Ct.x,y:Ct.y,radius:Pt}),ie=0;ie<Zt.length;++ie)A.push(Zt[ie])}for(var ce=1e50,_e=A[0],M=0;M<A.length;++M){n[E].x=A[M].x,n[E].y=A[M].y;var Re=t(n,e);Re<ce&&(ce=Re,_e=A[M])}m(_e,E)}return n}function E5(e,r){var t=0;function n(c){return c.map(function(f){return e[f]})}for(var i=0;i<r.length;++i){var a=r[i],o=void 0;if(a.sets.length!=1){if(a.sets.length==2){var s=e[a.sets[0]],u=e[a.sets[1]];o=Gy(s.radius,u.radius,ua(s,u))}else o=y5(n(a.sets));var l=a.hasOwnProperty("weight")?a.weight:1;t+=l*(o-a.size)*(o-a.size)}}return t}function _X(e,r,t){t===null?e.sort(function(g,y){return y.radius-g.radius}):e.sort(t);var n;if(e.length>0){var i=e[0].x,a=e[0].y;for(n=0;n<e.length;++n)e[n].x-=i,e[n].y-=a}if(e.length==2){var o=distance(e[0],e[1]);o<Math.abs(e[1].radius-e[0].radius)&&(e[1].x=e[0].x+e[0].radius-e[1].radius-1e-10,e[1].y=e[0].y)}if(e.length>1){var s=Math.atan2(e[1].x,e[1].y)-r,u=void 0,l=void 0,c=Math.cos(s),f=Math.sin(s);for(n=0;n<e.length;++n)u=e[n].x,l=e[n].y,e[n].x=c*u-f*l,e[n].y=f*u+c*l}if(e.length>2){for(var h=Math.atan2(e[2].x,e[2].y)-r;h<0;)h+=2*Math.PI;for(;h>2*Math.PI;)h-=2*Math.PI;if(h>Math.PI){var v=e[1].y/(1e-10+e[1].x);for(n=0;n<e.length;++n){var p=(e[n].x+v*e[n].y)/(1+v*v);e[n].x=2*p-e[n].x,e[n].y=2*p*v-e[n].y}}}}function EX(e){e.map(function(l){l.parent=l});function r(l){return l.parent!==l&&(l.parent=r(l.parent)),l.parent}function t(l,c){var f=r(l),h=r(c);f.parent=h}for(var n=0;n<e.length;++n)for(var i=n+1;i<e.length;++i){var a=e[n].radius+e[i].radius;distance(e[n],e[i])+1e-10<a&&t(e[i],e[n])}for(var o={},s,n=0;n<e.length;++n)s=r(e[n]).parent.setid,s in o||(o[s]=[]),o[s].push(e[n]);e.map(function(l){delete l.parent});var u=[];for(s in o)o.hasOwnProperty(s)&&u.push(o[s]);return u}function C5(e){var r=function(t){var n=Math.max.apply(null,e.map(function(a){return a[t]+a.radius})),i=Math.min.apply(null,e.map(function(a){return a[t]-a.radius}));return{max:n,min:i}};return{xRange:r("x"),yRange:r("y")}}function t6t(e,r,t){r===null&&(r=Math.PI/2);var n=[],i,a;for(a in e)if(e.hasOwnProperty(a)){var o=e[a];n.push({x:o.x,y:o.y,radius:o.radius,setid:a})}var s=EX(n);for(i=0;i<s.length;++i){_X(s[i],r,t);var u=C5(s[i]);s[i].size=(u.xRange.max-u.xRange.min)*(u.yRange.max-u.yRange.min),s[i].bounds=u}s.sort(function(p,g){return g.size-p.size}),n=s[0];var l=n.bounds,c=(l.xRange.max-l.xRange.min)/50;function f(p,g,y){if(p){var m=p.bounds,E,C,A;g?E=l.xRange.max-m.xRange.min+c:(E=l.xRange.max-m.xRange.max,A=(m.xRange.max-m.xRange.min)/2-(l.xRange.max-l.xRange.min)/2,A<0&&(E+=A)),y?C=l.yRange.max-m.yRange.min+c:(C=l.yRange.max-m.yRange.max,A=(m.yRange.max-m.yRange.min)/2-(l.yRange.max-l.yRange.min)/2,A<0&&(C+=A));for(var M=0;M<p.length;++M)p[M].x+=E,p[M].y+=C,n.push(p[M])}}for(var h=1;h<s.length;)f(s[h],!0,!1),f(s[h+1],!1,!0),f(s[h+2],!0,!0),h+=3,l=C5(n);var v={};for(i=0;i<n.length;++i)v[n[i].setid]=n[i];return v}function CX(e,r,t,n){var i=[],a=[];for(var o in e)e.hasOwnProperty(o)&&(a.push(o),i.push(e[o]));r-=2*n,t-=2*n;var s=C5(i),u=s.xRange,l=s.yRange;if(u.max==u.min||l.max==l.min)return console.log("not scaling solution: zero size detected"),e;for(var c=r/(u.max-u.min),f=t/(l.max-l.min),h=Math.min(f,c),v=(r-(u.max-u.min)*h)/2,p=(t-(l.max-l.min)*h)/2,g={},y=0;y<i.length;++y){var m=i[y];g[a[y]]={radius:h*m.radius,x:n+v+(m.x-u.min)*h,y:n+p+(m.y-l.min)*h}}return g}var SX=(0,d.HP)(function(e,r,t,n){var i=new Map,a=e.length;return r.forEach(function(o,s){if(o[n].length===1)i.set(o[Ka],e[(s+a)%a]);else{var u=o[n].map(function(l){return i.get(l)});i.set(o[Ka],u.slice(1).reduce(function(l,c){return oX(l,c,t)},u[0]))}}),i},function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return JSON.stringify(e)});function bX(e,r,t,n){n===void 0&&(n=0);var i=e.data,a=e.setsField,o=e.sizeField;if(i.length===0)return Wa(oa.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),[];var s=i.map(function(f){var h;return(0,x.pi)((0,x.pi)({},f),(h={sets:f[a]||[],size:f[o]},h[p5]="",h[Ka]="",h))});s.sort(function(f,h){return f.sets.length-h.sets.length});var u=vX(s),l=CX(u,r,t,n),c=cX(l,s);return s.forEach(function(f){var h=f.sets,v=h.join(",");f[Ka]=v;var p=h.map(function(m){return l[m]}),g=hX(p);/[zZ]$/.test(g)||(g+=" Z"),f[p5]=g;var y=c[v]||{x:0,y:0};(0,d.f0)(f,y)}),s}function AX(e,r){for(var t=0;t<r.length;t++)if(!e.includes(r[t]))return!1;return!0}var MX=40;function $y(e,r,t){var n=e.chart,i=e.options,a=i.blendMode,o=i.setsField,s=n.getTheme(),u=s.colors10,l=s.colors20,c=t;(0,d.kJ)(c)||(c=r.filter(function(h){return h[o].length===1}).length<=10?u:l);var f=SX(c,r,a,o);return function(h){return f.get(h)||c[0]}}function TX(e,r){var t=e.options,n=t.color;if(typeof n!="function"){var i=typeof n=="string"?[n]:n,a=$y(e,r,i);return function(o){return a(o[Ka])}}return n}function wX(e){var r=e.chart,t=e.options,n=t.legend,i=t.appendPadding,a=t.padding,o=ko(i);return n!==!1&&(o=I2(i,(0,d.U2)(n,"position"),MX)),r.appendPadding=If([o,a]),e}function FX(e){var r=e.options,t=r.data;t||(Wa(oa.WARN,!1,"warn: %s","\u6570\u636E\u4E0D\u80FD\u4E3A\u7A7A"),t=[]);var n=t.filter(function(a){return a.sets.length===1}).map(function(a){return a.sets[0]}),i=t.filter(function(a){var o=a.sets;return AX(n,o)});return(0,d.Xy)(i,t)||Wa(oa.WARN,!1,"warn: %s","\u4EA4\u96C6\u4E2D\u4E0D\u80FD\u51FA\u73B0\u4E0D\u5B58\u5728\u7684\u96C6\u5408, \u8BF7\u8F93\u5165\u5408\u6CD5\u6570\u636E"),(0,d.b$)({},e,{options:{data:i}})}function kX(e){var r=e.chart,t=e.options,n=t.pointStyle,i=t.setsField,a=t.sizeField,o=ko(r.appendPadding),s=o[0],u=o[1],l=o[2],c=o[3],f={offsetX:c,offsetY:s},h=r.viewBBox,v=h.width,p=h.height,g=bX(t,Math.max(v-(u+c),0),Math.max(p-(s+l),0),0);r.data(g);var y=Nf(pe({},e,{options:{xField:"x",yField:"y",sizeField:a,seriesField:Ka,rawFields:[i,a],schema:{shape:"venn",style:n}}})).ext,m=y.geometry;m.customInfo(f);var E=TX(e,g);return typeof E=="function"&&m.color(Ka,function(C){var A=g.find(function(Z){return Z[Ka]===C}),M=$y(e,g)(C);return E(A,M)}),e}function OX(e){var r=e.chart,t=e.options,n=t.label,i=ko(r.appendPadding),a=i[0],o=i[3],s={offsetX:o,offsetY:a},u=In(r,"schema");if(!n)u.label(!1);else{var l=n.callback,c=(0,x._T)(n,["callback"]);u.label({fields:["id"],callback:l,cfg:(0,d.b$)({},Sn(c),{type:"venn",customLabelInfo:s})})}return e}function LX(e){var r=e.chart,t=e.options,n=t.legend,i=t.sizeField;return r.legend(Ka,n),r.legend(i,!1),e}function IX(e){var r=e.chart;return r.axis(!1),e}function PX(e){var r=e.options,t=e.chart,n=r.interactions;if(n){var i={"legend-active":"venn-legend-active","legend-highlight":"venn-legend-highlight"};jr(pe({},e,{options:{interactions:n.map(function(a){return(0,x.pi)((0,x.pi)({},a),{type:i[a.type]||a.type})})}}))}return t.removeInteraction("legend-active"),t.removeInteraction("legend-highlight"),e}function RX(e){return or(wX,Ar,FX,kX,OX,Jr({}),LX,IX,vn,PX,Rr)(e)}var e6t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="venn",t}return r.getDefaultOptions=function(){return IY},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return RX},r.prototype.triggerResize=function(){this.chart.destroyed||(this.chart.forceFit(),this.chart.clear(),this.execAdaptor(),this.chart.render(!0))},r}(hr),Vi="x",S1="violinY",DX="violinSize",qy="minMax",Ky="quantile",Qy="median",S5="violin_view",BX="min_max_view",NX="quantile_view",ZX="median_view",zX=pe({},hr.getDefaultOptions(),{syncViewPadding:!0,kde:{type:"triangular",sampleSize:32,width:3},violinStyle:{lineWidth:1,fillOpacity:.3,strokeOpacity:.75},xAxis:{grid:{line:null},tickLine:{alignTick:!1}},yAxis:{grid:{line:{style:{lineWidth:.5,lineDash:[4,4]}}}},legend:{position:"top-left"},tooltip:{showMarkers:!1}}),UX=F(50517),HX=F.n(UX);function Jy(e,r){var t=e.length*r;if(e.length===0)throw new Error("quantile requires at least one data point.");if(r<0||r>1)throw new Error("quantiles must be between 0 and 1");return r===1?e[e.length-1]:r===0?e[0]:t%1!==0?e[Math.ceil(t)-1]:e.length%2===0?(e[t-1]+e[t])/2:e[t]}function fu(e,r,t){var n=e[r];e[r]=e[t],e[t]=n}function s3(e,r,t,n){for(t=t||0,n=n||e.length-1;n>t;){if(n-t>600){var i=n-t+1,a=r-t+1,o=Math.log(i),s=.5*Math.exp(2*o/3),u=.5*Math.sqrt(o*s*(i-s)/i);a-i/2<0&&(u*=-1);var l=Math.max(t,Math.floor(r-a*s/i+u)),c=Math.min(n,Math.floor(r+(i-a)*s/i+u));s3(e,r,l,c)}var f=e[r],h=t,v=n;for(fu(e,t,r),e[n]>f&&fu(e,t,n);h<v;){for(fu(e,h,v),h++,v--;e[h]<f;)h++;for(;e[v]>f;)v--}e[t]===f?fu(e,t,v):(v++,fu(e,v,n)),v<=r&&(t=v+1),r<=v&&(n=v-1)}}function hu(e,r){var t=e.slice();if(Array.isArray(r)){VX(t,r);for(var n=[],i=0;i<r.length;i++)n[i]=Jy(t,r[i]);return n}else{var a=em(t.length,r);return tm(t,a,0,t.length-1),Jy(t,r)}}function tm(e,r,t,n){r%1===0?s3(e,r,t,n):(r=Math.floor(r),s3(e,r,t,n),s3(e,r+1,r+1,n))}function VX(e,r){for(var t=[0],n=0;n<r.length;n++)t.push(em(e.length,r[n]));t.push(e.length-1),t.sort(GX);for(var i=[0,t.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var s=Math.floor((o+a)/2);tm(e,t[s],Math.floor(t[o]),Math.ceil(t[a])),i.push(o,s,s,a)}}}function GX(e,r){return e-r}function em(e,r){var t=e*r;return r===1?e-1:r===0?0:t%1!==0?Math.ceil(t)-1:e%2===0?t-.5:t}var rm=function(e){return{low:(0,d.VV)(e),high:(0,d.Fp)(e),q1:hu(e,.25),q3:hu(e,.75),median:hu(e,[.5]),minMax:[(0,d.VV)(e),(0,d.Fp)(e)],quantile:[hu(e,.25),hu(e,.75)]}},nm=function(e,r){var t=HX().create(e,r);return{violinSize:t.map(function(n){return n.y}),violinY:t.map(function(n){return n.x})}},im=function(e){var r=e.xField,t=e.yField,n=e.seriesField,i=e.data,a=e.kde,o={min:a.min,max:a.max,size:a.sampleSize,width:a.width};if(!n){var s=(0,d.vM)(i,r);return Object.keys(s).map(function(c){var f=s[c],h=f.map(function(v){return v[t]});return(0,x.pi)((0,x.pi)({x:c},nm(h,o)),rm(h))})}var u=[],l=(0,d.vM)(i,n);return Object.keys(l).forEach(function(c){var f=(0,d.vM)(l[c],r);return Object.keys(f).forEach(function(h){var v,p=f[h],g=p.map(function(y){return y[t]});u.push((0,x.pi)((0,x.pi)((v={x:h},v[n]=c,v),nm(g,o)),rm(g)))})}),u},u3=["low","high","q1","q3","median"],l3=[{type:"dodge",marginRatio:1/32}];function jX(e){var r=e.chart,t=e.options;return r.data(im(t)),e}function WX(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.color,a=t.shape,o=a===void 0?"violin":a,s=t.violinStyle,u=t.tooltip,l=t.state,c=r.createView({id:S5});return Gz({chart:c,options:{xField:Vi,yField:S1,seriesField:n||Vi,sizeField:DX,tooltip:(0,x.pi)({fields:u3},u),violin:{style:s,color:i,shape:o},state:l}}),c.geometries[0].adjust(l3),e}function YX(e){var r=e.chart,t=e.options,n=t.seriesField,i=t.color,a=t.tooltip,o=t.box;if(o===!1)return e;var s=r.createView({id:BX});Pn({chart:s,options:{xField:Vi,yField:qy,seriesField:n||Vi,tooltip:(0,x.pi)({fields:u3},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:1,style:{lineWidth:0}}}}),s.geometries[0].adjust(l3);var u=r.createView({id:NX});Pn({chart:u,options:{xField:Vi,yField:Ky,seriesField:n||Vi,tooltip:(0,x.pi)({fields:u3},a),state:typeof o=="object"?o.state:{},interval:{color:i,size:8,style:{fillOpacity:1}}}}),u.geometries[0].adjust(l3);var l=r.createView({id:ZX});return mi({chart:l,options:{xField:Vi,yField:Qy,seriesField:n||Vi,tooltip:(0,x.pi)({fields:u3},a),state:typeof o=="object"?o.state:{},point:{color:i,size:1,style:{fill:"white",lineWidth:0}}}}),l.geometries[0].adjust(l3),u.axis(!1),s.axis(!1),l.axis(!1),l.legend(!1),s.legend(!1),u.legend(!1),e}function XX(e){var r,t=e.chart,n=e.options,i=n.meta,a=n.xAxis,o=n.yAxis,s={},u=pe(s,i,(r={},r[Vi]=(0,x.pi)((0,x.pi)({sync:!0},Pr(a,si)),{type:"cat"}),r[S1]=(0,x.pi)({sync:!0},Pr(o,si)),r[qy]=(0,x.pi)({sync:S1},Pr(o,si)),r[Ky]=(0,x.pi)({sync:S1},Pr(o,si)),r[Qy]=(0,x.pi)({sync:S1},Pr(o,si)),r));return t.scale(u),e}function $X(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=gr(r,S5);return n===!1?a.axis(Vi,!1):a.axis(Vi,n),i===!1?a.axis(S1,!1):a.axis(S1,i),r.axis(!1),e}function qX(e){var r=e.chart,t=e.options,n=t.legend,i=t.seriesField,a=t.shape;if(n===!1)r.legend(!1);else{var o=i||Vi,s=(0,d.CE)(n,["selected"]);(!a||!a.startsWith("hollow"))&&((0,d.U2)(s,["marker","style","lineWidth"])||(0,d.t8)(s,["marker","style","lineWidth"],0)),r.legend(o,s),(0,d.U2)(n,"selected")&&(0,d.S6)(r.views,function(u){return u.legend(o,n)})}return e}function KX(e){var r=e.chart,t=gr(r,S5);return Xr()((0,x.pi)((0,x.pi)({},e),{chart:t})),e}function QX(e){var r=e.chart,t=e.options,n=t.animation;return(0,d.S6)(r.views,function(i){Ks(i,n)}),e}function JX(e){return or(Ar,jX,WX,YX,XX,vn,$X,qX,jr,KX,QX)(e)}var r6t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="violin",t}return r.getDefaultOptions=function(){return zX},r.prototype.changeData=function(t){this.updateOption({data:t}),this.chart.changeData(im(this.options))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.getSchemaAdaptor=function(){return JX},r}(hr),Gi="$$yField$$",c3="$$diffField$$",b5="$$absoluteField$$",A5="$$isTotal$$",t$={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function e$(e){for(var r=[],t=0;t<e.length;t++){var n=e[t];if(n){var i=t===0?"M":"L";r.push([i,n.x,n.y])}}var a=e[0];return r.push(["L",a.x,a.y]),r.push(["z"]),r}function r$(e){return pe({},e.defaultStyle,e.style,{fill:e.color})}kr("interval","waterfall",{draw:function(e,r){var t=e.customInfo,n=e.points,i=e.nextPoints,a=r.addGroup(),o=this.parsePath(e$(n)),s=r$(e);a.addShape("path",{attrs:(0,x.pi)((0,x.pi)({},s),{path:o})});var u=(0,d.U2)(t,"leaderLine");if(u&&i){var l=[["M",n[2].x,n[2].y],["L",i[0].x,i[0].y]];n[2].y===i[1].y&&(l[1]=["L",i[1].x,i[1].y]),l=this.parsePath(l),a.addShape("path",{attrs:(0,x.pi)({path:l},u.style||{})})}return a}});function n$(e,r,t,n,i){var a,o=[];if((0,d.u4)(e,function(u,l){var c;Wa(oa.WARN,(0,d.hj)(l[t]),l[t]+" is not a valid number");var f=(0,d.o8)(l[t])?null:l[t];return o.push((0,x.pi)((0,x.pi)({},l),(c={},c[n]=[u,u+f],c))),u+f},0),o.length&&i){var s=(0,d.U2)(o,[[e.length-1],n,[1]]);o.push((a={},a[r]=i.label,a[t]=s,a[n]=[0,s],a))}return o}function am(e,r,t,n){var i=n$(e,r,t,Gi,n);return i.map(function(a,o){var s;return(0,d.Kn)(a)?(0,x.pi)((0,x.pi)({},a),(s={},s[b5]=a[Gi][1],s[c3]=a[Gi][1]-a[Gi][0],s[A5]=o===e.length,s)):a})}function i$(e){var r=e.options,t=r.locale,n=r.total,i=B2(t).get(["waterfall","total"]);return n&&typeof n.label!="string"&&i&&(e.options.total.label=i),e}function a$(e){var r=e.chart,t=e.options,n=t.data,i=t.xField,a=t.yField,o=t.total,s=t.leaderLine,u=t.columnWidthRatio,l=t.waterfallStyle,c=t.risingFill,f=t.fallingFill,h=t.color;r.data(am(n,i,a,o));var v=h||function(m){return(0,d.U2)(m,[A5])?(0,d.U2)(o,["style","fill"],""):(0,d.U2)(m,[Gi,1])-(0,d.U2)(m,[Gi,0])>0?c:f},p=pe({},e,{options:{xField:i,yField:Gi,seriesField:i,rawFields:[a,c3,A5,Gi],widthRatio:u,interval:{style:l,shape:"waterfall",color:v}}}),g=Pn(p).ext,y=g.geometry;return y.customInfo({leaderLine:s}),e}function o$(e){var r,t,n=e.options,i=n.xAxis,a=n.yAxis,o=n.xField,s=n.yField,u=n.meta,l=pe({},{alias:s},(0,d.U2)(u,s));return or(Jr((r={},r[o]=i,r[s]=a,r[Gi]=a,r),pe({},u,(t={},t[Gi]=l,t[c3]=l,t[b5]=l,t))))(e)}function s$(e){var r=e.chart,t=e.options,n=t.xAxis,i=t.yAxis,a=t.xField,o=t.yField;return n===!1?r.axis(a,!1):r.axis(a,n),i===!1?(r.axis(o,!1),r.axis(Gi,!1)):(r.axis(o,i),r.axis(Gi,i)),e}function u$(e){var r=e.chart,t=e.options,n=t.legend,i=t.total,a=t.risingFill,o=t.fallingFill,s=t.locale,u=B2(s);if(n===!1)r.legend(!1);else{var l=[{name:u.get(["general","increase"]),value:"increase",marker:{symbol:"square",style:{r:5,fill:a}}},{name:u.get(["general","decrease"]),value:"decrease",marker:{symbol:"square",style:{r:5,fill:o}}}];i&&l.push({name:i.label||"",value:"total",marker:{symbol:"square",style:pe({},{r:5},(0,d.U2)(i,"style"))}}),r.legend(pe({},{custom:!0,position:"top",items:l},n)),r.removeInteraction("legend-filter")}return e}function l$(e){var r=e.chart,t=e.options,n=t.label,i=t.labelMode,a=t.xField,o=In(r,"interval");if(!n)o.label(!1);else{var s=n.callback,u=(0,x._T)(n,["callback"]);o.label({fields:i==="absolute"?[b5,a]:[c3,a],callback:s,cfg:Sn(u)})}return e}function c$(e){var r=e.chart,t=e.options,n=t.tooltip,i=t.xField,a=t.yField;if(n!==!1){r.tooltip((0,x.pi)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[a]},n));var o=r.geometries[0];n!=null&&n.formatter?o.tooltip(i+"*"+a,n.formatter):o.tooltip(a)}else r.tooltip(!1);return e}function f$(e){return or(i$,Ar,a$,o$,s$,u$,c$,l$,Oo,jr,Rr,Xr())(e)}var n6t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="waterfall",t}return r.getDefaultOptions=function(){return t$},r.prototype.changeData=function(t){var n=this.options,i=n.xField,a=n.yField,o=n.total;this.updateOption({data:t}),this.chart.changeData(am(t,i,a,o))},r.prototype.getSchemaAdaptor=function(){return f$},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r}(hr),M5="color",h$=pe({},hr.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value",M5],formatter:function(e){return{name:e.text,value:e.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),v$={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function p$(e,r){return r=(0,d.f0)({},v$,r),d$(e,r)}function d$(e,r){var t=w$();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(u){(0,d.UM)(r[u])||t[u](r[u])}),t.words(e),r.imageMask&&t.createMask(r.imageMask);var n=t.start(),i=n._tags;i.forEach(function(u){u.x+=r.size[0]/2,u.y+=r.size[1]/2});var a=r.size,o=a[0],s=a[1];return i.push({text:"",value:0,x:0,y:0,opacity:0}),i.push({text:"",value:0,x:o,y:s,opacity:0}),i}var T5=Math.PI/180,vu=1<<11>>5,f3=1<<11;function g$(e){return e.text}function y$(){return"serif"}function om(){return"normal"}function m$(e){return e.value}function x$(){return~~(Math.random()*2)*90}function _$(){return 1}function E$(e,r,t,n){if(!r.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(vu<<5)/a,f3/a);var o=0,s=0,u=0,l=t.length;for(--n;++n<l;){r=t[n],i.save(),i.font=r.style+" "+r.weight+" "+~~((r.size+1)/a)+"px "+r.font;var c=i.measureText(r.text+"m").width*a,f=r.size<<1;if(r.rotate){var h=Math.sin(r.rotate*T5),v=Math.cos(r.rotate*T5),p=c*v,g=c*h,y=f*v,m=f*h;c=Math.max(Math.abs(p+m),Math.abs(p-m))+31>>5<<5,f=~~Math.max(Math.abs(g+y),Math.abs(g-y))}else c=c+31>>5<<5;if(f>u&&(u=f),o+c>=vu<<5&&(o=0,s+=u,u=0),s+f>=f3)break;i.translate((o+(c>>1))/a,(s+(f>>1))/a),r.rotate&&i.rotate(r.rotate*T5),i.fillText(r.text,0,0),r.padding&&(i.lineWidth=2*r.padding,i.strokeText(r.text,0,0)),i.restore(),r.width=c,r.height=f,r.xoff=o,r.yoff=s,r.x1=c>>1,r.y1=f>>1,r.x0=-r.x1,r.y0=-r.y1,r.hasText=!0,o+=c}for(var E=i.getImageData(0,0,(vu<<5)/a,f3/a).data,C=[];--n>=0;)if(r=t[n],!!r.hasText){for(var c=r.width,A=c>>5,f=r.y1-r.y0,M=0;M<f*A;M++)C[M]=0;if(o=r.xoff,o==null)return;s=r.yoff;for(var Z=0,Y=-1,st=0;st<f;st++){for(var M=0;M<c;M++){var Ct=A*st+(M>>5),Pt=E[(s+st)*(vu<<5)+(o+M)<<2]?1<<31-M%32:0;C[Ct]|=Pt,Z|=Pt}Z?Y=st:(r.y0++,f--,st--,s++)}r.y1=r.y0+Y,r.sprite=C.slice(0,(r.y1-r.y0)*A)}}}function C$(e,r,t){t>>=5;for(var n=e.sprite,i=e.width>>5,a=e.x-(i<<4),o=a&127,s=32-o,u=e.y1-e.y0,l=(e.y+e.y0)*t+(a>>5),c,f=0;f<u;f++){c=0;for(var h=0;h<=i;h++)if((c<<s|(h<i?(c=n[f*i+h])>>>o:0))&r[l+h])return!0;l+=t}return!1}function S$(e,r){var t=e[0],n=e[1];r.x+r.x0<t.x&&(t.x=r.x+r.x0),r.y+r.y0<t.y&&(t.y=r.y+r.y0),r.x+r.x1>n.x&&(n.x=r.x+r.x1),r.y+r.y1>n.y&&(n.y=r.y+r.y1)}function b$(e,r){return e.x+e.x1>r[0].x&&e.x+e.x0<r[1].x&&e.y+e.y1>r[0].y&&e.y+e.y0<r[1].y}function sm(e){var r=e[0]/e[1];return function(t){return[r*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function A$(e){var r=4,t=r*e[0]/e[1],n=0,i=0;return function(a){var o=a<0?-1:1;switch(Math.sqrt(1+4*o*a)-o&3){case 0:n+=t;break;case 1:i+=r;break;case 2:n-=t;break;default:i-=r;break}return[n,i]}}function um(e){for(var r=[],t=-1;++t<e;)r[t]=0;return r}function M$(){return document.createElement("canvas")}function wa(e){return(0,d.mf)(e)?e:function(){return e}}var T$={archimedean:sm,rectangular:A$};function w$(){var e=[256,256],r=y$,t=m$,n=om,i=x$,a=_$,o=sm,s=Math.random,u=[],l=1/0,c=g$,f=om,h=M$,v={};v.start=function(){var y=e[0],m=e[1],E=p(h()),C=v.board?v.board:um((e[0]>>5)*e[1]),A=u.length,M=[],Z=u.map(function(Pt,Zt,ie){return Pt.text=c.call(this,Pt,Zt,ie),Pt.font=r.call(this,Pt,Zt,ie),Pt.style=f.call(this,Pt,Zt,ie),Pt.weight=n.call(this,Pt,Zt,ie),Pt.rotate=i.call(this,Pt,Zt,ie),Pt.size=~~t.call(this,Pt,Zt,ie),Pt.padding=a.call(this,Pt,Zt,ie),Pt}).sort(function(Pt,Zt){return Zt.size-Pt.size}),Y=-1,st=v.board?[{x:0,y:0},{x:y,y:m}]:null;Ct();function Ct(){for(var Pt=Date.now();Date.now()-Pt<l&&++Y<A;){var Zt=Z[Y];Zt.x=y*(s()+.5)>>1,Zt.y=m*(s()+.5)>>1,E$(E,Zt,Z,Y),Zt.hasText&&g(C,Zt,st)&&(M.push(Zt),st?v.hasImage||S$(st,Zt):st=[{x:Zt.x+Zt.x0,y:Zt.y+Zt.y0},{x:Zt.x+Zt.x1,y:Zt.y+Zt.y1}],Zt.x-=e[0]>>1,Zt.y-=e[1]>>1)}v._tags=M,v._bounds=st}return v};function p(y){y.width=y.height=1;var m=Math.sqrt(y.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1).data.length>>2);y.width=(vu<<5)/m,y.height=f3/m;var E=y.getContext("2d",{willReadFrequently:!0});return E.fillStyle=E.strokeStyle="red",E.textAlign="center",{context:E,ratio:m}}function g(y,m,E){for(var C=m.x,A=m.y,M=Math.sqrt(e[0]*e[0]+e[1]*e[1]),Z=o(e),Y=s()<.5?1:-1,st,Ct=-Y,Pt,Zt;(st=Z(Ct+=Y))&&(Pt=~~st[0],Zt=~~st[1],!(Math.min(Math.abs(Pt),Math.abs(Zt))>=M));)if(m.x=C+Pt,m.y=A+Zt,!(m.x+m.x0<0||m.y+m.y0<0||m.x+m.x1>e[0]||m.y+m.y1>e[1])&&(!E||!C$(m,y,e[0]))&&(!E||b$(m,E))){for(var ie=m.sprite,ce=m.width>>5,_e=e[0]>>5,Re=m.x-(ce<<4),he=Re&127,Me=32-he,De=m.y1-m.y0,Fe=void 0,Ve=(m.y+m.y0)*_e+(Re>>5),tr=0;tr<De;tr++){Fe=0;for(var fr=0;fr<=ce;fr++)y[Ve+fr]|=Fe<<Me|(fr<ce?(Fe=ie[tr*ce+fr])>>>he:0);Ve+=_e}return delete m.sprite,!0}return!1}return v.createMask=function(y){var m=document.createElement("canvas"),E=e[0],C=e[1];if(!(!E||!C)){var A=E>>5,M=um((E>>5)*C);m.width=E,m.height=C;var Z=m.getContext("2d");Z.drawImage(y,0,0,y.width,y.height,0,0,E,C);for(var Y=Z.getImageData(0,0,E,C).data,st=0;st<C;st++)for(var Ct=0;Ct<E;Ct++){var Pt=A*st+(Ct>>5),Zt=st*E+Ct<<2,ie=Y[Zt]>=250&&Y[Zt+1]>=250&&Y[Zt+2]>=250,ce=ie?1<<31-Ct%32:0;M[Pt]|=ce}v.board=M,v.hasImage=!0}},v.timeInterval=function(y){l=y==null?1/0:y},v.words=function(y){u=y},v.size=function(y){e=[+y[0],+y[1]]},v.font=function(y){r=wa(y)},v.fontWeight=function(y){n=wa(y)},v.rotate=function(y){i=wa(y)},v.spiral=function(y){o=T$[y]||y},v.fontSize=function(y){t=wa(y)},v.padding=function(y){a=wa(y)},v.random=function(y){s=wa(y)},v}function lm(e){var r=e.options,t=e.chart,n=t,i=n.width,a=n.height,o=n.padding,s=n.appendPadding,u=n.ele,l=r.data,c=r.imageMask,f=r.wordField,h=r.weightField,v=r.colorField,p=r.wordStyle,g=r.timeInterval,y=r.random,m=r.spiral,E=r.autoFit,C=E===void 0?!0:E,A=r.placementStrategy;if(!l||!l.length)return[];var M=p.fontFamily,Z=p.fontWeight,Y=p.padding,st=p.fontSize,Ct=I$(l,h),Pt=[D$(Ct),B$(Ct)],Zt=l.map(function(_e){return{text:_e[f],value:_e[h],color:_e[v],datum:_e}}),ie={imageMask:c,font:M,fontSize:L$(st,Pt),fontWeight:Z,size:F$({width:i,height:a,padding:o,appendPadding:s,autoFit:C,container:u}),padding:Y,timeInterval:g,random:y,spiral:m,rotate:P$(r)};if((0,d.mf)(A)){var ce=Zt.map(function(_e,Re,he){return(0,x.pi)((0,x.pi)((0,x.pi)({},_e),{hasText:!!_e.text,font:wa(ie.font)(_e,Re,he),weight:wa(ie.fontWeight)(_e,Re,he),rotate:wa(ie.rotate)(_e,Re,he),size:wa(ie.fontSize)(_e,Re,he),style:"normal"}),A.call(t,_e,Re,he))});return ce.push({text:"",value:0,x:0,y:0,opacity:0}),ce.push({text:"",value:0,x:ie.size[0],y:ie.size[1],opacity:0}),ce}return p$(Zt,ie)}function F$(e){var r=e.width,t=e.height,n=e.container,i=e.autoFit,a=e.padding,o=e.appendPadding;if(i){var s=Of(n);r=s.width,t=s.height}r=r||400,t=t||400;var u=k$({padding:a,appendPadding:o}),l=u[0],c=u[1],f=u[2],h=u[3],v=[r-(h+c),t-(l+f)];return v}function k$(e){var r=ko(e.padding),t=ko(e.appendPadding),n=r[0]+t[0],i=r[1]+t[1],a=r[2]+t[2],o=r[3]+t[3];return[n,i,a,o]}function O$(e){return new Promise(function(r,t){if(e instanceof HTMLImageElement){r(e);return}if((0,d.HD)(e)){var n=new Image;n.crossOrigin="anonymous",n.src=e,n.onload=function(){r(n)},n.onerror=function(){Wa(oa.ERROR,!1,"image %s load failed !!!",e),t()};return}Wa(oa.WARN,e===void 0,"The type of imageMask option must be String or HTMLImageElement."),t()})}function L$(e,r){if((0,d.mf)(e))return e;if((0,d.kJ)(e)){var t=e[0],n=e[1];if(!r)return function(){return(n+t)/2};var i=r[0],a=r[1];return a===i?function(){return(n+t)/2}:function(s){var u=s.value;return(n-t)/(a-i)*(u-i)+t}}return function(){return e}}function I$(e,r){return e.map(function(t){return t[r]}).filter(function(t){return typeof t=="number"&&!isNaN(t)})}function P$(e){var r=R$(e),t=r.rotation,n=r.rotationSteps;if(!(0,d.kJ)(t))return t;var i=t[0],a=t[1],o=n===1?0:(a-i)/(n-1);return function(){return a===i?a:Math.floor(Math.random()*n)*o}}function R$(e){var r=e.wordStyle.rotationSteps;return r<1&&(Wa(oa.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),r=1),{rotation:e.wordStyle.rotation,rotationSteps:r}}function D$(e){return Math.min.apply(Math,e)}function B$(e){return Math.max.apply(Math,e)}function N$(e){var r=e.chart,t=e.options,n=t.colorField,i=t.color,a=lm(e);r.data(a);var o=pe({},e,{options:{xField:"x",yField:"y",seriesField:n&&M5,rawFields:(0,d.mf)(i)&&(0,x.pr)((0,d.U2)(t,"rawFields",[]),["datum"]),point:{color:i,shape:"word-cloud"}}}),s=mi(o).ext;return s.geometry.label(!1),r.coordinate().reflect("y"),r.axis(!1),e}function Z$(e){return or(Jr({x:{nice:!1},y:{nice:!1}}))(e)}function z$(e){var r=e.chart,t=e.options,n=t.legend,i=t.colorField;return n===!1?r.legend(!1):i&&r.legend(M5,n),e}function U$(e){or(N$,Z$,vn,z$,jr,Rr,Ar,Oo)(e)}kr("point","word-cloud",{draw:function(e,r){var t=e.x,n=e.y,i=r.addShape("text",{attrs:(0,x.pi)((0,x.pi)({},H$(e)),{x:t,y:n})}),a=e.data.rotate;return typeof a=="number"&&ai.rotate(i,a*Math.PI/180),i}});function H$(e){return{fontSize:e.data.size,text:e.data.text,textAlign:"center",fontFamily:e.data.font,fontWeight:e.data.weight,fill:e.color||e.defaultStyle.stroke,textBaseline:"alphabetic"}}var i6t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type="word-cloud",t}return r.getDefaultOptions=function(){return h$},r.prototype.changeData=function(t){this.updateOption({data:t}),this.options.imageMask?this.render():this.chart.changeData(lm({chart:this.chart,options:this.options}))},r.prototype.getDefaultOptions=function(){return r.getDefaultOptions()},r.prototype.render=function(){var t=this;return new Promise(function(n){var i=t.options.imageMask;if(!i){e.prototype.render.call(t),n();return}var a=function(o){t.options=(0,x.pi)((0,x.pi)({},t.options),{imageMask:o||null}),e.prototype.render.call(t),n()};O$(i).then(a).catch(a)})},r.prototype.getSchemaAdaptor=function(){return U$},r.prototype.triggerResize=function(){var t=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){e.prototype.triggerResize.call(t)}))},r}(hr),a6t=function(e){(0,x.ZT)(r,e);function r(t,n,i,a){var o=e.call(this,t,pe({},a,n))||this;return o.type="g2-plot",o.defaultOptions=a,o.adaptor=i,o}return r.prototype.getDefaultOptions=function(){return this.defaultOptions},r.prototype.getSchemaAdaptor=function(){return this.adaptor},r}(hr),o6t="2.4.25";Md("en-US",Uz),Md("zh-CN",Hz);var s6t={scale:Jr,legend:p1,tooltip:vn,annotation:Xr,interaction:jr,theme:Ar,animation:Rr},V$=F(50374),G$=F.t(V$,2),w5=function(){return w5=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},w5.apply(this,arguments)},cm=function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})},fm=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(t=0)),t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},pu=w5({},G$),j$=pu.version,W$=pu.render,Y$=pu.unmountComponentAtNode,h3;try{var X$=Number((j$||"").split(".")[0]);X$>=18&&(h3=pu.createRoot)}catch(e){}function hm(e){var r=pu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r&&typeof r=="object"&&(r.usingClientEntryPoint=e)}var v3="__rc_react_root__";function $$(e,r){hm(!0);var t=r[v3]||h3(r);hm(!1),t.render(e),r[v3]=t}function q$(e,r){W$(e,r)}function u6t(e,r){}function K$(e,r){if(h3){$$(e,r);return}q$(e,r)}function Q$(e){return cm(this,void 0,void 0,function(){return fm(this,function(r){return[2,Promise.resolve().then(function(){var t;(t=e[v3])===null||t===void 0||t.unmount(),delete e[v3]})]})})}function J$(e){Y$(e)}function l6t(e){}function c6t(e){return cm(this,void 0,void 0,function(){return fm(this,function(r){return h3!==void 0?[2,Q$(e)]:(J$(e),[2])})})}var F5=new Map,tq=function(e,r,t){var n=document.createElement("div");return r==="tooltip"&&(n.setAttribute("data-uuid",t),F5.has(t)?n=F5.get(t):F5.set(t,n),n.className="g2-tooltip"),K$(e,n),n},eq=tq,p3=function(e,r){var t={}.toString;return t.call(e)==="[object ".concat(r,"]")},rq=function(e){if(!e)return e;var r={};for(var t in e)r[t]=e[t];return r},f6t=function(e){return Object.prototype.toString.call(e).slice(8,-1)},g3=function(e){if(!e||typeof e!="object")return e;var r;return Array.isArray(e)?r=e.map(function(t){return g3(t)}):(r={},Object.keys(e).forEach(function(t){return r[t]=g3(e[t])})),r},du=function(e,r){for(var t=e,n=0;n<r.length;n+=1)if(t!=null&&t[r[n]])t=t[r[n]];else{t=void 0;break}return t},nq=function(e,r,t){if(!e)return e;var n=e;return r.forEach(function(i,a){a<r.length-1?n=n[i]:n[i]=t}),e},iq=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=Math.random()*16|0,t=e=="x"?r:r&3|8;return t.toString(16)})},k5=function(){return k5=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},k5.apply(this,arguments)},vm=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};function O5(e,r){var t=(0,_.useRef)(),n=(0,_.useRef)(),i=(0,_.useRef)(null),a=r.onReady,o=r.onEvent,s=function(f,h){var v;return f===void 0&&(f="image/png"),(v=t.current)===null||v===void 0?void 0:v.chart.canvas.cfg.el.toDataURL(f,h)},u=function(f,h,v){var p;f===void 0&&(f="download"),h===void 0&&(h="image/png");var g=f;f.indexOf(".")===-1&&(g="".concat(f,".").concat(h.split("/")[1]));var y=(p=t.current)===null||p===void 0?void 0:p.chart.canvas.cfg.el.toDataURL(h,v),m=document.createElement("a");return m.href=y,m.download=g,document.body.appendChild(m),m.click(),document.body.removeChild(m),m=null,g},l=function(f,h,v,p){var g=du(f,h);nq(f,h,function(){for(var y=[],m=0;m<arguments.length;m++)y[m]=arguments[m];var E=p3(g,"Function")?g.apply(void 0,y):g;return p3(E,"String")||p3(E,"Number")||p3(E,"HTMLDivElement")?E:eq(E,v,p)})},c=function(){var f=iq();du(r,["statistic","content","customHtml"])&&l(r,["statistic","content","customHtml"]),du(r,["statistic","title","customHtml"])&&l(r,["statistic","title","customHtml"]),typeof r.tooltip=="object"&&(du(r,["tooltip","container"])&&l(r,["tooltip","container"],"tooltip",f),du(r,["tooltip","customContent"])&&l(r,["tooltip","customContent"],"tooltip",f))};return(0,_.useEffect)(function(){if(t.current&&!(0,d.Xy)(n.current,r)){var f=!1;if(n.current){var h=n.current,v=h.data,p=h.value,g=h.percent,y=vm(h,["data","value","percent"]),m=r.data,E=r.value,C=r.percent,A=vm(r,["data","value","percent"]);f=(0,d.Xy)(y,A)}if(n.current=g3(r),f&&(0,d.U2)(r,"chartType")!=="Mix"){var M="data",Z=["percent"],Y=Object.keys(r);Z.forEach(function(st){Y.includes(st)&&(M=st)}),t.current.changeData((r==null?void 0:r[M])||[]),t.current.render()}else c(),t.current.update(r)}},[r]),(0,_.useEffect)(function(){if(!i.current)return function(){return null};n.current||(n.current=g3(r)),c();var f=new e(i.current,k5({},r));f.toDataURL=function(v,p){return s(v,p)},f.downloadImage=function(v,p,g){return u(v,p,g)},f.render(),t.current=rq(f),a&&a(f);var h=function(v){o&&o(f,v)};return f.on("*",h),function(){t.current&&(t.current.destroy(),t.current.off("*",h),t.current=void 0)}},[]),{chart:t,container:i}}var L5=function(e,r){e&&((0,d.mf)(e)?e(r):e.current=r)},aq=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),oq=function(e){aq(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(n){var i=t.props.errorTemplate;switch(n){default:return typeof i=="function"?i(n):i||_.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},t}return r.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},r.getDerivedStateFromProps=function(t,n){return n.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},r.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):_.createElement(_.Fragment,null,this.props.children)},r}(_.Component),I5=oq;var ji=function(){return ji=Object.assign||function(r){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},ji.apply(this,arguments)};function sq(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t}var uq=function(){return Math.random().toString(36).substring(6)},pm=function(e){var r=e.animate,t=e.backgroundColor,n=e.backgroundOpacity,i=e.baseUrl,a=e.children,o=e.foregroundColor,s=e.foregroundOpacity,u=e.gradientRatio,l=e.uniqueKey,c=e.interval,f=e.rtl,h=e.speed,v=e.style,p=e.title,g=sq(e,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),y=l||uq(),m=y+"-diff",E=y+"-animated-diff",C=y+"-aria",A=f?{transform:"scaleX(-1)"}:null,M="0; "+c+"; 1",Z=h+"s";return(0,_.createElement)("svg",ji({"aria-labelledby":C,role:"img",style:ji(ji({},v),A)},g),p?(0,_.createElement)("title",{id:C},p):null,(0,_.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+i+"#"+m+")",style:{fill:"url("+i+"#"+E+")"}}),(0,_.createElement)("defs",{role:"presentation"},(0,_.createElement)("clipPath",{id:m},a),(0,_.createElement)("linearGradient",{id:E},(0,_.createElement)("stop",{offset:"0%",stopColor:t,stopOpacity:n},r&&(0,_.createElement)("animate",{attributeName:"offset",values:-u+"; "+-u+"; 1",keyTimes:M,dur:Z,repeatCount:"indefinite"})),(0,_.createElement)("stop",{offset:"50%",stopColor:o,stopOpacity:s},r&&(0,_.createElement)("animate",{attributeName:"offset",values:-u/2+"; "+-u/2+"; "+(1+u/2),keyTimes:M,dur:Z,repeatCount:"indefinite"})),(0,_.createElement)("stop",{offset:"100%",stopColor:t,stopOpacity:n},r&&(0,_.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+u),keyTimes:M,dur:Z,repeatCount:"indefinite"})))))};pm.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var k0=function(e){return e.children?(0,_.createElement)(pm,ji({},e)):(0,_.createElement)(lq,ji({},e))},lq=function(e){return(0,_.createElement)(k0,ji({viewBox:"0 0 476 124"},e),(0,_.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,_.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,_.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,_.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,_.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,_.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},h6t=function(e){return createElement(k0,ji({viewBox:"0 0 400 460"},e),createElement("circle",{cx:"31",cy:"31",r:"15"}),createElement("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},v6t=function(e){return createElement(k0,ji({viewBox:"0 0 340 84"},e),createElement("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),createElement("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),createElement("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),createElement("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),createElement("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),createElement("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},p6t=function(e){return createElement(k0,ji({viewBox:"0 0 400 110"},e),createElement("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),createElement("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),createElement("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),createElement("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),createElement("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},d6t=function(e){return createElement(k0,ji({viewBox:"0 0 245 125"},e),createElement("circle",{cx:"10",cy:"20",r:"8"}),createElement("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"50",r:"8"}),createElement("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"80",r:"8"}),createElement("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),createElement("circle",{cx:"10",cy:"110",r:"8"}),createElement("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},dm=k0,cq=function(e){var r=e.loadingTemplate,t=e.theme,n=t===void 0?"light":t,i=function(){return r||_.createElement(dm,{viewBox:"0 0 400 180",width:200,height:90,speed:1,backgroundColor:n==="dark"?"#262626":"#D9D9D9"},_.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),_.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),_.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),_.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),_.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),_.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),_.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),_.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),_.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),_.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return _.createElement("div",{className:"charts-loading-container",style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:n==="dark"?"rgb(20, 20, 20)":"rgb(255, 255, 255)"}},i())},P5=cq,fq=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t},hq=(0,_.forwardRef)(function(e,r){var t=e.chartRef,n=e.style,i=n===void 0?{height:"inherit"}:n,a=e.className,o=e.loading,s=e.loadingTemplate,u=e.errorTemplate,l=fq(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=O5(lg,l),f=c.chart,h=c.container;return(0,_.useEffect)(function(){L5(t,f.current)},[f.current]),(0,_.useImperativeHandle)(r,function(){return{getChart:function(){return f.current}}}),_.createElement(I5,{errorTemplate:u},o&&_.createElement(P5,{loadingTemplate:s,theme:e.theme}),_.createElement("div",{className:a,style:i,ref:h}))}),vq=hq,pq=F(36389),dq=F(55756),gq=F(66939),Wi=F.n(gq);function gm(e){return e<10?"0".concat(e):e}function ym(e){var r=new Date,t=1e3*60*60*24;if(e==="today")return r.setHours(0),r.setMinutes(0),r.setSeconds(0),[Wi()(r),Wi()(r.getTime()+(t-1e3))];if(e==="week"){var n=r.getDay();r.setHours(0),r.setMinutes(0),r.setSeconds(0),n===0?n=6:n-=1;var i=r.getTime()-n*t;return[Wi()(i),Wi()(i+(7*t-1e3))]}var a=r.getFullYear();if(e==="month"){var o=r.getMonth(),s=Wi()(r).add(1,"months"),u=s.year(),l=s.month();return[Wi()("".concat(a,"-").concat(gm(o+1),"-01 00:00:00")),Wi()(Wi()("".concat(u,"-").concat(gm(l+1),"-01 00:00:00")).valueOf()-1e3)]}return[Wi()("".concat(a,"-01-01 00:00:00")),Wi()("".concat(a,"-12-31 23:59:59"))]}var yq=F(18639),mq=tt.ZP.ConfigContext;function xq(){var e=(0,_.useContext)(mq),r=e.getPrefixCls,t=".".concat(r()),n=(0,yq.l)(function(i){var a,o,s=i.token;return o={},sa()(o,".sales-extra-wrap",(a={},sa()(a,".sales-extra",{display:"inline-block",marginRight:"24px",a:sa()({marginLeft:"24px",color:s.colorText},"&:hover",{color:s.colorPrimary})}),sa()(a,"".concat(t,"-picker-range"),{width:"270px"}),a)),sa()(o,"@media  (max-width: ".concat(s.screenXXL,"px)"),sa()({},".sales-extra-wrap",sa()({},"".concat(t,"-picker-range"),{display:"none"}))),sa()(o,"@media  (max-width: ".concat(s.screenXL,"px)"),sa()({},".sales-extra-wrap",sa()({},".sales-extra",{display:"none"}))),o});return{className:n}}var _q=pq.Z.RangePicker,y3=function(e){var r=e.onChange,t=e.type,n=(0,_.useState)(),i=Ht()(n,2),a=i[0],o=i[1],s=(0,_.useState)(),u=Ht()(s,2),l=u[0],c=u[1],f=xq(),h=f.className;return(0,Ye.Z)(gt()(kt()().mark(function v(){return kt()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:o(ym(t)),c(t);case 2:case"end":return g.stop()}},v)})),[t]),(0,Ye.Z)(gt()(kt()().mark(function v(){return kt()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:r(Wi()(a==null?void 0:a[0]).format("YYYY-MM-DD HH:mm:ss"),Wi()(a==null?void 0:a[1]).format("YYYY-MM-DD HH:mm:ss"));case 1:case"end":return g.stop()}},v)})),[a]),(0,D.jsx)("div",{className:h,children:(0,D.jsxs)("div",{className:"sales-extra-wrap",children:[(0,D.jsx)("div",{className:"sales-extra",children:(0,D.jsx)(dq.Z,{defaultValue:l,options:[{label:"\u4ECA\u65E5",value:"today"},{label:"\u672C\u5468",value:"week"},{label:"\u672C\u6708",value:"month"},{label:"\u672C\u5E74",value:"year"}],onChange:function(p){var g=ym(p);o(g)}})}),(0,D.jsx)(_q,{format:"YYYY-MM-DD HH:mm:ss",value:a})]})})},O0=F(59402),Eq=function(){var e=(0,_.useState)(!1),r=Ht()(e,2),t=r[0],n=r[1],i=(0,_.useState)([]),a=Ht()(i,2),o=a[0],s=a[1],u=(0,_.useState)(),l=Ht()(u,2),c=l[0],f=l[1];(0,Ye.Z)(gt()(kt()().mark(function v(){var p,g,y,m,E;return kt()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!c){A.next=10;break}return p=c.startTime,g=c.endTime,n(!0),A.next=5,ho(p,g);case 5:y=A.sent,m=y.result,E=y.success,E&&m&&s(m),setTimeout(function(){n(!1)},90);case 10:case"end":return A.stop()}},v)})),[c]);var h={height:280,appendPadding:10,data:o,angleField:"count",colorField:"name",radius:1,innerRadius:.6,label:{type:"inner",offset:"-50%",content:"{value}",style:{textAlign:"center",fontSize:14}},statistic:{title:!1,content:{style:{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis"},content:""}},interactions:[{type:"element-selected"},{type:"element-active"},{type:"pie-statistic-active"}]};return(0,D.jsx)(Qn.Z,{title:"\u70ED\u95E8\u8BA4\u8BC1\u65B9\u5F0F",headerBordered:!0,extra:(0,D.jsx)(y3,{type:"today",onChange:function(p,g){f({startTime:p,endTime:g})}}),children:(0,D.jsx)(Q.Z,{loading:t,active:!0,paragraph:{rows:7},children:o.length>0?(0,D.jsx)(vq,mt()({},h)):(0,D.jsx)("div",{style:{height:280,alignItems:"center",display:"grid"},children:(0,D.jsx)(O0.Z,{image:O0.Z.PRESENTED_IMAGE_SIMPLE})})})})},mm=JSON.parse('{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"adcode":110000,"name":"\u5317\u4EAC\u5E02","center":[116.405285,39.904989],"centroid":[116.41995,40.18994],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":0,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[117.348611,40.581141],[117.389879,40.561593],[117.429915,40.576141],[117.412669,40.605226],[117.467487,40.649738],[117.467487,40.649738],[117.501364,40.636569],[117.514914,40.660181],[117.493973,40.675161],[117.408973,40.686961],[117.342451,40.673799],[117.319662,40.657911],[117.278394,40.664267],[117.208177,40.694675],[117.117018,40.70012],[117.11209,40.707379],[117.012308,40.693767],[116.964881,40.709647],[116.926692,40.745022],[116.924229,40.773581],[116.848468,40.839264],[116.81336,40.848319],[116.759773,40.889954],[116.713577,40.909858],[116.722201,40.927495],[116.677853,40.970888],[116.698795,41.021477],[116.688324,41.044501],[116.647672,41.059394],[116.615643,41.053076],[116.623034,41.021026],[116.598397,40.974503],[116.5676,40.992574],[116.519557,40.98128],[116.519557,40.98128],[116.455499,40.980828],[116.447492,40.953715],[116.477057,40.899907],[116.398216,40.90624],[116.370499,40.94377],[116.339702,40.929303],[116.334159,40.90443],[116.438253,40.81934],[116.46597,40.774487],[116.453651,40.765876],[116.316912,40.772221],[116.311369,40.754996],[116.273181,40.762703],[116.247311,40.791707],[116.22021,40.744115],[116.204812,40.740035],[116.171551,40.695582],[116.162928,40.662451],[116.133979,40.666536],[116.09887,40.630665],[116.005247,40.583868],[115.982457,40.578868],[115.971986,40.6025],[115.907929,40.617493],[115.885139,40.595229],[115.827857,40.587504],[115.819849,40.55932],[115.784741,40.55841],[115.755176,40.540221],[115.736082,40.503372],[115.781045,40.49336],[115.771806,40.443734],[115.864197,40.359422],[115.917784,40.354405],[115.95166,40.281852],[115.968907,40.264045],[115.89869,40.234354],[115.870356,40.185909],[115.855574,40.188652],[115.847567,40.147036],[115.806299,40.15344],[115.773654,40.176307],[115.75456,40.145663],[115.75456,40.145663],[115.599959,40.119583],[115.59072,40.096239],[115.527278,40.076092],[115.485394,40.040364],[115.454597,40.029825],[115.450286,39.992697],[115.428728,39.984443],[115.426264,39.950502],[115.481083,39.935819],[115.522967,39.899099],[115.515575,39.892212],[115.515575,39.892212],[115.526046,39.87568],[115.514344,39.837549],[115.567314,39.816407],[115.552532,39.794799],[115.50572,39.784222],[115.483547,39.798477],[115.483547,39.798477],[115.443511,39.785601],[115.439815,39.752022],[115.486626,39.741899],[115.491554,39.670074],[115.478619,39.650723],[115.478619,39.650723],[115.522351,39.640124],[115.518039,39.597252],[115.545756,39.618922],[115.587024,39.589873],[115.633836,39.599557],[115.633836,39.599557],[115.667712,39.615234],[115.698509,39.577881],[115.698509,39.577881],[115.699125,39.570039],[115.699125,39.570039],[115.716988,39.56035],[115.716988,39.56035],[115.718835,39.553891],[115.718835,39.553891],[115.720683,39.551122],[115.720683,39.551122],[115.722531,39.5442],[115.721299,39.543738],[115.722531,39.5442],[115.722531,39.543738],[115.721299,39.543738],[115.722531,39.543738],[115.724995,39.5442],[115.724995,39.5442],[115.738545,39.540046],[115.738545,39.539585],[115.738545,39.540046],[115.738545,39.539585],[115.752712,39.515581],[115.806299,39.510041],[115.806299,39.510041],[115.821081,39.522968],[115.821081,39.522968],[115.828473,39.541431],[115.867893,39.546507],[115.867893,39.546507],[115.91532,39.582955],[115.91532,39.582955],[115.910393,39.600479],[115.910393,39.600479],[115.957204,39.560812],[115.978146,39.595868],[115.995392,39.576958],[116.026189,39.587567],[116.036044,39.571884],[116.09887,39.575113],[116.130283,39.567732],[116.151841,39.583416],[116.198652,39.589412],[116.240536,39.564041],[116.257782,39.500344],[116.307057,39.488337],[116.337854,39.455536],[116.361876,39.455074],[116.361876,39.455074],[116.434557,39.442597],[116.454883,39.453226],[116.444412,39.482332],[116.411767,39.482794],[116.401912,39.528046],[116.443796,39.510041],[116.437637,39.526661],[116.478289,39.535431],[116.473361,39.552968],[116.50847,39.551122],[116.524484,39.596329],[116.592237,39.621227],[116.592237,39.621227],[116.620571,39.601863],[116.664918,39.605552],[116.723432,39.59264],[116.724048,39.59264],[116.723432,39.59264],[116.724048,39.59264],[116.726512,39.595407],[116.726512,39.595407],[116.709266,39.618],[116.748686,39.619844],[116.79057,39.595868],[116.812128,39.615695],[116.8497,39.66777],[116.906366,39.677444],[116.90575,39.688037],[116.889736,39.687576],[116.887272,39.72533],[116.916837,39.731314],[116.902055,39.763523],[116.949482,39.778703],[116.918069,39.84628],[116.907598,39.832494],[116.865714,39.843982],[116.812128,39.889916],[116.78441,39.891294],[116.782563,39.947749],[116.757925,39.967934],[116.781331,40.034866],[116.820135,40.02845],[116.831222,40.051359],[116.867562,40.041739],[116.927924,40.055024],[116.945171,40.04128],[117.025243,40.030283],[117.051728,40.059605],[117.105315,40.074261],[117.105315,40.074261],[117.140423,40.064185],[117.159517,40.077008],[117.204481,40.069681],[117.210024,40.082045],[117.224191,40.094865],[117.224191,40.094865],[117.254988,40.114548],[117.254988,40.114548],[117.254988,40.114548],[117.274082,40.105852],[117.307343,40.136971],[117.349227,40.136513],[117.367089,40.172649],[117.367089,40.173106],[117.367089,40.173106],[117.367089,40.172649],[117.383719,40.188195],[117.389879,40.227958],[117.351075,40.229786],[117.331365,40.289613],[117.295024,40.2782],[117.271618,40.325211],[117.271618,40.325211],[117.243285,40.369453],[117.226039,40.368997],[117.234046,40.417312],[117.263611,40.442367],[117.208793,40.501552],[117.262995,40.512927],[117.247597,40.539766],[117.269771,40.560684],[117.348611,40.581141],[117.348611,40.581141]]]]}},{"type":"Feature","properties":{"adcode":120000,"name":"\u5929\u6D25\u5E02","center":[117.190182,39.125596],"centroid":[117.347043,39.288036],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":1,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[117.765602,39.400527],[117.846906,39.407926],[117.871543,39.411625],[117.870311,39.455074],[117.899877,39.474479],[117.912195,39.517428],[117.912195,39.517428],[117.904804,39.533585],[117.933753,39.574191],[117.868464,39.59679],[117.829659,39.589873],[117.766834,39.598635],[117.753899,39.579726],[117.753899,39.579726],[117.745276,39.547892],[117.715711,39.529892],[117.707088,39.576036],[117.684914,39.58895],[117.654117,39.575113],[117.637486,39.603246],[117.66274,39.636437],[117.668899,39.666849],[117.627015,39.703693],[117.57774,39.726711],[117.595603,39.74604],[117.56111,39.754782],[117.546327,39.775943],[117.561726,39.799856],[117.529081,39.859144],[117.529081,39.859144],[117.508139,39.901854],[117.508139,39.901854],[117.512451,39.90874],[117.512451,39.90874],[117.513067,39.910576],[117.513067,39.910576],[117.514914,39.946832],[117.534625,39.954631],[117.546327,39.999116],[117.594987,39.994531],[117.594987,39.994531],[117.614697,39.97252],[117.671363,39.973896],[117.691073,39.984902],[117.756363,39.965181],[117.781616,39.966558],[117.781616,39.966558],[117.795167,39.996823],[117.795167,39.996823],[117.793319,40.005534],[117.793319,40.005534],[117.768681,40.022034],[117.768681,40.022034],[117.744044,40.018368],[117.74774,40.047236],[117.776073,40.059605],[117.752667,40.081588],[117.71879,40.082045],[117.71879,40.082045],[117.675059,40.082045],[117.655965,40.109514],[117.655965,40.109514],[117.654117,40.114548],[117.654117,40.114548],[117.651653,40.122786],[117.651653,40.122786],[117.613465,40.158014],[117.613465,40.158014],[117.609769,40.160301],[117.609769,40.160301],[117.576508,40.178593],[117.571581,40.219276],[117.548791,40.232527],[117.505059,40.227044],[117.450241,40.252627],[117.415748,40.248973],[117.389879,40.227958],[117.383719,40.188195],[117.367089,40.172649],[117.367089,40.173106],[117.367089,40.173106],[117.367089,40.172649],[117.349227,40.136513],[117.307343,40.136971],[117.274082,40.105852],[117.254988,40.114548],[117.254988,40.114548],[117.254988,40.114548],[117.224191,40.094865],[117.224191,40.094865],[117.210024,40.082045],[117.192162,40.066475],[117.198322,39.992697],[117.150894,39.944996],[117.162597,39.876598],[117.162597,39.876598],[117.227887,39.852712],[117.247597,39.860981],[117.251908,39.834332],[117.192162,39.832953],[117.156438,39.817326],[117.15767,39.796638],[117.205713,39.763984],[117.161981,39.748801],[117.165061,39.718886],[117.165061,39.718886],[117.177996,39.645194],[117.152742,39.623532],[117.10901,39.625375],[117.10901,39.625375],[117.016004,39.653949],[116.983359,39.638742],[116.983359,39.638742],[116.964265,39.64335],[116.948866,39.680668],[116.948866,39.680668],[116.944555,39.695405],[116.944555,39.695405],[116.932236,39.706456],[116.932236,39.706456],[116.90575,39.688037],[116.906366,39.677444],[116.8497,39.66777],[116.812128,39.615695],[116.808432,39.576497],[116.78749,39.554352],[116.819519,39.528507],[116.820751,39.482332],[116.785026,39.465702],[116.832454,39.435664],[116.876185,39.43474],[116.839845,39.413474],[116.840461,39.378326],[116.818287,39.3737],[116.829374,39.338994],[116.870642,39.357506],[116.889736,39.338068],[116.87249,39.291304],[116.881729,39.225966],[116.881729,39.225966],[116.855859,39.215766],[116.870026,39.153607],[116.909446,39.150822],[116.912526,39.110898],[116.91191,39.111362],[116.91191,39.111362],[116.912526,39.110898],[116.871874,39.054688],[116.812744,39.05097],[116.812744,39.05097],[116.783179,39.05097],[116.783179,39.05097],[116.754229,39.034701],[116.754229,39.034701],[116.754845,39.003084],[116.72836,38.975174],[116.708034,38.931892],[116.722201,38.896968],[116.723432,38.852706],[116.75115,38.831264],[116.737599,38.784629],[116.746222,38.754299],[116.794265,38.744498],[116.794265,38.744498],[116.858939,38.741231],[116.877417,38.680522],[116.948866,38.689398],[116.950714,38.689398],[116.95133,38.689398],[116.950714,38.689398],[116.948866,38.689398],[116.95133,38.689398],[117.038793,38.688464],[117.068358,38.680522],[117.055424,38.639398],[117.070822,38.608072],[117.109626,38.584685],[117.150894,38.617892],[117.183539,38.61836],[117.183539,38.61836],[117.213104,38.639866],[117.213104,38.639866],[117.258684,38.608072],[117.258684,38.608072],[117.238358,38.580943],[117.25314,38.556143],[117.368937,38.564566],[117.432379,38.601524],[117.47919,38.616489],[117.55803,38.613683],[117.639334,38.626776],[117.65658,38.66043],[117.729261,38.680055],[117.740964,38.700141],[117.740964,38.753833],[117.671363,38.772032],[117.646725,38.788827],[117.64611,38.828933],[117.752051,38.847579],[117.778536,38.869016],[117.847522,38.855502],[117.875855,38.920252],[117.898029,38.948649],[117.855529,38.957492],[117.837667,39.057011],[117.871543,39.122506],[117.96455,39.172631],[117.977485,39.206028],[118.032919,39.219939],[118.034767,39.218548],[118.064948,39.231065],[118.064948,39.256094],[118.036615,39.264898],[118.024296,39.289451],[118.024296,39.289451],[117.982412,39.298714],[117.982412,39.298714],[117.979333,39.300566],[117.979333,39.300566],[117.973173,39.312143],[117.973173,39.312143],[117.965782,39.314921],[117.965782,39.314921],[117.919587,39.318162],[117.919587,39.318162],[117.88879,39.332051],[117.854913,39.328348],[117.854297,39.328348],[117.854913,39.328348],[117.854297,39.328348],[117.850601,39.363984],[117.850601,39.363984],[117.810565,39.354729],[117.805022,39.373237],[117.784696,39.376938],[117.74466,39.354729],[117.670747,39.357969],[117.669515,39.322792],[117.594987,39.349176],[117.536472,39.338068],[117.521074,39.357043],[117.570965,39.404689],[117.601146,39.419485],[117.614081,39.407001],[117.668899,39.412087],[117.673211,39.386652],[117.699696,39.407463],[117.765602,39.400527]]],[[[117.805022,39.373237],[117.852449,39.380639],[117.846906,39.407926],[117.765602,39.400527],[117.784696,39.376938],[117.805022,39.373237]]]]}},{"type":"Feature","properties":{"adcode":130000,"name":"\u6CB3\u5317\u7701","center":[114.502461,38.045474],"childrenNum":11,"level":"province","parent":{"adcode":100000},"subFeatureIndex":2,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[117.467487,40.649738],[117.412669,40.605226],[117.429915,40.576141],[117.389879,40.561593],[117.348611,40.581141],[117.348611,40.581141],[117.269771,40.560684],[117.247597,40.539766],[117.262995,40.512927],[117.208793,40.501552],[117.263611,40.442367],[117.234046,40.417312],[117.226039,40.368997],[117.243285,40.369453],[117.271618,40.325211],[117.271618,40.325211],[117.295024,40.2782],[117.331365,40.289613],[117.351075,40.229786],[117.389879,40.227958],[117.415748,40.248973],[117.450241,40.252627],[117.505059,40.227044],[117.548791,40.232527],[117.571581,40.219276],[117.576508,40.178593],[117.609769,40.160301],[117.609769,40.160301],[117.613465,40.158014],[117.613465,40.158014],[117.651653,40.122786],[117.651653,40.122786],[117.654117,40.114548],[117.654117,40.114548],[117.655965,40.109514],[117.655965,40.109514],[117.675059,40.082045],[117.71879,40.082045],[117.71879,40.082045],[117.752667,40.081588],[117.776073,40.059605],[117.74774,40.047236],[117.744044,40.018368],[117.768681,40.022034],[117.768681,40.022034],[117.793319,40.005534],[117.793319,40.005534],[117.795167,39.996823],[117.795167,39.996823],[117.781616,39.966558],[117.781616,39.966558],[117.756363,39.965181],[117.691073,39.984902],[117.671363,39.973896],[117.614697,39.97252],[117.594987,39.994531],[117.594987,39.994531],[117.546327,39.999116],[117.534625,39.954631],[117.514914,39.946832],[117.513067,39.910576],[117.513067,39.910576],[117.512451,39.90874],[117.512451,39.90874],[117.508139,39.901854],[117.508139,39.901854],[117.529081,39.859144],[117.529081,39.859144],[117.561726,39.799856],[117.546327,39.775943],[117.56111,39.754782],[117.595603,39.74604],[117.57774,39.726711],[117.627015,39.703693],[117.668899,39.666849],[117.66274,39.636437],[117.637486,39.603246],[117.654117,39.575113],[117.684914,39.58895],[117.707088,39.576036],[117.715711,39.529892],[117.745276,39.547892],[117.753899,39.579726],[117.753899,39.579726],[117.766834,39.598635],[117.829659,39.589873],[117.868464,39.59679],[117.933753,39.574191],[117.904804,39.533585],[117.912195,39.517428],[117.912195,39.517428],[117.899877,39.474479],[117.870311,39.455074],[117.871543,39.411625],[117.846906,39.407926],[117.852449,39.380639],[117.805022,39.373237],[117.810565,39.354729],[117.850601,39.363984],[117.850601,39.363984],[117.854297,39.328348],[117.854913,39.328348],[117.854297,39.328348],[117.854913,39.328348],[117.88879,39.332051],[117.919587,39.318162],[117.919587,39.318162],[117.965782,39.314921],[117.965782,39.314921],[117.973173,39.312143],[117.973173,39.312143],[117.979333,39.300566],[117.979333,39.300566],[117.982412,39.298714],[117.982412,39.298714],[118.024296,39.289451],[118.024296,39.289451],[118.036615,39.264898],[118.064948,39.256094],[118.064948,39.231065],[118.034767,39.218548],[118.026144,39.201854],[118.070492,39.213911],[118.077883,39.201854],[118.12531,39.182838],[118.162883,39.136433],[118.1906,39.080708],[118.225092,39.034701],[118.319331,39.009594],[118.366143,39.016104],[118.377845,38.971917],[118.491178,38.909077],[118.539837,38.910008],[118.604511,38.971452],[118.570634,38.999363],[118.533062,39.090928],[118.588497,39.107648],[118.578642,39.130863],[118.637156,39.157319],[118.76096,39.133648],[118.814546,39.138754],[118.857662,39.162888],[118.897082,39.151286],[118.920488,39.171703],[118.951285,39.178662],[118.896466,39.139683],[118.890307,39.118792],[118.926031,39.123435],[118.97777,39.163352],[119.023966,39.187012],[119.038132,39.211593],[119.096031,39.24219],[119.121284,39.281576],[119.185342,39.342234],[119.272805,39.363521],[119.317153,39.4107],[119.316537,39.437051],[119.269726,39.498497],[119.366428,39.734996],[119.474217,39.813189],[119.536427,39.809052],[119.520413,39.840306],[119.540739,39.888079],[119.588166,39.910576],[119.620195,39.904609],[119.642369,39.925264],[119.681789,39.922511],[119.726137,39.940867],[119.787115,39.950502],[119.820375,39.979399],[119.842549,39.956007],[119.872114,39.960594],[119.854252,39.98857],[119.845629,40.000949],[119.845629,40.000949],[119.854252,40.033033],[119.81668,40.050443],[119.81668,40.050443],[119.787115,40.041739],[119.787115,40.041739],[119.783419,40.046778],[119.783419,40.046778],[119.772332,40.08113],[119.736608,40.104936],[119.760629,40.136056],[119.745847,40.207851],[119.716898,40.195966],[119.671934,40.23938],[119.639289,40.231613],[119.639289,40.231613],[119.651608,40.271808],[119.598021,40.334335],[119.586934,40.375381],[119.604797,40.455119],[119.553674,40.502007],[119.572152,40.523846],[119.559217,40.547952],[119.503783,40.553864],[119.477913,40.533399],[119.429254,40.540221],[119.30237,40.530215],[119.256175,40.543404],[119.22045,40.569322],[119.230921,40.603863],[119.177951,40.609315],[119.162552,40.600228],[119.14469,40.632482],[119.184726,40.680153],[119.165632,40.69286],[119.115125,40.666536],[119.054763,40.664721],[119.028277,40.692406],[119.011031,40.687414],[118.96114,40.72008],[118.950053,40.747743],[118.895234,40.75409],[118.907553,40.775394],[118.878604,40.783098],[118.845959,40.822057],[118.873061,40.847866],[118.90201,40.960946],[118.916792,40.969984],[118.977154,40.959138],[118.977154,40.959138],[119.00056,40.967273],[119.013495,41.007479],[118.951901,41.018317],[118.937118,41.052625],[118.964836,41.079246],[119.037516,41.067516],[119.080632,41.095936],[119.081248,41.131555],[119.126212,41.138767],[119.189038,41.198234],[119.169943,41.222996],[119.204436,41.222546],[119.209364,41.244599],[119.2494,41.279689],[119.239545,41.31431],[119.211827,41.308016],[119.197661,41.282837],[119.168712,41.294978],[119.092951,41.293629],[118.980234,41.305769],[118.949437,41.317906],[118.890923,41.300823],[118.844727,41.342622],[118.843496,41.374516],[118.770199,41.352956],[118.741866,41.324198],[118.677192,41.35026],[118.629765,41.346666],[118.528135,41.355202],[118.412338,41.331838],[118.380309,41.312062],[118.348896,41.342622],[118.361215,41.384844],[118.348896,41.428384],[118.327338,41.450816],[118.271904,41.471446],[118.315636,41.512688],[118.302701,41.55256],[118.215237,41.59554],[118.206614,41.650566],[118.159187,41.67605],[118.155491,41.712694],[118.132702,41.733241],[118.140093,41.784134],[118.178281,41.814917],[118.236179,41.80778],[118.247266,41.773869],[118.29223,41.772976],[118.335346,41.845241],[118.340273,41.87243],[118.268824,41.930336],[118.306396,41.940131],[118.313788,41.98819],[118.291614,42.007759],[118.239875,42.024655],[118.286686,42.033991],[118.296541,42.057545],[118.27252,42.083312],[118.239259,42.092639],[118.212774,42.081091],[118.220165,42.058434],[118.194296,42.031324],[118.116687,42.037102],[118.155491,42.081091],[118.097593,42.105072],[118.089586,42.12283],[118.106216,42.172082],[118.033535,42.199132],[117.977485,42.229716],[117.974405,42.25054],[118.047702,42.280656],[118.060021,42.298364],[118.008898,42.346595],[118.024296,42.385064],[117.997811,42.416884],[117.874007,42.510038],[117.856761,42.539148],[117.797631,42.585431],[117.801326,42.612744],[117.779768,42.61847],[117.708935,42.588515],[117.667051,42.582347],[117.60053,42.603054],[117.537088,42.603054],[117.530313,42.590278],[117.475494,42.602613],[117.435458,42.585431],[117.434226,42.557224],[117.387415,42.517537],[117.387415,42.517537],[117.410205,42.519743],[117.413284,42.471645],[117.390495,42.461933],[117.332596,42.46105],[117.332596,42.46105],[117.275314,42.481797],[117.275314,42.481797],[117.188467,42.468114],[117.188467,42.468114],[117.135496,42.468996],[117.09546,42.484004],[117.080061,42.463699],[117.080061,42.463699],[117.01662,42.456193],[117.01662,42.456193],[117.009228,42.44957],[117.009228,42.44957],[117.005533,42.43367],[117.005533,42.43367],[116.99075,42.425719],[116.99075,42.425719],[116.974736,42.426603],[116.974736,42.426603],[116.97104,42.427486],[116.97104,42.427486],[116.944555,42.415116],[116.944555,42.415116],[116.936547,42.410256],[116.936547,42.410256],[116.921765,42.403628],[116.921765,42.403628],[116.910062,42.395231],[116.910062,42.395231],[116.910678,42.394789],[116.910678,42.394789],[116.886656,42.366496],[116.897743,42.297479],[116.918685,42.229716],[116.903287,42.190708],[116.789338,42.200462],[116.825062,42.155669],[116.850316,42.156556],[116.890352,42.092639],[116.879881,42.018431],[116.796113,41.977958],[116.748686,41.984186],[116.727744,41.951259],[116.66923,41.947698],[116.639049,41.929891],[116.597165,41.935679],[116.553433,41.928555],[116.510933,41.974399],[116.4826,41.975734],[116.453651,41.945917],[116.393289,41.942802],[116.414231,41.982407],[116.373579,42.009983],[116.310137,41.997086],[116.298434,41.96817],[116.223906,41.932562],[116.212819,41.885352],[116.194341,41.861734],[116.122892,41.861734],[116.106877,41.831419],[116.129051,41.805996],[116.09887,41.776547],[116.034196,41.782795],[116.007095,41.79752],[116.007095,41.797966],[116.007095,41.79752],[116.007095,41.797966],[115.994776,41.828743],[115.954124,41.874213],[115.916552,41.945027],[115.85311,41.927665],[115.834632,41.93835],[115.811226,41.912525],[115.726227,41.870202],[115.688038,41.867528],[115.654162,41.829189],[115.57409,41.80555],[115.519887,41.76762],[115.488474,41.760924],[115.42996,41.728775],[115.346808,41.712247],[115.319091,41.691693],[115.360975,41.661297],[115.345576,41.635807],[115.377605,41.603148],[115.310468,41.592854],[115.290142,41.622835],[115.26612,41.616124],[115.256881,41.580768],[115.20391,41.571367],[115.195287,41.602253],[115.0992,41.62373],[115.056085,41.602253],[115.016049,41.615229],[114.860832,41.60091],[114.895325,41.636255],[114.902716,41.695715],[114.89594,41.76762],[114.868839,41.813579],[114.922426,41.825175],[114.939056,41.846132],[114.923658,41.871093],[114.915035,41.960605],[114.9021,42.015763],[114.860832,42.054879],[114.86268,42.097967],[114.825723,42.139695],[114.79431,42.149457],[114.789383,42.130819],[114.75489,42.115727],[114.675434,42.12061],[114.647717,42.109512],[114.560254,42.132595],[114.510978,42.110844],[114.502355,42.06732],[114.480181,42.064654],[114.467863,42.025989],[114.511594,41.981962],[114.478334,41.951704],[114.419203,41.942356],[114.352066,41.953484],[114.343443,41.926774],[114.282465,41.863517],[114.200545,41.789934],[114.215328,41.75646],[114.206704,41.7386],[114.237501,41.698843],[114.215328,41.68499],[114.259059,41.623282],[114.226414,41.616572],[114.221487,41.582111],[114.230726,41.513584],[114.101379,41.537779],[114.032394,41.529715],[113.976959,41.505966],[113.953553,41.483553],[113.933227,41.487139],[113.919677,41.454404],[113.877793,41.431076],[113.871017,41.413126],[113.94493,41.392477],[113.92522,41.325546],[113.899351,41.316108],[113.914749,41.294529],[113.95109,41.282837],[113.971416,41.239649],[113.992357,41.269794],[114.016379,41.231999],[113.996669,41.19238],[113.960945,41.171211],[113.920293,41.172112],[113.877793,41.115777],[113.819279,41.09774],[113.868554,41.06887],[113.973263,40.983087],[113.994821,40.938798],[114.057647,40.925234],[114.041633,40.917546],[114.055183,40.867782],[114.073661,40.857372],[114.044712,40.830661],[114.080437,40.790348],[114.104458,40.797597],[114.103227,40.770861],[114.134639,40.737314],[114.162357,40.71373],[114.183299,40.67153],[114.236269,40.607043],[114.283081,40.590685],[114.273842,40.552954],[114.293552,40.55159],[114.282465,40.494725],[114.267066,40.474242],[114.299711,40.44009],[114.286161,40.425057],[114.31203,40.372645],[114.381015,40.36307],[114.390254,40.351213],[114.438914,40.371733],[114.481413,40.34802],[114.530688,40.345283],[114.510978,40.302851],[114.46971,40.268155],[114.406269,40.246232],[114.362537,40.249886],[114.292936,40.230242],[114.255364,40.236182],[114.235654,40.198252],[114.180219,40.191395],[114.135871,40.175392],[114.097683,40.193681],[114.073046,40.168533],[114.073046,40.168533],[114.101995,40.099901],[114.086596,40.071513],[114.045944,40.056856],[114.018227,40.103563],[113.989278,40.11226],[113.959097,40.033491],[113.910438,40.015618],[114.029314,39.985819],[114.028082,39.959218],[114.047176,39.916085],[114.067502,39.922511],[114.17406,39.897722],[114.212248,39.918839],[114.229494,39.899558],[114.204241,39.885324],[114.215943,39.8619],[114.286776,39.871087],[114.285545,39.858225],[114.395182,39.867412],[114.406885,39.833413],[114.390254,39.819165],[114.41674,39.775943],[114.409964,39.761683],[114.408117,39.652106],[114.431522,39.613851],[114.49558,39.608318],[114.51529,39.564964],[114.568877,39.573729],[114.532536,39.486027],[114.501739,39.476789],[114.496812,39.438437],[114.469095,39.400989],[114.466631,39.329736],[114.430906,39.307513],[114.437066,39.259337],[114.416124,39.242654],[114.47587,39.21623],[114.443841,39.174023],[114.388406,39.176807],[114.360689,39.134112],[114.369928,39.107648],[114.345907,39.075133],[114.252284,39.073739],[114.180835,39.049111],[114.157429,39.061194],[114.10877,39.052364],[114.082901,39.09325],[114.082901,39.09325],[114.064422,39.094179],[114.050872,39.135969],[114.006524,39.122971],[113.994821,39.095572],[113.961561,39.100681],[113.930148,39.063517],[113.898119,39.067699],[113.80696,38.989595],[113.776779,38.986804],[113.76754,38.959819],[113.776163,38.885788],[113.795257,38.860628],[113.855619,38.828933],[113.836525,38.795824],[113.839605,38.7585],[113.802648,38.763166],[113.775547,38.709949],[113.720728,38.713218],[113.70225,38.651551],[113.612939,38.645942],[113.603084,38.587024],[113.561816,38.558483],[113.546417,38.492936],[113.583374,38.459671],[113.537794,38.417952],[113.525475,38.383245],[113.557504,38.343359],[113.54457,38.270569],[113.570439,38.237202],[113.598772,38.22733],[113.64312,38.232031],[113.678844,38.20523],[113.711489,38.213695],[113.720728,38.174656],[113.797105,38.162894],[113.831597,38.16854],[113.811271,38.117707],[113.876561,38.055059],[113.872249,37.990471],[113.901198,37.984811],[113.936307,37.922993],[113.959097,37.906468],[113.976959,37.816696],[114.006524,37.813386],[114.044712,37.761834],[113.996669,37.730128],[113.993589,37.706932],[114.068118,37.721608],[114.12848,37.698409],[114.139567,37.675676],[114.115545,37.619761],[114.118625,37.59084],[114.036705,37.494037],[114.014531,37.42468],[113.973879,37.40329],[113.962792,37.355734],[113.90243,37.310052],[113.886416,37.239095],[113.853155,37.215269],[113.832213,37.167594],[113.773083,37.151855],[113.773699,37.107004],[113.758301,37.075497],[113.788482,37.059739],[113.771851,37.016745],[113.791561,36.98759],[113.76138,36.956034],[113.792793,36.894796],[113.773083,36.85506],[113.731815,36.858891],[113.731815,36.878521],[113.696707,36.882351],[113.676381,36.855539],[113.680692,36.789907],[113.600004,36.752995],[113.549497,36.752515],[113.535946,36.732373],[113.499606,36.740527],[113.465113,36.707908],[113.506997,36.705029],[113.476816,36.655114],[113.486671,36.635427],[113.54457,36.62342],[113.539642,36.594116],[113.569823,36.585947],[113.588917,36.547974],[113.559968,36.528741],[113.554425,36.494589],[113.587069,36.460904],[113.635729,36.451277],[113.670221,36.425278],[113.708409,36.423352],[113.731199,36.363135],[113.755221,36.366026],[113.813119,36.332285],[113.856851,36.329392],[113.84946,36.347711],[113.882104,36.353977],[113.911054,36.314927],[113.962792,36.353977],[113.981887,36.31782],[114.002828,36.334214],[114.056415,36.329392],[114.04348,36.303353],[114.080437,36.269585],[114.129096,36.280199],[114.175907,36.264759],[114.170364,36.245938],[114.170364,36.245938],[114.203009,36.245456],[114.2104,36.272962],[114.241197,36.251247],[114.257827,36.263794],[114.299095,36.245938],[114.345291,36.255591],[114.356378,36.230492],[114.408117,36.224699],[114.417356,36.205868],[114.466015,36.197658],[114.480181,36.177855],[114.533152,36.171575],[114.586739,36.141133],[114.588587,36.118414],[114.640326,36.137266],[114.720398,36.140166],[114.734564,36.15563],[114.771521,36.124699],[114.857752,36.127599],[114.858368,36.144516],[114.912571,36.140649],[114.926737,36.089403],[114.914419,36.052155],[114.998186,36.069572],[115.04623,36.112613],[115.048693,36.161912],[115.06286,36.178338],[115.104744,36.172058],[115.12507,36.209731],[115.1842,36.193312],[115.201446,36.210214],[115.201446,36.210214],[115.202678,36.209248],[115.202678,36.209248],[115.202678,36.208765],[115.202678,36.208765],[115.242098,36.19138],[115.279055,36.13775],[115.30246,36.127599],[115.312931,36.088436],[115.365902,36.099074],[115.376989,36.128083],[115.450902,36.152248],[115.465068,36.170125],[115.483547,36.148865],[115.474923,36.248352],[115.466916,36.258969],[115.466916,36.258969],[115.462605,36.276339],[115.417025,36.292742],[115.423185,36.32216],[115.366518,36.30914],[115.368982,36.342409],[115.340033,36.398307],[115.297533,36.413239],[115.317243,36.454166],[115.291374,36.460423],[115.272895,36.497476],[115.33141,36.550378],[115.355431,36.627262],[115.365902,36.621979],[115.420105,36.686795],[115.451518,36.702151],[115.479851,36.760187],[115.524815,36.763543],[115.683727,36.808117],[115.71206,36.883308],[115.75764,36.902453],[115.79706,36.968945],[115.776734,36.992848],[115.85619,37.060694],[115.888219,37.112254],[115.879596,37.150901],[115.91224,37.177132],[115.909777,37.20669],[115.969523,37.239572],[115.975682,37.337179],[116.024341,37.360015],[116.085935,37.373809],[116.106261,37.368577],[116.169087,37.384271],[116.193109,37.365723],[116.236224,37.361442],[116.2855,37.404241],[116.226369,37.428007],[116.243,37.447965],[116.224522,37.479791],[116.240536,37.489764],[116.240536,37.489764],[116.27626,37.466967],[116.290427,37.484065],[116.278724,37.524895],[116.295355,37.554316],[116.336007,37.581355],[116.36742,37.566177],[116.379738,37.522047],[116.38097,37.522522],[116.379738,37.522047],[116.38097,37.522522],[116.433941,37.473142],[116.448108,37.503059],[116.4826,37.521573],[116.575607,37.610754],[116.604556,37.624975],[116.66307,37.686096],[116.679085,37.728708],[116.724664,37.744327],[116.753613,37.77035],[116.753613,37.793054],[116.804736,37.848837],[116.837997,37.835132],[116.919301,37.846002],[117.027091,37.832296],[117.074518,37.848837],[117.150278,37.839385],[117.185387,37.849783],[117.271618,37.839858],[117.320278,37.861596],[117.400966,37.844584],[117.438538,37.854035],[117.481038,37.914967],[117.513067,37.94329],[117.524154,37.989527],[117.557414,38.046105],[117.557414,38.046105],[117.586979,38.071551],[117.704624,38.076262],[117.746508,38.12524],[117.771145,38.134655],[117.766834,38.158658],[117.789007,38.180772],[117.808718,38.22827],[117.848754,38.255062],[117.895565,38.301572],[117.948536,38.346644],[117.957775,38.376208],[117.937449,38.387936],[117.84629,38.368232],[117.781,38.373862],[117.730493,38.424985],[117.72495,38.457328],[117.678754,38.477008],[117.644878,38.52759],[117.68553,38.539293],[117.638102,38.54491],[117.639334,38.626776],[117.55803,38.613683],[117.47919,38.616489],[117.432379,38.601524],[117.368937,38.564566],[117.25314,38.556143],[117.238358,38.580943],[117.258684,38.608072],[117.258684,38.608072],[117.213104,38.639866],[117.213104,38.639866],[117.183539,38.61836],[117.183539,38.61836],[117.150894,38.617892],[117.109626,38.584685],[117.070822,38.608072],[117.055424,38.639398],[117.068358,38.680522],[117.038793,38.688464],[116.95133,38.689398],[116.948866,38.689398],[116.950714,38.689398],[116.95133,38.689398],[116.950714,38.689398],[116.948866,38.689398],[116.877417,38.680522],[116.858939,38.741231],[116.794265,38.744498],[116.794265,38.744498],[116.746222,38.754299],[116.737599,38.784629],[116.75115,38.831264],[116.723432,38.852706],[116.722201,38.896968],[116.708034,38.931892],[116.72836,38.975174],[116.754845,39.003084],[116.754229,39.034701],[116.754229,39.034701],[116.783179,39.05097],[116.783179,39.05097],[116.812744,39.05097],[116.812744,39.05097],[116.871874,39.054688],[116.912526,39.110898],[116.91191,39.111362],[116.91191,39.111362],[116.912526,39.110898],[116.909446,39.150822],[116.870026,39.153607],[116.855859,39.215766],[116.881729,39.225966],[116.881729,39.225966],[116.87249,39.291304],[116.889736,39.338068],[116.870642,39.357506],[116.829374,39.338994],[116.818287,39.3737],[116.840461,39.378326],[116.839845,39.413474],[116.876185,39.43474],[116.832454,39.435664],[116.785026,39.465702],[116.820751,39.482332],[116.819519,39.528507],[116.78749,39.554352],[116.808432,39.576497],[116.812128,39.615695],[116.79057,39.595868],[116.748686,39.619844],[116.709266,39.618],[116.726512,39.595407],[116.726512,39.595407],[116.724048,39.59264],[116.723432,39.59264],[116.724048,39.59264],[116.723432,39.59264],[116.664918,39.605552],[116.620571,39.601863],[116.592237,39.621227],[116.592237,39.621227],[116.524484,39.596329],[116.50847,39.551122],[116.473361,39.552968],[116.478289,39.535431],[116.437637,39.526661],[116.443796,39.510041],[116.401912,39.528046],[116.411767,39.482794],[116.444412,39.482332],[116.454883,39.453226],[116.434557,39.442597],[116.361876,39.455074],[116.361876,39.455074],[116.337854,39.455536],[116.307057,39.488337],[116.257782,39.500344],[116.240536,39.564041],[116.198652,39.589412],[116.151841,39.583416],[116.130283,39.567732],[116.09887,39.575113],[116.036044,39.571884],[116.026189,39.587567],[115.995392,39.576958],[115.978146,39.595868],[115.957204,39.560812],[115.910393,39.600479],[115.910393,39.600479],[115.91532,39.582955],[115.91532,39.582955],[115.867893,39.546507],[115.867893,39.546507],[115.828473,39.541431],[115.821081,39.522968],[115.821081,39.522968],[115.806299,39.510041],[115.806299,39.510041],[115.752712,39.515581],[115.738545,39.539585],[115.738545,39.540046],[115.738545,39.539585],[115.738545,39.540046],[115.724995,39.5442],[115.724995,39.5442],[115.722531,39.543738],[115.721299,39.543738],[115.722531,39.543738],[115.722531,39.5442],[115.721299,39.543738],[115.722531,39.5442],[115.720683,39.551122],[115.720683,39.551122],[115.718835,39.553891],[115.718835,39.553891],[115.716988,39.56035],[115.716988,39.56035],[115.699125,39.570039],[115.699125,39.570039],[115.698509,39.577881],[115.698509,39.577881],[115.667712,39.615234],[115.633836,39.599557],[115.633836,39.599557],[115.587024,39.589873],[115.545756,39.618922],[115.518039,39.597252],[115.522351,39.640124],[115.478619,39.650723],[115.478619,39.650723],[115.491554,39.670074],[115.486626,39.741899],[115.439815,39.752022],[115.443511,39.785601],[115.483547,39.798477],[115.483547,39.798477],[115.50572,39.784222],[115.552532,39.794799],[115.567314,39.816407],[115.514344,39.837549],[115.526046,39.87568],[115.515575,39.892212],[115.515575,39.892212],[115.522967,39.899099],[115.481083,39.935819],[115.426264,39.950502],[115.428728,39.984443],[115.450286,39.992697],[115.454597,40.029825],[115.485394,40.040364],[115.527278,40.076092],[115.59072,40.096239],[115.599959,40.119583],[115.75456,40.145663],[115.75456,40.145663],[115.773654,40.176307],[115.806299,40.15344],[115.847567,40.147036],[115.855574,40.188652],[115.870356,40.185909],[115.89869,40.234354],[115.968907,40.264045],[115.95166,40.281852],[115.917784,40.354405],[115.864197,40.359422],[115.771806,40.443734],[115.781045,40.49336],[115.736082,40.503372],[115.755176,40.540221],[115.784741,40.55841],[115.819849,40.55932],[115.827857,40.587504],[115.885139,40.595229],[115.907929,40.617493],[115.971986,40.6025],[115.982457,40.578868],[116.005247,40.583868],[116.09887,40.630665],[116.133979,40.666536],[116.162928,40.662451],[116.171551,40.695582],[116.204812,40.740035],[116.22021,40.744115],[116.247311,40.791707],[116.273181,40.762703],[116.311369,40.754996],[116.316912,40.772221],[116.453651,40.765876],[116.46597,40.774487],[116.438253,40.81934],[116.334159,40.90443],[116.339702,40.929303],[116.370499,40.94377],[116.398216,40.90624],[116.477057,40.899907],[116.447492,40.953715],[116.455499,40.980828],[116.519557,40.98128],[116.519557,40.98128],[116.5676,40.992574],[116.598397,40.974503],[116.623034,41.021026],[116.615643,41.053076],[116.647672,41.059394],[116.688324,41.044501],[116.698795,41.021477],[116.677853,40.970888],[116.722201,40.927495],[116.713577,40.909858],[116.759773,40.889954],[116.81336,40.848319],[116.848468,40.839264],[116.924229,40.773581],[116.926692,40.745022],[116.964881,40.709647],[117.012308,40.693767],[117.11209,40.707379],[117.117018,40.70012],[117.208177,40.694675],[117.278394,40.664267],[117.319662,40.657911],[117.342451,40.673799],[117.408973,40.686961],[117.493973,40.675161],[117.514914,40.660181],[117.501364,40.636569],[117.467487,40.649738],[117.467487,40.649738]]],[[[117.210024,40.082045],[117.204481,40.069681],[117.159517,40.077008],[117.140423,40.064185],[117.105315,40.074261],[117.105315,40.074261],[117.051728,40.059605],[117.025243,40.030283],[116.945171,40.04128],[116.927924,40.055024],[116.867562,40.041739],[116.831222,40.051359],[116.820135,40.02845],[116.781331,40.034866],[116.757925,39.967934],[116.782563,39.947749],[116.78441,39.891294],[116.812128,39.889916],[116.865714,39.843982],[116.907598,39.832494],[116.918069,39.84628],[116.949482,39.778703],[116.902055,39.763523],[116.916837,39.731314],[116.887272,39.72533],[116.889736,39.687576],[116.90575,39.688037],[116.932236,39.706456],[116.932236,39.706456],[116.944555,39.695405],[116.944555,39.695405],[116.948866,39.680668],[116.948866,39.680668],[116.964265,39.64335],[116.983359,39.638742],[116.983359,39.638742],[117.016004,39.653949],[117.10901,39.625375],[117.10901,39.625375],[117.152742,39.623532],[117.177996,39.645194],[117.165061,39.718886],[117.165061,39.718886],[117.161981,39.748801],[117.205713,39.763984],[117.15767,39.796638],[117.156438,39.817326],[117.192162,39.832953],[117.251908,39.834332],[117.247597,39.860981],[117.227887,39.852712],[117.162597,39.876598],[117.162597,39.876598],[117.150894,39.944996],[117.198322,39.992697],[117.192162,40.066475],[117.210024,40.082045]]],[[[117.784696,39.376938],[117.765602,39.400527],[117.699696,39.407463],[117.673211,39.386652],[117.668899,39.412087],[117.614081,39.407001],[117.601146,39.419485],[117.570965,39.404689],[117.521074,39.357043],[117.536472,39.338068],[117.594987,39.349176],[117.669515,39.322792],[117.670747,39.357969],[117.74466,39.354729],[117.784696,39.376938]]],[[[118.869365,39.142932],[118.82009,39.108576],[118.857662,39.098824],[118.869365,39.142932]]]]}},{"type":"Feature","properties":{"adcode":140000,"name":"\u5C71\u897F\u7701","center":[112.549248,37.857014],"centroid":[112.304436,37.618179],"childrenNum":11,"level":"province","parent":{"adcode":100000},"subFeatureIndex":3,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[110.379257,34.600612],[110.424837,34.588295],[110.488279,34.610956],[110.533242,34.583368],[110.610851,34.607508],[110.710017,34.605045],[110.749437,34.65232],[110.791937,34.649858],[110.824582,34.615881],[110.883712,34.64395],[110.903422,34.669056],[110.920052,34.730068],[110.976103,34.706456],[111.035233,34.740887],[111.118385,34.756623],[111.148566,34.807742],[111.232949,34.789559],[111.255123,34.819535],[111.29208,34.806759],[111.345666,34.831816],[111.389398,34.815113],[111.439289,34.838202],[111.502731,34.829851],[111.543999,34.853428],[111.570484,34.843114],[111.592042,34.881416],[111.617911,34.894671],[111.646861,34.938836],[111.681969,34.9511],[111.664107,34.984449],[111.740483,35.00455],[111.807005,35.032977],[111.810084,35.062374],[111.933272,35.083435],[111.97762,35.067272],[112.018888,35.068742],[112.039214,35.045717],[112.062004,35.056005],[112.05646,35.098615],[112.066315,35.153437],[112.03983,35.194039],[112.078634,35.219467],[112.058924,35.280069],[112.13838,35.271275],[112.21722,35.253195],[112.242474,35.234622],[112.304684,35.251728],[112.288053,35.219956],[112.36751,35.219956],[112.390915,35.239021],[112.513487,35.218489],[112.637291,35.225822],[112.628052,35.263457],[112.720443,35.206265],[112.772798,35.207732],[112.822073,35.258082],[112.884283,35.243909],[112.934174,35.262968],[112.936022,35.284466],[112.992072,35.29619],[112.985913,35.33965],[112.996384,35.362104],[113.067217,35.353806],[113.126347,35.332327],[113.149137,35.350878],[113.165151,35.412845],[113.185477,35.409431],[113.189789,35.44893],[113.243375,35.449418],[113.304353,35.426989],[113.31236,35.481101],[113.348085,35.468429],[113.391817,35.506925],[113.439244,35.507412],[113.49899,35.532254],[113.513773,35.57364],[113.55812,35.621816],[113.547649,35.656835],[113.578446,35.633491],[113.625258,35.632518],[113.622794,35.674825],[113.592613,35.691838],[113.587685,35.736542],[113.604932,35.797727],[113.582758,35.818111],[113.660982,35.837035],[113.637576,35.870019],[113.654207,35.931586],[113.648663,35.994073],[113.678844,35.985841],[113.694859,36.026991],[113.660366,36.034735],[113.68562,36.056026],[113.671453,36.115514],[113.655439,36.125182],[113.712721,36.129533],[113.705946,36.148865],[113.651127,36.174473],[113.697939,36.181719],[113.681924,36.216491],[113.716417,36.262347],[113.712105,36.303353],[113.736127,36.324571],[113.731199,36.363135],[113.708409,36.423352],[113.670221,36.425278],[113.635729,36.451277],[113.587069,36.460904],[113.554425,36.494589],[113.559968,36.528741],[113.588917,36.547974],[113.569823,36.585947],[113.539642,36.594116],[113.54457,36.62342],[113.486671,36.635427],[113.476816,36.655114],[113.506997,36.705029],[113.465113,36.707908],[113.499606,36.740527],[113.535946,36.732373],[113.549497,36.752515],[113.600004,36.752995],[113.680692,36.789907],[113.676381,36.855539],[113.696707,36.882351],[113.731815,36.878521],[113.731815,36.858891],[113.773083,36.85506],[113.792793,36.894796],[113.76138,36.956034],[113.791561,36.98759],[113.771851,37.016745],[113.788482,37.059739],[113.758301,37.075497],[113.773699,37.107004],[113.773083,37.151855],[113.832213,37.167594],[113.853155,37.215269],[113.886416,37.239095],[113.90243,37.310052],[113.962792,37.355734],[113.973879,37.40329],[114.014531,37.42468],[114.036705,37.494037],[114.118625,37.59084],[114.115545,37.619761],[114.139567,37.675676],[114.12848,37.698409],[114.068118,37.721608],[113.993589,37.706932],[113.996669,37.730128],[114.044712,37.761834],[114.006524,37.813386],[113.976959,37.816696],[113.959097,37.906468],[113.936307,37.922993],[113.901198,37.984811],[113.872249,37.990471],[113.876561,38.055059],[113.811271,38.117707],[113.831597,38.16854],[113.797105,38.162894],[113.720728,38.174656],[113.711489,38.213695],[113.678844,38.20523],[113.64312,38.232031],[113.598772,38.22733],[113.570439,38.237202],[113.54457,38.270569],[113.557504,38.343359],[113.525475,38.383245],[113.537794,38.417952],[113.583374,38.459671],[113.546417,38.492936],[113.561816,38.558483],[113.603084,38.587024],[113.612939,38.645942],[113.70225,38.651551],[113.720728,38.713218],[113.775547,38.709949],[113.802648,38.763166],[113.839605,38.7585],[113.836525,38.795824],[113.855619,38.828933],[113.795257,38.860628],[113.776163,38.885788],[113.76754,38.959819],[113.776779,38.986804],[113.80696,38.989595],[113.898119,39.067699],[113.930148,39.063517],[113.961561,39.100681],[113.994821,39.095572],[114.006524,39.122971],[114.050872,39.135969],[114.064422,39.094179],[114.082901,39.09325],[114.082901,39.09325],[114.10877,39.052364],[114.157429,39.061194],[114.180835,39.049111],[114.252284,39.073739],[114.345907,39.075133],[114.369928,39.107648],[114.360689,39.134112],[114.388406,39.176807],[114.443841,39.174023],[114.47587,39.21623],[114.416124,39.242654],[114.437066,39.259337],[114.430906,39.307513],[114.466631,39.329736],[114.469095,39.400989],[114.496812,39.438437],[114.501739,39.476789],[114.532536,39.486027],[114.568877,39.573729],[114.51529,39.564964],[114.49558,39.608318],[114.431522,39.613851],[114.408117,39.652106],[114.409964,39.761683],[114.41674,39.775943],[114.390254,39.819165],[114.406885,39.833413],[114.395182,39.867412],[114.285545,39.858225],[114.286776,39.871087],[114.215943,39.8619],[114.204241,39.885324],[114.229494,39.899558],[114.212248,39.918839],[114.17406,39.897722],[114.067502,39.922511],[114.047176,39.916085],[114.028082,39.959218],[114.029314,39.985819],[113.910438,40.015618],[113.959097,40.033491],[113.989278,40.11226],[114.018227,40.103563],[114.045944,40.056856],[114.086596,40.071513],[114.101995,40.099901],[114.073046,40.168533],[114.073046,40.168533],[114.097683,40.193681],[114.135871,40.175392],[114.180219,40.191395],[114.235654,40.198252],[114.255364,40.236182],[114.292936,40.230242],[114.362537,40.249886],[114.406269,40.246232],[114.46971,40.268155],[114.510978,40.302851],[114.530688,40.345283],[114.481413,40.34802],[114.438914,40.371733],[114.390254,40.351213],[114.381015,40.36307],[114.31203,40.372645],[114.286161,40.425057],[114.299711,40.44009],[114.267066,40.474242],[114.282465,40.494725],[114.293552,40.55159],[114.273842,40.552954],[114.283081,40.590685],[114.236269,40.607043],[114.183299,40.67153],[114.162357,40.71373],[114.134639,40.737314],[114.084748,40.729605],[114.063806,40.706925],[114.07243,40.679246],[114.041633,40.608861],[114.076741,40.575686],[114.080437,40.547952],[114.061959,40.52885],[114.011452,40.515657],[113.948626,40.514747],[113.890112,40.466503],[113.850691,40.460583],[113.794641,40.517932],[113.763228,40.473787],[113.688699,40.448288],[113.559968,40.348476],[113.500222,40.334335],[113.387505,40.319279],[113.316672,40.319736],[113.27602,40.388601],[113.251382,40.413211],[113.083231,40.374925],[113.03334,40.368997],[112.898449,40.329317],[112.848558,40.206937],[112.744464,40.167161],[112.712436,40.178593],[112.6299,40.235725],[112.511639,40.269068],[112.456205,40.300112],[112.418017,40.295091],[112.349031,40.257194],[112.310227,40.256281],[112.299756,40.21105],[112.232619,40.169905],[112.232003,40.133311],[112.183344,40.083877],[112.182112,40.061437],[112.142076,40.027076],[112.133453,40.001866],[112.07617,39.919298],[112.042294,39.886243],[112.012729,39.827438],[111.970229,39.796638],[111.959758,39.692642],[111.925265,39.66731],[111.9382,39.623071],[111.87907,39.606013],[111.842729,39.620305],[111.783599,39.58895],[111.722621,39.606013],[111.659179,39.641507],[111.625303,39.633672],[111.525521,39.662242],[111.497187,39.661781],[111.445448,39.640124],[111.460847,39.606935],[111.441137,39.59679],[111.422043,39.539123],[111.431282,39.508656],[111.372152,39.479099],[111.358601,39.432428],[111.337043,39.420872],[111.171971,39.423183],[111.143022,39.407926],[111.125776,39.366297],[111.159037,39.362596],[111.155341,39.338531],[111.186138,39.35149],[111.179363,39.326959],[111.202152,39.305197],[111.247732,39.302419],[111.213239,39.257021],[111.219399,39.244044],[111.163348,39.152678],[111.173819,39.135041],[111.147334,39.100681],[111.138095,39.064447],[111.094363,39.030053],[111.038313,39.020289],[110.998276,38.998433],[110.980414,38.970056],[111.009979,38.932823],[111.016755,38.889981],[110.995813,38.868084],[111.009363,38.847579],[110.965016,38.755699],[110.915125,38.704345],[110.916357,38.673981],[110.880632,38.626776],[110.898494,38.587024],[110.920052,38.581878],[110.907733,38.521035],[110.870777,38.510265],[110.874473,38.453579],[110.840596,38.439986],[110.796864,38.453579],[110.77777,38.440924],[110.746973,38.366355],[110.701394,38.353215],[110.661358,38.308617],[110.601612,38.308147],[110.57759,38.297345],[110.565887,38.215105],[110.528315,38.211814],[110.509221,38.192061],[110.519692,38.130889],[110.501829,38.097929],[110.507989,38.013107],[110.528315,37.990471],[110.522771,37.955088],[110.59422,37.922049],[110.680452,37.790216],[110.735886,37.77035],[110.750669,37.736281],[110.716792,37.728708],[110.706321,37.705511],[110.775306,37.680886],[110.793169,37.650567],[110.763604,37.639668],[110.771611,37.594634],[110.795017,37.558586],[110.770995,37.538184],[110.759292,37.474567],[110.740198,37.44939],[110.644111,37.435135],[110.630561,37.372858],[110.641648,37.360015],[110.695234,37.34955],[110.678604,37.317668],[110.690307,37.287201],[110.661974,37.281963],[110.651503,37.256722],[110.590525,37.187145],[110.53509,37.138021],[110.535706,37.115118],[110.49567,37.086956],[110.460561,37.044932],[110.417446,37.027257],[110.426685,37.008621],[110.382953,37.022001],[110.381721,37.002408],[110.424221,36.963685],[110.408823,36.892403],[110.376178,36.882351],[110.424221,36.855539],[110.406975,36.824886],[110.423605,36.818179],[110.407591,36.776007],[110.447011,36.737649],[110.438388,36.685835],[110.402663,36.697352],[110.394656,36.676716],[110.426685,36.657514],[110.447627,36.621018],[110.496902,36.582102],[110.488895,36.556628],[110.503677,36.488335],[110.47288,36.453203],[110.489511,36.430094],[110.487047,36.393972],[110.459946,36.327946],[110.474112,36.306729],[110.474112,36.248352],[110.45625,36.22663],[110.447011,36.164328],[110.467953,36.074893],[110.491974,36.034735],[110.49259,35.994073],[110.516612,35.971796],[110.502445,35.947575],[110.516612,35.918501],[110.511684,35.879718],[110.549257,35.877778],[110.550489,35.838005],[110.571431,35.800639],[110.57759,35.701559],[110.609619,35.632031],[110.589293,35.602355],[110.567735,35.539559],[110.531394,35.511309],[110.477808,35.413821],[110.45009,35.327933],[110.374946,35.251728],[110.378642,35.210666],[110.364475,35.197952],[110.373714,35.134351],[110.320743,35.00504],[110.262229,34.944233],[110.230816,34.880925],[110.246831,34.789068],[110.243135,34.725641],[110.229584,34.692679],[110.269004,34.629671],[110.29549,34.610956],[110.379257,34.600612]]]]}},{"type":"Feature","properties":{"adcode":150000,"name":"\u5185\u8499\u53E4\u81EA\u6CBB\u533A","center":[111.670801,40.818311],"centroid":[114.077429,44.331087],"childrenNum":12,"level":"province","parent":{"adcode":100000},"subFeatureIndex":4,"acroutes":[100000]},"geometry":{"type":"Polygon","coordinates":[[[97.172903,42.795257],[97.371235,42.457076],[97.500582,42.243894],[97.653335,41.986856],[97.84674,41.656379],[97.613915,41.477276],[97.629314,41.440498],[97.903407,41.168057],[97.971776,41.09774],[98.142391,41.001607],[98.184891,40.988056],[98.25018,40.93925],[98.333332,40.918903],[98.344419,40.568413],[98.627751,40.677884],[98.569853,40.746836],[98.668403,40.773128],[98.689345,40.691952],[98.72199,40.657911],[98.762642,40.639748],[98.802678,40.607043],[98.80699,40.660181],[98.790975,40.705564],[98.984996,40.782644],[99.041662,40.693767],[99.102025,40.676522],[99.12543,40.715091],[99.172858,40.747289],[99.174705,40.858278],[99.565827,40.846961],[99.673,40.93292],[99.985897,40.909858],[100.057346,40.908049],[100.107853,40.875475],[100.224882,40.727337],[100.237201,40.716905],[100.242744,40.618855],[100.169447,40.541131],[100.169447,40.277743],[100.007455,40.20008],[99.955716,40.150695],[99.927383,40.063727],[99.841152,40.013326],[99.751225,40.006909],[99.714268,39.972061],[99.533182,39.891753],[99.491298,39.884406],[99.459885,39.898181],[99.440791,39.885783],[99.469124,39.875221],[99.672384,39.888079],[99.822058,39.860063],[99.904593,39.785601],[99.958796,39.769504],[100.040716,39.757083],[100.128179,39.702312],[100.250135,39.685274],[100.314193,39.606935],[100.301258,39.572345],[100.326512,39.509118],[100.44354,39.485565],[100.500823,39.481408],[100.498975,39.400527],[100.606764,39.387577],[100.707778,39.404689],[100.842053,39.405614],[100.842669,39.199999],[100.864227,39.106719],[100.829118,39.075133],[100.835278,39.025869],[100.875314,39.002619],[100.901799,39.030053],[100.961545,39.005874],[100.969553,38.946788],[101.117378,38.975174],[101.228863,39.020754],[101.198682,38.943064],[101.237486,38.907214],[101.24303,38.860628],[101.33542,38.847113],[101.34158,38.822406],[101.307087,38.80282],[101.331109,38.777164],[101.412413,38.764099],[101.562702,38.713218],[101.601506,38.65529],[101.672955,38.6908],[101.777049,38.66043],[101.873751,38.733761],[101.941505,38.808883],[102.075164,38.891378],[102.045599,38.904885],[101.955055,38.985874],[101.926106,39.000758],[101.833715,39.08907],[101.902701,39.111827],[102.012338,39.127149],[102.050526,39.141075],[102.276576,39.188868],[102.3548,39.231993],[102.45335,39.255167],[102.579002,39.183301],[102.616574,39.171703],[102.883892,39.120649],[103.007696,39.099753],[103.133347,39.192579],[103.188166,39.215302],[103.259615,39.263971],[103.344615,39.331588],[103.428998,39.353341],[103.595302,39.386652],[103.728961,39.430117],[103.85338,39.461543],[103.955626,39.456923],[104.089901,39.419947],[104.073271,39.351953],[104.047401,39.297788],[104.171205,39.160567],[104.207546,39.083495],[104.190915,39.042139],[104.196459,38.9882],[104.173053,38.94446],[104.044322,38.895105],[104.011677,38.85923],[103.85954,38.64454],[103.416063,38.404821],[103.465339,38.353215],[103.507838,38.280905],[103.53494,38.156776],[103.368636,38.08898],[103.362477,38.037621],[103.40744,37.860651],[103.627947,37.797783],[103.683381,37.777919],[103.841062,37.64725],[103.874938,37.604117],[103.935916,37.572818],[104.089285,37.465067],[104.183524,37.406618],[104.237727,37.411847],[104.287002,37.428007],[104.322726,37.44844],[104.407726,37.464592],[104.419429,37.511604],[104.433595,37.515402],[104.623305,37.522522],[104.805007,37.539133],[104.866601,37.566651],[105.027977,37.580881],[105.111128,37.633981],[105.187505,37.657674],[105.221998,37.677097],[105.315004,37.702197],[105.4037,37.710246],[105.467141,37.695094],[105.598952,37.699356],[105.616199,37.722555],[105.622358,37.777919],[105.677177,37.771769],[105.760944,37.799674],[105.80406,37.862068],[105.799749,37.939986],[105.840401,38.004147],[105.780655,38.084741],[105.76772,38.121474],[105.775111,38.186887],[105.802828,38.220277],[105.842248,38.240962],[105.86627,38.296406],[105.821307,38.366824],[105.835473,38.387467],[105.827466,38.432486],[105.850872,38.443736],[105.836705,38.476071],[105.863806,38.53508],[105.856415,38.569714],[105.874277,38.593105],[105.852719,38.641735],[105.894603,38.696405],[105.88598,38.716953],[105.908154,38.737496],[105.909386,38.791159],[105.992538,38.857366],[105.97098,38.909077],[106.021487,38.953769],[106.060907,38.96866],[106.087392,39.006339],[106.078153,39.026333],[106.096631,39.084889],[106.145907,39.153142],[106.170544,39.163352],[106.192718,39.142932],[106.251232,39.131327],[106.285109,39.146181],[106.29558,39.167992],[106.280181,39.262118],[106.402753,39.291767],[106.511774,39.272311],[106.525325,39.308439],[106.556122,39.322329],[106.602318,39.37555],[106.643586,39.357969],[106.683622,39.357506],[106.751375,39.381564],[106.781556,39.371849],[106.806809,39.318625],[106.806193,39.277407],[106.790795,39.241263],[106.795723,39.214375],[106.825288,39.19397],[106.859164,39.107648],[106.878874,39.091392],[106.933693,39.076527],[106.96757,39.054688],[106.971881,39.026333],[106.954019,38.941202],[106.837606,38.847579],[106.756302,38.748699],[106.709491,38.718821],[106.66268,38.601524],[106.647897,38.470917],[106.599854,38.389812],[106.482209,38.319417],[106.555506,38.263521],[106.627571,38.232501],[106.654672,38.22921],[106.737824,38.197706],[106.779092,38.171833],[106.858548,38.156306],[106.942316,38.132302],[107.010069,38.120532],[107.051337,38.122886],[107.071047,38.138892],[107.119091,38.134185],[107.138801,38.161011],[107.19054,38.153953],[107.240431,38.111586],[107.33159,38.086625],[107.3938,38.014993],[107.440611,37.995659],[107.411662,37.948009],[107.448618,37.933378],[107.49235,37.944706],[107.560719,37.893717],[107.65003,37.86443],[107.684523,37.888522],[107.732566,37.84931],[107.842819,37.828987],[107.884703,37.808186],[107.982022,37.787378],[107.993109,37.735335],[108.025753,37.696041],[108.012819,37.66857],[108.025137,37.649619],[108.055318,37.652462],[108.134159,37.622131],[108.193905,37.638246],[108.205608,37.655779],[108.24626,37.665728],[108.293071,37.656726],[108.301078,37.640616],[108.422418,37.648672],[108.485244,37.678044],[108.532671,37.690832],[108.628142,37.651988],[108.699591,37.669518],[108.720533,37.683728],[108.777815,37.683728],[108.791982,37.700303],[108.784591,37.764673],[108.799989,37.784068],[108.791982,37.872934],[108.798141,37.93385],[108.82709,37.989056],[108.797525,38.04799],[108.830786,38.049875],[108.883141,38.01405],[108.893612,37.978207],[108.93488,37.922521],[108.9743,37.931962],[108.982923,37.964053],[109.018648,37.971602],[109.037742,38.021593],[109.06977,38.023008],[109.050676,38.055059],[109.069155,38.091336],[108.964445,38.154894],[108.938575,38.207582],[108.976148,38.245192],[108.961981,38.26493],[109.007561,38.359316],[109.051292,38.385122],[109.054372,38.433892],[109.128901,38.480288],[109.175712,38.518694],[109.196654,38.552867],[109.276726,38.623035],[109.331545,38.597783],[109.367269,38.627711],[109.329081,38.66043],[109.338936,38.701542],[109.404226,38.720689],[109.444262,38.782763],[109.511399,38.833595],[109.549587,38.805618],[109.624116,38.85457],[109.672159,38.928167],[109.685094,38.968195],[109.665384,38.981687],[109.72513,39.018429],[109.762086,39.057476],[109.793499,39.074204],[109.851397,39.122971],[109.890818,39.103932],[109.92223,39.107183],[109.893897,39.141075],[109.961035,39.191651],[109.871723,39.243581],[109.90252,39.271848],[109.962267,39.212056],[110.041107,39.21623],[110.109476,39.249606],[110.217881,39.281113],[110.184005,39.355192],[110.161831,39.387115],[110.136577,39.39174],[110.12549,39.432891],[110.152592,39.45415],[110.243751,39.423645],[110.257917,39.407001],[110.385417,39.310291],[110.429764,39.341308],[110.434692,39.381101],[110.482735,39.360745],[110.524003,39.382952],[110.559728,39.351027],[110.566503,39.320014],[110.596684,39.282966],[110.626249,39.266751],[110.702626,39.273701],[110.731575,39.30705],[110.73835,39.348713],[110.782698,39.38804],[110.869545,39.494341],[110.891103,39.509118],[110.958856,39.519275],[111.017371,39.552045],[111.101138,39.559428],[111.136863,39.587106],[111.154725,39.569116],[111.148566,39.531277],[111.10545,39.497573],[111.10545,39.472631],[111.058639,39.447681],[111.064182,39.400989],[111.098059,39.401914],[111.087588,39.376013],[111.125776,39.366297],[111.143022,39.407926],[111.171971,39.423183],[111.337043,39.420872],[111.358601,39.432428],[111.372152,39.479099],[111.431282,39.508656],[111.422043,39.539123],[111.441137,39.59679],[111.460847,39.606935],[111.445448,39.640124],[111.497187,39.661781],[111.525521,39.662242],[111.625303,39.633672],[111.659179,39.641507],[111.722621,39.606013],[111.783599,39.58895],[111.842729,39.620305],[111.87907,39.606013],[111.9382,39.623071],[111.925265,39.66731],[111.959758,39.692642],[111.970229,39.796638],[112.012729,39.827438],[112.042294,39.886243],[112.07617,39.919298],[112.133453,40.001866],[112.142076,40.027076],[112.182112,40.061437],[112.183344,40.083877],[112.232003,40.133311],[112.232619,40.169905],[112.299756,40.21105],[112.310227,40.256281],[112.349031,40.257194],[112.418017,40.295091],[112.456205,40.300112],[112.511639,40.269068],[112.6299,40.235725],[112.712436,40.178593],[112.744464,40.167161],[112.848558,40.206937],[112.898449,40.329317],[113.03334,40.368997],[113.083231,40.374925],[113.251382,40.413211],[113.27602,40.388601],[113.316672,40.319736],[113.387505,40.319279],[113.500222,40.334335],[113.559968,40.348476],[113.688699,40.448288],[113.763228,40.473787],[113.794641,40.517932],[113.850691,40.460583],[113.890112,40.466503],[113.948626,40.514747],[114.011452,40.515657],[114.061959,40.52885],[114.080437,40.547952],[114.076741,40.575686],[114.041633,40.608861],[114.07243,40.679246],[114.063806,40.706925],[114.084748,40.729605],[114.134639,40.737314],[114.103227,40.770861],[114.104458,40.797597],[114.080437,40.790348],[114.044712,40.830661],[114.073661,40.857372],[114.055183,40.867782],[114.041633,40.917546],[114.057647,40.925234],[113.994821,40.938798],[113.973263,40.983087],[113.868554,41.06887],[113.819279,41.09774],[113.877793,41.115777],[113.920293,41.172112],[113.960945,41.171211],[113.996669,41.19238],[114.016379,41.231999],[113.992357,41.269794],[113.971416,41.239649],[113.95109,41.282837],[113.914749,41.294529],[113.899351,41.316108],[113.92522,41.325546],[113.94493,41.392477],[113.871017,41.413126],[113.877793,41.431076],[113.919677,41.454404],[113.933227,41.487139],[113.953553,41.483553],[113.976959,41.505966],[114.032394,41.529715],[114.101379,41.537779],[114.230726,41.513584],[114.221487,41.582111],[114.226414,41.616572],[114.259059,41.623282],[114.215328,41.68499],[114.237501,41.698843],[114.206704,41.7386],[114.215328,41.75646],[114.200545,41.789934],[114.282465,41.863517],[114.343443,41.926774],[114.352066,41.953484],[114.419203,41.942356],[114.478334,41.951704],[114.511594,41.981962],[114.467863,42.025989],[114.480181,42.064654],[114.502355,42.06732],[114.510978,42.110844],[114.560254,42.132595],[114.647717,42.109512],[114.675434,42.12061],[114.75489,42.115727],[114.789383,42.130819],[114.79431,42.149457],[114.825723,42.139695],[114.86268,42.097967],[114.860832,42.054879],[114.9021,42.015763],[114.915035,41.960605],[114.923658,41.871093],[114.939056,41.846132],[114.922426,41.825175],[114.868839,41.813579],[114.89594,41.76762],[114.902716,41.695715],[114.895325,41.636255],[114.860832,41.60091],[115.016049,41.615229],[115.056085,41.602253],[115.0992,41.62373],[115.195287,41.602253],[115.20391,41.571367],[115.256881,41.580768],[115.26612,41.616124],[115.290142,41.622835],[115.310468,41.592854],[115.377605,41.603148],[115.345576,41.635807],[115.360975,41.661297],[115.319091,41.691693],[115.346808,41.712247],[115.42996,41.728775],[115.488474,41.760924],[115.519887,41.76762],[115.57409,41.80555],[115.654162,41.829189],[115.688038,41.867528],[115.726227,41.870202],[115.811226,41.912525],[115.834632,41.93835],[115.85311,41.927665],[115.916552,41.945027],[115.954124,41.874213],[115.994776,41.828743],[116.007095,41.797966],[116.007095,41.79752],[116.034196,41.782795],[116.09887,41.776547],[116.129051,41.805996],[116.106877,41.831419],[116.122892,41.861734],[116.194341,41.861734],[116.212819,41.885352],[116.223906,41.932562],[116.298434,41.96817],[116.310137,41.997086],[116.373579,42.009983],[116.414231,41.982407],[116.393289,41.942802],[116.453651,41.945917],[116.4826,41.975734],[116.510933,41.974399],[116.553433,41.928555],[116.597165,41.935679],[116.639049,41.929891],[116.66923,41.947698],[116.727744,41.951259],[116.748686,41.984186],[116.796113,41.977958],[116.879881,42.018431],[116.890352,42.092639],[116.850316,42.156556],[116.825062,42.155669],[116.789338,42.200462],[116.903287,42.190708],[116.918685,42.229716],[116.897743,42.297479],[116.886656,42.366496],[116.910678,42.394789],[116.910062,42.395231],[116.921765,42.403628],[116.936547,42.410256],[116.944555,42.415116],[116.97104,42.427486],[116.974736,42.426603],[116.99075,42.425719],[117.005533,42.43367],[117.009228,42.44957],[117.01662,42.456193],[117.080061,42.463699],[117.09546,42.484004],[117.135496,42.468996],[117.188467,42.468114],[117.275314,42.481797],[117.332596,42.46105],[117.390495,42.461933],[117.413284,42.471645],[117.410205,42.519743],[117.387415,42.517537],[117.434226,42.557224],[117.435458,42.585431],[117.475494,42.602613],[117.530313,42.590278],[117.537088,42.603054],[117.60053,42.603054],[117.667051,42.582347],[117.708935,42.588515],[117.779768,42.61847],[117.801326,42.612744],[117.797631,42.585431],[117.856761,42.539148],[117.874007,42.510038],[117.997811,42.416884],[118.024296,42.385064],[118.008898,42.346595],[118.060021,42.298364],[118.047702,42.280656],[117.974405,42.25054],[117.977485,42.229716],[118.033535,42.199132],[118.106216,42.172082],[118.089586,42.12283],[118.097593,42.105072],[118.155491,42.081091],[118.116687,42.037102],[118.194296,42.031324],[118.220165,42.058434],[118.212774,42.081091],[118.239259,42.092639],[118.27252,42.083312],[118.296541,42.057545],[118.286686,42.033991],[118.239875,42.024655],[118.291614,42.007759],[118.313788,41.98819],[118.306396,41.940131],[118.268824,41.930336],[118.340273,41.87243],[118.335346,41.845241],[118.29223,41.772976],[118.247266,41.773869],[118.236179,41.80778],[118.178281,41.814917],[118.140093,41.784134],[118.132702,41.733241],[118.155491,41.712694],[118.159187,41.67605],[118.206614,41.650566],[118.215237,41.59554],[118.302701,41.55256],[118.315636,41.512688],[118.271904,41.471446],[118.327338,41.450816],[118.348896,41.428384],[118.361215,41.384844],[118.348896,41.342622],[118.380309,41.312062],[118.412338,41.331838],[118.528135,41.355202],[118.629765,41.346666],[118.677192,41.35026],[118.741866,41.324198],[118.770199,41.352956],[118.843496,41.374516],[118.844727,41.342622],[118.890923,41.300823],[118.949437,41.317906],[118.980234,41.305769],[119.092951,41.293629],[119.168712,41.294978],[119.197661,41.282837],[119.211827,41.308016],[119.239545,41.31431],[119.296211,41.325097],[119.330704,41.385293],[119.309762,41.405944],[119.376283,41.422102],[119.378131,41.459787],[119.401537,41.472343],[119.406464,41.503276],[119.361501,41.545841],[119.362116,41.566442],[119.420015,41.567785],[119.415703,41.590169],[119.342406,41.617914],[119.307914,41.657273],[119.299907,41.705545],[119.319001,41.727435],[119.317769,41.764049],[119.292515,41.790827],[119.312841,41.80555],[119.334399,41.871539],[119.323312,41.889807],[119.340559,41.926774],[119.323928,41.937014],[119.324544,41.969505],[119.375667,42.023322],[119.384906,42.08953],[119.352261,42.118391],[119.314689,42.119723],[119.30853,42.147239],[119.286972,42.154781],[119.277733,42.185387],[119.237697,42.200905],[119.274037,42.239021],[119.280197,42.260728],[119.34795,42.300578],[119.432949,42.317396],[119.482841,42.347037],[119.502551,42.388159],[119.540123,42.363401],[119.572152,42.359421],[119.571536,42.335536],[119.539507,42.297922],[119.557985,42.289068],[119.609108,42.276671],[119.617115,42.252755],[119.679941,42.240793],[119.744615,42.211545],[119.841933,42.215534],[119.854868,42.170308],[119.837622,42.135257],[119.845629,42.097079],[119.87581,42.077982],[119.897368,42.030879],[119.921389,42.014429],[119.924469,41.98908],[119.950954,41.974399],[119.954034,41.923212],[119.989759,41.899163],[120.023019,41.816701],[120.041498,41.818932],[120.050737,41.776101],[120.024867,41.737707],[120.035954,41.708226],[120.096316,41.697056],[120.1382,41.729221],[120.127113,41.77253],[120.183164,41.826513],[120.188707,41.848361],[120.215808,41.853265],[120.251533,41.884016],[120.286641,41.880005],[120.290337,41.897381],[120.260156,41.904062],[120.271859,41.925439],[120.318054,41.93746],[120.309431,41.951704],[120.373489,41.994862],[120.399358,41.984631],[120.456641,42.016208],[120.450481,42.057101],[120.493597,42.073539],[120.466496,42.105516],[120.56751,42.152119],[120.58414,42.167203],[120.624792,42.154338],[120.72211,42.203565],[120.745516,42.223512],[120.79048,42.218636],[120.820661,42.227943],[120.8299,42.252755],[120.883487,42.242565],[120.883487,42.269585],[120.933994,42.27977],[120.992508,42.264714],[121.028848,42.242565],[121.070732,42.254083],[121.087978,42.278885],[121.120623,42.280656],[121.133558,42.300135],[121.184681,42.333324],[121.218558,42.371802],[121.285079,42.387717],[121.314644,42.42837],[121.304789,42.435879],[121.386093,42.474294],[121.434752,42.475176],[121.4791,42.49636],[121.506201,42.482239],[121.570875,42.487093],[121.607831,42.516214],[121.604136,42.495037],[121.66573,42.437204],[121.69899,42.438529],[121.747649,42.484887],[121.803084,42.514891],[121.817867,42.504303],[121.831417,42.533856],[121.844352,42.522389],[121.889931,42.556784],[121.921344,42.605697],[121.915801,42.656332],[121.94167,42.666014],[121.939207,42.688453],[122.018663,42.69901],[122.062394,42.723635],[122.072865,42.710444],[122.160945,42.684934],[122.204676,42.685374],[122.204676,42.732867],[122.261343,42.695931],[122.324785,42.684934],[122.338951,42.669975],[122.396234,42.684054],[122.396234,42.707366],[122.460907,42.755282],[122.439349,42.770221],[122.371596,42.776371],[122.35127,42.830378],[122.436886,42.843105],[122.556378,42.827745],[122.576088,42.819405],[122.580399,42.789987],[122.624747,42.773296],[122.653696,42.78252],[122.733152,42.786034],[122.73808,42.77066],[122.786123,42.757479],[122.848949,42.712203],[122.883442,42.751766],[122.887137,42.770221],[122.925941,42.772417],[122.945651,42.753524],[122.980144,42.777689],[123.058368,42.768903],[123.118114,42.801405],[123.227752,42.831695],[123.169853,42.859777],[123.188947,42.895739],[123.18402,42.925983],[123.259165,42.993431],[123.323222,43.000872],[123.434707,43.027565],[123.474743,43.042438],[123.536337,43.007],[123.572678,43.003498],[123.580685,43.036314],[123.631192,43.088346],[123.636119,43.141644],[123.666916,43.179623],[123.645974,43.208855],[123.676771,43.223684],[123.664453,43.264663],[123.698329,43.272071],[123.703873,43.37047],[123.608402,43.366119],[123.54496,43.415262],[123.519707,43.402219],[123.486446,43.44525],[123.442098,43.437863],[123.419925,43.410046],[123.382968,43.469143],[123.36449,43.483475],[123.315831,43.492159],[123.329998,43.519071],[123.304744,43.550742],[123.360179,43.567223],[123.452569,43.545971],[123.461193,43.568523],[123.434091,43.575461],[123.421157,43.598435],[123.5117,43.592801],[123.510468,43.624867],[123.536953,43.633964],[123.518475,43.682024],[123.520323,43.708419],[123.48275,43.737396],[123.498149,43.771114],[123.461809,43.822518],[123.467968,43.853599],[123.397135,43.954929],[123.37065,43.970006],[123.400831,43.979481],[123.365722,44.013922],[123.331229,44.028984],[123.32815,44.084035],[123.350939,44.092633],[123.362642,44.133452],[123.386664,44.161794],[123.323838,44.179823],[123.286882,44.211574],[123.277027,44.25274],[123.196955,44.34483],[123.128585,44.367081],[123.114419,44.40258],[123.142136,44.428228],[123.125506,44.455147],[123.137209,44.486322],[123.12489,44.5098],[123.06576,44.505959],[123.025108,44.493153],[122.85634,44.398304],[122.76087,44.369648],[122.702971,44.319145],[122.675254,44.285738],[122.641993,44.283595],[122.515726,44.251025],[122.483081,44.236877],[122.319241,44.233018],[122.271198,44.255741],[122.291524,44.310152],[122.294604,44.41113],[122.28598,44.477783],[122.228082,44.480345],[122.224386,44.526016],[122.196053,44.559712],[122.13138,44.577619],[122.113517,44.615546],[122.103046,44.67388],[122.117213,44.701961],[122.161561,44.728328],[122.152322,44.744057],[122.10243,44.736406],[122.110438,44.767856],[122.142467,44.753833],[122.168952,44.770405],[122.099967,44.7823],[122.098119,44.81882],[122.04946,44.912985],[122.079025,44.914256],[122.087032,44.95281],[122.074713,45.006573],[122.098735,45.02138],[122.119677,45.068739],[122.109822,45.142236],[122.143082,45.183167],[122.192358,45.180636],[122.22993,45.206784],[122.239169,45.276313],[122.147394,45.295682],[122.146778,45.374352],[122.180039,45.409655],[122.168336,45.439897],[122.064242,45.472641],[122.002648,45.507882],[121.993409,45.552741],[121.966308,45.596308],[121.995873,45.59882],[122.003264,45.623102],[121.970004,45.692956],[121.934279,45.71051],[121.867142,45.719703],[121.812323,45.704659],[121.811091,45.687103],[121.713773,45.701734],[121.666345,45.727641],[121.644172,45.752284],[121.657106,45.770238],[121.697142,45.76314],[121.754425,45.794862],[121.766744,45.830318],[121.769823,45.84366],[121.817251,45.875336],[121.805548,45.900746],[121.821562,45.918235],[121.809243,45.961102],[121.761816,45.998947],[121.819098,46.023054],[121.843736,46.024301],[121.864062,46.002272],[121.923808,46.004767],[121.92812,45.988552],[122.040221,45.959022],[122.085184,45.912406],[122.091344,45.882002],[122.200981,45.857],[122.236705,45.831569],[122.253952,45.7982],[122.301379,45.813218],[122.337719,45.859917],[122.372828,45.856166],[122.362357,45.917403],[122.446125,45.916986],[122.496016,45.85825],[122.504639,45.786933],[122.522501,45.786933],[122.556378,45.82156],[122.603189,45.778169],[122.640761,45.771072],[122.650001,45.731401],[122.671558,45.70048],[122.741775,45.705077],[122.751015,45.735996],[122.792283,45.766063],[122.752246,45.834905],[122.772572,45.856583],[122.80029,45.856583],[122.828623,45.912406],[122.792898,46.073313],[123.04605,46.099878],[123.070071,46.123527],[123.112571,46.130163],[123.102716,46.172037],[123.127354,46.174523],[123.128585,46.210565],[123.178476,46.248239],[123.142136,46.298293],[123.089781,46.347888],[123.011557,46.434984],[123.010325,46.524823],[123.002318,46.574624],[123.052825,46.579972],[123.04605,46.617803],[123.077462,46.622324],[123.098404,46.603002],[123.18094,46.614103],[123.228368,46.588198],[123.279491,46.616981],[123.276411,46.660947],[123.318295,46.662179],[123.366338,46.677784],[123.474743,46.686817],[123.603475,46.68928],[123.631808,46.728675],[123.629344,46.813524],[123.580069,46.827447],[123.625648,46.847508],[123.599163,46.868378],[123.605322,46.891286],[123.576989,46.891286],[123.575757,46.845461],[123.562823,46.82581],[123.506772,46.827038],[123.483366,46.84587],[123.52833,46.944836],[123.487678,46.959951],[123.42362,46.934212],[123.337389,46.988943],[123.301664,46.999965],[123.304128,46.964852],[123.360179,46.970978],[123.404526,46.935438],[123.40699,46.906416],[123.374345,46.837683],[123.341084,46.826628],[123.295505,46.865105],[123.221592,46.850373],[123.22344,46.821305],[123.198802,46.803283],[123.163694,46.74016],[123.103332,46.734828],[123.076846,46.745082],[123.026339,46.718829],[123.00355,46.730726],[122.996774,46.761483],[122.906847,46.80738],[122.893913,46.895376],[122.895144,46.960359],[122.83971,46.937072],[122.791051,46.941567],[122.798442,46.9575],[122.77442,46.973837],[122.778116,47.002822],[122.845869,47.046881],[122.852645,47.072158],[122.821232,47.065636],[122.710363,47.093349],[122.679566,47.094164],[122.615508,47.124306],[122.582863,47.158092],[122.531124,47.198771],[122.498479,47.255262],[122.462755,47.27841],[122.441197,47.310476],[122.418407,47.350632],[122.507103,47.401291],[122.543443,47.495589],[122.59395,47.54732],[122.765181,47.614333],[122.848949,47.67441],[122.926557,47.697777],[123.041122,47.746492],[123.161846,47.781892],[123.214201,47.824502],[123.256085,47.876711],[123.300432,47.953723],[123.537569,48.021816],[123.579453,48.045427],[123.705105,48.152142],[123.746373,48.197638],[123.862785,48.271782],[124.019234,48.39313],[124.07898,48.43603],[124.136878,48.463023],[124.25945,48.536385],[124.314269,48.503881],[124.302566,48.456673],[124.330283,48.435633],[124.309957,48.413393],[124.331515,48.380015],[124.317964,48.35099],[124.353689,48.315978],[124.365392,48.283731],[124.422058,48.245884],[124.412819,48.219175],[124.418978,48.181679],[124.475029,48.173698],[124.471333,48.133373],[124.430065,48.12099],[124.415899,48.08782],[124.46579,48.098213],[124.478108,48.123387],[124.505826,48.124985],[124.529847,48.146951],[124.512601,48.164518],[124.547094,48.200829],[124.579122,48.262221],[124.558796,48.268197],[124.579738,48.297269],[124.540934,48.335476],[124.547094,48.35775],[124.51876,48.378027],[124.52492,48.426897],[124.507674,48.445558],[124.555717,48.467784],[124.533543,48.515379],[124.548941,48.535593],[124.520608,48.556195],[124.579122,48.596582],[124.601912,48.632587],[124.624702,48.701755],[124.612383,48.747945],[124.656115,48.783842],[124.644412,48.80789],[124.654267,48.83429],[124.697383,48.841775],[124.715861,48.885475],[124.709086,48.920487],[124.744194,48.920487],[124.756513,48.967262],[124.808252,49.020666],[124.828578,49.077933],[124.809484,49.115943],[124.847672,49.129651],[124.860607,49.166448],[124.906802,49.184054],[124.983179,49.162535],[125.039845,49.17623],[125.034302,49.157056],[125.117453,49.126127],[125.158721,49.144921],[125.187671,49.186792],[125.219699,49.189139],[125.227707,49.248947],[125.214772,49.277066],[125.261583,49.322336],[125.256656,49.359769],[125.277598,49.379644],[125.25604,49.395227],[125.256656,49.437275],[125.270822,49.454395],[125.228323,49.487063],[125.211076,49.539908],[125.233866,49.536801],[125.23017,49.595411],[125.205533,49.593859],[125.16796,49.629923],[125.15441,49.616741],[125.127308,49.655113],[125.132236,49.672157],[125.164881,49.669446],[125.189518,49.652401],[125.185207,49.634574],[125.219699,49.669058],[125.225243,49.726349],[125.204301,49.734086],[125.221547,49.754969],[125.222779,49.799026],[125.177815,49.829533],[125.239409,49.844587],[125.225243,49.867351],[125.245569,49.87198],[125.212924,49.907452],[125.225859,49.922481],[125.199373,49.935194],[125.190134,49.959841],[125.231402,49.957531],[125.241873,49.987938],[125.278214,49.996402],[125.297924,50.014481],[125.283757,50.036012],[125.25296,50.041393],[125.289916,50.057917],[125.315786,50.04562],[125.328105,50.065985],[125.283757,50.070211],[125.287453,50.093636],[125.258504,50.103618],[125.27883,50.127411],[125.311474,50.140453],[125.376148,50.137385],[125.335496,50.161161],[125.382923,50.172278],[125.39093,50.199868],[125.417416,50.195654],[125.448829,50.216338],[125.442053,50.260357],[125.466075,50.266861],[125.463611,50.295925],[125.530749,50.331085],[125.520278,50.3498],[125.546763,50.358965],[125.522126,50.404759],[125.536292,50.420014],[125.567089,50.402852],[125.583104,50.409717],[125.562162,50.438314],[125.580024,50.449366],[125.627451,50.443268],[125.654553,50.471082],[125.699516,50.487078],[125.740784,50.523237],[125.754335,50.506874],[125.770349,50.531227],[125.794987,50.532748],[125.829479,50.56165],[125.807921,50.60383],[125.814697,50.62092],[125.793139,50.643316],[125.804226,50.658874],[125.789443,50.679735],[125.825784,50.70362],[125.78082,50.725598],[125.795603,50.738856],[125.758646,50.746809],[125.804226,50.773309],[125.828863,50.756654],[125.846726,50.769524],[125.836255,50.793363],[125.890457,50.805845],[125.878138,50.816812],[125.913247,50.825885],[125.939732,50.85423],[125.961906,50.901054],[125.997631,50.872738],[125.996399,50.906715],[126.02042,50.927466],[126.042594,50.92558],[126.068464,50.967434],[126.041978,50.981753],[126.033971,51.011132],[126.059225,51.043503],[125.976073,51.084498],[125.993935,51.119072],[125.970529,51.123955],[125.946508,51.108176],[125.909551,51.138977],[125.864588,51.146487],[125.850421,51.21364],[125.819008,51.227134],[125.761726,51.226385],[125.76111,51.261976],[125.740784,51.27583],[125.700132,51.327465],[125.626219,51.380163],[125.623756,51.387633],[125.62314,51.398089],[125.600966,51.410409],[125.60035,51.413396],[125.595422,51.416755],[125.559082,51.461521],[125.528285,51.488359],[125.424807,51.562827],[125.38046,51.585516],[125.35151,51.623801],[125.316402,51.610052],[125.289301,51.633831],[125.228938,51.640517],[125.214772,51.627888],[125.175968,51.639403],[125.130388,51.635317],[125.12854,51.659083],[125.098975,51.658341],[125.060171,51.59667],[125.073106,51.553526],[125.047236,51.529704],[125.004737,51.529332],[124.983795,51.508478],[124.928976,51.498419],[124.917889,51.474196],[124.942527,51.447349],[124.885244,51.40817],[124.864302,51.37979],[124.783614,51.392115],[124.76452,51.38726],[124.752817,51.35812],[124.693687,51.3327],[124.62655,51.327465],[124.58713,51.363725],[124.555717,51.375307],[124.490427,51.380537],[124.478108,51.36223],[124.443616,51.35812],[124.426985,51.331953],[124.430065,51.301281],[124.406659,51.272086],[124.339522,51.293422],[124.297638,51.298661],[124.271769,51.308389],[124.239124,51.344664],[124.192313,51.33943],[124.128255,51.347281],[124.090067,51.3413],[124.071588,51.320734],[123.994596,51.322604],[123.939777,51.313253],[123.926227,51.300532],[123.887423,51.320734],[123.842459,51.367462],[123.794416,51.361109],[123.711264,51.398089],[123.660141,51.342795],[123.661989,51.319237],[123.582533,51.306893],[123.582533,51.294545],[123.46304,51.286686],[123.440251,51.270963],[123.414381,51.278825],[123.376809,51.266844],[123.339853,51.27246],[123.294273,51.254111],[123.231447,51.268716],[123.231447,51.279199],[123.127969,51.297913],[123.069455,51.321108],[123.002934,51.31213],[122.965977,51.345786],[122.965977,51.386886],[122.946267,51.405183],[122.903768,51.415262],[122.900072,51.445112],[122.871123,51.455181],[122.854492,51.477551],[122.880362,51.511085],[122.858804,51.524864],[122.880362,51.537894],[122.874202,51.561339],[122.832935,51.581797],[122.85634,51.606707],[122.820616,51.633088],[122.816304,51.655371],[122.778732,51.698048],[122.749167,51.746613],[122.771957,51.779579],[122.732536,51.832495],[122.725761,51.87833],[122.706051,51.890151],[122.729457,51.919321],[122.726377,51.978709],[122.683877,51.974654],[122.664783,51.99861],[122.650616,52.058997],[122.625363,52.067459],[122.643841,52.111585],[122.629059,52.13657],[122.690653,52.140243],[122.73808,52.153464],[122.769493,52.179893],[122.766413,52.232705],[122.787355,52.252494],[122.76087,52.26678],[122.710979,52.256157],[122.67895,52.276667],[122.585943,52.266413],[122.560689,52.282526],[122.478153,52.29607],[122.484313,52.341432],[122.447356,52.394052],[122.419023,52.375057],[122.378987,52.395512],[122.367284,52.413768],[122.342031,52.414133],[122.326016,52.459374],[122.310618,52.475416],[122.207756,52.469218],[122.178191,52.48963],[122.168952,52.513674],[122.140003,52.510032],[122.142467,52.495096],[122.107358,52.452445],[122.080873,52.440407],[122.091344,52.427272],[122.040837,52.413038],[122.035909,52.377615],[121.976779,52.343626],[121.94783,52.298266],[121.901018,52.280695],[121.841272,52.282526],[121.769207,52.308147],[121.714389,52.318025],[121.715621,52.342894],[121.658338,52.3904],[121.678664,52.419973],[121.63986,52.44442],[121.590585,52.443326],[121.565331,52.460468],[121.519136,52.456821],[121.495114,52.484892],[121.474172,52.482706],[121.416274,52.499468],[121.411963,52.52205],[121.353448,52.534793],[121.323883,52.573727],[121.280151,52.586819],[121.225333,52.577364],[121.182217,52.59918],[121.237036,52.619167],[121.29247,52.651855],[121.309717,52.676173],[121.373158,52.683067],[121.455078,52.73528],[121.476636,52.772225],[121.511129,52.779104],[121.537614,52.801542],[121.591201,52.824693],[121.620766,52.853251],[121.604136,52.872401],[121.610295,52.892264],[121.66265,52.912478],[121.677432,52.948192],[121.715621,52.997926],[121.785838,53.018451],[121.817867,53.061631],[121.775367,53.089674],[121.784606,53.104408],[121.753193,53.147501],[121.722396,53.145706],[121.665114,53.170467],[121.660186,53.195213],[121.67928,53.199515],[121.679896,53.240722],[121.642324,53.262564],[121.615222,53.258984],[121.575802,53.29155],[121.504969,53.323018],[121.499426,53.337314],[121.416274,53.319443],[121.336818,53.325877],[121.308485,53.301565],[121.227797,53.280459],[121.155732,53.285468],[121.129246,53.277238],[121.098449,53.306929],[121.055334,53.29155],[120.950624,53.29763],[120.936457,53.28833],[120.882871,53.294411],[120.867472,53.278669],[120.820661,53.269007],[120.838523,53.239648],[120.821893,53.241797],[120.736277,53.204892],[120.690698,53.174771],[120.687002,53.142476],[120.659901,53.137091],[120.643886,53.106923],[120.562582,53.082845],[120.529321,53.045803],[120.452945,53.01017],[120.411061,52.957927],[120.363018,52.94134],[120.350699,52.906343],[120.295265,52.891542],[120.297112,52.869872],[120.222584,52.84277],[120.181316,52.806969],[120.14128,52.813119],[120.101244,52.788877],[120.031642,52.773674],[120.071063,52.70628],[120.035338,52.646409],[120.049505,52.598453],[120.07599,52.586092],[120.125265,52.586819],[120.194866,52.578819],[120.289721,52.623527],[120.396895,52.616261],[120.462184,52.64532],[120.483742,52.630066],[120.56135,52.595544],[120.605082,52.589364],[120.62664,52.570818],[120.658669,52.56718],[120.690698,52.547532],[120.734429,52.536977],[120.687002,52.511489],[120.706712,52.492909],[120.68269,52.464479],[120.688234,52.427637],[120.64943,52.3904],[120.653741,52.371038],[120.62356,52.361172],[120.627256,52.323878],[120.653741,52.302658],[120.695625,52.290214],[120.715951,52.261286],[120.755371,52.258355],[120.745516,52.20594],[120.786784,52.15787],[120.760299,52.136937],[120.76769,52.10938],[120.753523,52.085483],[120.717183,52.072978],[120.690698,52.047221],[120.691929,52.026973],[120.717799,52.015556],[120.704864,51.983501],[120.66298,51.958061],[120.656821,51.926333],[120.548416,51.907877],[120.549032,51.882394],[120.481278,51.885719],[120.480046,51.855049],[120.40059,51.833605],[120.40675,51.81659],[120.363634,51.789945],[120.317438,51.785873],[120.294649,51.752171],[120.226279,51.717703],[120.172693,51.679868],[120.087077,51.678013],[120.100628,51.649058],[120.05936,51.634203],[120.035954,51.583657],[120.052584,51.560967],[120.017476,51.52114],[119.985447,51.505125],[119.982367,51.482396],[120.002693,51.459283],[119.982983,51.445112],[119.97128,51.40033],[119.910918,51.390994],[119.914614,51.374187],[119.946643,51.360736],[119.883817,51.336813],[119.885049,51.302777],[119.811136,51.281071],[119.828383,51.263099],[119.797586,51.243622],[119.821607,51.21439],[119.784035,51.22601],[119.760629,51.212516],[119.788346,51.174636],[119.771716,51.124331],[119.752622,51.117193],[119.764325,51.092017],[119.719361,51.075099],[119.726753,51.051028],[119.678093,51.016404],[119.630666,51.00925],[119.598637,50.984767],[119.569688,50.933879],[119.491464,50.87878],[119.498855,50.827776],[119.515485,50.814165],[119.496391,50.771795],[119.506862,50.763846],[119.450196,50.695281],[119.430486,50.684286],[119.385522,50.682769],[119.394145,50.667219],[119.361501,50.632689],[119.298059,50.616743],[119.281428,50.601551],[119.295595,50.573814],[119.264182,50.536933],[119.262334,50.490124],[119.250631,50.448604],[119.22353,50.441363],[119.217371,50.414675],[119.165016,50.422683],[119.125596,50.389118],[119.176719,50.378814],[119.155777,50.364691],[119.188422,50.347509],[119.232153,50.365455],[119.259871,50.345218],[119.277117,50.366218],[119.322696,50.352474],[119.358421,50.358965],[119.381827,50.324208],[119.35103,50.303953],[119.339943,50.244668],[119.319001,50.220933],[119.358421,50.197953],[119.339327,50.192206],[119.350414,50.166145],[119.309762,50.161161],[119.290052,50.121655],[119.236465,50.075204],[119.190269,50.087877],[119.193965,50.069826],[119.163168,50.027554],[119.12498,50.019095],[119.090487,49.985629],[118.982082,49.979087],[118.964836,49.988708],[118.791757,49.955606],[118.761576,49.959456],[118.739402,49.946364],[118.672264,49.955991],[118.605127,49.926719],[118.574946,49.931342],[118.531214,49.887791],[118.485019,49.866194],[118.483787,49.830691],[118.443751,49.835709],[118.385853,49.827217],[118.398787,49.802502],[118.384005,49.783958],[118.315636,49.766953],[118.284223,49.743755],[118.220781,49.729831],[118.211542,49.690744],[118.156723,49.660149],[118.129622,49.669446],[118.082811,49.616741],[118.011362,49.614803],[117.995963,49.623332],[117.950999,49.596187],[117.866,49.591532],[117.849369,49.551557],[117.809333,49.521263],[117.638102,49.574847],[117.485349,49.633024],[117.278394,49.636512],[117.068974,49.695389],[116.736367,49.847674],[116.717889,49.847288],[116.428397,49.430659],[116.048363,48.873274],[116.077928,48.822471],[116.069305,48.811437],[115.83032,48.560156],[115.799523,48.514982],[115.822929,48.259432],[115.81061,48.257042],[115.529126,48.155336],[115.545141,48.134971],[115.539597,48.104607],[115.580249,47.921649],[115.939342,47.683275],[115.968291,47.689721],[116.111189,47.811642],[116.130283,47.823296],[116.26579,47.876711],[116.453035,47.837358],[116.669846,47.890758],[116.791186,47.89758],[116.879265,47.893968],[117.094844,47.8241],[117.384335,47.641356],[117.493357,47.758563],[117.519226,47.761782],[117.529081,47.782697],[117.813645,48.016212],[117.886942,48.025418],[117.96147,48.011007],[118.052014,48.01421],[118.107448,48.031021],[118.124694,48.047427],[118.150564,48.036224],[118.238643,48.041826],[118.238027,48.031422],[118.284839,48.011007],[118.351976,48.006203],[118.37415,48.016612],[118.422193,48.01461],[118.441903,47.995791],[118.568171,47.992187],[118.773278,47.771034],[119.134219,47.664335],[119.152081,47.540453],[119.205052,47.520249],[119.365812,47.47739],[119.32208,47.42721],[119.365812,47.423161],[119.386138,47.397645],[119.437877,47.378602],[119.450812,47.353065],[119.559217,47.303172],[119.56784,47.248357],[119.627586,47.247544],[119.716282,47.195518],[119.763093,47.13082],[119.806825,47.055037],[119.79081,47.04525],[119.795122,47.013024],[119.845013,46.964852],[119.859795,46.917046],[119.926933,46.903963],[119.920157,46.853238],[119.936172,46.790173],[119.917078,46.758203],[119.93494,46.712674],[119.911534,46.669572],[119.859179,46.669572],[119.804361,46.68189],[119.8136,46.66834],[119.783419,46.626023],[119.739687,46.615336],[119.677477,46.584908],[119.682405,46.605058],[119.656535,46.625612],[119.598637,46.618214],[119.557985,46.633832],[119.491464,46.629311],[119.431718,46.638763],[119.374435,46.603414],[119.357805,46.619447],[119.325776,46.608759],[119.26295,46.649034],[119.20074,46.648213],[119.152081,46.658072],[119.123132,46.642872],[119.073857,46.676552],[119.011647,46.745902],[118.951285,46.722111],[118.912481,46.733188],[118.914329,46.77501],[118.845343,46.771731],[118.788061,46.717598],[118.788061,46.687227],[118.677192,46.6979],[118.639004,46.721291],[118.586033,46.692975],[118.446831,46.704467],[118.41049,46.728265],[118.316252,46.73934],[118.274984,46.715957],[118.238643,46.709392],[118.192448,46.682711],[118.124078,46.678195],[118.04647,46.631366],[117.992883,46.631366],[117.982412,46.614925],[117.914659,46.607936],[117.868464,46.575447],[117.870927,46.549935],[117.813645,46.530588],[117.769913,46.537586],[117.748355,46.521941],[117.704008,46.516587],[117.641182,46.558166],[117.622704,46.596012],[117.596218,46.603414],[117.49582,46.600535],[117.42006,46.582029],[117.447777,46.528117],[117.392343,46.463023],[117.375712,46.416421],[117.383719,46.394962],[117.372017,46.36028],[117.247597,46.366888],[117.097308,46.356976],[116.876801,46.375559],[116.834302,46.384229],[116.81336,46.355737],[116.745606,46.327642],[116.673541,46.325163],[116.585462,46.292504],[116.573143,46.258998],[116.536187,46.23251],[116.439484,46.137628],[116.414231,46.133896],[116.271949,45.966926],[116.243,45.876169],[116.288579,45.839074],[116.278108,45.831152],[116.286731,45.775247],[116.260862,45.776082],[116.22329,45.747273],[116.217746,45.72221],[116.17463,45.688775],[116.1155,45.679577],[116.035428,45.685013],[116.026805,45.661177],[115.936878,45.632727],[115.864197,45.572853],[115.699741,45.45963],[115.586408,45.440317],[115.36467,45.392427],[115.178041,45.396209],[114.983404,45.379397],[114.920578,45.386122],[114.745035,45.438217],[114.600906,45.403773],[114.551014,45.387383],[114.539928,45.325985],[114.519602,45.283893],[114.459855,45.21353],[114.409348,45.179371],[114.347139,45.119436],[114.313262,45.107189],[114.19069,45.036607],[114.158045,44.994301],[114.116777,44.957045],[114.065038,44.931206],[113.907358,44.915104],[113.861778,44.863377],[113.798953,44.849377],[113.712105,44.788247],[113.631417,44.745333],[113.540874,44.759358],[113.503918,44.777628],[113.11526,44.799714],[113.037652,44.822641],[112.937869,44.840042],[112.850406,44.840466],[112.712436,44.879494],[112.599719,44.930783],[112.540589,45.001072],[112.438959,45.071697],[112.396459,45.064512],[112.113743,45.072965],[112.071243,45.096206],[112.002874,45.090713],[111.903707,45.052252],[111.764505,44.969325],[111.69244,44.859983],[111.624687,44.778477],[111.585267,44.705789],[111.560629,44.647062],[111.569868,44.57634],[111.530448,44.55033],[111.514434,44.507666],[111.478709,44.488884],[111.427586,44.394455],[111.415883,44.35724],[111.428818,44.319573],[111.507042,44.294305],[111.534144,44.26217],[111.541535,44.206855],[111.559397,44.171238],[111.662875,44.061247],[111.702295,44.034147],[111.773128,44.010479],[111.870447,43.940279],[111.959758,43.823382],[111.970845,43.748205],[111.951135,43.693275],[111.891388,43.6738],[111.79407,43.672068],[111.606209,43.513863],[111.564325,43.490422],[111.456535,43.494329],[111.400485,43.472618],[111.354289,43.436125],[111.183674,43.396132],[111.151029,43.38004],[111.069725,43.357852],[111.02045,43.329998],[110.82027,43.149067],[110.769763,43.099272],[110.736502,43.089657],[110.687227,43.036314],[110.689691,43.02144],[110.631177,42.936061],[110.469801,42.839156],[110.437156,42.781203],[110.34846,42.742098],[110.139657,42.674815],[110.108244,42.642687],[109.906216,42.635643],[109.733753,42.579262],[109.683862,42.558988],[109.544044,42.472528],[109.486761,42.458842],[109.291509,42.435879],[109.026039,42.458401],[108.983539,42.449128],[108.845569,42.395673],[108.798757,42.415116],[108.705134,42.413349],[108.532671,42.442945],[108.298614,42.438529],[108.238252,42.460167],[108.089195,42.436321],[108.022058,42.433229],[107.986949,42.413349],[107.939522,42.403628],[107.736262,42.415116],[107.57427,42.412907],[107.501589,42.456635],[107.46648,42.458842],[107.303872,42.412465],[107.271844,42.364285],[107.051337,42.319166],[106.785867,42.291281],[106.612789,42.241679],[106.372572,42.161436],[106.344855,42.149457],[106.01348,42.032213],[105.74185,41.949033],[105.589713,41.888471],[105.385221,41.797073],[105.291599,41.749763],[105.230621,41.751103],[105.009498,41.583007],[104.923267,41.654143],[104.803775,41.652355],[104.68921,41.6452],[104.524138,41.661745],[104.530298,41.875104],[104.418813,41.860397],[104.30856,41.840782],[104.080046,41.805104],[103.868779,41.802427],[103.454868,41.877332],[103.418527,41.882233],[103.20726,41.96283],[103.021862,42.028212],[102.712045,42.153007],[102.621502,42.154338],[102.540814,42.162323],[102.449039,42.144133],[102.093642,42.223512],[102.070236,42.232374],[101.877447,42.432345],[101.803534,42.503861],[101.770274,42.509597],[101.557775,42.529887],[101.291689,42.586312],[100.862995,42.671295],[100.826655,42.675255],[100.32528,42.690213],[100.272309,42.636523],[100.004376,42.648849],[99.969267,42.647969],[99.51224,42.568244],[98.962822,42.607018],[98.546447,42.638284],[98.195362,42.653251],[97.831958,42.706047],[97.28254,42.782081],[97.172903,42.795257]]]}},{"type":"Feature","properties":{"adcode":210000,"name":"\u8FBD\u5B81\u7701","center":[123.429096,41.796767],"centroid":[122.604994,41.299712],"childrenNum":14,"level":"province","parent":{"adcode":100000},"subFeatureIndex":5,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[123.534489,39.788361],[123.546808,39.756163],[123.579453,39.781002],[123.612714,39.775023],[123.642279,39.796178],[123.645358,39.823761],[123.674924,39.826979],[123.687858,39.808132],[123.795032,39.822842],[123.812278,39.831115],[123.95148,39.817786],[124.002603,39.800316],[124.103001,39.823302],[124.099306,39.777323],[124.151045,39.74558],[124.173218,39.841225],[124.214486,39.865116],[124.215102,39.883487],[124.21695,39.894049],[124.218182,39.895885],[124.219414,39.899099],[124.241588,39.928477],[124.286551,39.931689],[124.288399,39.962888],[124.349377,39.989029],[124.372167,40.021576],[124.336442,40.049985],[124.346913,40.079756],[124.428217,40.144291],[124.457782,40.177679],[124.490427,40.18408],[124.513833,40.218362],[124.515065,40.22019],[124.62655,40.291896],[124.722636,40.321561],[124.739267,40.371733],[124.834121,40.423235],[124.913578,40.481981],[124.945606,40.45603],[124.985642,40.475153],[125.044157,40.466503],[125.042925,40.483802],[125.004737,40.496091],[125.015823,40.533853],[125.076801,40.562048],[125.113758,40.569322],[125.181511,40.611132],[125.262815,40.620218],[125.279445,40.655187],[125.305315,40.661089],[125.329337,40.643835],[125.375532,40.658365],[125.422343,40.635661],[125.418648,40.673345],[125.453756,40.676522],[125.459916,40.707379],[125.49564,40.728697],[125.544915,40.729605],[125.551075,40.761796],[125.585567,40.788535],[125.61698,40.763609],[125.685349,40.769048],[125.67611,40.788082],[125.641002,40.798503],[125.648393,40.826133],[125.707523,40.866877],[125.687813,40.897645],[125.652089,40.91619],[125.584335,40.891764],[125.589263,40.931112],[125.635458,40.94151],[125.650241,40.970888],[125.674879,40.974503],[125.684118,41.021929],[125.726617,41.055332],[125.739552,41.08917],[125.712451,41.095485],[125.734009,41.125695],[125.759878,41.132908],[125.791291,41.167607],[125.73832,41.178418],[125.758646,41.232449],[125.749407,41.245499],[125.695205,41.244599],[125.685349,41.273842],[125.646545,41.264396],[125.642234,41.296327],[125.62006,41.318355],[125.637306,41.34442],[125.610205,41.365084],[125.589879,41.359245],[125.581256,41.396517],[125.547995,41.401006],[125.534444,41.428833],[125.533212,41.479069],[125.493176,41.509103],[125.507343,41.534195],[125.479626,41.544946],[125.450061,41.597777],[125.461148,41.642516],[125.446981,41.67605],[125.412488,41.691246],[125.344119,41.672474],[125.317018,41.676944],[125.332416,41.711354],[125.336112,41.768067],[125.336112,41.768067],[125.323177,41.771191],[125.323177,41.771191],[125.319482,41.776993],[125.319482,41.776993],[125.294844,41.822945],[125.307779,41.924548],[125.35151,41.92811],[125.291764,41.958825],[125.29854,41.974399],[125.369989,42.002868],[125.363213,42.017097],[125.416184,42.063766],[125.414336,42.101964],[125.446365,42.098411],[125.490097,42.136145],[125.458068,42.160105],[125.458068,42.160105],[125.41372,42.156112],[125.368141,42.182726],[125.357054,42.145464],[125.305931,42.146351],[125.312706,42.197359],[125.280677,42.175187],[125.312706,42.219966],[125.27575,42.231045],[125.27575,42.266928],[125.299156,42.289953],[125.264047,42.312528],[125.224011,42.30102],[125.175352,42.308102],[125.167345,42.351903],[125.203685,42.366938],[125.185823,42.38197],[125.186439,42.427928],[125.140243,42.44692],[125.150098,42.458842],[125.105135,42.490624],[125.068794,42.499449],[125.090968,42.515773],[125.066946,42.534738],[125.089736,42.567803],[125.082961,42.591159],[125.097127,42.622433],[125.038613,42.615387],[125.010896,42.63212],[125.014592,42.666014],[124.99057,42.677455],[124.968396,42.722756],[124.996729,42.745174],[124.975171,42.802722],[124.92836,42.819844],[124.897563,42.787791],[124.874157,42.789987],[124.856911,42.824234],[124.84952,42.882585],[124.87231,42.962344],[124.869846,42.988178],[124.840897,43.032377],[124.88894,43.074796],[124.882781,43.13422],[124.785462,43.117185],[124.755281,43.074359],[124.719557,43.069987],[124.686912,43.051185],[124.677673,43.002185],[124.658579,42.972854],[124.635173,42.972854],[124.632093,42.949642],[124.607456,42.937376],[124.586514,42.905384],[124.466406,42.847054],[124.435609,42.880831],[124.371551,42.880831],[124.38079,42.912835],[124.431913,42.930803],[124.442384,42.958841],[124.42329,42.975482],[124.369703,42.972854],[124.333363,42.997371],[124.425754,43.076107],[124.366007,43.121554],[124.273617,43.17875],[124.287167,43.207983],[124.27608,43.233278],[124.228653,43.235022],[124.215102,43.255947],[124.168291,43.244177],[124.114088,43.247229],[124.117168,43.2773],[124.099306,43.292983],[124.032784,43.280786],[123.964415,43.34088],[123.896046,43.361333],[123.881263,43.392218],[123.881263,43.392218],[123.852314,43.406133],[123.857858,43.459153],[123.857858,43.459153],[123.79688,43.489988],[123.747604,43.472184],[123.749452,43.439167],[123.710032,43.417001],[123.703873,43.37047],[123.698329,43.272071],[123.664453,43.264663],[123.676771,43.223684],[123.645974,43.208855],[123.666916,43.179623],[123.636119,43.141644],[123.631192,43.088346],[123.580685,43.036314],[123.572678,43.003498],[123.536337,43.007],[123.474743,43.042438],[123.434707,43.027565],[123.323222,43.000872],[123.259165,42.993431],[123.18402,42.925983],[123.188947,42.895739],[123.169853,42.859777],[123.227752,42.831695],[123.118114,42.801405],[123.058368,42.768903],[122.980144,42.777689],[122.945651,42.753524],[122.925941,42.772417],[122.887137,42.770221],[122.883442,42.751766],[122.883442,42.751766],[122.848949,42.712203],[122.848949,42.712203],[122.786123,42.757479],[122.73808,42.77066],[122.733152,42.786034],[122.653696,42.78252],[122.624747,42.773296],[122.580399,42.789987],[122.576088,42.819405],[122.556378,42.827745],[122.436886,42.843105],[122.35127,42.830378],[122.371596,42.776371],[122.439349,42.770221],[122.460907,42.755282],[122.396234,42.707366],[122.396234,42.684054],[122.338951,42.669975],[122.324785,42.684934],[122.261343,42.695931],[122.204676,42.732867],[122.204676,42.685374],[122.160945,42.684934],[122.072865,42.710444],[122.062394,42.723635],[122.018663,42.69901],[121.939207,42.688453],[121.94167,42.666014],[121.915801,42.656332],[121.921344,42.605697],[121.889931,42.556784],[121.844352,42.522389],[121.831417,42.533856],[121.817867,42.504303],[121.803084,42.514891],[121.747649,42.484887],[121.69899,42.438529],[121.66573,42.437204],[121.604136,42.495037],[121.607831,42.516214],[121.570875,42.487093],[121.506201,42.482239],[121.4791,42.49636],[121.434752,42.475176],[121.386093,42.474294],[121.304789,42.435879],[121.314644,42.42837],[121.285079,42.387717],[121.218558,42.371802],[121.184681,42.333324],[121.133558,42.300135],[121.120623,42.280656],[121.087978,42.278885],[121.070732,42.254083],[121.028848,42.242565],[120.992508,42.264714],[120.933994,42.27977],[120.883487,42.269585],[120.883487,42.269585],[120.883487,42.242565],[120.8299,42.252755],[120.820661,42.227943],[120.79048,42.218636],[120.745516,42.223512],[120.72211,42.203565],[120.624792,42.154338],[120.58414,42.167203],[120.56751,42.152119],[120.466496,42.105516],[120.493597,42.073539],[120.450481,42.057101],[120.456641,42.016208],[120.399358,41.984631],[120.373489,41.994862],[120.309431,41.951704],[120.318054,41.93746],[120.271859,41.925439],[120.260156,41.904062],[120.290337,41.897381],[120.286641,41.880005],[120.251533,41.884016],[120.215808,41.853265],[120.188707,41.848361],[120.183164,41.826513],[120.127113,41.77253],[120.1382,41.729221],[120.096316,41.697056],[120.035954,41.708226],[120.024867,41.737707],[120.050737,41.776101],[120.041498,41.818932],[120.023019,41.816701],[119.989759,41.899163],[119.954034,41.923212],[119.950954,41.974399],[119.924469,41.98908],[119.921389,42.014429],[119.897368,42.030879],[119.87581,42.077982],[119.845629,42.097079],[119.837622,42.135257],[119.854868,42.170308],[119.841933,42.215534],[119.744615,42.211545],[119.679941,42.240793],[119.617115,42.252755],[119.609108,42.276671],[119.557985,42.289068],[119.557985,42.289068],[119.539507,42.297922],[119.571536,42.335536],[119.572152,42.359421],[119.540123,42.363401],[119.502551,42.388159],[119.482841,42.347037],[119.432949,42.317396],[119.34795,42.300578],[119.280197,42.260728],[119.274037,42.239021],[119.237697,42.200905],[119.277733,42.185387],[119.286972,42.154781],[119.30853,42.147239],[119.314689,42.119723],[119.352261,42.118391],[119.384906,42.08953],[119.375667,42.023322],[119.324544,41.969505],[119.323928,41.937014],[119.340559,41.926774],[119.323312,41.889807],[119.334399,41.871539],[119.312841,41.80555],[119.292515,41.790827],[119.317769,41.764049],[119.319001,41.727435],[119.299907,41.705545],[119.307914,41.657273],[119.342406,41.617914],[119.415703,41.590169],[119.420015,41.567785],[119.362116,41.566442],[119.361501,41.545841],[119.406464,41.503276],[119.401537,41.472343],[119.378131,41.459787],[119.376283,41.422102],[119.309762,41.405944],[119.330704,41.385293],[119.296211,41.325097],[119.239545,41.31431],[119.2494,41.279689],[119.209364,41.244599],[119.204436,41.222546],[119.169943,41.222996],[119.189038,41.198234],[119.126212,41.138767],[119.081248,41.131555],[119.080632,41.095936],[119.037516,41.067516],[118.964836,41.079246],[118.937118,41.052625],[118.951901,41.018317],[119.013495,41.007479],[119.00056,40.967273],[118.977154,40.959138],[118.977154,40.959138],[118.916792,40.969984],[118.90201,40.960946],[118.873061,40.847866],[118.845959,40.822057],[118.878604,40.783098],[118.907553,40.775394],[118.895234,40.75409],[118.950053,40.747743],[118.96114,40.72008],[119.011031,40.687414],[119.028277,40.692406],[119.054763,40.664721],[119.115125,40.666536],[119.165632,40.69286],[119.184726,40.680153],[119.14469,40.632482],[119.162552,40.600228],[119.177951,40.609315],[119.230921,40.603863],[119.22045,40.569322],[119.256175,40.543404],[119.30237,40.530215],[119.429254,40.540221],[119.477913,40.533399],[119.503783,40.553864],[119.559217,40.547952],[119.572152,40.523846],[119.553674,40.502007],[119.604797,40.455119],[119.586934,40.375381],[119.598021,40.334335],[119.651608,40.271808],[119.639289,40.231613],[119.639289,40.231613],[119.671934,40.23938],[119.716898,40.195966],[119.745847,40.207851],[119.760629,40.136056],[119.736608,40.104936],[119.772332,40.08113],[119.783419,40.046778],[119.783419,40.046778],[119.787115,40.041739],[119.787115,40.041739],[119.81668,40.050443],[119.81668,40.050443],[119.854252,40.033033],[119.845629,40.000949],[119.845629,40.000949],[119.854252,39.98857],[119.91831,39.989946],[119.941715,40.009659],[119.947259,40.040364],[120.092005,40.077466],[120.134504,40.074719],[120.161606,40.096239],[120.273091,40.127362],[120.371641,40.174478],[120.451097,40.177679],[120.491749,40.20008],[120.523778,40.256737],[120.52193,40.304676],[120.537329,40.325211],[120.602618,40.36079],[120.596459,40.399084],[120.617401,40.41959],[120.616169,40.444645],[120.619249,40.460128],[120.666676,40.467413],[120.693777,40.505647],[120.72211,40.515657],[120.72827,40.539311],[120.822509,40.59432],[120.837291,40.644289],[120.8299,40.671076],[120.861313,40.684692],[120.939537,40.686507],[120.983269,40.712822],[121.032544,40.709193],[121.028848,40.746382],[120.991276,40.744115],[120.980189,40.766329],[120.994356,40.790801],[120.971566,40.805751],[121.00729,40.807563],[121.010986,40.784457],[121.086747,40.79805],[121.076892,40.815716],[121.096602,40.839717],[121.126167,40.86914],[121.177906,40.873665],[121.23642,40.851035],[121.290622,40.851488],[121.439064,40.830208],[121.440296,40.88181],[121.499426,40.880001],[121.526527,40.85194],[121.55486,40.849677],[121.553013,40.817528],[121.576418,40.837906],[121.626309,40.844244],[121.682976,40.829755],[121.732251,40.846961],[121.735331,40.862351],[121.778446,40.886787],[121.816019,40.894931],[121.84312,40.831567],[121.883772,40.802127],[121.934279,40.79805],[121.936127,40.711462],[121.951525,40.680607],[122.025438,40.674253],[122.06609,40.64883],[122.122141,40.657457],[122.148626,40.671983],[122.133843,40.614313],[122.150474,40.588413],[122.245944,40.519752],[122.231162,40.505192],[122.265038,40.48016],[122.221923,40.481071],[122.240401,40.461039],[122.250872,40.445555],[122.229314,40.424146],[122.186814,40.422779],[122.198517,40.382219],[122.152322,40.357597],[122.135691,40.374925],[122.111054,40.348932],[122.138155,40.338897],[122.110438,40.315629],[122.079641,40.332967],[122.040221,40.322017],[122.039605,40.260391],[122.02667,40.244862],[121.940438,40.242121],[121.950293,40.204194],[121.98109,40.173106],[122.003264,40.172191],[121.995257,40.128277],[121.956453,40.133311],[121.910257,40.072887],[121.824642,40.025701],[121.796309,39.999116],[121.779062,39.942702],[121.76428,39.933525],[121.699606,39.937196],[121.626925,39.882569],[121.572107,39.865116],[121.541926,39.874302],[121.530223,39.851334],[121.472325,39.802155],[121.487107,39.760303],[121.45939,39.747881],[121.502506,39.703233],[121.482796,39.659478],[121.451999,39.658095],[121.450151,39.624914],[121.325731,39.601402],[121.299246,39.606013],[121.263521,39.589873],[121.226565,39.554814],[121.224717,39.519275],[121.268449,39.482794],[121.286927,39.507271],[121.301709,39.476327],[121.245659,39.456923],[121.270296,39.434277],[121.246891,39.421334],[121.245659,39.389427],[121.270296,39.374162],[121.307869,39.391277],[121.324499,39.371386],[121.35468,39.377863],[121.432904,39.357506],[121.435984,39.329736],[121.466781,39.320014],[121.474788,39.296398],[121.508665,39.29223],[121.51544,39.286672],[121.562252,39.322792],[121.621382,39.326033],[121.72486,39.364447],[121.711925,39.33992],[121.7187,39.320477],[121.667577,39.310754],[121.672505,39.275554],[121.623846,39.285745],[121.589353,39.263044],[121.631237,39.22643],[121.591201,39.228748],[121.586889,39.193506],[121.604136,39.166136],[121.639244,39.166136],[121.68236,39.117863],[121.631853,39.077921],[121.605983,39.080708],[121.642324,39.11972],[121.590585,39.154999],[121.562252,39.127149],[121.599208,39.098824],[121.581962,39.075598],[121.508049,39.034237],[121.431057,39.027263],[121.370695,39.060264],[121.317108,39.012384],[121.341129,38.980757],[121.275224,38.971917],[121.204391,38.941202],[121.180369,38.959819],[121.128014,38.958888],[121.08921,38.922115],[121.094138,38.894173],[121.129862,38.879266],[121.110768,38.862026],[121.12863,38.799089],[121.112,38.776231],[121.13787,38.723023],[121.198848,38.721623],[121.259825,38.786495],[121.280767,38.786961],[121.288775,38.78976],[121.315876,38.793958],[121.359608,38.822406],[121.399028,38.812613],[121.509897,38.817743],[121.564715,38.874607],[121.618302,38.862492],[121.675585,38.86156],[121.708845,38.872744],[121.719316,38.920252],[121.655874,38.946788],[121.618918,38.950046],[121.66265,38.966333],[121.671273,39.010059],[121.73841,38.998898],[121.756889,39.025869],[121.790149,39.022614],[121.804932,38.970986],[121.863446,38.942598],[121.920728,38.969591],[121.905946,38.997503],[121.852975,39.035631],[121.8887,39.027263],[121.929352,39.024939],[121.907178,39.055617],[121.923192,39.053758],[121.963228,39.030053],[122.013735,39.073275],[122.061778,39.060264],[122.071634,39.074204],[122.048228,39.101146],[122.088264,39.112291],[122.127684,39.144788],[122.167104,39.158711],[122.123988,39.172631],[122.117213,39.213911],[122.160329,39.238019],[122.242865,39.267678],[122.274893,39.322329],[122.30877,39.346399],[122.366053,39.370461],[122.412864,39.411625],[122.455364,39.408388],[122.467682,39.403301],[122.51203,39.413474],[122.532972,39.419947],[122.581631,39.464316],[122.637066,39.488799],[122.649385,39.516505],[122.682645,39.514658],[122.808913,39.559889],[122.847101,39.581571],[122.860652,39.604629],[122.941956,39.604629],[122.972753,39.594946],[122.978912,39.616156],[123.021412,39.64335],[123.010941,39.655331],[123.103332,39.676983],[123.146448,39.647037],[123.166774,39.674219],[123.212969,39.665928],[123.215433,39.696786],[123.253005,39.689879],[123.286882,39.704154],[123.270251,39.714743],[123.274563,39.753862],[123.350939,39.750641],[123.388512,39.74742],[123.392823,39.723949],[123.477823,39.74696],[123.521555,39.772724],[123.534489,39.788361]]],[[[122.63953,39.286209],[122.593334,39.278334],[122.539131,39.308439],[122.50895,39.290377],[122.57732,39.269994],[122.67895,39.268605],[122.673406,39.269531],[122.662935,39.273701],[122.655544,39.277407],[122.640761,39.288061],[122.63953,39.286209]]],[[[122.318625,39.170775],[122.345111,39.144788],[122.366053,39.174951],[122.398697,39.16196],[122.383299,39.190723],[122.393154,39.213448],[122.343263,39.203246],[122.322321,39.177271],[122.322937,39.174487],[122.319241,39.172167],[122.318625,39.170775]]],[[[122.691884,39.23292],[122.696812,39.206492],[122.751631,39.229675],[122.740544,39.248679],[122.635834,39.241727],[122.628443,39.231993],[122.690037,39.234774],[122.691268,39.23431],[122.691884,39.23292]]],[[[122.738696,39.034701],[122.704819,39.044463],[122.733152,39.014244],[122.75779,39.009594],[122.739312,39.036561],[122.738696,39.034701]]],[[[123.022644,39.546507],[122.96105,39.551122],[122.945035,39.520198],[122.995542,39.495264],[123.036194,39.533123],[123.022644,39.546507]]],[[[122.503407,39.241263],[122.502175,39.224112],[122.547755,39.229211],[122.503407,39.241263]]],[[[120.786784,40.473787],[120.83298,40.491995],[120.8299,40.516112],[120.805262,40.525666],[120.774465,40.48016],[120.786784,40.473787]]],[[[123.086702,39.426881],[123.090397,39.450915],[123.054057,39.457847],[123.086702,39.426881]]],[[[123.160614,39.025404],[123.205578,39.057011],[123.20065,39.077921],[123.145832,39.091857],[123.143984,39.038885],[123.160614,39.025404]]],[[[123.716807,39.74512],[123.756843,39.754322],[123.719887,39.763063],[123.716807,39.74512]]]]}},{"type":"Feature","properties":{"adcode":220000,"name":"\u5409\u6797\u7701","center":[125.3245,43.886841],"centroid":[126.171208,43.703954],"childrenNum":9,"level":"province","parent":{"adcode":100000},"subFeatureIndex":6,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[129.601492,42.415116],[129.601492,42.422627],[129.591021,42.447803],[129.627361,42.462816],[129.651999,42.426603],[129.704354,42.427045],[129.748701,42.471204],[129.738846,42.500332],[129.749933,42.546644],[129.746237,42.58455],[129.786889,42.615387],[129.754245,42.645768],[129.796744,42.681854],[129.767179,42.707806],[129.78381,42.762752],[129.810911,42.795257],[129.816454,42.851003],[129.835549,42.866796],[129.846636,42.918533],[129.874969,42.923792],[129.856491,42.951833],[129.868193,42.97373],[129.903918,42.968475],[129.897143,43.001748],[129.954425,43.010938],[129.963664,42.978547],[130.002468,42.981174],[130.027106,42.9676],[130.072685,42.971541],[130.10841,42.989929],[130.144134,42.976357],[130.120729,42.954461],[130.127504,42.932556],[130.10225,42.922916],[130.136127,42.90363],[130.17062,42.912397],[130.21004,42.902315],[130.258083,42.90626],[130.277793,42.892232],[130.258083,42.860655],[130.245148,42.799209],[130.242069,42.738582],[130.257467,42.710884],[130.290112,42.702968],[130.333228,42.64973],[130.373264,42.630799],[130.388046,42.603054],[130.420691,42.617148],[130.44656,42.607459],[130.423771,42.574855],[130.435474,42.553257],[130.476125,42.570007],[130.459495,42.588075],[130.482285,42.626837],[130.522937,42.622433],[130.520473,42.593362],[130.558661,42.495919],[130.585763,42.485328],[130.581451,42.435437],[130.645509,42.426603],[130.600545,42.450453],[130.599929,42.486211],[130.565437,42.506509],[130.570364,42.557224],[130.622719,42.573092],[130.633806,42.603494],[130.592538,42.671295],[130.521089,42.702089],[130.464423,42.688453],[130.425003,42.706926],[130.40714,42.731548],[130.46627,42.772417],[130.532792,42.787352],[130.562357,42.815015],[130.603625,42.819405],[130.665835,42.847932],[130.708335,42.846615],[130.719422,42.831695],[130.75453,42.845738],[130.784095,42.842227],[130.801957,42.879515],[130.845073,42.881269],[130.890653,42.852758],[130.912826,42.870744],[130.949783,42.876884],[130.981812,42.857145],[131.043406,42.862848],[131.017536,42.915027],[131.034167,42.929051],[131.114855,42.915027],[131.145652,42.9365],[131.151195,42.968475],[131.115471,42.975482],[131.11855,43.007875],[131.102536,43.021002],[131.120398,43.068238],[131.171521,43.06955],[131.173985,43.111506],[131.207861,43.1316],[131.218948,43.191405],[131.201086,43.203185],[131.206014,43.237202],[131.255289,43.265099],[131.269455,43.297775],[131.275615,43.369165],[131.314419,43.392653],[131.295941,43.441774],[131.314419,43.461325],[131.31873,43.499539],[131.304564,43.502144],[131.294093,43.470012],[131.234963,43.475224],[131.201086,43.442209],[131.175217,43.444816],[131.142572,43.425695],[131.026775,43.508655],[130.959638,43.48608],[130.907283,43.434387],[130.864167,43.437863],[130.841378,43.454374],[130.822899,43.503446],[130.776704,43.52341],[130.727429,43.560284],[130.671378,43.565054],[130.665835,43.583698],[130.623335,43.589767],[130.630726,43.622268],[130.57098,43.626167],[130.57098,43.626167],[130.501995,43.636563],[130.488444,43.65605],[130.437937,43.646091],[130.412684,43.652586],[130.394206,43.703227],[130.423155,43.745179],[130.382503,43.777164],[130.381887,43.817768],[130.362793,43.844967],[130.386198,43.85403],[130.368336,43.894151],[130.381887,43.910106],[130.338155,43.963975],[130.364025,43.992399],[130.365256,44.044042],[130.319061,44.03974],[130.307358,44.002731],[130.27225,43.981634],[130.262395,43.949328],[130.208192,43.948466],[130.153373,43.915711],[130.143518,43.878624],[130.116417,43.878192],[130.110873,43.852735],[130.079461,43.835039],[130.027722,43.851872],[130.009243,43.889407],[130.022794,43.917866],[130.017867,43.961821],[129.979062,44.015644],[129.951345,44.027263],[129.907614,44.023821],[129.881128,44.000148],[129.868193,44.012631],[129.802904,43.964837],[129.780114,43.892857],[129.739462,43.895876],[129.743158,43.876035],[129.699426,43.8838],[129.650767,43.873016],[129.529427,43.870427],[129.467833,43.874741],[129.449971,43.850578],[129.417942,43.843672],[129.406855,43.819496],[129.348341,43.798333],[129.30892,43.812155],[129.289826,43.797038],[129.254718,43.819496],[129.211602,43.784509],[129.232544,43.709284],[129.214066,43.695006],[129.217146,43.648689],[129.232544,43.635263],[129.23008,43.593234],[129.169102,43.561585],[129.145081,43.570258],[129.093958,43.547706],[129.037907,43.540332],[129.013886,43.522976],[128.962763,43.53903],[128.949828,43.553779],[128.878379,43.539898],[128.834647,43.587599],[128.821097,43.637429],[128.78722,43.686784],[128.768126,43.732207],[128.729322,43.736964],[128.760119,43.755554],[128.739177,43.806972],[128.719467,43.816905],[128.760734,43.857482],[128.729938,43.889838],[128.696061,43.903207],[128.636315,43.891132],[128.64001,43.948035],[128.610445,43.960529],[128.584576,43.990246],[128.574721,44.047914],[128.529141,44.112401],[128.471859,44.157501],[128.450301,44.203423],[128.471859,44.247596],[128.453997,44.257884],[128.472475,44.320001],[128.446605,44.339694],[128.475555,44.346114],[128.481714,44.375637],[128.457076,44.409848],[128.463236,44.431647],[128.427511,44.473512],[128.397946,44.483761],[128.372693,44.514495],[128.295084,44.480772],[128.293237,44.467961],[128.228563,44.445748],[128.211317,44.431647],[128.172512,44.34697],[128.137404,44.357668],[128.094904,44.354673],[128.074578,44.370075],[128.049941,44.349965],[128.065339,44.307155],[128.101679,44.293449],[128.064107,44.251454],[128.104143,44.230017],[128.09244,44.181539],[128.060411,44.168663],[128.088129,44.158359],[128.091208,44.133022],[128.042549,44.103807],[127.950158,44.088334],[127.912586,44.064687],[127.862695,44.062967],[127.846065,44.081886],[127.808492,44.086615],[127.783239,44.071997],[127.729036,44.09908],[127.735811,44.11412],[127.712406,44.199133],[127.681609,44.166946],[127.641573,44.193555],[127.626174,44.187977],[127.59045,44.227872],[127.623711,44.278025],[127.579363,44.310581],[127.486356,44.410275],[127.50853,44.437202],[127.463566,44.484615],[127.465414,44.516628],[127.485124,44.528576],[127.536247,44.522176],[127.570124,44.55033],[127.557189,44.575488],[127.392733,44.632158],[127.275705,44.640249],[127.261538,44.61299],[127.214111,44.624917],[127.228893,44.642804],[127.182082,44.644507],[127.138966,44.607451],[127.094619,44.615972],[127.089691,44.593816],[127.049655,44.566961],[127.041648,44.591258],[127.044112,44.653874],[127.030561,44.673454],[127.041032,44.712169],[126.9973,44.764882],[126.984366,44.823914],[126.999764,44.87398],[127.021938,44.898997],[127.073061,44.907051],[127.092771,44.94688],[127.050271,45.004034],[127.018242,45.024341],[126.984981,45.067893],[126.970815,45.070852],[126.96404,45.132104],[126.85625,45.145613],[126.792808,45.135481],[126.787265,45.159118],[126.732446,45.187385],[126.685635,45.187807],[126.640055,45.214373],[126.644983,45.225334],[126.569222,45.252725],[126.540273,45.23882],[126.519331,45.248091],[126.402919,45.222805],[126.356107,45.185698],[126.293282,45.180214],[126.285274,45.162494],[126.235383,45.140125],[126.225528,45.154054],[126.166398,45.13337],[126.142992,45.147723],[126.091869,45.149411],[126.047522,45.170933],[125.998247,45.162072],[125.992703,45.192447],[125.957595,45.201303],[125.915095,45.196664],[125.849805,45.23882],[125.823936,45.237978],[125.815929,45.264942],[125.761726,45.291472],[125.726001,45.336503],[125.695205,45.352066],[125.712451,45.389485],[125.711835,45.477677],[125.687813,45.514173],[125.660096,45.507043],[125.61698,45.517947],[125.583104,45.491942],[125.497488,45.469283],[125.480242,45.486488],[125.424807,45.485649],[125.434662,45.462988],[125.398322,45.416797],[125.361981,45.392847],[125.319482,45.422678],[125.301619,45.402092],[125.248649,45.417637],[125.189518,45.39915],[125.137779,45.409655],[125.097127,45.38276],[125.06633,45.39915],[125.08912,45.420998],[125.0497,45.428558],[125.025678,45.493201],[124.961005,45.495299],[124.936983,45.53388],[124.911114,45.535976],[124.884628,45.495299],[124.886476,45.442836],[124.839665,45.455852],[124.792853,45.436958],[124.776223,45.468024],[124.729412,45.444096],[124.690607,45.452493],[124.625318,45.437377],[124.575427,45.451234],[124.579738,45.424358],[124.544014,45.411756],[124.507058,45.424778],[124.480572,45.456271],[124.398652,45.440737],[124.374015,45.45795],[124.352457,45.496557],[124.369087,45.512915],[124.348761,45.546874],[124.287783,45.539329],[124.264377,45.555256],[124.273001,45.584163],[124.238508,45.591702],[124.226805,45.633564],[124.162132,45.616404],[124.128255,45.641933],[124.147349,45.665359],[124.122096,45.669123],[124.13503,45.690448],[124.10177,45.700898],[124.098074,45.722628],[124.054342,45.751449],[124.014922,45.749779],[124.001987,45.770655],[124.064197,45.802372],[124.03648,45.83824],[124.067277,45.840325],[124.061118,45.886168],[123.996444,45.906993],[123.968727,45.936551],[123.973654,45.973997],[124.011842,45.981899],[123.989053,46.011833],[124.040176,46.01973],[124.034016,46.045074],[124.009995,46.057534],[124.015538,46.088257],[123.99398,46.101123],[124.01677,46.118549],[123.991516,46.143019],[124.001987,46.166649],[123.971806,46.170379],[123.956408,46.206009],[123.979814,46.228784],[123.952096,46.256516],[123.960103,46.288369],[123.936082,46.286715],[123.917604,46.25693],[123.896046,46.303668],[123.84985,46.302428],[123.775938,46.263136],[123.726047,46.255688],[123.673692,46.258585],[123.604706,46.251964],[123.569598,46.223816],[123.569598,46.223816],[123.499381,46.259826],[123.452569,46.233338],[123.430396,46.243687],[123.357099,46.232096],[123.357099,46.232096],[123.320758,46.254447],[123.286266,46.250308],[123.248078,46.273065],[123.178476,46.248239],[123.128585,46.210565],[123.127354,46.174523],[123.102716,46.172037],[123.112571,46.130163],[123.070071,46.123527],[123.04605,46.099878],[122.792898,46.073313],[122.828623,45.912406],[122.80029,45.856583],[122.772572,45.856583],[122.752246,45.834905],[122.792283,45.766063],[122.751015,45.735996],[122.741775,45.705077],[122.671558,45.70048],[122.650001,45.731401],[122.640761,45.771072],[122.603189,45.778169],[122.556378,45.82156],[122.522501,45.786933],[122.504639,45.786933],[122.496016,45.85825],[122.446125,45.916986],[122.362357,45.917403],[122.372828,45.856166],[122.337719,45.859917],[122.301379,45.813218],[122.253952,45.7982],[122.236705,45.831569],[122.200981,45.857],[122.091344,45.882002],[122.085184,45.912406],[122.040221,45.959022],[121.92812,45.988552],[121.923808,46.004767],[121.864062,46.002272],[121.843736,46.024301],[121.819098,46.023054],[121.761816,45.998947],[121.809243,45.961102],[121.821562,45.918235],[121.805548,45.900746],[121.817251,45.875336],[121.769823,45.84366],[121.766744,45.830318],[121.766744,45.830318],[121.754425,45.794862],[121.697142,45.76314],[121.657106,45.770238],[121.644172,45.752284],[121.666345,45.727641],[121.713773,45.701734],[121.811091,45.687103],[121.812323,45.704659],[121.867142,45.719703],[121.934279,45.71051],[121.970004,45.692956],[122.003264,45.623102],[121.995873,45.59882],[121.966308,45.596308],[121.993409,45.552741],[122.002648,45.507882],[122.064242,45.472641],[122.168336,45.439897],[122.180039,45.409655],[122.146778,45.374352],[122.147394,45.295682],[122.239169,45.276313],[122.22993,45.206784],[122.192358,45.180636],[122.143082,45.183167],[122.109822,45.142236],[122.119677,45.068739],[122.098735,45.02138],[122.074713,45.006573],[122.087032,44.95281],[122.079025,44.914256],[122.04946,44.912985],[122.098119,44.81882],[122.099967,44.7823],[122.168952,44.770405],[122.142467,44.753833],[122.110438,44.767856],[122.10243,44.736406],[122.152322,44.744057],[122.161561,44.728328],[122.117213,44.701961],[122.103046,44.67388],[122.113517,44.615546],[122.13138,44.577619],[122.196053,44.559712],[122.224386,44.526016],[122.228082,44.480345],[122.28598,44.477783],[122.294604,44.41113],[122.291524,44.310152],[122.271198,44.255741],[122.319241,44.233018],[122.483081,44.236877],[122.515726,44.251025],[122.641993,44.283595],[122.675254,44.285738],[122.702971,44.319145],[122.76087,44.369648],[122.85634,44.398304],[123.025108,44.493153],[123.06576,44.505959],[123.12489,44.5098],[123.137209,44.486322],[123.125506,44.455147],[123.142136,44.428228],[123.114419,44.40258],[123.128585,44.367081],[123.196955,44.34483],[123.277027,44.25274],[123.286882,44.211574],[123.323838,44.179823],[123.386664,44.161794],[123.362642,44.133452],[123.350939,44.092633],[123.32815,44.084035],[123.331229,44.028984],[123.365722,44.013922],[123.400831,43.979481],[123.37065,43.970006],[123.397135,43.954929],[123.467968,43.853599],[123.461809,43.822518],[123.498149,43.771114],[123.48275,43.737396],[123.520323,43.708419],[123.518475,43.682024],[123.536953,43.633964],[123.510468,43.624867],[123.5117,43.592801],[123.421157,43.598435],[123.434091,43.575461],[123.461193,43.568523],[123.452569,43.545971],[123.452569,43.545971],[123.360179,43.567223],[123.304744,43.550742],[123.329998,43.519071],[123.315831,43.492159],[123.36449,43.483475],[123.382968,43.469143],[123.419925,43.410046],[123.442098,43.437863],[123.486446,43.44525],[123.519707,43.402219],[123.54496,43.415262],[123.608402,43.366119],[123.703873,43.37047],[123.710032,43.417001],[123.749452,43.439167],[123.747604,43.472184],[123.79688,43.489988],[123.857858,43.459153],[123.857858,43.459153],[123.852314,43.406133],[123.881263,43.392218],[123.881263,43.392218],[123.896046,43.361333],[123.964415,43.34088],[124.032784,43.280786],[124.099306,43.292983],[124.117168,43.2773],[124.114088,43.247229],[124.168291,43.244177],[124.215102,43.255947],[124.228653,43.235022],[124.27608,43.233278],[124.287167,43.207983],[124.273617,43.17875],[124.366007,43.121554],[124.425754,43.076107],[124.333363,42.997371],[124.369703,42.972854],[124.42329,42.975482],[124.442384,42.958841],[124.431913,42.930803],[124.38079,42.912835],[124.371551,42.880831],[124.435609,42.880831],[124.466406,42.847054],[124.586514,42.905384],[124.607456,42.937376],[124.632093,42.949642],[124.635173,42.972854],[124.658579,42.972854],[124.677673,43.002185],[124.686912,43.051185],[124.719557,43.069987],[124.755281,43.074359],[124.785462,43.117185],[124.882781,43.13422],[124.88894,43.074796],[124.840897,43.032377],[124.869846,42.988178],[124.87231,42.962344],[124.84952,42.882585],[124.856911,42.824234],[124.874157,42.789987],[124.897563,42.787791],[124.92836,42.819844],[124.975171,42.802722],[124.996729,42.745174],[124.968396,42.722756],[124.99057,42.677455],[125.014592,42.666014],[125.010896,42.63212],[125.038613,42.615387],[125.097127,42.622433],[125.082961,42.591159],[125.089736,42.567803],[125.066946,42.534738],[125.090968,42.515773],[125.068794,42.499449],[125.105135,42.490624],[125.150098,42.458842],[125.140243,42.44692],[125.186439,42.427928],[125.185823,42.38197],[125.203685,42.366938],[125.167345,42.351903],[125.175352,42.308102],[125.224011,42.30102],[125.264047,42.312528],[125.299156,42.289953],[125.27575,42.266928],[125.27575,42.231045],[125.312706,42.219966],[125.280677,42.175187],[125.312706,42.197359],[125.305931,42.146351],[125.357054,42.145464],[125.368141,42.182726],[125.41372,42.156112],[125.458068,42.160105],[125.458068,42.160105],[125.490097,42.136145],[125.446365,42.098411],[125.414336,42.101964],[125.416184,42.063766],[125.363213,42.017097],[125.369989,42.002868],[125.29854,41.974399],[125.291764,41.958825],[125.35151,41.92811],[125.307779,41.924548],[125.294844,41.822945],[125.319482,41.776993],[125.319482,41.776993],[125.323177,41.771191],[125.323177,41.771191],[125.336112,41.768067],[125.336112,41.768067],[125.332416,41.711354],[125.317018,41.676944],[125.344119,41.672474],[125.412488,41.691246],[125.446981,41.67605],[125.461148,41.642516],[125.450061,41.597777],[125.479626,41.544946],[125.507343,41.534195],[125.493176,41.509103],[125.533212,41.479069],[125.534444,41.428833],[125.547995,41.401006],[125.581256,41.396517],[125.589879,41.359245],[125.610205,41.365084],[125.637306,41.34442],[125.62006,41.318355],[125.642234,41.296327],[125.646545,41.264396],[125.685349,41.273842],[125.695205,41.244599],[125.749407,41.245499],[125.758646,41.232449],[125.73832,41.178418],[125.791291,41.167607],[125.759878,41.132908],[125.734009,41.125695],[125.712451,41.095485],[125.739552,41.08917],[125.726617,41.055332],[125.684118,41.021929],[125.674879,40.974503],[125.650241,40.970888],[125.635458,40.94151],[125.589263,40.931112],[125.584335,40.891764],[125.652089,40.91619],[125.687813,40.897645],[125.707523,40.866877],[125.778356,40.897645],[125.817161,40.866877],[125.860892,40.888597],[125.875059,40.908501],[125.921254,40.882715],[125.959442,40.88181],[126.008102,40.936537],[126.041362,40.928851],[126.051833,40.96185],[126.08263,40.976762],[126.066,40.997542],[126.1085,41.011995],[126.099877,41.036376],[126.133753,41.063906],[126.124514,41.092327],[126.16763,41.094583],[126.187956,41.113072],[126.188572,41.114875],[126.295129,41.171661],[126.332086,41.236949],[126.35426,41.244599],[126.373354,41.289133],[126.437411,41.353405],[126.497158,41.374965],[126.524259,41.349362],[126.539041,41.366881],[126.497158,41.406842],[126.559983,41.548081],[126.582773,41.563307],[126.564295,41.608965],[126.592628,41.624624],[126.608027,41.669345],[126.644983,41.661297],[126.688099,41.674262],[126.724439,41.710907],[126.690562,41.728328],[126.694874,41.751103],[126.723207,41.753335],[126.8002,41.702865],[126.809439,41.749317],[126.848243,41.734134],[126.85625,41.760031],[126.887047,41.791719],[126.931395,41.812687],[126.952953,41.804212],[126.940018,41.773423],[126.979438,41.776993],[127.005923,41.749317],[127.050887,41.744852],[127.057662,41.703758],[127.037952,41.676944],[127.103242,41.647883],[127.093387,41.629993],[127.127263,41.622388],[127.135887,41.600463],[127.178386,41.600015],[127.125416,41.566442],[127.11864,41.540018],[127.164836,41.542706],[127.188241,41.527475],[127.241212,41.520754],[127.28864,41.501932],[127.253531,41.486691],[127.296031,41.486243],[127.360704,41.466065],[127.360088,41.479518],[127.405668,41.478621],[127.419835,41.460235],[127.459255,41.461581],[127.465414,41.479069],[127.526392,41.467859],[127.547334,41.477276],[127.563964,41.432871],[127.618783,41.432871],[127.636645,41.413575],[127.684073,41.422999],[127.780159,41.427038],[127.854688,41.420755],[127.86947,41.4037],[127.882405,41.448124],[127.909506,41.42973],[127.93168,41.444984],[127.970484,41.438704],[127.991426,41.421204],[128.000049,41.442741],[128.040085,41.393375],[128.110919,41.393375],[128.090593,41.374516],[128.114614,41.364186],[128.169433,41.404149],[128.203925,41.410882],[128.243345,41.477276],[128.238418,41.497898],[128.301244,41.540018],[128.317874,41.575844],[128.30186,41.627756],[128.248889,41.681414],[128.208853,41.688565],[128.163889,41.721628],[128.147875,41.78101],[128.112766,41.793504],[128.104143,41.843457],[128.115846,41.896935],[128.106607,41.949923],[128.033926,42.000199],[128.090593,42.022877],[128.294468,42.026434],[128.405338,42.018876],[128.466316,42.020654],[128.49896,42.000644],[128.598127,42.007315],[128.60675,42.02999],[128.637547,42.035324],[128.658489,42.018876],[128.70222,42.02021],[128.737945,42.050435],[128.779213,42.033546],[128.795227,42.042436],[128.898089,42.016653],[128.952908,42.025545],[128.954755,42.083756],[128.971386,42.097079],[129.008958,42.09175],[129.039139,42.107736],[129.048378,42.137476],[129.113668,42.140583],[129.166639,42.188047],[129.215914,42.208442],[129.209138,42.237692],[129.181421,42.242122],[129.183269,42.262056],[129.215914,42.265157],[129.231312,42.283755],[129.208522,42.293052],[129.260261,42.335536],[129.231312,42.356325],[129.240551,42.376223],[129.326167,42.389927],[129.30892,42.403628],[129.331094,42.429695],[129.356348,42.427045],[129.342181,42.441179],[129.368051,42.459284],[129.366203,42.428811],[129.392688,42.42837],[129.400695,42.449128],[129.452434,42.441179],[129.49863,42.412023],[129.546057,42.361632],[129.578086,42.380202],[129.569463,42.399208],[129.601492,42.415116]]]]}},{"type":"Feature","properties":{"adcode":230000,"name":"\u9ED1\u9F99\u6C5F\u7701","center":[126.642464,45.756967],"centroid":[127.693027,48.040465],"childrenNum":13,"level":"province","parent":{"adcode":100000},"subFeatureIndex":7,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[123.569598,46.223816],[123.604706,46.251964],[123.673692,46.258585],[123.726047,46.255688],[123.775938,46.263136],[123.84985,46.302428],[123.896046,46.303668],[123.917604,46.25693],[123.936082,46.286715],[123.960103,46.288369],[123.952096,46.256516],[123.979814,46.228784],[123.956408,46.206009],[123.971806,46.170379],[124.001987,46.166649],[123.991516,46.143019],[124.01677,46.118549],[123.99398,46.101123],[124.015538,46.088257],[124.009995,46.057534],[124.034016,46.045074],[124.040176,46.01973],[123.989053,46.011833],[124.011842,45.981899],[123.973654,45.973997],[123.968727,45.936551],[123.996444,45.906993],[124.061118,45.886168],[124.067277,45.840325],[124.03648,45.83824],[124.064197,45.802372],[124.001987,45.770655],[124.014922,45.749779],[124.054342,45.751449],[124.098074,45.722628],[124.10177,45.700898],[124.13503,45.690448],[124.122096,45.669123],[124.147349,45.665359],[124.128255,45.641933],[124.162132,45.616404],[124.226805,45.633564],[124.238508,45.591702],[124.273001,45.584163],[124.264377,45.555256],[124.287783,45.539329],[124.348761,45.546874],[124.369087,45.512915],[124.352457,45.496557],[124.374015,45.45795],[124.398652,45.440737],[124.480572,45.456271],[124.507058,45.424778],[124.544014,45.411756],[124.579738,45.424358],[124.575427,45.451234],[124.625318,45.437377],[124.690607,45.452493],[124.729412,45.444096],[124.776223,45.468024],[124.792853,45.436958],[124.839665,45.455852],[124.886476,45.442836],[124.884628,45.495299],[124.911114,45.535976],[124.936983,45.53388],[124.961005,45.495299],[125.025678,45.493201],[125.0497,45.428558],[125.08912,45.420998],[125.06633,45.39915],[125.097127,45.38276],[125.137779,45.409655],[125.189518,45.39915],[125.248649,45.417637],[125.301619,45.402092],[125.319482,45.422678],[125.361981,45.392847],[125.398322,45.416797],[125.434662,45.462988],[125.424807,45.485649],[125.480242,45.486488],[125.497488,45.469283],[125.583104,45.491942],[125.61698,45.517947],[125.660096,45.507043],[125.687813,45.514173],[125.711835,45.477677],[125.712451,45.389485],[125.695205,45.352066],[125.726001,45.336503],[125.761726,45.291472],[125.815929,45.264942],[125.823936,45.237978],[125.849805,45.23882],[125.915095,45.196664],[125.957595,45.201303],[125.992703,45.192447],[125.998247,45.162072],[126.047522,45.170933],[126.091869,45.149411],[126.142992,45.147723],[126.166398,45.13337],[126.225528,45.154054],[126.235383,45.140125],[126.285274,45.162494],[126.293282,45.180214],[126.356107,45.185698],[126.402919,45.222805],[126.519331,45.248091],[126.540273,45.23882],[126.569222,45.252725],[126.644983,45.225334],[126.640055,45.214373],[126.685635,45.187807],[126.732446,45.187385],[126.787265,45.159118],[126.792808,45.135481],[126.85625,45.145613],[126.96404,45.132104],[126.970815,45.070852],[126.984981,45.067893],[127.018242,45.024341],[127.050271,45.004034],[127.092771,44.94688],[127.073061,44.907051],[127.021938,44.898997],[126.999764,44.87398],[126.984366,44.823914],[126.9973,44.764882],[127.041032,44.712169],[127.030561,44.673454],[127.044112,44.653874],[127.041648,44.591258],[127.049655,44.566961],[127.089691,44.593816],[127.094619,44.615972],[127.138966,44.607451],[127.182082,44.644507],[127.228893,44.642804],[127.214111,44.624917],[127.261538,44.61299],[127.275705,44.640249],[127.392733,44.632158],[127.557189,44.575488],[127.570124,44.55033],[127.536247,44.522176],[127.485124,44.528576],[127.465414,44.516628],[127.463566,44.484615],[127.50853,44.437202],[127.486356,44.410275],[127.579363,44.310581],[127.623711,44.278025],[127.59045,44.227872],[127.626174,44.187977],[127.641573,44.193555],[127.681609,44.166946],[127.712406,44.199133],[127.735811,44.11412],[127.729036,44.09908],[127.783239,44.071997],[127.808492,44.086615],[127.846065,44.081886],[127.862695,44.062967],[127.912586,44.064687],[127.950158,44.088334],[128.042549,44.103807],[128.091208,44.133022],[128.088129,44.158359],[128.060411,44.168663],[128.09244,44.181539],[128.104143,44.230017],[128.064107,44.251454],[128.101679,44.293449],[128.065339,44.307155],[128.049941,44.349965],[128.074578,44.370075],[128.094904,44.354673],[128.137404,44.357668],[128.172512,44.34697],[128.211317,44.431647],[128.228563,44.445748],[128.293237,44.467961],[128.295084,44.480772],[128.372693,44.514495],[128.397946,44.483761],[128.427511,44.473512],[128.463236,44.431647],[128.457076,44.409848],[128.481714,44.375637],[128.475555,44.346114],[128.446605,44.339694],[128.472475,44.320001],[128.453997,44.257884],[128.471859,44.247596],[128.450301,44.203423],[128.471859,44.157501],[128.529141,44.112401],[128.574721,44.047914],[128.584576,43.990246],[128.610445,43.960529],[128.64001,43.948035],[128.636315,43.891132],[128.696061,43.903207],[128.729938,43.889838],[128.760734,43.857482],[128.719467,43.816905],[128.739177,43.806972],[128.760119,43.755554],[128.729322,43.736964],[128.768126,43.732207],[128.78722,43.686784],[128.821097,43.637429],[128.834647,43.587599],[128.878379,43.539898],[128.949828,43.553779],[128.962763,43.53903],[129.013886,43.522976],[129.037907,43.540332],[129.093958,43.547706],[129.145081,43.570258],[129.169102,43.561585],[129.23008,43.593234],[129.232544,43.635263],[129.217146,43.648689],[129.214066,43.695006],[129.232544,43.709284],[129.211602,43.784509],[129.254718,43.819496],[129.289826,43.797038],[129.30892,43.812155],[129.348341,43.798333],[129.406855,43.819496],[129.417942,43.843672],[129.449971,43.850578],[129.467833,43.874741],[129.529427,43.870427],[129.650767,43.873016],[129.699426,43.8838],[129.743158,43.876035],[129.739462,43.895876],[129.780114,43.892857],[129.802904,43.964837],[129.868193,44.012631],[129.881128,44.000148],[129.907614,44.023821],[129.951345,44.027263],[129.979062,44.015644],[130.017867,43.961821],[130.022794,43.917866],[130.009243,43.889407],[130.027722,43.851872],[130.079461,43.835039],[130.110873,43.852735],[130.116417,43.878192],[130.143518,43.878624],[130.153373,43.915711],[130.208192,43.948466],[130.262395,43.949328],[130.27225,43.981634],[130.307358,44.002731],[130.319061,44.03974],[130.365256,44.044042],[130.364025,43.992399],[130.338155,43.963975],[130.381887,43.910106],[130.368336,43.894151],[130.386198,43.85403],[130.362793,43.844967],[130.381887,43.817768],[130.382503,43.777164],[130.423155,43.745179],[130.394206,43.703227],[130.412684,43.652586],[130.437937,43.646091],[130.488444,43.65605],[130.501995,43.636563],[130.57098,43.626167],[130.57098,43.626167],[130.630726,43.622268],[130.623335,43.589767],[130.665835,43.583698],[130.671378,43.565054],[130.727429,43.560284],[130.776704,43.52341],[130.822899,43.503446],[130.841378,43.454374],[130.864167,43.437863],[130.907283,43.434387],[130.959638,43.48608],[131.026775,43.508655],[131.142572,43.425695],[131.175217,43.444816],[131.201086,43.442209],[131.234963,43.475224],[131.294093,43.470012],[131.304564,43.502144],[131.276847,43.495632],[131.20047,43.532089],[131.222028,43.593234],[131.216485,43.613169],[131.239274,43.670337],[131.221412,43.682024],[131.215869,43.72745],[131.232499,43.742585],[131.213405,43.801357],[131.2171,43.836334],[131.254057,43.893289],[131.26268,43.948897],[131.245434,43.95579],[131.26576,44.034578],[131.28239,44.035868],[131.287318,44.03802],[131.293477,44.043182],[131.310723,44.046623],[131.111775,44.710042],[131.090833,44.717272],[131.093297,44.746183],[131.069275,44.759783],[131.064348,44.786973],[131.016304,44.789521],[131.015688,44.814999],[130.972573,44.820094],[130.965181,44.85065],[131.07913,44.881614],[131.10192,44.898997],[131.090217,44.924427],[131.16105,44.948151],[131.20355,44.932901],[131.207861,44.913833],[131.263296,44.929935],[131.274999,44.919766],[131.313803,44.950692],[131.313803,44.965938],[131.355071,44.990068],[131.380324,44.978216],[131.409889,44.985836],[131.464708,44.963397],[131.501664,44.977793],[131.484418,44.99557],[131.529382,45.012073],[131.566338,45.045487],[131.63286,45.075078],[131.695685,45.132104],[131.687678,45.1511],[131.650722,45.159962],[131.681519,45.215217],[131.721555,45.234606],[131.759127,45.213952],[131.79362,45.211844],[131.788692,45.245984],[131.825649,45.291472],[131.82996,45.311677],[131.887858,45.342393],[131.917423,45.339448],[131.93159,45.287683],[131.976554,45.277156],[132.003655,45.25441],[132.17427,45.216903],[132.394161,45.16376],[132.76434,45.081417],[132.867202,45.061976],[132.916477,45.031109],[132.954049,45.023072],[132.98731,45.043373],[133.035969,45.054366],[133.070462,45.097051],[133.089556,45.097473],[133.107418,45.124504],[133.139447,45.127459],[133.129592,45.211422],[133.095715,45.246827],[133.110498,45.266627],[133.097563,45.284735],[133.128976,45.336924],[133.119121,45.352908],[133.144991,45.367205],[133.143759,45.430658],[133.164701,45.437377],[133.170244,45.465506],[133.203505,45.516689],[133.246005,45.517528],[133.333468,45.562379],[133.342707,45.554836],[133.393214,45.580393],[133.423395,45.584163],[133.412924,45.618079],[133.471438,45.631053],[133.448649,45.647372],[133.485605,45.658667],[133.484989,45.691702],[133.445569,45.705077],[133.454192,45.731819],[133.486837,45.740173],[133.469591,45.777751],[133.505315,45.785681],[133.469591,45.799451],[133.467743,45.834905],[133.494228,45.840325],[133.491764,45.867002],[133.51209,45.887001],[133.55459,45.893249],[133.583539,45.868669],[133.618032,45.903662],[133.614952,45.942794],[133.676546,45.94321],[133.681474,45.986473],[133.740604,46.048812],[133.745531,46.075389],[133.690713,46.133896],[133.706111,46.163333],[133.764626,46.17328],[133.794807,46.193583],[133.814517,46.230854],[133.849625,46.203939],[133.87919,46.233752],[133.867487,46.250722],[133.909987,46.254447],[133.91861,46.280924],[133.908139,46.308216],[133.922922,46.330948],[133.869335,46.338386],[133.876726,46.362345],[133.940784,46.38134],[133.948791,46.401153],[133.902596,46.446119],[133.852089,46.450242],[133.849625,46.475389],[133.890893,46.525235],[133.919842,46.596012],[134.011001,46.637941],[134.030711,46.708981],[134.033175,46.759023],[134.052885,46.779928],[134.025168,46.810657],[134.041182,46.848326],[134.042414,46.886787],[134.076291,46.938298],[134.063972,46.979962],[134.10216,47.005678],[134.118175,47.061968],[134.142812,47.093349],[134.222268,47.105164],[134.232739,47.134892],[134.230276,47.182097],[134.210566,47.210155],[134.156979,47.248357],[134.177305,47.326299],[134.203174,47.347389],[134.263536,47.371307],[134.266616,47.391974],[134.307268,47.428829],[134.339297,47.439759],[134.490202,47.446235],[134.522847,47.468086],[134.568426,47.478199],[134.576434,47.519036],[134.627556,47.546512],[134.678064,47.588507],[134.689766,47.63813],[134.779694,47.7159],[134.772918,47.763391],[134.678679,47.819278],[134.670056,47.864667],[134.677448,47.884738],[134.658969,47.901191],[134.607846,47.909214],[134.599839,47.947711],[134.55426,47.982173],[134.551796,48.032622],[134.632484,48.099412],[134.67252,48.170505],[134.679295,48.256245],[134.77107,48.288908],[134.864077,48.332293],[135.009439,48.365703],[135.090743,48.403461],[135.09567,48.437618],[135.068569,48.459451],[135.035924,48.440795],[134.996504,48.439603],[134.927519,48.451513],[134.886867,48.437618],[134.848679,48.393925],[134.820961,48.37604],[134.764295,48.370076],[134.704549,48.405448],[134.640491,48.409818],[134.578281,48.405448],[134.501905,48.418954],[134.438463,48.405448],[134.369478,48.382797],[134.20379,48.3824],[134.150819,48.346217],[134.116327,48.333089],[134.0689,48.338659],[134.029479,48.327519],[133.995603,48.303639],[133.940784,48.302047],[133.876111,48.282536],[133.824372,48.277359],[133.791111,48.261026],[133.740604,48.254651],[133.693177,48.186866],[133.667307,48.183275],[133.59709,48.194846],[133.573068,48.182078],[133.545967,48.121389],[133.451728,48.112999],[133.407997,48.124585],[133.302055,48.103009],[133.239845,48.126583],[133.182563,48.135769],[133.130208,48.134971],[133.053216,48.110202],[133.02673,48.085421],[133.016259,48.054228],[132.992238,48.035424],[132.883216,48.002599],[132.819159,47.936887],[132.769268,47.93849],[132.723072,47.962941],[132.691043,47.962941],[132.661478,47.944905],[132.662094,47.922451],[132.687348,47.88514],[132.662094,47.854227],[132.621442,47.82852],[132.599268,47.792347],[132.6005,47.740858],[132.558,47.718316],[132.469305,47.726368],[132.371987,47.765402],[132.325175,47.762184],[132.288835,47.742065],[132.272205,47.718718],[132.242639,47.70986],[132.19706,47.714289],[132.157024,47.70543],[132.086191,47.703013],[132.000575,47.712276],[131.976554,47.673201],[131.900793,47.685692],[131.825649,47.677231],[131.741881,47.706638],[131.690142,47.707041],[131.641483,47.663932],[131.59036,47.660707],[131.568186,47.682469],[131.559563,47.724757],[131.543548,47.736028],[131.456085,47.747297],[131.359998,47.730796],[131.273767,47.738846],[131.236811,47.733211],[131.183224,47.702611],[131.115471,47.689721],[131.029855,47.694555],[130.983659,47.713081],[130.966413,47.733211],[130.961486,47.828118],[130.891269,47.927263],[130.870943,47.943301],[130.770544,47.998194],[130.737284,48.034223],[130.699711,48.044227],[130.666451,48.105007],[130.673842,48.12818],[130.765617,48.18926],[130.769313,48.231136],[130.787791,48.256643],[130.817972,48.265409],[130.845073,48.296473],[130.81982,48.341444],[130.785327,48.357353],[130.747755,48.404256],[130.745907,48.449131],[130.776704,48.480084],[130.767465,48.507846],[130.711414,48.511414],[130.647357,48.484844],[130.620871,48.49595],[130.615944,48.575601],[130.605473,48.594207],[130.538335,48.612016],[130.538951,48.635751],[130.576524,48.688719],[130.622103,48.783842],[130.689856,48.849651],[130.680617,48.881146],[130.609168,48.881146],[130.559277,48.861071],[130.501995,48.865795],[130.471198,48.905541],[130.412068,48.905148],[130.279641,48.866976],[130.237757,48.868551],[130.219895,48.893739],[130.113337,48.956653],[130.059135,48.979047],[130.020946,49.021058],[129.937179,49.040285],[129.9187,49.060681],[129.934715,49.078717],[129.913157,49.1085],[129.866962,49.113985],[129.855259,49.133567],[129.864498,49.158621],[129.847867,49.181316],[129.784426,49.184054],[129.753629,49.208692],[129.761636,49.25754],[129.730223,49.288387],[129.696962,49.298535],[129.604571,49.279018],[129.562687,49.299706],[129.546057,49.395227],[129.51834,49.423652],[129.448739,49.441167],[129.390224,49.432605],[129.374826,49.414309],[129.379138,49.367175],[129.358196,49.355871],[129.320623,49.3586],[129.266421,49.396006],[129.215298,49.399122],[129.180805,49.386657],[129.143849,49.357431],[129.084719,49.359769],[129.061929,49.374189],[129.013886,49.457119],[128.932582,49.46801],[128.871604,49.492506],[128.792147,49.473065],[128.76135,49.482009],[128.763198,49.515824],[128.813089,49.558157],[128.802618,49.58222],[128.744104,49.595023],[128.715155,49.564756],[128.656025,49.577564],[128.619684,49.593471],[128.537764,49.604332],[128.500192,49.593859],[128.389939,49.58998],[128.343128,49.544956],[128.287077,49.566309],[128.243345,49.563203],[128.185447,49.53952],[128.122005,49.55311],[128.070882,49.556604],[128.001281,49.592307],[127.949542,49.596187],[127.897804,49.579116],[127.815268,49.593859],[127.782007,49.630698],[127.705015,49.665185],[127.677913,49.697712],[127.674833,49.764247],[127.653892,49.780094],[127.583059,49.786277],[127.531936,49.826059],[127.529472,49.864265],[127.547334,49.928645],[127.543638,49.944438],[127.495595,49.994479],[127.501755,50.056764],[127.58737,50.137768],[127.60708,50.178794],[127.603385,50.239309],[127.44632,50.270686],[127.371791,50.29669],[127.332371,50.340634],[127.369944,50.403996],[127.3644,50.438314],[127.30527,50.45432],[127.293567,50.46575],[127.323132,50.52552],[127.36132,50.547582],[127.370559,50.581415],[127.294799,50.663426],[127.28864,50.699451],[127.305886,50.733932],[127.295415,50.755139],[127.236285,50.781256],[127.143894,50.910111],[127.113713,50.93765],[127.052119,50.962911],[126.985597,51.029202],[126.922772,51.061937],[126.917844,51.138977],[126.899982,51.200518],[126.926467,51.246244],[126.976358,51.291551],[126.98375,51.318863],[126.970815,51.332327],[126.887047,51.321856],[126.877808,51.300906],[126.908605,51.283691],[126.92154,51.259729],[126.908605,51.246619],[126.863025,51.248492],[126.820526,51.281071],[126.813134,51.311756],[126.837156,51.345038],[126.904293,51.340552],[126.930163,51.359241],[126.908605,51.407423],[126.835308,51.413769],[126.791577,51.432428],[126.784185,51.448095],[126.812518,51.493948],[126.843931,51.521885],[126.837156,51.536033],[126.69549,51.57845],[126.67886,51.602246],[126.741069,51.642374],[126.723823,51.679126],[126.734294,51.711399],[126.724439,51.7266],[126.6727,51.73179],[126.658534,51.762544],[126.622809,51.777357],[126.580925,51.824728],[126.555056,51.874266],[126.510092,51.922274],[126.462665,51.948471],[126.468208,51.982395],[126.447882,52.009294],[126.450962,52.027709],[126.487918,52.041699],[126.514404,52.037282],[126.563679,52.119302],[126.556288,52.136203],[126.499005,52.16044],[126.457121,52.165212],[126.403535,52.185031],[126.34502,52.192002],[126.306832,52.205574],[126.312992,52.235271],[126.357955,52.264216],[126.401071,52.279597],[126.436795,52.277034],[126.4331,52.298632],[126.327774,52.310342],[126.320999,52.342163],[126.348716,52.357882],[126.353644,52.389304],[126.326542,52.424353],[126.268644,52.475051],[126.205202,52.466302],[126.192883,52.492181],[126.213209,52.525327],[126.147304,52.573],[126.066616,52.603905],[126.055529,52.582455],[126.030891,52.576273],[125.989008,52.603178],[125.968682,52.630429],[125.971145,52.654033],[125.995783,52.675085],[126.061688,52.673271],[126.072775,52.691048],[126.044442,52.739628],[126.112195,52.757016],[126.116507,52.768243],[126.052449,52.800095],[126.02042,52.795753],[125.985312,52.758465],[125.966834,52.759914],[125.937269,52.786705],[125.923718,52.815651],[125.855349,52.866259],[125.854117,52.891542],[125.827631,52.899123],[125.772197,52.89804],[125.751255,52.88143],[125.722306,52.880347],[125.678574,52.86084],[125.666871,52.869872],[125.665023,52.913561],[125.737088,52.943504],[125.742632,52.993964],[125.684118,53.00801],[125.643466,53.039686],[125.640386,53.06199],[125.613901,53.083564],[125.588647,53.081047],[125.530749,53.0512],[125.504263,53.061271],[125.503647,53.095424],[125.452524,53.107641],[125.343503,53.14463],[125.315786,53.144989],[125.252344,53.18051],[125.195062,53.198439],[125.142091,53.204175],[125.038613,53.202741],[124.970244,53.194137],[124.887708,53.164368],[124.909266,53.118059],[124.87231,53.099018],[124.832889,53.145347],[124.787926,53.140681],[124.734339,53.146783],[124.712165,53.162574],[124.720789,53.192344],[124.678905,53.207043],[124.590209,53.208476],[124.563108,53.201666],[124.496587,53.207759],[124.487348,53.217436],[124.435609,53.223886],[124.412203,53.248601],[124.375863,53.258984],[124.327819,53.331954],[124.239124,53.379817],[124.19416,53.37339],[124.125791,53.348033],[124.058038,53.404085],[124.01369,53.403371],[123.985973,53.434401],[123.865249,53.489627],[123.797495,53.489983],[123.746373,53.500308],[123.698329,53.498528],[123.668764,53.533756],[123.620721,53.550115],[123.58746,53.546915],[123.569598,53.505291],[123.53141,53.507071],[123.557895,53.531978],[123.546808,53.551537],[123.517243,53.558292],[123.490758,53.542648],[123.510468,53.509206],[123.499381,53.497816],[123.47228,53.509206],[123.454417,53.536602],[123.394055,53.538024],[123.309672,53.56078],[123.274563,53.563269],[123.231447,53.549404],[123.179092,53.509918],[123.137209,53.498172],[123.093477,53.508138],[123.052209,53.506715],[122.943804,53.483929],[122.894528,53.462914],[122.826775,53.457213],[122.763949,53.463626],[122.673406,53.459351],[122.608117,53.465408],[122.5379,53.453293],[122.496016,53.458638],[122.435038,53.444739],[122.37406,53.47467],[122.350038,53.505647],[122.266886,53.470039],[122.227466,53.461845],[122.161561,53.468614],[122.111054,53.426913],[122.077177,53.422277],[122.026054,53.428339],[121.875765,53.426556],[121.816019,53.41336],[121.754425,53.389454],[121.697758,53.392666],[121.589969,53.350891],[121.499426,53.337314],[121.504969,53.323018],[121.575802,53.29155],[121.615222,53.258984],[121.642324,53.262564],[121.679896,53.240722],[121.67928,53.199515],[121.660186,53.195213],[121.665114,53.170467],[121.722396,53.145706],[121.753193,53.147501],[121.784606,53.104408],[121.775367,53.089674],[121.817867,53.061631],[121.785838,53.018451],[121.715621,52.997926],[121.677432,52.948192],[121.66265,52.912478],[121.610295,52.892264],[121.604136,52.872401],[121.620766,52.853251],[121.591201,52.824693],[121.537614,52.801542],[121.511129,52.779104],[121.476636,52.772225],[121.455078,52.73528],[121.373158,52.683067],[121.309717,52.676173],[121.29247,52.651855],[121.237036,52.619167],[121.182217,52.59918],[121.225333,52.577364],[121.280151,52.586819],[121.323883,52.573727],[121.353448,52.534793],[121.411963,52.52205],[121.416274,52.499468],[121.474172,52.482706],[121.495114,52.484892],[121.519136,52.456821],[121.565331,52.460468],[121.590585,52.443326],[121.63986,52.44442],[121.678664,52.419973],[121.658338,52.3904],[121.715621,52.342894],[121.714389,52.318025],[121.769207,52.308147],[121.841272,52.282526],[121.901018,52.280695],[121.94783,52.298266],[121.976779,52.343626],[122.035909,52.377615],[122.040837,52.413038],[122.091344,52.427272],[122.080873,52.440407],[122.107358,52.452445],[122.142467,52.495096],[122.140003,52.510032],[122.168952,52.513674],[122.178191,52.48963],[122.207756,52.469218],[122.310618,52.475416],[122.326016,52.459374],[122.342031,52.414133],[122.367284,52.413768],[122.378987,52.395512],[122.419023,52.375057],[122.447356,52.394052],[122.484313,52.341432],[122.478153,52.29607],[122.560689,52.282526],[122.585943,52.266413],[122.67895,52.276667],[122.710979,52.256157],[122.76087,52.26678],[122.787355,52.252494],[122.766413,52.232705],[122.769493,52.179893],[122.73808,52.153464],[122.690653,52.140243],[122.629059,52.13657],[122.643841,52.111585],[122.625363,52.067459],[122.650616,52.058997],[122.664783,51.99861],[122.683877,51.974654],[122.726377,51.978709],[122.729457,51.919321],[122.706051,51.890151],[122.725761,51.87833],[122.732536,51.832495],[122.771957,51.779579],[122.749167,51.746613],[122.778732,51.698048],[122.816304,51.655371],[122.820616,51.633088],[122.85634,51.606707],[122.832935,51.581797],[122.874202,51.561339],[122.880362,51.537894],[122.858804,51.524864],[122.880362,51.511085],[122.854492,51.477551],[122.871123,51.455181],[122.900072,51.445112],[122.903768,51.415262],[122.946267,51.405183],[122.965977,51.386886],[122.965977,51.345786],[123.002934,51.31213],[123.069455,51.321108],[123.127969,51.297913],[123.231447,51.279199],[123.231447,51.268716],[123.294273,51.254111],[123.339853,51.27246],[123.376809,51.266844],[123.414381,51.278825],[123.440251,51.270963],[123.46304,51.286686],[123.582533,51.294545],[123.582533,51.306893],[123.661989,51.319237],[123.660141,51.342795],[123.711264,51.398089],[123.794416,51.361109],[123.842459,51.367462],[123.887423,51.320734],[123.926227,51.300532],[123.939777,51.313253],[123.994596,51.322604],[124.071588,51.320734],[124.090067,51.3413],[124.128255,51.347281],[124.192313,51.33943],[124.239124,51.344664],[124.271769,51.308389],[124.297638,51.298661],[124.339522,51.293422],[124.406659,51.272086],[124.430065,51.301281],[124.426985,51.331953],[124.443616,51.35812],[124.478108,51.36223],[124.490427,51.380537],[124.555717,51.375307],[124.58713,51.363725],[124.62655,51.327465],[124.693687,51.3327],[124.752817,51.35812],[124.76452,51.38726],[124.783614,51.392115],[124.864302,51.37979],[124.885244,51.40817],[124.942527,51.447349],[124.917889,51.474196],[124.928976,51.498419],[124.983795,51.508478],[125.004737,51.529332],[125.047236,51.529704],[125.073106,51.553526],[125.060171,51.59667],[125.098975,51.658341],[125.12854,51.659083],[125.130388,51.635317],[125.175968,51.639403],[125.214772,51.627888],[125.228938,51.640517],[125.289301,51.633831],[125.316402,51.610052],[125.35151,51.623801],[125.38046,51.585516],[125.424807,51.562827],[125.528285,51.488359],[125.559082,51.461521],[125.559082,51.461521],[125.595422,51.416755],[125.595422,51.416755],[125.60035,51.413396],[125.60035,51.413396],[125.600966,51.410409],[125.600966,51.410409],[125.62314,51.398089],[125.62314,51.398089],[125.623756,51.387633],[125.623756,51.387633],[125.626219,51.380163],[125.626219,51.380163],[125.700132,51.327465],[125.700132,51.327465],[125.740784,51.27583],[125.740784,51.27583],[125.76111,51.261976],[125.76111,51.261976],[125.761726,51.226385],[125.819008,51.227134],[125.850421,51.21364],[125.864588,51.146487],[125.909551,51.138977],[125.946508,51.108176],[125.970529,51.123955],[125.993935,51.119072],[125.976073,51.084498],[126.059225,51.043503],[126.033971,51.011132],[126.041978,50.981753],[126.068464,50.967434],[126.042594,50.92558],[126.02042,50.927466],[125.996399,50.906715],[125.997631,50.872738],[125.961906,50.901054],[125.939732,50.85423],[125.913247,50.825885],[125.878138,50.816812],[125.890457,50.805845],[125.836255,50.793363],[125.846726,50.769524],[125.828863,50.756654],[125.804226,50.773309],[125.758646,50.746809],[125.795603,50.738856],[125.78082,50.725598],[125.825784,50.70362],[125.789443,50.679735],[125.804226,50.658874],[125.793139,50.643316],[125.814697,50.62092],[125.807921,50.60383],[125.829479,50.56165],[125.794987,50.532748],[125.770349,50.531227],[125.754335,50.506874],[125.740784,50.523237],[125.699516,50.487078],[125.654553,50.471082],[125.627451,50.443268],[125.580024,50.449366],[125.562162,50.438314],[125.583104,50.409717],[125.567089,50.402852],[125.536292,50.420014],[125.522126,50.404759],[125.546763,50.358965],[125.520278,50.3498],[125.530749,50.331085],[125.463611,50.295925],[125.466075,50.266861],[125.442053,50.260357],[125.448829,50.216338],[125.417416,50.195654],[125.39093,50.199868],[125.382923,50.172278],[125.335496,50.161161],[125.376148,50.137385],[125.311474,50.140453],[125.27883,50.127411],[125.258504,50.103618],[125.287453,50.093636],[125.283757,50.070211],[125.328105,50.065985],[125.315786,50.04562],[125.289916,50.057917],[125.25296,50.041393],[125.283757,50.036012],[125.297924,50.014481],[125.278214,49.996402],[125.241873,49.987938],[125.231402,49.957531],[125.190134,49.959841],[125.199373,49.935194],[125.225859,49.922481],[125.212924,49.907452],[125.245569,49.87198],[125.225243,49.867351],[125.239409,49.844587],[125.177815,49.829533],[125.222779,49.799026],[125.221547,49.754969],[125.204301,49.734086],[125.225243,49.726349],[125.219699,49.669058],[125.185207,49.634574],[125.189518,49.652401],[125.164881,49.669446],[125.132236,49.672157],[125.127308,49.655113],[125.15441,49.616741],[125.16796,49.629923],[125.205533,49.593859],[125.23017,49.595411],[125.233866,49.536801],[125.211076,49.539908],[125.228323,49.487063],[125.270822,49.454395],[125.256656,49.437275],[125.25604,49.395227],[125.277598,49.379644],[125.256656,49.359769],[125.261583,49.322336],[125.214772,49.277066],[125.227707,49.248947],[125.219699,49.189139],[125.187671,49.186792],[125.158721,49.144921],[125.117453,49.126127],[125.034302,49.157056],[125.039845,49.17623],[124.983179,49.162535],[124.906802,49.184054],[124.860607,49.166448],[124.847672,49.129651],[124.809484,49.115943],[124.828578,49.077933],[124.808252,49.020666],[124.756513,48.967262],[124.744194,48.920487],[124.709086,48.920487],[124.715861,48.885475],[124.697383,48.841775],[124.654267,48.83429],[124.644412,48.80789],[124.656115,48.783842],[124.612383,48.747945],[124.624702,48.701755],[124.601912,48.632587],[124.579122,48.596582],[124.520608,48.556195],[124.548941,48.535593],[124.533543,48.515379],[124.555717,48.467784],[124.507674,48.445558],[124.52492,48.426897],[124.51876,48.378027],[124.547094,48.35775],[124.540934,48.335476],[124.579738,48.297269],[124.558796,48.268197],[124.579122,48.262221],[124.547094,48.200829],[124.512601,48.164518],[124.529847,48.146951],[124.505826,48.124985],[124.478108,48.123387],[124.46579,48.098213],[124.415899,48.08782],[124.430065,48.12099],[124.471333,48.133373],[124.475029,48.173698],[124.418978,48.181679],[124.412819,48.219175],[124.422058,48.245884],[124.365392,48.283731],[124.353689,48.315978],[124.317964,48.35099],[124.331515,48.380015],[124.309957,48.413393],[124.330283,48.435633],[124.302566,48.456673],[124.314269,48.503881],[124.25945,48.536385],[124.25945,48.536385],[124.136878,48.463023],[124.07898,48.43603],[124.019234,48.39313],[123.862785,48.271782],[123.746373,48.197638],[123.705105,48.152142],[123.579453,48.045427],[123.537569,48.021816],[123.300432,47.953723],[123.256085,47.876711],[123.214201,47.824502],[123.161846,47.781892],[123.041122,47.746492],[122.926557,47.697777],[122.848949,47.67441],[122.765181,47.614333],[122.59395,47.54732],[122.543443,47.495589],[122.507103,47.401291],[122.418407,47.350632],[122.441197,47.310476],[122.441197,47.310476],[122.462755,47.27841],[122.498479,47.255262],[122.531124,47.198771],[122.582863,47.158092],[122.582863,47.158092],[122.615508,47.124306],[122.679566,47.094164],[122.710363,47.093349],[122.710363,47.093349],[122.821232,47.065636],[122.852645,47.072158],[122.845869,47.046881],[122.778116,47.002822],[122.77442,46.973837],[122.798442,46.9575],[122.791051,46.941567],[122.83971,46.937072],[122.895144,46.960359],[122.893913,46.895376],[122.906847,46.80738],[122.996774,46.761483],[123.00355,46.730726],[123.026339,46.718829],[123.076846,46.745082],[123.103332,46.734828],[123.163694,46.74016],[123.198802,46.803283],[123.22344,46.821305],[123.221592,46.850373],[123.295505,46.865105],[123.341084,46.826628],[123.374345,46.837683],[123.40699,46.906416],[123.404526,46.935438],[123.360179,46.970978],[123.304128,46.964852],[123.301664,46.999965],[123.337389,46.988943],[123.42362,46.934212],[123.487678,46.959951],[123.52833,46.944836],[123.483366,46.84587],[123.506772,46.827038],[123.562823,46.82581],[123.575757,46.845461],[123.576989,46.891286],[123.605322,46.891286],[123.599163,46.868378],[123.625648,46.847508],[123.580069,46.827447],[123.629344,46.813524],[123.631808,46.728675],[123.603475,46.68928],[123.474743,46.686817],[123.366338,46.677784],[123.318295,46.662179],[123.276411,46.660947],[123.279491,46.616981],[123.228368,46.588198],[123.18094,46.614103],[123.098404,46.603002],[123.077462,46.622324],[123.04605,46.617803],[123.052825,46.579972],[123.002318,46.574624],[123.010325,46.524823],[123.011557,46.434984],[123.089781,46.347888],[123.142136,46.298293],[123.178476,46.248239],[123.248078,46.273065],[123.286266,46.250308],[123.320758,46.254447],[123.357099,46.232096],[123.357099,46.232096],[123.430396,46.243687],[123.452569,46.233338],[123.499381,46.259826],[123.569598,46.223816],[123.569598,46.223816]]]]}},{"type":"Feature","properties":{"adcode":310000,"name":"\u4E0A\u6D77\u5E02","center":[121.472644,31.231706],"centroid":[121.438737,31.072559],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":8,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[120.901349,31.017327],[120.940153,31.010146],[120.949392,31.030148],[120.989428,31.01425],[121.000515,30.938309],[120.993124,30.889532],[121.020225,30.872069],[120.991892,30.837133],[121.038087,30.814007],[121.060261,30.845354],[121.097833,30.857171],[121.13787,30.826342],[121.123087,30.77905],[121.174826,30.771851],[121.21671,30.785734],[121.232108,30.755909],[121.272144,30.723504],[121.274608,30.677191],[121.362071,30.679764],[121.426129,30.730192],[121.517288,30.775451],[121.601056,30.805269],[121.681128,30.818633],[121.904714,30.814007],[121.943518,30.776993],[121.970004,30.789333],[121.954605,30.825828],[121.994025,30.862823],[121.990945,30.96859],[121.977395,31.016301],[121.946598,31.066039],[121.809859,31.196669],[121.722396,31.3036],[121.599208,31.37465],[121.520984,31.394575],[121.404571,31.479337],[121.343593,31.511996],[121.301093,31.49873],[121.301093,31.49873],[121.247507,31.476785],[121.241963,31.493117],[121.174826,31.44922],[121.143413,31.392021],[121.113848,31.37465],[121.130478,31.343987],[121.142797,31.275472],[121.090442,31.291838],[121.060261,31.245289],[121.076892,31.158267],[121.018377,31.134194],[120.930298,31.141365],[120.881023,31.134706],[120.859465,31.100379],[120.890878,31.094229],[120.901349,31.017327]]],[[[121.974931,31.61704],[121.715005,31.673592],[121.64294,31.697527],[121.599824,31.703128],[121.49881,31.753012],[121.431673,31.769295],[121.384861,31.833382],[121.323267,31.868458],[121.265369,31.863883],[121.200079,31.834907],[121.118775,31.759119],[121.145261,31.75403],[121.289391,31.61653],[121.371926,31.553314],[121.395332,31.585437],[121.434136,31.590535],[121.547469,31.531382],[121.625693,31.501792],[121.682976,31.491075],[121.819098,31.437987],[121.890547,31.428795],[121.981706,31.464024],[121.995873,31.493117],[121.974931,31.61704]]],[[[121.795693,31.330186],[121.792613,31.363408],[121.742106,31.407345],[121.585657,31.454836],[121.567179,31.48342],[121.520984,31.494137],[121.509897,31.4824],[121.572107,31.435944],[121.727939,31.35472],[121.76428,31.31536],[121.785222,31.31127],[121.795693,31.330186]]],[[[121.801852,31.356765],[121.8037,31.328652],[121.840656,31.295418],[121.932431,31.283144],[122.016199,31.282121],[122.097503,31.255522],[122.122756,31.307179],[122.116597,31.320984],[122.040837,31.324051],[121.951525,31.337343],[121.845584,31.37465],[121.792613,31.377715],[121.801852,31.356765]]],[[[121.626925,31.445135],[121.631853,31.456878],[121.579498,31.479848],[121.626925,31.445135]]],[[[121.943518,31.215608],[121.959533,31.159291],[121.995873,31.160828],[122.008808,31.221238],[121.950909,31.228915],[121.943518,31.215608]]],[[[121.88254,31.240684],[121.909026,31.195133],[121.923808,31.234032],[121.88254,31.240684]]]]}},{"type":"Feature","properties":{"adcode":320000,"name":"\u6C5F\u82CF\u7701","center":[118.767413,32.041544],"centroid":[119.486506,32.983991],"childrenNum":13,"level":"province","parent":{"adcode":100000},"subFeatureIndex":9,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[117.311654,34.561686],[117.27285,34.556757],[117.303647,34.542463],[117.267923,34.532603],[117.27285,34.499565],[117.252524,34.48674],[117.248213,34.451216],[117.166293,34.434435],[117.139191,34.526687],[117.15151,34.559222],[117.104083,34.648874],[117.073286,34.639026],[117.061583,34.675947],[117.070206,34.713835],[117.022163,34.759081],[116.969192,34.771864],[116.95133,34.81069],[116.979047,34.815113],[116.966113,34.844588],[116.929156,34.843114],[116.922381,34.894671],[116.858323,34.928533],[116.821983,34.929515],[116.815823,34.965324],[116.789338,34.975133],[116.781331,34.916757],[116.677853,34.939327],[116.622418,34.939818],[116.613795,34.922645],[116.557745,34.908905],[116.445028,34.895652],[116.408071,34.850972],[116.403144,34.756131],[116.369267,34.749247],[116.363724,34.715311],[116.392057,34.710391],[116.374195,34.640011],[116.430245,34.650843],[116.432709,34.630163],[116.477057,34.614896],[116.490607,34.573513],[116.594085,34.511894],[116.592237,34.493646],[116.662454,34.472927],[116.722816,34.472434],[116.773939,34.453683],[116.782563,34.429993],[116.828142,34.389012],[116.909446,34.408271],[116.969192,34.389012],[116.960569,34.363821],[116.983359,34.348011],[116.969192,34.283753],[117.051112,34.221425],[117.025243,34.167469],[117.046801,34.151622],[117.123793,34.128342],[117.130568,34.101586],[117.192162,34.068873],[117.257452,34.065899],[117.277162,34.078787],[117.311654,34.067882],[117.357234,34.088205],[117.404045,34.03218],[117.435458,34.028212],[117.514914,34.060941],[117.543248,34.038627],[117.569117,33.985051],[117.612849,34.000433],[117.629479,34.028708],[117.671363,33.992494],[117.672595,33.934916],[117.715095,33.879287],[117.753899,33.891211],[117.759442,33.874318],[117.739732,33.758467],[117.72495,33.74951],[117.750203,33.710688],[117.791471,33.733585],[117.843826,33.736074],[117.901724,33.720146],[117.972557,33.74951],[118.019985,33.738562],[118.065564,33.76593],[118.117919,33.766427],[118.161035,33.735576],[118.16781,33.663381],[118.112376,33.617045],[118.117919,33.594615],[118.107448,33.475391],[118.050782,33.491863],[118.027376,33.455421],[118.016905,33.402978],[118.029224,33.374995],[117.992883,33.333005],[117.974405,33.279487],[117.939297,33.262475],[117.942376,33.224936],[117.977485,33.226437],[117.988572,33.180869],[118.037231,33.152314],[118.038463,33.134776],[118.149332,33.169348],[118.178281,33.217926],[118.217085,33.191888],[118.219549,33.114227],[118.243571,33.027967],[118.244803,32.998359],[118.26944,32.969242],[118.303933,32.96874],[118.291614,32.946143],[118.252194,32.936601],[118.2331,32.914498],[118.250346,32.848157],[118.301469,32.846145],[118.300237,32.783275],[118.334114,32.761637],[118.363063,32.770695],[118.375382,32.718849],[118.411106,32.715828],[118.450526,32.743518],[118.483787,32.721367],[118.560163,32.729926],[118.572482,32.719856],[118.642699,32.744525],[118.707373,32.72036],[118.756648,32.737477],[118.73817,32.772708],[118.743097,32.853184],[118.743097,32.853184],[118.810235,32.853687],[118.821322,32.920527],[118.846575,32.922034],[118.849039,32.956689],[118.89585,32.957694],[118.89585,32.957694],[118.892771,32.941121],[118.934039,32.93861],[118.993169,32.958196],[119.020886,32.955685],[119.054763,32.8748],[119.113277,32.823014],[119.184726,32.825529],[119.211827,32.708275],[119.208748,32.641276],[119.230921,32.607001],[119.22045,32.576748],[119.152697,32.557582],[119.168096,32.536394],[119.142226,32.499556],[119.084944,32.452602],[119.041212,32.515201],[118.975923,32.505108],[118.922336,32.557078],[118.92172,32.557078],[118.922336,32.557078],[118.92172,32.557078],[118.890923,32.553042],[118.908169,32.59238],[118.84288,32.56767],[118.820706,32.60448],[118.784981,32.582295],[118.757264,32.603976],[118.73509,32.58885],[118.719076,32.614059],[118.719076,32.614059],[118.688895,32.588346],[118.658714,32.594397],[118.632844,32.578261],[118.59712,32.600951],[118.568787,32.585825],[118.564475,32.562122],[118.608823,32.536899],[118.592192,32.481383],[118.628533,32.467751],[118.691359,32.472295],[118.685199,32.403604],[118.703061,32.328792],[118.657482,32.30148],[118.674728,32.250375],[118.643931,32.209875],[118.510888,32.194176],[118.49549,32.165304],[118.501033,32.121726],[118.433896,32.086746],[118.394476,32.076098],[118.389548,31.985281],[118.363679,31.930443],[118.472084,31.879639],[118.466541,31.857784],[118.504729,31.841516],[118.481939,31.778453],[118.533678,31.76726],[118.521975,31.743343],[118.5577,31.73011],[118.571866,31.746397],[118.641467,31.75861],[118.653786,31.73011],[118.697518,31.709747],[118.643315,31.671555],[118.643315,31.649651],[118.736322,31.633347],[118.748025,31.675629],[118.773894,31.682759],[118.802844,31.619078],[118.858894,31.623665],[118.881684,31.564023],[118.885995,31.519139],[118.883532,31.500261],[118.852119,31.393553],[118.824401,31.375672],[118.767735,31.363919],[118.745561,31.372606],[118.720924,31.322518],[118.726467,31.282121],[118.756648,31.279564],[118.794836,31.229426],[118.870597,31.242219],[118.984546,31.237102],[119.014727,31.241707],[119.10527,31.235055],[119.107118,31.250917],[119.158241,31.294907],[119.197661,31.295418],[119.198277,31.270357],[119.266646,31.250405],[119.294363,31.263195],[119.338095,31.259103],[119.350414,31.301043],[119.374435,31.258591],[119.360269,31.213049],[119.391682,31.174142],[119.439109,31.177214],[119.461283,31.156219],[119.532732,31.159291],[119.599869,31.10909],[119.623891,31.130096],[119.678093,31.167997],[119.705811,31.152634],[119.715666,31.169533],[119.779723,31.17875],[119.809904,31.148536],[119.827151,31.174142],[119.878274,31.160828],[119.921389,31.170045],[119.946027,31.106016],[119.988527,31.059375],[120.001461,31.027071],[120.052584,31.00553],[120.111099,30.955761],[120.149903,30.937283],[120.223816,30.926502],[120.316206,30.933689],[120.371025,30.948575],[120.35809,30.886964],[120.42338,30.902884],[120.435083,30.920855],[120.441858,30.860768],[120.460336,30.839702],[120.489285,30.763624],[120.504684,30.757967],[120.563814,30.835592],[120.589684,30.854089],[120.654973,30.846896],[120.68269,30.882342],[120.713487,30.88491],[120.709176,30.933176],[120.684538,30.955247],[120.698089,30.970643],[120.746132,30.962432],[120.770154,30.996809],[120.820661,31.006556],[120.865624,30.989627],[120.901349,31.017327],[120.890878,31.094229],[120.859465,31.100379],[120.881023,31.134706],[120.930298,31.141365],[121.018377,31.134194],[121.076892,31.158267],[121.060261,31.245289],[121.090442,31.291838],[121.142797,31.275472],[121.130478,31.343987],[121.113848,31.37465],[121.143413,31.392021],[121.174826,31.44922],[121.241963,31.493117],[121.247507,31.476785],[121.301093,31.49873],[121.301093,31.49873],[121.343593,31.511996],[121.371926,31.553314],[121.289391,31.61653],[121.145261,31.75403],[121.118775,31.759119],[121.200079,31.834907],[121.265369,31.863883],[121.323267,31.868458],[121.384861,31.833382],[121.431673,31.769295],[121.49881,31.753012],[121.599824,31.703128],[121.64294,31.697527],[121.715005,31.673592],[121.974931,31.61704],[121.970004,31.718911],[121.889315,31.866425],[121.856055,31.955328],[121.772287,32.032984],[121.759352,32.059362],[121.525295,32.136423],[121.542542,32.152132],[121.458774,32.177462],[121.499426,32.211394],[121.493882,32.263533],[121.450151,32.282256],[121.425513,32.430885],[121.390405,32.460682],[121.352216,32.474315],[121.269681,32.483402],[121.153268,32.52933],[121.121855,32.569183],[121.076892,32.576243],[121.020225,32.605489],[120.961711,32.612042],[120.979573,32.636236],[120.963559,32.68259],[120.916131,32.701225],[120.953088,32.714318],[120.972182,32.761134],[120.981421,32.85972],[120.957399,32.893395],[120.932762,33.005887],[120.917979,33.02596],[120.871784,33.047032],[120.874247,33.093672],[120.843451,33.209915],[120.819429,33.237951],[120.833595,33.274984],[120.813885,33.303499],[120.769538,33.307],[120.741205,33.337505],[120.717183,33.436945],[120.680227,33.520306],[120.622944,33.615051],[120.611241,33.627012],[120.583524,33.668362],[120.534249,33.782346],[120.48559,33.859411],[120.367329,34.091674],[120.347619,34.179352],[120.314359,34.255563],[120.311895,34.306991],[120.103707,34.391481],[119.962657,34.459112],[119.811752,34.485754],[119.781571,34.515839],[119.641137,34.569078],[119.610956,34.592729],[119.569072,34.615389],[119.465594,34.672994],[119.525956,34.73351],[119.456971,34.748264],[119.381827,34.752198],[119.494543,34.754656],[119.497007,34.754164],[119.439725,34.785136],[119.440957,34.769406],[119.378747,34.764489],[119.312841,34.774813],[119.272189,34.797914],[119.238313,34.799388],[119.217371,34.827886],[119.202588,34.890253],[119.214907,34.925589],[119.211211,34.981507],[119.238313,35.048657],[119.285124,35.068252],[119.291899,35.028567],[119.307298,35.032977],[119.292515,35.068742],[119.306066,35.076578],[119.286972,35.115261],[119.250016,35.124562],[119.217371,35.106939],[119.137915,35.096167],[119.114509,35.055026],[119.027045,35.055516],[118.942662,35.040817],[118.928495,35.051106],[118.86259,35.025626],[118.860742,34.944233],[118.805307,34.87307],[118.80038,34.843114],[118.772047,34.794474],[118.739402,34.792508],[118.719076,34.745313],[118.764039,34.740396],[118.783749,34.723181],[118.739402,34.693663],[118.690127,34.678408],[118.664257,34.693663],[118.607591,34.694155],[118.601431,34.714327],[118.545997,34.705964],[118.460997,34.656258],[118.473932,34.623269],[118.439439,34.626223],[118.424657,34.595193],[118.439439,34.507949],[118.416034,34.473914],[118.404947,34.427525],[118.379693,34.415183],[118.290382,34.424563],[118.277447,34.404814],[118.220165,34.405802],[118.217701,34.379134],[118.179513,34.379628],[118.177665,34.45319],[118.132702,34.483287],[118.16473,34.50499],[118.185056,34.543942],[118.079115,34.569571],[118.114839,34.614404],[118.084042,34.655766],[118.053861,34.650843],[117.951615,34.678408],[117.909732,34.670533],[117.902956,34.644443],[117.793935,34.651827],[117.791471,34.583368],[117.801942,34.518798],[117.684298,34.547392],[117.659044,34.501044],[117.609769,34.490686],[117.592523,34.462566],[117.53832,34.467006],[117.465023,34.484767],[117.402813,34.550843],[117.402813,34.569571],[117.370785,34.584846],[117.325205,34.573021],[117.325205,34.573021],[117.32151,34.566614],[117.32151,34.566614],[117.311654,34.561686],[117.311654,34.561686]]]]}},{"type":"Feature","properties":{"adcode":330000,"name":"\u6D59\u6C5F\u7701","center":[120.153576,30.287459],"centroid":[120.109913,29.181466],"childrenNum":11,"level":"province","parent":{"adcode":100000},"subFeatureIndex":10,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[118.433896,28.288335],[118.444367,28.253548],[118.490562,28.238259],[118.493026,28.262509],[118.588497,28.282538],[118.595272,28.258292],[118.651322,28.277267],[118.674728,28.27147],[118.699366,28.309939],[118.719692,28.312047],[118.756032,28.252493],[118.802228,28.240368],[118.804075,28.207675],[118.771431,28.188687],[118.805923,28.154923],[118.802228,28.117453],[118.767735,28.10584],[118.719076,28.063601],[118.733858,28.027684],[118.730163,27.970615],[118.753568,27.947885],[118.818242,27.916689],[118.829329,27.847921],[118.873677,27.733563],[118.879836,27.667859],[118.913713,27.619616],[118.909401,27.568168],[118.869365,27.540047],[118.907553,27.460952],[118.955597,27.4498],[118.986393,27.47582],[118.983314,27.498649],[119.020886,27.498118],[119.03998,27.478475],[119.092335,27.466262],[119.129907,27.475289],[119.121284,27.438115],[119.14777,27.424836],[119.224146,27.416868],[119.26911,27.42218],[119.285124,27.457766],[119.334399,27.480067],[119.360269,27.524657],[119.416935,27.539517],[119.438493,27.508734],[119.466826,27.526249],[119.501935,27.610601],[119.501319,27.649837],[119.541971,27.666799],[119.606028,27.674749],[119.644217,27.663619],[119.626354,27.620676],[119.630666,27.582491],[119.675014,27.574534],[119.659615,27.540578],[119.690412,27.537394],[119.70889,27.514042],[119.703347,27.446613],[119.685485,27.438646],[119.711354,27.403054],[119.750774,27.373829],[119.739687,27.362668],[119.782187,27.330241],[119.768636,27.307909],[119.843165,27.300464],[119.938636,27.329709],[119.960194,27.365857],[120.008237,27.375423],[120.026099,27.344063],[120.052584,27.338747],[120.096316,27.390302],[120.136968,27.402523],[120.134504,27.420055],[120.221352,27.420055],[120.26262,27.432804],[120.273091,27.38924],[120.340844,27.399867],[120.343924,27.363199],[120.430155,27.258976],[120.401822,27.250996],[120.404286,27.204166],[120.461568,27.142407],[120.492365,27.136016],[120.545952,27.156785],[120.574901,27.234501],[120.554575,27.25206],[120.580444,27.321203],[120.665444,27.357884],[120.673451,27.420055],[120.703016,27.478475],[120.637111,27.561271],[120.634647,27.577186],[120.685154,27.622797],[120.709176,27.682699],[120.771386,27.734623],[120.777545,27.774873],[120.809574,27.775402],[120.840371,27.758986],[120.910588,27.864852],[120.942001,27.896592],[120.97403,27.887071],[121.027616,27.832574],[121.070116,27.834162],[121.107688,27.81352],[121.152036,27.815638],[121.134174,27.787051],[121.13479,27.787051],[121.149572,27.801345],[121.149572,27.801875],[121.153268,27.809815],[121.152652,27.810344],[121.192072,27.822518],[121.193304,27.872259],[121.162507,27.879136],[121.162507,27.90717],[121.099681,27.895005],[121.05595,27.900294],[120.991892,27.95],[121.015298,27.981714],[121.059029,28.096338],[121.108304,28.139092],[121.121239,28.12537],[121.140949,28.031382],[121.176058,28.022401],[121.261057,28.034551],[121.299862,28.067297],[121.328195,28.134343],[121.373774,28.133287],[121.402107,28.197127],[121.45631,28.250385],[121.488955,28.301509],[121.538846,28.299401],[121.571491,28.279376],[121.580114,28.240368],[121.627541,28.251966],[121.669425,28.33312],[121.660186,28.355768],[121.634317,28.347868],[121.658954,28.392628],[121.692831,28.407368],[121.671273,28.472621],[121.646019,28.511544],[121.634317,28.562542],[121.596128,28.575156],[121.557324,28.645033],[121.540694,28.655537],[121.646019,28.682842],[121.689135,28.719062],[121.704534,28.804577],[121.687287,28.863294],[121.774751,28.863818],[121.772287,28.898404],[121.743338,28.954451],[121.711309,28.985865],[121.712541,29.028783],[121.658954,29.058606],[121.660186,29.118226],[121.616454,29.143318],[121.608447,29.168927],[121.715621,29.125022],[121.750113,29.136523],[121.767975,29.166837],[121.780294,29.10986],[121.811091,29.10986],[121.85975,29.086328],[121.884388,29.105677],[121.966308,29.052852],[121.970004,29.092604],[121.988482,29.110906],[121.986634,29.154817],[121.948446,29.193485],[121.971851,29.193485],[121.966924,29.249894],[122.002032,29.260336],[122.000185,29.278608],[121.94475,29.28435],[121.958301,29.334448],[121.936127,29.348012],[121.937975,29.384],[121.975547,29.411113],[121.993409,29.45229],[121.973083,29.477821],[121.968772,29.515846],[121.995257,29.545007],[122.000185,29.582486],[121.966308,29.636078],[121.909641,29.650122],[121.872685,29.632437],[121.833265,29.653242],[121.937359,29.748373],[122.003264,29.762401],[122.043916,29.822647],[122.10243,29.859504],[122.143082,29.877668],[122.140003,29.901535],[122.00696,29.891678],[122.00388,29.92021],[121.971235,29.955476],[121.919497,29.920729],[121.835113,29.958068],[121.78399,29.99332],[121.721164,29.992802],[121.699606,30.007832],[121.652795,30.071037],[121.635548,30.070002],[121.561636,30.184395],[121.497578,30.258861],[121.395332,30.338435],[121.371926,30.37097],[121.328195,30.397299],[121.225333,30.404526],[121.183449,30.434458],[121.092906,30.515952],[121.058413,30.563888],[121.148956,30.599953],[121.188992,30.632916],[121.239499,30.648878],[121.274608,30.677191],[121.272144,30.723504],[121.232108,30.755909],[121.21671,30.785734],[121.174826,30.771851],[121.123087,30.77905],[121.13787,30.826342],[121.097833,30.857171],[121.060261,30.845354],[121.038087,30.814007],[120.991892,30.837133],[121.020225,30.872069],[120.993124,30.889532],[121.000515,30.938309],[120.989428,31.01425],[120.949392,31.030148],[120.940153,31.010146],[120.901349,31.017327],[120.865624,30.989627],[120.820661,31.006556],[120.770154,30.996809],[120.746132,30.962432],[120.698089,30.970643],[120.684538,30.955247],[120.709176,30.933176],[120.713487,30.88491],[120.68269,30.882342],[120.654973,30.846896],[120.589684,30.854089],[120.563814,30.835592],[120.504684,30.757967],[120.489285,30.763624],[120.460336,30.839702],[120.441858,30.860768],[120.435083,30.920855],[120.42338,30.902884],[120.35809,30.886964],[120.371025,30.948575],[120.316206,30.933689],[120.223816,30.926502],[120.149903,30.937283],[120.111099,30.955761],[120.052584,31.00553],[120.001461,31.027071],[119.988527,31.059375],[119.946027,31.106016],[119.921389,31.170045],[119.878274,31.160828],[119.827151,31.174142],[119.809904,31.148536],[119.779723,31.17875],[119.715666,31.169533],[119.705811,31.152634],[119.678093,31.167997],[119.623891,31.130096],[119.649144,31.104991],[119.629434,31.085517],[119.633746,31.019379],[119.580159,30.967051],[119.582007,30.932149],[119.563529,30.919315],[119.557369,30.874124],[119.575847,30.829939],[119.55429,30.825828],[119.527188,30.77905],[119.479761,30.772365],[119.482841,30.704467],[119.444652,30.650422],[119.408312,30.645274],[119.39045,30.685941],[119.343022,30.664322],[119.323312,30.630341],[119.238929,30.609225],[119.265414,30.574709],[119.237081,30.546881],[119.272189,30.510281],[119.326392,30.532964],[119.336247,30.508734],[119.335015,30.448389],[119.36766,30.38491],[119.402768,30.374584],[119.349182,30.349281],[119.326392,30.372002],[119.277117,30.341018],[119.246936,30.341018],[119.236465,30.297106],[119.201356,30.290905],[119.126828,30.304856],[119.091719,30.323972],[119.06277,30.304856],[118.988857,30.332237],[118.954365,30.360126],[118.880452,30.31519],[118.877988,30.282637],[118.905089,30.216464],[118.929727,30.2025],[118.852735,30.166805],[118.852119,30.149729],[118.895234,30.148694],[118.873677,30.11505],[118.878604,30.064822],[118.902626,30.029078],[118.894619,29.937845],[118.838568,29.934733],[118.841032,29.891159],[118.740634,29.814859],[118.744945,29.73902],[118.700598,29.706277],[118.647011,29.64336],[118.61991,29.654282],[118.573714,29.638159],[118.532446,29.588731],[118.500417,29.57572],[118.496106,29.519492],[118.381541,29.504909],[118.347664,29.474174],[118.329802,29.495012],[118.306396,29.479384],[118.316252,29.422581],[118.248498,29.431443],[118.193064,29.395472],[118.205382,29.343839],[118.166578,29.314099],[118.178281,29.297921],[118.138861,29.283828],[118.077883,29.290614],[118.073571,29.216993],[118.042159,29.210202],[118.027992,29.167882],[118.045238,29.149068],[118.037847,29.102017],[118.076035,29.074822],[118.066796,29.053898],[118.097593,28.998952],[118.115455,29.009944],[118.115455,29.009944],[118.133933,28.983771],[118.165346,28.986912],[118.227556,28.942406],[118.195527,28.904167],[118.270056,28.918836],[118.300237,28.826075],[118.364295,28.813491],[118.403099,28.702791],[118.428352,28.681267],[118.428352,28.617193],[118.428352,28.617193],[118.412338,28.55676],[118.4302,28.515225],[118.414802,28.497344],[118.474548,28.478934],[118.456686,28.424738],[118.432048,28.402104],[118.455454,28.384204],[118.480091,28.327325],[118.433896,28.288335]]],[[[122.163408,29.988137],[122.239785,29.962735],[122.279205,29.937326],[122.322321,29.940438],[122.341415,29.976733],[122.343879,30.020269],[122.310002,30.039958],[122.290908,30.074663],[122.301379,30.086574],[122.293988,30.100554],[122.152938,30.113497],[122.095655,30.158008],[122.048844,30.147141],[121.955221,30.183878],[121.934895,30.161631],[121.983554,30.100554],[121.989714,30.077252],[121.978011,30.059125],[122.027902,29.991247],[122.106742,30.005759],[122.118445,29.986582],[122.163408,29.988137]]],[[[122.213915,30.186464],[122.178807,30.199396],[122.152938,30.19112],[122.143698,30.163183],[122.168336,30.138343],[122.213915,30.186464]]],[[[122.229314,29.711995],[122.210836,29.700559],[122.269966,29.685482],[122.231162,29.710435],[122.229314,29.711995]]],[[[122.427646,30.738422],[122.427031,30.697777],[122.532972,30.696748],[122.528045,30.725047],[122.475074,30.714243],[122.445509,30.745109],[122.427646,30.738422]]],[[[122.162793,30.329654],[122.058083,30.291938],[122.154169,30.244903],[122.231778,30.234562],[122.247176,30.30124],[122.228082,30.329654],[122.191126,30.329654],[122.176343,30.351863],[122.162793,30.329654]]],[[[122.317393,30.249556],[122.277973,30.242835],[122.358661,30.236113],[122.365437,30.255242],[122.417175,30.238699],[122.40732,30.272817],[122.333408,30.272817],[122.317393,30.249556]]],[[[122.026054,29.178333],[122.013119,29.151681],[122.056851,29.158476],[122.075945,29.176243],[122.036525,29.20759],[122.026054,29.178333]]],[[[122.372212,29.893234],[122.386379,29.834069],[122.415944,29.828877],[122.401777,29.869884],[122.433806,29.883376],[122.43319,29.919173],[122.411632,29.951846],[122.398081,29.9394],[122.351886,29.959105],[122.330944,29.937845],[122.338951,29.911911],[122.353734,29.89946],[122.362973,29.894272],[122.372212,29.893234]]],[[[122.43011,30.408655],[122.432574,30.445294],[122.37406,30.461802],[122.277973,30.471603],[122.281669,30.418461],[122.318625,30.407106],[122.352502,30.422074],[122.43011,30.408655]]],[[[121.837577,28.770484],[121.86283,28.782024],[121.861598,28.814016],[121.837577,28.770484]]],[[[122.265038,29.84549],[122.221307,29.832512],[122.248408,29.804473],[122.310002,29.766557],[122.325401,29.781621],[122.299531,29.819532],[122.319241,29.829397],[122.265038,29.84549]]],[[[121.790765,29.082144],[121.832649,29.050236],[121.84312,29.082144],[121.82033,29.099402],[121.790765,29.082144]]],[[[121.201311,27.623328],[121.197616,27.618025],[121.198848,27.616964],[121.203775,27.625979],[121.201311,27.623328]]],[[[121.943518,30.776993],[121.968156,30.688514],[121.997105,30.658659],[122.087032,30.602014],[122.133227,30.595317],[122.075329,30.647848],[122.011271,30.66947],[121.992793,30.695204],[121.987866,30.753338],[121.970004,30.789333],[121.943518,30.776993]]],[[[121.889315,28.471569],[121.918881,28.497344],[121.881924,28.502603],[121.889315,28.471569]]],[[[122.182503,29.650642],[122.211452,29.692241],[122.200365,29.712515],[122.146778,29.749412],[122.13138,29.788893],[122.083952,29.78318],[122.047612,29.719791],[122.074097,29.701599],[122.095655,29.716673],[122.138155,29.662083],[122.182503,29.650642]]],[[[122.461523,29.944068],[122.459675,29.944586],[122.460291,29.947179],[122.451668,29.943031],[122.451052,29.940956],[122.450436,29.940956],[122.449204,29.9394],[122.4529,29.936807],[122.452284,29.935252],[122.45598,29.926435],[122.457827,29.927472],[122.462755,29.927991],[122.467067,29.928509],[122.459059,29.938882],[122.461523,29.944068]]],[[[122.570544,30.644244],[122.559457,30.679764],[122.546523,30.651967],[122.570544,30.644244]]],[[[121.869605,28.423685],[121.910873,28.44],[121.889931,28.45105],[121.869605,28.423685]]],[[[122.065474,30.179739],[122.055619,30.200431],[122.017431,30.186464],[122.025438,30.161631],[122.065474,30.179739]]],[[[122.391306,29.970512],[122.411632,30.025969],[122.378371,30.023896],[122.3679,29.980361],[122.391306,29.970512]]],[[[121.850511,29.977251],[121.874533,29.964809],[121.933047,29.994875],[121.924424,30.052391],[121.88562,30.094859],[121.848663,30.101072],[121.84004,30.047211],[121.844968,29.982953],[121.850511,29.977251]]],[[[121.066421,27.478475],[121.066421,27.461483],[121.107073,27.443958],[121.067036,27.478475],[121.066421,27.478475]]],[[[121.952141,29.187738],[121.979243,29.160043],[121.976779,29.191918],[121.952141,29.187738]]],[[[122.038373,29.759284],[122.011271,29.746294],[122.02975,29.716673],[122.038373,29.759284]]],[[[121.940438,30.114533],[121.910257,30.089163],[121.945982,30.064304],[121.962612,30.106249],[121.940438,30.114533]]],[[[121.957685,30.287804],[122.0008,30.308473],[121.989098,30.339985],[121.94167,30.33327],[121.921344,30.30744],[121.957685,30.287804]]],[[[122.192974,29.965327],[122.163408,29.988137],[122.152322,29.97103],[122.154169,29.97103],[122.155401,29.970512],[122.18435,29.955476],[122.192974,29.965327]]],[[[122.287828,29.723949],[122.301379,29.748373],[122.258263,29.753569],[122.241633,29.784738],[122.2133,29.771752],[122.251488,29.731225],[122.287828,29.723949]]],[[[121.134174,27.787051],[121.134174,27.785992],[121.13479,27.787051],[121.134174,27.787051]]],[[[122.760254,30.141966],[122.784275,30.130062],[122.781196,30.13265],[122.778116,30.13679],[122.770725,30.138861],[122.763333,30.141966],[122.762101,30.142484],[122.760254,30.141966]]],[[[122.264423,30.269716],[122.253952,30.237147],[122.315545,30.250073],[122.300147,30.271266],[122.264423,30.269716]]],[[[122.282901,29.860542],[122.30877,29.849642],[122.343263,29.860542],[122.343263,29.882857],[122.301379,29.883895],[122.282901,29.860542]]],[[[122.781196,30.694175],[122.799674,30.716301],[122.778732,30.729677],[122.757174,30.713728],[122.781196,30.694175]]],[[[121.098449,27.937311],[121.152652,27.961629],[121.120623,27.986471],[121.0695,27.984357],[121.038087,27.948942],[121.098449,27.937311]]],[[[121.185913,27.963215],[121.237652,27.988056],[121.197616,28.000739],[121.17113,27.978543],[121.185913,27.963215]]],[[[122.454132,29.956513],[122.447972,29.955994],[122.445509,29.952365],[122.446741,29.951327],[122.447972,29.947698],[122.459059,29.950809],[122.458443,29.951846],[122.455364,29.955994],[122.454132,29.956513]]],[[[122.836014,30.698806],[122.831087,30.728648],[122.807681,30.714243],[122.836014,30.698806]]],[[[122.200365,29.969475],[122.233626,29.946661],[122.273662,29.93214],[122.239785,29.960142],[122.200365,29.969475]]],[[[122.029134,29.954957],[122.043916,29.930584],[122.058699,29.955994],[122.029134,29.954957]]],[[[121.044247,27.979072],[121.089826,27.998625],[121.073812,28.007608],[121.044247,27.979072]]],[[[122.471378,29.927472],[122.470762,29.925916],[122.473226,29.925397],[122.47261,29.927472],[122.471378,29.927472]]],[[[122.152322,29.97103],[122.155401,29.970512],[122.154169,29.97103],[122.152322,29.97103]]]]}},{"type":"Feature","properties":{"adcode":340000,"name":"\u5B89\u5FBD\u7701","center":[117.283042,31.86119],"centroid":[117.226884,31.849254],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":11,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[116.599629,34.014324],[116.641512,33.978103],[116.64336,33.896675],[116.631042,33.887733],[116.566984,33.9081],[116.558361,33.881274],[116.486296,33.869846],[116.437637,33.846489],[116.437021,33.801246],[116.408071,33.805721],[116.393905,33.782843],[116.316912,33.771402],[116.263326,33.730101],[116.230065,33.735078],[116.155536,33.709693],[116.132747,33.751501],[116.100102,33.782843],[116.074232,33.781351],[116.055754,33.804727],[116.05945,33.860902],[115.982457,33.917039],[116.00032,33.965199],[115.95782,34.007875],[115.904233,34.009859],[115.876516,34.028708],[115.877132,34.002913],[115.85003,34.004898],[115.846335,34.028708],[115.809378,34.062428],[115.768726,34.061932],[115.736082,34.076805],[115.705901,34.059949],[115.658473,34.061437],[115.642459,34.03218],[115.60735,34.030196],[115.579017,33.974133],[115.577785,33.950307],[115.547604,33.874815],[115.631988,33.869846],[115.614126,33.775879],[115.576553,33.787817],[115.563003,33.772895],[115.601807,33.718653],[115.601191,33.658898],[115.639995,33.585143],[115.564851,33.576169],[115.511264,33.55323],[115.463837,33.567193],[115.422569,33.557219],[115.394851,33.506335],[115.366518,33.5233],[115.345576,33.502842],[115.345576,33.449928],[115.324634,33.457418],[115.315395,33.431451],[115.328946,33.403477],[115.313547,33.376994],[115.341881,33.370997],[115.365286,33.336005],[115.361591,33.298497],[115.335105,33.297997],[115.340033,33.260973],[115.300613,33.204407],[115.303692,33.149809],[115.289526,33.131769],[115.245178,33.135778],[115.194671,33.120743],[115.168186,33.088658],[115.041302,33.086653],[114.990795,33.102195],[114.966158,33.147304],[114.932897,33.153817],[114.902716,33.129764],[114.897172,33.086653],[114.913187,33.083143],[114.925506,33.016928],[114.891629,33.020441],[114.883006,32.990328],[114.916266,32.971251],[114.943368,32.935094],[115.009273,32.940117],[115.035143,32.932582],[115.029599,32.906962],[115.139237,32.897917],[115.155867,32.864747],[115.197135,32.856201],[115.189744,32.812452],[115.211301,32.785791],[115.189744,32.770695],[115.179273,32.726402],[115.182968,32.666973],[115.20083,32.591876],[115.24333,32.593388],[115.267352,32.578261],[115.30554,32.583303],[115.304924,32.553042],[115.411482,32.575235],[115.409018,32.549007],[115.497713,32.492489],[115.5088,32.468761],[115.510648,32.468761],[115.510648,32.468256],[115.510648,32.467751],[115.509416,32.466741],[115.522967,32.441997],[115.57101,32.419266],[115.604271,32.425833],[115.626445,32.40512],[115.657857,32.428864],[115.667712,32.409667],[115.704669,32.495013],[115.742241,32.476335],[115.771806,32.505108],[115.789052,32.468761],[115.861117,32.537403],[115.891298,32.576243],[115.910393,32.567165],[115.8759,32.542448],[115.845719,32.501575],[115.883291,32.487946],[115.865429,32.458662],[115.899306,32.390971],[115.912856,32.227596],[115.941805,32.166318],[115.922095,32.049725],[115.928871,32.003046],[115.909161,31.94314],[115.920248,31.920285],[115.894994,31.8649],[115.893762,31.832365],[115.914704,31.814567],[115.886371,31.776418],[115.851878,31.786593],[115.808147,31.770313],[115.808147,31.770313],[115.767495,31.78761],[115.731154,31.76726],[115.676336,31.778453],[115.553764,31.69549],[115.534054,31.698545],[115.495249,31.673083],[115.476771,31.643028],[115.485394,31.608885],[115.439815,31.588496],[115.415793,31.525771],[115.371446,31.495668],[115.389924,31.450241],[115.373909,31.405813],[115.393004,31.389977],[115.372062,31.349098],[115.40717,31.337854],[115.443511,31.344498],[115.473076,31.265242],[115.507568,31.267799],[115.539597,31.231985],[115.540213,31.194621],[115.585793,31.143926],[115.603655,31.17363],[115.655394,31.211002],[115.700973,31.201276],[115.778582,31.112164],[115.797676,31.128047],[115.837712,31.127022],[115.867277,31.147512],[115.887603,31.10909],[115.939958,31.071678],[115.938726,31.04707],[116.006479,31.034764],[116.015102,31.011685],[116.058834,31.012711],[116.071769,30.956787],[116.03974,30.957813],[115.976298,30.931636],[115.932566,30.889532],[115.865429,30.864364],[115.848799,30.828397],[115.863581,30.815549],[115.851262,30.756938],[115.782893,30.751795],[115.762567,30.685426],[115.81369,30.637035],[115.819234,30.597893],[115.848799,30.602014],[115.876516,30.582438],[115.887603,30.542758],[115.910393,30.519046],[115.894994,30.452517],[115.921479,30.416397],[115.885139,30.379747],[115.91532,30.337919],[115.903001,30.31364],[115.985537,30.290905],[115.997856,30.252657],[116.065609,30.204569],[116.055754,30.180774],[116.088399,30.110391],[116.078544,30.062233],[116.091479,30.036331],[116.073616,29.969993],[116.128435,29.897904],[116.13521,29.819532],[116.172783,29.828358],[116.227601,29.816936],[116.250391,29.785777],[116.280572,29.788893],[116.342782,29.835626],[116.467818,29.896347],[116.525716,29.897385],[116.552201,29.909836],[116.585462,30.045657],[116.620571,30.073109],[116.666766,30.076734],[116.720353,30.053945],[116.747454,30.057053],[116.783794,30.030632],[116.802889,29.99643],[116.830606,30.004723],[116.83307,29.95755],[116.868794,29.980361],[116.900207,29.949253],[116.882961,29.893753],[116.780715,29.792529],[116.762237,29.802396],[116.673541,29.709916],[116.698795,29.707836],[116.70557,29.69692],[116.706802,29.6964],[116.704954,29.688602],[116.680317,29.681323],[116.651983,29.637118],[116.716657,29.590813],[116.721585,29.564789],[116.760389,29.599139],[116.780715,29.569994],[116.849084,29.57624],[116.873722,29.609546],[116.939627,29.648561],[116.974736,29.657403],[116.996294,29.683403],[117.041873,29.680803],[117.112706,29.711995],[117.108395,29.75201],[117.136728,29.775388],[117.123177,29.798761],[117.073286,29.831992],[117.127489,29.86158],[117.129952,29.89946],[117.171836,29.920729],[117.2168,29.926953],[117.246365,29.915023],[117.261763,29.880781],[117.25314,29.834588],[117.29256,29.822647],[117.338756,29.848085],[117.359082,29.812782],[117.382487,29.840818],[117.415132,29.85068],[117.408973,29.802396],[117.455168,29.749412],[117.453936,29.688082],[117.490277,29.660003],[117.530313,29.654282],[117.523538,29.630356],[117.543248,29.588731],[117.608537,29.591333],[117.647957,29.614749],[117.678754,29.595496],[117.690457,29.555939],[117.729877,29.550213],[117.795167,29.570515],[117.872775,29.54761],[117.933753,29.549172],[118.00397,29.578322],[118.042774,29.566351],[118.050782,29.542924],[118.095129,29.534072],[118.143788,29.489803],[118.127774,29.47209],[118.136397,29.418932],[118.193064,29.395472],[118.248498,29.431443],[118.316252,29.422581],[118.306396,29.479384],[118.329802,29.495012],[118.347664,29.474174],[118.381541,29.504909],[118.496106,29.519492],[118.500417,29.57572],[118.532446,29.588731],[118.573714,29.638159],[118.61991,29.654282],[118.647011,29.64336],[118.700598,29.706277],[118.744945,29.73902],[118.740634,29.814859],[118.841032,29.891159],[118.838568,29.934733],[118.894619,29.937845],[118.902626,30.029078],[118.878604,30.064822],[118.873677,30.11505],[118.895234,30.148694],[118.852119,30.149729],[118.852735,30.166805],[118.929727,30.2025],[118.905089,30.216464],[118.877988,30.282637],[118.880452,30.31519],[118.954365,30.360126],[118.988857,30.332237],[119.06277,30.304856],[119.091719,30.323972],[119.126828,30.304856],[119.201356,30.290905],[119.236465,30.297106],[119.246936,30.341018],[119.277117,30.341018],[119.326392,30.372002],[119.349182,30.349281],[119.402768,30.374584],[119.36766,30.38491],[119.335015,30.448389],[119.336247,30.508734],[119.326392,30.532964],[119.272189,30.510281],[119.237081,30.546881],[119.265414,30.574709],[119.238929,30.609225],[119.323312,30.630341],[119.343022,30.664322],[119.39045,30.685941],[119.408312,30.645274],[119.444652,30.650422],[119.482841,30.704467],[119.479761,30.772365],[119.527188,30.77905],[119.55429,30.825828],[119.575847,30.829939],[119.557369,30.874124],[119.563529,30.919315],[119.582007,30.932149],[119.580159,30.967051],[119.633746,31.019379],[119.629434,31.085517],[119.649144,31.104991],[119.623891,31.130096],[119.599869,31.10909],[119.532732,31.159291],[119.461283,31.156219],[119.439109,31.177214],[119.391682,31.174142],[119.360269,31.213049],[119.374435,31.258591],[119.350414,31.301043],[119.338095,31.259103],[119.294363,31.263195],[119.266646,31.250405],[119.198277,31.270357],[119.197661,31.295418],[119.158241,31.294907],[119.107118,31.250917],[119.10527,31.235055],[119.014727,31.241707],[118.984546,31.237102],[118.870597,31.242219],[118.794836,31.229426],[118.756648,31.279564],[118.726467,31.282121],[118.720924,31.322518],[118.745561,31.372606],[118.767735,31.363919],[118.824401,31.375672],[118.852119,31.393553],[118.883532,31.500261],[118.857046,31.506384],[118.865669,31.519139],[118.885995,31.519139],[118.881684,31.564023],[118.858894,31.623665],[118.802844,31.619078],[118.773894,31.682759],[118.748025,31.675629],[118.736322,31.633347],[118.643315,31.649651],[118.643315,31.671555],[118.697518,31.709747],[118.653786,31.73011],[118.641467,31.75861],[118.571866,31.746397],[118.5577,31.73011],[118.521975,31.743343],[118.533678,31.76726],[118.481939,31.778453],[118.504729,31.841516],[118.466541,31.857784],[118.472084,31.879639],[118.363679,31.930443],[118.389548,31.985281],[118.394476,32.076098],[118.433896,32.086746],[118.501033,32.121726],[118.49549,32.165304],[118.510888,32.194176],[118.643931,32.209875],[118.674728,32.250375],[118.657482,32.30148],[118.703061,32.328792],[118.685199,32.403604],[118.691359,32.472295],[118.628533,32.467751],[118.592192,32.481383],[118.608823,32.536899],[118.564475,32.562122],[118.568787,32.585825],[118.59712,32.600951],[118.632844,32.578261],[118.658714,32.594397],[118.688895,32.588346],[118.719076,32.614059],[118.719076,32.614059],[118.73509,32.58885],[118.757264,32.603976],[118.784981,32.582295],[118.820706,32.60448],[118.84288,32.56767],[118.908169,32.59238],[118.890923,32.553042],[118.92172,32.557078],[118.922336,32.557078],[118.92172,32.557078],[118.922336,32.557078],[118.975923,32.505108],[119.041212,32.515201],[119.084944,32.452602],[119.142226,32.499556],[119.168096,32.536394],[119.152697,32.557582],[119.22045,32.576748],[119.230921,32.607001],[119.208748,32.641276],[119.211827,32.708275],[119.184726,32.825529],[119.113277,32.823014],[119.054763,32.8748],[119.020886,32.955685],[118.993169,32.958196],[118.934039,32.93861],[118.892771,32.941121],[118.89585,32.957694],[118.89585,32.957694],[118.849039,32.956689],[118.846575,32.922034],[118.821322,32.920527],[118.810235,32.853687],[118.743097,32.853184],[118.743097,32.853184],[118.73817,32.772708],[118.756648,32.737477],[118.707373,32.72036],[118.642699,32.744525],[118.572482,32.719856],[118.560163,32.729926],[118.483787,32.721367],[118.450526,32.743518],[118.411106,32.715828],[118.375382,32.718849],[118.363063,32.770695],[118.334114,32.761637],[118.300237,32.783275],[118.301469,32.846145],[118.250346,32.848157],[118.2331,32.914498],[118.252194,32.936601],[118.291614,32.946143],[118.303933,32.96874],[118.26944,32.969242],[118.244803,32.998359],[118.243571,33.027967],[118.219549,33.114227],[118.217085,33.191888],[118.178281,33.217926],[118.149332,33.169348],[118.038463,33.134776],[118.037231,33.152314],[117.988572,33.180869],[117.977485,33.226437],[117.942376,33.224936],[117.939297,33.262475],[117.974405,33.279487],[117.992883,33.333005],[118.029224,33.374995],[118.016905,33.402978],[118.027376,33.455421],[118.050782,33.491863],[118.107448,33.475391],[118.117919,33.594615],[118.112376,33.617045],[118.16781,33.663381],[118.161035,33.735576],[118.117919,33.766427],[118.065564,33.76593],[118.019985,33.738562],[117.972557,33.74951],[117.901724,33.720146],[117.843826,33.736074],[117.791471,33.733585],[117.750203,33.710688],[117.72495,33.74951],[117.739732,33.758467],[117.759442,33.874318],[117.753899,33.891211],[117.715095,33.879287],[117.672595,33.934916],[117.671363,33.992494],[117.629479,34.028708],[117.612849,34.000433],[117.569117,33.985051],[117.543248,34.038627],[117.514914,34.060941],[117.435458,34.028212],[117.404045,34.03218],[117.357234,34.088205],[117.311654,34.067882],[117.277162,34.078787],[117.257452,34.065899],[117.192162,34.068873],[117.130568,34.101586],[117.123793,34.128342],[117.046801,34.151622],[117.025243,34.167469],[117.051112,34.221425],[116.969192,34.283753],[116.983359,34.348011],[116.960569,34.363821],[116.969192,34.389012],[116.909446,34.408271],[116.828142,34.389012],[116.782563,34.429993],[116.773939,34.453683],[116.722816,34.472434],[116.662454,34.472927],[116.592237,34.493646],[116.594085,34.511894],[116.490607,34.573513],[116.477057,34.614896],[116.432709,34.630163],[116.430245,34.650843],[116.374195,34.640011],[116.334159,34.620806],[116.32492,34.601104],[116.286116,34.608986],[116.247927,34.551829],[116.196804,34.575977],[116.191261,34.535561],[116.204196,34.508442],[116.178326,34.496112],[116.162312,34.459605],[116.178942,34.430487],[116.215898,34.403333],[116.213435,34.382098],[116.255934,34.376665],[116.301514,34.342082],[116.357564,34.319843],[116.372347,34.26595],[116.409303,34.273863],[116.409303,34.273863],[116.456731,34.268917],[116.516477,34.296114],[116.562056,34.285731],[116.582382,34.266444],[116.545426,34.241711],[116.542962,34.203608],[116.565752,34.16945],[116.536187,34.151127],[116.52818,34.122892],[116.576223,34.068873],[116.576223,34.068873],[116.599629,34.014324],[116.599629,34.014324]]],[[[118.865669,31.519139],[118.857046,31.506384],[118.883532,31.500261],[118.885995,31.519139],[118.865669,31.519139]]],[[[116.698795,29.707836],[116.673541,29.709916],[116.653831,29.694841],[116.680317,29.681323],[116.704954,29.688602],[116.706802,29.6964],[116.70557,29.69692],[116.698795,29.707836]]],[[[115.5088,32.468761],[115.509416,32.466741],[115.510648,32.467751],[115.510648,32.468256],[115.510648,32.468761],[115.5088,32.468761]]]]}},{"type":"Feature","properties":{"adcode":350000,"name":"\u798F\u5EFA\u7701","center":[119.306239,26.075302],"centroid":[118.006468,26.069925],"childrenNum":9,"level":"province","parent":{"adcode":100000},"subFeatureIndex":12,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[119.004872,24.970009],[118.989473,24.973807],[119.023966,25.04377],[119.016575,25.058409],[118.974691,25.024792],[118.945126,25.028588],[118.892155,25.092558],[118.974691,25.115319],[118.951901,25.15162],[118.985162,25.168954],[118.985162,25.19495],[118.942046,25.211195],[118.940198,25.21715],[118.943278,25.221482],[118.903242,25.239347],[118.900162,25.242595],[118.919256,25.248008],[118.91556,25.256668],[118.918024,25.25721],[118.956212,25.272905],[118.996864,25.266411],[118.975307,25.237723],[118.990089,25.20199],[119.055379,25.219316],[119.074473,25.211195],[119.054147,25.168412],[119.032589,25.17437],[119.028893,25.139702],[119.06585,25.102855],[119.075705,25.099604],[119.134219,25.106107],[119.107118,25.075214],[119.119436,25.012861],[119.146538,25.056782],[119.165632,25.145661],[119.137299,25.15487],[119.108349,25.193867],[119.131755,25.223106],[119.190269,25.175995],[119.231537,25.188993],[119.26911,25.159746],[119.314689,25.190076],[119.294979,25.237182],[119.331935,25.230685],[119.380595,25.250173],[119.333167,25.287516],[119.299291,25.328634],[119.247552,25.333502],[119.240776,25.316733],[119.218603,25.368115],[119.14469,25.388121],[119.151465,25.426503],[119.191501,25.424341],[119.232153,25.442176],[119.219834,25.468654],[119.256175,25.488643],[119.275269,25.476758],[119.26295,25.428124],[119.288204,25.410827],[119.353493,25.411908],[119.343638,25.472436],[119.359037,25.521592],[119.400921,25.493505],[119.45266,25.493505],[119.438493,25.412449],[119.463131,25.448661],[119.491464,25.443257],[119.48592,25.418935],[119.507478,25.396231],[119.486536,25.369737],[119.548746,25.365952],[119.578927,25.400556],[119.555521,25.429205],[119.577695,25.445959],[119.59063,25.398394],[119.582623,25.374063],[119.597405,25.334584],[119.649144,25.342697],[119.665159,25.3719],[119.656535,25.396772],[119.670086,25.435691],[119.622659,25.434069],[119.675014,25.468113],[119.682405,25.445959],[119.688564,25.441095],[119.773564,25.395691],[119.764325,25.433529],[119.804977,25.457847],[119.866571,25.455145],[119.864107,25.469734],[119.862875,25.474597],[119.811136,25.507009],[119.81668,25.532393],[119.861027,25.531313],[119.883817,25.546432],[119.831462,25.579905],[119.843165,25.597717],[119.790194,25.614447],[119.785883,25.66786],[119.700267,25.616606],[119.683637,25.592859],[119.716898,25.551292],[119.715666,25.51187],[119.680557,25.497827],[119.675014,25.475137],[119.634362,25.475137],[119.611572,25.519972],[119.616499,25.556691],[119.586934,25.59232],[119.534579,25.585303],[119.541355,25.6247],[119.478529,25.631715],[119.472986,25.662466],[119.543819,25.684581],[119.602949,25.68512],[119.602949,25.714779],[119.626354,25.723406],[119.628202,25.87212],[119.638057,25.889888],[119.69534,25.904424],[119.723673,26.011503],[119.700267,26.032477],[119.668854,26.026024],[119.654688,26.090002],[119.618963,26.11956],[119.604181,26.168985],[119.664543,26.202282],[119.676246,26.262943],[119.7711,26.285481],[119.802513,26.268846],[119.806825,26.307479],[119.845013,26.323036],[119.862875,26.307479],[119.904143,26.308552],[119.95465,26.352534],[119.946027,26.374519],[119.893672,26.355752],[119.835774,26.434019],[119.83639,26.454381],[119.788346,26.583435],[119.740303,26.610727],[119.670086,26.618218],[119.605412,26.595744],[119.577695,26.622498],[119.619579,26.649246],[119.637441,26.703256],[119.664543,26.726243],[119.711354,26.686681],[119.833926,26.690959],[119.864107,26.671174],[119.873962,26.642827],[119.908455,26.661547],[119.899216,26.693098],[119.938636,26.747088],[119.942947,26.784492],[120.052584,26.786629],[120.061824,26.768997],[119.99407,26.720363],[119.969433,26.686681],[119.972512,26.654594],[119.949107,26.624638],[119.901679,26.624638],[119.851788,26.595209],[119.828383,26.524013],[119.867187,26.509019],[119.947875,26.56042],[119.93802,26.576478],[119.967585,26.597885],[120.007621,26.595744],[120.063671,26.627848],[120.093852,26.613938],[120.1382,26.638012],[120.110483,26.692563],[120.162222,26.717691],[120.151135,26.750829],[120.106787,26.752966],[120.136352,26.797847],[120.103707,26.794642],[120.102476,26.82669],[120.073526,26.823485],[120.054432,26.863533],[120.117874,26.882751],[120.126497,26.920644],[120.130193,26.917976],[120.1807,26.920644],[120.233055,26.907837],[120.25954,26.982526],[120.279866,26.987326],[120.275554,27.027315],[120.29588,27.035845],[120.282946,27.089671],[120.391967,27.081146],[120.403054,27.10086],[120.461568,27.142407],[120.404286,27.204166],[120.401822,27.250996],[120.430155,27.258976],[120.343924,27.363199],[120.340844,27.399867],[120.273091,27.38924],[120.26262,27.432804],[120.221352,27.420055],[120.134504,27.420055],[120.136968,27.402523],[120.096316,27.390302],[120.052584,27.338747],[120.026099,27.344063],[120.008237,27.375423],[119.960194,27.365857],[119.938636,27.329709],[119.843165,27.300464],[119.768636,27.307909],[119.782187,27.330241],[119.739687,27.362668],[119.750774,27.373829],[119.711354,27.403054],[119.685485,27.438646],[119.703347,27.446613],[119.70889,27.514042],[119.690412,27.537394],[119.659615,27.540578],[119.675014,27.574534],[119.630666,27.582491],[119.626354,27.620676],[119.644217,27.663619],[119.606028,27.674749],[119.541971,27.666799],[119.501319,27.649837],[119.501935,27.610601],[119.466826,27.526249],[119.438493,27.508734],[119.416935,27.539517],[119.360269,27.524657],[119.334399,27.480067],[119.285124,27.457766],[119.26911,27.42218],[119.224146,27.416868],[119.14777,27.424836],[119.121284,27.438115],[119.129907,27.475289],[119.092335,27.466262],[119.03998,27.478475],[119.020886,27.498118],[118.983314,27.498649],[118.986393,27.47582],[118.955597,27.4498],[118.907553,27.460952],[118.869365,27.540047],[118.909401,27.568168],[118.913713,27.619616],[118.879836,27.667859],[118.873677,27.733563],[118.829329,27.847921],[118.818242,27.916689],[118.753568,27.947885],[118.730163,27.970615],[118.733858,28.027684],[118.719076,28.063601],[118.767735,28.10584],[118.802228,28.117453],[118.805923,28.154923],[118.771431,28.188687],[118.804075,28.207675],[118.802228,28.240368],[118.756032,28.252493],[118.719692,28.312047],[118.699366,28.309939],[118.674728,28.27147],[118.651322,28.277267],[118.595272,28.258292],[118.588497,28.282538],[118.493026,28.262509],[118.490562,28.238259],[118.444367,28.253548],[118.433896,28.288335],[118.424041,28.291497],[118.314404,28.221913],[118.339041,28.193962],[118.375382,28.186577],[118.361215,28.155978],[118.356288,28.091586],[118.242339,28.075746],[118.199839,28.049869],[118.153644,28.062016],[118.120999,28.041946],[118.129006,28.017118],[118.094513,28.003909],[118.096977,27.970615],[117.999043,27.991227],[117.965166,27.962687],[117.942992,27.974315],[117.910963,27.949471],[117.856145,27.94577],[117.78716,27.896063],[117.788392,27.855858],[117.740348,27.800286],[117.704624,27.834162],[117.68245,27.823577],[117.649805,27.851625],[117.609769,27.863265],[117.556182,27.966387],[117.52169,27.982243],[117.477958,27.930966],[117.453936,27.939955],[117.407741,27.893948],[117.366473,27.88231],[117.341836,27.855858],[117.334444,27.8876],[117.280242,27.871201],[117.276546,27.847921],[117.303031,27.833103],[117.296256,27.764282],[117.245133,27.71926],[117.205097,27.714492],[117.204481,27.683759],[117.174916,27.677399],[117.114554,27.692238],[117.096076,27.667329],[117.11209,27.645596],[117.094228,27.627569],[117.065279,27.665739],[117.040641,27.669979],[117.003685,27.625449],[117.024627,27.592569],[117.01662,27.563393],[117.054808,27.5427],[117.076982,27.566046],[117.103467,27.533149],[117.110242,27.458828],[117.133032,27.42218],[117.107163,27.393491],[117.104699,27.330773],[117.140423,27.322798],[117.136728,27.303123],[117.171836,27.29036],[117.149662,27.241419],[117.044953,27.146667],[117.05296,27.100327],[116.967344,27.061962],[116.936547,27.019319],[116.910062,27.034779],[116.851548,27.009188],[116.817671,27.018252],[116.679085,26.978259],[116.632889,26.933984],[116.602092,26.888623],[116.548506,26.84004],[116.543578,26.803723],[116.557745,26.773806],[116.515245,26.720898],[116.520172,26.684543],[116.566368,26.650315],[116.553433,26.575942],[116.539267,26.559349],[116.597165,26.512768],[116.610716,26.476882],[116.638433,26.477418],[116.608252,26.429732],[116.601476,26.372911],[116.553433,26.365404],[116.553433,26.400253],[116.519557,26.410437],[116.499846,26.361651],[116.459194,26.345026],[116.437021,26.308016],[116.412999,26.297822],[116.385282,26.238253],[116.400064,26.202819],[116.392057,26.171133],[116.435789,26.159854],[116.476441,26.172745],[116.489375,26.113649],[116.384666,26.030864],[116.360028,25.991601],[116.369883,25.963088],[116.326152,25.956631],[116.303362,25.924341],[116.258398,25.902809],[116.225138,25.908731],[116.17771,25.894195],[116.132131,25.860273],[116.131515,25.824185],[116.18079,25.778926],[116.129667,25.758985],[116.106877,25.701299],[116.067457,25.703995],[116.068689,25.646282],[116.041588,25.62416],[116.063145,25.56317],[116.040356,25.548052],[116.03666,25.514571],[116.005247,25.490264],[116.023109,25.435691],[115.992928,25.374063],[116.008327,25.319437],[115.987385,25.290221],[115.949813,25.292386],[115.930719,25.236099],[115.855574,25.20957],[115.860501,25.165704],[115.888219,25.128866],[115.880212,25.092016],[115.908545,25.084428],[115.928255,25.050276],[115.873436,25.019911],[115.925175,24.960786],[115.870356,24.959701],[115.89253,24.936911],[115.907929,24.923343],[115.985537,24.899461],[116.015102,24.905975],[116.068073,24.850053],[116.153073,24.846795],[116.191877,24.877203],[116.221442,24.829959],[116.251007,24.82507],[116.244232,24.793563],[116.297202,24.801712],[116.345862,24.828872],[116.363724,24.87123],[116.395137,24.877746],[116.417927,24.840821],[116.381586,24.82507],[116.375427,24.803885],[116.419158,24.767482],[116.416079,24.744113],[116.44626,24.714216],[116.485064,24.720196],[116.517709,24.652225],[116.506622,24.621218],[116.530027,24.604895],[116.570679,24.621762],[116.600861,24.654401],[116.623034,24.64189],[116.667382,24.658752],[116.777635,24.679418],[116.815207,24.654944],[116.761005,24.583128],[116.759157,24.545572],[116.796729,24.502014],[116.83307,24.496568],[116.860787,24.460075],[116.839229,24.442097],[116.903903,24.369614],[116.895895,24.350533],[116.919301,24.321087],[116.914374,24.287817],[116.938395,24.28127],[116.933468,24.220157],[116.956257,24.216883],[116.998757,24.179217],[116.9347,24.126794],[116.930388,24.064514],[116.953178,24.008218],[116.981511,23.999471],[116.976583,23.931659],[116.955642,23.922359],[116.981511,23.855602],[117.012308,23.855054],[117.019083,23.801952],[117.048032,23.758687],[117.055424,23.694038],[117.123793,23.647448],[117.147199,23.654027],[117.192778,23.629356],[117.192778,23.5619],[117.291328,23.571225],[117.302415,23.550379],[117.387415,23.555317],[117.463791,23.584937],[117.454552,23.628259],[117.493357,23.642514],[117.501364,23.70445],[117.54448,23.715956],[117.601762,23.70171],[117.660276,23.789357],[117.651653,23.815093],[117.671979,23.878041],[117.691073,23.888985],[117.762522,23.886796],[117.792703,23.906494],[117.807486,23.947521],[117.864768,24.004938],[117.910347,24.012045],[117.927594,24.039922],[117.936217,24.100029],[118.000275,24.152462],[118.019369,24.197232],[118.074803,24.225615],[118.115455,24.229435],[118.158571,24.269814],[118.112376,24.357075],[118.081579,24.35653],[118.088354,24.408858],[118.048934,24.418122],[118.084042,24.528695],[118.121615,24.570067],[118.150564,24.583673],[118.169042,24.559725],[118.242955,24.51236],[118.375382,24.536317],[118.363679,24.567889],[118.444367,24.614689],[118.512736,24.60816],[118.557084,24.572788],[118.558316,24.51236],[118.614366,24.521617],[118.680272,24.58204],[118.687047,24.63373],[118.661178,24.622306],[118.652554,24.653857],[118.670417,24.679962],[118.703677,24.665278],[118.778822,24.743569],[118.786213,24.77672],[118.650707,24.808774],[118.647627,24.843536],[118.702445,24.865258],[118.69875,24.848967],[118.748641,24.84245],[118.807771,24.870687],[118.834256,24.854397],[118.864437,24.887518],[118.933423,24.870687],[118.988857,24.878831],[118.987009,24.898375],[118.932807,24.906518],[118.91864,24.932569],[118.945741,24.954275],[119.014111,24.941252],[119.032589,24.961328],[119.032589,24.961871],[119.007335,24.963499],[119.004872,24.970009]]],[[[118.412338,24.514538],[118.374766,24.458986],[118.318715,24.486765],[118.298389,24.477506],[118.31194,24.424661],[118.282375,24.413218],[118.329802,24.382152],[118.353208,24.415398],[118.405563,24.427931],[118.457918,24.412128],[118.477012,24.437738],[118.451758,24.506915],[118.412338,24.514538]]],[[[119.471138,25.197116],[119.507478,25.183036],[119.52534,25.157579],[119.549362,25.161912],[119.566608,25.210112],[119.540739,25.20199],[119.501319,25.21715],[119.473601,25.259916],[119.44342,25.238806],[119.444036,25.20199],[119.471138,25.197116]]],[[[119.580159,25.627398],[119.611572,25.669479],[119.580775,25.650059],[119.580159,25.627398]]],[[[119.976824,26.191005],[120.016244,26.217316],[119.998998,26.235569],[119.970665,26.217852],[119.976824,26.191005]]],[[[118.230636,24.401228],[118.273752,24.441007],[118.233716,24.445911],[118.230636,24.401228]]],[[[119.906607,26.68989],[119.926933,26.664756],[119.950954,26.692563],[119.906607,26.68989]]],[[[118.204151,24.504737],[118.191832,24.536861],[118.14502,24.560814],[118.093281,24.540672],[118.068644,24.463344],[118.084042,24.435559],[118.143173,24.420847],[118.19368,24.463344],[118.204151,24.504737]]],[[[119.929397,26.134067],[119.960194,26.146961],[119.919542,26.172208],[119.929397,26.134067]]],[[[119.642985,26.129231],[119.665159,26.155556],[119.62697,26.173282],[119.606028,26.15287],[119.642985,26.129231]]],[[[120.034106,26.488667],[120.066751,26.498308],[120.071679,26.521336],[120.035954,26.515981],[120.034106,26.488667]]],[[[119.662079,25.646822],[119.673782,25.632794],[119.718745,25.634952],[119.716898,25.664624],[119.662079,25.646822]]],[[[119.760629,26.613402],[119.776644,26.600025],[119.818527,26.616613],[119.796354,26.630523],[119.760629,26.613402]]],[[[120.135736,26.550784],[120.167149,26.571661],[120.153598,26.604841],[120.117874,26.568984],[120.135736,26.550784]]],[[[120.360554,26.916909],[120.394431,26.933984],[120.363018,26.967592],[120.327909,26.963858],[120.319286,26.944654],[120.360554,26.916909]]],[[[120.150519,26.798916],[120.140048,26.795176],[120.163454,26.798381],[120.161606,26.803189],[120.150519,26.798916]]],[[[119.668238,26.628383],[119.720593,26.635873],[119.758781,26.659408],[119.748926,26.681334],[119.712586,26.6685],[119.673782,26.680799],[119.651608,26.657269],[119.668238,26.628383]]]]}},{"type":"Feature","properties":{"adcode":360000,"name":"\u6C5F\u897F\u7701","center":[115.892151,28.676493],"centroid":[115.732975,27.636112],"childrenNum":11,"level":"province","parent":{"adcode":100000},"subFeatureIndex":13,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[118.193064,29.395472],[118.136397,29.418932],[118.127774,29.47209],[118.143788,29.489803],[118.095129,29.534072],[118.050782,29.542924],[118.042774,29.566351],[118.00397,29.578322],[117.933753,29.549172],[117.872775,29.54761],[117.795167,29.570515],[117.729877,29.550213],[117.690457,29.555939],[117.678754,29.595496],[117.647957,29.614749],[117.608537,29.591333],[117.543248,29.588731],[117.523538,29.630356],[117.530313,29.654282],[117.490277,29.660003],[117.453936,29.688082],[117.455168,29.749412],[117.408973,29.802396],[117.415132,29.85068],[117.382487,29.840818],[117.359082,29.812782],[117.338756,29.848085],[117.29256,29.822647],[117.25314,29.834588],[117.261763,29.880781],[117.246365,29.915023],[117.2168,29.926953],[117.171836,29.920729],[117.129952,29.89946],[117.127489,29.86158],[117.073286,29.831992],[117.123177,29.798761],[117.136728,29.775388],[117.108395,29.75201],[117.112706,29.711995],[117.041873,29.680803],[116.996294,29.683403],[116.974736,29.657403],[116.939627,29.648561],[116.873722,29.609546],[116.849084,29.57624],[116.780715,29.569994],[116.760389,29.599139],[116.721585,29.564789],[116.716657,29.590813],[116.651983,29.637118],[116.680317,29.681323],[116.653831,29.694841],[116.673541,29.709916],[116.762237,29.802396],[116.780715,29.792529],[116.882961,29.893753],[116.900207,29.949253],[116.868794,29.980361],[116.83307,29.95755],[116.830606,30.004723],[116.802889,29.99643],[116.783794,30.030632],[116.747454,30.057053],[116.720353,30.053945],[116.666766,30.076734],[116.620571,30.073109],[116.585462,30.045657],[116.552201,29.909836],[116.525716,29.897385],[116.467818,29.896347],[116.342782,29.835626],[116.280572,29.788893],[116.250391,29.785777],[116.227601,29.816936],[116.172783,29.828358],[116.13521,29.819532],[116.087167,29.795125],[116.049595,29.761881],[115.965827,29.724469],[115.909777,29.723949],[115.837096,29.748373],[115.762567,29.793048],[115.706517,29.837703],[115.667712,29.850161],[115.611662,29.841337],[115.51188,29.840299],[115.479235,29.811224],[115.470612,29.739539],[115.412714,29.688602],[115.355431,29.649602],[115.304924,29.637118],[115.28583,29.618391],[115.250722,29.660003],[115.176809,29.654803],[115.113367,29.684963],[115.117679,29.655843],[115.143548,29.645961],[115.120142,29.597578],[115.157099,29.584568],[115.154019,29.510117],[115.086266,29.525741],[115.087498,29.560104],[115.033295,29.546568],[115.00065,29.572076],[114.947679,29.542924],[114.966773,29.522096],[114.940288,29.493971],[114.900868,29.505951],[114.860216,29.476258],[114.888549,29.436134],[114.918114,29.454374],[114.90518,29.473132],[114.935977,29.486678],[114.947063,29.465317],[114.931049,29.422581],[114.895325,29.397557],[114.866375,29.404335],[114.812173,29.383478],[114.784455,29.386086],[114.759818,29.363139],[114.740724,29.386607],[114.67297,29.395993],[114.621847,29.379828],[114.589819,29.352707],[114.519602,29.325578],[114.466015,29.324013],[114.440145,29.341752],[114.376088,29.322969],[114.341595,29.327665],[114.307102,29.365225],[114.259059,29.343839],[114.252284,29.23475],[114.169748,29.216993],[114.063191,29.204978],[114.034857,29.152204],[113.98743,29.126068],[113.952321,29.092604],[113.94185,29.047097],[113.961561,28.999476],[113.955401,28.978536],[113.973879,28.937692],[114.008988,28.955498],[114.005292,28.917788],[114.028082,28.891069],[114.060111,28.902596],[114.056415,28.872204],[114.076741,28.834464],[114.124784,28.843376],[114.153734,28.829221],[114.137719,28.779926],[114.157429,28.761566],[114.122321,28.623497],[114.132176,28.607211],[114.08598,28.558337],[114.138335,28.533629],[114.15435,28.507337],[114.218407,28.48472],[114.217175,28.466308],[114.172212,28.432632],[114.214712,28.403157],[114.252284,28.395787],[114.2529,28.319423],[114.198081,28.29097],[114.182067,28.249858],[114.143879,28.246694],[114.109386,28.205038],[114.107538,28.182885],[114.068734,28.171806],[114.012068,28.174972],[113.992357,28.161255],[114.025002,28.080499],[114.047176,28.057263],[114.025618,28.031382],[113.970184,28.041418],[113.966488,28.017646],[113.936307,28.018703],[113.914133,27.991227],[113.864242,28.004966],[113.845148,27.971672],[113.822974,27.982243],[113.752141,27.93361],[113.72812,27.874904],[113.756453,27.860091],[113.763228,27.799228],[113.69917,27.740979],[113.696707,27.71979],[113.652359,27.663619],[113.607395,27.625449],[113.608627,27.585143],[113.579062,27.545354],[113.583374,27.524657],[113.627105,27.49971],[113.591381,27.467855],[113.59754,27.428554],[113.632033,27.40518],[113.605548,27.38924],[113.616635,27.345658],[113.657902,27.347253],[113.699786,27.331836],[113.72812,27.350442],[113.872865,27.384988],[113.872865,27.346721],[113.854387,27.30525],[113.872865,27.289828],[113.846996,27.222262],[113.779242,27.137081],[113.771851,27.096598],[113.803264,27.099261],[113.824206,27.036378],[113.86301,27.018252],[113.892575,26.964925],[113.927068,26.948922],[113.890112,26.895562],[113.877177,26.859262],[113.835909,26.806394],[113.853771,26.769532],[113.860546,26.664221],[113.912901,26.613938],[113.996669,26.615543],[114.019459,26.587182],[114.10877,26.56952],[114.07243,26.480096],[114.110002,26.482775],[114.090292,26.455988],[114.085364,26.406149],[114.062575,26.406149],[114.030546,26.376664],[114.047792,26.337518],[114.021307,26.288701],[114.029314,26.266163],[113.978807,26.237716],[113.972647,26.20604],[113.949242,26.192616],[113.962792,26.150722],[114.013299,26.184023],[114.088444,26.168448],[114.102611,26.187783],[114.181451,26.214631],[114.216559,26.203355],[114.237501,26.152333],[114.188842,26.121172],[114.10569,26.097526],[114.121089,26.085702],[114.087828,26.06635],[114.044096,26.076564],[114.008372,26.015806],[114.028082,25.98138],[114.028082,25.893119],[113.971416,25.836036],[113.961561,25.77731],[113.920293,25.741197],[113.913517,25.701299],[113.957249,25.611749],[113.983118,25.599336],[113.986198,25.529153],[113.962792,25.528072],[113.94493,25.441635],[114.003444,25.442716],[113.983118,25.415152],[114.050256,25.36433],[114.029314,25.328093],[114.017611,25.273987],[114.039785,25.250714],[114.055799,25.277775],[114.083517,25.275611],[114.115545,25.302125],[114.190074,25.316733],[114.204857,25.29942],[114.260291,25.291845],[114.2954,25.299961],[114.31511,25.33837],[114.382863,25.317274],[114.43029,25.343779],[114.438914,25.376226],[114.477718,25.37136],[114.541159,25.416773],[114.599674,25.385959],[114.63663,25.324306],[114.714238,25.315651],[114.743188,25.274528],[114.73518,25.225813],[114.693912,25.213902],[114.685905,25.173287],[114.73518,25.155954],[114.735796,25.121822],[114.664963,25.10123],[114.640326,25.074129],[114.604601,25.083886],[114.561485,25.077382],[114.532536,25.022623],[114.506051,24.999844],[114.45616,24.99659],[114.454928,24.977062],[114.395798,24.951019],[114.403189,24.877746],[114.378551,24.861457],[114.342211,24.807145],[114.336052,24.749004],[114.281849,24.724001],[114.27261,24.700624],[114.169132,24.689749],[114.19069,24.656576],[114.258443,24.641346],[114.289856,24.619042],[114.300943,24.578775],[114.363769,24.582584],[114.391486,24.563535],[114.403189,24.497657],[114.429058,24.48622],[114.534384,24.559181],[114.589819,24.537406],[114.627391,24.576598],[114.664963,24.583673],[114.704999,24.525973],[114.73826,24.565168],[114.729637,24.608704],[114.781376,24.613057],[114.827571,24.588026],[114.846665,24.602719],[114.868839,24.562446],[114.893477,24.582584],[114.909491,24.661471],[114.940288,24.650049],[115.00373,24.679418],[115.024672,24.669085],[115.057317,24.703343],[115.083802,24.699537],[115.104744,24.667997],[115.1842,24.711498],[115.258729,24.728894],[115.269816,24.749548],[115.306772,24.758787],[115.358511,24.735416],[115.372678,24.774546],[115.412714,24.79302],[115.476771,24.762591],[115.522967,24.702799],[115.555611,24.683768],[115.569778,24.622306],[115.605503,24.62557],[115.671408,24.604895],[115.68927,24.545027],[115.752712,24.546116],[115.785357,24.567345],[115.843871,24.562446],[115.840791,24.584217],[115.797676,24.628834],[115.780429,24.663103],[115.801371,24.705517],[115.769342,24.708236],[115.756408,24.749004],[115.776734,24.774546],[115.764415,24.791933],[115.790284,24.856027],[115.807531,24.862543],[115.824161,24.909232],[115.863581,24.891318],[115.861733,24.863629],[115.907313,24.879917],[115.885139,24.898918],[115.89253,24.936911],[115.870356,24.959701],[115.925175,24.960786],[115.873436,25.019911],[115.928255,25.050276],[115.908545,25.084428],[115.880212,25.092016],[115.888219,25.128866],[115.860501,25.165704],[115.855574,25.20957],[115.930719,25.236099],[115.949813,25.292386],[115.987385,25.290221],[116.008327,25.319437],[115.992928,25.374063],[116.023109,25.435691],[116.005247,25.490264],[116.03666,25.514571],[116.040356,25.548052],[116.063145,25.56317],[116.041588,25.62416],[116.068689,25.646282],[116.067457,25.703995],[116.106877,25.701299],[116.129667,25.758985],[116.18079,25.778926],[116.131515,25.824185],[116.132131,25.860273],[116.17771,25.894195],[116.225138,25.908731],[116.258398,25.902809],[116.303362,25.924341],[116.326152,25.956631],[116.369883,25.963088],[116.360028,25.991601],[116.384666,26.030864],[116.489375,26.113649],[116.476441,26.172745],[116.435789,26.159854],[116.392057,26.171133],[116.400064,26.202819],[116.385282,26.238253],[116.412999,26.297822],[116.437021,26.308016],[116.459194,26.345026],[116.499846,26.361651],[116.519557,26.410437],[116.553433,26.400253],[116.553433,26.365404],[116.601476,26.372911],[116.608252,26.429732],[116.638433,26.477418],[116.610716,26.476882],[116.597165,26.512768],[116.539267,26.559349],[116.553433,26.575942],[116.566368,26.650315],[116.520172,26.684543],[116.515245,26.720898],[116.557745,26.773806],[116.543578,26.803723],[116.548506,26.84004],[116.602092,26.888623],[116.632889,26.933984],[116.679085,26.978259],[116.817671,27.018252],[116.851548,27.009188],[116.910062,27.034779],[116.936547,27.019319],[116.967344,27.061962],[117.05296,27.100327],[117.044953,27.146667],[117.149662,27.241419],[117.171836,27.29036],[117.136728,27.303123],[117.140423,27.322798],[117.104699,27.330773],[117.107163,27.393491],[117.133032,27.42218],[117.110242,27.458828],[117.103467,27.533149],[117.076982,27.566046],[117.054808,27.5427],[117.01662,27.563393],[117.024627,27.592569],[117.003685,27.625449],[117.040641,27.669979],[117.065279,27.665739],[117.094228,27.627569],[117.11209,27.645596],[117.096076,27.667329],[117.114554,27.692238],[117.174916,27.677399],[117.204481,27.683759],[117.205097,27.714492],[117.245133,27.71926],[117.296256,27.764282],[117.303031,27.833103],[117.276546,27.847921],[117.280242,27.871201],[117.334444,27.8876],[117.341836,27.855858],[117.366473,27.88231],[117.407741,27.893948],[117.453936,27.939955],[117.477958,27.930966],[117.52169,27.982243],[117.556182,27.966387],[117.609769,27.863265],[117.649805,27.851625],[117.68245,27.823577],[117.704624,27.834162],[117.740348,27.800286],[117.788392,27.855858],[117.78716,27.896063],[117.856145,27.94577],[117.910963,27.949471],[117.942992,27.974315],[117.965166,27.962687],[117.999043,27.991227],[118.096977,27.970615],[118.094513,28.003909],[118.129006,28.017118],[118.120999,28.041946],[118.153644,28.062016],[118.199839,28.049869],[118.242339,28.075746],[118.356288,28.091586],[118.361215,28.155978],[118.375382,28.186577],[118.339041,28.193962],[118.314404,28.221913],[118.424041,28.291497],[118.433896,28.288335],[118.480091,28.327325],[118.455454,28.384204],[118.432048,28.402104],[118.456686,28.424738],[118.474548,28.478934],[118.414802,28.497344],[118.4302,28.515225],[118.412338,28.55676],[118.428352,28.617193],[118.428352,28.617193],[118.428352,28.681267],[118.403099,28.702791],[118.364295,28.813491],[118.300237,28.826075],[118.270056,28.918836],[118.195527,28.904167],[118.227556,28.942406],[118.165346,28.986912],[118.133933,28.983771],[118.115455,29.009944],[118.115455,29.009944],[118.097593,28.998952],[118.066796,29.053898],[118.076035,29.074822],[118.037847,29.102017],[118.045238,29.149068],[118.027992,29.167882],[118.042159,29.210202],[118.073571,29.216993],[118.077883,29.290614],[118.138861,29.283828],[118.178281,29.297921],[118.166578,29.314099],[118.205382,29.343839],[118.193064,29.395472]]]]}},{"type":"Feature","properties":{"adcode":370000,"name":"\u5C71\u4E1C\u7701","center":[117.000923,36.675807],"centroid":[118.187759,36.376092],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":14,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[116.374195,34.640011],[116.392057,34.710391],[116.363724,34.715311],[116.369267,34.749247],[116.403144,34.756131],[116.408071,34.850972],[116.445028,34.895652],[116.557745,34.908905],[116.613795,34.922645],[116.622418,34.939818],[116.677853,34.939327],[116.781331,34.916757],[116.789338,34.975133],[116.815823,34.965324],[116.821983,34.929515],[116.858323,34.928533],[116.922381,34.894671],[116.929156,34.843114],[116.966113,34.844588],[116.979047,34.815113],[116.95133,34.81069],[116.969192,34.771864],[117.022163,34.759081],[117.070206,34.713835],[117.061583,34.675947],[117.073286,34.639026],[117.104083,34.648874],[117.15151,34.559222],[117.139191,34.526687],[117.166293,34.434435],[117.248213,34.451216],[117.252524,34.48674],[117.27285,34.499565],[117.267923,34.532603],[117.303647,34.542463],[117.27285,34.556757],[117.311654,34.561686],[117.311654,34.561686],[117.32151,34.566614],[117.32151,34.566614],[117.325205,34.573021],[117.325205,34.573021],[117.370785,34.584846],[117.402813,34.569571],[117.402813,34.550843],[117.465023,34.484767],[117.53832,34.467006],[117.592523,34.462566],[117.609769,34.490686],[117.659044,34.501044],[117.684298,34.547392],[117.801942,34.518798],[117.791471,34.583368],[117.793935,34.651827],[117.902956,34.644443],[117.909732,34.670533],[117.951615,34.678408],[118.053861,34.650843],[118.084042,34.655766],[118.114839,34.614404],[118.079115,34.569571],[118.185056,34.543942],[118.16473,34.50499],[118.132702,34.483287],[118.177665,34.45319],[118.179513,34.379628],[118.217701,34.379134],[118.220165,34.405802],[118.277447,34.404814],[118.290382,34.424563],[118.379693,34.415183],[118.404947,34.427525],[118.416034,34.473914],[118.439439,34.507949],[118.424657,34.595193],[118.439439,34.626223],[118.473932,34.623269],[118.460997,34.656258],[118.545997,34.705964],[118.601431,34.714327],[118.607591,34.694155],[118.664257,34.693663],[118.690127,34.678408],[118.739402,34.693663],[118.783749,34.723181],[118.764039,34.740396],[118.719076,34.745313],[118.739402,34.792508],[118.772047,34.794474],[118.80038,34.843114],[118.805307,34.87307],[118.860742,34.944233],[118.86259,35.025626],[118.928495,35.051106],[118.942662,35.040817],[119.027045,35.055516],[119.114509,35.055026],[119.137915,35.096167],[119.217371,35.106939],[119.250016,35.124562],[119.286972,35.115261],[119.306066,35.076578],[119.354109,35.080007],[119.373819,35.078538],[119.428022,35.121136],[119.397841,35.137777],[119.411392,35.231689],[119.450812,35.285443],[119.493312,35.318655],[119.538275,35.296678],[119.543819,35.347949],[119.590014,35.37284],[119.579543,35.406504],[119.618963,35.459655],[119.663311,35.562931],[119.662079,35.589215],[119.718129,35.615492],[119.75139,35.617924],[119.772332,35.578995],[119.780339,35.584835],[119.792658,35.615492],[119.824071,35.646136],[119.83023,35.620357],[119.868419,35.60868],[119.925085,35.637382],[119.91215,35.660725],[119.950339,35.729741],[119.920157,35.739943],[119.926317,35.759856],[119.958346,35.760342],[120.01378,35.714193],[120.049505,35.786562],[120.032258,35.812288],[120.064287,35.873414],[120.112331,35.885052],[120.125265,35.906868],[120.152983,35.907353],[120.207801,35.947575],[120.169613,35.888446],[120.202258,35.89184],[120.209033,35.917531],[120.265699,35.966468],[120.30512,35.971796],[120.316206,36.002304],[120.289721,36.017311],[120.285409,36.01247],[120.249069,35.992136],[120.257076,36.025055],[120.198562,35.995525],[120.234902,36.030863],[120.239214,36.062316],[120.181316,36.066669],[120.152367,36.095206],[120.116642,36.102943],[120.108635,36.127599],[120.142512,36.143549],[120.140664,36.173507],[120.181316,36.203936],[120.22012,36.209248],[120.224432,36.19138],[120.260772,36.198624],[120.263236,36.182202],[120.310047,36.185101],[120.297112,36.225664],[120.319902,36.232423],[120.362402,36.196209],[120.35809,36.174956],[120.286025,36.047317],[120.337764,36.055058],[120.429539,36.056994],[120.468959,36.087952],[120.546568,36.091821],[120.546568,36.107778],[120.593995,36.100525],[120.615553,36.120348],[120.64327,36.114547],[120.672835,36.130016],[120.712255,36.126632],[120.696857,36.15563],[120.696857,36.203936],[120.680843,36.238698],[120.686386,36.279234],[120.657437,36.276339],[120.66298,36.331803],[120.744284,36.327946],[120.694393,36.390118],[120.759683,36.46283],[120.828668,36.46668],[120.837291,36.459942],[120.858849,36.424797],[120.848994,36.403124],[120.871784,36.36699],[120.911204,36.412276],[120.917979,36.417573],[120.90874,36.450315],[120.938305,36.447908],[120.965407,36.466199],[120.95432,36.507578],[120.983269,36.546051],[120.962327,36.562877],[120.909972,36.568645],[120.884718,36.601323],[120.847146,36.618617],[120.882255,36.627262],[120.926602,36.611892],[120.955551,36.575855],[121.028848,36.572971],[121.078123,36.607568],[121.161275,36.651273],[121.251818,36.671436],[121.29863,36.702151],[121.31218,36.702151],[121.35776,36.713186],[121.400876,36.701191],[121.3941,36.738129],[121.454462,36.752515],[121.496962,36.795179],[121.506817,36.803805],[121.565331,36.830635],[121.548701,36.807638],[121.485259,36.786073],[121.532071,36.73621],[121.575186,36.740047],[121.556092,36.764502],[121.651563,36.723739],[121.631853,36.80093],[121.6762,36.819137],[121.726092,36.826323],[121.762432,36.84644],[121.767975,36.874691],[121.927504,36.932597],[121.965076,36.938337],[122.008808,36.96225],[122.042684,36.871819],[122.051923,36.904846],[122.093191,36.913938],[122.115981,36.94025],[122.124604,36.944077],[122.141235,36.938337],[122.119677,36.891924],[122.175727,36.894317],[122.188662,36.866073],[122.174495,36.842609],[122.220691,36.848835],[122.275509,36.83734],[122.280437,36.835904],[122.344495,36.828239],[122.378371,36.844525],[122.383915,36.865595],[122.415944,36.85937],[122.454748,36.879],[122.452284,36.88618],[122.434422,36.914416],[122.483081,36.913938],[122.48924,36.886659],[122.532356,36.901496],[122.55761,36.968467],[122.544675,37.004797],[122.583479,37.037289],[122.575472,37.054485],[122.494168,37.033945],[122.467067,37.037289],[122.478769,37.058784],[122.484313,37.128956],[122.533588,37.153286],[122.581015,37.147562],[122.573624,37.176178],[122.624131,37.190959],[122.592718,37.261485],[122.567465,37.25958],[122.573624,37.296247],[122.611196,37.339558],[122.607501,37.364296],[122.650616,37.388551],[122.6925,37.373809],[122.714058,37.392355],[122.701739,37.418501],[122.67587,37.413273],[122.641377,37.428482],[122.553914,37.407093],[122.4954,37.413748],[122.487393,37.43466],[122.41656,37.414699],[122.337103,37.414223],[122.281053,37.430858],[122.287212,37.445114],[122.25272,37.467917],[122.194205,37.456041],[122.166488,37.438937],[122.131996,37.49926],[122.163408,37.519199],[122.150474,37.557163],[122.08888,37.554316],[122.075329,37.540556],[122.017431,37.531065],[121.997721,37.494512],[121.923808,37.473142],[121.772903,37.466492],[121.66573,37.473617],[121.635548,37.494037],[121.575802,37.460317],[121.571491,37.441313],[121.477252,37.475992],[121.460006,37.522522],[121.400876,37.557638],[121.395948,37.589891],[121.435368,37.592737],[121.391021,37.625449],[121.349137,37.635403],[121.358376,37.597479],[121.304789,37.582778],[121.217326,37.582778],[121.17421,37.597479],[121.148956,37.626397],[121.161891,37.646302],[121.142797,37.661464],[121.160043,37.698882],[121.136022,37.723501],[121.037471,37.718767],[120.994356,37.759468],[120.943233,37.785486],[120.940769,37.819533],[120.874863,37.833241],[120.845298,37.826623],[120.839139,37.82426],[120.733197,37.833714],[120.656821,37.793054],[120.634031,37.796364],[120.590915,37.7642],[120.517619,37.750005],[120.454793,37.757576],[120.367945,37.697935],[120.227511,37.693673],[120.22012,37.671886],[120.269395,37.658622],[120.272475,37.636824],[120.215192,37.621183],[120.208417,37.588469],[120.246605,37.556689],[120.222584,37.532963],[120.144359,37.481691],[120.086461,37.465067],[120.064903,37.448915],[120.010085,37.442263],[119.949723,37.419927],[119.926933,37.386649],[119.843781,37.376662],[119.837006,37.346695],[119.883201,37.311004],[119.89244,37.263866],[119.865339,37.233854],[119.83023,37.225754],[119.808057,37.196203],[119.740303,37.133727],[119.687332,37.143746],[119.678709,37.158056],[119.576463,37.127524],[119.489616,37.134681],[119.428022,37.125616],[119.361501,37.125616],[119.327624,37.115595],[119.301138,37.139452],[119.298675,37.197156],[119.2069,37.223371],[119.190885,37.25958],[119.204436,37.280058],[119.136683,37.230995],[119.12806,37.254816],[119.091103,37.257674],[119.084328,37.239572],[119.054147,37.254816],[119.03998,37.30434],[119.001176,37.31862],[118.942662,37.497361],[118.939582,37.527268],[118.988857,37.620709],[119.023966,37.642037],[119.153313,37.655305],[119.236465,37.651988],[119.262334,37.660517],[119.280197,37.692726],[119.309146,37.805349],[119.291899,37.869627],[119.24016,37.878131],[119.212443,37.838913],[119.16132,37.81906],[119.12806,37.847892],[119.110813,37.921577],[119.001792,37.99613],[118.974075,38.094162],[118.908169,38.139362],[118.811467,38.157717],[118.703677,38.151129],[118.626069,38.138421],[118.607591,38.129006],[118.597736,38.079088],[118.552156,38.05553],[118.534294,38.063541],[118.517048,38.088509],[118.504729,38.11394],[118.44991,38.124299],[118.431432,38.106406],[118.404331,38.121003],[118.331034,38.12524],[118.217085,38.146893],[118.177665,38.186417],[118.112376,38.210403],[118.045238,38.214165],[118.018753,38.202409],[117.896797,38.279495],[117.895565,38.301572],[117.848754,38.255062],[117.808718,38.22827],[117.789007,38.180772],[117.766834,38.158658],[117.771145,38.134655],[117.746508,38.12524],[117.704624,38.076262],[117.586979,38.071551],[117.557414,38.046105],[117.557414,38.046105],[117.524154,37.989527],[117.513067,37.94329],[117.481038,37.914967],[117.438538,37.854035],[117.400966,37.844584],[117.320278,37.861596],[117.271618,37.839858],[117.185387,37.849783],[117.150278,37.839385],[117.074518,37.848837],[117.027091,37.832296],[116.919301,37.846002],[116.837997,37.835132],[116.804736,37.848837],[116.753613,37.793054],[116.753613,37.77035],[116.724664,37.744327],[116.679085,37.728708],[116.66307,37.686096],[116.604556,37.624975],[116.575607,37.610754],[116.4826,37.521573],[116.448108,37.503059],[116.433941,37.473142],[116.38097,37.522522],[116.379738,37.522047],[116.38097,37.522522],[116.379738,37.522047],[116.36742,37.566177],[116.336007,37.581355],[116.295355,37.554316],[116.278724,37.524895],[116.290427,37.484065],[116.27626,37.466967],[116.240536,37.489764],[116.240536,37.489764],[116.224522,37.479791],[116.243,37.447965],[116.226369,37.428007],[116.2855,37.404241],[116.236224,37.361442],[116.193109,37.365723],[116.169087,37.384271],[116.106261,37.368577],[116.085935,37.373809],[116.024341,37.360015],[115.975682,37.337179],[115.969523,37.239572],[115.909777,37.20669],[115.91224,37.177132],[115.879596,37.150901],[115.888219,37.112254],[115.85619,37.060694],[115.776734,36.992848],[115.79706,36.968945],[115.75764,36.902453],[115.71206,36.883308],[115.683727,36.808117],[115.524815,36.763543],[115.479851,36.760187],[115.451518,36.702151],[115.420105,36.686795],[115.365902,36.621979],[115.355431,36.627262],[115.33141,36.550378],[115.272895,36.497476],[115.291374,36.460423],[115.317243,36.454166],[115.297533,36.413239],[115.340033,36.398307],[115.368982,36.342409],[115.366518,36.30914],[115.423185,36.32216],[115.417025,36.292742],[115.462605,36.276339],[115.466916,36.258969],[115.466916,36.258969],[115.474923,36.248352],[115.483547,36.148865],[115.484163,36.125666],[115.449054,36.047317],[115.447822,36.01247],[115.362822,35.971796],[115.353583,35.938854],[115.364054,35.894264],[115.335105,35.796756],[115.363438,35.779765],[115.407786,35.80889],[115.460141,35.867594],[115.487858,35.880688],[115.495249,35.896203],[115.505104,35.899112],[115.513112,35.890385],[115.583945,35.921893],[115.648618,35.922863],[115.699125,35.966468],[115.774886,35.974702],[115.779813,35.993588],[115.817386,36.012954],[115.859886,36.003756],[115.89869,36.026507],[115.989849,36.045381],[116.057602,36.104877],[116.099486,36.112129],[116.063145,36.028927],[116.048979,35.970343],[115.984921,35.974218],[115.911624,35.960171],[115.907929,35.92674],[115.873436,35.918985],[115.882675,35.879718],[115.859886,35.857894],[115.81677,35.844312],[115.773654,35.854014],[115.73485,35.833154],[115.696046,35.788989],[115.693582,35.754028],[115.622749,35.739457],[115.52851,35.733628],[115.48601,35.710306],[115.383148,35.568772],[115.34496,35.55368],[115.356047,35.490359],[115.307388,35.480126],[115.237171,35.423087],[115.172497,35.426501],[115.126302,35.41821],[115.117679,35.400163],[115.091809,35.416259],[115.073947,35.374304],[115.04315,35.376744],[114.957534,35.261014],[114.929201,35.244886],[114.932281,35.198441],[114.861448,35.182301],[114.841738,35.15099],[114.883006,35.098615],[114.835578,35.076578],[114.818948,35.051596],[114.852209,35.041797],[114.824492,35.012393],[114.880542,35.00357],[114.923658,34.968757],[114.950759,34.989843],[115.008041,34.988372],[115.028983,34.9717],[115.075179,35.000628],[115.12815,35.00455],[115.157099,34.957968],[115.219309,34.96042],[115.205142,34.914303],[115.251953,34.906451],[115.239019,34.87798],[115.256265,34.845079],[115.317243,34.859321],[115.42688,34.805285],[115.449054,34.74433],[115.433655,34.725149],[115.461373,34.637057],[115.515575,34.582383],[115.553148,34.568586],[115.622749,34.574499],[115.685575,34.556265],[115.697278,34.594207],[115.787821,34.580905],[115.827241,34.558236],[115.838328,34.5676],[115.984305,34.589281],[115.991081,34.615389],[116.037276,34.593222],[116.101334,34.60603],[116.134594,34.559715],[116.156768,34.5538],[116.196804,34.575977],[116.247927,34.551829],[116.286116,34.608986],[116.32492,34.601104],[116.334159,34.620806],[116.374195,34.640011]]],[[[120.729502,37.947065],[120.721495,37.917328],[120.76461,37.895134],[120.76461,37.923937],[120.729502,37.947065]]],[[[120.692545,37.983867],[120.732581,37.961694],[120.724574,37.987641],[120.692545,37.983867]]],[[[120.990044,36.413239],[120.978341,36.428649],[120.950624,36.414684],[120.990044,36.413239]]],[[[120.750444,38.150188],[120.7874,38.158658],[120.742436,38.199116],[120.750444,38.150188]]],[[[120.918595,38.345236],[120.914899,38.373393],[120.895189,38.36307],[120.918595,38.345236]]],[[[120.159142,35.765198],[120.169613,35.740428],[120.193019,35.756942],[120.172077,35.785591],[120.159142,35.765198]]],[[[120.62664,37.94565],[120.631567,37.981037],[120.602002,37.978678],[120.62664,37.94565]]],[[[120.802183,38.284193],[120.848378,38.305799],[120.816349,38.318008],[120.802183,38.284193]]],[[[121.489571,37.577086],[121.489571,37.577561],[121.489571,37.578509],[121.488955,37.578035],[121.489571,37.577086]]],[[[121.485875,37.578509],[121.487723,37.578035],[121.487723,37.578509],[121.485875,37.578509]]],[[[121.487723,37.578509],[121.487723,37.577561],[121.488955,37.578035],[121.488955,37.578509],[121.488339,37.578509],[121.487723,37.578509]]],[[[115.495249,35.896203],[115.487858,35.880688],[115.513112,35.890385],[115.505104,35.899112],[115.495249,35.896203]]]]}},{"type":"Feature","properties":{"adcode":410000,"name":"\u6CB3\u5357\u7701","center":[113.665412,34.757975],"centroid":[113.619717,33.902648],"childrenNum":18,"level":"province","parent":{"adcode":100000},"subFeatureIndex":15,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[112.716747,32.357612],[112.735841,32.356095],[112.776493,32.358623],[112.860877,32.396024],[112.888594,32.37682],[112.912,32.390971],[112.992072,32.378336],[113.000695,32.41674],[113.025949,32.425328],[113.078919,32.394508],[113.107869,32.398551],[113.118956,32.375809],[113.155912,32.380863],[113.158992,32.410677],[113.211962,32.431895],[113.2366,32.407141],[113.333918,32.336377],[113.317904,32.327275],[113.353628,32.294904],[113.376418,32.298445],[113.428773,32.270618],[113.511925,32.316654],[113.624642,32.36115],[113.650511,32.412698],[113.700402,32.420782],[113.735511,32.410677],[113.76754,32.370249],[113.753989,32.328286],[113.768772,32.30148],[113.768156,32.284279],[113.758301,32.27669],[113.749061,32.272642],[113.73859,32.255942],[113.752757,32.215951],[113.782322,32.184553],[113.750293,32.11615],[113.722576,32.12426],[113.728735,32.083197],[113.791561,32.036028],[113.757685,31.98985],[113.817431,31.964467],[113.805728,31.929428],[113.832213,31.918761],[113.830981,31.87913],[113.854387,31.843042],[113.893807,31.847109],[113.914749,31.877098],[113.957865,31.852701],[113.952321,31.793714],[113.988662,31.749959],[114.017611,31.770822],[114.086596,31.782014],[114.121705,31.809482],[114.134024,31.843042],[114.191922,31.852192],[114.235654,31.833382],[114.292936,31.752503],[114.350218,31.755557],[114.403189,31.746906],[114.443841,31.728074],[114.530688,31.742834],[114.549783,31.766751],[114.586123,31.762172],[114.57134,31.660858],[114.547935,31.623665],[114.560869,31.560963],[114.572572,31.553824],[114.61692,31.585437],[114.641558,31.582378],[114.696376,31.525771],[114.778912,31.520669],[114.789383,31.480358],[114.830035,31.45892],[114.870071,31.479337],[114.884238,31.469129],[114.962462,31.494648],[114.995107,31.471171],[115.022824,31.527811],[115.096121,31.508425],[115.114599,31.530362],[115.106592,31.567592],[115.12507,31.599201],[115.16449,31.604808],[115.212533,31.555354],[115.235939,31.555354],[115.218077,31.515057],[115.211301,31.442072],[115.252569,31.421646],[115.250722,31.392021],[115.301229,31.383846],[115.338801,31.40428],[115.373909,31.405813],[115.389924,31.450241],[115.371446,31.495668],[115.415793,31.525771],[115.439815,31.588496],[115.485394,31.608885],[115.476771,31.643028],[115.495249,31.673083],[115.534054,31.698545],[115.553764,31.69549],[115.676336,31.778453],[115.731154,31.76726],[115.767495,31.78761],[115.808147,31.770313],[115.808147,31.770313],[115.851878,31.786593],[115.886371,31.776418],[115.914704,31.814567],[115.893762,31.832365],[115.894994,31.8649],[115.920248,31.920285],[115.909161,31.94314],[115.928871,32.003046],[115.922095,32.049725],[115.941805,32.166318],[115.912856,32.227596],[115.899306,32.390971],[115.865429,32.458662],[115.883291,32.487946],[115.845719,32.501575],[115.8759,32.542448],[115.910393,32.567165],[115.891298,32.576243],[115.861117,32.537403],[115.789052,32.468761],[115.771806,32.505108],[115.742241,32.476335],[115.704669,32.495013],[115.667712,32.409667],[115.657857,32.428864],[115.626445,32.40512],[115.604271,32.425833],[115.57101,32.419266],[115.522967,32.441997],[115.509416,32.466741],[115.5088,32.468761],[115.497713,32.492489],[115.409018,32.549007],[115.411482,32.575235],[115.304924,32.553042],[115.30554,32.583303],[115.267352,32.578261],[115.24333,32.593388],[115.20083,32.591876],[115.182968,32.666973],[115.179273,32.726402],[115.189744,32.770695],[115.211301,32.785791],[115.189744,32.812452],[115.197135,32.856201],[115.155867,32.864747],[115.139237,32.897917],[115.029599,32.906962],[115.035143,32.932582],[115.009273,32.940117],[114.943368,32.935094],[114.916266,32.971251],[114.883006,32.990328],[114.891629,33.020441],[114.925506,33.016928],[114.913187,33.083143],[114.897172,33.086653],[114.902716,33.129764],[114.932897,33.153817],[114.966158,33.147304],[114.990795,33.102195],[115.041302,33.086653],[115.168186,33.088658],[115.194671,33.120743],[115.245178,33.135778],[115.289526,33.131769],[115.303692,33.149809],[115.300613,33.204407],[115.340033,33.260973],[115.335105,33.297997],[115.361591,33.298497],[115.365286,33.336005],[115.341881,33.370997],[115.313547,33.376994],[115.328946,33.403477],[115.315395,33.431451],[115.324634,33.457418],[115.345576,33.449928],[115.345576,33.502842],[115.366518,33.5233],[115.394851,33.506335],[115.422569,33.557219],[115.463837,33.567193],[115.511264,33.55323],[115.564851,33.576169],[115.639995,33.585143],[115.601191,33.658898],[115.601807,33.718653],[115.563003,33.772895],[115.576553,33.787817],[115.614126,33.775879],[115.631988,33.869846],[115.547604,33.874815],[115.577785,33.950307],[115.579017,33.974133],[115.60735,34.030196],[115.642459,34.03218],[115.658473,34.061437],[115.705901,34.059949],[115.736082,34.076805],[115.768726,34.061932],[115.809378,34.062428],[115.846335,34.028708],[115.85003,34.004898],[115.877132,34.002913],[115.876516,34.028708],[115.904233,34.009859],[115.95782,34.007875],[116.00032,33.965199],[115.982457,33.917039],[116.05945,33.860902],[116.055754,33.804727],[116.074232,33.781351],[116.100102,33.782843],[116.132747,33.751501],[116.155536,33.709693],[116.230065,33.735078],[116.263326,33.730101],[116.316912,33.771402],[116.393905,33.782843],[116.408071,33.805721],[116.437021,33.801246],[116.437637,33.846489],[116.486296,33.869846],[116.558361,33.881274],[116.566984,33.9081],[116.631042,33.887733],[116.64336,33.896675],[116.641512,33.978103],[116.599629,34.014324],[116.599629,34.014324],[116.576223,34.068873],[116.576223,34.068873],[116.52818,34.122892],[116.536187,34.151127],[116.565752,34.16945],[116.542962,34.203608],[116.545426,34.241711],[116.582382,34.266444],[116.562056,34.285731],[116.516477,34.296114],[116.456731,34.268917],[116.409303,34.273863],[116.409303,34.273863],[116.372347,34.26595],[116.357564,34.319843],[116.301514,34.342082],[116.255934,34.376665],[116.213435,34.382098],[116.215898,34.403333],[116.178942,34.430487],[116.162312,34.459605],[116.178326,34.496112],[116.204196,34.508442],[116.191261,34.535561],[116.196804,34.575977],[116.156768,34.5538],[116.134594,34.559715],[116.101334,34.60603],[116.037276,34.593222],[115.991081,34.615389],[115.984305,34.589281],[115.838328,34.5676],[115.827241,34.558236],[115.787821,34.580905],[115.697278,34.594207],[115.685575,34.556265],[115.622749,34.574499],[115.553148,34.568586],[115.515575,34.582383],[115.461373,34.637057],[115.433655,34.725149],[115.449054,34.74433],[115.42688,34.805285],[115.317243,34.859321],[115.256265,34.845079],[115.239019,34.87798],[115.251953,34.906451],[115.205142,34.914303],[115.219309,34.96042],[115.157099,34.957968],[115.12815,35.00455],[115.075179,35.000628],[115.028983,34.9717],[115.008041,34.988372],[114.950759,34.989843],[114.923658,34.968757],[114.880542,35.00357],[114.824492,35.012393],[114.852209,35.041797],[114.818948,35.051596],[114.835578,35.076578],[114.883006,35.098615],[114.841738,35.15099],[114.861448,35.182301],[114.932281,35.198441],[114.929201,35.244886],[114.957534,35.261014],[115.04315,35.376744],[115.073947,35.374304],[115.091809,35.416259],[115.117679,35.400163],[115.126302,35.41821],[115.172497,35.426501],[115.237171,35.423087],[115.307388,35.480126],[115.356047,35.490359],[115.34496,35.55368],[115.383148,35.568772],[115.48601,35.710306],[115.52851,35.733628],[115.622749,35.739457],[115.693582,35.754028],[115.696046,35.788989],[115.73485,35.833154],[115.773654,35.854014],[115.81677,35.844312],[115.859886,35.857894],[115.882675,35.879718],[115.873436,35.918985],[115.907929,35.92674],[115.911624,35.960171],[115.984921,35.974218],[116.048979,35.970343],[116.063145,36.028927],[116.099486,36.112129],[116.057602,36.104877],[115.989849,36.045381],[115.89869,36.026507],[115.859886,36.003756],[115.817386,36.012954],[115.779813,35.993588],[115.774886,35.974702],[115.699125,35.966468],[115.648618,35.922863],[115.583945,35.921893],[115.513112,35.890385],[115.487858,35.880688],[115.460141,35.867594],[115.407786,35.80889],[115.363438,35.779765],[115.335105,35.796756],[115.364054,35.894264],[115.353583,35.938854],[115.362822,35.971796],[115.447822,36.01247],[115.449054,36.047317],[115.484163,36.125666],[115.483547,36.148865],[115.465068,36.170125],[115.450902,36.152248],[115.376989,36.128083],[115.365902,36.099074],[115.312931,36.088436],[115.30246,36.127599],[115.279055,36.13775],[115.242098,36.19138],[115.202678,36.208765],[115.202678,36.208765],[115.202678,36.209248],[115.202678,36.209248],[115.201446,36.210214],[115.201446,36.210214],[115.1842,36.193312],[115.12507,36.209731],[115.104744,36.172058],[115.06286,36.178338],[115.048693,36.161912],[115.04623,36.112613],[114.998186,36.069572],[114.914419,36.052155],[114.926737,36.089403],[114.912571,36.140649],[114.858368,36.144516],[114.857752,36.127599],[114.771521,36.124699],[114.734564,36.15563],[114.720398,36.140166],[114.640326,36.137266],[114.588587,36.118414],[114.586739,36.141133],[114.533152,36.171575],[114.480181,36.177855],[114.466015,36.197658],[114.417356,36.205868],[114.408117,36.224699],[114.356378,36.230492],[114.345291,36.255591],[114.299095,36.245938],[114.257827,36.263794],[114.241197,36.251247],[114.2104,36.272962],[114.203009,36.245456],[114.170364,36.245938],[114.170364,36.245938],[114.175907,36.264759],[114.129096,36.280199],[114.080437,36.269585],[114.04348,36.303353],[114.056415,36.329392],[114.002828,36.334214],[113.981887,36.31782],[113.962792,36.353977],[113.911054,36.314927],[113.882104,36.353977],[113.84946,36.347711],[113.856851,36.329392],[113.813119,36.332285],[113.755221,36.366026],[113.731199,36.363135],[113.736127,36.324571],[113.712105,36.303353],[113.716417,36.262347],[113.681924,36.216491],[113.697939,36.181719],[113.651127,36.174473],[113.705946,36.148865],[113.712721,36.129533],[113.655439,36.125182],[113.671453,36.115514],[113.68562,36.056026],[113.660366,36.034735],[113.694859,36.026991],[113.678844,35.985841],[113.648663,35.994073],[113.654207,35.931586],[113.637576,35.870019],[113.660982,35.837035],[113.582758,35.818111],[113.604932,35.797727],[113.587685,35.736542],[113.592613,35.691838],[113.622794,35.674825],[113.625258,35.632518],[113.578446,35.633491],[113.547649,35.656835],[113.55812,35.621816],[113.513773,35.57364],[113.49899,35.532254],[113.439244,35.507412],[113.391817,35.506925],[113.348085,35.468429],[113.31236,35.481101],[113.304353,35.426989],[113.243375,35.449418],[113.189789,35.44893],[113.185477,35.409431],[113.165151,35.412845],[113.149137,35.350878],[113.126347,35.332327],[113.067217,35.353806],[112.996384,35.362104],[112.985913,35.33965],[112.992072,35.29619],[112.936022,35.284466],[112.934174,35.262968],[112.884283,35.243909],[112.822073,35.258082],[112.772798,35.207732],[112.720443,35.206265],[112.628052,35.263457],[112.637291,35.225822],[112.513487,35.218489],[112.390915,35.239021],[112.36751,35.219956],[112.288053,35.219956],[112.304684,35.251728],[112.242474,35.234622],[112.21722,35.253195],[112.13838,35.271275],[112.058924,35.280069],[112.078634,35.219467],[112.03983,35.194039],[112.066315,35.153437],[112.05646,35.098615],[112.062004,35.056005],[112.039214,35.045717],[112.018888,35.068742],[111.97762,35.067272],[111.933272,35.083435],[111.810084,35.062374],[111.807005,35.032977],[111.740483,35.00455],[111.664107,34.984449],[111.681969,34.9511],[111.646861,34.938836],[111.617911,34.894671],[111.592042,34.881416],[111.570484,34.843114],[111.543999,34.853428],[111.502731,34.829851],[111.439289,34.838202],[111.389398,34.815113],[111.345666,34.831816],[111.29208,34.806759],[111.255123,34.819535],[111.232949,34.789559],[111.148566,34.807742],[111.118385,34.756623],[111.035233,34.740887],[110.976103,34.706456],[110.920052,34.730068],[110.903422,34.669056],[110.883712,34.64395],[110.824582,34.615881],[110.791937,34.649858],[110.749437,34.65232],[110.710017,34.605045],[110.610851,34.607508],[110.533242,34.583368],[110.488279,34.610956],[110.424837,34.588295],[110.379257,34.600612],[110.366939,34.566614],[110.404511,34.557743],[110.372482,34.544435],[110.360779,34.516825],[110.403279,34.433448],[110.403279,34.433448],[110.473496,34.393457],[110.503677,34.33714],[110.451938,34.292653],[110.428533,34.288203],[110.43962,34.243196],[110.507989,34.217466],[110.55172,34.213012],[110.55788,34.193214],[110.621938,34.177372],[110.642264,34.161032],[110.61393,34.113478],[110.591757,34.101586],[110.587445,34.023252],[110.620706,34.035652],[110.671213,33.966192],[110.665669,33.937895],[110.627481,33.925482],[110.628713,33.910086],[110.587445,33.887733],[110.612083,33.852453],[110.66259,33.85295],[110.712481,33.833564],[110.74143,33.798759],[110.782082,33.796272],[110.81719,33.751003],[110.831973,33.713675],[110.823966,33.685793],[110.878784,33.634486],[110.966864,33.609071],[111.00382,33.578662],[111.002588,33.535772],[111.02661,33.478386],[111.02661,33.467903],[110.996429,33.435946],[111.025994,33.375495],[111.025994,33.330504],[110.984726,33.255469],[111.046936,33.202905],[111.045704,33.169849],[111.08882,33.181871],[111.12824,33.15532],[111.146102,33.12375],[111.179363,33.115229],[111.192913,33.071609],[111.152877,33.039507],[111.221862,33.042517],[111.258819,33.006389],[111.273601,32.971753],[111.242804,32.930573],[111.255123,32.883846],[111.276065,32.903445],[111.293311,32.859217],[111.380159,32.829049],[111.41342,32.757108],[111.475629,32.760127],[111.458383,32.726402],[111.513202,32.674026],[111.530448,32.628172],[111.577875,32.593388],[111.640701,32.634724],[111.646245,32.605993],[111.713382,32.606497],[111.808853,32.536899],[111.858128,32.528826],[111.890157,32.503089],[111.948671,32.51722],[111.975772,32.471791],[112.014576,32.450077],[112.063851,32.474315],[112.081098,32.425833],[112.155626,32.377326],[112.150083,32.411688],[112.172873,32.385412],[112.206133,32.392992],[112.328089,32.321712],[112.360118,32.3657],[112.390915,32.37126],[112.448814,32.34295],[112.477147,32.380863],[112.530733,32.37682],[112.545516,32.404109],[112.589248,32.381369],[112.612037,32.386928],[112.645298,32.368227],[112.716747,32.357612]]],[[[113.768156,32.284279],[113.768772,32.30148],[113.749061,32.272642],[113.758301,32.27669],[113.768156,32.284279]]]]}},{"type":"Feature","properties":{"adcode":420000,"name":"\u6E56\u5317\u7701","center":[114.298572,30.584355],"centroid":[112.271301,30.987527],"childrenNum":17,"level":"province","parent":{"adcode":100000},"subFeatureIndex":16,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[111.045704,33.169849],[111.034001,33.177864],[111.035849,33.187881],[111.046936,33.202905],[110.984726,33.255469],[110.960704,33.253967],[110.9219,33.203907],[110.865234,33.213921],[110.828893,33.201403],[110.824582,33.158327],[110.753133,33.15031],[110.702626,33.097182],[110.650887,33.157324],[110.623785,33.143796],[110.59422,33.168346],[110.57759,33.250464],[110.54125,33.255469],[110.471032,33.171352],[110.398352,33.176862],[110.398352,33.176862],[110.372482,33.186379],[110.33799,33.160331],[110.285635,33.171352],[110.218497,33.163336],[110.164911,33.209415],[110.031252,33.191888],[109.999223,33.212419],[109.973353,33.203907],[109.916687,33.229942],[109.852013,33.247961],[109.813209,33.236449],[109.732521,33.231443],[109.693101,33.254468],[109.649985,33.251465],[109.619804,33.275484],[109.60687,33.235949],[109.514479,33.237951],[109.498464,33.207412],[109.438718,33.152314],[109.468283,33.140288],[109.522486,33.138785],[109.576073,33.110216],[109.688174,33.116733],[109.704188,33.101694],[109.794731,33.067095],[109.785492,32.987316],[109.76455,32.909474],[109.789804,32.882339],[109.847702,32.893395],[109.856941,32.910479],[109.907448,32.903947],[109.927158,32.887364],[109.988752,32.886359],[110.051578,32.851676],[110.105164,32.832569],[110.142121,32.802895],[110.127338,32.77774],[110.159367,32.767173],[110.156903,32.683093],[110.206179,32.633212],[110.153824,32.593388],[110.124259,32.616579],[110.090382,32.617083],[110.084223,32.580782],[110.017701,32.546989],[109.97089,32.577756],[109.910528,32.592884],[109.816905,32.577252],[109.746072,32.594901],[109.726978,32.608513],[109.631507,32.599943],[109.619804,32.56767],[109.637051,32.540935],[109.575457,32.506622],[109.526797,32.43341],[109.529877,32.405625],[109.502776,32.38895],[109.513247,32.342444],[109.495385,32.300468],[109.528645,32.270112],[109.550203,32.225065],[109.592703,32.219495],[109.604406,32.199241],[109.58716,32.161251],[109.621652,32.106519],[109.590855,32.047696],[109.590855,32.012688],[109.631507,31.962436],[109.62042,31.928412],[109.584696,31.900472],[109.60379,31.885737],[109.633971,31.824738],[109.633971,31.804396],[109.592087,31.789136],[109.585928,31.726546],[109.622268,31.711783],[109.683246,31.719929],[109.731289,31.700582],[109.737449,31.628761],[109.76455,31.602769],[109.745456,31.598182],[109.727594,31.548214],[109.837847,31.555354],[109.894513,31.519139],[109.969658,31.508935],[109.94502,31.47066],[109.98752,31.474744],[110.036795,31.436966],[110.054042,31.410921],[110.118715,31.409899],[110.161831,31.314338],[110.155671,31.279564],[110.180309,31.179774],[110.200019,31.158779],[110.180309,31.121899],[110.147048,31.116776],[110.119947,31.088592],[110.120563,31.0322],[110.140273,31.030661],[110.140889,30.987062],[110.172918,30.978853],[110.153824,30.953708],[110.151976,30.911613],[110.082375,30.799614],[110.048498,30.800642],[110.019549,30.829425],[110.008462,30.883369],[109.943788,30.878746],[109.894513,30.899803],[109.828608,30.864364],[109.780564,30.848437],[109.701724,30.783677],[109.656761,30.760538],[109.661072,30.738936],[109.625348,30.702923],[109.590855,30.69366],[109.574225,30.646818],[109.543428,30.63961],[109.535421,30.664837],[109.435638,30.595832],[109.418392,30.559766],[109.35495,30.487076],[109.337088,30.521623],[109.36111,30.551004],[109.314298,30.599953],[109.299516,30.630341],[109.245313,30.580892],[109.191726,30.545851],[109.191726,30.545851],[109.143683,30.521108],[109.103647,30.565949],[109.09256,30.578831],[109.106111,30.61077],[109.111654,30.646303],[109.071002,30.640125],[109.042669,30.655571],[109.006329,30.626736],[108.971836,30.627766],[108.893612,30.565434],[108.838793,30.503062],[108.808612,30.491202],[108.789518,30.513374],[108.743939,30.494812],[108.698975,30.54482],[108.688504,30.58759],[108.642925,30.578831],[108.6497,30.53915],[108.56778,30.468508],[108.556077,30.487592],[108.512961,30.501515],[108.472925,30.487076],[108.42673,30.492233],[108.411331,30.438586],[108.430425,30.416397],[108.402092,30.376649],[108.431041,30.354446],[108.460606,30.35961],[108.501258,30.314673],[108.524048,30.309506],[108.54499,30.269716],[108.581947,30.255759],[108.551766,30.1637],[108.56778,30.157491],[108.546222,30.104178],[108.513577,30.057571],[108.532055,30.051873],[108.536367,29.983472],[108.517889,29.9394],[108.516041,29.885451],[108.467998,29.864175],[108.433505,29.880262],[108.371295,29.841337],[108.424266,29.815897],[108.422418,29.772791],[108.442744,29.778505],[108.437201,29.741098],[108.460606,29.741098],[108.504338,29.707836],[108.504954,29.728626],[108.548686,29.749412],[108.52528,29.770713],[108.556077,29.818493],[108.601041,29.863656],[108.658939,29.854833],[108.680497,29.800319],[108.676801,29.749412],[108.690968,29.689642],[108.752562,29.649082],[108.786438,29.691721],[108.797525,29.660003],[108.781511,29.635558],[108.844337,29.658443],[108.888068,29.628795],[108.870206,29.596537],[108.901003,29.604863],[108.913322,29.574679],[108.878213,29.539279],[108.888684,29.502305],[108.866511,29.470527],[108.884373,29.440824],[108.927488,29.435612],[108.934264,29.399643],[108.919481,29.3261],[108.983539,29.332883],[108.999553,29.36366],[109.034662,29.360531],[109.060531,29.403292],[109.11227,29.361053],[109.106727,29.288526],[109.141835,29.270256],[109.110422,29.21647],[109.139372,29.168927],[109.162777,29.180946],[109.215748,29.145409],[109.232378,29.119271],[109.274262,29.121885],[109.261328,29.161089],[109.275494,29.202366],[109.257632,29.222738],[109.312451,29.25146],[109.352487,29.284872],[109.343863,29.369398],[109.391291,29.372005],[109.368501,29.413719],[109.418392,29.453332],[109.415928,29.497617],[109.436254,29.488761],[109.433791,29.530948],[109.458428,29.513242],[109.467051,29.560104],[109.488609,29.553336],[109.516326,29.626194],[109.558826,29.606944],[109.578536,29.629836],[109.651833,29.625674],[109.664768,29.599659],[109.717739,29.615269],[109.701108,29.636078],[109.714659,29.673524],[109.760238,29.689122],[109.755311,29.733304],[109.779333,29.757725],[109.869876,29.774869],[109.908064,29.763959],[109.941325,29.774349],[110.02386,29.769674],[110.113788,29.789932],[110.160599,29.753569],[110.219729,29.746814],[110.289946,29.6964],[110.302265,29.661563],[110.339221,29.668324],[110.372482,29.633477],[110.447011,29.664684],[110.467337,29.713034],[110.507373,29.692241],[110.562807,29.712515],[110.642879,29.775907],[110.60038,29.839779],[110.549873,29.848085],[110.538786,29.895828],[110.49875,29.91243],[110.517228,29.961179],[110.557264,29.988137],[110.491358,30.019751],[110.497518,30.055499],[110.531394,30.061197],[110.600996,30.054463],[110.650887,30.07777],[110.712481,30.033223],[110.756212,30.054463],[110.746973,30.112979],[110.851067,30.126439],[110.924364,30.111426],[110.929907,30.063268],[111.031537,30.048765],[111.242188,30.040476],[111.266826,30.01146],[111.3315,29.970512],[111.342587,29.944586],[111.382623,29.95029],[111.394325,29.912948],[111.436825,29.930065],[111.475629,29.918654],[111.527368,29.925916],[111.553854,29.894272],[111.669034,29.888565],[111.669034,29.888565],[111.705375,29.890121],[111.723853,29.909317],[111.723853,29.909317],[111.75773,29.92021],[111.8107,29.901017],[111.861207,29.856909],[111.899396,29.855871],[111.899396,29.855871],[111.925881,29.836665],[111.965917,29.832512],[111.95483,29.796683],[112.008417,29.778505],[112.07617,29.743696],[112.065699,29.681323],[112.089721,29.685482],[112.111279,29.659483],[112.178416,29.656883],[112.202438,29.633997],[112.244322,29.659483],[112.233851,29.61631],[112.303452,29.585609],[112.281278,29.536676],[112.291133,29.517409],[112.333017,29.545007],[112.368741,29.541362],[112.424792,29.598619],[112.439574,29.633997],[112.499321,29.629316],[112.54182,29.60122],[112.572001,29.624113],[112.640371,29.607985],[112.650842,29.592374],[112.693957,29.601741],[112.714283,29.648561],[112.733378,29.645441],[112.788812,29.681323],[112.79374,29.735902],[112.861493,29.78318],[112.894138,29.783699],[112.902145,29.79149],[112.929246,29.77383],[112.923703,29.766557],[112.926782,29.692241],[112.944645,29.682883],[112.974826,29.732784],[113.025949,29.772791],[113.005007,29.693801],[112.915696,29.620992],[112.912,29.606944],[112.950188,29.473132],[113.034572,29.523658],[113.057362,29.522616],[113.078304,29.438218],[113.099861,29.459585],[113.145441,29.449163],[113.181781,29.485636],[113.222433,29.543965],[113.277252,29.594976],[113.37765,29.703158],[113.571671,29.849123],[113.575367,29.809147],[113.550729,29.768115],[113.558736,29.727067],[113.540258,29.699519],[113.547033,29.675603],[113.606164,29.666764],[113.663446,29.684443],[113.680692,29.64336],[113.704098,29.634518],[113.73859,29.579363],[113.710257,29.555419],[113.630801,29.523137],[113.677613,29.513763],[113.755221,29.446557],[113.731199,29.393907],[113.674533,29.388172],[113.660982,29.333405],[113.632033,29.316186],[113.609859,29.25146],[113.651743,29.225872],[113.693011,29.226394],[113.691779,29.19662],[113.66283,29.16945],[113.690547,29.114566],[113.696091,29.077437],[113.722576,29.104631],[113.749677,29.060699],[113.775547,29.095219],[113.816199,29.105154],[113.852539,29.058606],[113.882104,29.065407],[113.876561,29.038202],[113.898119,29.029307],[113.94185,29.047097],[113.952321,29.092604],[113.98743,29.126068],[114.034857,29.152204],[114.063191,29.204978],[114.169748,29.216993],[114.252284,29.23475],[114.259059,29.343839],[114.307102,29.365225],[114.341595,29.327665],[114.376088,29.322969],[114.440145,29.341752],[114.466015,29.324013],[114.519602,29.325578],[114.589819,29.352707],[114.621847,29.379828],[114.67297,29.395993],[114.740724,29.386607],[114.759818,29.363139],[114.784455,29.386086],[114.812173,29.383478],[114.866375,29.404335],[114.895325,29.397557],[114.931049,29.422581],[114.947063,29.465317],[114.935977,29.486678],[114.90518,29.473132],[114.918114,29.454374],[114.888549,29.436134],[114.860216,29.476258],[114.900868,29.505951],[114.940288,29.493971],[114.966773,29.522096],[114.947679,29.542924],[115.00065,29.572076],[115.033295,29.546568],[115.087498,29.560104],[115.086266,29.525741],[115.154019,29.510117],[115.157099,29.584568],[115.120142,29.597578],[115.143548,29.645961],[115.117679,29.655843],[115.113367,29.684963],[115.176809,29.654803],[115.250722,29.660003],[115.28583,29.618391],[115.304924,29.637118],[115.355431,29.649602],[115.412714,29.688602],[115.470612,29.739539],[115.479235,29.811224],[115.51188,29.840299],[115.611662,29.841337],[115.667712,29.850161],[115.706517,29.837703],[115.762567,29.793048],[115.837096,29.748373],[115.909777,29.723949],[115.965827,29.724469],[116.049595,29.761881],[116.087167,29.795125],[116.13521,29.819532],[116.128435,29.897904],[116.073616,29.969993],[116.091479,30.036331],[116.078544,30.062233],[116.088399,30.110391],[116.055754,30.180774],[116.065609,30.204569],[115.997856,30.252657],[115.985537,30.290905],[115.903001,30.31364],[115.91532,30.337919],[115.885139,30.379747],[115.921479,30.416397],[115.894994,30.452517],[115.910393,30.519046],[115.887603,30.542758],[115.876516,30.582438],[115.848799,30.602014],[115.819234,30.597893],[115.81369,30.637035],[115.762567,30.685426],[115.782893,30.751795],[115.851262,30.756938],[115.863581,30.815549],[115.848799,30.828397],[115.865429,30.864364],[115.932566,30.889532],[115.976298,30.931636],[116.03974,30.957813],[116.071769,30.956787],[116.058834,31.012711],[116.015102,31.011685],[116.006479,31.034764],[115.938726,31.04707],[115.939958,31.071678],[115.887603,31.10909],[115.867277,31.147512],[115.837712,31.127022],[115.797676,31.128047],[115.778582,31.112164],[115.700973,31.201276],[115.655394,31.211002],[115.603655,31.17363],[115.585793,31.143926],[115.540213,31.194621],[115.539597,31.231985],[115.507568,31.267799],[115.473076,31.265242],[115.443511,31.344498],[115.40717,31.337854],[115.372062,31.349098],[115.393004,31.389977],[115.373909,31.405813],[115.338801,31.40428],[115.301229,31.383846],[115.250722,31.392021],[115.252569,31.421646],[115.211301,31.442072],[115.218077,31.515057],[115.235939,31.555354],[115.212533,31.555354],[115.16449,31.604808],[115.12507,31.599201],[115.106592,31.567592],[115.114599,31.530362],[115.096121,31.508425],[115.022824,31.527811],[114.995107,31.471171],[114.962462,31.494648],[114.884238,31.469129],[114.870071,31.479337],[114.830035,31.45892],[114.789383,31.480358],[114.778912,31.520669],[114.696376,31.525771],[114.641558,31.582378],[114.61692,31.585437],[114.572572,31.553824],[114.560869,31.560963],[114.547935,31.623665],[114.57134,31.660858],[114.586123,31.762172],[114.549783,31.766751],[114.530688,31.742834],[114.443841,31.728074],[114.403189,31.746906],[114.350218,31.755557],[114.292936,31.752503],[114.235654,31.833382],[114.191922,31.852192],[114.134024,31.843042],[114.121705,31.809482],[114.086596,31.782014],[114.017611,31.770822],[113.988662,31.749959],[113.952321,31.793714],[113.957865,31.852701],[113.914749,31.877098],[113.893807,31.847109],[113.854387,31.843042],[113.830981,31.87913],[113.832213,31.918761],[113.805728,31.929428],[113.817431,31.964467],[113.757685,31.98985],[113.791561,32.036028],[113.728735,32.083197],[113.722576,32.12426],[113.750293,32.11615],[113.782322,32.184553],[113.752757,32.215951],[113.73859,32.255942],[113.749061,32.272642],[113.768772,32.30148],[113.753989,32.328286],[113.76754,32.370249],[113.735511,32.410677],[113.700402,32.420782],[113.650511,32.412698],[113.624642,32.36115],[113.511925,32.316654],[113.428773,32.270618],[113.376418,32.298445],[113.353628,32.294904],[113.317904,32.327275],[113.333918,32.336377],[113.2366,32.407141],[113.211962,32.431895],[113.158992,32.410677],[113.155912,32.380863],[113.118956,32.375809],[113.107869,32.398551],[113.078919,32.394508],[113.025949,32.425328],[113.000695,32.41674],[112.992072,32.378336],[112.912,32.390971],[112.888594,32.37682],[112.860877,32.396024],[112.776493,32.358623],[112.735841,32.356095],[112.733993,32.356601],[112.724138,32.358623],[112.716747,32.357612],[112.645298,32.368227],[112.612037,32.386928],[112.589248,32.381369],[112.545516,32.404109],[112.530733,32.37682],[112.477147,32.380863],[112.448814,32.34295],[112.390915,32.37126],[112.360118,32.3657],[112.328089,32.321712],[112.206133,32.392992],[112.172873,32.385412],[112.150083,32.411688],[112.155626,32.377326],[112.081098,32.425833],[112.063851,32.474315],[112.014576,32.450077],[111.975772,32.471791],[111.948671,32.51722],[111.890157,32.503089],[111.858128,32.528826],[111.808853,32.536899],[111.713382,32.606497],[111.646245,32.605993],[111.640701,32.634724],[111.577875,32.593388],[111.530448,32.628172],[111.513202,32.674026],[111.458383,32.726402],[111.475629,32.760127],[111.41342,32.757108],[111.380159,32.829049],[111.293311,32.859217],[111.276065,32.903445],[111.255123,32.883846],[111.242804,32.930573],[111.273601,32.971753],[111.258819,33.006389],[111.221862,33.042517],[111.152877,33.039507],[111.192913,33.071609],[111.179363,33.115229],[111.146102,33.12375],[111.12824,33.15532],[111.08882,33.181871],[111.045704,33.169849]]],[[[109.106111,30.570587],[109.101183,30.579346],[109.09872,30.579346],[109.106111,30.570587]]],[[[111.046936,33.202905],[111.035849,33.187881],[111.034001,33.177864],[111.045704,33.169849],[111.046936,33.202905]]],[[[112.716747,32.357612],[112.735841,32.356095],[112.733993,32.356601],[112.724138,32.358623],[112.716747,32.357612]]],[[[112.902145,29.79149],[112.894138,29.783699],[112.923703,29.766557],[112.929246,29.77383],[112.902145,29.79149]]]]}},{"type":"Feature","properties":{"adcode":430000,"name":"\u6E56\u5357\u7701","center":[112.982279,28.19409],"centroid":[111.711649,27.629216],"childrenNum":14,"level":"province","parent":{"adcode":100000},"subFeatureIndex":17,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[112.024431,24.740308],[112.03367,24.771286],[112.124214,24.841364],[112.149467,24.837019],[112.167329,24.859828],[112.175337,24.927685],[112.119902,24.963499],[112.12175,24.989538],[112.155626,25.026419],[112.151931,25.055698],[112.177184,25.106649],[112.187039,25.182494],[112.246785,25.185202],[112.256025,25.159204],[112.302836,25.157037],[112.315771,25.175453],[112.365046,25.191701],[112.414937,25.14241],[112.44327,25.185744],[112.458053,25.152162],[112.562762,25.124531],[112.628052,25.140785],[112.660081,25.132658],[112.712436,25.083344],[112.714899,25.025876],[112.742001,24.99876],[112.743233,24.959701],[112.778341,24.947764],[112.780805,24.896747],[112.873812,24.896747],[112.904609,24.921715],[112.941565,24.915745],[112.994536,24.927142],[113.009934,24.977604],[112.979137,25.03401],[113.004391,25.089306],[112.96805,25.141869],[112.97421,25.168412],[113.034572,25.198199],[112.992688,25.247467],[112.958195,25.254503],[112.897833,25.238264],[112.867036,25.249632],[112.854718,25.337829],[112.891058,25.339993],[112.924319,25.296714],[112.93479,25.325929],[112.969898,25.350269],[113.013014,25.352432],[113.078304,25.382174],[113.096782,25.412449],[113.131274,25.414611],[113.11834,25.445418],[113.176854,25.471355],[113.226129,25.50971],[113.248919,25.514031],[113.311129,25.490264],[113.314208,25.442716],[113.341926,25.448661],[113.373338,25.402719],[113.407215,25.401637],[113.449715,25.359463],[113.479896,25.375145],[113.535946,25.368656],[113.579062,25.34432],[113.584606,25.306453],[113.611707,25.327552],[113.680076,25.334584],[113.686852,25.351891],[113.753373,25.362707],[113.76446,25.333502],[113.814967,25.328634],[113.839605,25.363248],[113.877177,25.380552],[113.887032,25.436772],[113.94493,25.441635],[113.962792,25.528072],[113.986198,25.529153],[113.983118,25.599336],[113.957249,25.611749],[113.913517,25.701299],[113.920293,25.741197],[113.961561,25.77731],[113.971416,25.836036],[114.028082,25.893119],[114.028082,25.98138],[114.008372,26.015806],[114.044096,26.076564],[114.087828,26.06635],[114.121089,26.085702],[114.10569,26.097526],[114.188842,26.121172],[114.237501,26.152333],[114.216559,26.203355],[114.181451,26.214631],[114.102611,26.187783],[114.088444,26.168448],[114.013299,26.184023],[113.962792,26.150722],[113.949242,26.192616],[113.972647,26.20604],[113.978807,26.237716],[114.029314,26.266163],[114.021307,26.288701],[114.047792,26.337518],[114.030546,26.376664],[114.062575,26.406149],[114.085364,26.406149],[114.090292,26.455988],[114.110002,26.482775],[114.07243,26.480096],[114.10877,26.56952],[114.019459,26.587182],[113.996669,26.615543],[113.912901,26.613938],[113.860546,26.664221],[113.853771,26.769532],[113.835909,26.806394],[113.877177,26.859262],[113.890112,26.895562],[113.927068,26.948922],[113.892575,26.964925],[113.86301,27.018252],[113.824206,27.036378],[113.803264,27.099261],[113.771851,27.096598],[113.779242,27.137081],[113.846996,27.222262],[113.872865,27.289828],[113.854387,27.30525],[113.872865,27.346721],[113.872865,27.384988],[113.72812,27.350442],[113.699786,27.331836],[113.657902,27.347253],[113.616635,27.345658],[113.605548,27.38924],[113.632033,27.40518],[113.59754,27.428554],[113.591381,27.467855],[113.627105,27.49971],[113.583374,27.524657],[113.579062,27.545354],[113.608627,27.585143],[113.607395,27.625449],[113.652359,27.663619],[113.696707,27.71979],[113.69917,27.740979],[113.763228,27.799228],[113.756453,27.860091],[113.72812,27.874904],[113.752141,27.93361],[113.822974,27.982243],[113.845148,27.971672],[113.864242,28.004966],[113.914133,27.991227],[113.936307,28.018703],[113.966488,28.017646],[113.970184,28.041418],[114.025618,28.031382],[114.047176,28.057263],[114.025002,28.080499],[113.992357,28.161255],[114.012068,28.174972],[114.068734,28.171806],[114.107538,28.182885],[114.109386,28.205038],[114.143879,28.246694],[114.182067,28.249858],[114.198081,28.29097],[114.2529,28.319423],[114.252284,28.395787],[114.214712,28.403157],[114.172212,28.432632],[114.217175,28.466308],[114.218407,28.48472],[114.15435,28.507337],[114.138335,28.533629],[114.08598,28.558337],[114.132176,28.607211],[114.122321,28.623497],[114.157429,28.761566],[114.137719,28.779926],[114.153734,28.829221],[114.124784,28.843376],[114.076741,28.834464],[114.056415,28.872204],[114.060111,28.902596],[114.028082,28.891069],[114.005292,28.917788],[114.008988,28.955498],[113.973879,28.937692],[113.955401,28.978536],[113.961561,28.999476],[113.94185,29.047097],[113.898119,29.029307],[113.876561,29.038202],[113.882104,29.065407],[113.852539,29.058606],[113.816199,29.105154],[113.775547,29.095219],[113.749677,29.060699],[113.722576,29.104631],[113.696091,29.077437],[113.690547,29.114566],[113.66283,29.16945],[113.691779,29.19662],[113.693011,29.226394],[113.651743,29.225872],[113.609859,29.25146],[113.632033,29.316186],[113.660982,29.333405],[113.674533,29.388172],[113.731199,29.393907],[113.755221,29.446557],[113.677613,29.513763],[113.630801,29.523137],[113.710257,29.555419],[113.73859,29.579363],[113.704098,29.634518],[113.680692,29.64336],[113.663446,29.684443],[113.606164,29.666764],[113.547033,29.675603],[113.540258,29.699519],[113.558736,29.727067],[113.550729,29.768115],[113.575367,29.809147],[113.571671,29.849123],[113.37765,29.703158],[113.277252,29.594976],[113.222433,29.543965],[113.181781,29.485636],[113.145441,29.449163],[113.099861,29.459585],[113.078304,29.438218],[113.057362,29.522616],[113.034572,29.523658],[112.950188,29.473132],[112.912,29.606944],[112.915696,29.620992],[113.005007,29.693801],[113.025949,29.772791],[112.974826,29.732784],[112.944645,29.682883],[112.926782,29.692241],[112.923703,29.766557],[112.894138,29.783699],[112.861493,29.78318],[112.79374,29.735902],[112.788812,29.681323],[112.733378,29.645441],[112.714283,29.648561],[112.693957,29.601741],[112.650842,29.592374],[112.640371,29.607985],[112.572001,29.624113],[112.54182,29.60122],[112.499321,29.629316],[112.439574,29.633997],[112.424792,29.598619],[112.368741,29.541362],[112.333017,29.545007],[112.291133,29.517409],[112.281278,29.536676],[112.303452,29.585609],[112.233851,29.61631],[112.244322,29.659483],[112.202438,29.633997],[112.178416,29.656883],[112.111279,29.659483],[112.089721,29.685482],[112.065699,29.681323],[112.07617,29.743696],[112.008417,29.778505],[111.95483,29.796683],[111.965917,29.832512],[111.925881,29.836665],[111.899396,29.855871],[111.899396,29.855871],[111.861207,29.856909],[111.8107,29.901017],[111.75773,29.92021],[111.723853,29.909317],[111.723853,29.909317],[111.705375,29.890121],[111.669034,29.888565],[111.669034,29.888565],[111.553854,29.894272],[111.527368,29.925916],[111.475629,29.918654],[111.436825,29.930065],[111.394325,29.912948],[111.382623,29.95029],[111.342587,29.944586],[111.3315,29.970512],[111.266826,30.01146],[111.242188,30.040476],[111.031537,30.048765],[110.929907,30.063268],[110.924364,30.111426],[110.851067,30.126439],[110.746973,30.112979],[110.756212,30.054463],[110.712481,30.033223],[110.650887,30.07777],[110.600996,30.054463],[110.531394,30.061197],[110.497518,30.055499],[110.491358,30.019751],[110.557264,29.988137],[110.517228,29.961179],[110.49875,29.91243],[110.538786,29.895828],[110.549873,29.848085],[110.60038,29.839779],[110.642879,29.775907],[110.562807,29.712515],[110.507373,29.692241],[110.467337,29.713034],[110.447011,29.664684],[110.372482,29.633477],[110.339221,29.668324],[110.302265,29.661563],[110.289946,29.6964],[110.219729,29.746814],[110.160599,29.753569],[110.113788,29.789932],[110.02386,29.769674],[109.941325,29.774349],[109.908064,29.763959],[109.869876,29.774869],[109.779333,29.757725],[109.755311,29.733304],[109.760238,29.689122],[109.714659,29.673524],[109.701108,29.636078],[109.717739,29.615269],[109.664768,29.599659],[109.651833,29.625674],[109.578536,29.629836],[109.558826,29.606944],[109.516326,29.626194],[109.488609,29.553336],[109.467051,29.560104],[109.458428,29.513242],[109.433791,29.530948],[109.436254,29.488761],[109.415928,29.497617],[109.418392,29.453332],[109.368501,29.413719],[109.391291,29.372005],[109.343863,29.369398],[109.352487,29.284872],[109.312451,29.25146],[109.257632,29.222738],[109.275494,29.202366],[109.261328,29.161089],[109.274262,29.121885],[109.232378,29.119271],[109.240386,29.086328],[109.312451,29.066453],[109.319842,29.042388],[109.294588,29.015177],[109.292741,28.987436],[109.261328,28.952356],[109.235458,28.882161],[109.246545,28.80143],[109.241002,28.776779],[109.2989,28.7474],[109.294588,28.722211],[109.252704,28.691767],[109.271183,28.671816],[109.192958,28.636104],[109.201581,28.597753],[109.235458,28.61982],[109.252089,28.606685],[109.306907,28.62087],[109.319842,28.579886],[109.273646,28.53836],[109.274262,28.494714],[109.260712,28.46473],[109.264407,28.392628],[109.289045,28.373673],[109.268719,28.33786],[109.275494,28.313101],[109.317994,28.277795],[109.33524,28.293605],[109.388211,28.268307],[109.367885,28.254602],[109.340168,28.19027],[109.33832,28.141731],[109.314298,28.103729],[109.298284,28.036136],[109.335856,28.063073],[109.378972,28.034551],[109.362342,28.007608],[109.319842,27.988585],[109.30198,27.956343],[109.32169,27.868027],[109.346943,27.838396],[109.332777,27.782815],[109.37774,27.736741],[109.366653,27.721909],[109.414081,27.725087],[109.470747,27.680049],[109.45658,27.673689],[109.470131,27.62863],[109.451037,27.586204],[109.461508,27.567637],[109.404841,27.55066],[109.303211,27.47582],[109.300132,27.423774],[109.245313,27.41793],[109.202197,27.450331],[109.167089,27.41793],[109.141835,27.448207],[109.142451,27.418461],[109.103647,27.336621],[109.044517,27.331304],[109.053756,27.293551],[108.983539,27.26802],[108.963213,27.235565],[108.907778,27.204699],[108.926873,27.160512],[108.878829,27.106187],[108.79075,27.084343],[108.877597,27.01612],[108.942887,27.017186],[108.942887,27.017186],[108.940423,27.044907],[109.007561,27.08008],[109.032814,27.104056],[109.128901,27.122701],[109.101183,27.06889],[109.165857,27.066758],[109.21698,27.114711],[109.239154,27.14933],[109.264407,27.131755],[109.33524,27.139212],[109.358646,27.153058],[109.415312,27.154123],[109.441182,27.117907],[109.472595,27.134951],[109.454733,27.069423],[109.486761,27.053968],[109.497848,27.079548],[109.520022,27.058764],[109.555131,26.946788],[109.436254,26.892359],[109.452885,26.861932],[109.486761,26.895562],[109.509551,26.877947],[109.513247,26.84004],[109.497232,26.815474],[109.522486,26.749226],[109.528645,26.743881],[109.554515,26.73533],[109.597015,26.756173],[109.568065,26.726243],[109.528645,26.743881],[109.52187,26.749226],[109.486761,26.759913],[109.447957,26.759913],[109.407305,26.719829],[109.35495,26.693098],[109.283501,26.698445],[109.306291,26.661012],[109.334008,26.646036],[109.35495,26.658873],[109.390675,26.598955],[109.407305,26.533116],[109.381436,26.518659],[109.385747,26.493487],[109.362342,26.472061],[109.38082,26.454381],[109.319842,26.418477],[109.29582,26.350389],[109.271183,26.327863],[109.285965,26.295676],[109.325385,26.29031],[109.351255,26.264016],[109.369733,26.277432],[109.442414,26.289774],[109.467051,26.313917],[109.439334,26.238789],[109.47629,26.148035],[109.513863,26.128157],[109.502776,26.096451],[109.449805,26.101826],[109.452885,26.055598],[109.48245,26.029788],[109.513247,25.998056],[109.560058,26.021184],[109.588391,26.019571],[109.635203,26.047533],[109.649369,26.016882],[109.730057,25.989988],[109.710963,25.954478],[109.693717,25.959321],[109.67955,25.921649],[109.685094,25.880197],[109.768246,25.890427],[109.779333,25.866196],[109.811361,25.877504],[109.826144,25.911422],[109.806434,25.973848],[109.782412,25.996981],[109.814441,26.041081],[109.864332,26.027637],[109.898825,26.095377],[109.904368,26.135679],[109.970274,26.195301],[110.03002,26.166299],[110.099005,26.168985],[110.100853,26.132455],[110.065128,26.050221],[110.100853,26.020108],[110.168606,26.028713],[110.181541,26.060437],[110.24991,26.010965],[110.257301,25.961473],[110.325671,25.975462],[110.373098,26.088927],[110.437772,26.153945],[110.477808,26.179727],[110.495054,26.166299],[110.546793,26.233421],[110.552952,26.283335],[110.584365,26.296749],[110.612083,26.333764],[110.643495,26.308552],[110.673676,26.317135],[110.721104,26.294066],[110.742046,26.313917],[110.73527,26.270993],[110.759292,26.248451],[110.836284,26.255966],[110.939762,26.286554],[110.926212,26.320354],[110.944074,26.326791],[110.94469,26.373447],[110.974255,26.385778],[111.008747,26.35897],[111.008132,26.336982],[111.090667,26.308016],[111.208928,26.30426],[111.204616,26.276359],[111.228022,26.261333],[111.277913,26.272066],[111.293311,26.222148],[111.271754,26.217316],[111.274833,26.183486],[111.258203,26.151796],[111.26621,26.095914],[111.244652,26.078177],[111.267442,26.058824],[111.235413,26.048071],[111.189834,25.953402],[111.230486,25.916267],[111.251428,25.864581],[111.29208,25.854349],[111.297007,25.874274],[111.346282,25.906577],[111.376463,25.906039],[111.383239,25.881812],[111.460231,25.885042],[111.4861,25.859196],[111.43313,25.84627],[111.442369,25.77192],[111.399869,25.744431],[111.30871,25.720171],[111.309942,25.645203],[111.343202,25.602574],[111.324724,25.564249],[111.32842,25.521592],[111.279145,25.42326],[111.210776,25.363248],[111.184906,25.367034],[111.138711,25.303748],[111.103602,25.285351],[111.112841,25.21715],[110.998892,25.161371],[110.98411,25.101772],[110.951465,25.04377],[110.968711,24.975434],[111.009363,24.921172],[111.100522,24.945593],[111.101754,25.035095],[111.139943,25.042144],[111.200921,25.074672],[111.221862,25.106649],[111.274833,25.151078],[111.321645,25.105023],[111.36784,25.108817],[111.375231,25.128324],[111.435593,25.093642],[111.416499,25.047566],[111.467622,25.02208],[111.460231,24.992793],[111.43313,24.979774],[111.434977,24.951562],[111.470086,24.92877],[111.447296,24.892947],[111.449144,24.857113],[111.479325,24.797366],[111.461463,24.728894],[111.431282,24.687574],[111.451608,24.665822],[111.499035,24.667997],[111.526752,24.637538],[111.570484,24.64461],[111.588962,24.690837],[111.641933,24.684856],[111.637621,24.715303],[111.666571,24.760961],[111.708455,24.788673],[111.783599,24.785957],[111.814396,24.770199],[111.868599,24.771829],[111.875374,24.756613],[111.929577,24.75607],[111.951135,24.769655],[112.024431,24.740308]]],[[[109.528645,26.743881],[109.522486,26.749226],[109.52187,26.749226],[109.528645,26.743881]]]]}},{"type":"Feature","properties":{"adcode":440000,"name":"\u5E7F\u4E1C\u7701","center":[113.280637,23.125178],"centroid":[113.429919,23.334643],"childrenNum":21,"level":"province","parent":{"adcode":100000},"subFeatureIndex":18,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[113.558736,22.212244],[113.594461,22.228864],[113.595693,22.304186],[113.617866,22.315259],[113.604932,22.339617],[113.627721,22.349027],[113.669605,22.416539],[113.66591,22.438667],[113.624642,22.443092],[113.608627,22.408793],[113.573519,22.41156],[113.631417,22.475723],[113.668373,22.4807],[113.691779,22.514981],[113.740438,22.534329],[113.717033,22.645391],[113.678228,22.726007],[113.733663,22.736494],[113.758301,22.683496],[113.765692,22.665825],[113.803264,22.593463],[113.856851,22.539857],[113.869786,22.459685],[113.893807,22.442539],[113.952937,22.486783],[113.954785,22.491206],[113.976343,22.510558],[114.031778,22.503923],[114.082285,22.512216],[114.095219,22.534329],[114.156813,22.543726],[114.166052,22.559201],[114.222719,22.553122],[114.232574,22.539857],[114.294784,22.563623],[114.321885,22.587385],[114.381631,22.60175],[114.427211,22.589042],[114.472174,22.522168],[114.476486,22.459132],[114.506667,22.438667],[114.549167,22.465769],[114.611377,22.481806],[114.628623,22.513875],[114.614456,22.545384],[114.568261,22.560859],[114.559022,22.583517],[114.603369,22.638763],[114.579964,22.661407],[114.51529,22.655332],[114.567029,22.685705],[114.591666,22.690122],[114.601521,22.730975],[114.689601,22.7674],[114.709927,22.787817],[114.749963,22.764089],[114.73518,22.724351],[114.728405,22.651466],[114.743803,22.632687],[114.746267,22.581859],[114.866375,22.591805],[114.88547,22.538751],[114.922426,22.549253],[114.927969,22.621639],[114.945216,22.645391],[115.039454,22.713862],[115.02344,22.726007],[115.053621,22.747533],[115.076411,22.788368],[115.154635,22.80161],[115.190975,22.77347],[115.190359,22.818711],[115.236555,22.82533],[115.230396,22.776781],[115.319091,22.783402],[115.338185,22.776781],[115.349272,22.712206],[115.381301,22.684048],[115.430576,22.684048],[115.471844,22.697852],[115.575322,22.650914],[115.565467,22.684048],[115.609198,22.753052],[115.541445,22.755259],[115.570394,22.786713],[115.583945,22.82864],[115.654162,22.865591],[115.696046,22.84298],[115.760103,22.834707],[115.788437,22.809885],[115.796444,22.739254],[115.829089,22.734838],[115.883291,22.78561],[115.931334,22.802713],[115.965211,22.800506],[115.99724,22.826985],[116.05637,22.844635],[116.104413,22.816505],[116.14137,22.835259],[116.239304,22.921275],[116.259014,22.932298],[116.302746,22.951588],[116.382818,22.91907],[116.449955,22.936707],[116.50539,22.930645],[116.544194,22.996769],[116.576839,23.014397],[116.557129,23.056253],[116.566368,23.088738],[116.550969,23.109656],[116.566368,23.134424],[116.665534,23.158086],[116.701259,23.198248],[116.74499,23.215299],[116.806584,23.200998],[116.821367,23.240597],[116.798577,23.244996],[116.782563,23.313714],[116.871874,23.4159],[116.871258,23.416449],[116.874338,23.447199],[116.874953,23.447748],[116.895895,23.476295],[116.888504,23.501543],[116.92854,23.530079],[116.963649,23.507031],[117.01046,23.502641],[117.044953,23.539955],[117.085605,23.536663],[117.192778,23.5619],[117.192778,23.629356],[117.147199,23.654027],[117.123793,23.647448],[117.055424,23.694038],[117.048032,23.758687],[117.019083,23.801952],[117.012308,23.855054],[116.981511,23.855602],[116.955642,23.922359],[116.976583,23.931659],[116.981511,23.999471],[116.953178,24.008218],[116.930388,24.064514],[116.9347,24.126794],[116.998757,24.179217],[116.956257,24.216883],[116.933468,24.220157],[116.938395,24.28127],[116.914374,24.287817],[116.919301,24.321087],[116.895895,24.350533],[116.903903,24.369614],[116.839229,24.442097],[116.860787,24.460075],[116.83307,24.496568],[116.796729,24.502014],[116.759157,24.545572],[116.761005,24.583128],[116.815207,24.654944],[116.777635,24.679418],[116.667382,24.658752],[116.623034,24.64189],[116.600861,24.654401],[116.570679,24.621762],[116.530027,24.604895],[116.506622,24.621218],[116.517709,24.652225],[116.485064,24.720196],[116.44626,24.714216],[116.416079,24.744113],[116.419158,24.767482],[116.375427,24.803885],[116.381586,24.82507],[116.417927,24.840821],[116.395137,24.877746],[116.363724,24.87123],[116.345862,24.828872],[116.297202,24.801712],[116.244232,24.793563],[116.251007,24.82507],[116.221442,24.829959],[116.191877,24.877203],[116.153073,24.846795],[116.068073,24.850053],[116.015102,24.905975],[115.985537,24.899461],[115.907929,24.923343],[115.89253,24.936911],[115.885139,24.898918],[115.907313,24.879917],[115.861733,24.863629],[115.863581,24.891318],[115.824161,24.909232],[115.807531,24.862543],[115.790284,24.856027],[115.764415,24.791933],[115.776734,24.774546],[115.756408,24.749004],[115.769342,24.708236],[115.801371,24.705517],[115.780429,24.663103],[115.797676,24.628834],[115.840791,24.584217],[115.843871,24.562446],[115.785357,24.567345],[115.752712,24.546116],[115.68927,24.545027],[115.671408,24.604895],[115.605503,24.62557],[115.569778,24.622306],[115.555611,24.683768],[115.522967,24.702799],[115.476771,24.762591],[115.412714,24.79302],[115.372678,24.774546],[115.358511,24.735416],[115.306772,24.758787],[115.269816,24.749548],[115.258729,24.728894],[115.1842,24.711498],[115.104744,24.667997],[115.083802,24.699537],[115.057317,24.703343],[115.024672,24.669085],[115.00373,24.679418],[114.940288,24.650049],[114.909491,24.661471],[114.893477,24.582584],[114.868839,24.562446],[114.846665,24.602719],[114.827571,24.588026],[114.781376,24.613057],[114.729637,24.608704],[114.73826,24.565168],[114.704999,24.525973],[114.664963,24.583673],[114.627391,24.576598],[114.589819,24.537406],[114.534384,24.559181],[114.429058,24.48622],[114.403189,24.497657],[114.391486,24.563535],[114.363769,24.582584],[114.300943,24.578775],[114.289856,24.619042],[114.258443,24.641346],[114.19069,24.656576],[114.169132,24.689749],[114.27261,24.700624],[114.281849,24.724001],[114.336052,24.749004],[114.342211,24.807145],[114.378551,24.861457],[114.403189,24.877746],[114.395798,24.951019],[114.454928,24.977062],[114.45616,24.99659],[114.506051,24.999844],[114.532536,25.022623],[114.561485,25.077382],[114.604601,25.083886],[114.640326,25.074129],[114.664963,25.10123],[114.735796,25.121822],[114.73518,25.155954],[114.685905,25.173287],[114.693912,25.213902],[114.73518,25.225813],[114.743188,25.274528],[114.714238,25.315651],[114.63663,25.324306],[114.599674,25.385959],[114.541159,25.416773],[114.477718,25.37136],[114.438914,25.376226],[114.43029,25.343779],[114.382863,25.317274],[114.31511,25.33837],[114.2954,25.299961],[114.260291,25.291845],[114.204857,25.29942],[114.190074,25.316733],[114.115545,25.302125],[114.083517,25.275611],[114.055799,25.277775],[114.039785,25.250714],[114.017611,25.273987],[114.029314,25.328093],[114.050256,25.36433],[113.983118,25.415152],[114.003444,25.442716],[113.94493,25.441635],[113.887032,25.436772],[113.877177,25.380552],[113.839605,25.363248],[113.814967,25.328634],[113.76446,25.333502],[113.753373,25.362707],[113.686852,25.351891],[113.680076,25.334584],[113.611707,25.327552],[113.584606,25.306453],[113.579062,25.34432],[113.535946,25.368656],[113.479896,25.375145],[113.449715,25.359463],[113.407215,25.401637],[113.373338,25.402719],[113.341926,25.448661],[113.314208,25.442716],[113.311129,25.490264],[113.248919,25.514031],[113.226129,25.50971],[113.176854,25.471355],[113.11834,25.445418],[113.131274,25.414611],[113.096782,25.412449],[113.078304,25.382174],[113.013014,25.352432],[112.969898,25.350269],[112.93479,25.325929],[112.924319,25.296714],[112.891058,25.339993],[112.854718,25.337829],[112.867036,25.249632],[112.897833,25.238264],[112.958195,25.254503],[112.992688,25.247467],[113.034572,25.198199],[112.97421,25.168412],[112.96805,25.141869],[113.004391,25.089306],[112.979137,25.03401],[113.009934,24.977604],[112.994536,24.927142],[112.941565,24.915745],[112.904609,24.921715],[112.873812,24.896747],[112.780805,24.896747],[112.778341,24.947764],[112.743233,24.959701],[112.742001,24.99876],[112.714899,25.025876],[112.712436,25.083344],[112.660081,25.132658],[112.628052,25.140785],[112.562762,25.124531],[112.458053,25.152162],[112.44327,25.185744],[112.414937,25.14241],[112.365046,25.191701],[112.315771,25.175453],[112.302836,25.157037],[112.256025,25.159204],[112.246785,25.185202],[112.187039,25.182494],[112.177184,25.106649],[112.151931,25.055698],[112.155626,25.026419],[112.12175,24.989538],[112.119902,24.963499],[112.175337,24.927685],[112.167329,24.859828],[112.149467,24.837019],[112.124214,24.841364],[112.03367,24.771286],[112.024431,24.740308],[111.961606,24.721283],[111.939432,24.686487],[111.953598,24.64733],[111.927729,24.629378],[111.936968,24.595645],[111.972077,24.578775],[112.007185,24.534684],[112.009649,24.503103],[111.985011,24.467701],[112.025047,24.438828],[112.057692,24.387057],[112.05954,24.339628],[112.026279,24.294908],[111.990555,24.279634],[111.986243,24.25672],[111.958526,24.263813],[111.912946,24.221795],[111.877222,24.227252],[111.871062,24.176487],[111.886461,24.163929],[111.878454,24.109862],[111.92157,24.012045],[111.940664,23.987989],[111.911714,23.943693],[111.854432,23.947521],[111.845809,23.904305],[111.812548,23.887343],[111.824867,23.832612],[111.8107,23.80688],[111.722621,23.823305],[111.683201,23.822758],[111.683201,23.822758],[111.654868,23.833159],[111.627766,23.78881],[111.621607,23.725819],[111.666571,23.718696],[111.614832,23.65896],[111.615448,23.639225],[111.555702,23.64087],[111.487332,23.626615],[111.479941,23.532822],[111.428818,23.466414],[111.399869,23.469159],[111.383239,23.399423],[111.389398,23.375804],[111.363528,23.340641],[111.376463,23.30437],[111.353058,23.284582],[111.36476,23.240047],[111.388782,23.210349],[111.38447,23.16744],[111.365992,23.14488],[111.377695,23.082132],[111.402333,23.066165],[111.43313,23.073322],[111.433746,23.036428],[111.389398,23.005583],[111.403565,22.99126],[111.362913,22.967568],[111.374615,22.938361],[111.358601,22.889301],[111.218167,22.748085],[111.185522,22.735942],[111.118385,22.744773],[111.058023,22.729871],[111.089435,22.695643],[111.055559,22.648705],[110.997045,22.631582],[110.958856,22.636553],[110.950233,22.61059],[110.896031,22.613352],[110.897878,22.591805],[110.812263,22.576333],[110.778386,22.585174],[110.749437,22.556991],[110.762988,22.518298],[110.740198,22.498947],[110.74143,22.464109],[110.688459,22.477935],[110.712481,22.440879],[110.711249,22.369506],[110.74143,22.361757],[110.749437,22.329653],[110.787009,22.28259],[110.759292,22.274837],[110.725415,22.29588],[110.687843,22.249914],[110.646575,22.220554],[110.678604,22.172901],[110.629329,22.149068],[110.598532,22.162924],[110.602843,22.18343],[110.55788,22.196175],[110.505525,22.14297],[110.456866,22.189526],[110.414366,22.208365],[110.378026,22.164587],[110.34846,22.195621],[110.326287,22.152393],[110.364475,22.125785],[110.35154,22.097508],[110.359547,22.015973],[110.352772,21.97602],[110.374946,21.967695],[110.374946,21.967695],[110.378642,21.939942],[110.378642,21.939942],[110.391576,21.89386],[110.337374,21.887751],[110.290562,21.917736],[110.283787,21.892194],[110.224041,21.882198],[110.224041,21.882198],[110.212338,21.886085],[110.212338,21.886085],[110.196323,21.899968],[110.12857,21.902744],[110.101469,21.86998],[110.050962,21.857205],[109.999839,21.881643],[109.94502,21.84443],[109.940093,21.769419],[109.916071,21.668787],[109.888354,21.652101],[109.888354,21.652101],[109.839695,21.636525],[109.786108,21.637638],[109.778101,21.670455],[109.742992,21.616497],[109.754695,21.556396],[109.788572,21.490702],[109.785492,21.45673],[109.819369,21.445033],[109.894513,21.442248],[109.904368,21.429992],[109.868644,21.365913],[109.770709,21.359783],[109.757775,21.346963],[109.763934,21.226514],[109.674623,21.136671],[109.674007,21.067997],[109.655529,20.929435],[109.664768,20.862343],[109.711579,20.774519],[109.730057,20.719673],[109.74484,20.621124],[109.793499,20.615522],[109.813825,20.574627],[109.811977,20.541566],[109.839695,20.489439],[109.888354,20.475423],[109.895745,20.42776],[109.864948,20.40196],[109.861252,20.376717],[109.916071,20.316677],[109.909296,20.236961],[109.929006,20.211691],[109.993679,20.254368],[110.082375,20.258859],[110.118099,20.219553],[110.168606,20.219553],[110.220345,20.25156],[110.296722,20.249314],[110.349076,20.258859],[110.384185,20.293103],[110.425453,20.291419],[110.452554,20.311064],[110.491358,20.373912],[110.54125,20.42047],[110.550489,20.47262],[110.499982,20.572386],[110.487047,20.640167],[110.466105,20.680485],[110.411286,20.670966],[110.392192,20.682724],[110.407591,20.731987],[110.393424,20.816479],[110.350924,20.84165],[110.327519,20.847802],[110.269004,20.839972],[110.209874,20.860106],[110.184005,20.891979],[110.180925,20.98197],[110.204947,21.003202],[110.208642,21.050684],[110.241903,21.016051],[110.24991,21.045098],[110.296722,21.093684],[110.39096,21.124949],[110.422373,21.190807],[110.451322,21.186343],[110.501213,21.217588],[110.534474,21.204198],[110.626249,21.215915],[110.65951,21.239902],[110.713097,21.3124],[110.768531,21.364799],[110.796248,21.37483],[110.888639,21.367585],[110.929291,21.375945],[111.034617,21.438906],[111.103602,21.455616],[111.171355,21.458401],[111.28284,21.485691],[111.276065,21.443362],[111.250196,21.45116],[111.257587,21.41495],[111.28592,21.41885],[111.353058,21.464528],[111.382623,21.495714],[111.444217,21.514088],[111.494724,21.501282],[111.521825,21.517429],[111.560629,21.50518],[111.609904,21.530234],[111.650556,21.512418],[111.677658,21.529677],[111.693672,21.590345],[111.736788,21.609821],[111.794686,21.61149],[111.832258,21.578659],[111.810084,21.555283],[111.887693,21.578659],[111.941896,21.607039],[111.972692,21.603144],[112.026895,21.633744],[111.997946,21.657107],[111.954214,21.667674],[111.956062,21.710494],[112.036134,21.761637],[112.136532,21.793871],[112.192583,21.789425],[112.196894,21.736624],[112.236315,21.727173],[112.238778,21.702153],[112.353343,21.707157],[112.415553,21.734956],[112.427256,21.789981],[112.445734,21.803317],[112.497473,21.785535],[112.535661,21.753856],[112.647146,21.758302],[112.68595,21.810541],[112.792508,21.921067],[112.841167,21.920512],[112.893522,21.84443],[112.929862,21.838875],[112.989608,21.869424],[113.047507,21.956595],[113.053666,22.012089],[113.032108,22.04593],[113.045659,22.088636],[113.086927,22.12634],[113.091854,22.065344],[113.142977,22.012089],[113.1516,21.979905],[113.235368,21.887751],[113.266781,21.871646],[113.319752,21.909407],[113.330223,21.96159],[113.442324,22.009315],[113.45957,22.043711],[113.527939,22.073663],[113.567359,22.075327],[113.554425,22.107489],[113.554425,22.142416],[113.534715,22.174009],[113.53841,22.209473],[113.558736,22.212244]]],[[[117.024627,23.437865],[116.982743,23.460924],[116.944555,23.440061],[116.951946,23.419744],[117.027091,23.41535],[117.050496,23.400522],[117.081909,23.409309],[117.124409,23.389537],[117.142887,23.400522],[117.142887,23.459826],[117.129336,23.483431],[117.093612,23.459277],[117.058503,23.47355],[117.029554,23.443356],[117.024627,23.437865]]],[[[112.853486,21.740515],[112.876275,21.772753],[112.840551,21.776644],[112.782653,21.739959],[112.724138,21.719945],[112.70566,21.679354],[112.734609,21.666562],[112.780189,21.671568],[112.730914,21.613715],[112.775261,21.564189],[112.817145,21.590345],[112.798667,21.610933],[112.821457,21.655994],[112.804826,21.686583],[112.83316,21.736624],[112.853486,21.740515]]],[[[112.530733,21.583667],[112.563378,21.591458],[112.571385,21.619835],[112.621277,21.606482],[112.665624,21.642644],[112.639139,21.67268],[112.66624,21.683803],[112.663776,21.714386],[112.592327,21.693256],[112.560299,21.666562],[112.57077,21.645982],[112.535045,21.628737],[112.530733,21.583667]]],[[[114.231342,22.016528],[114.311414,22.041493],[114.302791,22.050368],[114.239965,22.03539],[114.231342,22.016528]]],[[[110.43346,21.171276],[110.489511,21.138904],[110.508605,21.140579],[110.544945,21.083633],[110.582517,21.094801],[110.632409,21.210893],[110.589293,21.194713],[110.525235,21.190249],[110.499366,21.213125],[110.445163,21.184669],[110.431612,21.180763],[110.43346,21.171276]]],[[[112.435263,21.663781],[112.456205,21.648763],[112.458669,21.68992],[112.435263,21.663781]]],[[[110.517844,21.079166],[110.459946,21.062971],[110.398352,21.096476],[110.352772,21.079724],[110.305961,21.0881],[110.27578,21.033369],[110.211106,20.986999],[110.201251,20.938378],[110.309656,20.963529],[110.347845,20.984763],[110.407591,20.990351],[110.47288,20.983087],[110.511684,20.916578],[110.535706,20.922727],[110.539402,20.987557],[110.560344,21.061295],[110.517844,21.079166]]],[[[113.765076,21.962145],[113.774315,21.998218],[113.74167,21.991559],[113.765076,21.962145]]],[[[113.723192,21.922177],[113.742902,21.950489],[113.71888,21.951599],[113.723192,21.922177]]],[[[113.142977,21.831653],[113.162071,21.853873],[113.203955,21.861093],[113.167615,21.876644],[113.136818,21.868869],[113.142977,21.831653]]],[[[113.819894,22.396068],[113.813735,22.419858],[113.786634,22.413773],[113.819894,22.396068]]],[[[114.190074,21.986564],[114.229494,21.995443],[114.180835,22.00987],[114.190074,21.986564]]],[[[114.153734,21.97491],[114.171596,22.000437],[114.124169,21.985455],[114.153734,21.97491]]],[[[116.769628,20.771721],[116.761005,20.750456],[116.87249,20.738143],[116.889736,20.683284],[116.849084,20.628405],[116.749302,20.600958],[116.796113,20.582471],[116.862635,20.588633],[116.905135,20.619443],[116.934084,20.676565],[116.925461,20.726949],[116.88604,20.775638],[116.820135,20.780674],[116.769628,20.771721]]],[[[113.025333,21.847762],[113.045659,21.882753],[113.007471,21.869424],[113.025333,21.847762]]],[[[110.405127,20.678245],[110.437772,20.677685],[110.414366,20.710157],[110.405127,20.678245]]],[[[110.644727,20.935584],[110.584365,20.948998],[110.548641,20.908752],[110.562807,20.861224],[110.611467,20.860106],[110.646575,20.917137],[110.644727,20.935584]]],[[[110.556648,20.32734],[110.593604,20.360447],[110.586213,20.381205],[110.556648,20.32734]]],[[[115.943037,21.097592],[115.953508,21.064088],[115.989233,21.035603],[116.040356,21.02052],[116.067457,21.04063],[116.044051,21.110434],[116.024341,21.12439],[115.965211,21.123832],[115.943037,21.097592]]],[[[115.926407,20.981411],[115.939342,20.945644],[115.970139,20.919373],[115.999088,20.922727],[116.000936,20.948439],[115.954124,20.99985],[115.926407,20.981411]]],[[[115.834632,22.722695],[115.834632,22.722143],[115.835248,22.722695],[115.834632,22.722695]]],[[[115.834632,22.723247],[115.834632,22.722695],[115.835248,22.722695],[115.834632,22.723247]]]]}},{"type":"Feature","properties":{"adcode":450000,"name":"\u5E7F\u897F\u58EE\u65CF\u81EA\u6CBB\u533A","center":[108.320004,22.82402],"centroid":[108.7944,23.833381],"childrenNum":14,"level":"province","parent":{"adcode":100000},"subFeatureIndex":19,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[109.48245,26.029788],[109.473211,26.006663],[109.408537,25.967392],[109.435022,25.93349],[109.396834,25.900117],[109.359262,25.836036],[109.339552,25.83442],[109.327849,25.76168],[109.340168,25.731493],[109.296436,25.71424],[109.207125,25.740119],[109.206509,25.788087],[109.147995,25.741736],[109.13198,25.762758],[109.143683,25.795092],[109.095024,25.80533],[109.077778,25.776771],[109.048213,25.790781],[108.989698,25.778926],[108.999553,25.765453],[108.963829,25.732572],[108.940423,25.740119],[108.896076,25.71424],[108.900387,25.682423],[108.953974,25.686738],[108.953974,25.686738],[109.007561,25.734728],[109.043285,25.738502],[109.07901,25.72071],[109.075314,25.693749],[109.030966,25.629556],[109.051908,25.566949],[109.088249,25.550752],[109.024807,25.51241],[108.949046,25.557231],[108.8893,25.543193],[108.890532,25.556151],[108.826474,25.550212],[108.814772,25.526992],[108.781511,25.554531],[108.799989,25.576666],[108.783975,25.628477],[108.724844,25.634952],[108.68912,25.623081],[108.68604,25.587462],[108.660787,25.584763],[108.658323,25.550212],[108.68912,25.533473],[108.634917,25.520512],[108.6072,25.491885],[108.600425,25.432448],[108.62999,25.335666],[108.625062,25.308076],[108.589338,25.335125],[108.585642,25.365952],[108.471693,25.458928],[108.418723,25.443257],[108.400244,25.491344],[108.359592,25.513491],[108.348506,25.536173],[108.308469,25.525912],[108.280752,25.48],[108.241332,25.46217],[108.251803,25.430286],[108.192673,25.458928],[108.162492,25.444878],[108.193289,25.405421],[108.142782,25.390825],[108.152021,25.324306],[108.143398,25.269658],[108.115065,25.210112],[108.080572,25.193867],[108.001732,25.196574],[107.928435,25.155954],[107.872384,25.141327],[107.839124,25.115861],[107.762747,25.125073],[107.789233,25.15487],[107.760283,25.188451],[107.762131,25.229061],[107.741805,25.24043],[107.700537,25.194408],[107.696226,25.219858],[107.661733,25.258833],[107.659885,25.316192],[107.632168,25.310241],[107.599523,25.250714],[107.576734,25.256668],[107.512676,25.209029],[107.472024,25.213902],[107.489886,25.276693],[107.481263,25.299961],[107.432604,25.289139],[107.409198,25.347024],[107.420901,25.392987],[107.375937,25.411908],[107.358691,25.393528],[107.318039,25.401637],[107.308184,25.432988],[107.336517,25.461089],[107.263836,25.543193],[107.232423,25.556691],[107.228728,25.604733],[107.205322,25.607971],[107.185612,25.578825],[107.064272,25.559391],[107.066736,25.50917],[107.015613,25.495666],[106.996519,25.442716],[106.963874,25.437852],[106.987896,25.358922],[107.012533,25.352973],[107.013765,25.275611],[106.975577,25.232851],[106.933077,25.250714],[106.904128,25.231768],[106.888113,25.181953],[106.853005,25.186827],[106.787715,25.17112],[106.764926,25.183036],[106.732281,25.162454],[106.691013,25.179245],[106.644817,25.164621],[106.63989,25.132658],[106.590615,25.08768],[106.551195,25.082802],[106.519782,25.054072],[106.450181,25.033468],[106.442173,25.019369],[106.332536,24.988454],[106.304819,24.973807],[106.253696,24.971094],[106.215508,24.981944],[106.191486,24.95319],[106.145291,24.954275],[106.197645,24.885889],[106.206269,24.851139],[106.173008,24.760417],[106.150218,24.762591],[106.113878,24.714216],[106.047356,24.684312],[106.024566,24.633186],[105.961741,24.677786],[105.942031,24.725088],[105.863806,24.729437],[105.827466,24.702799],[105.767104,24.719109],[105.70551,24.768569],[105.617431,24.78161],[105.607576,24.803885],[105.573083,24.797366],[105.497322,24.809318],[105.493011,24.833217],[105.457286,24.87123],[105.428337,24.930941],[105.365511,24.943423],[105.334099,24.9266],[105.267577,24.929313],[105.251563,24.967296],[105.212758,24.995505],[105.178266,24.985199],[105.157324,24.958616],[105.131454,24.959701],[105.09573,24.92877],[105.096346,24.928228],[105.082179,24.915745],[105.077868,24.918459],[105.039064,24.872859],[105.026745,24.815836],[105.03352,24.787586],[104.899245,24.752809],[104.865985,24.730524],[104.841963,24.676155],[104.771746,24.659839],[104.729246,24.617953],[104.703377,24.645698],[104.628848,24.660927],[104.595587,24.709323],[104.529682,24.731611],[104.489646,24.653313],[104.520443,24.535228],[104.550008,24.518894],[104.575877,24.424661],[104.616529,24.421937],[104.63008,24.397958],[104.610986,24.377246],[104.641783,24.367979],[104.70892,24.321087],[104.721239,24.340173],[104.703377,24.419757],[104.715695,24.441552],[104.74834,24.435559],[104.765587,24.45953],[104.784681,24.443732],[104.83642,24.446456],[104.914028,24.426296],[104.930042,24.411038],[104.979933,24.412673],[105.042759,24.442097],[105.106817,24.414853],[105.111744,24.37234],[105.138846,24.376701],[105.188121,24.347261],[105.196744,24.326541],[105.164715,24.288362],[105.215222,24.214699],[105.24294,24.208695],[105.229389,24.165567],[105.182577,24.167205],[105.20044,24.105491],[105.260186,24.061236],[105.292831,24.074896],[105.273121,24.092927],[105.320548,24.116416],[105.334099,24.094566],[105.395692,24.065607],[105.406163,24.043748],[105.493011,24.016965],[105.533663,24.130071],[105.594641,24.137718],[105.628518,24.126794],[105.649459,24.032816],[105.704278,24.0667],[105.739387,24.059596],[105.765256,24.073804],[105.802212,24.051945],[105.796669,24.023524],[105.841633,24.03063],[105.859495,24.056864],[105.89214,24.040468],[105.908154,24.069432],[105.901995,24.099482],[105.919241,24.122425],[105.963589,24.110954],[105.998081,24.120786],[106.011632,24.099482],[106.04982,24.089649],[106.053516,24.051399],[106.096631,24.018058],[106.091088,23.998924],[106.128044,23.956819],[106.157609,23.891174],[106.192718,23.879135],[106.173008,23.861622],[106.192102,23.824947],[106.136667,23.795381],[106.157609,23.724175],[106.149602,23.665538],[106.120653,23.605229],[106.141595,23.569579],[106.08616,23.524043],[106.071994,23.495506],[106.039965,23.484529],[105.999929,23.447748],[105.986378,23.489469],[105.935871,23.508678],[105.913081,23.499348],[105.89214,23.52514],[105.852103,23.526786],[105.815763,23.507031],[105.805908,23.467512],[105.758481,23.459826],[105.699966,23.40162],[105.637757,23.404366],[105.694423,23.363168],[105.699966,23.327453],[105.649459,23.346136],[105.593409,23.312614],[105.560148,23.257093],[105.526272,23.234548],[105.542902,23.184495],[105.558916,23.177893],[105.574931,23.066165],[105.625438,23.064513],[105.648844,23.078828],[105.724604,23.06231],[105.74185,23.030921],[105.780039,23.022659],[105.805908,22.994565],[105.839169,22.987403],[105.879205,22.916865],[105.893987,22.936707],[105.959277,22.948832],[105.994385,22.93781],[106.019639,22.990709],[106.08616,22.996218],[106.106486,22.980792],[106.153914,22.988505],[106.206885,22.978588],[106.270326,22.907494],[106.258007,22.889852],[106.286957,22.867245],[106.366413,22.857871],[106.37134,22.878273],[106.41384,22.877171],[106.504383,22.91025],[106.525941,22.946628],[106.562282,22.923479],[106.606013,22.925684],[106.631267,22.88103],[106.657136,22.863385],[106.674998,22.891506],[106.716882,22.881582],[106.709491,22.866142],[106.774781,22.812643],[106.776012,22.813746],[106.778476,22.814298],[106.779092,22.813746],[106.779708,22.813195],[106.78094,22.813195],[106.784636,22.812643],[106.796338,22.812091],[106.801882,22.815401],[106.804346,22.816505],[106.808657,22.817608],[106.813585,22.817608],[106.838838,22.803265],[106.820976,22.768504],[106.768621,22.739254],[106.780324,22.708894],[106.756302,22.68957],[106.711955,22.575228],[106.650361,22.575228],[106.61402,22.602303],[106.585071,22.517192],[106.588151,22.472958],[106.560434,22.455813],[106.588767,22.374486],[106.562897,22.345706],[106.663296,22.33076],[106.670071,22.283144],[106.688549,22.260438],[106.7021,22.207257],[106.673151,22.182322],[106.706411,22.160707],[106.691629,22.13521],[106.71565,22.089745],[106.706411,22.021521],[106.683006,21.999882],[106.698404,21.959925],[106.73844,22.008205],[106.790179,22.004876],[106.802498,21.98157],[106.859164,21.986009],[106.926302,21.967695],[106.935541,21.933836],[106.974345,21.923288],[106.999598,21.947714],[107.05996,21.914959],[107.058729,21.887196],[107.018693,21.859427],[107.018077,21.81943],[107.093837,21.803317],[107.148656,21.758858],[107.194851,21.736624],[107.199163,21.718833],[107.242279,21.703265],[107.271844,21.727173],[107.310648,21.733844],[107.356843,21.667674],[107.363619,21.602031],[107.388256,21.594241],[107.431372,21.642088],[107.477567,21.659888],[107.500973,21.613715],[107.486806,21.59591],[107.547168,21.58645],[107.584741,21.614828],[107.603219,21.597579],[107.712856,21.616497],[107.807711,21.655438],[107.837892,21.640419],[107.863761,21.650988],[107.892095,21.622617],[107.893942,21.596466],[107.929051,21.585893],[107.958,21.534131],[108.034376,21.545821],[108.108289,21.508521],[108.193905,21.519656],[108.156332,21.55083],[108.205608,21.597579],[108.241332,21.599805],[108.249955,21.561406],[108.210535,21.505737],[108.230245,21.491259],[108.330027,21.540254],[108.397781,21.533017],[108.492635,21.554727],[108.591802,21.677129],[108.626294,21.67991],[108.658939,21.643757],[108.678033,21.659331],[108.735931,21.628181],[108.734084,21.626512],[108.745786,21.602587],[108.801837,21.626512],[108.83325,21.610933],[108.881293,21.627068],[108.937959,21.589789],[109.093792,21.579215],[109.09872,21.571424],[109.110422,21.568085],[109.138756,21.567528],[109.142451,21.511861],[109.074698,21.489589],[109.039589,21.457844],[109.046365,21.424421],[109.095024,21.419407],[109.138756,21.388762],[109.186183,21.390991],[109.245929,21.425536],[109.41716,21.438906],[109.484914,21.453388],[109.529877,21.437234],[109.540964,21.466199],[109.576689,21.493487],[109.604406,21.523553],[109.612413,21.556953],[109.654913,21.493487],[109.704188,21.462857],[109.785492,21.45673],[109.788572,21.490702],[109.754695,21.556396],[109.742992,21.616497],[109.778101,21.670455],[109.786108,21.637638],[109.839695,21.636525],[109.888354,21.652101],[109.888354,21.652101],[109.916071,21.668787],[109.940093,21.769419],[109.94502,21.84443],[109.999839,21.881643],[110.050962,21.857205],[110.101469,21.86998],[110.12857,21.902744],[110.196323,21.899968],[110.212338,21.886085],[110.212338,21.886085],[110.224041,21.882198],[110.224041,21.882198],[110.283787,21.892194],[110.290562,21.917736],[110.337374,21.887751],[110.391576,21.89386],[110.378642,21.939942],[110.378642,21.939942],[110.374946,21.967695],[110.374946,21.967695],[110.352772,21.97602],[110.359547,22.015973],[110.35154,22.097508],[110.364475,22.125785],[110.326287,22.152393],[110.34846,22.195621],[110.378026,22.164587],[110.414366,22.208365],[110.456866,22.189526],[110.505525,22.14297],[110.55788,22.196175],[110.602843,22.18343],[110.598532,22.162924],[110.629329,22.149068],[110.678604,22.172901],[110.646575,22.220554],[110.687843,22.249914],[110.725415,22.29588],[110.759292,22.274837],[110.787009,22.28259],[110.749437,22.329653],[110.74143,22.361757],[110.711249,22.369506],[110.712481,22.440879],[110.688459,22.477935],[110.74143,22.464109],[110.740198,22.498947],[110.762988,22.518298],[110.749437,22.556991],[110.778386,22.585174],[110.812263,22.576333],[110.897878,22.591805],[110.896031,22.613352],[110.950233,22.61059],[110.958856,22.636553],[110.997045,22.631582],[111.055559,22.648705],[111.089435,22.695643],[111.058023,22.729871],[111.118385,22.744773],[111.185522,22.735942],[111.218167,22.748085],[111.358601,22.889301],[111.374615,22.938361],[111.362913,22.967568],[111.403565,22.99126],[111.389398,23.005583],[111.433746,23.036428],[111.43313,23.073322],[111.402333,23.066165],[111.377695,23.082132],[111.365992,23.14488],[111.38447,23.16744],[111.388782,23.210349],[111.36476,23.240047],[111.353058,23.284582],[111.376463,23.30437],[111.363528,23.340641],[111.389398,23.375804],[111.383239,23.399423],[111.399869,23.469159],[111.428818,23.466414],[111.479941,23.532822],[111.487332,23.626615],[111.555702,23.64087],[111.615448,23.639225],[111.614832,23.65896],[111.666571,23.718696],[111.621607,23.725819],[111.627766,23.78881],[111.654868,23.833159],[111.683201,23.822758],[111.683201,23.822758],[111.722621,23.823305],[111.8107,23.80688],[111.824867,23.832612],[111.812548,23.887343],[111.845809,23.904305],[111.854432,23.947521],[111.911714,23.943693],[111.940664,23.987989],[111.92157,24.012045],[111.878454,24.109862],[111.886461,24.163929],[111.871062,24.176487],[111.877222,24.227252],[111.912946,24.221795],[111.958526,24.263813],[111.986243,24.25672],[111.990555,24.279634],[112.026279,24.294908],[112.05954,24.339628],[112.057692,24.387057],[112.025047,24.438828],[111.985011,24.467701],[112.009649,24.503103],[112.007185,24.534684],[111.972077,24.578775],[111.936968,24.595645],[111.927729,24.629378],[111.953598,24.64733],[111.939432,24.686487],[111.961606,24.721283],[112.024431,24.740308],[111.951135,24.769655],[111.929577,24.75607],[111.875374,24.756613],[111.868599,24.771829],[111.814396,24.770199],[111.783599,24.785957],[111.708455,24.788673],[111.666571,24.760961],[111.637621,24.715303],[111.641933,24.684856],[111.588962,24.690837],[111.570484,24.64461],[111.526752,24.637538],[111.499035,24.667997],[111.451608,24.665822],[111.431282,24.687574],[111.461463,24.728894],[111.479325,24.797366],[111.449144,24.857113],[111.447296,24.892947],[111.470086,24.92877],[111.434977,24.951562],[111.43313,24.979774],[111.460231,24.992793],[111.467622,25.02208],[111.416499,25.047566],[111.435593,25.093642],[111.375231,25.128324],[111.36784,25.108817],[111.321645,25.105023],[111.274833,25.151078],[111.221862,25.106649],[111.200921,25.074672],[111.139943,25.042144],[111.101754,25.035095],[111.100522,24.945593],[111.009363,24.921172],[110.968711,24.975434],[110.951465,25.04377],[110.98411,25.101772],[110.998892,25.161371],[111.112841,25.21715],[111.103602,25.285351],[111.138711,25.303748],[111.184906,25.367034],[111.210776,25.363248],[111.279145,25.42326],[111.32842,25.521592],[111.324724,25.564249],[111.343202,25.602574],[111.309942,25.645203],[111.30871,25.720171],[111.399869,25.744431],[111.442369,25.77192],[111.43313,25.84627],[111.4861,25.859196],[111.460231,25.885042],[111.383239,25.881812],[111.376463,25.906039],[111.346282,25.906577],[111.297007,25.874274],[111.29208,25.854349],[111.251428,25.864581],[111.230486,25.916267],[111.189834,25.953402],[111.235413,26.048071],[111.267442,26.058824],[111.244652,26.078177],[111.26621,26.095914],[111.258203,26.151796],[111.274833,26.183486],[111.271754,26.217316],[111.293311,26.222148],[111.277913,26.272066],[111.228022,26.261333],[111.204616,26.276359],[111.208928,26.30426],[111.090667,26.308016],[111.008132,26.336982],[111.008747,26.35897],[110.974255,26.385778],[110.94469,26.373447],[110.944074,26.326791],[110.926212,26.320354],[110.939762,26.286554],[110.836284,26.255966],[110.759292,26.248451],[110.73527,26.270993],[110.742046,26.313917],[110.721104,26.294066],[110.673676,26.317135],[110.643495,26.308552],[110.612083,26.333764],[110.584365,26.296749],[110.552952,26.283335],[110.546793,26.233421],[110.495054,26.166299],[110.477808,26.179727],[110.437772,26.153945],[110.373098,26.088927],[110.325671,25.975462],[110.257301,25.961473],[110.24991,26.010965],[110.181541,26.060437],[110.168606,26.028713],[110.100853,26.020108],[110.065128,26.050221],[110.100853,26.132455],[110.099005,26.168985],[110.03002,26.166299],[109.970274,26.195301],[109.904368,26.135679],[109.898825,26.095377],[109.864332,26.027637],[109.814441,26.041081],[109.782412,25.996981],[109.806434,25.973848],[109.826144,25.911422],[109.811361,25.877504],[109.779333,25.866196],[109.768246,25.890427],[109.685094,25.880197],[109.67955,25.921649],[109.693717,25.959321],[109.710963,25.954478],[109.730057,25.989988],[109.649369,26.016882],[109.635203,26.047533],[109.588391,26.019571],[109.560058,26.021184],[109.513247,25.998056],[109.48245,26.029788]]],[[[105.096346,24.928228],[105.09573,24.92877],[105.077868,24.918459],[105.082179,24.915745],[105.096346,24.928228]]],[[[109.088249,21.014934],[109.11227,21.02499],[109.117814,21.017727],[109.144299,21.041189],[109.138756,21.067439],[109.09256,21.057386],[109.088865,21.031134],[109.088249,21.014934]]]]}},{"type":"Feature","properties":{"adcode":460000,"name":"\u6D77\u5357\u7701","center":[110.33119,20.031971],"centroid":[109.754859,19.189767],"childrenNum":19,"level":"province","parent":{"adcode":100000},"subFeatureIndex":20,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[110.106396,20.026812],[110.042339,19.991384],[109.997375,19.980136],[109.965346,19.993634],[109.898825,19.994196],[109.855093,19.984073],[109.814441,19.993072],[109.76147,19.981261],[109.712195,20.017253],[109.657993,20.01163],[109.585312,19.98801],[109.526797,19.943573],[109.498464,19.873236],[109.411001,19.895184],[109.349407,19.898561],[109.300748,19.917693],[109.25948,19.898561],[109.255784,19.867045],[109.231147,19.863105],[109.159082,19.79048],[109.169553,19.736411],[109.147379,19.704863],[109.093792,19.68965],[109.048829,19.619764],[108.993394,19.587065],[108.92872,19.524468],[108.855424,19.469182],[108.806148,19.450561],[108.765496,19.400894],[108.694047,19.387346],[108.644772,19.349518],[108.609048,19.276661],[108.591186,19.141592],[108.598577,19.055633],[108.630606,19.003017],[108.637997,18.924346],[108.595497,18.872256],[108.593033,18.809386],[108.65278,18.740258],[108.663866,18.67337],[108.641077,18.565614],[108.644772,18.486738],[108.68912,18.447571],[108.776583,18.441894],[108.881293,18.416344],[108.905315,18.389087],[108.944735,18.314107],[109.006329,18.323198],[109.108575,18.323766],[109.138756,18.268081],[109.17448,18.260125],[109.287813,18.264671],[109.355566,18.215221],[109.441182,18.199303],[109.467051,18.173718],[109.527413,18.169169],[109.584696,18.143579],[109.661688,18.175424],[109.726362,18.177698],[109.749767,18.193618],[109.785492,18.339672],[109.919767,18.375457],[110.022629,18.360121],[110.070672,18.376025],[110.090382,18.399309],[110.116867,18.506602],[110.214186,18.578662],[110.246215,18.609859],[110.329366,18.642185],[110.367555,18.631977],[110.499366,18.651824],[110.499366,18.751592],[110.578206,18.784458],[110.590525,18.838841],[110.585597,18.88075],[110.619474,19.152334],[110.676756,19.286264],[110.706321,19.320153],[110.729727,19.378878],[110.787009,19.399765],[110.844292,19.449996],[110.888023,19.518827],[110.920668,19.552668],[111.008747,19.60398],[111.061718,19.612436],[111.071573,19.628784],[111.043856,19.763448],[111.013675,19.850159],[110.966248,20.018377],[110.940994,20.028499],[110.871393,20.01163],[110.808567,20.035808],[110.778386,20.068415],[110.744509,20.074036],[110.717408,20.148778],[110.687843,20.163947],[110.655814,20.134169],[110.562191,20.110006],[110.526467,20.07516],[110.495054,20.077408],[110.387265,20.113378],[110.318279,20.108882],[110.28933,20.056047],[110.243135,20.077408],[110.144585,20.074598],[110.106396,20.026812]]],[[[112.208597,3.876129],[112.241858,3.845677],[112.280046,3.86777],[112.260336,3.917925],[112.219068,3.908969],[112.208597,3.876129]]],[[[113.266165,8.125929],[113.311129,8.177469],[113.343157,8.193463],[113.288955,8.119412],[113.349933,8.172137],[113.386273,8.238479],[113.386273,8.289412],[113.354244,8.304217],[113.353628,8.237887],[113.293882,8.176284],[113.266165,8.125929]]],[[[111.99733,3.848065],[112.015192,3.823583],[112.064467,3.830152],[112.073707,3.865979],[112.03367,3.892251],[111.99733,3.848065]]],[[[111.463311,17.077491],[111.536607,17.104949],[111.4861,17.058039],[111.559397,17.087788],[111.542151,17.11982],[111.452224,17.092936],[111.463311,17.077491]]],[[[117.708319,15.182712],[117.712631,15.118592],[117.726798,15.105303],[117.827812,15.111659],[117.72495,15.131302],[117.720638,15.195418],[117.74466,15.217941],[117.784696,15.16885],[117.838899,15.15903],[117.782848,15.187333],[117.748355,15.230068],[117.715095,15.222561],[117.708319,15.182712]]],[[[112.241858,3.942404],[112.292365,3.946583],[112.288053,3.97345],[112.254177,3.97942],[112.241858,3.942404]]],[[[111.734324,16.19732],[111.779903,16.19732],[111.81686,16.224329],[111.813164,16.261676],[111.782367,16.273741],[111.716462,16.249036],[111.789758,16.250186],[111.790374,16.220307],[111.734324,16.19732]]],[[[111.649324,16.255931],[111.577875,16.208239],[111.56802,16.162834],[111.611136,16.156511],[111.690592,16.211112],[111.606825,16.177779],[111.598817,16.198469],[111.681353,16.262251],[111.649324,16.255931]]],[[[113.896887,7.607204],[113.919677,7.566865],[113.98743,7.536014],[114.058879,7.537794],[114.157429,7.561525],[114.289856,7.617288],[114.368696,7.638642],[114.407501,7.683126],[114.419819,7.765557],[114.464167,7.814771],[114.540543,7.862201],[114.555326,7.891249],[114.540543,7.945783],[114.511594,7.966527],[114.47279,7.968898],[114.414892,7.952895],[114.268298,7.870501],[114.211632,7.786904],[114.095219,7.721082],[114.029314,7.670078],[113.921524,7.639235],[113.896887,7.607204]]],[[[113.976959,8.872888],[114.013299,8.836817],[114.035473,8.783591],[114.060111,8.816119],[114.041017,8.843913],[113.989894,8.878801],[113.976959,8.872888]]],[[[113.956017,8.840365],[113.975111,8.793054],[114.012068,8.798376],[113.977575,8.841548],[113.956017,8.840365]]],[[[111.97454,16.323715],[112.002258,16.306484],[112.07617,16.323715],[112.074938,16.349558],[112.047221,16.360469],[112.002874,16.350707],[111.97454,16.323715]]],[[[111.739251,16.452898],[111.766969,16.470116],[111.786679,16.520039],[111.759577,16.545857],[111.765737,16.495366],[111.739251,16.452898]]],[[[112.216604,8.866383],[112.206133,8.88767],[112.180264,8.862244],[112.216604,8.866383]]],[[[113.792177,7.373422],[113.828518,7.362145],[113.829134,7.383511],[113.792177,7.373422]]],[[[114.194386,8.764664],[114.201161,8.727991],[114.248588,8.724442],[114.222103,8.784773],[114.194386,8.764664]]],[[[112.232619,16.996239],[112.207981,16.987081],[112.222764,16.960751],[112.292981,16.96762],[112.266496,16.993949],[112.232619,16.996239]]],[[[114.689601,10.345648],[114.702536,10.312677],[114.725941,10.319154],[114.747499,10.37214],[114.717318,10.380381],[114.689601,10.345648]]],[[[115.837712,9.709775],[115.861117,9.694438],[115.867277,9.650191],[115.901153,9.67084],[115.925791,9.781734],[115.901153,9.795888],[115.870972,9.778785],[115.837712,9.709775]]],[[[114.617536,9.965688],[114.642173,9.917351],[114.672355,9.927963],[114.685905,9.979245],[114.617536,9.965688]]],[[[113.769387,7.636862],[113.773699,7.601865],[113.814967,7.603051],[113.831597,7.644573],[113.769387,7.636862]]],[[[109.463972,7.344339],[109.463972,7.315254],[109.513247,7.320002],[109.571761,7.373422],[109.654297,7.479648],[109.709115,7.511095],[109.791651,7.524742],[109.938861,7.504569],[109.948716,7.522962],[109.904984,7.55144],[109.816289,7.572797],[109.72205,7.575763],[109.653065,7.559745],[109.536037,7.448792],[109.463972,7.344339]]],[[[116.273181,8.879392],[116.294123,8.858105],[116.332311,8.901269],[116.305826,8.917233],[116.273181,8.879392]]],[[[112.476531,16.001247],[112.570154,16.011027],[112.612037,16.039212],[112.588016,16.070844],[112.462364,16.043813],[112.448814,16.005274],[112.476531,16.001247]]],[[[112.537509,8.846278],[112.57077,8.815527],[112.639755,8.818484],[112.598487,8.859288],[112.537509,8.846278]]],[[[114.469095,10.836261],[114.475254,10.814512],[114.513442,10.848605],[114.565181,10.836261],[114.593514,10.856245],[114.587355,10.909138],[114.55471,10.900911],[114.469095,10.836261]]],[[[112.409393,16.294996],[112.383524,16.265698],[112.411241,16.2634],[112.475915,16.288677],[112.531349,16.285805],[112.536893,16.312228],[112.509176,16.317397],[112.409393,16.294996]]],[[[116.48876,10.395686],[116.461658,10.34918],[116.467202,10.309144],[116.511549,10.297957],[116.566368,10.304434],[116.644592,10.335051],[116.637817,10.365076],[116.514629,10.34918],[116.542346,10.41982],[116.526332,10.426883],[116.48876,10.395686]]],[[[112.349031,16.912088],[112.360734,16.925257],[112.334249,16.962469],[112.30222,16.963041],[112.349031,16.912088]]],[[[111.500267,16.45175],[111.49534,16.4374],[111.545847,16.43453],[111.538455,16.461507],[111.500267,16.45175]]],[[[115.500177,9.897897],[115.54822,9.869007],[115.585177,9.896128],[115.581481,9.917351],[115.518039,9.933857],[115.500177,9.897897]]],[[[114.669891,8.210048],[114.691449,8.18517],[114.74134,8.189316],[114.726557,8.21064],[114.669891,8.210048]]],[[[114.507899,8.120004],[114.530073,8.103415],[114.595978,8.120596],[114.624311,8.149626],[114.595978,8.15792],[114.507899,8.120004]]],[[[115.16757,8.386523],[115.18112,8.345668],[115.235939,8.321982],[115.285214,8.314876],[115.315395,8.356326],[115.299381,8.370537],[115.202678,8.395403],[115.16757,8.386523]]],[[[113.895039,8.00505],[113.904894,7.963564],[113.9708,7.944597],[113.969568,7.974825],[113.940003,8.018088],[113.895039,8.00505]]],[[[115.436119,9.393447],[115.450286,9.345028],[115.469996,9.3592],[115.456445,9.417064],[115.436119,9.393447]]],[[[116.457347,9.174326],[116.477057,9.137103],[116.500462,9.164282],[116.457347,9.174326]]],[[[113.638192,8.976942],[113.654823,8.962163],[113.730583,9.004133],[113.719496,9.020092],[113.644968,8.989355],[113.638192,8.976942]]],[[[114.696992,11.004322],[114.710543,11.001972],[114.793079,11.07657],[114.799854,11.10476],[114.766593,11.110045],[114.710543,11.039567],[114.696992,11.004322]]],[[[114.62,11.432264],[114.652644,11.436957],[114.661884,11.522584],[114.621232,11.518479],[114.62,11.432264]]],[[[114.910723,10.863298],[114.931049,10.841551],[114.959998,10.902087],[114.934129,10.902674],[114.910723,10.863298]]],[[[111.572948,16.470116],[111.578491,16.447158],[111.614216,16.44027],[111.592658,16.490775],[111.572948,16.470116]]],[[[113.939387,8.875253],[113.912285,8.888853],[113.893807,8.862836],[113.916597,8.837999],[113.939387,8.875253]]],[[[109.936397,7.848566],[109.936397,7.823665],[109.988136,7.8124],[110.050346,7.846194],[110.082991,7.896584],[110.078063,7.949339],[110.0331,7.944597],[109.953027,7.888878],[109.936397,7.848566]]],[[[116.727128,11.501473],[116.765316,11.430504],[116.772092,11.445755],[116.738215,11.514961],[116.727128,11.501473]]],[[[111.690592,16.587731],[111.724469,16.560198],[111.717078,16.59404],[111.690592,16.587731]]],[[[112.507328,16.466098],[112.586784,16.525777],[112.575081,16.537251],[112.499321,16.493645],[112.507328,16.466098]]],[[[111.761425,16.061642],[111.791606,16.028859],[111.828563,16.049565],[111.829795,16.070844],[111.761425,16.061642]]],[[[113.845764,10.018733],[113.865474,10.00341],[113.872249,10.123029],[113.856851,10.12185],[113.845764,10.018733]]],[[[114.791847,8.160882],[114.777064,8.114079],[114.812173,8.110524],[114.818332,8.141332],[114.791847,8.160882]]],[[[116.557129,9.745167],[116.566368,9.718623],[116.593469,9.723932],[116.557129,9.745167]]],[[[115.28275,10.191951],[115.288294,10.172513],[115.333257,10.200198],[115.28891,10.211388],[115.28275,10.191951]]],[[[116.832454,10.476908],[116.855243,10.468669],[116.868794,10.495739],[116.832454,10.476908]]],[[[114.703151,16.170307],[114.816484,16.198469],[114.802934,16.215135],[114.704383,16.199044],[114.703151,16.170307]]],[[[115.97753,9.321997],[115.926407,9.311366],[115.943037,9.269433],[115.976298,9.268252],[115.999088,9.293649],[115.97753,9.321997]]],[[[113.660366,9.231039],[113.676997,9.202683],[113.697323,9.225722],[113.660366,9.231039]]],[[[114.665579,7.590001],[114.671739,7.563898],[114.72163,7.59178],[114.703767,7.614915],[114.665579,7.590001]]],[[[114.493116,10.717504],[114.513442,10.722208],[114.562717,10.778064],[114.539312,10.793349],[114.493116,10.717504]]],[[[117.770529,10.773361],[117.798862,10.753371],[117.835819,10.803931],[117.831507,10.838612],[117.801942,10.839788],[117.775457,10.809222],[117.770529,10.773361]]],[[[114.242429,10.242014],[114.263371,10.239658],[114.326197,10.284414],[114.312646,10.300901],[114.265219,10.275581],[114.242429,10.242014]]],[[[114.688985,11.469217],[114.722246,11.429331],[114.737644,11.463938],[114.720398,11.49209],[114.688985,11.469217]]],[[[116.638433,10.503977],[116.653215,10.491031],[116.70865,10.492797],[116.699411,10.517511],[116.638433,10.503977]]],[[[110.459946,8.116449],[110.471032,8.072012],[110.554184,8.093935],[110.599764,8.156735],[110.568351,8.17273],[110.461793,8.128298],[110.459946,8.116449]]],[[[111.463311,8.52504],[111.497187,8.523857],[111.509506,8.550489],[111.463311,8.52504]]],[[[115.258113,8.509652],[115.271048,8.477098],[115.296301,8.510836],[115.258113,8.509652]]],[[[113.221817,8.073789],[113.235984,8.068456],[113.283411,8.111117],[113.269861,8.120004],[113.221817,8.073789]]],[[[114.074893,10.929118],[114.064422,10.904437],[114.110002,10.918541],[114.096451,10.947921],[114.074893,10.929118]]],[[[117.258068,10.320331],[117.299336,10.313855],[117.299952,10.343293],[117.274698,10.358011],[117.258068,10.320331]]],[[[114.212864,16.040937],[114.31203,16.034611],[114.306487,16.057616],[114.268914,16.059342],[114.212864,16.040937]]],[[[110.609003,8.010976],[110.642879,7.989049],[110.641648,8.031125],[110.622553,8.041199],[110.609003,8.010976]]],[[[115.509416,8.490712],[115.521735,8.460523],[115.55438,8.461115],[115.569162,8.49012],[115.558691,8.523265],[115.514344,8.519122],[115.509416,8.490712]]],[[[111.539071,7.54432],[111.542767,7.524742],[111.583419,7.543134],[111.612368,7.592374],[111.566788,7.606017],[111.539071,7.54432]]],[[[111.657947,8.672974],[111.665955,8.622683],[111.717694,8.6499],[111.697368,8.67889],[111.657947,8.672974]]],[[[110.460561,7.799948],[110.487663,7.783346],[110.511684,7.805878],[110.485199,7.827815],[110.460561,7.799948]]],[[[112.345952,8.926101],[112.392763,8.919598],[112.384756,8.946793],[112.345952,8.926101]]],[[[116.469665,9.810041],[116.47952,9.785272],[116.50847,9.79117],[116.490607,9.821246],[116.469665,9.810041]]],[[[111.925265,8.070827],[111.949287,8.05068],[111.994866,8.047125],[112.018888,8.065494],[112.013344,8.093342],[111.95483,8.106377],[111.925265,8.070827]]],[[[114.457392,15.599305],[114.466631,15.576823],[114.491884,15.59354],[114.457392,15.599305]]],[[[114.985252,11.078332],[115.013585,11.063062],[115.021592,11.085967],[114.985252,11.078332]]],[[[114.10569,16.004124],[114.110618,15.978235],[114.132176,16.007575],[114.10569,16.004124]]],[[[116.045283,10.095338],[116.067457,10.065876],[116.09579,10.09357],[116.070537,10.12892],[116.045283,10.095338]]],[[[117.266691,10.69163],[117.348611,10.672811],[117.404661,10.671047],[117.418212,10.702803],[117.369553,10.7422],[117.293176,10.735144],[117.266691,10.69163]]],[[[114.854057,7.244611],[114.819564,7.192957],[114.869455,7.198895],[114.854057,7.244611]]],[[[112.823305,8.910729],[112.859645,8.889444],[112.873196,8.908364],[112.823305,8.910729]]],[[[111.670266,7.651098],[111.707223,7.648725],[111.749722,7.703884],[111.726317,7.729977],[111.691208,7.711593],[111.670266,7.651098]]],[[[112.207981,8.835634],[112.235699,8.827355],[112.241242,8.852783],[112.207981,8.835634]]],[[[112.527654,5.79444],[112.531965,5.766455],[112.562762,5.75931],[112.562146,5.820637],[112.527654,5.79444]]],[[[114.599058,8.846278],[114.645869,8.844504],[114.68221,8.881166],[114.665579,8.900087],[114.61692,8.881166],[114.599058,8.846278]]],[[[114.868223,7.983715],[114.907643,7.951117],[114.914419,8.00742],[114.883006,8.011569],[114.868223,7.983715]]],[[[112.945261,8.410204],[112.985297,8.429149],[112.949572,8.432701],[112.945261,8.410204]]],[[[113.600004,6.961929],[113.580294,6.920344],[113.62341,6.942325],[113.600004,6.961929]]],[[[116.695099,16.345538],[116.708034,16.299591],[116.738831,16.303612],[116.747454,16.360469],[116.717889,16.373676],[116.695099,16.345538]]],[[[117.347995,10.090624],[117.354154,10.06293],[117.385567,10.063519],[117.373864,10.106532],[117.347995,10.090624]]],[[[112.993304,19.472003],[113.038883,19.480466],[113.048123,19.506417],[113.029028,19.52898],[112.993304,19.52616],[112.980369,19.496263],[112.993304,19.472003]]],[[[114.448153,16.034035],[114.485109,16.034611],[114.521449,16.056466],[114.465399,16.067393],[114.448153,16.034035]]],[[[113.832213,19.158552],[113.874097,19.151203],[113.914749,19.172119],[113.920293,19.223551],[113.875945,19.237113],[113.80696,19.222986],[113.799568,19.19925],[113.832213,19.158552]]],[[[112.650842,5.106941],[112.655769,5.055676],[112.682871,5.048522],[112.719211,5.075944],[112.678559,5.121247],[112.650842,5.106941]]],[[[111.638853,7.907254],[111.665339,7.887099],[111.712766,7.887099],[111.713382,7.927408],[111.651788,7.932743],[111.638853,7.907254]]],[[[112.244322,8.874662],[112.281278,8.855148],[112.288669,8.885896],[112.244322,8.874662]]],[[[112.89229,7.844416],[112.929862,7.827815],[112.93171,7.867537],[112.89229,7.844416]]],[[[112.583088,5.56159],[112.606494,5.51751],[112.614501,5.465683],[112.642834,5.489512],[112.616349,5.568737],[112.583088,5.56159]]],[[[112.523342,5.656289],[112.5449,5.616386],[112.565842,5.63068],[112.56153,5.677133],[112.528886,5.687257],[112.523342,5.656289]]],[[[115.361591,13.948985],[115.397315,13.92517],[115.438583,13.943757],[115.423185,13.977443],[115.377605,13.968732],[115.361591,13.948985]]],[[[113.596924,10.240836],[113.617866,10.22199],[113.638192,10.243192],[113.596924,10.240836]]],[[[113.860546,15.477068],[113.893807,15.463802],[113.890112,15.490909],[113.860546,15.477068]]],[[[112.907072,4.993079],[112.943413,4.991887],[112.952652,5.047926],[112.910768,5.038388],[112.907072,4.993079]]],[[[112.557219,5.109326],[112.568922,5.071771],[112.610806,5.091443],[112.601567,5.120055],[112.557219,5.109326]]],[[[112.350263,5.621747],[112.385988,5.615791],[112.385372,5.643187],[112.350263,5.621747]]],[[[112.226459,16.759147],[112.254177,16.751698],[112.262184,16.778057],[112.211061,16.795819],[112.226459,16.759147]]],[[[112.233851,15.69612],[112.25972,15.734718],[112.240626,15.741055],[112.20367,15.71398],[112.233851,15.69612]]],[[[112.612037,5.367973],[112.640371,5.347715],[112.685334,5.371548],[112.690878,5.406702],[112.62374,5.401935],[112.612037,5.367973]]],[[[112.472219,5.73966],[112.496857,5.736683],[112.498089,5.775387],[112.472219,5.73966]]],[[[113.217506,6.306249],[113.230441,6.285429],[113.243991,6.325878],[113.217506,6.306249]]],[[[116.152457,9.579384],[116.189413,9.565221],[116.187565,9.595317],[116.152457,9.579384]]],[[[114.948911,7.508722],[114.960614,7.484988],[115.012353,7.484988],[115.013585,7.525928],[114.948911,7.508722]]],[[[111.553854,7.807656],[111.585267,7.771487],[111.619759,7.840265],[111.603745,7.861608],[111.553854,7.807656]]],[[[113.938771,15.8355],[113.973263,15.805558],[113.9708,15.83953],[113.938771,15.8355]]],[[[114.926122,16.036911],[114.895325,16.036336],[114.910723,16.001823],[114.926122,16.036911]]],[[[116.749302,9.056736],[116.699411,9.049053],[116.70865,9.024229],[116.740679,9.028367],[116.749302,9.056736]]],[[[112.64653,16.385733],[112.681639,16.400661],[112.660081,16.426494],[112.64653,16.385733]]],[[[111.203384,19.92557],[111.203384,19.925007],[111.204,19.92557],[111.204,19.926132],[111.203384,19.92557]]],[[[115.758256,10.461018],[115.776118,10.434534],[115.801987,10.463372],[115.758256,10.461018]]],[[[117.21372,10.735144],[117.187235,10.741612],[117.206945,10.707507],[117.21372,10.735144]]],[[[112.671784,16.331755],[112.701349,16.331755],[112.677943,16.35932],[112.671784,16.331755]]],[[[115.782277,10.541046],[115.795212,10.499858],[115.805067,10.524571],[115.782277,10.541046]]],[[[112.512255,9.544566],[112.50856,9.525679],[112.568922,9.516826],[112.567074,9.554008],[112.512255,9.544566]]],[[[114.610145,15.649447],[114.581195,15.625242],[114.610761,15.615444],[114.610145,15.649447]]],[[[117.299336,11.077745],[117.264227,11.063062],[117.284553,11.02547],[117.304263,11.027232],[117.299336,11.077745]]],[[[117.691073,11.048965],[117.653501,11.046029],[117.655965,11.024882],[117.690457,11.016658],[117.691073,11.048965]]],[[[114.166668,9.38459],[114.175291,9.342075],[114.195617,9.350933],[114.194386,9.391676],[114.166668,9.38459]]],[[[114.714854,9.736909],[114.693296,9.741038],[114.680978,9.707416],[114.704999,9.700337],[114.714854,9.736909]]],[[[112.554139,5.97839],[112.553523,5.942676],[112.575697,5.971247],[112.554139,5.97839]]]]}},{"type":"Feature","properties":{"adcode":500000,"name":"\u91CD\u5E86\u5E02","center":[106.504962,29.533155],"centroid":[107.8839,30.067297],"childrenNum":38,"level":"province","parent":{"adcode":100000},"subFeatureIndex":21,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[106.37442,28.525742],[106.403369,28.569901],[106.477282,28.530474],[106.504999,28.544669],[106.466811,28.586193],[106.49268,28.591448],[106.502535,28.661313],[106.528405,28.677591],[106.492064,28.742153],[106.461883,28.761041],[106.45326,28.817162],[106.474202,28.832891],[106.561666,28.756319],[106.56105,28.719062],[106.587535,28.691767],[106.6171,28.691242],[106.617716,28.66709],[106.651593,28.649235],[106.618332,28.645033],[106.63681,28.622972],[106.606629,28.593024],[106.615252,28.549401],[106.567825,28.523638],[106.564745,28.485247],[106.632499,28.503655],[106.697788,28.47683],[106.708259,28.450524],[106.747063,28.467361],[106.726121,28.51838],[106.73844,28.554657],[106.77786,28.563068],[106.756918,28.607211],[106.784636,28.626649],[106.807425,28.589346],[106.830831,28.623497],[106.866556,28.624548],[106.889345,28.695966],[106.86594,28.690192],[106.824056,28.756319],[106.845614,28.780975],[106.872099,28.777304],[106.923222,28.809821],[106.951555,28.766812],[106.988512,28.776254],[106.983584,28.851239],[107.019308,28.861722],[107.016229,28.882685],[107.14188,28.887925],[107.206554,28.868535],[107.194851,28.838134],[107.227496,28.836037],[107.210866,28.817686],[107.219489,28.772582],[107.24659,28.76209],[107.261373,28.792514],[107.327894,28.810869],[107.339597,28.845997],[107.383945,28.848618],[107.41351,28.911502],[107.441227,28.943977],[107.412894,28.960211],[107.396879,28.993718],[107.364235,29.00942],[107.395647,29.041341],[107.369778,29.091558],[107.412278,29.094696],[107.427676,29.128682],[107.408582,29.138091],[107.401807,29.184603],[107.441227,29.203934],[107.486806,29.174153],[107.570574,29.218037],[107.589052,29.150113],[107.605683,29.164747],[107.659885,29.162656],[107.700537,29.141228],[107.749197,29.199754],[107.810791,29.139137],[107.784921,29.048143],[107.823725,29.034016],[107.810175,28.984295],[107.867457,28.960211],[107.882855,29.00628],[107.908725,29.007327],[107.925971,29.032446],[108.026369,29.039772],[108.070717,29.086328],[108.150173,29.053375],[108.193289,29.072207],[108.256115,29.040295],[108.277673,29.091558],[108.306622,29.079006],[108.297999,29.045527],[108.319556,28.961258],[108.345426,28.943453],[108.357745,28.893165],[108.346658,28.859625],[108.352817,28.815589],[108.386078,28.803003],[108.385462,28.772058],[108.347274,28.736381],[108.332491,28.679166],[108.439049,28.634003],[108.501258,28.626649],[108.50249,28.63768],[108.575787,28.659738],[108.636149,28.621396],[108.604736,28.590922],[108.610896,28.539412],[108.573939,28.531],[108.586874,28.463678],[108.609664,28.43579],[108.609048,28.407368],[108.576403,28.38631],[108.580099,28.343128],[108.611512,28.324691],[108.667562,28.334173],[108.656475,28.359981],[108.697127,28.401051],[108.688504,28.422106],[108.640461,28.456838],[108.657091,28.47683],[108.700207,28.48209],[108.709446,28.501026],[108.746402,28.45105],[108.780279,28.42579],[108.759953,28.389995],[108.783359,28.380518],[108.761801,28.304143],[108.726692,28.282011],[108.738395,28.228241],[108.772888,28.212949],[108.821547,28.245113],[108.855424,28.199764],[108.89546,28.219804],[108.923793,28.217167],[108.929952,28.19027],[109.005713,28.162837],[109.026655,28.220331],[109.086401,28.184467],[109.101799,28.202401],[109.081473,28.247749],[109.117198,28.277795],[109.152306,28.349975],[109.153538,28.417369],[109.191726,28.471043],[109.23361,28.474726],[109.274262,28.494714],[109.273646,28.53836],[109.319842,28.579886],[109.306907,28.62087],[109.252089,28.606685],[109.235458,28.61982],[109.201581,28.597753],[109.192958,28.636104],[109.271183,28.671816],[109.252704,28.691767],[109.294588,28.722211],[109.2989,28.7474],[109.241002,28.776779],[109.246545,28.80143],[109.235458,28.882161],[109.261328,28.952356],[109.292741,28.987436],[109.294588,29.015177],[109.319842,29.042388],[109.312451,29.066453],[109.240386,29.086328],[109.232378,29.119271],[109.215748,29.145409],[109.162777,29.180946],[109.139372,29.168927],[109.110422,29.21647],[109.141835,29.270256],[109.106727,29.288526],[109.11227,29.361053],[109.060531,29.403292],[109.034662,29.360531],[108.999553,29.36366],[108.983539,29.332883],[108.919481,29.3261],[108.934264,29.399643],[108.927488,29.435612],[108.884373,29.440824],[108.866511,29.470527],[108.888684,29.502305],[108.878213,29.539279],[108.913322,29.574679],[108.901003,29.604863],[108.870206,29.596537],[108.888068,29.628795],[108.844337,29.658443],[108.781511,29.635558],[108.797525,29.660003],[108.786438,29.691721],[108.752562,29.649082],[108.690968,29.689642],[108.676801,29.749412],[108.680497,29.800319],[108.658939,29.854833],[108.601041,29.863656],[108.556077,29.818493],[108.52528,29.770713],[108.548686,29.749412],[108.504954,29.728626],[108.504338,29.707836],[108.460606,29.741098],[108.437201,29.741098],[108.442744,29.778505],[108.422418,29.772791],[108.424266,29.815897],[108.371295,29.841337],[108.433505,29.880262],[108.467998,29.864175],[108.516041,29.885451],[108.517889,29.9394],[108.536367,29.983472],[108.532055,30.051873],[108.513577,30.057571],[108.546222,30.104178],[108.56778,30.157491],[108.551766,30.1637],[108.581947,30.255759],[108.54499,30.269716],[108.524048,30.309506],[108.501258,30.314673],[108.460606,30.35961],[108.431041,30.354446],[108.402092,30.376649],[108.430425,30.416397],[108.411331,30.438586],[108.42673,30.492233],[108.472925,30.487076],[108.512961,30.501515],[108.556077,30.487592],[108.56778,30.468508],[108.6497,30.53915],[108.642925,30.578831],[108.688504,30.58759],[108.698975,30.54482],[108.743939,30.494812],[108.789518,30.513374],[108.808612,30.491202],[108.838793,30.503062],[108.893612,30.565434],[108.971836,30.627766],[109.006329,30.626736],[109.042669,30.655571],[109.071002,30.640125],[109.111654,30.646303],[109.106111,30.61077],[109.105495,30.585529],[109.102415,30.580377],[109.101183,30.579346],[109.106111,30.570587],[109.103647,30.565949],[109.143683,30.521108],[109.191726,30.545851],[109.191726,30.545851],[109.245313,30.580892],[109.299516,30.630341],[109.314298,30.599953],[109.36111,30.551004],[109.337088,30.521623],[109.35495,30.487076],[109.418392,30.559766],[109.435638,30.595832],[109.535421,30.664837],[109.543428,30.63961],[109.574225,30.646818],[109.590855,30.69366],[109.625348,30.702923],[109.661072,30.738936],[109.656761,30.760538],[109.701724,30.783677],[109.780564,30.848437],[109.828608,30.864364],[109.894513,30.899803],[109.943788,30.878746],[110.008462,30.883369],[110.019549,30.829425],[110.048498,30.800642],[110.082375,30.799614],[110.151976,30.911613],[110.153824,30.953708],[110.172918,30.978853],[110.140889,30.987062],[110.140273,31.030661],[110.120563,31.0322],[110.119947,31.088592],[110.147048,31.116776],[110.180309,31.121899],[110.200019,31.158779],[110.180309,31.179774],[110.155671,31.279564],[110.161831,31.314338],[110.118715,31.409899],[110.054042,31.410921],[110.036795,31.436966],[109.98752,31.474744],[109.94502,31.47066],[109.969658,31.508935],[109.894513,31.519139],[109.837847,31.555354],[109.727594,31.548214],[109.745456,31.598182],[109.76455,31.602769],[109.737449,31.628761],[109.731289,31.700582],[109.683246,31.719929],[109.622268,31.711783],[109.585928,31.726546],[109.549587,31.73011],[109.502776,31.716365],[109.446109,31.722983],[109.381436,31.705165],[109.281654,31.716874],[109.282885,31.743343],[109.253936,31.759628],[109.279806,31.776418],[109.27611,31.79931],[109.195422,31.817618],[109.191111,31.85575],[109.123357,31.892851],[109.085785,31.929428],[108.986619,31.980205],[108.902235,31.984774],[108.837561,32.039072],[108.78767,32.04871],[108.75133,32.076098],[108.734084,32.106519],[108.676801,32.10297],[108.585026,32.17189],[108.543758,32.177969],[108.509882,32.201266],[108.480317,32.182527],[108.399013,32.194176],[108.370063,32.172397],[108.379918,32.154158],[108.379918,32.154158],[108.379303,32.153652],[108.379303,32.153652],[108.399628,32.147065],[108.452599,32.090296],[108.42981,32.061391],[108.372527,32.077112],[108.344194,32.067477],[108.362056,32.035521],[108.329411,32.020299],[108.370063,31.988835],[108.351585,31.971575],[108.307238,31.997463],[108.259194,31.967006],[108.343578,31.860834],[108.386078,31.854226],[108.391005,31.829822],[108.429194,31.809482],[108.455063,31.814059],[108.462454,31.780488],[108.535135,31.757592],[108.50557,31.734182],[108.514809,31.693963],[108.546838,31.665442],[108.519121,31.665952],[108.468614,31.636404],[108.442744,31.633856],[108.390389,31.591555],[108.386078,31.544134],[108.339266,31.539033],[108.344194,31.512506],[108.254883,31.49873],[108.233941,31.506894],[108.191441,31.492096],[108.193289,31.467598],[108.224086,31.464024],[108.216079,31.41041],[108.153869,31.371073],[108.185898,31.336831],[108.095354,31.268311],[108.038688,31.252964],[108.031297,31.217144],[108.07626,31.231985],[108.089811,31.204859],[108.025753,31.116263],[108.009123,31.109602],[108.026985,31.061938],[108.060246,31.052197],[108.00358,31.025533],[107.983254,30.983983],[107.942602,30.989114],[107.948145,30.918802],[107.994956,30.908533],[107.956152,30.882855],[107.851443,30.792931],[107.788001,30.81966],[107.763979,30.817091],[107.760899,30.862823],[107.739957,30.884396],[107.693146,30.875665],[107.645103,30.821202],[107.57735,30.847924],[107.515756,30.854603],[107.483111,30.838675],[107.498509,30.809381],[107.454162,30.771851],[107.454162,30.771851],[107.424597,30.74048],[107.458473,30.704981],[107.477567,30.664837],[107.516987,30.644759],[107.485575,30.598408],[107.427676,30.547397],[107.443075,30.53348],[107.408582,30.521623],[107.368546,30.468508],[107.338981,30.386459],[107.288474,30.337402],[107.257677,30.267131],[107.221337,30.213878],[107.103076,30.090198],[107.080286,30.094341],[107.084598,30.063786],[107.058113,30.043066],[107.055649,30.040476],[107.054417,30.040994],[107.053801,30.043584],[107.02054,30.036849],[106.981736,30.08502],[106.976193,30.083467],[106.94478,30.037367],[106.913367,30.025451],[106.862244,30.033223],[106.83699,30.049801],[106.825904,30.03115],[106.825904,30.03115],[106.785252,30.01716],[106.732281,30.027005],[106.724274,30.058607],[106.699636,30.074145],[106.700252,30.111944],[106.672535,30.122297],[106.677462,30.156974],[106.631883,30.186464],[106.611557,30.235596],[106.612173,30.235596],[106.611557,30.235596],[106.612173,30.235596],[106.612173,30.235596],[106.612789,30.235596],[106.612789,30.235596],[106.642354,30.246454],[106.611557,30.292455],[106.560434,30.31519],[106.545035,30.296589],[106.49884,30.295556],[106.43971,30.308473],[106.428623,30.254725],[106.401521,30.242318],[106.349167,30.24542],[106.334384,30.225772],[106.306667,30.238182],[106.296196,30.205603],[106.264167,30.20974],[106.260471,30.19681],[106.232754,30.185947],[106.180399,30.233011],[106.168696,30.303823],[106.132356,30.323972],[106.132972,30.30279],[106.07261,30.333786],[106.031958,30.373551],[105.943263,30.372002],[105.900763,30.405042],[105.84656,30.410203],[105.825618,30.436006],[105.792357,30.427234],[105.760329,30.384393],[105.754785,30.342567],[105.714749,30.322939],[105.720292,30.252657],[105.720292,30.252657],[105.670401,30.254208],[105.624822,30.275918],[105.619894,30.234045],[105.662394,30.210258],[105.642684,30.186464],[105.56138,30.183878],[105.550909,30.179222],[105.536127,30.152834],[105.596489,30.159043],[105.574315,30.130579],[105.580474,30.129544],[105.582938,30.127474],[105.582938,30.12385],[105.642068,30.101072],[105.638988,30.076216],[105.676561,30.06793],[105.687032,30.038922],[105.719677,30.042548],[105.753553,30.018196],[105.723372,29.975177],[105.730763,29.95755],[105.70243,29.924879],[105.717213,29.893753],[105.738771,29.891159],[105.707974,29.840818],[105.610655,29.837184],[105.582938,29.819013],[105.574931,29.744216],[105.529351,29.707836],[105.481924,29.718232],[105.476996,29.674564],[105.419714,29.688082],[105.38091,29.628275],[105.347649,29.621512],[105.332867,29.592374],[105.296526,29.571035],[105.305149,29.53199],[105.337794,29.459064],[105.334099,29.441345],[105.387069,29.455416],[105.387069,29.455416],[105.399388,29.43874],[105.372903,29.421018],[105.426489,29.419454],[105.441888,29.400686],[105.418482,29.352185],[105.42033,29.31149],[105.465294,29.322969],[105.459134,29.288526],[105.513337,29.283306],[105.521344,29.264513],[105.557684,29.278608],[105.631597,29.280174],[105.647612,29.253027],[105.695039,29.287482],[105.712285,29.219082],[105.703662,29.176766],[105.728916,29.134432],[105.752321,29.129727],[105.728916,29.1062],[105.757865,29.069068],[105.74185,29.039249],[105.766488,29.013607],[105.762176,28.9911],[105.801596,28.958116],[105.797285,28.936121],[105.830546,28.944501],[105.852719,28.927217],[105.910002,28.920407],[105.969132,28.965971],[106.001161,28.973824],[106.040581,28.955498],[106.049204,28.906263],[106.070762,28.919884],[106.101559,28.898928],[106.14837,28.901548],[106.173008,28.920407],[106.206885,28.904691],[106.264783,28.845997],[106.245689,28.817686],[106.267863,28.779402],[106.274022,28.739004],[106.305435,28.704365],[106.304203,28.64976],[106.346703,28.583565],[106.33192,28.55308],[106.37442,28.525742]]],[[[109.105495,30.585529],[109.106111,30.61077],[109.09256,30.578831],[109.09872,30.579346],[109.101183,30.579346],[109.102415,30.580377],[109.105495,30.585529]]],[[[105.582938,30.12385],[105.582938,30.127474],[105.580474,30.129544],[105.574315,30.130579],[105.582938,30.12385]]],[[[109.09872,30.579346],[109.09256,30.578831],[109.103647,30.565949],[109.106111,30.570587],[109.09872,30.579346]]],[[[107.058113,30.043066],[107.053801,30.043584],[107.054417,30.040994],[107.055649,30.040476],[107.058113,30.043066]]]]}},{"type":"Feature","properties":{"adcode":510000,"name":"\u56DB\u5DDD\u7701","center":[104.065735,30.659462],"centroid":[102.693453,30.674545],"childrenNum":21,"level":"province","parent":{"adcode":100000},"subFeatureIndex":22,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[101.167885,27.198311],[101.170349,27.175421],[101.145095,27.103523],[101.157414,27.094999],[101.136472,27.023584],[101.228863,26.981992],[101.227015,26.959057],[101.264587,26.955323],[101.267667,26.903034],[101.311399,26.903034],[101.365602,26.883819],[101.399478,26.841642],[101.358826,26.771669],[101.387159,26.753501],[101.389623,26.723036],[101.435819,26.740675],[101.458608,26.731054],[101.445674,26.77434],[101.466,26.786629],[101.513427,26.768463],[101.453065,26.692563],[101.481398,26.673313],[101.461072,26.640687],[101.461688,26.606447],[101.402558,26.604841],[101.395783,26.591998],[101.422884,26.53151],[101.458608,26.49563],[101.506652,26.499915],[101.530057,26.467239],[101.565782,26.454381],[101.637847,26.388995],[101.635383,26.357361],[101.660636,26.346635],[101.64031,26.318745],[101.597195,26.303187],[101.586108,26.279579],[101.630455,26.224832],[101.690202,26.241473],[101.737013,26.219463],[101.773353,26.168448],[101.807846,26.156093],[101.796759,26.114723],[101.839875,26.082477],[101.835563,26.04592],[101.857737,26.049146],[101.899621,26.099139],[101.929186,26.105588],[101.954439,26.084627],[102.020961,26.096451],[102.080091,26.065275],[102.107808,26.068501],[102.152156,26.10935],[102.174946,26.146961],[102.242699,26.190468],[102.245163,26.212483],[102.349257,26.244694],[102.392372,26.296749],[102.440416,26.300505],[102.542046,26.338591],[102.570995,26.362723],[102.629509,26.336982],[102.638748,26.307479],[102.60056,26.250598],[102.659074,26.221611],[102.709581,26.210336],[102.739762,26.268846],[102.785342,26.298895],[102.833385,26.306406],[102.878964,26.364332],[102.893131,26.338591],[102.975667,26.340736],[102.998457,26.371839],[102.988602,26.413117],[102.989833,26.482775],[103.030485,26.485989],[103.052659,26.514374],[103.052659,26.555602],[103.035413,26.556673],[103.026174,26.664221],[103.005232,26.679195],[103.008312,26.710741],[102.983674,26.76686],[102.991681,26.775409],[102.966428,26.837904],[102.949181,26.843244],[102.896211,26.91264],[102.894979,27.001724],[102.870957,27.026782],[102.913457,27.133886],[102.904218,27.227584],[102.883276,27.258444],[102.883892,27.299401],[102.899906,27.317481],[102.941174,27.405711],[102.989833,27.367983],[103.055739,27.40943],[103.080992,27.396679],[103.141355,27.420586],[103.144434,27.450331],[103.19063,27.523596],[103.232514,27.56976],[103.2861,27.561802],[103.29226,27.632872],[103.349542,27.678459],[103.369868,27.708664],[103.393274,27.709194],[103.461027,27.779638],[103.487512,27.794992],[103.509686,27.843687],[103.502295,27.910343],[103.55465,27.978543],[103.515846,27.965329],[103.486281,28.033495],[103.459179,28.021345],[103.430846,28.044587],[103.470266,28.122204],[103.533092,28.168641],[103.573128,28.230877],[103.643961,28.260401],[103.692004,28.232459],[103.701859,28.198709],[103.740048,28.23615],[103.770845,28.233514],[103.828743,28.285173],[103.877402,28.316262],[103.85338,28.356822],[103.860156,28.383677],[103.828743,28.44],[103.829975,28.459995],[103.781931,28.525216],[103.802873,28.563068],[103.838598,28.587244],[103.833054,28.605109],[103.850917,28.66709],[103.887873,28.61982],[103.910047,28.631377],[103.953779,28.600906],[104.05972,28.6277],[104.09606,28.603533],[104.117618,28.634003],[104.170589,28.642932],[104.230951,28.635579],[104.252509,28.660788],[104.277147,28.631902],[104.314719,28.615617],[104.372617,28.649235],[104.425588,28.626649],[104.417581,28.598279],[104.375697,28.5946],[104.355987,28.555183],[104.323342,28.540989],[104.260516,28.536257],[104.267908,28.499448],[104.254357,28.403683],[104.282074,28.343128],[104.314103,28.306778],[104.343052,28.334173],[104.384936,28.329959],[104.392943,28.291497],[104.420045,28.269889],[104.44961,28.269889],[104.462544,28.241422],[104.442834,28.211366],[104.402182,28.202928],[104.406494,28.173389],[104.444682,28.16231],[104.448994,28.113758],[104.40095,28.091586],[104.373233,28.051454],[104.304248,28.050926],[104.30856,28.036136],[104.362762,28.012891],[104.40095,27.952114],[104.44961,27.927794],[104.508124,27.878078],[104.52537,27.889187],[104.573413,27.840512],[104.607906,27.857974],[104.63316,27.850567],[104.676275,27.880723],[104.743413,27.901881],[104.761891,27.884426],[104.796999,27.901352],[104.842579,27.900294],[104.888158,27.914574],[104.918339,27.938897],[104.903557,27.962158],[104.975006,28.020816],[104.980549,28.063073],[105.002107,28.064129],[105.061853,28.096866],[105.119752,28.07205],[105.168411,28.071522],[105.186889,28.054623],[105.167795,28.021345],[105.186273,27.995454],[105.218302,27.990698],[105.247867,28.009193],[105.270657,27.99704],[105.284823,27.935725],[105.233084,27.895534],[105.25957,27.827811],[105.313157,27.810874],[105.273736,27.794992],[105.293447,27.770637],[105.290367,27.712373],[105.308229,27.704955],[105.353809,27.748924],[105.44004,27.775402],[105.508409,27.769048],[105.560148,27.71979],[105.605112,27.715552],[105.62359,27.666269],[105.664242,27.683759],[105.720292,27.683759],[105.722756,27.706015],[105.76772,27.7182],[105.848408,27.707074],[105.868118,27.732504],[105.922937,27.746805],[105.92848,27.729855],[105.985146,27.749983],[106.023335,27.746805],[106.063987,27.776991],[106.120653,27.779638],[106.193334,27.75422],[106.242609,27.767459],[106.306667,27.808756],[106.337464,27.859033],[106.325145,27.898708],[106.304819,27.899237],[106.307899,27.936782],[106.328225,27.952643],[106.286341,28.007079],[106.246305,28.011835],[106.266631,28.066769],[106.206885,28.134343],[106.145291,28.162837],[106.093552,28.162837],[105.975907,28.107952],[105.943878,28.143314],[105.895219,28.119565],[105.860727,28.159672],[105.889676,28.237732],[105.848408,28.255656],[105.824386,28.306251],[105.78743,28.335753],[105.76464,28.308359],[105.76464,28.308359],[105.737539,28.30309],[105.730147,28.271997],[105.68888,28.284119],[105.639604,28.324164],[105.655003,28.362615],[105.643916,28.431053],[105.612503,28.438947],[105.62359,28.517854],[105.68272,28.534154],[105.693191,28.58882],[105.712901,28.586718],[105.74493,28.616668],[105.757249,28.590397],[105.78435,28.610889],[105.808372,28.599855],[105.884748,28.595126],[105.889676,28.670765],[105.937719,28.686517],[105.966668,28.761041],[106.001161,28.743727],[106.030726,28.694917],[106.085544,28.681792],[106.103407,28.636104],[106.14837,28.642932],[106.17116,28.629275],[106.184711,28.58882],[106.254928,28.539412],[106.2925,28.537309],[106.304819,28.505233],[106.349167,28.473674],[106.379348,28.479986],[106.37442,28.525742],[106.33192,28.55308],[106.346703,28.583565],[106.304203,28.64976],[106.305435,28.704365],[106.274022,28.739004],[106.267863,28.779402],[106.245689,28.817686],[106.264783,28.845997],[106.206885,28.904691],[106.173008,28.920407],[106.14837,28.901548],[106.101559,28.898928],[106.070762,28.919884],[106.049204,28.906263],[106.040581,28.955498],[106.001161,28.973824],[105.969132,28.965971],[105.910002,28.920407],[105.852719,28.927217],[105.830546,28.944501],[105.797285,28.936121],[105.801596,28.958116],[105.762176,28.9911],[105.766488,29.013607],[105.74185,29.039249],[105.757865,29.069068],[105.728916,29.1062],[105.752321,29.129727],[105.728916,29.134432],[105.703662,29.176766],[105.712285,29.219082],[105.695039,29.287482],[105.647612,29.253027],[105.631597,29.280174],[105.557684,29.278608],[105.521344,29.264513],[105.513337,29.283306],[105.459134,29.288526],[105.465294,29.322969],[105.42033,29.31149],[105.418482,29.352185],[105.441888,29.400686],[105.426489,29.419454],[105.372903,29.421018],[105.399388,29.43874],[105.387069,29.455416],[105.387069,29.455416],[105.334099,29.441345],[105.337794,29.459064],[105.305149,29.53199],[105.296526,29.571035],[105.332867,29.592374],[105.347649,29.621512],[105.38091,29.628275],[105.419714,29.688082],[105.476996,29.674564],[105.481924,29.718232],[105.529351,29.707836],[105.574931,29.744216],[105.582938,29.819013],[105.610655,29.837184],[105.707974,29.840818],[105.738771,29.891159],[105.717213,29.893753],[105.70243,29.924879],[105.730763,29.95755],[105.723372,29.975177],[105.753553,30.018196],[105.719677,30.042548],[105.687032,30.038922],[105.676561,30.06793],[105.638988,30.076216],[105.642068,30.101072],[105.582938,30.12385],[105.574315,30.130579],[105.596489,30.159043],[105.536127,30.152834],[105.550909,30.179222],[105.556453,30.187499],[105.558916,30.18543],[105.56138,30.183878],[105.642684,30.186464],[105.662394,30.210258],[105.619894,30.234045],[105.624822,30.275918],[105.670401,30.254208],[105.720292,30.252657],[105.720292,30.252657],[105.714749,30.322939],[105.754785,30.342567],[105.760329,30.384393],[105.792357,30.427234],[105.825618,30.436006],[105.84656,30.410203],[105.900763,30.405042],[105.943263,30.372002],[106.031958,30.373551],[106.07261,30.333786],[106.132972,30.30279],[106.132356,30.323972],[106.168696,30.303823],[106.180399,30.233011],[106.232754,30.185947],[106.260471,30.19681],[106.260471,30.204051],[106.260471,30.207672],[106.264167,30.20974],[106.296196,30.205603],[106.306667,30.238182],[106.334384,30.225772],[106.349167,30.24542],[106.401521,30.242318],[106.428623,30.254725],[106.43971,30.308473],[106.49884,30.295556],[106.545035,30.296589],[106.560434,30.31519],[106.611557,30.292455],[106.642354,30.246454],[106.612789,30.235596],[106.612789,30.235596],[106.612173,30.235596],[106.612173,30.235596],[106.611557,30.235596],[106.612173,30.235596],[106.611557,30.235596],[106.631883,30.186464],[106.677462,30.156974],[106.672535,30.122297],[106.700252,30.111944],[106.699636,30.074145],[106.724274,30.058607],[106.732281,30.027005],[106.785252,30.01716],[106.825904,30.03115],[106.825904,30.03115],[106.83699,30.049801],[106.862244,30.033223],[106.913367,30.025451],[106.94478,30.037367],[106.976193,30.083467],[106.975577,30.088127],[106.976809,30.088127],[106.977425,30.087609],[106.978656,30.087609],[106.979888,30.088127],[106.980504,30.087609],[106.981736,30.08502],[107.02054,30.036849],[107.053801,30.043584],[107.058113,30.043066],[107.084598,30.063786],[107.080286,30.094341],[107.103076,30.090198],[107.221337,30.213878],[107.257677,30.267131],[107.288474,30.337402],[107.338981,30.386459],[107.368546,30.468508],[107.408582,30.521623],[107.443075,30.53348],[107.427676,30.547397],[107.485575,30.598408],[107.516987,30.644759],[107.477567,30.664837],[107.458473,30.704981],[107.424597,30.74048],[107.454162,30.771851],[107.454162,30.771851],[107.498509,30.809381],[107.483111,30.838675],[107.515756,30.854603],[107.57735,30.847924],[107.645103,30.821202],[107.693146,30.875665],[107.739957,30.884396],[107.760899,30.862823],[107.763979,30.817091],[107.788001,30.81966],[107.851443,30.792931],[107.956152,30.882855],[107.994956,30.908533],[107.948145,30.918802],[107.942602,30.989114],[107.983254,30.983983],[108.00358,31.025533],[108.060246,31.052197],[108.026985,31.061938],[108.009123,31.109602],[108.025753,31.116263],[108.089811,31.204859],[108.07626,31.231985],[108.031297,31.217144],[108.038688,31.252964],[108.095354,31.268311],[108.185898,31.336831],[108.153869,31.371073],[108.216079,31.41041],[108.224086,31.464024],[108.193289,31.467598],[108.191441,31.492096],[108.233941,31.506894],[108.254883,31.49873],[108.344194,31.512506],[108.339266,31.539033],[108.386078,31.544134],[108.390389,31.591555],[108.442744,31.633856],[108.468614,31.636404],[108.519121,31.665952],[108.546838,31.665442],[108.514809,31.693963],[108.50557,31.734182],[108.535135,31.757592],[108.462454,31.780488],[108.455063,31.814059],[108.429194,31.809482],[108.391005,31.829822],[108.386078,31.854226],[108.343578,31.860834],[108.259194,31.967006],[108.307238,31.997463],[108.351585,31.971575],[108.370063,31.988835],[108.329411,32.020299],[108.362056,32.035521],[108.344194,32.067477],[108.372527,32.077112],[108.42981,32.061391],[108.452599,32.090296],[108.399628,32.147065],[108.379303,32.153652],[108.379303,32.153652],[108.379918,32.154158],[108.379918,32.154158],[108.370063,32.172397],[108.399013,32.194176],[108.480317,32.182527],[108.509882,32.201266],[108.507418,32.245819],[108.469846,32.270618],[108.414411,32.252399],[108.389773,32.263533],[108.310933,32.232152],[108.240716,32.274666],[108.179738,32.221521],[108.156948,32.239239],[108.143398,32.219495],[108.086731,32.233165],[108.018362,32.2119],[108.024521,32.177462],[107.979558,32.146051],[107.924739,32.197215],[107.890247,32.214432],[107.864377,32.201266],[107.812022,32.247844],[107.753508,32.338399],[107.707929,32.331826],[107.680827,32.397035],[107.648183,32.413709],[107.598291,32.411688],[107.527458,32.38238],[107.489886,32.425328],[107.456625,32.41775],[107.460937,32.453612],[107.438763,32.465732],[107.436299,32.529835],[107.382097,32.54043],[107.356843,32.506622],[107.313727,32.489965],[107.287858,32.457147],[107.263836,32.403099],[107.212097,32.428864],[107.189924,32.468256],[107.127098,32.482393],[107.080286,32.542448],[107.108004,32.600951],[107.098765,32.649338],[107.05996,32.686115],[107.066736,32.708779],[107.012533,32.721367],[106.912751,32.704247],[106.903512,32.721367],[106.854853,32.724388],[106.82344,32.705254],[106.793259,32.712807],[106.783404,32.735967],[106.733513,32.739491],[106.670071,32.694678],[106.626955,32.682086],[106.585687,32.68813],[106.517934,32.668485],[106.498224,32.649338],[106.451412,32.65992],[106.421231,32.616579],[106.389203,32.62666],[106.347935,32.671003],[106.301123,32.680071],[106.267863,32.673522],[106.254928,32.693671],[106.17424,32.6977],[106.120037,32.719856],[106.071378,32.758114],[106.07261,32.76365],[106.093552,32.82402],[106.071378,32.828546],[106.044277,32.864747],[106.011632,32.829552],[105.969132,32.849162],[105.93156,32.826032],[105.893371,32.838603],[105.849024,32.817985],[105.825002,32.824523],[105.822538,32.770192],[105.779423,32.750061],[105.768952,32.767676],[105.719061,32.759624],[105.677793,32.726402],[105.596489,32.69921],[105.585402,32.728919],[105.563844,32.724891],[105.555221,32.794343],[105.534279,32.790822],[105.524424,32.847654],[105.495475,32.873292],[105.49917,32.911986],[105.467757,32.930071],[105.414171,32.922034],[105.408011,32.885857],[105.38091,32.876307],[105.396308,32.85067],[105.396308,32.85067],[105.427721,32.784281],[105.454207,32.767173],[105.448663,32.732946],[105.368591,32.712807],[105.347033,32.68259],[105.297758,32.656897],[105.263265,32.652362],[105.219534,32.666469],[105.215222,32.63674],[105.185041,32.617587],[105.111128,32.593893],[105.0791,32.637244],[105.026745,32.650346],[104.925115,32.607505],[104.881999,32.600951],[104.845659,32.653873],[104.820405,32.662943],[104.795768,32.643292],[104.739717,32.635228],[104.696601,32.673522],[104.643015,32.661935],[104.592508,32.695685],[104.582653,32.722374],[104.526602,32.728416],[104.51182,32.753585],[104.458849,32.748551],[104.363994,32.822511],[104.294393,32.835586],[104.277147,32.90244],[104.288234,32.942628],[104.345516,32.940117],[104.378161,32.953174],[104.383704,32.994343],[104.426204,33.010906],[104.391711,33.035493],[104.337509,33.038002],[104.378161,33.109214],[104.351059,33.158828],[104.32827,33.223934],[104.323958,33.26898],[104.303632,33.304499],[104.333813,33.315502],[104.386168,33.298497],[104.420045,33.327004],[104.373849,33.345004],[104.292545,33.336505],[104.272219,33.391486],[104.22048,33.404477],[104.213089,33.446932],[104.180444,33.472895],[104.155191,33.542755],[104.176749,33.5996],[104.103452,33.663381],[104.046169,33.686291],[103.980264,33.670852],[103.861388,33.682307],[103.778236,33.658898],[103.690772,33.69376],[103.667983,33.685793],[103.645809,33.708697],[103.593454,33.716164],[103.563889,33.699735],[103.552186,33.671351],[103.520157,33.678323],[103.545411,33.719649],[103.518309,33.807213],[103.464723,33.80224],[103.434542,33.752993],[103.35447,33.743539],[103.278709,33.774387],[103.284868,33.80224],[103.24976,33.814175],[103.228202,33.79478],[103.165376,33.805721],[103.153673,33.819147],[103.181391,33.900649],[103.16476,33.929454],[103.1315,33.931937],[103.120413,33.953286],[103.157369,33.998944],[103.147514,34.036644],[103.119797,34.03466],[103.129652,34.065899],[103.178927,34.079779],[103.121644,34.112487],[103.124108,34.162022],[103.100087,34.181828],[103.052043,34.195194],[103.005848,34.184798],[102.973203,34.205588],[102.977515,34.252595],[102.949181,34.292159],[102.911609,34.312923],[102.85987,34.301058],[102.856791,34.270895],[102.798276,34.272874],[102.779798,34.236764],[102.728675,34.235774],[102.694799,34.198659],[102.664002,34.192719],[102.651067,34.165983],[102.598712,34.14766],[102.655994,34.113478],[102.649219,34.080275],[102.615958,34.099604],[102.511865,34.086222],[102.471213,34.072839],[102.437336,34.087214],[102.406539,34.033172],[102.392372,33.971651],[102.345561,33.969666],[102.315996,33.993983],[102.287047,33.977607],[102.248858,33.98654],[102.226069,33.963214],[102.16817,33.983066],[102.136142,33.965199],[102.25317,33.861399],[102.261177,33.821136],[102.243315,33.786823],[102.296286,33.783838],[102.324619,33.754486],[102.284583,33.719151],[102.342481,33.725622],[102.31538,33.665374],[102.346793,33.605582],[102.440416,33.574673],[102.477988,33.543254],[102.446575,33.53228],[102.461358,33.501345],[102.462589,33.449429],[102.447807,33.454922],[102.392988,33.404477],[102.368967,33.41247],[102.310452,33.397982],[102.296286,33.413969],[102.258098,33.409472],[102.218062,33.349503],[102.192192,33.337005],[102.217446,33.247961],[102.200815,33.223434],[102.160163,33.242956],[102.144765,33.273983],[102.117047,33.288492],[102.08933,33.227439],[102.08933,33.204908],[102.054838,33.189884],[101.99386,33.1999],[101.935345,33.186879],[101.921795,33.153817],[101.887302,33.135778],[101.865744,33.103198],[101.825708,33.119239],[101.841723,33.184876],[101.83002,33.213921],[101.770274,33.248962],[101.769658,33.26898],[101.877447,33.314502],[101.887302,33.383991],[101.915635,33.425957],[101.946432,33.442937],[101.906396,33.48188],[101.907012,33.539264],[101.884222,33.578163],[101.844186,33.602591],[101.831252,33.554726],[101.783208,33.556721],[101.769042,33.538765],[101.777665,33.533776],[101.769042,33.45592],[101.695745,33.433948],[101.663716,33.383991],[101.64955,33.323004],[101.677883,33.297497],[101.735781,33.279987],[101.709912,33.21292],[101.653861,33.162835],[101.661252,33.135778],[101.633535,33.101193],[101.557775,33.167344],[101.515275,33.192889],[101.487557,33.226938],[101.403174,33.225436],[101.386543,33.207412],[101.393935,33.157826],[101.381616,33.153316],[101.297232,33.262475],[101.217776,33.256469],[101.182668,33.26948],[101.156798,33.236449],[101.124769,33.221431],[101.11553,33.194893],[101.169733,33.10019],[101.143863,33.086151],[101.146327,33.056563],[101.184515,33.041514],[101.171581,33.009902],[101.183899,32.984304],[101.129081,32.989324],[101.134624,32.95217],[101.124153,32.909976],[101.178356,32.892892],[101.223935,32.855698],[101.237486,32.825026],[101.22332,32.725898],[101.157414,32.661431],[101.124769,32.658408],[101.077342,32.68259],[101.030531,32.660424],[100.99727,32.627668],[100.956618,32.621116],[100.93198,32.600447],[100.887633,32.632708],[100.834046,32.648835],[100.77122,32.643795],[100.690532,32.678056],[100.71209,32.645307],[100.710242,32.610026],[100.673286,32.628172],[100.661583,32.616075],[100.657887,32.546484],[100.645568,32.526303],[100.603069,32.553547],[100.54517,32.569687],[100.516837,32.632204],[100.470026,32.694678],[100.450932,32.694678],[100.420135,32.73194],[100.378251,32.698707],[100.399193,32.756101],[100.339447,32.719353],[100.258759,32.742511],[100.231041,32.696189],[100.229809,32.650346],[100.208252,32.606497],[100.189773,32.630692],[100.109701,32.640268],[100.088143,32.668988],[100.139266,32.724388],[100.117093,32.802392],[100.123252,32.837095],[100.064738,32.895907],[100.029629,32.895907],[100.038252,32.929066],[99.956332,32.948152],[99.947709,32.986814],[99.877492,33.045527],[99.877492,32.993339],[99.851007,32.941623],[99.805427,32.940619],[99.788181,32.956689],[99.764159,32.924545],[99.791877,32.883344],[99.766623,32.826032],[99.760464,32.769689],[99.717964,32.732443],[99.700718,32.76667],[99.646515,32.774721],[99.640355,32.790822],[99.589233,32.789312],[99.558436,32.839106],[99.45311,32.862233],[99.376118,32.899927],[99.353944,32.885354],[99.268944,32.878318],[99.24677,32.924043],[99.235067,32.982296],[99.214741,32.991332],[99.196263,33.035493],[99.124814,33.046028],[99.090322,33.079131],[99.024416,33.094675],[99.014561,33.081137],[98.971445,33.098185],[98.967134,33.115229],[98.92217,33.118738],[98.858728,33.150811],[98.804526,33.219428],[98.802062,33.270481],[98.759562,33.276985],[98.779888,33.370497],[98.736157,33.406975],[98.742316,33.477887],[98.725686,33.503341],[98.678258,33.522801],[98.648077,33.548741],[98.652389,33.595114],[98.622824,33.610067],[98.61728,33.637476],[98.6567,33.64744],[98.610505,33.682805],[98.582788,33.731595],[98.539672,33.746525],[98.51873,33.77389],[98.494092,33.768915],[98.492861,33.796272],[98.463295,33.848477],[98.434962,33.843009],[98.407245,33.867362],[98.425723,33.913066],[98.415252,33.956761],[98.440506,33.981577],[98.428187,34.029204],[98.396774,34.053008],[98.399854,34.085231],[98.344419,34.094648],[98.258188,34.083249],[98.206449,34.08424],[98.158405,34.107037],[98.098043,34.122892],[98.028442,34.122892],[97.95453,34.190739],[97.898479,34.209548],[97.8104,34.207568],[97.796849,34.199154],[97.796849,34.199154],[97.789458,34.182818],[97.789458,34.182818],[97.766668,34.158555],[97.665654,34.126855],[97.70261,34.036644],[97.652719,33.998448],[97.660111,33.956264],[97.629314,33.919523],[97.601596,33.929951],[97.52214,33.903133],[97.503662,33.912073],[97.460546,33.887236],[97.395257,33.889224],[97.398336,33.848477],[97.371851,33.842015],[97.373083,33.817655],[97.406344,33.795278],[97.422974,33.754984],[97.418046,33.728608],[97.435293,33.682307],[97.415583,33.605582],[97.450075,33.582152],[97.523372,33.577166],[97.511669,33.520805],[97.552321,33.465906],[97.625618,33.461412],[97.674893,33.432949],[97.754349,33.409972],[97.676125,33.341004],[97.622538,33.337005],[97.607756,33.263976],[97.548626,33.203907],[97.487648,33.168346],[97.498119,33.137783],[97.487032,33.107209],[97.517213,33.097683],[97.542466,33.035995],[97.499966,33.011408],[97.523988,32.988822],[97.438372,32.976271],[97.375547,32.956689],[97.347829,32.895907],[97.376163,32.886359],[97.392793,32.828546],[97.386018,32.77925],[97.429133,32.714318],[97.42359,32.70475],[97.48272,32.654377],[97.535075,32.638252],[97.543698,32.62162],[97.607756,32.614059],[97.616995,32.586329],[97.700763,32.53488],[97.730944,32.527312],[97.795617,32.521257],[97.80732,32.50006],[97.863986,32.499051],[97.880001,32.486431],[97.940363,32.482393],[98.079565,32.415224],[98.107283,32.391476],[98.125145,32.401077],[98.218768,32.342444],[98.208913,32.318171],[98.23047,32.262521],[98.218768,32.234683],[98.260035,32.208862],[98.303151,32.121726],[98.357354,32.087253],[98.404781,32.045159],[98.402933,32.026896],[98.434962,32.007613],[98.432498,31.922825],[98.399238,31.895899],[98.426339,31.856767],[98.414636,31.832365],[98.461448,31.800327],[98.508875,31.751995],[98.516882,31.717383],[98.545831,31.717383],[98.553839,31.660349],[98.619128,31.591555],[98.651157,31.57881],[98.696736,31.538523],[98.714599,31.508935],[98.844562,31.429817],[98.84333,31.416028],[98.887062,31.37465],[98.810685,31.306668],[98.805758,31.279052],[98.773113,31.249382],[98.691809,31.333253],[98.643766,31.338876],[98.616048,31.3036],[98.60373,31.257568],[98.62344,31.221238],[98.602498,31.192062],[98.675179,31.15417],[98.710287,31.1178],[98.712135,31.082954],[98.736772,31.049121],[98.774961,31.031174],[98.806374,30.995783],[98.797135,30.948575],[98.774345,30.908019],[98.797135,30.87926],[98.850105,30.849465],[98.904924,30.782649],[98.957895,30.765166],[98.963438,30.728134],[98.907388,30.698292],[98.92217,30.609225],[98.939417,30.598923],[98.926482,30.569556],[98.932025,30.521623],[98.965286,30.449937],[98.967134,30.33482],[98.986844,30.280569],[98.970829,30.260928],[98.993003,30.215429],[98.9813,30.182843],[98.989308,30.151799],[99.044742,30.079842],[99.036735,30.053945],[99.055213,29.958587],[99.068148,29.931621],[99.0238,29.846009],[99.018873,29.792009],[98.992387,29.677163],[99.014561,29.607464],[99.052133,29.563748],[99.044742,29.520013],[99.066916,29.421018],[99.058909,29.417368],[99.075539,29.316186],[99.114343,29.243628],[99.113727,29.221171],[99.105104,29.162656],[99.118039,29.100971],[99.113727,29.07273],[99.132206,28.94869],[99.123582,28.890021],[99.103872,28.841803],[99.114343,28.765763],[99.134053,28.734806],[99.126662,28.698066],[99.147604,28.640831],[99.183944,28.58882],[99.170394,28.566221],[99.191952,28.494714],[99.187024,28.44],[99.16485,28.425264],[99.200575,28.365774],[99.229524,28.350502],[99.237531,28.317842],[99.28927,28.286227],[99.306516,28.227714],[99.374886,28.18183],[99.412458,28.295186],[99.392748,28.318369],[99.437095,28.398419],[99.404451,28.44421],[99.426625,28.454207],[99.396444,28.491032],[99.403219,28.546246],[99.463581,28.549401],[99.466045,28.579886],[99.504233,28.619294],[99.540573,28.623497],[99.53195,28.677591],[99.553508,28.710664],[99.614486,28.740054],[99.609559,28.784122],[99.625573,28.81454],[99.676696,28.810345],[99.717964,28.846521],[99.722275,28.757369],[99.755536,28.701216],[99.79434,28.699116],[99.834992,28.660788],[99.834376,28.628225],[99.873181,28.631902],[99.875644,28.611939],[99.91876,28.599329],[99.985281,28.529422],[99.990209,28.47683],[100.073977,28.426317],[100.057346,28.368934],[100.136803,28.349975],[100.176223,28.325218],[100.147274,28.288862],[100.188541,28.252493],[100.153433,28.208202],[100.102926,28.201873],[100.091223,28.181302],[100.062274,28.193962],[100.033325,28.184467],[100.021006,28.147008],[100.05673,28.097922],[100.088759,28.029269],[100.120788,28.018703],[100.196549,27.936254],[100.170063,27.907699],[100.210715,27.87702],[100.30865,27.861149],[100.30865,27.830457],[100.28586,27.80611],[100.304954,27.788639],[100.311729,27.724028],[100.327744,27.72032],[100.350534,27.755809],[100.412127,27.816167],[100.442924,27.86644],[100.504518,27.852154],[100.511294,27.827811],[100.54517,27.809286],[100.609228,27.859033],[100.634482,27.915631],[100.681293,27.923035],[100.719481,27.858503],[100.707162,27.800816],[100.757053,27.770107],[100.775532,27.743098],[100.782307,27.691708],[100.848212,27.672099],[100.827886,27.615904],[100.854988,27.623858],[100.91227,27.521473],[100.901183,27.453517],[100.936908,27.469448],[100.95169,27.426961],[101.021907,27.332899],[101.026219,27.270679],[101.042233,27.22173],[101.071798,27.194585],[101.119226,27.208957],[101.167885,27.198311],[101.167885,27.198311]]],[[[106.264167,30.20974],[106.260471,30.207672],[106.260471,30.204051],[106.260471,30.19681],[106.264167,30.20974]]],[[[106.976809,30.088127],[106.975577,30.088127],[106.976193,30.083467],[106.981736,30.08502],[106.980504,30.087609],[106.979888,30.088127],[106.978656,30.087609],[106.977425,30.087609],[106.976809,30.088127]]],[[[105.558916,30.18543],[105.556453,30.187499],[105.550909,30.179222],[105.56138,30.183878],[105.558916,30.18543]]]]}},{"type":"Feature","properties":{"adcode":520000,"name":"\u8D35\u5DDE\u7701","center":[106.713478,26.578343],"centroid":[106.880455,26.826368],"childrenNum":9,"level":"province","parent":{"adcode":100000},"subFeatureIndex":23,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[109.274262,28.494714],[109.23361,28.474726],[109.191726,28.471043],[109.153538,28.417369],[109.152306,28.349975],[109.117198,28.277795],[109.081473,28.247749],[109.101799,28.202401],[109.086401,28.184467],[109.026655,28.220331],[109.005713,28.162837],[108.929952,28.19027],[108.923793,28.217167],[108.89546,28.219804],[108.855424,28.199764],[108.821547,28.245113],[108.772888,28.212949],[108.738395,28.228241],[108.726692,28.282011],[108.761801,28.304143],[108.783359,28.380518],[108.759953,28.389995],[108.780279,28.42579],[108.746402,28.45105],[108.709446,28.501026],[108.700207,28.48209],[108.657091,28.47683],[108.640461,28.456838],[108.688504,28.422106],[108.697127,28.401051],[108.656475,28.359981],[108.667562,28.334173],[108.611512,28.324691],[108.580099,28.343128],[108.576403,28.38631],[108.609048,28.407368],[108.609664,28.43579],[108.586874,28.463678],[108.573939,28.531],[108.610896,28.539412],[108.604736,28.590922],[108.636149,28.621396],[108.575787,28.659738],[108.50249,28.63768],[108.501258,28.626649],[108.439049,28.634003],[108.332491,28.679166],[108.347274,28.736381],[108.385462,28.772058],[108.386078,28.803003],[108.352817,28.815589],[108.346658,28.859625],[108.357745,28.893165],[108.345426,28.943453],[108.319556,28.961258],[108.297999,29.045527],[108.306622,29.079006],[108.277673,29.091558],[108.256115,29.040295],[108.193289,29.072207],[108.150173,29.053375],[108.070717,29.086328],[108.026369,29.039772],[107.925971,29.032446],[107.908725,29.007327],[107.882855,29.00628],[107.867457,28.960211],[107.810175,28.984295],[107.823725,29.034016],[107.784921,29.048143],[107.810791,29.139137],[107.749197,29.199754],[107.700537,29.141228],[107.659885,29.162656],[107.605683,29.164747],[107.589052,29.150113],[107.570574,29.218037],[107.486806,29.174153],[107.441227,29.203934],[107.401807,29.184603],[107.408582,29.138091],[107.427676,29.128682],[107.412278,29.094696],[107.369778,29.091558],[107.395647,29.041341],[107.364235,29.00942],[107.396879,28.993718],[107.412894,28.960211],[107.441227,28.943977],[107.41351,28.911502],[107.383945,28.848618],[107.339597,28.845997],[107.327894,28.810869],[107.261373,28.792514],[107.24659,28.76209],[107.219489,28.772582],[107.210866,28.817686],[107.227496,28.836037],[107.194851,28.838134],[107.206554,28.868535],[107.14188,28.887925],[107.016229,28.882685],[107.019308,28.861722],[106.983584,28.851239],[106.988512,28.776254],[106.951555,28.766812],[106.923222,28.809821],[106.872099,28.777304],[106.845614,28.780975],[106.824056,28.756319],[106.86594,28.690192],[106.889345,28.695966],[106.866556,28.624548],[106.830831,28.623497],[106.807425,28.589346],[106.784636,28.626649],[106.756918,28.607211],[106.77786,28.563068],[106.73844,28.554657],[106.726121,28.51838],[106.747063,28.467361],[106.708259,28.450524],[106.697788,28.47683],[106.632499,28.503655],[106.564745,28.485247],[106.567825,28.523638],[106.615252,28.549401],[106.606629,28.593024],[106.63681,28.622972],[106.618332,28.645033],[106.651593,28.649235],[106.617716,28.66709],[106.6171,28.691242],[106.587535,28.691767],[106.56105,28.719062],[106.561666,28.756319],[106.474202,28.832891],[106.45326,28.817162],[106.461883,28.761041],[106.492064,28.742153],[106.528405,28.677591],[106.502535,28.661313],[106.49268,28.591448],[106.466811,28.586193],[106.504999,28.544669],[106.477282,28.530474],[106.403369,28.569901],[106.37442,28.525742],[106.379348,28.479986],[106.349167,28.473674],[106.304819,28.505233],[106.2925,28.537309],[106.254928,28.539412],[106.184711,28.58882],[106.17116,28.629275],[106.14837,28.642932],[106.103407,28.636104],[106.085544,28.681792],[106.030726,28.694917],[106.001161,28.743727],[105.966668,28.761041],[105.937719,28.686517],[105.889676,28.670765],[105.884748,28.595126],[105.808372,28.599855],[105.78435,28.610889],[105.757249,28.590397],[105.74493,28.616668],[105.712901,28.586718],[105.693191,28.58882],[105.68272,28.534154],[105.62359,28.517854],[105.612503,28.438947],[105.643916,28.431053],[105.655003,28.362615],[105.639604,28.324164],[105.68888,28.284119],[105.730147,28.271997],[105.737539,28.30309],[105.76464,28.308359],[105.76464,28.308359],[105.78743,28.335753],[105.824386,28.306251],[105.848408,28.255656],[105.889676,28.237732],[105.860727,28.159672],[105.895219,28.119565],[105.943878,28.143314],[105.975907,28.107952],[106.093552,28.162837],[106.145291,28.162837],[106.206885,28.134343],[106.266631,28.066769],[106.246305,28.011835],[106.286341,28.007079],[106.328225,27.952643],[106.307899,27.936782],[106.304819,27.899237],[106.325145,27.898708],[106.337464,27.859033],[106.306667,27.808756],[106.242609,27.767459],[106.193334,27.75422],[106.120653,27.779638],[106.063987,27.776991],[106.023335,27.746805],[105.985146,27.749983],[105.92848,27.729855],[105.922937,27.746805],[105.868118,27.732504],[105.848408,27.707074],[105.76772,27.7182],[105.722756,27.706015],[105.720292,27.683759],[105.664242,27.683759],[105.62359,27.666269],[105.605112,27.715552],[105.560148,27.71979],[105.508409,27.769048],[105.44004,27.775402],[105.353809,27.748924],[105.308229,27.704955],[105.29591,27.631811],[105.304533,27.611661],[105.25649,27.582491],[105.232469,27.546945],[105.260186,27.514573],[105.234316,27.489093],[105.233084,27.436522],[105.182577,27.367451],[105.184425,27.392959],[105.120984,27.418461],[105.068013,27.418461],[105.01073,27.379143],[104.913412,27.327051],[104.871528,27.290891],[104.851818,27.299401],[104.856746,27.332368],[104.824717,27.3531],[104.77113,27.317481],[104.7545,27.345658],[104.611602,27.306846],[104.570334,27.331836],[104.539537,27.327583],[104.497037,27.414743],[104.467472,27.414211],[104.363378,27.467855],[104.30856,27.407305],[104.295625,27.37436],[104.247582,27.336621],[104.248813,27.291955],[104.210625,27.297273],[104.173053,27.263232],[104.113923,27.338216],[104.084358,27.330773],[104.01722,27.383926],[104.015372,27.429086],[103.956242,27.425367],[103.932221,27.443958],[103.905119,27.38552],[103.903271,27.347785],[103.874322,27.331304],[103.865699,27.28185],[103.80041,27.26536],[103.801641,27.250464],[103.748671,27.210021],[103.696316,27.126429],[103.63349,27.12057],[103.620555,27.096598],[103.652584,27.092868],[103.659975,27.065692],[103.614396,27.079548],[103.601461,27.061962],[103.623635,27.035312],[103.623019,27.007056],[103.675374,27.051836],[103.704939,27.049171],[103.73204,27.018785],[103.753598,26.963858],[103.775156,26.951056],[103.763453,26.905702],[103.779468,26.87421],[103.722185,26.851253],[103.705555,26.794642],[103.725265,26.742812],[103.773308,26.716621],[103.759142,26.689355],[103.748671,26.623568],[103.763453,26.585041],[103.815808,26.55239],[103.819504,26.529903],[103.865699,26.512232],[103.953163,26.521336],[104.008597,26.511697],[104.067727,26.51491],[104.068343,26.573266],[104.121314,26.638012],[104.160734,26.646571],[104.222328,26.620358],[104.268524,26.617683],[104.274683,26.633733],[104.313487,26.612867],[104.353523,26.620893],[104.398487,26.686147],[104.424356,26.709137],[104.468088,26.644431],[104.459465,26.602701],[104.488414,26.579689],[104.556783,26.590393],[104.579573,26.568449],[104.57095,26.524549],[104.598667,26.520801],[104.638703,26.477954],[104.631928,26.451702],[104.665804,26.434019],[104.664572,26.397572],[104.684283,26.3772],[104.659645,26.335373],[104.592508,26.317672],[104.542616,26.253282],[104.548776,26.226979],[104.518595,26.165762],[104.52845,26.114186],[104.499501,26.070651],[104.460081,26.085702],[104.470552,26.009352],[104.438523,25.92757],[104.414501,25.909807],[104.441602,25.868889],[104.42374,25.841961],[104.397871,25.76168],[104.370769,25.730415],[104.328886,25.760602],[104.310407,25.647901],[104.332581,25.598796],[104.389248,25.595558],[104.428668,25.576126],[104.436059,25.520512],[104.418813,25.499447],[104.434827,25.472436],[104.44961,25.495126],[104.483486,25.494585],[104.524138,25.526992],[104.556783,25.524832],[104.543232,25.400556],[104.566638,25.402719],[104.615913,25.364871],[104.646094,25.356759],[104.639935,25.295632],[104.689826,25.296173],[104.736021,25.268034],[104.816094,25.262622],[104.826565,25.235558],[104.806854,25.224189],[104.822869,25.170037],[104.801927,25.163537],[104.753884,25.214443],[104.724319,25.195491],[104.732326,25.167871],[104.695369,25.122364],[104.685514,25.078466],[104.619609,25.060577],[104.684898,25.054072],[104.713232,24.996048],[104.663957,24.964584],[104.635623,24.903803],[104.586964,24.872859],[104.539537,24.813663],[104.542616,24.75607],[104.529682,24.731611],[104.595587,24.709323],[104.628848,24.660927],[104.703377,24.645698],[104.729246,24.617953],[104.771746,24.659839],[104.841963,24.676155],[104.865985,24.730524],[104.899245,24.752809],[105.03352,24.787586],[105.026745,24.815836],[105.039064,24.872859],[105.077868,24.918459],[105.09573,24.92877],[105.131454,24.959701],[105.157324,24.958616],[105.178266,24.985199],[105.212758,24.995505],[105.251563,24.967296],[105.267577,24.929313],[105.334099,24.9266],[105.365511,24.943423],[105.428337,24.930941],[105.457286,24.87123],[105.493011,24.833217],[105.497322,24.809318],[105.573083,24.797366],[105.607576,24.803885],[105.617431,24.78161],[105.70551,24.768569],[105.767104,24.719109],[105.827466,24.702799],[105.863806,24.729437],[105.942031,24.725088],[105.961741,24.677786],[106.024566,24.633186],[106.047356,24.684312],[106.113878,24.714216],[106.150218,24.762591],[106.173008,24.760417],[106.206269,24.851139],[106.197645,24.885889],[106.145291,24.954275],[106.191486,24.95319],[106.215508,24.981944],[106.253696,24.971094],[106.304819,24.973807],[106.332536,24.988454],[106.442173,25.019369],[106.450181,25.033468],[106.519782,25.054072],[106.551195,25.082802],[106.590615,25.08768],[106.63989,25.132658],[106.644817,25.164621],[106.691013,25.179245],[106.732281,25.162454],[106.764926,25.183036],[106.787715,25.17112],[106.853005,25.186827],[106.888113,25.181953],[106.904128,25.231768],[106.933077,25.250714],[106.975577,25.232851],[107.013765,25.275611],[107.012533,25.352973],[106.987896,25.358922],[106.963874,25.437852],[106.996519,25.442716],[107.015613,25.495666],[107.066736,25.50917],[107.064272,25.559391],[107.185612,25.578825],[107.205322,25.607971],[107.228728,25.604733],[107.232423,25.556691],[107.263836,25.543193],[107.336517,25.461089],[107.308184,25.432988],[107.318039,25.401637],[107.358691,25.393528],[107.375937,25.411908],[107.420901,25.392987],[107.409198,25.347024],[107.432604,25.289139],[107.481263,25.299961],[107.489886,25.276693],[107.472024,25.213902],[107.512676,25.209029],[107.576734,25.256668],[107.599523,25.250714],[107.632168,25.310241],[107.659885,25.316192],[107.661733,25.258833],[107.696226,25.219858],[107.700537,25.194408],[107.741805,25.24043],[107.762131,25.229061],[107.760283,25.188451],[107.789233,25.15487],[107.762747,25.125073],[107.839124,25.115861],[107.872384,25.141327],[107.928435,25.155954],[108.001732,25.196574],[108.080572,25.193867],[108.115065,25.210112],[108.143398,25.269658],[108.152021,25.324306],[108.142782,25.390825],[108.193289,25.405421],[108.162492,25.444878],[108.192673,25.458928],[108.251803,25.430286],[108.241332,25.46217],[108.280752,25.48],[108.308469,25.525912],[108.348506,25.536173],[108.359592,25.513491],[108.400244,25.491344],[108.418723,25.443257],[108.471693,25.458928],[108.585642,25.365952],[108.589338,25.335125],[108.625062,25.308076],[108.62999,25.335666],[108.600425,25.432448],[108.6072,25.491885],[108.634917,25.520512],[108.68912,25.533473],[108.658323,25.550212],[108.660787,25.584763],[108.68604,25.587462],[108.68912,25.623081],[108.724844,25.634952],[108.783975,25.628477],[108.799989,25.576666],[108.781511,25.554531],[108.814772,25.526992],[108.826474,25.550212],[108.890532,25.556151],[108.8893,25.543193],[108.949046,25.557231],[109.024807,25.51241],[109.088249,25.550752],[109.051908,25.566949],[109.030966,25.629556],[109.075314,25.693749],[109.07901,25.72071],[109.043285,25.738502],[109.007561,25.734728],[108.953974,25.686738],[108.953974,25.686738],[108.900387,25.682423],[108.896076,25.71424],[108.940423,25.740119],[108.963829,25.732572],[108.999553,25.765453],[108.989698,25.778926],[109.048213,25.790781],[109.077778,25.776771],[109.095024,25.80533],[109.143683,25.795092],[109.13198,25.762758],[109.147995,25.741736],[109.206509,25.788087],[109.207125,25.740119],[109.296436,25.71424],[109.340168,25.731493],[109.327849,25.76168],[109.339552,25.83442],[109.359262,25.836036],[109.396834,25.900117],[109.435022,25.93349],[109.408537,25.967392],[109.473211,26.006663],[109.48245,26.029788],[109.452885,26.055598],[109.449805,26.101826],[109.502776,26.096451],[109.513863,26.128157],[109.47629,26.148035],[109.439334,26.238789],[109.467051,26.313917],[109.442414,26.289774],[109.369733,26.277432],[109.351255,26.264016],[109.325385,26.29031],[109.285965,26.295676],[109.271183,26.327863],[109.29582,26.350389],[109.319842,26.418477],[109.38082,26.454381],[109.362342,26.472061],[109.385747,26.493487],[109.381436,26.518659],[109.407305,26.533116],[109.390675,26.598955],[109.35495,26.658873],[109.334008,26.646036],[109.306291,26.661012],[109.283501,26.698445],[109.35495,26.693098],[109.407305,26.719829],[109.447957,26.759913],[109.486761,26.759913],[109.47629,26.829894],[109.467051,26.83203],[109.452885,26.861932],[109.436254,26.892359],[109.555131,26.946788],[109.520022,27.058764],[109.497848,27.079548],[109.486761,27.053968],[109.454733,27.069423],[109.472595,27.134951],[109.441182,27.117907],[109.415312,27.154123],[109.358646,27.153058],[109.33524,27.139212],[109.264407,27.131755],[109.239154,27.14933],[109.21698,27.114711],[109.165857,27.066758],[109.101183,27.06889],[109.128901,27.122701],[109.032814,27.104056],[109.007561,27.08008],[108.940423,27.044907],[108.942887,27.017186],[108.942887,27.017186],[108.877597,27.01612],[108.79075,27.084343],[108.878829,27.106187],[108.926873,27.160512],[108.907778,27.204699],[108.963213,27.235565],[108.983539,27.26802],[109.053756,27.293551],[109.044517,27.331304],[109.103647,27.336621],[109.142451,27.418461],[109.141835,27.448207],[109.167089,27.41793],[109.202197,27.450331],[109.245313,27.41793],[109.300132,27.423774],[109.303211,27.47582],[109.404841,27.55066],[109.461508,27.567637],[109.451037,27.586204],[109.470131,27.62863],[109.45658,27.673689],[109.470747,27.680049],[109.414081,27.725087],[109.366653,27.721909],[109.37774,27.736741],[109.332777,27.782815],[109.346943,27.838396],[109.32169,27.868027],[109.30198,27.956343],[109.319842,27.988585],[109.362342,28.007608],[109.378972,28.034551],[109.335856,28.063073],[109.298284,28.036136],[109.314298,28.103729],[109.33832,28.141731],[109.340168,28.19027],[109.367885,28.254602],[109.388211,28.268307],[109.33524,28.293605],[109.317994,28.277795],[109.275494,28.313101],[109.268719,28.33786],[109.289045,28.373673],[109.264407,28.392628],[109.260712,28.46473],[109.274262,28.494714]]],[[[109.47629,26.829894],[109.486761,26.759913],[109.52187,26.749226],[109.522486,26.749226],[109.497232,26.815474],[109.513247,26.84004],[109.509551,26.877947],[109.486761,26.895562],[109.452885,26.861932],[109.467051,26.83203],[109.47629,26.829894]]],[[[109.528645,26.743881],[109.568065,26.726243],[109.597015,26.756173],[109.554515,26.73533],[109.528645,26.743881]]]]}},{"type":"Feature","properties":{"adcode":530000,"name":"\u4E91\u5357\u7701","center":[102.712251,25.040609],"centroid":[101.485106,25.008643],"childrenNum":16,"level":"province","parent":{"adcode":100000},"subFeatureIndex":24,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[105.308229,27.704955],[105.290367,27.712373],[105.293447,27.770637],[105.273736,27.794992],[105.313157,27.810874],[105.25957,27.827811],[105.233084,27.895534],[105.284823,27.935725],[105.270657,27.99704],[105.247867,28.009193],[105.218302,27.990698],[105.186273,27.995454],[105.167795,28.021345],[105.186889,28.054623],[105.168411,28.071522],[105.119752,28.07205],[105.061853,28.096866],[105.002107,28.064129],[104.980549,28.063073],[104.975006,28.020816],[104.903557,27.962158],[104.918339,27.938897],[104.888158,27.914574],[104.842579,27.900294],[104.796999,27.901352],[104.761891,27.884426],[104.743413,27.901881],[104.676275,27.880723],[104.63316,27.850567],[104.607906,27.857974],[104.573413,27.840512],[104.52537,27.889187],[104.508124,27.878078],[104.44961,27.927794],[104.40095,27.952114],[104.362762,28.012891],[104.30856,28.036136],[104.304248,28.050926],[104.373233,28.051454],[104.40095,28.091586],[104.448994,28.113758],[104.444682,28.16231],[104.406494,28.173389],[104.402182,28.202928],[104.442834,28.211366],[104.462544,28.241422],[104.44961,28.269889],[104.420045,28.269889],[104.392943,28.291497],[104.384936,28.329959],[104.343052,28.334173],[104.314103,28.306778],[104.282074,28.343128],[104.254357,28.403683],[104.267908,28.499448],[104.260516,28.536257],[104.323342,28.540989],[104.355987,28.555183],[104.375697,28.5946],[104.417581,28.598279],[104.425588,28.626649],[104.372617,28.649235],[104.314719,28.615617],[104.277147,28.631902],[104.252509,28.660788],[104.230951,28.635579],[104.170589,28.642932],[104.117618,28.634003],[104.09606,28.603533],[104.05972,28.6277],[103.953779,28.600906],[103.910047,28.631377],[103.887873,28.61982],[103.850917,28.66709],[103.833054,28.605109],[103.838598,28.587244],[103.802873,28.563068],[103.781931,28.525216],[103.829975,28.459995],[103.828743,28.44],[103.860156,28.383677],[103.85338,28.356822],[103.877402,28.316262],[103.828743,28.285173],[103.770845,28.233514],[103.740048,28.23615],[103.701859,28.198709],[103.692004,28.232459],[103.643961,28.260401],[103.573128,28.230877],[103.533092,28.168641],[103.470266,28.122204],[103.430846,28.044587],[103.459179,28.021345],[103.486281,28.033495],[103.515846,27.965329],[103.55465,27.978543],[103.502295,27.910343],[103.509686,27.843687],[103.487512,27.794992],[103.461027,27.779638],[103.393274,27.709194],[103.369868,27.708664],[103.349542,27.678459],[103.29226,27.632872],[103.2861,27.561802],[103.232514,27.56976],[103.19063,27.523596],[103.144434,27.450331],[103.141355,27.420586],[103.080992,27.396679],[103.055739,27.40943],[102.989833,27.367983],[102.941174,27.405711],[102.899906,27.317481],[102.883892,27.299401],[102.883276,27.258444],[102.904218,27.227584],[102.913457,27.133886],[102.870957,27.026782],[102.894979,27.001724],[102.896211,26.91264],[102.949181,26.843244],[102.966428,26.837904],[102.991681,26.775409],[102.983674,26.76686],[103.008312,26.710741],[103.005232,26.679195],[103.026174,26.664221],[103.035413,26.556673],[103.052659,26.555602],[103.052659,26.514374],[103.030485,26.485989],[102.989833,26.482775],[102.988602,26.413117],[102.998457,26.371839],[102.975667,26.340736],[102.893131,26.338591],[102.878964,26.364332],[102.833385,26.306406],[102.785342,26.298895],[102.739762,26.268846],[102.709581,26.210336],[102.659074,26.221611],[102.60056,26.250598],[102.638748,26.307479],[102.629509,26.336982],[102.570995,26.362723],[102.542046,26.338591],[102.440416,26.300505],[102.392372,26.296749],[102.349257,26.244694],[102.245163,26.212483],[102.242699,26.190468],[102.174946,26.146961],[102.152156,26.10935],[102.107808,26.068501],[102.080091,26.065275],[102.020961,26.096451],[101.954439,26.084627],[101.929186,26.105588],[101.899621,26.099139],[101.857737,26.049146],[101.835563,26.04592],[101.839875,26.082477],[101.796759,26.114723],[101.807846,26.156093],[101.773353,26.168448],[101.737013,26.219463],[101.690202,26.241473],[101.630455,26.224832],[101.586108,26.279579],[101.597195,26.303187],[101.64031,26.318745],[101.660636,26.346635],[101.635383,26.357361],[101.637847,26.388995],[101.565782,26.454381],[101.530057,26.467239],[101.506652,26.499915],[101.458608,26.49563],[101.422884,26.53151],[101.395783,26.591998],[101.402558,26.604841],[101.461688,26.606447],[101.461072,26.640687],[101.481398,26.673313],[101.453065,26.692563],[101.513427,26.768463],[101.466,26.786629],[101.445674,26.77434],[101.458608,26.731054],[101.435819,26.740675],[101.389623,26.723036],[101.387159,26.753501],[101.358826,26.771669],[101.399478,26.841642],[101.365602,26.883819],[101.311399,26.903034],[101.267667,26.903034],[101.264587,26.955323],[101.227015,26.959057],[101.228863,26.981992],[101.136472,27.023584],[101.157414,27.094999],[101.145095,27.103523],[101.170349,27.175421],[101.167885,27.198311],[101.167885,27.198311],[101.119226,27.208957],[101.071798,27.194585],[101.042233,27.22173],[101.026219,27.270679],[101.021907,27.332899],[100.95169,27.426961],[100.936908,27.469448],[100.901183,27.453517],[100.91227,27.521473],[100.854988,27.623858],[100.827886,27.615904],[100.848212,27.672099],[100.782307,27.691708],[100.775532,27.743098],[100.757053,27.770107],[100.707162,27.800816],[100.719481,27.858503],[100.681293,27.923035],[100.634482,27.915631],[100.609228,27.859033],[100.54517,27.809286],[100.511294,27.827811],[100.504518,27.852154],[100.442924,27.86644],[100.412127,27.816167],[100.350534,27.755809],[100.327744,27.72032],[100.311729,27.724028],[100.304954,27.788639],[100.28586,27.80611],[100.30865,27.830457],[100.30865,27.861149],[100.210715,27.87702],[100.170063,27.907699],[100.196549,27.936254],[100.120788,28.018703],[100.088759,28.029269],[100.05673,28.097922],[100.021006,28.147008],[100.033325,28.184467],[100.062274,28.193962],[100.091223,28.181302],[100.102926,28.201873],[100.153433,28.208202],[100.188541,28.252493],[100.147274,28.288862],[100.176223,28.325218],[100.136803,28.349975],[100.057346,28.368934],[100.073977,28.426317],[99.990209,28.47683],[99.985281,28.529422],[99.91876,28.599329],[99.875644,28.611939],[99.873181,28.631902],[99.834376,28.628225],[99.834992,28.660788],[99.79434,28.699116],[99.755536,28.701216],[99.722275,28.757369],[99.717964,28.846521],[99.676696,28.810345],[99.625573,28.81454],[99.609559,28.784122],[99.614486,28.740054],[99.553508,28.710664],[99.53195,28.677591],[99.540573,28.623497],[99.504233,28.619294],[99.466045,28.579886],[99.463581,28.549401],[99.403219,28.546246],[99.396444,28.491032],[99.426625,28.454207],[99.404451,28.44421],[99.437095,28.398419],[99.392748,28.318369],[99.412458,28.295186],[99.374886,28.18183],[99.306516,28.227714],[99.28927,28.286227],[99.237531,28.317842],[99.229524,28.350502],[99.200575,28.365774],[99.16485,28.425264],[99.187024,28.44],[99.191952,28.494714],[99.170394,28.566221],[99.183944,28.58882],[99.147604,28.640831],[99.126662,28.698066],[99.134053,28.734806],[99.114343,28.765763],[99.103872,28.841803],[99.123582,28.890021],[99.132206,28.94869],[99.113727,29.07273],[99.118039,29.100971],[99.105104,29.162656],[99.113727,29.221171],[99.037351,29.20759],[99.024416,29.188783],[98.9813,29.204978],[98.960974,29.165792],[98.967134,29.128159],[98.991771,29.105677],[99.013329,29.036632],[98.925866,28.978536],[98.917859,28.886877],[98.973909,28.864867],[98.972677,28.832367],[98.922786,28.823978],[98.912931,28.800906],[98.852569,28.798283],[98.827932,28.821356],[98.821772,28.920931],[98.786048,28.998952],[98.757714,29.004186],[98.70228,28.9644],[98.655469,28.976966],[98.624056,28.95864],[98.6567,28.910454],[98.643766,28.895261],[98.668403,28.843376],[98.652389,28.817162],[98.683802,28.740054],[98.666555,28.712239],[98.594491,28.667615],[98.637606,28.552029],[98.619128,28.50944],[98.625903,28.489455],[98.673947,28.478934],[98.693041,28.43158],[98.740468,28.348395],[98.746628,28.321003],[98.710287,28.288862],[98.712135,28.229296],[98.649925,28.200291],[98.625903,28.165475],[98.559382,28.182885],[98.494092,28.141203],[98.464527,28.151229],[98.428803,28.104785],[98.389383,28.114814],[98.389999,28.16442],[98.370289,28.18394],[98.37768,28.246167],[98.353042,28.293078],[98.317934,28.324691],[98.301303,28.384204],[98.208913,28.358401],[98.207681,28.330486],[98.231702,28.314681],[98.266811,28.242477],[98.21692,28.212949],[98.169492,28.206093],[98.17442,28.163365],[98.139311,28.142259],[98.160253,28.101089],[98.133152,27.990698],[98.143007,27.948942],[98.187355,27.939426],[98.205217,27.889716],[98.169492,27.851096],[98.215688,27.810874],[98.234166,27.690648],[98.283441,27.654608],[98.310542,27.583552],[98.317318,27.51935],[98.337644,27.508734],[98.388767,27.515104],[98.429419,27.549068],[98.430035,27.653547],[98.444201,27.665209],[98.474998,27.634462],[98.53536,27.620676],[98.554454,27.646126],[98.587099,27.587265],[98.583404,27.571351],[98.650541,27.567637],[98.662244,27.586734],[98.706591,27.553313],[98.685034,27.484315],[98.704744,27.462014],[98.686881,27.425367],[98.702896,27.412618],[98.706591,27.362136],[98.741084,27.330241],[98.734925,27.287168],[98.717062,27.271211],[98.723222,27.221198],[98.696121,27.211086],[98.713983,27.139744],[98.712751,27.075817],[98.765722,27.05077],[98.762642,27.018252],[98.732461,27.002257],[98.757098,26.877947],[98.730613,26.851253],[98.762026,26.798916],[98.746012,26.696841],[98.770033,26.690424],[98.762642,26.660478],[98.781736,26.620893],[98.773113,26.578083],[98.753403,26.559349],[98.757098,26.491881],[98.741084,26.432947],[98.750323,26.424372],[98.733693,26.350926],[98.681338,26.308016],[98.672715,26.239863],[98.713367,26.231274],[98.735541,26.185097],[98.712751,26.156093],[98.720142,26.127082],[98.661012,26.087852],[98.656084,26.139977],[98.632679,26.145887],[98.575396,26.118485],[98.602498,26.054523],[98.614201,25.968468],[98.637606,25.971696],[98.686881,25.925955],[98.705976,25.855426],[98.677642,25.816105],[98.640686,25.798864],[98.553839,25.845731],[98.529201,25.840884],[98.476846,25.77731],[98.461448,25.735267],[98.457752,25.682963],[98.409709,25.664084],[98.402317,25.593939],[98.326557,25.566409],[98.314854,25.543193],[98.247717,25.607971],[98.170724,25.620383],[98.189818,25.569108],[98.163949,25.524292],[98.131304,25.51025],[98.15779,25.457307],[98.137464,25.381633],[98.101123,25.388662],[98.099891,25.354055],[98.06971,25.311864],[98.006884,25.298338],[98.0075,25.279399],[97.940363,25.214985],[97.904023,25.216609],[97.875689,25.25721],[97.839349,25.27074],[97.796233,25.155954],[97.743262,25.078466],[97.719857,25.080634],[97.727864,25.04377],[97.716777,24.978147],[97.729712,24.908689],[97.785762,24.876117],[97.797465,24.845709],[97.765436,24.823984],[97.680437,24.827243],[97.652103,24.790846],[97.569567,24.765852],[97.547394,24.739221],[97.569567,24.708236],[97.570799,24.602719],[97.554785,24.490577],[97.530147,24.443187],[97.588662,24.435559],[97.669966,24.452993],[97.679821,24.401228],[97.716161,24.358711],[97.662574,24.339083],[97.665038,24.296544],[97.721089,24.295999],[97.767284,24.258357],[97.729712,24.227252],[97.72848,24.183585],[97.754349,24.163929],[97.748806,24.160653],[97.743262,24.159561],[97.730944,24.113685],[97.700763,24.093473],[97.697067,24.092927],[97.637321,24.04812],[97.628698,24.004938],[97.572647,23.983068],[97.529531,23.943146],[97.5283,23.926736],[97.618227,23.888438],[97.640401,23.866001],[97.647176,23.840823],[97.684132,23.876946],[97.718009,23.867643],[97.72848,23.895551],[97.763588,23.907041],[97.795617,23.951897],[97.8104,23.943146],[97.863371,23.978693],[97.896015,23.974319],[97.902175,24.014231],[97.984095,24.031177],[97.995182,24.04648],[98.091268,24.085824],[98.096196,24.08637],[98.123297,24.092927],[98.125761,24.092927],[98.132536,24.09238],[98.19721,24.09839],[98.219999,24.113685],[98.343187,24.098936],[98.37768,24.114232],[98.48239,24.122425],[98.487933,24.123517],[98.547063,24.128433],[98.593875,24.08036],[98.646229,24.106038],[98.681954,24.100029],[98.71891,24.127887],[98.818692,24.133348],[98.841482,24.126794],[98.876591,24.15137],[98.895069,24.098936],[98.807606,24.025164],[98.773729,24.022431],[98.727533,23.970491],[98.701048,23.981427],[98.673331,23.960647],[98.701048,23.946427],[98.68565,23.90157],[98.701664,23.834254],[98.669019,23.800857],[98.696121,23.784429],[98.784816,23.781691],[98.824236,23.727462],[98.811917,23.703354],[98.835939,23.683625],[98.847026,23.632097],[98.882134,23.620035],[98.882134,23.595358],[98.844562,23.578904],[98.80391,23.540504],[98.826084,23.470257],[98.874743,23.483431],[98.912315,23.426333],[98.920938,23.360971],[98.872895,23.329651],[98.906772,23.331849],[98.936953,23.309866],[98.928946,23.26589],[98.889525,23.209249],[98.906772,23.185595],[99.002242,23.160287],[99.057677,23.164689],[99.048438,23.11461],[99.106336,23.086536],[99.187024,23.100299],[99.255393,23.077727],[99.281879,23.101399],[99.3484,23.12892],[99.380429,23.099748],[99.440791,23.079379],[99.477747,23.083233],[99.528255,23.065614],[99.517168,23.006685],[99.533798,22.961507],[99.563363,22.925684],[99.531334,22.897019],[99.446951,22.934503],[99.43648,22.913557],[99.462965,22.844635],[99.401371,22.826434],[99.385357,22.761882],[99.326842,22.751396],[99.31514,22.737598],[99.339777,22.708894],[99.385973,22.57136],[99.359487,22.535435],[99.382277,22.493418],[99.297277,22.41156],[99.251698,22.393301],[99.278183,22.34626],[99.233836,22.296434],[99.235683,22.250468],[99.207966,22.232188],[99.175321,22.185647],[99.188256,22.162924],[99.156227,22.159599],[99.219669,22.110816],[99.294814,22.109152],[99.35456,22.095845],[99.400139,22.100281],[99.486987,22.128557],[99.516552,22.099726],[99.562747,22.113034],[99.578762,22.098617],[99.581841,22.103053],[99.648979,22.100835],[99.696406,22.067562],[99.762927,22.068117],[99.870101,22.029288],[99.871333,22.067007],[99.972347,22.053141],[99.965571,22.014309],[100.000064,21.973245],[99.982202,21.919401],[99.960028,21.907186],[99.944014,21.821097],[99.991441,21.703821],[100.049339,21.669899],[100.094303,21.702709],[100.131875,21.699929],[100.169447,21.663225],[100.107853,21.585337],[100.123252,21.565302],[100.131259,21.504066],[100.168831,21.482906],[100.184846,21.516315],[100.206404,21.509634],[100.235353,21.466756],[100.298795,21.477894],[100.349302,21.528564],[100.437381,21.533017],[100.48296,21.458958],[100.526692,21.471211],[100.579047,21.451717],[100.691764,21.510748],[100.730568,21.518542],[100.753358,21.555283],[100.789082,21.570867],[100.804481,21.609821],[100.847597,21.634856],[100.870386,21.67268],[100.896872,21.68269],[100.899335,21.684915],[100.936292,21.694368],[100.937524,21.693812],[101.015132,21.707157],[101.089661,21.773865],[101.123537,21.771642],[101.111835,21.746074],[101.116762,21.691032],[101.153102,21.669343],[101.169117,21.590345],[101.146943,21.560293],[101.209153,21.55751],[101.210385,21.509077],[101.225167,21.499055],[101.193138,21.473996],[101.194986,21.424979],[101.142631,21.409379],[101.183899,21.334699],[101.244877,21.302364],[101.246725,21.275598],[101.222088,21.234324],[101.290457,21.17853],[101.387775,21.225956],[101.439514,21.227072],[101.532521,21.252174],[101.601506,21.233208],[101.588572,21.191365],[101.605818,21.172392],[101.672339,21.194713],[101.703136,21.14616],[101.76473,21.147835],[101.794911,21.208104],[101.834331,21.204756],[101.833715,21.252731],[101.791832,21.285636],[101.745636,21.297345],[101.730238,21.336929],[101.749948,21.409379],[101.741324,21.482906],[101.772737,21.512975],[101.755491,21.538027],[101.754875,21.58478],[101.804766,21.577546],[101.828788,21.617054],[101.807846,21.644313],[101.780129,21.640975],[101.76781,21.716054],[101.747484,21.729953],[101.771506,21.833319],[101.740093,21.845541],[101.735165,21.875534],[101.700057,21.897191],[101.701288,21.938832],[101.666796,21.934391],[101.606434,21.967695],[101.626144,22.005986],[101.573789,22.115251],[101.602738,22.131883],[101.596579,22.161262],[101.547304,22.238282],[101.56455,22.269299],[101.625528,22.28259],[101.671723,22.372826],[101.648318,22.400494],[101.672339,22.47517],[101.715455,22.477935],[101.774585,22.506135],[101.824476,22.45692],[101.823244,22.42705],[101.862665,22.389427],[101.901469,22.384447],[101.907628,22.437007],[101.978461,22.427603],[102.046214,22.458026],[102.131214,22.430922],[102.145381,22.397727],[102.179257,22.430369],[102.270416,22.419858],[102.25625,22.457473],[102.322771,22.554227],[102.356648,22.563623],[102.404691,22.629925],[102.384365,22.679631],[102.43672,22.699508],[102.45951,22.762986],[102.510633,22.774574],[102.551285,22.743669],[102.569763,22.701164],[102.607335,22.730975],[102.657226,22.687913],[102.688639,22.70006],[102.80074,22.620534],[102.82353,22.623296],[102.880196,22.586832],[102.892515,22.533223],[102.930703,22.482359],[102.986754,22.477935],[103.030485,22.441432],[103.081608,22.454154],[103.071753,22.488441],[103.183238,22.558649],[103.161065,22.590147],[103.195557,22.648153],[103.220195,22.643734],[103.283021,22.678526],[103.288564,22.732078],[103.321209,22.777885],[103.323057,22.807678],[103.375411,22.794989],[103.441317,22.753052],[103.436389,22.6973],[103.457947,22.658646],[103.50907,22.601198],[103.529396,22.59291],[103.580519,22.66693],[103.567585,22.701164],[103.642113,22.794989],[103.740048,22.709446],[103.743127,22.697852],[103.766533,22.688465],[103.825047,22.615562],[103.863851,22.584069],[103.875554,22.565833],[103.894032,22.564728],[103.964865,22.502265],[104.009213,22.517745],[104.009213,22.575228],[104.022148,22.593463],[104.04309,22.67687],[104.045553,22.728215],[104.089901,22.768504],[104.117618,22.808781],[104.224176,22.826434],[104.261748,22.841877],[104.274067,22.828088],[104.256821,22.77347],[104.272835,22.73815],[104.323342,22.728767],[104.375697,22.690122],[104.422508,22.734838],[104.498885,22.774574],[104.527834,22.814298],[104.596203,22.846289],[104.674428,22.817056],[104.737869,22.825882],[104.732942,22.852356],[104.760659,22.862282],[104.772362,22.893711],[104.846275,22.926235],[104.860441,22.970874],[104.821021,23.032022],[104.804391,23.110207],[104.874608,23.123417],[104.882615,23.163589],[104.912796,23.175693],[104.949136,23.152033],[104.958991,23.188896],[105.093266,23.260942],[105.122215,23.247745],[105.181962,23.279084],[105.238012,23.26424],[105.260186,23.31811],[105.325475,23.390086],[105.353809,23.362069],[105.372903,23.317561],[105.416018,23.283482],[105.445584,23.292827],[105.50225,23.202648],[105.542902,23.184495],[105.526272,23.234548],[105.560148,23.257093],[105.593409,23.312614],[105.649459,23.346136],[105.699966,23.327453],[105.694423,23.363168],[105.637757,23.404366],[105.699966,23.40162],[105.758481,23.459826],[105.805908,23.467512],[105.815763,23.507031],[105.852103,23.526786],[105.89214,23.52514],[105.913081,23.499348],[105.935871,23.508678],[105.986378,23.489469],[105.999929,23.447748],[106.039965,23.484529],[106.071994,23.495506],[106.08616,23.524043],[106.141595,23.569579],[106.120653,23.605229],[106.149602,23.665538],[106.157609,23.724175],[106.136667,23.795381],[106.192102,23.824947],[106.173008,23.861622],[106.192718,23.879135],[106.157609,23.891174],[106.128044,23.956819],[106.091088,23.998924],[106.096631,24.018058],[106.053516,24.051399],[106.04982,24.089649],[106.011632,24.099482],[105.998081,24.120786],[105.963589,24.110954],[105.919241,24.122425],[105.901995,24.099482],[105.908154,24.069432],[105.89214,24.040468],[105.859495,24.056864],[105.841633,24.03063],[105.796669,24.023524],[105.802212,24.051945],[105.765256,24.073804],[105.739387,24.059596],[105.704278,24.0667],[105.649459,24.032816],[105.628518,24.126794],[105.594641,24.137718],[105.533663,24.130071],[105.493011,24.016965],[105.406163,24.043748],[105.395692,24.065607],[105.334099,24.094566],[105.320548,24.116416],[105.273121,24.092927],[105.292831,24.074896],[105.260186,24.061236],[105.20044,24.105491],[105.182577,24.167205],[105.229389,24.165567],[105.24294,24.208695],[105.215222,24.214699],[105.164715,24.288362],[105.196744,24.326541],[105.188121,24.347261],[105.138846,24.376701],[105.111744,24.37234],[105.106817,24.414853],[105.042759,24.442097],[104.979933,24.412673],[104.930042,24.411038],[104.914028,24.426296],[104.83642,24.446456],[104.784681,24.443732],[104.765587,24.45953],[104.74834,24.435559],[104.715695,24.441552],[104.703377,24.419757],[104.721239,24.340173],[104.70892,24.321087],[104.641783,24.367979],[104.610986,24.377246],[104.63008,24.397958],[104.616529,24.421937],[104.575877,24.424661],[104.550008,24.518894],[104.520443,24.535228],[104.489646,24.653313],[104.529682,24.731611],[104.542616,24.75607],[104.539537,24.813663],[104.586964,24.872859],[104.635623,24.903803],[104.663957,24.964584],[104.713232,24.996048],[104.684898,25.054072],[104.619609,25.060577],[104.685514,25.078466],[104.695369,25.122364],[104.732326,25.167871],[104.724319,25.195491],[104.753884,25.214443],[104.801927,25.163537],[104.822869,25.170037],[104.806854,25.224189],[104.826565,25.235558],[104.816094,25.262622],[104.736021,25.268034],[104.689826,25.296173],[104.639935,25.295632],[104.646094,25.356759],[104.615913,25.364871],[104.566638,25.402719],[104.543232,25.400556],[104.556783,25.524832],[104.524138,25.526992],[104.483486,25.494585],[104.44961,25.495126],[104.434827,25.472436],[104.418813,25.499447],[104.436059,25.520512],[104.428668,25.576126],[104.389248,25.595558],[104.332581,25.598796],[104.310407,25.647901],[104.328886,25.760602],[104.370769,25.730415],[104.397871,25.76168],[104.42374,25.841961],[104.441602,25.868889],[104.414501,25.909807],[104.438523,25.92757],[104.470552,26.009352],[104.460081,26.085702],[104.499501,26.070651],[104.52845,26.114186],[104.518595,26.165762],[104.548776,26.226979],[104.542616,26.253282],[104.592508,26.317672],[104.659645,26.335373],[104.684283,26.3772],[104.664572,26.397572],[104.665804,26.434019],[104.631928,26.451702],[104.638703,26.477954],[104.598667,26.520801],[104.57095,26.524549],[104.579573,26.568449],[104.556783,26.590393],[104.488414,26.579689],[104.459465,26.602701],[104.468088,26.644431],[104.424356,26.709137],[104.398487,26.686147],[104.353523,26.620893],[104.313487,26.612867],[104.274683,26.633733],[104.268524,26.617683],[104.222328,26.620358],[104.160734,26.646571],[104.121314,26.638012],[104.068343,26.573266],[104.067727,26.51491],[104.008597,26.511697],[103.953163,26.521336],[103.865699,26.512232],[103.819504,26.529903],[103.815808,26.55239],[103.763453,26.585041],[103.748671,26.623568],[103.759142,26.689355],[103.773308,26.716621],[103.725265,26.742812],[103.705555,26.794642],[103.722185,26.851253],[103.779468,26.87421],[103.763453,26.905702],[103.775156,26.951056],[103.753598,26.963858],[103.73204,27.018785],[103.704939,27.049171],[103.675374,27.051836],[103.623019,27.007056],[103.623635,27.035312],[103.601461,27.061962],[103.614396,27.079548],[103.659975,27.065692],[103.652584,27.092868],[103.620555,27.096598],[103.63349,27.12057],[103.696316,27.126429],[103.748671,27.210021],[103.801641,27.250464],[103.80041,27.26536],[103.865699,27.28185],[103.874322,27.331304],[103.903271,27.347785],[103.905119,27.38552],[103.932221,27.443958],[103.956242,27.425367],[104.015372,27.429086],[104.01722,27.383926],[104.084358,27.330773],[104.113923,27.338216],[104.173053,27.263232],[104.210625,27.297273],[104.248813,27.291955],[104.247582,27.336621],[104.295625,27.37436],[104.30856,27.407305],[104.363378,27.467855],[104.467472,27.414211],[104.497037,27.414743],[104.539537,27.327583],[104.570334,27.331836],[104.611602,27.306846],[104.7545,27.345658],[104.77113,27.317481],[104.824717,27.3531],[104.856746,27.332368],[104.851818,27.299401],[104.871528,27.290891],[104.913412,27.327051],[105.01073,27.379143],[105.068013,27.418461],[105.120984,27.418461],[105.184425,27.392959],[105.182577,27.367451],[105.233084,27.436522],[105.234316,27.489093],[105.260186,27.514573],[105.232469,27.546945],[105.25649,27.582491],[105.304533,27.611661],[105.29591,27.631811],[105.308229,27.704955]]]]}},{"type":"Feature","properties":{"adcode":540000,"name":"\u897F\u85CF\u81EA\u6CBB\u533A","center":[91.132212,29.660361],"centroid":[88.388277,31.56375],"childrenNum":7,"level":"province","parent":{"adcode":100000},"subFeatureIndex":25,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[89.711414,36.093272],[89.614711,36.109712],[89.594385,36.126632],[89.490291,36.151281],[89.375727,36.228078],[89.335075,36.23725],[89.292575,36.231457],[89.232213,36.295636],[89.198952,36.260417],[89.126887,36.254626],[89.10225,36.281164],[89.054822,36.291777],[89.013554,36.315409],[88.964279,36.318785],[88.926091,36.36458],[88.870657,36.348193],[88.838628,36.353496],[88.802903,36.33807],[88.783809,36.291777],[88.766563,36.292259],[88.690186,36.367954],[88.623665,36.389636],[88.618121,36.428168],[88.573158,36.461386],[88.498629,36.446463],[88.470912,36.48208],[88.41055,36.473418],[88.356963,36.477268],[88.366202,36.458016],[88.282434,36.470049],[88.241782,36.468605],[88.222688,36.447426],[88.182652,36.452721],[88.134609,36.427205],[88.092109,36.43539],[88.006494,36.430575],[87.983088,36.437797],[87.95845,36.408423],[87.919646,36.39349],[87.838342,36.383855],[87.826023,36.391563],[87.767509,36.3747],[87.731785,36.384818],[87.6203,36.360243],[87.570409,36.342409],[87.470626,36.354459],[87.460155,36.409868],[87.426895,36.42576],[87.386859,36.412757],[87.363453,36.420463],[87.348055,36.393008],[87.292004,36.358797],[87.193454,36.349158],[87.161425,36.325535],[87.149106,36.297565],[87.08628,36.310587],[87.051788,36.2966],[86.996353,36.308658],[86.943998,36.284058],[86.931064,36.265242],[86.887332,36.262829],[86.86331,36.299977],[86.836209,36.291294],[86.746282,36.291777],[86.69947,36.24449],[86.599072,36.222285],[86.531935,36.227113],[86.515305,36.205385],[86.454943,36.221319],[86.392733,36.206834],[86.35824,36.168676],[86.2794,36.170608],[86.248603,36.141616],[86.187625,36.130983],[86.182081,36.064734],[86.199944,36.047801],[86.173458,36.008113],[86.150668,36.00424],[86.129111,35.941761],[86.093386,35.906868],[86.090306,35.876809],[86.05335,35.842857],[86.035488,35.846738],[85.949256,35.778794],[85.903677,35.78462],[85.835308,35.771996],[85.811286,35.778794],[85.691178,35.751114],[85.65299,35.731199],[85.612953,35.651486],[85.566142,35.6403],[85.518715,35.680658],[85.373969,35.700101],[85.341324,35.753543],[85.271107,35.788989],[85.146071,35.742371],[85.053065,35.752086],[84.99455,35.737028],[84.973608,35.709334],[84.920022,35.696213],[84.798066,35.647595],[84.729081,35.613546],[84.704443,35.616951],[84.628067,35.595055],[84.570168,35.588242],[84.513502,35.564391],[84.448828,35.550272],[84.475929,35.516181],[84.45314,35.473303],[84.424191,35.466479],[84.333032,35.413821],[84.274517,35.404065],[84.200605,35.381135],[84.160569,35.359663],[84.140859,35.379184],[84.095895,35.362592],[84.077417,35.400163],[84.005968,35.422599],[83.906186,35.40309],[83.885244,35.367472],[83.79778,35.354783],[83.785462,35.36308],[83.677672,35.361128],[83.622238,35.335256],[83.599448,35.351366],[83.54155,35.341603],[83.540318,35.364056],[83.502745,35.360639],[83.449159,35.382111],[83.405427,35.380648],[83.333978,35.397236],[83.280391,35.401138],[83.251442,35.417722],[83.178145,35.38943],[83.127022,35.398699],[83.088834,35.425526],[83.067892,35.46258],[82.998907,35.484512],[82.971806,35.548324],[82.981661,35.599922],[82.956407,35.636409],[82.967494,35.667532],[82.894813,35.673852],[82.873871,35.688922],[82.795031,35.688436],[82.780249,35.666073],[82.731589,35.637868],[82.652133,35.67288],[82.628727,35.692324],[82.546192,35.708362],[82.501844,35.701073],[82.468583,35.717595],[82.424852,35.712736],[82.392823,35.656349],[82.336156,35.651486],[82.350323,35.611113],[82.328149,35.559523],[82.2992,35.544916],[82.263475,35.547837],[82.234526,35.520565],[82.189563,35.513258],[82.164925,35.495719],[82.086701,35.467454],[82.071302,35.450393],[82.034346,35.451855],[82.029419,35.426013],[82.05344,35.35039],[82.030034,35.321585],[81.99123,35.30547],[81.955506,35.307423],[81.927789,35.271275],[81.853876,35.25857],[81.804601,35.270786],[81.736847,35.26248],[81.68634,35.235599],[81.513261,35.23511],[81.504638,35.279092],[81.447972,35.318167],[81.441196,35.333303],[81.385762,35.335256],[81.363588,35.354783],[81.314313,35.337209],[81.285364,35.345508],[81.26627,35.322562],[81.219458,35.319144],[81.191741,35.36552],[81.142466,35.365032],[81.103662,35.386015],[81.09935,35.40748],[81.054387,35.402602],[81.031597,35.380648],[81.030981,35.337209],[81.002648,35.334768],[81.026053,35.31133],[80.963844,35.310842],[80.924423,35.330862],[80.894242,35.324027],[80.844351,35.345508],[80.759968,35.334768],[80.689135,35.339162],[80.690982,35.364544],[80.65649,35.393821],[80.599823,35.409431],[80.56841,35.391381],[80.532686,35.404553],[80.514824,35.391869],[80.444607,35.417235],[80.432904,35.449418],[80.375006,35.387966],[80.321419,35.38699],[80.286926,35.35283],[80.267832,35.295701],[80.362687,35.20871],[80.257977,35.203331],[80.223484,35.177409],[80.23026,35.147565],[80.118159,35.066293],[80.078123,35.076578],[80.031311,35.034447],[80.04363,35.022196],[80.02392,34.971209],[80.041782,34.943252],[80.034391,34.902033],[80.003594,34.895162],[79.996819,34.856375],[79.961094,34.862759],[79.926602,34.849499],[79.947544,34.821008],[79.898268,34.732035],[79.906892,34.683821],[79.866856,34.671517],[79.88595,34.642965],[79.84345,34.55725],[79.861312,34.528166],[79.801566,34.478847],[79.735661,34.471447],[79.699936,34.477861],[79.675914,34.451216],[79.58106,34.456151],[79.545335,34.476381],[79.504683,34.45467],[79.435082,34.447761],[79.363017,34.428018],[79.326677,34.44332],[79.274322,34.435916],[79.241677,34.415183],[79.179467,34.422588],[79.161605,34.441345],[79.072294,34.412714],[79.039033,34.421601],[79.0107,34.399877],[79.048888,34.348506],[79.039649,34.33467],[79.019939,34.313417],[78.981751,34.31836],[78.958345,34.230827],[78.941099,34.212022],[78.9257,34.155584],[78.910302,34.143202],[78.878273,34.163012],[78.828998,34.125369],[78.801897,34.137258],[78.737223,34.089692],[78.661462,34.086718],[78.656535,34.030196],[78.736607,33.999937],[78.744614,33.980585],[78.734143,33.918529],[78.762476,33.90959],[78.756317,33.8773],[78.766172,33.823124],[78.758165,33.790802],[78.779723,33.73259],[78.692259,33.676331],[78.684868,33.654415],[78.713201,33.623025],[78.755085,33.623025],[78.74215,33.55323],[78.816679,33.480882],[78.84994,33.419963],[78.896751,33.41247],[78.949722,33.376495],[78.9682,33.334505],[79.022403,33.323504],[79.041497,33.268479],[79.083997,33.245459],[79.072294,33.22844],[79.10925,33.200401],[79.152366,33.184375],[79.162221,33.165841],[79.139431,33.117735],[79.162837,33.01191],[79.204721,32.964724],[79.255844,32.942628],[79.227511,32.89038],[79.237982,32.846145],[79.225047,32.784281],[79.275554,32.778746],[79.301423,32.728919],[79.27309,32.678056],[79.299575,32.637244],[79.308199,32.596918],[79.272474,32.561113],[79.252148,32.516715],[79.190554,32.511669],[79.180083,32.492994],[79.135736,32.472295],[79.124649,32.416235],[79.103091,32.369744],[79.067982,32.380863],[79.005772,32.375304],[78.970664,32.331826],[78.904142,32.374798],[78.87273,32.40512],[78.81052,32.436441],[78.782186,32.480373],[78.760629,32.563635],[78.781571,32.608009],[78.74215,32.654881],[78.741534,32.703743],[78.6861,32.680071],[78.675013,32.658408],[78.628202,32.630188],[78.588782,32.637748],[78.577695,32.615067],[78.518564,32.605993],[78.500086,32.580782],[78.424942,32.565652],[78.395377,32.530339],[78.426174,32.502584],[78.472985,32.435431],[78.458818,32.379853],[78.483456,32.357106],[78.480992,32.329297],[78.508709,32.297939],[78.475449,32.236708],[78.430485,32.212407],[78.429869,32.194683],[78.469905,32.127808],[78.509941,32.147065],[78.527188,32.11463],[78.609107,32.052768],[78.60726,32.023851],[78.705194,31.988835],[78.762476,31.947203],[78.768636,31.92638],[78.739687,31.885228],[78.665158,31.851684],[78.654687,31.819144],[78.706426,31.778453],[78.763092,31.668499],[78.798817,31.675629],[78.806824,31.64099],[78.845628,31.609905],[78.833925,31.584927],[78.779723,31.545154],[78.740303,31.532912],[78.729832,31.478316],[78.755701,31.478316],[78.792041,31.435944],[78.760013,31.392531],[78.755085,31.355742],[78.795121,31.301043],[78.859179,31.289281],[78.865338,31.312804],[78.884432,31.277006],[78.923852,31.246824],[78.930628,31.220726],[78.997765,31.158779],[78.97436,31.115751],[79.010084,31.043994],[79.059359,31.028097],[79.096931,30.992192],[79.181931,31.015788],[79.205953,31.0004],[79.227511,30.949088],[79.33222,30.969103],[79.316206,31.01784],[79.35809,31.031174],[79.404901,31.071678],[79.424611,31.061425],[79.427075,31.018353],[79.505915,31.027584],[79.550879,30.957813],[79.59769,30.925989],[79.660516,30.956787],[79.668523,30.980392],[79.729501,30.941389],[79.75845,30.936769],[79.835443,30.851006],[79.890877,30.855116],[79.913051,30.833022],[79.900732,30.7991],[79.961094,30.771337],[79.955551,30.738422],[79.970333,30.685941],[80.014065,30.661748],[80.04363,30.603559],[80.143412,30.55822],[80.214245,30.586044],[80.261673,30.566465],[80.322035,30.564403],[80.357759,30.520592],[80.43044,30.515952],[80.446454,30.495327],[80.504969,30.483466],[80.549316,30.448905],[80.585041,30.463866],[80.633084,30.458707],[80.692214,30.416913],[80.719316,30.414848],[80.81725,30.321389],[80.910873,30.30279],[80.933662,30.266614],[80.996488,30.267648],[81.034677,30.246971],[81.038372,30.205086],[81.082104,30.151281],[81.085799,30.100554],[81.110437,30.085538],[81.09627,30.052909],[81.131995,30.016124],[81.225618,30.005759],[81.256415,30.011978],[81.247792,30.032705],[81.2829,30.061197],[81.293371,30.094859],[81.269349,30.153351],[81.335871,30.149729],[81.393769,30.199396],[81.397465,30.240767],[81.419023,30.270232],[81.406088,30.291938],[81.427646,30.305373],[81.399929,30.319323],[81.406088,30.369421],[81.432573,30.379231],[81.406704,30.40401],[81.418407,30.420525],[81.454131,30.412268],[81.494783,30.381296],[81.555761,30.369421],[81.566232,30.428782],[81.613044,30.412784],[81.63029,30.446842],[81.723913,30.407623],[81.759021,30.385426],[81.872354,30.373035],[81.939491,30.344633],[81.954274,30.355995],[81.99123,30.322939],[82.022027,30.339468],[82.060215,30.332237],[82.104563,30.346182],[82.132896,30.30434],[82.11873,30.279019],[82.114418,30.226806],[82.142135,30.200948],[82.188947,30.18543],[82.207425,30.143519],[82.183403,30.12178],[82.17786,30.06793],[82.246845,30.071555],[82.311519,30.035813],[82.333693,30.045138],[82.368185,30.014051],[82.412533,30.011978],[82.431011,29.989692],[82.474743,29.973622],[82.498148,29.947698],[82.560974,29.955476],[82.609017,29.886489],[82.64351,29.868846],[82.6238,29.834588],[82.703872,29.847566],[82.737749,29.80655],[82.691553,29.766037],[82.757459,29.761881],[82.774089,29.726548],[82.816589,29.717192],[82.830756,29.687562],[82.885574,29.689122],[82.9484,29.704718],[82.966878,29.658963],[83.011226,29.667804],[83.088834,29.604863],[83.12887,29.623593],[83.159667,29.61735],[83.164595,29.595496],[83.217565,29.60018],[83.266841,29.571035],[83.27608,29.505951],[83.325355,29.502826],[83.383253,29.42206],[83.415898,29.420496],[83.423289,29.361053],[83.450391,29.332883],[83.463941,29.285916],[83.492274,29.280174],[83.548941,29.201322],[83.57789,29.203934],[83.596368,29.174153],[83.656114,29.16736],[83.667201,29.200277],[83.727563,29.244672],[83.800244,29.249372],[83.82057,29.294267],[83.851367,29.294789],[83.911729,29.323491],[83.949301,29.312533],[83.986874,29.325057],[84.002272,29.291658],[84.052163,29.296877],[84.116837,29.286438],[84.130388,29.239972],[84.203068,29.239972],[84.197525,29.210202],[84.17104,29.19453],[84.176583,29.133909],[84.20738,29.118749],[84.192597,29.084236],[84.194445,29.045004],[84.224626,29.049189],[84.248648,29.030353],[84.228322,28.949738],[84.234481,28.889497],[84.268358,28.895261],[84.330568,28.859101],[84.340423,28.866963],[84.408176,28.85386],[84.404481,28.828173],[84.434046,28.823978],[84.445133,28.764189],[84.483321,28.735331],[84.557233,28.74635],[84.620059,28.732182],[84.650856,28.714338],[84.669334,28.680742],[84.699515,28.671816],[84.698284,28.633478],[84.773428,28.610363],[84.857196,28.567798],[84.896616,28.587244],[84.981616,28.586193],[84.995782,28.611414],[85.05676,28.674441],[85.126361,28.676016],[85.155926,28.643983],[85.195963,28.624022],[85.18426,28.587244],[85.189803,28.544669],[85.160238,28.49261],[85.108499,28.461047],[85.129441,28.377885],[85.113427,28.344708],[85.179948,28.324164],[85.209513,28.338914],[85.272339,28.282538],[85.349947,28.298347],[85.379512,28.274105],[85.415853,28.321003],[85.458969,28.332593],[85.520563,28.326798],[85.602483,28.295712],[85.601251,28.254075],[85.650526,28.283592],[85.682555,28.375779],[85.720743,28.372093],[85.753388,28.227714],[85.791576,28.195544],[85.854402,28.172334],[85.871648,28.124843],[85.898749,28.101617],[85.901213,28.053566],[85.980053,27.984357],[85.949256,27.937311],[86.002227,27.90717],[86.053966,27.900823],[86.125415,27.923035],[86.082915,28.018175],[86.086611,28.090002],[86.128495,28.086835],[86.140198,28.114814],[86.19132,28.167058],[86.223965,28.092642],[86.206103,28.084195],[86.231972,27.974315],[86.27324,27.976958],[86.308965,27.950528],[86.393349,27.926736],[86.414906,27.904526],[86.450015,27.908757],[86.475884,27.944713],[86.514689,27.954757],[86.513457,27.996511],[86.537478,28.044587],[86.55842,28.047757],[86.568891,28.103201],[86.60092,28.097922],[86.611391,28.069938],[86.647732,28.06941],[86.662514,28.092114],[86.700086,28.101617],[86.74813,28.089474],[86.768456,28.06941],[86.756753,28.032967],[86.827586,28.012363],[86.864542,28.022401],[86.885484,27.995983],[86.926752,27.985942],[86.935375,27.955286],[87.035157,27.946299],[87.080737,27.910872],[87.118309,27.840512],[87.173744,27.818284],[87.227946,27.812991],[87.249504,27.839454],[87.280917,27.845275],[87.317258,27.826753],[87.364069,27.824106],[87.421967,27.856916],[87.418272,27.825694],[87.45954,27.820931],[87.58088,27.859562],[87.598126,27.814579],[87.670191,27.832045],[87.668343,27.809815],[87.727473,27.802933],[87.77798,27.860091],[87.782292,27.890774],[87.826639,27.927794],[87.930733,27.909285],[87.982472,27.884426],[88.037291,27.901881],[88.090877,27.885484],[88.111819,27.864852],[88.137689,27.878607],[88.120442,27.915103],[88.156783,27.957929],[88.203594,27.943127],[88.242398,27.967444],[88.254101,27.939426],[88.357579,27.986471],[88.401311,27.976958],[88.43334,28.002852],[88.469064,28.009721],[88.498013,28.04089],[88.554064,28.027684],[88.565151,28.083139],[88.620585,28.091586],[88.645223,28.111119],[88.67602,28.068353],[88.764099,28.068353],[88.812142,28.018175],[88.842939,28.006023],[88.846635,27.921448],[88.864497,27.921448],[88.888519,27.846863],[88.863265,27.811932],[88.870657,27.743098],[88.850331,27.710783],[88.852178,27.671039],[88.816454,27.641354],[88.813374,27.606889],[88.770874,27.563924],[88.797976,27.521473],[88.783193,27.467324],[88.809063,27.405711],[88.838012,27.37808],[88.867577,27.3818],[88.901453,27.327583],[88.920548,27.325456],[88.911924,27.272807],[88.942105,27.261636],[88.984605,27.208957],[89.067757,27.240354],[89.077612,27.287168],[89.152757,27.319076],[89.182938,27.373829],[89.132431,27.441302],[89.095474,27.471572],[89.109025,27.537925],[89.163228,27.574534],[89.128735,27.611131],[89.131815,27.633402],[89.184786,27.673689],[89.238988,27.796581],[89.295655,27.84845],[89.375727,27.875962],[89.44348,27.968501],[89.461958,28.03191],[89.511233,28.086307],[89.541414,28.088418],[89.605472,28.161782],[89.720037,28.170224],[89.779167,28.197127],[89.789638,28.240895],[89.869094,28.221386],[89.901739,28.18183],[89.976268,28.189215],[90.017536,28.162837],[90.03355,28.136981],[90.07297,28.155451],[90.103151,28.141731],[90.124709,28.190797],[90.166593,28.187632],[90.189999,28.161782],[90.231882,28.144897],[90.297172,28.153868],[90.367389,28.088946],[90.384019,28.06096],[90.43699,28.063073],[90.47949,28.044587],[90.513983,28.062016],[90.569417,28.044059],[90.591591,28.021345],[90.701844,28.076274],[90.741264,28.053038],[90.802242,28.040362],[90.806554,28.015005],[90.853365,27.969029],[90.896481,27.946299],[90.96177,27.9537],[90.976553,27.935725],[90.96485,27.900294],[91.025828,27.857445],[91.113292,27.846333],[91.155175,27.894476],[91.147784,27.927794],[91.162567,27.968501],[91.216153,27.989113],[91.251878,27.970615],[91.309776,28.057791],[91.464993,28.002852],[91.490246,27.971672],[91.486551,27.937311],[91.552456,27.90717],[91.611586,27.891303],[91.618978,27.856916],[91.561079,27.855329],[91.544449,27.820401],[91.610355,27.819343],[91.642383,27.7664],[91.622673,27.692238],[91.570934,27.650897],[91.562311,27.627569],[91.582637,27.598933],[91.564775,27.58196],[91.585101,27.540578],[91.626985,27.509265],[91.663325,27.507142],[91.71876,27.467324],[91.753868,27.462545],[91.839484,27.489624],[91.946657,27.464138],[92.010715,27.474758],[92.021802,27.444489],[92.064918,27.391365],[92.125896,27.273339],[92.091403,27.264296],[92.071077,27.237694],[92.061222,27.190327],[92.032273,27.167967],[92.02673,27.108318],[92.043976,27.052902],[92.076005,27.041175],[92.124664,26.960124],[92.109265,26.854991],[92.197961,26.86994],[92.28604,26.892359],[92.404916,26.9025],[92.496691,26.921711],[92.549046,26.941453],[92.64698,26.952656],[92.682089,26.947855],[92.802813,26.895028],[92.909371,26.914241],[93.050421,26.883819],[93.111399,26.880082],[93.232739,26.906769],[93.56781,26.938252],[93.625092,26.955323],[93.747048,27.015587],[93.817265,27.025183],[93.841903,27.045973],[93.849294,27.168499],[93.970634,27.30525],[94.056866,27.375423],[94.147409,27.458297],[94.220705,27.536333],[94.277372,27.58143],[94.353132,27.578778],[94.399944,27.589386],[94.443675,27.585143],[94.478168,27.602116],[94.524979,27.596282],[94.660486,27.650367],[94.722696,27.683759],[94.78121,27.699127],[94.836645,27.728796],[94.88592,27.743098],[94.947514,27.792345],[95.015267,27.82887],[95.067006,27.840512],[95.28628,27.939955],[95.32878,28.017646],[95.352802,28.04089],[95.371896,28.110063],[95.39715,28.142259],[95.437802,28.161782],[95.528345,28.182885],[95.674322,28.254075],[95.740228,28.275159],[95.787655,28.270416],[95.832003,28.295186],[95.874502,28.29782],[95.899756,28.278322],[95.907763,28.241422],[95.936096,28.240368],[95.989067,28.198181],[96.074683,28.193434],[96.098088,28.212421],[96.194175,28.212949],[96.275479,28.228241],[96.298269,28.140148],[96.367254,28.118509],[96.398667,28.118509],[96.395587,28.143842],[96.426384,28.161782],[96.46334,28.143314],[96.499681,28.067297],[96.538485,28.075218],[96.623485,28.024514],[96.635188,27.994926],[96.690622,27.948942],[96.711564,27.9574],[96.784245,27.931495],[96.810114,27.890245],[96.849534,27.874375],[96.908049,27.884426],[96.972722,27.861149],[97.008447,27.807698],[97.049099,27.81405],[97.062649,27.742568],[97.097758,27.740979],[97.103301,27.780697],[97.167975,27.811932],[97.253591,27.891832],[97.303482,27.913516],[97.324424,27.880723],[97.386634,27.882839],[97.372467,27.907699],[97.379242,27.970087],[97.413119,28.01342],[97.378626,28.031382],[97.375547,28.062545],[97.320728,28.054095],[97.305945,28.071522],[97.340438,28.104785],[97.326887,28.132759],[97.352757,28.149646],[97.362612,28.199236],[97.349677,28.235623],[97.398336,28.238786],[97.402032,28.279903],[97.422358,28.297293],[97.461162,28.26778],[97.469169,28.30309],[97.518445,28.327852],[97.488879,28.347341],[97.485184,28.38631],[97.499966,28.428948],[97.521524,28.444736],[97.507974,28.46473],[97.521524,28.495766],[97.569567,28.541515],[97.60406,28.515225],[97.634857,28.532051],[97.68598,28.519958],[97.737103,28.465782],[97.738335,28.396313],[97.769748,28.3742],[97.801161,28.326798],[97.842429,28.326798],[97.871378,28.361561],[97.907718,28.363141],[98.020435,28.253548],[98.008116,28.214003],[98.03337,28.187105],[98.056775,28.202401],[98.090036,28.195544],[98.097427,28.166531],[98.139311,28.142259],[98.17442,28.163365],[98.169492,28.206093],[98.21692,28.212949],[98.266811,28.242477],[98.231702,28.314681],[98.207681,28.330486],[98.208913,28.358401],[98.301303,28.384204],[98.317934,28.324691],[98.353042,28.293078],[98.37768,28.246167],[98.370289,28.18394],[98.389999,28.16442],[98.389383,28.114814],[98.428803,28.104785],[98.464527,28.151229],[98.494092,28.141203],[98.559382,28.182885],[98.625903,28.165475],[98.649925,28.200291],[98.712135,28.229296],[98.710287,28.288862],[98.746628,28.321003],[98.740468,28.348395],[98.693041,28.43158],[98.673947,28.478934],[98.625903,28.489455],[98.619128,28.50944],[98.637606,28.552029],[98.594491,28.667615],[98.666555,28.712239],[98.683802,28.740054],[98.652389,28.817162],[98.668403,28.843376],[98.643766,28.895261],[98.6567,28.910454],[98.624056,28.95864],[98.655469,28.976966],[98.70228,28.9644],[98.757714,29.004186],[98.786048,28.998952],[98.821772,28.920931],[98.827932,28.821356],[98.852569,28.798283],[98.912931,28.800906],[98.922786,28.823978],[98.972677,28.832367],[98.973909,28.864867],[98.917859,28.886877],[98.925866,28.978536],[99.013329,29.036632],[98.991771,29.105677],[98.967134,29.128159],[98.960974,29.165792],[98.9813,29.204978],[99.024416,29.188783],[99.037351,29.20759],[99.113727,29.221171],[99.114343,29.243628],[99.075539,29.316186],[99.058909,29.417368],[99.066916,29.421018],[99.044742,29.520013],[99.052133,29.563748],[99.014561,29.607464],[98.992387,29.677163],[99.018873,29.792009],[99.0238,29.846009],[99.068148,29.931621],[99.055213,29.958587],[99.036735,30.053945],[99.044742,30.079842],[98.989308,30.151799],[98.9813,30.182843],[98.993003,30.215429],[98.970829,30.260928],[98.986844,30.280569],[98.967134,30.33482],[98.965286,30.449937],[98.932025,30.521623],[98.926482,30.569556],[98.939417,30.598923],[98.92217,30.609225],[98.907388,30.698292],[98.963438,30.728134],[98.957895,30.765166],[98.904924,30.782649],[98.850105,30.849465],[98.797135,30.87926],[98.774345,30.908019],[98.797135,30.948575],[98.806374,30.995783],[98.774961,31.031174],[98.736772,31.049121],[98.712135,31.082954],[98.710287,31.1178],[98.675179,31.15417],[98.602498,31.192062],[98.62344,31.221238],[98.60373,31.257568],[98.616048,31.3036],[98.643766,31.338876],[98.691809,31.333253],[98.773113,31.249382],[98.805758,31.279052],[98.810685,31.306668],[98.887062,31.37465],[98.84333,31.416028],[98.844562,31.429817],[98.714599,31.508935],[98.696736,31.538523],[98.651157,31.57881],[98.619128,31.591555],[98.553839,31.660349],[98.545831,31.717383],[98.516882,31.717383],[98.508875,31.751995],[98.461448,31.800327],[98.414636,31.832365],[98.426339,31.856767],[98.399238,31.895899],[98.432498,31.922825],[98.434962,32.007613],[98.402933,32.026896],[98.404781,32.045159],[98.357354,32.087253],[98.303151,32.121726],[98.260035,32.208862],[98.218768,32.234683],[98.23047,32.262521],[98.208913,32.318171],[98.218768,32.342444],[98.125145,32.401077],[98.107283,32.391476],[98.079565,32.415224],[97.940363,32.482393],[97.880001,32.486431],[97.863986,32.499051],[97.80732,32.50006],[97.795617,32.521257],[97.730944,32.527312],[97.684132,32.530339],[97.670582,32.51722],[97.540618,32.536899],[97.50243,32.530844],[97.463626,32.55506],[97.448843,32.586833],[97.411887,32.575235],[97.374315,32.546484],[97.3583,32.563635],[97.332431,32.542448],[97.334895,32.514192],[97.388481,32.501575],[97.341054,32.440987],[97.387865,32.427349],[97.424822,32.322723],[97.415583,32.296421],[97.371235,32.273148],[97.32196,32.303503],[97.299786,32.294904],[97.264062,32.182527],[97.271453,32.139971],[97.313953,32.130342],[97.293011,32.096887],[97.308409,32.076605],[97.258518,32.072041],[97.219714,32.109054],[97.201852,32.090296],[97.233881,32.063927],[97.214786,32.042623],[97.188301,32.055304],[97.169823,32.032984],[97.127323,32.044145],[97.028773,32.04871],[97.006599,32.067984],[96.935766,32.048203],[96.965947,32.008628],[96.941925,31.986297],[96.894498,32.013703],[96.863085,31.996448],[96.868629,31.964975],[96.824281,32.007613],[96.722651,32.013195],[96.742977,32.001016],[96.753448,31.944156],[96.776238,31.935015],[96.81073,31.894375],[96.794716,31.869474],[96.760223,31.860325],[96.765767,31.819144],[96.799027,31.792188],[96.840295,31.720438],[96.790404,31.698545],[96.778701,31.675629],[96.722651,31.686833],[96.691854,31.722474],[96.661057,31.705674],[96.615477,31.737236],[96.56805,31.711783],[96.519391,31.74945],[96.468884,31.769804],[96.435623,31.796258],[96.407906,31.845583],[96.389428,31.919777],[96.288414,31.919777],[96.253305,31.929936],[96.220044,31.905553],[96.188632,31.904028],[96.214501,31.876589],[96.202798,31.841008],[96.183088,31.835924],[96.178161,31.775401],[96.231131,31.749959],[96.222508,31.733164],[96.252073,31.697527],[96.245298,31.657802],[96.221892,31.647613],[96.207726,31.598691],[96.156603,31.602769],[96.148595,31.686324],[96.135661,31.70211],[96.064828,31.720438],[95.989067,31.78761],[95.983524,31.816601],[95.89914,31.81711],[95.846169,31.736218],[95.853561,31.714329],[95.823995,31.68225],[95.779648,31.748941],[95.634286,31.782523],[95.580083,31.76726],[95.546823,31.73978],[95.511714,31.750468],[95.480301,31.795749],[95.456896,31.801853],[95.406389,31.896915],[95.408852,31.918761],[95.3682,31.92892],[95.360809,31.95939],[95.395918,32.001523],[95.454432,32.007613],[95.421171,32.033999],[95.454432,32.061898],[95.440265,32.157705],[95.406389,32.182021],[95.367584,32.178982],[95.366968,32.151118],[95.31523,32.148585],[95.270266,32.194683],[95.270266,32.194683],[95.239469,32.287315],[95.241317,32.3207],[95.214216,32.321712],[95.20744,32.297433],[95.10581,32.258979],[95.079325,32.279726],[95.096571,32.322217],[95.193274,32.332331],[95.261643,32.348006],[95.228382,32.363678],[95.218527,32.397035],[95.153853,32.386423],[95.081789,32.384907],[95.075013,32.376315],[95.075013,32.376315],[95.057151,32.395014],[94.988166,32.422802],[94.944434,32.404109],[94.912405,32.41573],[94.889616,32.472295],[94.852043,32.463712],[94.80708,32.486431],[94.78737,32.522266],[94.762116,32.526303],[94.737479,32.587338],[94.638312,32.645307],[94.614291,32.673522],[94.591501,32.640772],[94.522516,32.595909],[94.459074,32.599439],[94.463386,32.572209],[94.435052,32.562626],[94.395016,32.594397],[94.371611,32.524789],[94.350053,32.533871],[94.294002,32.519743],[94.292154,32.502584],[94.250886,32.51722],[94.196684,32.51621],[94.176974,32.454117],[94.137554,32.433915],[94.091974,32.463207],[94.049474,32.469771],[94.03038,32.448057],[93.978641,32.459672],[93.960163,32.484917],[93.90904,32.463207],[93.861613,32.466237],[93.851142,32.50965],[93.820345,32.549511],[93.75136,32.56313],[93.721795,32.578261],[93.651577,32.571705],[93.618933,32.522771],[93.516687,32.47583],[93.501904,32.503593],[93.476651,32.504603],[93.4631,32.556069],[93.411977,32.558086],[93.385492,32.525294],[93.33868,32.5712],[93.308499,32.580278],[93.300492,32.619604],[93.260456,32.62666],[93.239514,32.662439],[93.210565,32.655385],[93.176688,32.6705],[93.159442,32.644803],[93.087993,32.63674],[93.069515,32.626156],[93.023935,32.703239],[93.019624,32.737477],[93.00053,32.741001],[92.964189,32.714821],[92.933392,32.719353],[92.866871,32.698203],[92.822523,32.729926],[92.789262,32.719856],[92.756618,32.743014],[92.686401,32.76516],[92.667922,32.73194],[92.634662,32.720863],[92.574916,32.741001],[92.56814,32.73194],[92.484372,32.745028],[92.459119,32.76365],[92.411076,32.748048],[92.355641,32.764657],[92.343938,32.738484],[92.310062,32.751571],[92.255243,32.720863],[92.198577,32.754591],[92.211511,32.788306],[92.193649,32.801889],[92.227526,32.821003],[92.205352,32.866255],[92.145606,32.885857],[92.101874,32.860222],[92.038432,32.860725],[92.018722,32.829552],[91.955897,32.8205],[91.896766,32.907967],[91.857962,32.90244],[91.839484,32.948152],[91.799448,32.942126],[91.752637,32.969242],[91.685499,32.989324],[91.664557,33.012913],[91.583253,33.0375],[91.55492,33.060074],[91.535826,33.10019],[91.49579,33.109214],[91.436044,33.066092],[91.370138,33.100691],[91.311624,33.108211],[91.261733,33.141291],[91.226624,33.141792],[91.18782,33.106206],[91.161335,33.108712],[91.147784,33.07211],[91.072024,33.113224],[91.037531,33.098686],[91.001807,33.11573],[90.927894,33.120241],[90.902024,33.083143],[90.88293,33.120241],[90.803474,33.114227],[90.740032,33.142293],[90.704308,33.135778],[90.627315,33.180368],[90.562642,33.229441],[90.490577,33.264977],[90.405577,33.260473],[90.363077,33.279487],[90.332896,33.310501],[90.246665,33.423959],[90.22018,33.437943],[90.107463,33.460913],[90.088984,33.478885],[90.083441,33.525295],[90.01076,33.553728],[89.984275,33.612061],[90.008296,33.687785],[89.981195,33.70322],[89.983659,33.725622],[89.907282,33.741051],[89.902355,33.758467],[89.942391,33.801246],[89.899891,33.80771],[89.837065,33.868853],[89.795181,33.865374],[89.73174,33.921509],[89.718805,33.946832],[89.688008,33.959739],[89.684928,33.990013],[89.635037,34.049537],[89.656595,34.057966],[89.655979,34.097126],[89.71203,34.131809],[89.756993,34.124874],[89.760073,34.152613],[89.789638,34.150632],[89.816739,34.16945],[89.838297,34.263477],[89.825362,34.293642],[89.86663,34.324785],[89.858623,34.359375],[89.820435,34.369255],[89.799493,34.39642],[89.819819,34.420614],[89.823515,34.455657],[89.814891,34.548871],[89.777935,34.574499],[89.798877,34.628686],[89.74837,34.641981],[89.72558,34.660689],[89.732356,34.732035],[89.799493,34.743838],[89.825978,34.796931],[89.867862,34.81069],[89.838913,34.865705],[89.814891,34.86816],[89.821051,34.902033],[89.78779,34.921664],[89.747138,34.903506],[89.707102,34.919701],[89.670146,34.887798],[89.578987,34.895162],[89.560509,34.938836],[89.59069,35.057965],[89.593153,35.104491],[89.579603,35.118688],[89.519241,35.133862],[89.46935,35.214577],[89.450255,35.223867],[89.48598,35.256616],[89.531559,35.276161],[89.494603,35.298632],[89.516161,35.330862],[89.497067,35.361128],[89.58761,35.383575],[89.619639,35.412357],[89.658443,35.425526],[89.685544,35.416259],[89.739131,35.468429],[89.765,35.482563],[89.740979,35.507412],[89.720037,35.501566],[89.699711,35.544916],[89.71203,35.581915],[89.75145,35.580942],[89.765616,35.599922],[89.726196,35.648082],[89.748986,35.66267],[89.747138,35.7516],[89.782863,35.773453],[89.767464,35.799183],[89.801957,35.848193],[89.778551,35.861775],[89.707718,35.849163],[89.654747,35.848193],[89.62395,35.859349],[89.550654,35.856924],[89.554965,35.873414],[89.489676,35.903475],[89.428082,35.917531],[89.434857,35.992136],[89.404676,36.016827],[89.417611,36.044897],[89.474893,36.022151],[89.605472,36.038123],[89.688624,36.091337],[89.711414,36.093272]]]]}},{"type":"Feature","properties":{"adcode":610000,"name":"\u9655\u897F\u7701","center":[108.948024,34.263161],"centroid":[108.887114,35.263661],"childrenNum":10,"level":"province","parent":{"adcode":100000},"subFeatureIndex":26,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[110.379257,34.600612],[110.29549,34.610956],[110.269004,34.629671],[110.229584,34.692679],[110.243135,34.725641],[110.246831,34.789068],[110.230816,34.880925],[110.262229,34.944233],[110.320743,35.00504],[110.373714,35.134351],[110.364475,35.197952],[110.378642,35.210666],[110.374946,35.251728],[110.45009,35.327933],[110.477808,35.413821],[110.531394,35.511309],[110.567735,35.539559],[110.589293,35.602355],[110.609619,35.632031],[110.57759,35.701559],[110.571431,35.800639],[110.550489,35.838005],[110.549257,35.877778],[110.511684,35.879718],[110.516612,35.918501],[110.502445,35.947575],[110.516612,35.971796],[110.49259,35.994073],[110.491974,36.034735],[110.467953,36.074893],[110.447011,36.164328],[110.45625,36.22663],[110.474112,36.248352],[110.474112,36.306729],[110.459946,36.327946],[110.487047,36.393972],[110.489511,36.430094],[110.47288,36.453203],[110.503677,36.488335],[110.488895,36.556628],[110.496902,36.582102],[110.447627,36.621018],[110.426685,36.657514],[110.394656,36.676716],[110.402663,36.697352],[110.438388,36.685835],[110.447011,36.737649],[110.407591,36.776007],[110.423605,36.818179],[110.406975,36.824886],[110.424221,36.855539],[110.376178,36.882351],[110.408823,36.892403],[110.424221,36.963685],[110.381721,37.002408],[110.382953,37.022001],[110.426685,37.008621],[110.417446,37.027257],[110.460561,37.044932],[110.49567,37.086956],[110.535706,37.115118],[110.53509,37.138021],[110.590525,37.187145],[110.651503,37.256722],[110.661974,37.281963],[110.690307,37.287201],[110.678604,37.317668],[110.695234,37.34955],[110.641648,37.360015],[110.630561,37.372858],[110.644111,37.435135],[110.740198,37.44939],[110.759292,37.474567],[110.770995,37.538184],[110.795017,37.558586],[110.771611,37.594634],[110.763604,37.639668],[110.793169,37.650567],[110.775306,37.680886],[110.706321,37.705511],[110.716792,37.728708],[110.750669,37.736281],[110.735886,37.77035],[110.680452,37.790216],[110.59422,37.922049],[110.522771,37.955088],[110.528315,37.990471],[110.507989,38.013107],[110.501829,38.097929],[110.519692,38.130889],[110.509221,38.192061],[110.528315,38.211814],[110.565887,38.215105],[110.57759,38.297345],[110.601612,38.308147],[110.661358,38.308617],[110.701394,38.353215],[110.746973,38.366355],[110.77777,38.440924],[110.796864,38.453579],[110.840596,38.439986],[110.874473,38.453579],[110.870777,38.510265],[110.907733,38.521035],[110.920052,38.581878],[110.898494,38.587024],[110.880632,38.626776],[110.916357,38.673981],[110.915125,38.704345],[110.965016,38.755699],[111.009363,38.847579],[110.995813,38.868084],[111.016755,38.889981],[111.009979,38.932823],[110.980414,38.970056],[110.998276,38.998433],[111.038313,39.020289],[111.094363,39.030053],[111.138095,39.064447],[111.147334,39.100681],[111.173819,39.135041],[111.163348,39.152678],[111.219399,39.244044],[111.213239,39.257021],[111.247732,39.302419],[111.202152,39.305197],[111.179363,39.326959],[111.186138,39.35149],[111.155341,39.338531],[111.159037,39.362596],[111.125776,39.366297],[111.087588,39.376013],[111.098059,39.401914],[111.064182,39.400989],[111.058639,39.447681],[111.10545,39.472631],[111.10545,39.497573],[111.148566,39.531277],[111.154725,39.569116],[111.136863,39.587106],[111.101138,39.559428],[111.017371,39.552045],[110.958856,39.519275],[110.891103,39.509118],[110.869545,39.494341],[110.782698,39.38804],[110.73835,39.348713],[110.731575,39.30705],[110.702626,39.273701],[110.626249,39.266751],[110.596684,39.282966],[110.566503,39.320014],[110.559728,39.351027],[110.524003,39.382952],[110.482735,39.360745],[110.434692,39.381101],[110.429764,39.341308],[110.385417,39.310291],[110.257917,39.407001],[110.243751,39.423645],[110.152592,39.45415],[110.12549,39.432891],[110.136577,39.39174],[110.161831,39.387115],[110.184005,39.355192],[110.217881,39.281113],[110.109476,39.249606],[110.041107,39.21623],[109.962267,39.212056],[109.90252,39.271848],[109.871723,39.243581],[109.961035,39.191651],[109.893897,39.141075],[109.92223,39.107183],[109.890818,39.103932],[109.851397,39.122971],[109.793499,39.074204],[109.762086,39.057476],[109.72513,39.018429],[109.665384,38.981687],[109.685094,38.968195],[109.672159,38.928167],[109.624116,38.85457],[109.549587,38.805618],[109.511399,38.833595],[109.444262,38.782763],[109.404226,38.720689],[109.338936,38.701542],[109.329081,38.66043],[109.367269,38.627711],[109.331545,38.597783],[109.276726,38.623035],[109.196654,38.552867],[109.175712,38.518694],[109.128901,38.480288],[109.054372,38.433892],[109.051292,38.385122],[109.007561,38.359316],[108.961981,38.26493],[108.976148,38.245192],[108.938575,38.207582],[108.964445,38.154894],[109.069155,38.091336],[109.050676,38.055059],[109.06977,38.023008],[109.037742,38.021593],[109.018648,37.971602],[108.982923,37.964053],[108.9743,37.931962],[108.93488,37.922521],[108.893612,37.978207],[108.883141,38.01405],[108.830786,38.049875],[108.797525,38.04799],[108.82709,37.989056],[108.798141,37.93385],[108.791982,37.872934],[108.799989,37.784068],[108.784591,37.764673],[108.791982,37.700303],[108.777815,37.683728],[108.720533,37.683728],[108.699591,37.669518],[108.628142,37.651988],[108.532671,37.690832],[108.485244,37.678044],[108.422418,37.648672],[108.301078,37.640616],[108.293071,37.656726],[108.24626,37.665728],[108.205608,37.655779],[108.193905,37.638246],[108.134159,37.622131],[108.055318,37.652462],[108.025137,37.649619],[108.012819,37.66857],[108.025753,37.696041],[107.993109,37.735335],[107.982022,37.787378],[107.884703,37.808186],[107.842819,37.828987],[107.732566,37.84931],[107.684523,37.888522],[107.65003,37.86443],[107.659269,37.844112],[107.646335,37.805349],[107.620465,37.776026],[107.599523,37.791162],[107.57119,37.776499],[107.499125,37.765619],[107.484959,37.706458],[107.425828,37.684201],[107.387024,37.691305],[107.389488,37.671413],[107.422133,37.665254],[107.361155,37.613125],[107.311264,37.609806],[107.330358,37.584201],[107.369162,37.58752],[107.345756,37.518725],[107.284162,37.481691],[107.282931,37.437036],[107.257677,37.337179],[107.273075,37.29101],[107.309416,37.239095],[107.270612,37.229089],[107.317423,37.200017],[107.336517,37.165687],[107.334669,37.138975],[107.306952,37.100799],[107.281083,37.127047],[107.268764,37.099367],[107.28601,37.054963],[107.288474,37.008143],[107.288474,37.008143],[107.291554,36.979463],[107.291554,36.979463],[107.310032,36.912502],[107.336517,36.925899],[107.365466,36.905324],[107.478183,36.908196],[107.533618,36.867031],[107.540393,36.828718],[107.5909,36.836382],[107.642023,36.819137],[107.670356,36.83303],[107.722095,36.802367],[107.742421,36.811951],[107.768291,36.792783],[107.866841,36.766899],[107.907493,36.750118],[107.914268,36.720861],[107.940754,36.694953],[107.938906,36.655594],[108.006659,36.683435],[108.02329,36.647912],[108.001732,36.639269],[108.060862,36.592194],[108.079956,36.614294],[108.092891,36.587388],[108.163724,36.563839],[108.1976,36.630144],[108.222854,36.631105],[108.204992,36.606607],[108.204992,36.606607],[108.210535,36.577296],[108.245644,36.571048],[108.262274,36.549417],[108.340498,36.559032],[108.365136,36.519603],[108.391621,36.505654],[108.408252,36.45946],[108.460606,36.422871],[108.495099,36.422389],[108.514809,36.445501],[108.510498,36.47438],[108.562852,36.43876],[108.618903,36.433946],[108.651548,36.384818],[108.641693,36.359279],[108.646004,36.254143],[108.712526,36.138716],[108.682345,36.062316],[108.688504,36.021183],[108.659555,35.990683],[108.652164,35.94806],[108.593649,35.950967],[108.562852,35.921409],[108.518505,35.905414],[108.499411,35.872444],[108.527744,35.82442],[108.533903,35.746257],[108.517889,35.699615],[108.539447,35.605761],[108.618287,35.557088],[108.625678,35.537124],[108.605968,35.503028],[108.631222,35.418698],[108.61028,35.355271],[108.614591,35.328909],[108.583178,35.294724],[108.547454,35.304981],[108.48894,35.275184],[108.36144,35.279581],[108.345426,35.300586],[108.296767,35.267855],[108.239484,35.256127],[108.221622,35.296678],[108.174811,35.304981],[108.094739,35.280069],[108.049159,35.253683],[107.949993,35.245375],[107.960464,35.263457],[107.867457,35.256127],[107.841587,35.276649],[107.745501,35.311819],[107.737494,35.267366],[107.667277,35.257104],[107.652494,35.244886],[107.686371,35.218],[107.715936,35.168114],[107.727639,35.120157],[107.769523,35.064333],[107.769523,35.064333],[107.773218,35.060904],[107.773218,35.060904],[107.814486,35.024646],[107.846515,35.024646],[107.863145,34.999158],[107.842203,34.979056],[107.741805,34.953553],[107.675284,34.9511],[107.638943,34.935402],[107.619849,34.964834],[107.564415,34.968757],[107.523763,34.909886],[107.455394,34.916757],[107.400575,34.932949],[107.369162,34.917738],[107.350068,34.93393],[107.286626,34.931968],[107.252749,34.880925],[107.189308,34.893198],[107.162206,34.944233],[107.119707,34.950119],[107.089526,34.976604],[107.08275,35.024156],[107.012533,35.029547],[106.990975,35.068252],[106.950323,35.066782],[106.901664,35.094698],[106.838222,35.080007],[106.710723,35.100574],[106.706411,35.081966],[106.615252,35.071191],[106.577064,35.089312],[106.541956,35.083925],[106.52163,35.027587],[106.494528,35.006021],[106.494528,35.006021],[106.484673,34.983959],[106.493296,34.941289],[106.527789,34.876507],[106.556122,34.861285],[106.550579,34.82936],[106.575216,34.769897],[106.539492,34.745805],[106.505615,34.746789],[106.487137,34.715311],[106.456956,34.703996],[106.442173,34.675455],[106.471122,34.634102],[106.419384,34.643458],[106.314058,34.578934],[106.341159,34.568093],[106.334384,34.517811],[106.455108,34.531617],[106.514238,34.511894],[106.513622,34.498085],[106.558586,34.48822],[106.610941,34.454177],[106.638042,34.391481],[106.717498,34.369255],[106.691013,34.337635],[106.705179,34.299575],[106.68239,34.256057],[106.652825,34.24369],[106.63373,34.260014],[106.589383,34.253584],[106.577064,34.280786],[106.526557,34.292159],[106.496376,34.238248],[106.5321,34.254079],[106.55797,34.229837],[106.585071,34.149641],[106.560434,34.109514],[106.501919,34.105055],[106.505615,34.056479],[106.471738,34.024244],[106.474202,33.970659],[106.41076,33.909093],[106.428007,33.866368],[106.475434,33.875809],[106.491448,33.834559],[106.461883,33.789807],[106.488369,33.757969],[106.482825,33.707203],[106.534564,33.695254],[106.575832,33.631497],[106.58076,33.576169],[106.540108,33.512822],[106.456956,33.532779],[106.447101,33.613058],[106.384891,33.612061],[106.35163,33.587137],[106.303587,33.604585],[106.237681,33.564201],[106.187174,33.546746],[106.108334,33.569686],[106.117573,33.602591],[106.086776,33.617045],[106.047356,33.610067],[105.971596,33.613058],[105.940183,33.570684],[105.902611,33.556222],[105.871198,33.511325],[105.842248,33.489866],[105.831162,33.451926],[105.837937,33.410971],[105.827466,33.379993],[105.709822,33.382991],[105.755401,33.329004],[105.752937,33.291994],[105.791741,33.278486],[105.799133,33.258471],[105.862574,33.234447],[105.917393,33.237951],[105.965436,33.204407],[105.968516,33.154318],[105.93156,33.178365],[105.897067,33.146803],[105.923552,33.147805],[105.934639,33.112221],[105.914929,33.066092],[105.926632,33.042517],[105.917393,32.993841],[105.861959,32.939112],[105.82685,32.950663],[105.735691,32.905454],[105.656851,32.895405],[105.638373,32.879323],[105.590329,32.87681],[105.565692,32.906962],[105.528119,32.919019],[105.49917,32.911986],[105.495475,32.873292],[105.524424,32.847654],[105.534279,32.790822],[105.555221,32.794343],[105.563844,32.724891],[105.585402,32.728919],[105.596489,32.69921],[105.677793,32.726402],[105.719061,32.759624],[105.768952,32.767676],[105.779423,32.750061],[105.822538,32.770192],[105.825002,32.824523],[105.849024,32.817985],[105.893371,32.838603],[105.93156,32.826032],[105.969132,32.849162],[106.011632,32.829552],[106.044277,32.864747],[106.071378,32.828546],[106.093552,32.82402],[106.07261,32.76365],[106.076921,32.76365],[106.076305,32.759121],[106.071378,32.758114],[106.120037,32.719856],[106.17424,32.6977],[106.254928,32.693671],[106.267863,32.673522],[106.301123,32.680071],[106.347935,32.671003],[106.389203,32.62666],[106.421231,32.616579],[106.451412,32.65992],[106.498224,32.649338],[106.517934,32.668485],[106.585687,32.68813],[106.626955,32.682086],[106.670071,32.694678],[106.733513,32.739491],[106.783404,32.735967],[106.793259,32.712807],[106.82344,32.705254],[106.854853,32.724388],[106.903512,32.721367],[106.912751,32.704247],[107.012533,32.721367],[107.066736,32.708779],[107.05996,32.686115],[107.098765,32.649338],[107.108004,32.600951],[107.080286,32.542448],[107.127098,32.482393],[107.189924,32.468256],[107.212097,32.428864],[107.263836,32.403099],[107.287858,32.457147],[107.313727,32.489965],[107.356843,32.506622],[107.382097,32.54043],[107.436299,32.529835],[107.438763,32.465732],[107.460937,32.453612],[107.456625,32.41775],[107.489886,32.425328],[107.527458,32.38238],[107.598291,32.411688],[107.648183,32.413709],[107.680827,32.397035],[107.707929,32.331826],[107.753508,32.338399],[107.812022,32.247844],[107.864377,32.201266],[107.890247,32.214432],[107.924739,32.197215],[107.979558,32.146051],[108.024521,32.177462],[108.018362,32.2119],[108.086731,32.233165],[108.143398,32.219495],[108.156948,32.239239],[108.179738,32.221521],[108.240716,32.274666],[108.310933,32.232152],[108.389773,32.263533],[108.414411,32.252399],[108.469846,32.270618],[108.507418,32.245819],[108.509882,32.201266],[108.543758,32.177969],[108.585026,32.17189],[108.676801,32.10297],[108.734084,32.106519],[108.75133,32.076098],[108.78767,32.04871],[108.837561,32.039072],[108.902235,31.984774],[108.986619,31.980205],[109.085785,31.929428],[109.123357,31.892851],[109.191111,31.85575],[109.195422,31.817618],[109.27611,31.79931],[109.279806,31.776418],[109.253936,31.759628],[109.282885,31.743343],[109.281654,31.716874],[109.381436,31.705165],[109.446109,31.722983],[109.502776,31.716365],[109.549587,31.73011],[109.585928,31.726546],[109.592087,31.789136],[109.633971,31.804396],[109.633971,31.824738],[109.60379,31.885737],[109.584696,31.900472],[109.62042,31.928412],[109.631507,31.962436],[109.590855,32.012688],[109.590855,32.047696],[109.621652,32.106519],[109.58716,32.161251],[109.604406,32.199241],[109.592703,32.219495],[109.550203,32.225065],[109.528645,32.270112],[109.495385,32.300468],[109.513247,32.342444],[109.502776,32.38895],[109.529877,32.405625],[109.526797,32.43341],[109.575457,32.506622],[109.637051,32.540935],[109.619804,32.56767],[109.631507,32.599943],[109.726978,32.608513],[109.746072,32.594901],[109.816905,32.577252],[109.910528,32.592884],[109.97089,32.577756],[110.017701,32.546989],[110.084223,32.580782],[110.090382,32.617083],[110.124259,32.616579],[110.153824,32.593388],[110.206179,32.633212],[110.156903,32.683093],[110.159367,32.767173],[110.127338,32.77774],[110.142121,32.802895],[110.105164,32.832569],[110.051578,32.851676],[109.988752,32.886359],[109.927158,32.887364],[109.907448,32.903947],[109.856941,32.910479],[109.847702,32.893395],[109.789804,32.882339],[109.76455,32.909474],[109.785492,32.987316],[109.794731,33.067095],[109.704188,33.101694],[109.688174,33.116733],[109.576073,33.110216],[109.522486,33.138785],[109.468283,33.140288],[109.438718,33.152314],[109.498464,33.207412],[109.514479,33.237951],[109.60687,33.235949],[109.619804,33.275484],[109.649985,33.251465],[109.693101,33.254468],[109.732521,33.231443],[109.813209,33.236449],[109.852013,33.247961],[109.916687,33.229942],[109.973353,33.203907],[109.999223,33.212419],[110.031252,33.191888],[110.164911,33.209415],[110.218497,33.163336],[110.285635,33.171352],[110.33799,33.160331],[110.372482,33.186379],[110.398352,33.176862],[110.398352,33.176862],[110.471032,33.171352],[110.54125,33.255469],[110.57759,33.250464],[110.59422,33.168346],[110.623785,33.143796],[110.650887,33.157324],[110.702626,33.097182],[110.753133,33.15031],[110.824582,33.158327],[110.828893,33.201403],[110.865234,33.213921],[110.9219,33.203907],[110.960704,33.253967],[110.984726,33.255469],[111.025994,33.330504],[111.025994,33.375495],[110.996429,33.435946],[111.02661,33.467903],[111.021066,33.471397],[111.021682,33.476389],[111.02661,33.478386],[111.002588,33.535772],[111.00382,33.578662],[110.966864,33.609071],[110.878784,33.634486],[110.823966,33.685793],[110.831973,33.713675],[110.81719,33.751003],[110.782082,33.796272],[110.74143,33.798759],[110.712481,33.833564],[110.66259,33.85295],[110.612083,33.852453],[110.587445,33.887733],[110.628713,33.910086],[110.627481,33.925482],[110.665669,33.937895],[110.671213,33.966192],[110.620706,34.035652],[110.587445,34.023252],[110.591757,34.101586],[110.61393,34.113478],[110.642264,34.161032],[110.621938,34.177372],[110.55788,34.193214],[110.55172,34.213012],[110.507989,34.217466],[110.43962,34.243196],[110.428533,34.288203],[110.451938,34.292653],[110.503677,34.33714],[110.473496,34.393457],[110.403279,34.433448],[110.403279,34.433448],[110.360779,34.516825],[110.372482,34.544435],[110.404511,34.557743],[110.366939,34.566614],[110.379257,34.600612]]],[[[111.02661,33.478386],[111.021682,33.476389],[111.021066,33.471397],[111.02661,33.467903],[111.02661,33.478386]]],[[[106.076921,32.76365],[106.07261,32.76365],[106.071378,32.758114],[106.076305,32.759121],[106.076921,32.76365]]]]}},{"type":"Feature","properties":{"adcode":620000,"name":"\u7518\u8083\u7701","center":[103.823557,36.058039],"childrenNum":14,"level":"province","parent":{"adcode":100000},"subFeatureIndex":27,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[106.506231,35.737514],[106.504383,35.736057],[106.498224,35.732656],[106.49268,35.732656],[106.434782,35.688436],[106.460036,35.643705],[106.47913,35.575101],[106.460036,35.578995],[106.440941,35.52641],[106.465579,35.481101],[106.490217,35.480613],[106.483441,35.450393],[106.503767,35.415284],[106.501304,35.364056],[106.472354,35.310842],[106.415688,35.276161],[106.368261,35.273718],[106.363333,35.238532],[106.319601,35.265411],[106.241377,35.358687],[106.237681,35.409431],[106.196414,35.409919],[106.173008,35.437716],[106.129892,35.393333],[106.113262,35.361616],[106.083081,35.421624],[106.073226,35.420649],[106.067682,35.436254],[106.073226,35.447468],[106.071378,35.449418],[106.06953,35.458193],[106.071994,35.463555],[106.054132,35.45478],[106.034422,35.469404],[106.002393,35.438692],[105.894603,35.413821],[105.897683,35.451368],[106.048588,35.488898],[106.047356,35.498155],[106.023335,35.49377],[106.017175,35.519103],[105.900147,35.54735],[105.868734,35.540046],[105.847176,35.490359],[105.816379,35.575101],[105.800365,35.564878],[105.762176,35.602841],[105.759097,35.634464],[105.713517,35.650513],[105.722756,35.673366],[105.690727,35.698643],[105.723988,35.725854],[105.740618,35.698643],[105.759097,35.724883],[105.70243,35.733142],[105.667322,35.749657],[105.595873,35.715651],[105.481924,35.727312],[105.457286,35.771511],[105.432033,35.787533],[105.428953,35.819082],[105.408627,35.822479],[105.38091,35.792873],[105.371055,35.844312],[105.39754,35.857409],[105.350113,35.875839],[105.324859,35.941761],[105.343954,36.033767],[105.406163,36.074409],[105.430801,36.10391],[105.491163,36.101009],[105.515185,36.147415],[105.478844,36.213111],[105.460366,36.223733],[105.45975,36.268137],[105.476381,36.293224],[105.455439,36.321678],[105.425873,36.330357],[105.401236,36.369881],[105.398156,36.430575],[105.363048,36.443093],[105.362432,36.496514],[105.322396,36.535954],[105.281744,36.522489],[105.252179,36.553263],[105.2762,36.563358],[105.261418,36.602764],[105.22015,36.631105],[105.225693,36.664716],[105.201056,36.700711],[105.218302,36.730455],[105.272505,36.739567],[105.275584,36.752515],[105.319932,36.742924],[105.340874,36.764502],[105.334714,36.80093],[105.303302,36.820575],[105.279896,36.86751],[105.244787,36.894796],[105.178882,36.892403],[105.185657,36.942164],[105.165331,36.99476],[105.128991,36.996194],[105.05939,37.022956],[105.03968,37.007187],[105.004571,37.035378],[104.95468,37.040156],[104.954064,37.077407],[104.914644,37.097935],[104.888158,37.15901],[104.864753,37.17284],[104.85613,37.211933],[104.776673,37.246718],[104.717543,37.208597],[104.638087,37.201923],[104.600515,37.242907],[104.624536,37.298627],[104.651022,37.290534],[104.673812,37.317668],[104.713848,37.329566],[104.662109,37.367626],[104.679971,37.408044],[104.521059,37.43466],[104.499501,37.421353],[104.448994,37.42468],[104.437907,37.445589],[104.365226,37.418026],[104.298705,37.414223],[104.287002,37.428007],[104.237727,37.411847],[104.183524,37.406618],[104.089285,37.465067],[103.935916,37.572818],[103.874938,37.604117],[103.841062,37.64725],[103.683381,37.777919],[103.627947,37.797783],[103.40744,37.860651],[103.362477,38.037621],[103.368636,38.08898],[103.53494,38.156776],[103.507838,38.280905],[103.465339,38.353215],[103.416063,38.404821],[103.85954,38.64454],[104.011677,38.85923],[104.044322,38.895105],[104.173053,38.94446],[104.196459,38.9882],[104.190915,39.042139],[104.207546,39.083495],[104.171205,39.160567],[104.047401,39.297788],[104.073271,39.351953],[104.089901,39.419947],[103.955626,39.456923],[103.85338,39.461543],[103.728961,39.430117],[103.595302,39.386652],[103.428998,39.353341],[103.344615,39.331588],[103.259615,39.263971],[103.188166,39.215302],[103.133347,39.192579],[103.007696,39.099753],[102.883892,39.120649],[102.616574,39.171703],[102.579002,39.183301],[102.45335,39.255167],[102.3548,39.231993],[102.276576,39.188868],[102.050526,39.141075],[102.012338,39.127149],[101.902701,39.111827],[101.833715,39.08907],[101.926106,39.000758],[101.955055,38.985874],[102.045599,38.904885],[102.075164,38.891378],[101.941505,38.808883],[101.873751,38.733761],[101.777049,38.66043],[101.672955,38.6908],[101.601506,38.65529],[101.562702,38.713218],[101.412413,38.764099],[101.331109,38.777164],[101.307087,38.80282],[101.34158,38.822406],[101.33542,38.847113],[101.24303,38.860628],[101.237486,38.907214],[101.198682,38.943064],[101.228863,39.020754],[101.117378,38.975174],[100.969553,38.946788],[100.961545,39.005874],[100.901799,39.030053],[100.875314,39.002619],[100.835278,39.025869],[100.829118,39.075133],[100.864227,39.106719],[100.842669,39.199999],[100.842053,39.405614],[100.707778,39.404689],[100.606764,39.387577],[100.498975,39.400527],[100.500823,39.481408],[100.44354,39.485565],[100.326512,39.509118],[100.301258,39.572345],[100.314193,39.606935],[100.250135,39.685274],[100.128179,39.702312],[100.040716,39.757083],[99.958796,39.769504],[99.904593,39.785601],[99.822058,39.860063],[99.672384,39.888079],[99.469124,39.875221],[99.440791,39.885783],[99.459885,39.898181],[99.491298,39.884406],[99.533182,39.891753],[99.714268,39.972061],[99.751225,40.006909],[99.841152,40.013326],[99.927383,40.063727],[99.955716,40.150695],[100.007455,40.20008],[100.169447,40.277743],[100.169447,40.541131],[100.242744,40.618855],[100.237201,40.716905],[100.224882,40.727337],[100.107853,40.875475],[100.057346,40.908049],[99.985897,40.909858],[99.673,40.93292],[99.565827,40.846961],[99.174705,40.858278],[99.172858,40.747289],[99.12543,40.715091],[99.102025,40.676522],[99.041662,40.693767],[98.984996,40.782644],[98.790975,40.705564],[98.80699,40.660181],[98.802678,40.607043],[98.762642,40.639748],[98.72199,40.657911],[98.689345,40.691952],[98.668403,40.773128],[98.569853,40.746836],[98.627751,40.677884],[98.344419,40.568413],[98.333332,40.918903],[98.25018,40.93925],[98.184891,40.988056],[98.142391,41.001607],[97.971776,41.09774],[97.903407,41.168057],[97.629314,41.440498],[97.613915,41.477276],[97.84674,41.656379],[97.653335,41.986856],[97.500582,42.243894],[97.371235,42.457076],[97.172903,42.795257],[96.968411,42.756161],[96.742361,42.75704],[96.386348,42.727592],[96.166458,42.623314],[96.103632,42.604375],[96.072219,42.569566],[96.02356,42.542675],[96.0174,42.482239],[95.978596,42.436762],[96.06606,42.414674],[96.042038,42.352787],[96.040806,42.326688],[96.178161,42.21775],[96.077147,42.149457],[96.13874,42.05399],[96.137509,42.019765],[96.117183,41.985966],[96.054973,41.936124],[95.998306,41.906289],[95.855408,41.849699],[95.801206,41.848361],[95.759322,41.835878],[95.65646,41.826067],[95.57146,41.796181],[95.445193,41.719841],[95.39407,41.693481],[95.335556,41.644305],[95.299831,41.565994],[95.247476,41.61344],[95.194505,41.694821],[95.199433,41.719395],[95.16494,41.735474],[95.135991,41.772976],[95.110738,41.768513],[95.011572,41.726541],[94.969072,41.718948],[94.861898,41.668451],[94.809543,41.619256],[94.750413,41.538227],[94.534219,41.505966],[94.184365,41.268444],[94.01067,41.114875],[93.908424,40.983539],[93.809874,40.879548],[93.820961,40.793519],[93.760599,40.664721],[93.506216,40.648376],[92.928465,40.572504],[92.920458,40.391792],[92.906907,40.310609],[92.796654,40.153897],[92.745531,39.868331],[92.687632,39.657174],[92.639589,39.514196],[92.52564,39.368611],[92.378431,39.258411],[92.339011,39.236628],[92.343938,39.146181],[92.366112,39.096037],[92.366728,39.059335],[92.41046,39.03842],[92.459119,39.042604],[92.459119,39.063982],[92.489916,39.099753],[92.545966,39.111362],[92.659299,39.109969],[92.765857,39.136898],[92.866871,39.138754],[92.889045,39.160103],[92.938936,39.169848],[92.978356,39.143396],[93.043029,39.146645],[93.115094,39.17959],[93.142196,39.160567],[93.131725,39.108112],[93.165601,39.090928],[93.198246,39.045857],[93.179152,38.923977],[93.237666,38.916062],[93.274007,38.896036],[93.453245,38.915596],[93.729186,38.924443],[93.834511,38.867618],[93.884403,38.867618],[93.884403,38.826136],[93.769838,38.821007],[93.756287,38.807484],[93.773533,38.771099],[93.800019,38.750566],[93.885018,38.720689],[93.95154,38.715086],[93.973098,38.724891],[94.281067,38.7599],[94.370379,38.7627],[94.511429,38.445142],[94.527443,38.425922],[94.527443,38.365416],[94.56132,38.351807],[94.582878,38.36917],[94.672805,38.386998],[94.812623,38.385591],[94.861282,38.393565],[94.884072,38.414669],[94.973999,38.430142],[95.045448,38.418889],[95.072549,38.402476],[95.122441,38.417014],[95.140919,38.392158],[95.185266,38.379492],[95.209904,38.327868],[95.229614,38.330685],[95.259179,38.302981],[95.315846,38.318947],[95.408236,38.300163],[95.440881,38.310965],[95.455664,38.291709],[95.487693,38.314721],[95.51849,38.294997],[95.585011,38.343359],[95.608417,38.339134],[95.671858,38.388405],[95.703887,38.400131],[95.723597,38.378554],[95.775952,38.356031],[95.83693,38.344298],[95.852945,38.287481],[95.89606,38.2903],[95.932401,38.259291],[95.93856,38.237202],[96.006929,38.207582],[96.06606,38.173245],[96.109175,38.187358],[96.221892,38.149246],[96.252689,38.167599],[96.264392,38.145952],[96.313051,38.161952],[96.301964,38.183124],[96.335841,38.246132],[96.378341,38.277146],[96.46334,38.277616],[96.665369,38.23015],[96.655514,38.295936],[96.638883,38.307208],[96.626564,38.356031],[96.698013,38.422172],[96.707868,38.459203],[96.6666,38.483567],[96.706637,38.505582],[96.780549,38.504177],[96.800259,38.52759],[96.767614,38.552399],[96.808882,38.582346],[96.7941,38.608072],[96.847071,38.599186],[96.876636,38.580475],[96.961019,38.558015],[97.055874,38.594508],[97.047251,38.653888],[97.057722,38.67258],[97.009063,38.702477],[97.023229,38.755699],[97.00044,38.7613],[96.987505,38.793025],[96.993664,38.834993],[96.983809,38.869016],[96.940693,38.90768],[96.938846,38.95563],[96.965331,39.017034],[96.95794,39.041674],[96.969643,39.097895],[97.012142,39.142004],[96.962251,39.198144],[97.017686,39.208347],[97.060186,39.19768],[97.14149,39.199999],[97.220946,39.193042],[97.315185,39.164744],[97.347213,39.167528],[97.371235,39.140611],[97.401416,39.146645],[97.458698,39.117863],[97.504894,39.076527],[97.58127,39.052364],[97.679205,39.010524],[97.701379,38.963076],[97.828878,38.93003],[97.875689,38.898365],[98.009348,38.85923],[98.029058,38.834061],[98.068478,38.816344],[98.091884,38.786495],[98.167645,38.840121],[98.242173,38.880664],[98.235398,38.918855],[98.276666,38.963541],[98.287753,38.992386],[98.280977,39.027263],[98.316702,39.040744],[98.383839,39.029588],[98.401086,39.001688],[98.432498,38.996107],[98.428187,38.976104],[98.457752,38.952838],[98.526737,38.95563],[98.584635,38.93003],[98.624056,38.959353],[98.612353,38.977035],[98.661628,38.993782],[98.70536,39.043533],[98.730613,39.057011],[98.743548,39.086747],[98.816845,39.085818],[98.818076,39.064911],[98.886446,39.040744],[98.903076,39.012384],[98.951735,38.987735],[99.054597,38.97657],[99.107568,38.951907],[99.071843,38.921184],[99.068764,38.896968],[99.141445,38.852706],[99.222133,38.788827],[99.291118,38.765966],[99.361951,38.718354],[99.375502,38.684727],[99.412458,38.665571],[99.450646,38.60433],[99.501769,38.612281],[99.52887,38.546314],[99.585537,38.498556],[99.63974,38.474666],[99.65945,38.449361],[99.727203,38.415607],[99.758,38.410449],[99.826985,38.370109],[99.960028,38.320825],[100.001912,38.315191],[100.049955,38.283254],[100.071513,38.284663],[100.117093,38.253652],[100.126332,38.231561],[100.182998,38.222158],[100.159592,38.291239],[100.163904,38.328337],[100.136803,38.33444],[100.093071,38.407166],[100.022238,38.432017],[100.001296,38.467169],[100.025933,38.507923],[100.064122,38.518694],[100.086911,38.492936],[100.113397,38.497151],[100.163288,38.461546],[100.24028,38.441861],[100.259374,38.366355],[100.301874,38.388405],[100.331439,38.337257],[100.318505,38.329276],[100.396729,38.293118],[100.424446,38.307208],[100.432453,38.275267],[100.459555,38.2654],[100.474953,38.288891],[100.516837,38.272448],[100.545786,38.247072],[100.595061,38.242372],[100.619083,38.26587],[100.71517,38.253652],[100.752126,38.238612],[100.825423,38.158658],[100.860531,38.148305],[100.913502,38.17889],[100.93814,38.16007],[100.91843,38.129006],[100.922125,38.084741],[100.888864,38.056001],[100.895024,38.013107],[100.91843,37.999432],[100.964009,38.011221],[101.077342,37.941874],[101.103211,37.946593],[101.114298,37.92016],[101.152486,37.891356],[101.159262,37.86821],[101.202994,37.84742],[101.276906,37.83655],[101.362522,37.791162],[101.382848,37.822369],[101.459224,37.86632],[101.551615,37.835604],[101.598427,37.827569],[101.670491,37.754264],[101.659405,37.733441],[101.791832,37.696041],[101.815853,37.654357],[101.854657,37.664781],[101.873135,37.686569],[101.946432,37.728235],[101.998787,37.724921],[102.036359,37.685149],[102.048678,37.651515],[102.035128,37.627819],[102.102265,37.582304],[102.131214,37.54625],[102.103497,37.482641],[102.125055,37.48549],[102.176794,37.458892],[102.19712,37.420403],[102.299981,37.391404],[102.29875,37.370004],[102.368351,37.327662],[102.428097,37.308624],[102.419474,37.294343],[102.45335,37.271487],[102.457662,37.248147],[102.490307,37.223371],[102.533422,37.217176],[102.578386,37.17284],[102.599944,37.174748],[102.642444,37.099845],[102.583314,37.104618],[102.488459,37.078362],[102.506321,37.019134],[102.450271,36.968467],[102.499546,36.954599],[102.526031,36.928291],[102.56114,36.91968],[102.587009,36.869904],[102.639364,36.852666],[102.720052,36.767858],[102.692335,36.775528],[102.639364,36.732853],[102.612879,36.738129],[102.601176,36.710307],[102.630741,36.650793],[102.684328,36.619097],[102.724364,36.613813],[102.714509,36.599401],[102.761936,36.568645],[102.734219,36.562396],[102.753313,36.525855],[102.793349,36.497957],[102.771791,36.47438],[102.829689,36.365544],[102.831537,36.365544],[102.838928,36.345783],[102.836465,36.344819],[102.845704,36.331803],[102.896827,36.331803],[102.922696,36.298047],[103.024942,36.256556],[103.021246,36.232906],[103.066826,36.216974],[103.048964,36.199107],[102.986754,36.193312],[102.965812,36.151765],[102.948566,36.150798],[102.941174,36.104877],[102.882044,36.082632],[102.932551,36.048285],[102.968276,36.044414],[102.951645,36.021667],[102.971971,35.995525],[102.942406,35.92674],[102.954725,35.858864],[102.94487,35.829757],[102.914073,35.845282],[102.81737,35.850133],[102.787189,35.862745],[102.739146,35.821023],[102.715125,35.815685],[102.686175,35.771996],[102.707733,35.70496],[102.744074,35.657807],[102.7644,35.653431],[102.763168,35.612086],[102.808747,35.560496],[102.746537,35.545403],[102.729291,35.523487],[102.782878,35.527871],[102.743458,35.494745],[102.695414,35.528358],[102.570995,35.548324],[102.531575,35.580455],[102.503241,35.585322],[102.49893,35.545403],[102.437952,35.455268],[102.447807,35.437229],[102.408387,35.409431],[102.314764,35.434303],[102.293822,35.424063],[102.287663,35.36552],[102.317844,35.343067],[102.311684,35.31426],[102.280887,35.303028],[102.3123,35.282512],[102.370199,35.263946],[102.365887,35.235599],[102.404075,35.179366],[102.346793,35.164201],[102.310452,35.128967],[102.29567,35.071681],[102.252554,35.048657],[102.218062,35.057475],[102.211286,35.034937],[102.176178,35.032977],[102.157699,35.010923],[102.133678,35.014844],[102.094874,34.986901],[102.048062,34.910868],[102.068388,34.887798],[101.985852,34.90007],[101.916867,34.873561],[101.923027,34.835746],[101.917483,34.705964],[101.919947,34.621791],[101.934729,34.58731],[101.956287,34.582876],[101.97415,34.548871],[102.001867,34.538519],[102.093026,34.536547],[102.139837,34.50351],[102.155852,34.507456],[102.169402,34.457631],[102.205743,34.407777],[102.259329,34.355917],[102.237156,34.34307],[102.237156,34.34307],[102.186649,34.352952],[102.149692,34.271885],[102.067772,34.293642],[102.062229,34.227858],[102.01357,34.218456],[102.030816,34.190739],[102.003099,34.162022],[101.965526,34.167469],[101.955055,34.109514],[101.897773,34.133791],[101.874367,34.130323],[101.851578,34.153108],[101.836795,34.124378],[101.788136,34.131809],[101.764114,34.122892],[101.736397,34.080275],[101.718535,34.083249],[101.703136,34.119424],[101.674187,34.110506],[101.6206,34.178857],[101.53868,34.212022],[101.492485,34.195689],[101.482014,34.218951],[101.417956,34.227858],[101.369913,34.248143],[101.327413,34.24468],[101.325565,34.268423],[101.268899,34.278808],[101.228863,34.298586],[101.235022,34.325279],[101.193754,34.336646],[101.178356,34.320831],[101.098284,34.329233],[101.054552,34.322808],[100.986799,34.374689],[100.951074,34.38358],[100.895024,34.375183],[100.868538,34.332693],[100.821727,34.317371],[100.798321,34.260014],[100.809408,34.247153],[100.764445,34.178857],[100.806329,34.155584],[100.848828,34.089692],[100.870386,34.083744],[100.880857,34.036644],[100.93506,33.990013],[100.927669,33.975126],[100.965857,33.946832],[100.994806,33.891707],[101.023139,33.896178],[101.054552,33.863386],[101.153718,33.8445],[101.153102,33.823124],[101.190675,33.791796],[101.186363,33.741051],[101.162957,33.719649],[101.177124,33.685295],[101.166653,33.659894],[101.217776,33.669856],[101.23687,33.685793],[101.302776,33.657902],[101.385312,33.644949],[101.424732,33.655411],[101.428427,33.680315],[101.501724,33.702723],[101.58426,33.674339],[101.585492,33.645448],[101.616905,33.598603],[101.611977,33.565199],[101.622448,33.502343],[101.718535,33.494857],[101.748716,33.505337],[101.769042,33.538765],[101.783208,33.556721],[101.831252,33.554726],[101.844186,33.602591],[101.884222,33.578163],[101.907012,33.539264],[101.906396,33.48188],[101.946432,33.442937],[101.915635,33.425957],[101.887302,33.383991],[101.877447,33.314502],[101.769658,33.26898],[101.770274,33.248962],[101.83002,33.213921],[101.841723,33.184876],[101.825708,33.119239],[101.865744,33.103198],[101.887302,33.135778],[101.921795,33.153817],[101.935345,33.186879],[101.99386,33.1999],[102.054838,33.189884],[102.08933,33.204908],[102.08933,33.227439],[102.117047,33.288492],[102.144765,33.273983],[102.160163,33.242956],[102.200815,33.223434],[102.217446,33.247961],[102.192192,33.337005],[102.218062,33.349503],[102.258098,33.409472],[102.296286,33.413969],[102.310452,33.397982],[102.368967,33.41247],[102.392988,33.404477],[102.447807,33.454922],[102.462589,33.449429],[102.461358,33.501345],[102.446575,33.53228],[102.477988,33.543254],[102.440416,33.574673],[102.346793,33.605582],[102.31538,33.665374],[102.342481,33.725622],[102.284583,33.719151],[102.324619,33.754486],[102.296286,33.783838],[102.243315,33.786823],[102.261177,33.821136],[102.25317,33.861399],[102.136142,33.965199],[102.16817,33.983066],[102.226069,33.963214],[102.248858,33.98654],[102.287047,33.977607],[102.315996,33.993983],[102.345561,33.969666],[102.392372,33.971651],[102.406539,34.033172],[102.437336,34.087214],[102.471213,34.072839],[102.511865,34.086222],[102.615958,34.099604],[102.649219,34.080275],[102.655994,34.113478],[102.598712,34.14766],[102.651067,34.165983],[102.664002,34.192719],[102.694799,34.198659],[102.728675,34.235774],[102.779798,34.236764],[102.798276,34.272874],[102.856791,34.270895],[102.85987,34.301058],[102.911609,34.312923],[102.949181,34.292159],[102.977515,34.252595],[102.973203,34.205588],[103.005848,34.184798],[103.052043,34.195194],[103.100087,34.181828],[103.124108,34.162022],[103.121644,34.112487],[103.178927,34.079779],[103.129652,34.065899],[103.119797,34.03466],[103.147514,34.036644],[103.157369,33.998944],[103.120413,33.953286],[103.1315,33.931937],[103.16476,33.929454],[103.181391,33.900649],[103.153673,33.819147],[103.165376,33.805721],[103.228202,33.79478],[103.24976,33.814175],[103.284868,33.80224],[103.278709,33.774387],[103.35447,33.743539],[103.434542,33.752993],[103.464723,33.80224],[103.518309,33.807213],[103.545411,33.719649],[103.520157,33.678323],[103.552186,33.671351],[103.563889,33.699735],[103.593454,33.716164],[103.645809,33.708697],[103.667983,33.685793],[103.690772,33.69376],[103.778236,33.658898],[103.861388,33.682307],[103.980264,33.670852],[104.046169,33.686291],[104.103452,33.663381],[104.176749,33.5996],[104.155191,33.542755],[104.180444,33.472895],[104.213089,33.446932],[104.22048,33.404477],[104.272219,33.391486],[104.292545,33.336505],[104.373849,33.345004],[104.420045,33.327004],[104.386168,33.298497],[104.333813,33.315502],[104.303632,33.304499],[104.323958,33.26898],[104.32827,33.223934],[104.351059,33.158828],[104.378161,33.109214],[104.337509,33.038002],[104.391711,33.035493],[104.426204,33.010906],[104.383704,32.994343],[104.378161,32.953174],[104.345516,32.940117],[104.288234,32.942628],[104.277147,32.90244],[104.294393,32.835586],[104.363994,32.822511],[104.458849,32.748551],[104.51182,32.753585],[104.526602,32.728416],[104.582653,32.722374],[104.592508,32.695685],[104.643015,32.661935],[104.696601,32.673522],[104.739717,32.635228],[104.795768,32.643292],[104.820405,32.662943],[104.845659,32.653873],[104.881999,32.600951],[104.925115,32.607505],[105.026745,32.650346],[105.0791,32.637244],[105.111128,32.593893],[105.185041,32.617587],[105.215222,32.63674],[105.219534,32.666469],[105.263265,32.652362],[105.297758,32.656897],[105.347033,32.68259],[105.368591,32.712807],[105.448663,32.732946],[105.454207,32.767173],[105.427721,32.784281],[105.396308,32.85067],[105.396308,32.85067],[105.38091,32.876307],[105.408011,32.885857],[105.414171,32.922034],[105.467757,32.930071],[105.49917,32.911986],[105.528119,32.919019],[105.565692,32.906962],[105.590329,32.87681],[105.638373,32.879323],[105.656851,32.895405],[105.735691,32.905454],[105.82685,32.950663],[105.861959,32.939112],[105.917393,32.993841],[105.926632,33.042517],[105.914929,33.066092],[105.934639,33.112221],[105.923552,33.147805],[105.897067,33.146803],[105.93156,33.178365],[105.968516,33.154318],[105.965436,33.204407],[105.917393,33.237951],[105.862574,33.234447],[105.799133,33.258471],[105.791741,33.278486],[105.752937,33.291994],[105.755401,33.329004],[105.709822,33.382991],[105.827466,33.379993],[105.837937,33.410971],[105.831162,33.451926],[105.842248,33.489866],[105.871198,33.511325],[105.902611,33.556222],[105.940183,33.570684],[105.971596,33.613058],[106.047356,33.610067],[106.086776,33.617045],[106.117573,33.602591],[106.108334,33.569686],[106.187174,33.546746],[106.237681,33.564201],[106.303587,33.604585],[106.35163,33.587137],[106.384891,33.612061],[106.447101,33.613058],[106.456956,33.532779],[106.540108,33.512822],[106.58076,33.576169],[106.575832,33.631497],[106.534564,33.695254],[106.482825,33.707203],[106.488369,33.757969],[106.461883,33.789807],[106.491448,33.834559],[106.475434,33.875809],[106.428007,33.866368],[106.41076,33.909093],[106.474202,33.970659],[106.471738,34.024244],[106.505615,34.056479],[106.501919,34.105055],[106.560434,34.109514],[106.585071,34.149641],[106.55797,34.229837],[106.5321,34.254079],[106.496376,34.238248],[106.526557,34.292159],[106.577064,34.280786],[106.589383,34.253584],[106.63373,34.260014],[106.652825,34.24369],[106.68239,34.256057],[106.705179,34.299575],[106.691013,34.337635],[106.717498,34.369255],[106.638042,34.391481],[106.610941,34.454177],[106.558586,34.48822],[106.513622,34.498085],[106.514238,34.511894],[106.455108,34.531617],[106.334384,34.517811],[106.341159,34.568093],[106.314058,34.578934],[106.419384,34.643458],[106.471122,34.634102],[106.442173,34.675455],[106.456956,34.703996],[106.487137,34.715311],[106.505615,34.746789],[106.539492,34.745805],[106.575216,34.769897],[106.550579,34.82936],[106.556122,34.861285],[106.527789,34.876507],[106.493296,34.941289],[106.484673,34.983959],[106.494528,35.006021],[106.494528,35.006021],[106.52163,35.027587],[106.541956,35.083925],[106.577064,35.089312],[106.615252,35.071191],[106.706411,35.081966],[106.710723,35.100574],[106.838222,35.080007],[106.901664,35.094698],[106.950323,35.066782],[106.990975,35.068252],[107.012533,35.029547],[107.08275,35.024156],[107.089526,34.976604],[107.119707,34.950119],[107.162206,34.944233],[107.189308,34.893198],[107.252749,34.880925],[107.286626,34.931968],[107.350068,34.93393],[107.369162,34.917738],[107.400575,34.932949],[107.455394,34.916757],[107.523763,34.909886],[107.564415,34.968757],[107.619849,34.964834],[107.638943,34.935402],[107.675284,34.9511],[107.741805,34.953553],[107.842203,34.979056],[107.863145,34.999158],[107.846515,35.024646],[107.814486,35.024646],[107.773218,35.060904],[107.773218,35.060904],[107.769523,35.064333],[107.769523,35.064333],[107.727639,35.120157],[107.715936,35.168114],[107.686371,35.218],[107.652494,35.244886],[107.667277,35.257104],[107.737494,35.267366],[107.745501,35.311819],[107.841587,35.276649],[107.867457,35.256127],[107.960464,35.263457],[107.949993,35.245375],[108.049159,35.253683],[108.094739,35.280069],[108.174811,35.304981],[108.221622,35.296678],[108.239484,35.256127],[108.296767,35.267855],[108.345426,35.300586],[108.36144,35.279581],[108.48894,35.275184],[108.547454,35.304981],[108.583178,35.294724],[108.614591,35.328909],[108.61028,35.355271],[108.631222,35.418698],[108.605968,35.503028],[108.625678,35.537124],[108.618287,35.557088],[108.539447,35.605761],[108.517889,35.699615],[108.533903,35.746257],[108.527744,35.82442],[108.499411,35.872444],[108.518505,35.905414],[108.562852,35.921409],[108.593649,35.950967],[108.652164,35.94806],[108.659555,35.990683],[108.688504,36.021183],[108.682345,36.062316],[108.712526,36.138716],[108.646004,36.254143],[108.641693,36.359279],[108.651548,36.384818],[108.618903,36.433946],[108.562852,36.43876],[108.510498,36.47438],[108.514809,36.445501],[108.495099,36.422389],[108.460606,36.422871],[108.408252,36.45946],[108.391621,36.505654],[108.365136,36.519603],[108.340498,36.559032],[108.262274,36.549417],[108.245644,36.571048],[108.210535,36.577296],[108.204992,36.606607],[108.204992,36.606607],[108.222854,36.631105],[108.1976,36.630144],[108.163724,36.563839],[108.092891,36.587388],[108.079956,36.614294],[108.060862,36.592194],[108.001732,36.639269],[108.02329,36.647912],[108.006659,36.683435],[107.938906,36.655594],[107.940754,36.694953],[107.914268,36.720861],[107.907493,36.750118],[107.866841,36.766899],[107.768291,36.792783],[107.742421,36.811951],[107.722095,36.802367],[107.670356,36.83303],[107.642023,36.819137],[107.5909,36.836382],[107.540393,36.828718],[107.533618,36.867031],[107.478183,36.908196],[107.365466,36.905324],[107.336517,36.925899],[107.310032,36.912502],[107.291554,36.979463],[107.291554,36.979463],[107.288474,37.008143],[107.288474,37.008143],[107.28601,37.054963],[107.268764,37.099367],[107.234887,37.096503],[107.181916,37.143269],[107.133873,37.134681],[107.095685,37.115595],[107.030395,37.140883],[107.031011,37.108436],[106.998367,37.106527],[106.905976,37.151378],[106.912135,37.110345],[106.891193,37.098413],[106.818512,37.141838],[106.776012,37.158056],[106.772933,37.120367],[106.750143,37.09889],[106.728585,37.121321],[106.687933,37.12991],[106.673151,37.1113],[106.6171,37.135158],[106.605397,37.127524],[106.645433,37.064992],[106.666991,37.016745],[106.646665,37.000496],[106.64297,36.962729],[106.594926,36.967988],[106.595542,36.94025],[106.540108,36.984244],[106.549347,36.941685],[106.601702,36.918244],[106.609709,36.878521],[106.609709,36.878521],[106.626955,36.892403],[106.637426,36.867031],[106.637426,36.867031],[106.657752,36.820575],[106.627571,36.752995],[106.644817,36.72278],[106.59431,36.750118],[106.514238,36.715584],[106.519782,36.708868],[106.519782,36.708868],[106.530869,36.690154],[106.490833,36.685835],[106.491448,36.628703],[106.444637,36.624861],[106.465579,36.583063],[106.444637,36.557109],[106.397826,36.576816],[106.392282,36.556628],[106.363949,36.577296],[106.37134,36.549417],[106.39721,36.548455],[106.455724,36.496995],[106.494528,36.494589],[106.523477,36.468605],[106.492064,36.422389],[106.510543,36.379037],[106.497608,36.31348],[106.470507,36.306246],[106.504383,36.266207],[106.54134,36.25366],[106.559202,36.292259],[106.647897,36.259451],[106.685469,36.273445],[106.698404,36.244008],[106.735976,36.23725],[106.772933,36.212628],[106.808657,36.21118],[106.833295,36.229044],[106.858548,36.206834],[106.858548,36.206834],[106.873947,36.178338],[106.873947,36.178338],[106.930613,36.138716],[106.925686,36.115997],[106.957715,36.091337],[106.940468,36.064734],[106.928149,36.011502],[106.94786,35.988262],[106.90228,35.943699],[106.93862,35.952905],[106.940468,35.931101],[106.912751,35.93207],[106.849925,35.887476],[106.927534,35.810346],[106.897353,35.759856],[106.868403,35.771996],[106.867171,35.738485],[106.819128,35.7448],[106.806193,35.70982],[106.750759,35.725369],[106.750759,35.689408],[106.674998,35.728284],[106.66268,35.70739],[106.633115,35.714679],[106.620796,35.743829],[106.595542,35.727312],[106.566593,35.738971],[106.506231,35.737514]]],[[[106.047356,35.498155],[106.048588,35.488898],[106.054132,35.45478],[106.071994,35.463555],[106.078769,35.509848],[106.047356,35.498155]]],[[[102.831537,36.365544],[102.829689,36.365544],[102.836465,36.344819],[102.838928,36.345783],[102.831537,36.365544]]],[[[106.073226,35.447468],[106.067682,35.436254],[106.073226,35.420649],[106.083081,35.421624],[106.073226,35.447468]]],[[[106.504383,35.736057],[106.506231,35.737514],[106.49268,35.732656],[106.498224,35.732656],[106.504383,35.736057]]]]}},{"type":"Feature","properties":{"adcode":630000,"name":"\u9752\u6D77\u7701","center":[101.778916,36.623178],"centroid":[96.043533,35.726403],"childrenNum":8,"level":"province","parent":{"adcode":100000},"subFeatureIndex":28,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[102.829689,36.365544],[102.771791,36.47438],[102.793349,36.497957],[102.753313,36.525855],[102.734219,36.562396],[102.761936,36.568645],[102.714509,36.599401],[102.724364,36.613813],[102.684328,36.619097],[102.630741,36.650793],[102.601176,36.710307],[102.612879,36.738129],[102.639364,36.732853],[102.692335,36.775528],[102.720052,36.767858],[102.639364,36.852666],[102.587009,36.869904],[102.56114,36.91968],[102.526031,36.928291],[102.499546,36.954599],[102.450271,36.968467],[102.506321,37.019134],[102.488459,37.078362],[102.583314,37.104618],[102.642444,37.099845],[102.599944,37.174748],[102.578386,37.17284],[102.533422,37.217176],[102.490307,37.223371],[102.457662,37.248147],[102.45335,37.271487],[102.419474,37.294343],[102.428097,37.308624],[102.368351,37.327662],[102.29875,37.370004],[102.299981,37.391404],[102.19712,37.420403],[102.176794,37.458892],[102.125055,37.48549],[102.103497,37.482641],[102.131214,37.54625],[102.102265,37.582304],[102.035128,37.627819],[102.048678,37.651515],[102.036359,37.685149],[101.998787,37.724921],[101.946432,37.728235],[101.873135,37.686569],[101.854657,37.664781],[101.815853,37.654357],[101.791832,37.696041],[101.659405,37.733441],[101.670491,37.754264],[101.598427,37.827569],[101.551615,37.835604],[101.459224,37.86632],[101.382848,37.822369],[101.362522,37.791162],[101.276906,37.83655],[101.202994,37.84742],[101.159262,37.86821],[101.152486,37.891356],[101.114298,37.92016],[101.103211,37.946593],[101.077342,37.941874],[100.964009,38.011221],[100.91843,37.999432],[100.895024,38.013107],[100.888864,38.056001],[100.922125,38.084741],[100.91843,38.129006],[100.93814,38.16007],[100.913502,38.17889],[100.860531,38.148305],[100.825423,38.158658],[100.752126,38.238612],[100.71517,38.253652],[100.619083,38.26587],[100.595061,38.242372],[100.545786,38.247072],[100.516837,38.272448],[100.474953,38.288891],[100.459555,38.2654],[100.432453,38.275267],[100.424446,38.307208],[100.396729,38.293118],[100.318505,38.329276],[100.331439,38.337257],[100.301874,38.388405],[100.259374,38.366355],[100.24028,38.441861],[100.163288,38.461546],[100.113397,38.497151],[100.086911,38.492936],[100.064122,38.518694],[100.025933,38.507923],[100.001296,38.467169],[100.022238,38.432017],[100.093071,38.407166],[100.136803,38.33444],[100.163904,38.328337],[100.159592,38.291239],[100.182998,38.222158],[100.126332,38.231561],[100.117093,38.253652],[100.071513,38.284663],[100.049955,38.283254],[100.001912,38.315191],[99.960028,38.320825],[99.826985,38.370109],[99.758,38.410449],[99.727203,38.415607],[99.65945,38.449361],[99.63974,38.474666],[99.585537,38.498556],[99.52887,38.546314],[99.501769,38.612281],[99.450646,38.60433],[99.412458,38.665571],[99.375502,38.684727],[99.361951,38.718354],[99.291118,38.765966],[99.222133,38.788827],[99.141445,38.852706],[99.068764,38.896968],[99.071843,38.921184],[99.107568,38.951907],[99.054597,38.97657],[98.951735,38.987735],[98.903076,39.012384],[98.886446,39.040744],[98.818076,39.064911],[98.816845,39.085818],[98.743548,39.086747],[98.730613,39.057011],[98.70536,39.043533],[98.661628,38.993782],[98.612353,38.977035],[98.624056,38.959353],[98.584635,38.93003],[98.526737,38.95563],[98.457752,38.952838],[98.428187,38.976104],[98.432498,38.996107],[98.401086,39.001688],[98.383839,39.029588],[98.316702,39.040744],[98.280977,39.027263],[98.287753,38.992386],[98.276666,38.963541],[98.235398,38.918855],[98.242173,38.880664],[98.167645,38.840121],[98.091884,38.786495],[98.068478,38.816344],[98.029058,38.834061],[98.009348,38.85923],[97.875689,38.898365],[97.828878,38.93003],[97.701379,38.963076],[97.679205,39.010524],[97.58127,39.052364],[97.504894,39.076527],[97.458698,39.117863],[97.401416,39.146645],[97.371235,39.140611],[97.347213,39.167528],[97.315185,39.164744],[97.220946,39.193042],[97.14149,39.199999],[97.060186,39.19768],[97.017686,39.208347],[96.962251,39.198144],[97.012142,39.142004],[96.969643,39.097895],[96.95794,39.041674],[96.965331,39.017034],[96.938846,38.95563],[96.940693,38.90768],[96.983809,38.869016],[96.993664,38.834993],[96.987505,38.793025],[97.00044,38.7613],[97.023229,38.755699],[97.009063,38.702477],[97.057722,38.67258],[97.047251,38.653888],[97.055874,38.594508],[96.961019,38.558015],[96.876636,38.580475],[96.847071,38.599186],[96.7941,38.608072],[96.808882,38.582346],[96.767614,38.552399],[96.800259,38.52759],[96.780549,38.504177],[96.706637,38.505582],[96.6666,38.483567],[96.707868,38.459203],[96.698013,38.422172],[96.626564,38.356031],[96.638883,38.307208],[96.655514,38.295936],[96.665369,38.23015],[96.46334,38.277616],[96.378341,38.277146],[96.335841,38.246132],[96.301964,38.183124],[96.313051,38.161952],[96.264392,38.145952],[96.252689,38.167599],[96.221892,38.149246],[96.109175,38.187358],[96.06606,38.173245],[96.006929,38.207582],[95.93856,38.237202],[95.932401,38.259291],[95.89606,38.2903],[95.852945,38.287481],[95.83693,38.344298],[95.775952,38.356031],[95.723597,38.378554],[95.703887,38.400131],[95.671858,38.388405],[95.608417,38.339134],[95.585011,38.343359],[95.51849,38.294997],[95.487693,38.314721],[95.455664,38.291709],[95.440881,38.310965],[95.408236,38.300163],[95.315846,38.318947],[95.259179,38.302981],[95.229614,38.330685],[95.209904,38.327868],[95.185266,38.379492],[95.140919,38.392158],[95.122441,38.417014],[95.072549,38.402476],[95.045448,38.418889],[94.973999,38.430142],[94.884072,38.414669],[94.861282,38.393565],[94.812623,38.385591],[94.672805,38.386998],[94.582878,38.36917],[94.56132,38.351807],[94.527443,38.365416],[94.527443,38.425922],[94.511429,38.445142],[94.370379,38.7627],[94.281067,38.7599],[93.973098,38.724891],[93.95154,38.715086],[93.885018,38.720689],[93.800019,38.750566],[93.773533,38.771099],[93.756287,38.807484],[93.769838,38.821007],[93.884403,38.826136],[93.884403,38.867618],[93.834511,38.867618],[93.729186,38.924443],[93.453245,38.915596],[93.274007,38.896036],[93.237666,38.916062],[93.179152,38.923977],[93.198246,39.045857],[93.165601,39.090928],[93.131725,39.108112],[93.142196,39.160567],[93.115094,39.17959],[93.043029,39.146645],[92.978356,39.143396],[92.938936,39.169848],[92.889045,39.160103],[92.866871,39.138754],[92.765857,39.136898],[92.659299,39.109969],[92.545966,39.111362],[92.489916,39.099753],[92.459119,39.063982],[92.459119,39.042604],[92.41046,39.03842],[92.416003,39.010524],[92.380279,38.999828],[92.263866,39.002153],[92.197961,38.983548],[92.173323,38.960749],[92.10865,38.963541],[91.966368,38.930961],[91.880752,38.899297],[91.87952,38.884391],[91.806223,38.872744],[91.694738,38.86622],[91.681188,38.852706],[91.501333,38.815411],[91.446515,38.813546],[91.298689,38.746365],[91.242639,38.752433],[91.188436,38.73096],[90.992567,38.695003],[90.970394,38.697806],[90.899561,38.679588],[90.724634,38.658094],[90.65996,38.674449],[90.619308,38.664636],[90.645794,38.635191],[90.606374,38.610878],[90.608837,38.594508],[90.560794,38.593573],[90.525685,38.561291],[90.463476,38.556611],[90.465323,38.521971],[90.427135,38.493873],[90.353222,38.482162],[90.315034,38.501835],[90.248513,38.491531],[90.130868,38.494341],[90.111774,38.477945],[90.111774,38.418889],[90.129636,38.400131],[90.179528,38.396848],[90.137644,38.340543],[90.280542,38.238142],[90.352607,38.233441],[90.361846,38.300163],[90.401882,38.311434],[90.531229,38.319886],[90.516446,38.207111],[90.519526,37.730601],[90.579272,37.720661],[90.586663,37.703144],[90.643946,37.696988],[90.777605,37.648672],[90.820104,37.613599],[90.854597,37.604117],[90.882314,37.575664],[90.865684,37.53059],[90.911879,37.519674],[90.958075,37.477891],[91.019669,37.493088],[91.073256,37.475992],[91.099741,37.447965],[91.113292,37.387124],[91.136081,37.355734],[91.134849,37.324331],[91.194596,37.273868],[91.1909,37.205737],[91.280211,37.163779],[91.286371,37.105095],[91.303617,37.083136],[91.291298,37.042544],[91.303617,37.012444],[91.216153,37.010054],[91.181045,37.025345],[91.133618,37.007665],[91.126842,36.978507],[91.051698,36.96751],[91.036915,36.929727],[90.983944,36.913459],[90.924198,36.921115],[90.853981,36.915373],[90.758511,36.825844],[90.732025,36.825844],[90.727098,36.755872],[90.754815,36.721341],[90.720938,36.708868],[90.706156,36.658955],[90.730793,36.655594],[90.72217,36.620058],[90.741264,36.585947],[90.810865,36.585466],[90.831191,36.55807],[90.905104,36.560474],[91.011662,36.539801],[91.035683,36.529703],[91.039995,36.474861],[91.028292,36.443093],[91.051698,36.433946],[91.026444,36.323607],[91.07264,36.299012],[91.051698,36.238215],[91.096045,36.219871],[91.09235,36.163844],[91.124994,36.115514],[91.081263,36.088436],[90.979017,36.106811],[90.922966,36.028927],[90.850285,36.016827],[90.815793,36.035703],[90.776373,36.086501],[90.659344,36.13485],[90.613149,36.126632],[90.534925,36.147899],[90.478258,36.13195],[90.424055,36.133883],[90.325505,36.159496],[90.23681,36.160462],[90.198006,36.187516],[90.130252,36.2078],[90.145651,36.239181],[90.058188,36.255591],[90.043405,36.276822],[90.003369,36.278752],[90.028006,36.258486],[90.019999,36.213594],[89.997825,36.168193],[89.944855,36.140649],[89.941159,36.067637],[89.914058,36.079246],[89.819819,36.080697],[89.766848,36.073925],[89.711414,36.093272],[89.688624,36.091337],[89.605472,36.038123],[89.474893,36.022151],[89.417611,36.044897],[89.404676,36.016827],[89.434857,35.992136],[89.428082,35.917531],[89.489676,35.903475],[89.554965,35.873414],[89.550654,35.856924],[89.62395,35.859349],[89.654747,35.848193],[89.707718,35.849163],[89.778551,35.861775],[89.801957,35.848193],[89.767464,35.799183],[89.782863,35.773453],[89.747138,35.7516],[89.748986,35.66267],[89.726196,35.648082],[89.765616,35.599922],[89.75145,35.580942],[89.71203,35.581915],[89.699711,35.544916],[89.720037,35.501566],[89.740979,35.507412],[89.765,35.482563],[89.739131,35.468429],[89.685544,35.416259],[89.658443,35.425526],[89.619639,35.412357],[89.58761,35.383575],[89.497067,35.361128],[89.516161,35.330862],[89.494603,35.298632],[89.531559,35.276161],[89.48598,35.256616],[89.450255,35.223867],[89.46935,35.214577],[89.519241,35.133862],[89.579603,35.118688],[89.593153,35.104491],[89.59069,35.057965],[89.560509,34.938836],[89.578987,34.895162],[89.670146,34.887798],[89.707102,34.919701],[89.747138,34.903506],[89.78779,34.921664],[89.821051,34.902033],[89.814891,34.86816],[89.838913,34.865705],[89.867862,34.81069],[89.825978,34.796931],[89.799493,34.743838],[89.732356,34.732035],[89.72558,34.660689],[89.74837,34.641981],[89.798877,34.628686],[89.777935,34.574499],[89.814891,34.548871],[89.823515,34.455657],[89.819819,34.420614],[89.799493,34.39642],[89.820435,34.369255],[89.858623,34.359375],[89.86663,34.324785],[89.825362,34.293642],[89.838297,34.263477],[89.816739,34.16945],[89.789638,34.150632],[89.760073,34.152613],[89.756993,34.124874],[89.71203,34.131809],[89.655979,34.097126],[89.656595,34.057966],[89.635037,34.049537],[89.684928,33.990013],[89.688008,33.959739],[89.718805,33.946832],[89.73174,33.921509],[89.795181,33.865374],[89.837065,33.868853],[89.899891,33.80771],[89.942391,33.801246],[89.902355,33.758467],[89.907282,33.741051],[89.983659,33.725622],[89.981195,33.70322],[90.008296,33.687785],[89.984275,33.612061],[90.01076,33.553728],[90.083441,33.525295],[90.088984,33.478885],[90.107463,33.460913],[90.22018,33.437943],[90.246665,33.423959],[90.332896,33.310501],[90.363077,33.279487],[90.405577,33.260473],[90.490577,33.264977],[90.562642,33.229441],[90.627315,33.180368],[90.704308,33.135778],[90.740032,33.142293],[90.803474,33.114227],[90.88293,33.120241],[90.902024,33.083143],[90.927894,33.120241],[91.001807,33.11573],[91.037531,33.098686],[91.072024,33.113224],[91.147784,33.07211],[91.161335,33.108712],[91.18782,33.106206],[91.226624,33.141792],[91.261733,33.141291],[91.311624,33.108211],[91.370138,33.100691],[91.436044,33.066092],[91.49579,33.109214],[91.535826,33.10019],[91.55492,33.060074],[91.583253,33.0375],[91.664557,33.012913],[91.685499,32.989324],[91.752637,32.969242],[91.799448,32.942126],[91.839484,32.948152],[91.857962,32.90244],[91.896766,32.907967],[91.955897,32.8205],[92.018722,32.829552],[92.038432,32.860725],[92.101874,32.860222],[92.145606,32.885857],[92.205352,32.866255],[92.227526,32.821003],[92.193649,32.801889],[92.211511,32.788306],[92.198577,32.754591],[92.255243,32.720863],[92.310062,32.751571],[92.343938,32.738484],[92.355641,32.764657],[92.411076,32.748048],[92.459119,32.76365],[92.484372,32.745028],[92.56814,32.73194],[92.574916,32.741001],[92.634662,32.720863],[92.667922,32.73194],[92.686401,32.76516],[92.756618,32.743014],[92.789262,32.719856],[92.822523,32.729926],[92.866871,32.698203],[92.933392,32.719353],[92.964189,32.714821],[93.00053,32.741001],[93.019624,32.737477],[93.023935,32.703239],[93.069515,32.626156],[93.087993,32.63674],[93.159442,32.644803],[93.176688,32.6705],[93.210565,32.655385],[93.239514,32.662439],[93.260456,32.62666],[93.300492,32.619604],[93.308499,32.580278],[93.33868,32.5712],[93.385492,32.525294],[93.411977,32.558086],[93.4631,32.556069],[93.476651,32.504603],[93.501904,32.503593],[93.516687,32.47583],[93.618933,32.522771],[93.651577,32.571705],[93.721795,32.578261],[93.75136,32.56313],[93.820345,32.549511],[93.851142,32.50965],[93.861613,32.466237],[93.90904,32.463207],[93.960163,32.484917],[93.978641,32.459672],[94.03038,32.448057],[94.049474,32.469771],[94.091974,32.463207],[94.137554,32.433915],[94.176974,32.454117],[94.196684,32.51621],[94.250886,32.51722],[94.292154,32.502584],[94.294002,32.519743],[94.350053,32.533871],[94.371611,32.524789],[94.395016,32.594397],[94.435052,32.562626],[94.463386,32.572209],[94.459074,32.599439],[94.522516,32.595909],[94.591501,32.640772],[94.614291,32.673522],[94.638312,32.645307],[94.737479,32.587338],[94.762116,32.526303],[94.78737,32.522266],[94.80708,32.486431],[94.852043,32.463712],[94.889616,32.472295],[94.912405,32.41573],[94.944434,32.404109],[94.988166,32.422802],[95.057151,32.395014],[95.075013,32.376315],[95.075013,32.376315],[95.081789,32.384907],[95.153853,32.386423],[95.218527,32.397035],[95.228382,32.363678],[95.261643,32.348006],[95.193274,32.332331],[95.096571,32.322217],[95.079325,32.279726],[95.10581,32.258979],[95.20744,32.297433],[95.214216,32.321712],[95.241317,32.3207],[95.239469,32.287315],[95.270266,32.194683],[95.270266,32.194683],[95.31523,32.148585],[95.366968,32.151118],[95.367584,32.178982],[95.406389,32.182021],[95.440265,32.157705],[95.454432,32.061898],[95.421171,32.033999],[95.454432,32.007613],[95.395918,32.001523],[95.360809,31.95939],[95.3682,31.92892],[95.408852,31.918761],[95.406389,31.896915],[95.456896,31.801853],[95.480301,31.795749],[95.511714,31.750468],[95.546823,31.73978],[95.580083,31.76726],[95.634286,31.782523],[95.779648,31.748941],[95.823995,31.68225],[95.853561,31.714329],[95.846169,31.736218],[95.89914,31.81711],[95.983524,31.816601],[95.989067,31.78761],[96.064828,31.720438],[96.135661,31.70211],[96.148595,31.686324],[96.156603,31.602769],[96.207726,31.598691],[96.221892,31.647613],[96.245298,31.657802],[96.252073,31.697527],[96.222508,31.733164],[96.231131,31.749959],[96.178161,31.775401],[96.183088,31.835924],[96.202798,31.841008],[96.214501,31.876589],[96.188632,31.904028],[96.220044,31.905553],[96.253305,31.929936],[96.288414,31.919777],[96.389428,31.919777],[96.407906,31.845583],[96.435623,31.796258],[96.468884,31.769804],[96.519391,31.74945],[96.56805,31.711783],[96.615477,31.737236],[96.661057,31.705674],[96.691854,31.722474],[96.722651,31.686833],[96.778701,31.675629],[96.790404,31.698545],[96.840295,31.720438],[96.799027,31.792188],[96.765767,31.819144],[96.760223,31.860325],[96.794716,31.869474],[96.81073,31.894375],[96.776238,31.935015],[96.753448,31.944156],[96.742977,32.001016],[96.722651,32.013195],[96.824281,32.007613],[96.868629,31.964975],[96.863085,31.996448],[96.894498,32.013703],[96.941925,31.986297],[96.965947,32.008628],[96.935766,32.048203],[97.006599,32.067984],[97.028773,32.04871],[97.127323,32.044145],[97.169823,32.032984],[97.188301,32.055304],[97.214786,32.042623],[97.233881,32.063927],[97.201852,32.090296],[97.219714,32.109054],[97.258518,32.072041],[97.308409,32.076605],[97.293011,32.096887],[97.313953,32.130342],[97.271453,32.139971],[97.264062,32.182527],[97.299786,32.294904],[97.32196,32.303503],[97.371235,32.273148],[97.415583,32.296421],[97.424822,32.322723],[97.387865,32.427349],[97.341054,32.440987],[97.388481,32.501575],[97.334895,32.514192],[97.332431,32.542448],[97.3583,32.563635],[97.374315,32.546484],[97.411887,32.575235],[97.448843,32.586833],[97.463626,32.55506],[97.50243,32.530844],[97.540618,32.536899],[97.670582,32.51722],[97.684132,32.530339],[97.730944,32.527312],[97.700763,32.53488],[97.616995,32.586329],[97.607756,32.614059],[97.543698,32.62162],[97.535075,32.638252],[97.48272,32.654377],[97.42359,32.70475],[97.429133,32.714318],[97.386018,32.77925],[97.392793,32.828546],[97.376163,32.886359],[97.347829,32.895907],[97.375547,32.956689],[97.438372,32.976271],[97.523988,32.988822],[97.499966,33.011408],[97.542466,33.035995],[97.517213,33.097683],[97.487032,33.107209],[97.498119,33.137783],[97.487648,33.168346],[97.548626,33.203907],[97.607756,33.263976],[97.622538,33.337005],[97.676125,33.341004],[97.754349,33.409972],[97.674893,33.432949],[97.625618,33.461412],[97.552321,33.465906],[97.511669,33.520805],[97.523372,33.577166],[97.450075,33.582152],[97.415583,33.605582],[97.435293,33.682307],[97.418046,33.728608],[97.422974,33.754984],[97.406344,33.795278],[97.373083,33.817655],[97.371851,33.842015],[97.398336,33.848477],[97.395257,33.889224],[97.460546,33.887236],[97.503662,33.912073],[97.52214,33.903133],[97.601596,33.929951],[97.629314,33.919523],[97.660111,33.956264],[97.652719,33.998448],[97.70261,34.036644],[97.665654,34.126855],[97.766668,34.158555],[97.789458,34.182818],[97.789458,34.182818],[97.796849,34.199154],[97.796849,34.199154],[97.8104,34.207568],[97.898479,34.209548],[97.95453,34.190739],[98.028442,34.122892],[98.098043,34.122892],[98.158405,34.107037],[98.206449,34.08424],[98.258188,34.083249],[98.344419,34.094648],[98.399854,34.085231],[98.396774,34.053008],[98.428187,34.029204],[98.440506,33.981577],[98.415252,33.956761],[98.425723,33.913066],[98.407245,33.867362],[98.434962,33.843009],[98.463295,33.848477],[98.492861,33.796272],[98.494092,33.768915],[98.51873,33.77389],[98.539672,33.746525],[98.582788,33.731595],[98.610505,33.682805],[98.6567,33.64744],[98.61728,33.637476],[98.622824,33.610067],[98.652389,33.595114],[98.648077,33.548741],[98.678258,33.522801],[98.725686,33.503341],[98.742316,33.477887],[98.736157,33.406975],[98.779888,33.370497],[98.759562,33.276985],[98.802062,33.270481],[98.804526,33.219428],[98.858728,33.150811],[98.92217,33.118738],[98.967134,33.115229],[98.971445,33.098185],[99.014561,33.081137],[99.024416,33.094675],[99.090322,33.079131],[99.124814,33.046028],[99.196263,33.035493],[99.214741,32.991332],[99.235067,32.982296],[99.24677,32.924043],[99.268944,32.878318],[99.353944,32.885354],[99.376118,32.899927],[99.45311,32.862233],[99.558436,32.839106],[99.589233,32.789312],[99.640355,32.790822],[99.646515,32.774721],[99.700718,32.76667],[99.717964,32.732443],[99.760464,32.769689],[99.766623,32.826032],[99.791877,32.883344],[99.764159,32.924545],[99.788181,32.956689],[99.805427,32.940619],[99.851007,32.941623],[99.877492,32.993339],[99.877492,33.045527],[99.947709,32.986814],[99.956332,32.948152],[100.038252,32.929066],[100.029629,32.895907],[100.064738,32.895907],[100.123252,32.837095],[100.117093,32.802392],[100.139266,32.724388],[100.088143,32.668988],[100.109701,32.640268],[100.189773,32.630692],[100.208252,32.606497],[100.229809,32.650346],[100.231041,32.696189],[100.258759,32.742511],[100.339447,32.719353],[100.399193,32.756101],[100.378251,32.698707],[100.420135,32.73194],[100.450932,32.694678],[100.470026,32.694678],[100.516837,32.632204],[100.54517,32.569687],[100.603069,32.553547],[100.645568,32.526303],[100.657887,32.546484],[100.661583,32.616075],[100.673286,32.628172],[100.710242,32.610026],[100.71209,32.645307],[100.690532,32.678056],[100.77122,32.643795],[100.834046,32.648835],[100.887633,32.632708],[100.93198,32.600447],[100.956618,32.621116],[100.99727,32.627668],[101.030531,32.660424],[101.077342,32.68259],[101.124769,32.658408],[101.157414,32.661431],[101.22332,32.725898],[101.237486,32.825026],[101.223935,32.855698],[101.178356,32.892892],[101.124153,32.909976],[101.134624,32.95217],[101.129081,32.989324],[101.183899,32.984304],[101.171581,33.009902],[101.184515,33.041514],[101.146327,33.056563],[101.143863,33.086151],[101.169733,33.10019],[101.11553,33.194893],[101.124769,33.221431],[101.156798,33.236449],[101.182668,33.26948],[101.217776,33.256469],[101.297232,33.262475],[101.381616,33.153316],[101.393935,33.157826],[101.386543,33.207412],[101.403174,33.225436],[101.487557,33.226938],[101.515275,33.192889],[101.557775,33.167344],[101.633535,33.101193],[101.661252,33.135778],[101.653861,33.162835],[101.709912,33.21292],[101.735781,33.279987],[101.677883,33.297497],[101.64955,33.323004],[101.663716,33.383991],[101.695745,33.433948],[101.769042,33.45592],[101.777665,33.533776],[101.769042,33.538765],[101.748716,33.505337],[101.718535,33.494857],[101.622448,33.502343],[101.611977,33.565199],[101.616905,33.598603],[101.585492,33.645448],[101.58426,33.674339],[101.501724,33.702723],[101.428427,33.680315],[101.424732,33.655411],[101.385312,33.644949],[101.302776,33.657902],[101.23687,33.685793],[101.217776,33.669856],[101.166653,33.659894],[101.177124,33.685295],[101.162957,33.719649],[101.186363,33.741051],[101.190675,33.791796],[101.153102,33.823124],[101.153718,33.8445],[101.054552,33.863386],[101.023139,33.896178],[100.994806,33.891707],[100.965857,33.946832],[100.927669,33.975126],[100.93506,33.990013],[100.880857,34.036644],[100.870386,34.083744],[100.848828,34.089692],[100.806329,34.155584],[100.764445,34.178857],[100.809408,34.247153],[100.798321,34.260014],[100.821727,34.317371],[100.868538,34.332693],[100.895024,34.375183],[100.951074,34.38358],[100.986799,34.374689],[101.054552,34.322808],[101.098284,34.329233],[101.178356,34.320831],[101.193754,34.336646],[101.235022,34.325279],[101.228863,34.298586],[101.268899,34.278808],[101.325565,34.268423],[101.327413,34.24468],[101.369913,34.248143],[101.417956,34.227858],[101.482014,34.218951],[101.492485,34.195689],[101.53868,34.212022],[101.6206,34.178857],[101.674187,34.110506],[101.703136,34.119424],[101.718535,34.083249],[101.736397,34.080275],[101.764114,34.122892],[101.788136,34.131809],[101.836795,34.124378],[101.851578,34.153108],[101.874367,34.130323],[101.897773,34.133791],[101.955055,34.109514],[101.965526,34.167469],[102.003099,34.162022],[102.030816,34.190739],[102.01357,34.218456],[102.062229,34.227858],[102.067772,34.293642],[102.149692,34.271885],[102.186649,34.352952],[102.237156,34.34307],[102.237156,34.34307],[102.259329,34.355917],[102.205743,34.407777],[102.169402,34.457631],[102.155852,34.507456],[102.139837,34.50351],[102.093026,34.536547],[102.001867,34.538519],[101.97415,34.548871],[101.956287,34.582876],[101.934729,34.58731],[101.919947,34.621791],[101.917483,34.705964],[101.923027,34.835746],[101.916867,34.873561],[101.985852,34.90007],[102.068388,34.887798],[102.048062,34.910868],[102.094874,34.986901],[102.133678,35.014844],[102.157699,35.010923],[102.176178,35.032977],[102.211286,35.034937],[102.218062,35.057475],[102.252554,35.048657],[102.29567,35.071681],[102.310452,35.128967],[102.346793,35.164201],[102.404075,35.179366],[102.365887,35.235599],[102.370199,35.263946],[102.3123,35.282512],[102.280887,35.303028],[102.311684,35.31426],[102.317844,35.343067],[102.287663,35.36552],[102.293822,35.424063],[102.314764,35.434303],[102.408387,35.409431],[102.447807,35.437229],[102.437952,35.455268],[102.49893,35.545403],[102.503241,35.585322],[102.531575,35.580455],[102.570995,35.548324],[102.695414,35.528358],[102.743458,35.494745],[102.782878,35.527871],[102.729291,35.523487],[102.746537,35.545403],[102.808747,35.560496],[102.763168,35.612086],[102.7644,35.653431],[102.744074,35.657807],[102.707733,35.70496],[102.686175,35.771996],[102.715125,35.815685],[102.739146,35.821023],[102.787189,35.862745],[102.81737,35.850133],[102.914073,35.845282],[102.94487,35.829757],[102.954725,35.858864],[102.942406,35.92674],[102.971971,35.995525],[102.951645,36.021667],[102.968276,36.044414],[102.932551,36.048285],[102.882044,36.082632],[102.941174,36.104877],[102.948566,36.150798],[102.965812,36.151765],[102.986754,36.193312],[103.048964,36.199107],[103.066826,36.216974],[103.021246,36.232906],[103.024942,36.256556],[102.922696,36.298047],[102.896827,36.331803],[102.845704,36.331803],[102.836465,36.344819],[102.829689,36.365544]]]]}},{"type":"Feature","properties":{"adcode":640000,"name":"\u5B81\u590F\u56DE\u65CF\u81EA\u6CBB\u533A","center":[106.278179,38.46637],"centroid":[106.169866,37.291332],"childrenNum":5,"level":"province","parent":{"adcode":100000},"subFeatureIndex":29,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[107.268764,37.099367],[107.281083,37.127047],[107.306952,37.100799],[107.334669,37.138975],[107.336517,37.165687],[107.317423,37.200017],[107.270612,37.229089],[107.309416,37.239095],[107.273075,37.29101],[107.257677,37.337179],[107.282931,37.437036],[107.284162,37.481691],[107.345756,37.518725],[107.369162,37.58752],[107.330358,37.584201],[107.311264,37.609806],[107.361155,37.613125],[107.422133,37.665254],[107.389488,37.671413],[107.387024,37.691305],[107.425828,37.684201],[107.484959,37.706458],[107.499125,37.765619],[107.57119,37.776499],[107.599523,37.791162],[107.620465,37.776026],[107.646335,37.805349],[107.659269,37.844112],[107.65003,37.86443],[107.560719,37.893717],[107.49235,37.944706],[107.448618,37.933378],[107.411662,37.948009],[107.440611,37.995659],[107.3938,38.014993],[107.33159,38.086625],[107.240431,38.111586],[107.19054,38.153953],[107.138801,38.161011],[107.119091,38.134185],[107.071047,38.138892],[107.051337,38.122886],[107.010069,38.120532],[106.942316,38.132302],[106.858548,38.156306],[106.779092,38.171833],[106.737824,38.197706],[106.654672,38.22921],[106.627571,38.232501],[106.555506,38.263521],[106.482209,38.319417],[106.599854,38.389812],[106.647897,38.470917],[106.66268,38.601524],[106.709491,38.718821],[106.756302,38.748699],[106.837606,38.847579],[106.954019,38.941202],[106.971881,39.026333],[106.96757,39.054688],[106.933693,39.076527],[106.878874,39.091392],[106.859164,39.107648],[106.825288,39.19397],[106.795723,39.214375],[106.790795,39.241263],[106.806193,39.277407],[106.806809,39.318625],[106.781556,39.371849],[106.751375,39.381564],[106.683622,39.357506],[106.643586,39.357969],[106.602318,39.37555],[106.556122,39.322329],[106.525325,39.308439],[106.511774,39.272311],[106.402753,39.291767],[106.280181,39.262118],[106.29558,39.167992],[106.285109,39.146181],[106.251232,39.131327],[106.192718,39.142932],[106.170544,39.163352],[106.145907,39.153142],[106.096631,39.084889],[106.078153,39.026333],[106.087392,39.006339],[106.060907,38.96866],[106.021487,38.953769],[105.97098,38.909077],[105.992538,38.857366],[105.909386,38.791159],[105.908154,38.737496],[105.88598,38.716953],[105.894603,38.696405],[105.852719,38.641735],[105.874277,38.593105],[105.856415,38.569714],[105.863806,38.53508],[105.836705,38.476071],[105.850872,38.443736],[105.827466,38.432486],[105.835473,38.387467],[105.821307,38.366824],[105.86627,38.296406],[105.842248,38.240962],[105.802828,38.220277],[105.775111,38.186887],[105.76772,38.121474],[105.780655,38.084741],[105.840401,38.004147],[105.799749,37.939986],[105.80406,37.862068],[105.760944,37.799674],[105.677177,37.771769],[105.622358,37.777919],[105.616199,37.722555],[105.598952,37.699356],[105.467141,37.695094],[105.4037,37.710246],[105.315004,37.702197],[105.221998,37.677097],[105.187505,37.657674],[105.111128,37.633981],[105.027977,37.580881],[104.866601,37.566651],[104.805007,37.539133],[104.623305,37.522522],[104.433595,37.515402],[104.419429,37.511604],[104.407726,37.464592],[104.322726,37.44844],[104.287002,37.428007],[104.298705,37.414223],[104.365226,37.418026],[104.437907,37.445589],[104.448994,37.42468],[104.499501,37.421353],[104.521059,37.43466],[104.679971,37.408044],[104.662109,37.367626],[104.713848,37.329566],[104.673812,37.317668],[104.651022,37.290534],[104.624536,37.298627],[104.600515,37.242907],[104.638087,37.201923],[104.717543,37.208597],[104.776673,37.246718],[104.85613,37.211933],[104.864753,37.17284],[104.888158,37.15901],[104.914644,37.097935],[104.954064,37.077407],[104.95468,37.040156],[105.004571,37.035378],[105.03968,37.007187],[105.05939,37.022956],[105.128991,36.996194],[105.165331,36.99476],[105.185657,36.942164],[105.178882,36.892403],[105.244787,36.894796],[105.279896,36.86751],[105.303302,36.820575],[105.334714,36.80093],[105.340874,36.764502],[105.319932,36.742924],[105.275584,36.752515],[105.272505,36.739567],[105.218302,36.730455],[105.201056,36.700711],[105.225693,36.664716],[105.22015,36.631105],[105.261418,36.602764],[105.2762,36.563358],[105.252179,36.553263],[105.281744,36.522489],[105.322396,36.535954],[105.362432,36.496514],[105.363048,36.443093],[105.398156,36.430575],[105.401236,36.369881],[105.425873,36.330357],[105.455439,36.321678],[105.476381,36.293224],[105.45975,36.268137],[105.460366,36.223733],[105.478844,36.213111],[105.515185,36.147415],[105.491163,36.101009],[105.430801,36.10391],[105.406163,36.074409],[105.343954,36.033767],[105.324859,35.941761],[105.350113,35.875839],[105.39754,35.857409],[105.371055,35.844312],[105.38091,35.792873],[105.408627,35.822479],[105.428953,35.819082],[105.432033,35.787533],[105.457286,35.771511],[105.481924,35.727312],[105.595873,35.715651],[105.667322,35.749657],[105.70243,35.733142],[105.759097,35.724883],[105.740618,35.698643],[105.723988,35.725854],[105.690727,35.698643],[105.722756,35.673366],[105.713517,35.650513],[105.759097,35.634464],[105.762176,35.602841],[105.800365,35.564878],[105.816379,35.575101],[105.847176,35.490359],[105.868734,35.540046],[105.900147,35.54735],[106.017175,35.519103],[106.023335,35.49377],[106.047356,35.498155],[106.078769,35.509848],[106.071994,35.463555],[106.06953,35.458193],[106.073842,35.45478],[106.073226,35.450393],[106.071378,35.449418],[106.073226,35.447468],[106.083081,35.421624],[106.113262,35.361616],[106.129892,35.393333],[106.173008,35.437716],[106.196414,35.409919],[106.237681,35.409431],[106.241377,35.358687],[106.319601,35.265411],[106.363333,35.238532],[106.368261,35.273718],[106.415688,35.276161],[106.472354,35.310842],[106.501304,35.364056],[106.503767,35.415284],[106.483441,35.450393],[106.490217,35.480613],[106.465579,35.481101],[106.440941,35.52641],[106.460036,35.578995],[106.47913,35.575101],[106.460036,35.643705],[106.434782,35.688436],[106.49268,35.732656],[106.506231,35.737514],[106.566593,35.738971],[106.595542,35.727312],[106.620796,35.743829],[106.633115,35.714679],[106.66268,35.70739],[106.674998,35.728284],[106.750759,35.689408],[106.750759,35.725369],[106.806193,35.70982],[106.819128,35.7448],[106.867171,35.738485],[106.868403,35.771996],[106.897353,35.759856],[106.927534,35.810346],[106.849925,35.887476],[106.912751,35.93207],[106.940468,35.931101],[106.93862,35.952905],[106.90228,35.943699],[106.94786,35.988262],[106.928149,36.011502],[106.940468,36.064734],[106.957715,36.091337],[106.925686,36.115997],[106.930613,36.138716],[106.873947,36.178338],[106.873947,36.178338],[106.858548,36.206834],[106.858548,36.206834],[106.833295,36.229044],[106.808657,36.21118],[106.772933,36.212628],[106.735976,36.23725],[106.698404,36.244008],[106.685469,36.273445],[106.647897,36.259451],[106.559202,36.292259],[106.54134,36.25366],[106.504383,36.266207],[106.470507,36.306246],[106.497608,36.31348],[106.510543,36.379037],[106.492064,36.422389],[106.523477,36.468605],[106.494528,36.494589],[106.455724,36.496995],[106.39721,36.548455],[106.37134,36.549417],[106.363949,36.577296],[106.392282,36.556628],[106.397826,36.576816],[106.444637,36.557109],[106.465579,36.583063],[106.444637,36.624861],[106.491448,36.628703],[106.490833,36.685835],[106.530869,36.690154],[106.519782,36.708868],[106.519782,36.708868],[106.514238,36.715584],[106.59431,36.750118],[106.644817,36.72278],[106.627571,36.752995],[106.657752,36.820575],[106.637426,36.867031],[106.637426,36.867031],[106.626955,36.892403],[106.609709,36.878521],[106.609709,36.878521],[106.601702,36.918244],[106.549347,36.941685],[106.540108,36.984244],[106.595542,36.94025],[106.594926,36.967988],[106.64297,36.962729],[106.646665,37.000496],[106.666991,37.016745],[106.645433,37.064992],[106.605397,37.127524],[106.6171,37.135158],[106.673151,37.1113],[106.687933,37.12991],[106.728585,37.121321],[106.750143,37.09889],[106.772933,37.120367],[106.776012,37.158056],[106.818512,37.141838],[106.891193,37.098413],[106.912135,37.110345],[106.905976,37.151378],[106.998367,37.106527],[107.031011,37.108436],[107.030395,37.140883],[107.095685,37.115595],[107.133873,37.134681],[107.181916,37.143269],[107.234887,37.096503],[107.268764,37.099367]]],[[[106.048588,35.488898],[105.897683,35.451368],[105.894603,35.413821],[106.002393,35.438692],[106.034422,35.469404],[106.054132,35.45478],[106.048588,35.488898]]],[[[106.073842,35.45478],[106.06953,35.458193],[106.071378,35.449418],[106.073226,35.450393],[106.073842,35.45478]]]]}},{"type":"Feature","properties":{"adcode":650000,"name":"\u65B0\u7586\u7EF4\u543E\u5C14\u81EA\u6CBB\u533A","center":[87.617733,43.792818],"centroid":[85.294711,41.371801],"childrenNum":24,"level":"province","parent":{"adcode":100000},"subFeatureIndex":30,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[96.386348,42.727592],[96.363558,42.900562],[95.921314,43.229789],[95.880046,43.28035],[95.857872,43.417436],[95.735916,43.597569],[95.705735,43.67077],[95.645373,43.787966],[95.623199,43.855756],[95.527113,44.007466],[95.426099,44.009618],[95.377439,44.025972],[95.326932,44.028554],[95.35157,44.090054],[95.355882,44.166087],[95.376208,44.227444],[95.4107,44.245024],[95.43041,44.281882],[95.41378,44.298589],[95.238853,44.277169],[95.1286,44.269884],[94.998637,44.253169],[94.945666,44.292592],[94.826174,44.320001],[94.768275,44.34055],[94.722696,44.34055],[94.673421,44.397021],[94.606283,44.448311],[94.557008,44.462408],[94.470777,44.509373],[94.390705,44.521749],[94.359292,44.515775],[94.329727,44.582734],[94.279836,44.603617],[94.227481,44.645785],[94.215162,44.667921],[94.152336,44.684944],[94.066105,44.732154],[93.723642,44.865498],[93.716251,44.894334],[93.613389,44.926546],[93.509296,44.968055],[93.434767,44.955351],[93.376869,44.985412],[93.314659,44.995147],[93.314043,44.980333],[93.252449,44.991761],[93.174225,45.015458],[93.100312,45.007419],[93.062124,45.018419],[93.002377,45.009958],[92.932776,45.017573],[92.922921,45.03703],[92.884117,45.046756],[92.847777,45.038721],[92.779407,45.050561],[92.683937,45.02561],[92.547814,45.018419],[92.501003,45.001072],[92.414155,45.018419],[92.348866,45.014188],[92.315605,45.028994],[92.240461,45.015881],[92.100026,45.081417],[92.056911,45.086911],[91.885679,45.078882],[91.803144,45.082685],[91.694738,45.065357],[91.561695,45.075501],[91.500101,45.103809],[91.448978,45.156586],[91.429268,45.156586],[91.37753,45.11099],[91.33503,45.129571],[91.242023,45.13717],[91.230936,45.153632],[91.195827,45.159118],[91.17119,45.199616],[91.129922,45.21606],[91.050466,45.208892],[91.007966,45.218589],[90.96177,45.201303],[90.881698,45.192025],[90.866916,45.209314],[90.897713,45.249776],[90.877387,45.280946],[90.831807,45.300313],[90.804706,45.29484],[90.813329,45.32851],[90.773909,45.405874],[90.772677,45.432338],[90.723402,45.464667],[90.671047,45.487747],[90.676591,45.582488],[90.714779,45.728895],[90.799778,45.834905],[90.890937,45.921566],[91.028292,46.023054],[91.014741,46.06667],[91.021517,46.121038],[90.98456,46.160431],[90.94822,46.219262],[90.955611,46.233752],[90.900177,46.31235],[90.983328,46.374734],[90.996263,46.419309],[91.025828,46.444057],[91.038147,46.500936],[91.060937,46.516999],[91.079415,46.558989],[91.068328,46.579149],[91.017821,46.58244],[91.036299,46.670393],[91.054161,46.717598],[91.019053,46.766402],[90.992567,46.769682],[90.992567,46.790583],[90.942676,46.82581],[90.958075,46.879425],[90.929742,46.893331],[90.92235,46.938707],[90.901408,46.960768],[90.830575,46.995883],[90.767134,46.992617],[90.691989,47.080717],[90.653801,47.111681],[90.579888,47.198364],[90.56141,47.206903],[90.521374,47.2845],[90.488113,47.317374],[90.526301,47.379007],[90.507823,47.400076],[90.468403,47.404937],[90.459164,47.43895],[90.474562,47.462422],[90.468403,47.497611],[90.398186,47.547724],[90.376012,47.603036],[90.346447,47.637324],[90.384635,47.644179],[90.331665,47.681663],[90.216484,47.70543],[90.180144,47.72516],[90.13518,47.723147],[90.07605,47.777469],[90.070506,47.820483],[90.086521,47.86547],[90.066195,47.883534],[90.040941,47.874704],[89.960253,47.885942],[89.957789,47.842982],[89.86971,47.834144],[89.761921,47.835751],[89.735435,47.89758],[89.651052,47.913627],[89.645508,47.947711],[89.595617,47.973359],[89.599313,48.015811],[89.569132,48.037825],[89.498299,48.02822],[89.38127,48.046227],[89.359712,48.026219],[89.308589,48.021816],[89.282104,47.994189],[89.231597,47.98017],[89.156452,47.996992],[89.078228,47.98698],[89.044967,48.009806],[89.027105,48.051028],[88.953808,48.090618],[88.939026,48.115396],[88.824461,48.107005],[88.79736,48.133772],[88.721599,48.160526],[88.700657,48.180881],[88.668628,48.171303],[88.638447,48.183674],[88.601491,48.221567],[88.594716,48.259831],[88.575006,48.277757],[88.605803,48.337863],[88.573774,48.351785],[88.573158,48.369679],[88.535586,48.368884],[88.523267,48.403461],[88.503557,48.412996],[88.462289,48.392335],[88.438267,48.393528],[88.360659,48.433251],[88.363123,48.460641],[88.318159,48.478497],[88.229464,48.498329],[88.196819,48.493967],[88.151855,48.526478],[88.130297,48.521721],[88.10874,48.545895],[88.041602,48.548272],[87.973233,48.575997],[87.96153,48.599353],[88.010805,48.618742],[88.02682,48.65315],[88.089645,48.69504],[88.090877,48.71992],[88.064392,48.712813],[88.029283,48.750313],[87.96153,48.773588],[87.93874,48.757809],[87.872219,48.799612],[87.826639,48.800795],[87.803234,48.824835],[87.829103,48.825623],[87.792147,48.849258],[87.78106,48.872094],[87.742256,48.881146],[87.760118,48.925992],[87.793995,48.927565],[87.814321,48.945256],[87.87653,48.949186],[87.871603,48.963726],[87.911639,48.979833],[87.883922,48.993971],[87.883306,49.023806],[87.835263,49.054406],[87.858052,49.07362],[87.844502,49.090084],[87.867291,49.108892],[87.845733,49.146096],[87.82048,49.148445],[87.821096,49.173883],[87.793379,49.18249],[87.762582,49.172709],[87.700372,49.175839],[87.67635,49.15549],[87.602437,49.152359],[87.563017,49.142572],[87.517438,49.145704],[87.49588,49.132001],[87.511894,49.10184],[87.43675,49.075188],[87.388707,49.097921],[87.304939,49.112418],[87.239033,49.114376],[87.211932,49.140615],[87.112766,49.15549],[87.088128,49.133567],[87.000049,49.142572],[86.953853,49.131218],[86.887948,49.132001],[86.854071,49.109284],[86.84976,49.066563],[86.836209,49.051269],[86.772151,49.02773],[86.732115,48.994757],[86.730267,48.959797],[86.757985,48.894919],[86.782006,48.887049],[86.821426,48.850439],[86.818963,48.831139],[86.770303,48.810255],[86.754289,48.78463],[86.780774,48.731369],[86.771535,48.717156],[86.70255,48.666195],[86.693311,48.64366],[86.640956,48.629027],[86.635413,48.612016],[86.594761,48.576789],[86.579978,48.538763],[86.416138,48.481671],[86.38103,48.49357],[86.305269,48.491984],[86.270161,48.452307],[86.225813,48.432456],[86.053966,48.441192],[85.916612,48.438015],[85.791576,48.418954],[85.758315,48.403064],[85.695489,48.335078],[85.695489,48.302445],[85.678243,48.266205],[85.633895,48.232731],[85.622193,48.202824],[85.587084,48.191654],[85.576613,48.15853],[85.55136,48.127781],[85.551975,48.081423],[85.531649,48.046227],[85.547048,48.008205],[85.617881,47.550552],[85.614801,47.498015],[85.685018,47.428829],[85.701649,47.384275],[85.675779,47.321837],[85.701033,47.28856],[85.682555,47.249982],[85.682555,47.222757],[85.641903,47.18413],[85.582772,47.142626],[85.547048,47.096609],[85.545816,47.057891],[85.441106,47.063191],[85.355491,47.054629],[85.325926,47.044842],[85.276651,47.068898],[85.213825,47.041172],[85.175637,46.997924],[85.102956,46.968936],[85.082014,46.939933],[84.987159,46.918272],[84.979768,46.883106],[84.95513,46.861013],[84.934188,46.863878],[84.867051,46.927673],[84.849189,46.957092],[84.781435,46.979962],[84.748175,47.009759],[84.699515,47.008535],[84.668718,46.995067],[84.563393,46.991801],[84.506726,46.97302],[84.425422,47.008943],[84.37122,46.993434],[84.336727,47.00527],[84.2893,46.994658],[84.195061,47.003638],[84.150098,46.977512],[84.086656,46.965261],[84.038613,46.973428],[84.002888,46.990576],[83.951765,46.98731],[83.932671,46.970161],[83.88586,46.982003],[83.766367,47.026896],[83.69923,47.015472],[83.700462,47.032199],[83.576042,47.059114],[83.566803,47.080717],[83.53847,47.083977],[83.463325,47.132042],[83.418978,47.119012],[83.370318,47.178436],[83.324739,47.167858],[83.306261,47.179656],[83.257602,47.173147],[83.221877,47.186977],[83.207094,47.213814],[83.17445,47.218286],[83.15474,47.236168],[83.108544,47.221944],[83.02724,47.21544],[83.031552,47.168265],[82.993364,47.065229],[82.937929,47.014248],[82.923762,46.932169],[82.876335,46.823762],[82.878183,46.797138],[82.829524,46.772551],[82.788872,46.677784],[82.774089,46.600124],[82.726662,46.494756],[82.609017,46.294985],[82.518474,46.153798],[82.461808,45.97982],[82.401446,45.972333],[82.342932,45.935303],[82.336156,45.882418],[82.349707,45.822811],[82.340468,45.772742],[82.289961,45.71636],[82.288729,45.655321],[82.266555,45.620172],[82.281954,45.53891],[82.448257,45.461309],[82.546808,45.426038],[82.60101,45.346178],[82.58746,45.224069],[82.562822,45.204676],[82.487061,45.181058],[82.344779,45.219011],[82.294272,45.247669],[82.206809,45.236713],[82.109491,45.211422],[82.091012,45.222383],[82.09594,45.249776],[82.052824,45.255674],[81.993078,45.237978],[81.921013,45.233342],[81.879745,45.284314],[81.832318,45.319673],[81.78797,45.3836],[81.677101,45.35459],[81.645072,45.359216],[81.582863,45.336503],[81.575471,45.30789],[81.536667,45.304101],[81.52866,45.285999],[81.462754,45.264099],[81.437501,45.28263],[81.398697,45.275471],[81.382066,45.257781],[81.327864,45.260729],[81.284748,45.23882],[81.236705,45.247248],[81.175111,45.227863],[81.170183,45.211001],[81.111669,45.218168],[81.080872,45.182745],[81.024821,45.162916],[80.966307,45.168402],[80.93551,45.160384],[80.897938,45.127459],[80.862214,45.127037],[80.816634,45.152788],[80.731634,45.156164],[80.686055,45.129148],[80.599207,45.105921],[80.519135,45.108878],[80.493882,45.127037],[80.445839,45.097895],[80.443991,45.077614],[80.404571,45.049293],[80.358375,45.040836],[80.328194,45.070007],[80.291854,45.06578],[80.24381,45.031532],[80.195767,45.030686],[80.144644,45.059017],[80.136021,45.041259],[80.111999,45.052675],[80.060876,45.026033],[80.056565,45.011227],[79.98142,44.964244],[79.951855,44.957892],[79.944464,44.937985],[79.887798,44.90917],[79.969102,44.877797],[79.953703,44.849377],[79.991891,44.830281],[79.999283,44.793768],[80.087978,44.817122],[80.115695,44.815424],[80.169898,44.84471],[80.18776,44.825612],[80.178521,44.796741],[80.200695,44.756808],[80.238883,44.7228],[80.313412,44.704938],[80.400259,44.628751],[80.411962,44.605321],[80.350368,44.484615],[80.383013,44.401297],[80.399027,44.30587],[80.413194,44.264741],[80.400875,44.198704],[80.407034,44.149772],[80.3941,44.127009],[80.449534,44.078017],[80.458773,44.047054],[80.457541,43.981203],[80.485259,43.95579],[80.475404,43.938124],[80.511128,43.906657],[80.522215,43.816473],[80.75504,43.494329],[80.761199,43.446554],[80.746417,43.439167],[80.735946,43.389609],[80.686055,43.333916],[80.69283,43.32042],[80.777214,43.308227],[80.769207,43.265535],[80.788917,43.242433],[80.789533,43.201876],[80.804315,43.178314],[80.79446,43.137277],[80.752576,43.148194],[80.73225,43.131163],[80.706997,43.143828],[80.650946,43.147321],[80.593048,43.133347],[80.556092,43.104515],[80.482795,43.06955],[80.416889,43.05687],[80.378701,43.031502],[80.397795,42.996933],[80.487106,42.948766],[80.5912,42.923354],[80.602903,42.894424],[80.503737,42.882146],[80.450766,42.861971],[80.407034,42.834767],[80.338049,42.831695],[80.280151,42.838278],[80.262289,42.828623],[80.259209,42.790865],[80.225948,42.713083],[80.228412,42.692852],[80.179753,42.670415],[80.163738,42.629919],[80.180985,42.590718],[80.221637,42.533415],[80.265368,42.502097],[80.225948,42.485769],[80.206238,42.431462],[80.239499,42.389927],[80.229028,42.358536],[80.283847,42.320493],[80.272144,42.281984],[80.29247,42.259842],[80.28631,42.233261],[80.233339,42.210215],[80.168666,42.200462],[80.163738,42.152563],[80.139717,42.151232],[80.16805,42.096635],[80.193303,42.081535],[80.14218,42.03488],[80.089826,42.047325],[79.923522,42.042436],[79.852689,42.015319],[79.854537,41.984186],[79.822508,41.963275],[79.776313,41.89248],[79.724574,41.896935],[79.640806,41.884907],[79.616784,41.856385],[79.550879,41.834094],[79.500988,41.835432],[79.457256,41.847915],[79.415372,41.836769],[79.356242,41.795735],[79.326061,41.809565],[79.276786,41.78101],[79.271858,41.767174],[79.21704,41.725648],[79.138199,41.722968],[79.10925,41.697503],[79.043345,41.681414],[79.021787,41.657273],[78.99407,41.664427],[78.957729,41.65146],[78.891824,41.597777],[78.86657,41.593749],[78.825302,41.560173],[78.739071,41.555695],[78.696571,41.54181],[78.707042,41.522098],[78.675629,41.50238],[78.650375,41.467411],[78.580774,41.481759],[78.527188,41.440947],[78.454507,41.412228],[78.391681,41.408189],[78.385522,41.394721],[78.338094,41.397415],[78.324544,41.384395],[78.235232,41.399211],[78.163783,41.383497],[78.149617,41.368228],[78.165015,41.340825],[78.136682,41.279239],[78.129291,41.228398],[78.094798,41.224347],[77.972842,41.173013],[77.905089,41.185174],[77.836104,41.153189],[77.814546,41.13426],[77.807155,41.091876],[77.829328,41.059394],[77.796068,41.049014],[77.780669,41.022832],[77.737553,41.032313],[77.684583,41.00793],[77.654402,41.016059],[77.597119,41.005221],[77.591576,40.992122],[77.540453,41.006575],[77.476395,40.999349],[77.473931,41.022832],[77.415417,41.038633],[77.363062,41.04089],[77.296541,41.004769],[77.236795,41.027798],[77.169041,41.009285],[77.108063,41.038181],[77.091433,41.062553],[77.023064,41.059394],[77.002122,41.073381],[76.940528,41.028701],[76.885709,41.027347],[76.85368,40.97631],[76.817956,40.975406],[76.761905,40.954167],[76.741579,40.912119],[76.731724,40.818887],[76.693536,40.779472],[76.646725,40.759983],[76.646725,40.73686],[76.676906,40.696036],[76.654732,40.652917],[76.657196,40.620218],[76.611,40.601591],[76.601145,40.578868],[76.556798,40.542495],[76.543247,40.513837],[76.539551,40.464226],[76.508754,40.429613],[76.470566,40.422779],[76.442233,40.391336],[76.390494,40.37766],[76.381871,40.39088],[76.333212,40.343459],[76.327668,40.391336],[76.283321,40.415034],[76.279625,40.439179],[76.22419,40.401819],[76.176147,40.381307],[76.144118,40.393615],[76.081293,40.39635],[76.048648,40.388601],[76.048648,40.357141],[76.026474,40.355317],[75.986438,40.381763],[75.932235,40.339353],[75.921764,40.291439],[75.890351,40.30924],[75.84046,40.312434],[75.831221,40.327492],[75.785642,40.301025],[75.739446,40.299199],[75.709265,40.280939],[75.688323,40.343915],[75.669845,40.363982],[75.686475,40.418223],[75.717272,40.443278],[75.733287,40.474242],[75.646439,40.516567],[75.631041,40.548862],[75.627345,40.605226],[75.636584,40.624306],[75.599628,40.659727],[75.550353,40.64883],[75.467817,40.599773],[75.432093,40.563412],[75.355716,40.537947],[75.292274,40.483802],[75.268869,40.483802],[75.242383,40.448743],[75.206659,40.447833],[75.13521,40.463315],[75.102565,40.44009],[75.051442,40.449654],[75.021877,40.466958],[74.995392,40.455119],[74.963363,40.464681],[74.891914,40.507467],[74.844486,40.521117],[74.819233,40.505647],[74.814921,40.461039],[74.795211,40.443278],[74.908544,40.338897],[74.862965,40.32658],[74.824776,40.344371],[74.700357,40.346195],[74.697893,40.310153],[74.673255,40.278656],[74.618437,40.27957],[74.577169,40.260391],[74.534669,40.207851],[74.485394,40.182251],[74.433039,40.13148],[74.356662,40.089371],[74.316626,40.106767],[74.280902,40.09807],[74.26304,40.125074],[74.126301,40.104479],[74.113366,40.086624],[74.023439,40.085251],[74.008041,40.050901],[73.943367,40.016076],[73.980324,40.004617],[73.910722,39.934443],[73.907027,39.873843],[73.845433,39.831115],[73.841737,39.756163],[73.905795,39.741899],[73.924273,39.722108],[73.953838,39.600018],[73.916266,39.586644],[73.914418,39.564041],[73.883621,39.540969],[73.893476,39.528046],[73.868223,39.482794],[73.836194,39.472169],[73.745651,39.462005],[73.6471,39.474479],[73.61076,39.465702],[73.592898,39.412087],[73.502355,39.383877],[73.554094,39.350102],[73.554709,39.295935],[73.542391,39.269531],[73.564564,39.266288],[73.580579,39.237555],[73.623079,39.235237],[73.639709,39.220402],[73.657571,39.166136],[73.688368,39.154999],[73.719781,39.108112],[73.720397,39.071881],[73.743187,39.029588],[73.780143,39.026798],[73.820179,39.041674],[73.839889,39.008199],[73.846665,38.962145],[73.826339,38.916993],[73.767824,38.941202],[73.742571,38.933754],[73.70931,38.893241],[73.699455,38.857832],[73.729636,38.837324],[73.769056,38.775765],[73.757353,38.719755],[73.809092,38.634256],[73.799237,38.610878],[73.852208,38.584217],[73.89902,38.579071],[73.926121,38.536016],[74.011736,38.52478],[74.034526,38.541634],[74.090577,38.542102],[74.068403,38.585621],[74.088113,38.610878],[74.11275,38.611345],[74.147859,38.676785],[74.229779,38.656224],[74.353583,38.655757],[74.421952,38.647812],[74.455829,38.632853],[74.506336,38.637528],[74.546988,38.607604],[74.613509,38.593105],[74.639995,38.599653],[74.717603,38.542102],[74.78474,38.538357],[74.821697,38.491062],[74.862965,38.484035],[74.868508,38.403883],[74.834015,38.361193],[74.789668,38.324581],[74.806914,38.285602],[74.793363,38.271039],[74.816769,38.215576],[74.80445,38.167128],[74.821697,38.10311],[74.879595,38.021122],[74.92579,38.01735],[74.911008,37.966884],[74.919015,37.908357],[74.936877,37.876241],[74.917167,37.845057],[74.989848,37.797783],[75.006478,37.770823],[74.949196,37.725395],[74.923327,37.717347],[74.920863,37.684675],[74.891914,37.668097],[74.940573,37.559061],[75.000935,37.53059],[75.002167,37.511604],[75.035428,37.500685],[75.078543,37.511129],[75.090862,37.486915],[75.129666,37.459367],[75.153072,37.414223],[75.125971,37.388075],[75.140137,37.355258],[75.125971,37.322427],[75.078543,37.318144],[75.018181,37.293867],[74.927022,37.277678],[74.911008,37.233378],[74.816153,37.216699],[74.800139,37.248147],[74.753943,37.281011],[74.727458,37.282916],[74.665864,37.23576],[74.642458,37.261485],[74.598727,37.258151],[74.578401,37.231472],[74.54514,37.2491],[74.511263,37.240048],[74.477387,37.19954],[74.487858,37.161871],[74.465068,37.147085],[74.496481,37.116072],[74.498944,37.072155],[74.530357,37.082182],[74.56793,37.032512],[74.617205,37.043499],[74.632603,37.066425],[74.70898,37.084569],[74.739161,37.028212],[74.792747,37.027257],[74.806914,37.054485],[74.84695,37.056873],[74.84387,37.0134],[74.86974,36.990458],[74.893762,36.939772],[74.938725,36.94312],[74.927638,36.978029],[75.005862,36.99476],[75.032348,37.016745],[75.063145,37.006231],[75.172166,37.013877],[75.16847,36.991892],[75.244847,36.963207],[75.288579,36.974682],[75.345861,36.960816],[75.413614,36.954599],[75.396368,36.904367],[75.430245,36.873255],[75.434556,36.83303],[75.425933,36.778883],[75.458578,36.720861],[75.504773,36.743404],[75.536802,36.729975],[75.537418,36.773131],[75.588541,36.762584],[75.634121,36.771693],[75.724048,36.750597],[75.8072,36.707908],[75.871257,36.666636],[75.947018,36.590752],[75.924228,36.566242],[75.991981,36.505654],[76.035097,36.409386],[75.991365,36.35205],[75.998757,36.312034],[76.055423,36.252695],[76.060967,36.225182],[76.011691,36.229044],[76.016619,36.165294],[75.96796,36.159013],[75.936547,36.13485],[75.949482,36.070056],[75.982742,36.031347],[76.028322,36.016827],[76.044336,36.026991],[76.097307,36.022635],[76.117017,35.975186],[76.16506,35.908807],[76.146582,35.839946],[76.160133,35.82442],[76.221727,35.823449],[76.228502,35.837035],[76.298719,35.841401],[76.365857,35.82442],[76.369552,35.86323],[76.431762,35.851589],[76.471798,35.886021],[76.51553,35.881173],[76.55803,35.923347],[76.59745,35.895718],[76.579587,35.866625],[76.587595,35.840431],[76.566037,35.819082],[76.593754,35.771996],[76.69292,35.747714],[76.769297,35.653917],[76.848753,35.668018],[76.906651,35.615005],[76.967013,35.591649],[76.99781,35.611113],[77.072339,35.591162],[77.093281,35.569746],[77.195527,35.519103],[77.307628,35.540533],[77.331649,35.530793],[77.355055,35.494257],[77.396939,35.467942],[77.451758,35.46063],[77.518895,35.482075],[77.578025,35.47574],[77.590344,35.460143],[77.639619,35.45478],[77.657481,35.477689],[77.690742,35.448443],[77.735706,35.461605],[77.757879,35.497181],[77.797299,35.491334],[77.816394,35.518616],[77.85643,35.487436],[77.870596,35.495232],[77.914944,35.465017],[77.917408,35.490847],[77.951284,35.478664],[78.009799,35.491821],[78.029509,35.469404],[78.048603,35.491334],[78.140378,35.494745],[78.113892,35.466967],[78.107117,35.437229],[78.046755,35.384063],[78.013494,35.366008],[78.020885,35.315237],[78.01719,35.228267],[78.060306,35.180344],[78.062769,35.114772],[78.078784,35.100084],[78.124979,35.108407],[78.150849,35.069721],[78.123131,35.036897],[78.160704,34.990823],[78.201972,34.974642],[78.182262,34.936874],[78.206283,34.891726],[78.237696,34.882398],[78.230921,34.776288],[78.21429,34.760556],[78.213059,34.717771],[78.267261,34.705472],[78.265413,34.651335],[78.280812,34.623269],[78.346101,34.60406],[78.397224,34.605538],[78.427405,34.594207],[78.436029,34.543942],[78.492695,34.578441],[78.542586,34.574499],[78.559832,34.55725],[78.562912,34.51288],[78.58139,34.505483],[78.634977,34.538026],[78.708274,34.522249],[78.715049,34.502031],[78.758781,34.481807],[78.742766,34.45467],[78.809288,34.432955],[78.878273,34.391481],[78.899831,34.354929],[78.958961,34.386049],[78.973128,34.362833],[79.039649,34.33467],[79.048888,34.348506],[79.0107,34.399877],[79.039033,34.421601],[79.072294,34.412714],[79.161605,34.441345],[79.179467,34.422588],[79.241677,34.415183],[79.274322,34.435916],[79.326677,34.44332],[79.363017,34.428018],[79.435082,34.447761],[79.504683,34.45467],[79.545335,34.476381],[79.58106,34.456151],[79.675914,34.451216],[79.699936,34.477861],[79.735661,34.471447],[79.801566,34.478847],[79.861312,34.528166],[79.84345,34.55725],[79.88595,34.642965],[79.866856,34.671517],[79.906892,34.683821],[79.898268,34.732035],[79.947544,34.821008],[79.926602,34.849499],[79.961094,34.862759],[79.996819,34.856375],[80.003594,34.895162],[80.034391,34.902033],[80.041782,34.943252],[80.02392,34.971209],[80.04363,35.022196],[80.031311,35.034447],[80.078123,35.076578],[80.118159,35.066293],[80.23026,35.147565],[80.223484,35.177409],[80.257977,35.203331],[80.362687,35.20871],[80.267832,35.295701],[80.286926,35.35283],[80.321419,35.38699],[80.375006,35.387966],[80.432904,35.449418],[80.444607,35.417235],[80.514824,35.391869],[80.532686,35.404553],[80.56841,35.391381],[80.599823,35.409431],[80.65649,35.393821],[80.690982,35.364544],[80.689135,35.339162],[80.759968,35.334768],[80.844351,35.345508],[80.894242,35.324027],[80.924423,35.330862],[80.963844,35.310842],[81.026053,35.31133],[81.002648,35.334768],[81.030981,35.337209],[81.031597,35.380648],[81.054387,35.402602],[81.09935,35.40748],[81.103662,35.386015],[81.142466,35.365032],[81.191741,35.36552],[81.219458,35.319144],[81.26627,35.322562],[81.285364,35.345508],[81.314313,35.337209],[81.363588,35.354783],[81.385762,35.335256],[81.441196,35.333303],[81.447972,35.318167],[81.504638,35.279092],[81.513261,35.23511],[81.68634,35.235599],[81.736847,35.26248],[81.804601,35.270786],[81.853876,35.25857],[81.927789,35.271275],[81.955506,35.307423],[81.99123,35.30547],[82.030034,35.321585],[82.05344,35.35039],[82.029419,35.426013],[82.034346,35.451855],[82.071302,35.450393],[82.086701,35.467454],[82.164925,35.495719],[82.189563,35.513258],[82.234526,35.520565],[82.263475,35.547837],[82.2992,35.544916],[82.328149,35.559523],[82.350323,35.611113],[82.336156,35.651486],[82.392823,35.656349],[82.424852,35.712736],[82.468583,35.717595],[82.501844,35.701073],[82.546192,35.708362],[82.628727,35.692324],[82.652133,35.67288],[82.731589,35.637868],[82.780249,35.666073],[82.795031,35.688436],[82.873871,35.688922],[82.894813,35.673852],[82.967494,35.667532],[82.956407,35.636409],[82.981661,35.599922],[82.971806,35.548324],[82.998907,35.484512],[83.067892,35.46258],[83.088834,35.425526],[83.127022,35.398699],[83.178145,35.38943],[83.251442,35.417722],[83.280391,35.401138],[83.333978,35.397236],[83.405427,35.380648],[83.449159,35.382111],[83.502745,35.360639],[83.540318,35.364056],[83.54155,35.341603],[83.599448,35.351366],[83.622238,35.335256],[83.677672,35.361128],[83.785462,35.36308],[83.79778,35.354783],[83.885244,35.367472],[83.906186,35.40309],[84.005968,35.422599],[84.077417,35.400163],[84.095895,35.362592],[84.140859,35.379184],[84.160569,35.359663],[84.200605,35.381135],[84.274517,35.404065],[84.333032,35.413821],[84.424191,35.466479],[84.45314,35.473303],[84.475929,35.516181],[84.448828,35.550272],[84.513502,35.564391],[84.570168,35.588242],[84.628067,35.595055],[84.704443,35.616951],[84.729081,35.613546],[84.798066,35.647595],[84.920022,35.696213],[84.973608,35.709334],[84.99455,35.737028],[85.053065,35.752086],[85.146071,35.742371],[85.271107,35.788989],[85.341324,35.753543],[85.373969,35.700101],[85.518715,35.680658],[85.566142,35.6403],[85.612953,35.651486],[85.65299,35.731199],[85.691178,35.751114],[85.811286,35.778794],[85.835308,35.771996],[85.903677,35.78462],[85.949256,35.778794],[86.035488,35.846738],[86.05335,35.842857],[86.090306,35.876809],[86.093386,35.906868],[86.129111,35.941761],[86.150668,36.00424],[86.173458,36.008113],[86.199944,36.047801],[86.182081,36.064734],[86.187625,36.130983],[86.248603,36.141616],[86.2794,36.170608],[86.35824,36.168676],[86.392733,36.206834],[86.454943,36.221319],[86.515305,36.205385],[86.531935,36.227113],[86.599072,36.222285],[86.69947,36.24449],[86.746282,36.291777],[86.836209,36.291294],[86.86331,36.299977],[86.887332,36.262829],[86.931064,36.265242],[86.943998,36.284058],[86.996353,36.308658],[87.051788,36.2966],[87.08628,36.310587],[87.149106,36.297565],[87.161425,36.325535],[87.193454,36.349158],[87.292004,36.358797],[87.348055,36.393008],[87.363453,36.420463],[87.386859,36.412757],[87.426895,36.42576],[87.460155,36.409868],[87.470626,36.354459],[87.570409,36.342409],[87.6203,36.360243],[87.731785,36.384818],[87.767509,36.3747],[87.826023,36.391563],[87.838342,36.383855],[87.919646,36.39349],[87.95845,36.408423],[87.983088,36.437797],[88.006494,36.430575],[88.092109,36.43539],[88.134609,36.427205],[88.182652,36.452721],[88.222688,36.447426],[88.241782,36.468605],[88.282434,36.470049],[88.366202,36.458016],[88.356963,36.477268],[88.41055,36.473418],[88.470912,36.48208],[88.498629,36.446463],[88.573158,36.461386],[88.618121,36.428168],[88.623665,36.389636],[88.690186,36.367954],[88.766563,36.292259],[88.783809,36.291777],[88.802903,36.33807],[88.838628,36.353496],[88.870657,36.348193],[88.926091,36.36458],[88.964279,36.318785],[89.013554,36.315409],[89.054822,36.291777],[89.10225,36.281164],[89.126887,36.254626],[89.198952,36.260417],[89.232213,36.295636],[89.292575,36.231457],[89.335075,36.23725],[89.375727,36.228078],[89.490291,36.151281],[89.594385,36.126632],[89.614711,36.109712],[89.711414,36.093272],[89.766848,36.073925],[89.819819,36.080697],[89.914058,36.079246],[89.941159,36.067637],[89.944855,36.140649],[89.997825,36.168193],[90.019999,36.213594],[90.028006,36.258486],[90.003369,36.278752],[90.043405,36.276822],[90.058188,36.255591],[90.145651,36.239181],[90.130252,36.2078],[90.198006,36.187516],[90.23681,36.160462],[90.325505,36.159496],[90.424055,36.133883],[90.478258,36.13195],[90.534925,36.147899],[90.613149,36.126632],[90.659344,36.13485],[90.776373,36.086501],[90.815793,36.035703],[90.850285,36.016827],[90.922966,36.028927],[90.979017,36.106811],[91.081263,36.088436],[91.124994,36.115514],[91.09235,36.163844],[91.096045,36.219871],[91.051698,36.238215],[91.07264,36.299012],[91.026444,36.323607],[91.051698,36.433946],[91.028292,36.443093],[91.039995,36.474861],[91.035683,36.529703],[91.011662,36.539801],[90.905104,36.560474],[90.831191,36.55807],[90.810865,36.585466],[90.741264,36.585947],[90.72217,36.620058],[90.730793,36.655594],[90.706156,36.658955],[90.720938,36.708868],[90.754815,36.721341],[90.727098,36.755872],[90.732025,36.825844],[90.758511,36.825844],[90.853981,36.915373],[90.924198,36.921115],[90.983944,36.913459],[91.036915,36.929727],[91.051698,36.96751],[91.126842,36.978507],[91.133618,37.007665],[91.181045,37.025345],[91.216153,37.010054],[91.303617,37.012444],[91.291298,37.042544],[91.303617,37.083136],[91.286371,37.105095],[91.280211,37.163779],[91.1909,37.205737],[91.194596,37.273868],[91.134849,37.324331],[91.136081,37.355734],[91.113292,37.387124],[91.099741,37.447965],[91.073256,37.475992],[91.019669,37.493088],[90.958075,37.477891],[90.911879,37.519674],[90.865684,37.53059],[90.882314,37.575664],[90.854597,37.604117],[90.820104,37.613599],[90.777605,37.648672],[90.643946,37.696988],[90.586663,37.703144],[90.579272,37.720661],[90.519526,37.730601],[90.516446,38.207111],[90.531229,38.319886],[90.401882,38.311434],[90.361846,38.300163],[90.352607,38.233441],[90.280542,38.238142],[90.137644,38.340543],[90.179528,38.396848],[90.129636,38.400131],[90.111774,38.418889],[90.111774,38.477945],[90.130868,38.494341],[90.248513,38.491531],[90.315034,38.501835],[90.353222,38.482162],[90.427135,38.493873],[90.465323,38.521971],[90.463476,38.556611],[90.525685,38.561291],[90.560794,38.593573],[90.608837,38.594508],[90.606374,38.610878],[90.645794,38.635191],[90.619308,38.664636],[90.65996,38.674449],[90.724634,38.658094],[90.899561,38.679588],[90.970394,38.697806],[90.992567,38.695003],[91.188436,38.73096],[91.242639,38.752433],[91.298689,38.746365],[91.446515,38.813546],[91.501333,38.815411],[91.681188,38.852706],[91.694738,38.86622],[91.806223,38.872744],[91.87952,38.884391],[91.880752,38.899297],[91.966368,38.930961],[92.10865,38.963541],[92.173323,38.960749],[92.197961,38.983548],[92.263866,39.002153],[92.380279,38.999828],[92.416003,39.010524],[92.41046,39.03842],[92.366728,39.059335],[92.366112,39.096037],[92.343938,39.146181],[92.339011,39.236628],[92.378431,39.258411],[92.52564,39.368611],[92.639589,39.514196],[92.687632,39.657174],[92.745531,39.868331],[92.796654,40.153897],[92.906907,40.310609],[92.920458,40.391792],[92.928465,40.572504],[93.506216,40.648376],[93.760599,40.664721],[93.820961,40.793519],[93.809874,40.879548],[93.908424,40.983539],[94.01067,41.114875],[94.184365,41.268444],[94.534219,41.505966],[94.750413,41.538227],[94.809543,41.619256],[94.861898,41.668451],[94.969072,41.718948],[95.011572,41.726541],[95.110738,41.768513],[95.135991,41.772976],[95.16494,41.735474],[95.199433,41.719395],[95.194505,41.694821],[95.247476,41.61344],[95.299831,41.565994],[95.335556,41.644305],[95.39407,41.693481],[95.445193,41.719841],[95.57146,41.796181],[95.65646,41.826067],[95.759322,41.835878],[95.801206,41.848361],[95.855408,41.849699],[95.998306,41.906289],[96.054973,41.936124],[96.117183,41.985966],[96.137509,42.019765],[96.13874,42.05399],[96.077147,42.149457],[96.178161,42.21775],[96.040806,42.326688],[96.042038,42.352787],[96.06606,42.414674],[95.978596,42.436762],[96.0174,42.482239],[96.02356,42.542675],[96.072219,42.569566],[96.103632,42.604375],[96.166458,42.623314],[96.386348,42.727592]]]]}},{"type":"Feature","properties":{"adcode":710000,"name":"\u53F0\u6E7E\u7701","center":[121.509062,25.044332],"centroid":[120.971485,23.749452],"childrenNum":0,"level":"province","parent":{"adcode":100000},"subFeatureIndex":31,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[120.443706,22.441432],[120.517619,22.408793],[120.569973,22.361757],[120.640806,22.241605],[120.659285,22.154056],[120.661748,22.067007],[120.651277,22.033171],[120.667908,21.983235],[120.701784,21.927174],[120.743052,21.915515],[120.781857,21.923843],[120.854537,21.883309],[120.873016,21.897191],[120.86624,21.984345],[120.907508,22.033171],[120.912436,22.086418],[120.903197,22.12634],[120.914899,22.302525],[120.981421,22.528248],[121.014682,22.584069],[121.03316,22.650914],[121.078739,22.669691],[121.170514,22.723247],[121.21055,22.770711],[121.237652,22.836362],[121.276456,22.877171],[121.324499,22.945526],[121.35468,23.00999],[121.370695,23.084334],[121.409499,23.1025],[121.430441,23.137175],[121.415042,23.196047],[121.440296,23.271937],[121.479716,23.322507],[121.497578,23.419744],[121.5216,23.483431],[121.522832,23.538858],[121.587505,23.760878],[121.621382,23.920718],[121.65957,24.007125],[121.63986,24.064514],[121.643556,24.097843],[121.678048,24.133895],[121.689135,24.174303],[121.809243,24.339083],[121.82649,24.423572],[121.867758,24.47914],[121.88562,24.529784],[121.892395,24.617953],[121.86283,24.671261],[121.841272,24.734329],[121.844968,24.836476],[121.933047,24.938539],[122.012503,25.001471],[121.98109,25.030757],[121.947214,25.031841],[121.917033,25.138076],[121.841888,25.135367],[121.782142,25.160287],[121.745186,25.161912],[121.707613,25.191701],[121.700222,25.226896],[121.655259,25.242054],[121.62323,25.29455],[121.585041,25.309159],[121.53515,25.307535],[121.444607,25.27074],[121.413194,25.238806],[121.371926,25.159746],[121.319572,25.140785],[121.209318,25.12724],[121.132942,25.078466],[121.102145,25.075214],[121.024537,25.040517],[121.009754,24.993878],[120.961095,24.940167],[120.914899,24.864715],[120.89211,24.767482],[120.82374,24.688118],[120.762147,24.658208],[120.68885,24.600542],[120.642654,24.490033],[120.589068,24.43229],[120.546568,24.370159],[120.520698,24.311816],[120.470807,24.242533],[120.451713,24.182493],[120.391967,24.118055],[120.316206,23.984708],[120.278018,23.92783],[120.245989,23.840276],[120.175156,23.807427],[120.102476,23.701162],[120.095084,23.58768],[120.12157,23.504836],[120.108019,23.341191],[120.081534,23.291728],[120.018708,23.073322],[120.029795,23.048544],[120.133272,23.000625],[120.149287,22.896468],[120.20041,22.721039],[120.274323,22.560307],[120.297112,22.531565],[120.443706,22.441432]]],[[[124.542782,25.903886],[124.584666,25.908731],[124.566804,25.941563],[124.542782,25.903886]]],[[[123.445178,25.726102],[123.469816,25.712623],[123.50862,25.722867],[123.512316,25.755212],[123.479055,25.768687],[123.445794,25.749822],[123.445178,25.726102]]],[[[119.646064,23.550928],[119.691028,23.547087],[119.678093,23.600294],[119.61034,23.604132],[119.601717,23.575613],[119.566608,23.584937],[119.562297,23.530627],[119.578927,23.502641],[119.609108,23.503738],[119.646064,23.550928]]],[[[123.666916,25.914114],[123.706952,25.91519],[123.689706,25.939949],[123.666916,25.914114]]],[[[119.506246,23.625518],[119.506246,23.577259],[119.47237,23.556962],[119.519181,23.559705],[119.52534,23.62497],[119.506246,23.625518]]],[[[119.497623,23.38679],[119.495159,23.349982],[119.516717,23.349982],[119.497623,23.38679]]],[[[119.557369,23.666634],[119.608492,23.620035],[119.615268,23.661153],[119.586318,23.675952],[119.557369,23.666634]]],[[[122.066706,25.6247],[122.087032,25.61067],[122.092575,25.639268],[122.066706,25.6247]]],[[[121.468013,22.67687],[121.474788,22.643734],[121.513592,22.631582],[121.514824,22.676318],[121.468013,22.67687]]],[[[121.510513,22.086972],[121.507433,22.048704],[121.533918,22.022076],[121.594281,21.995443],[121.604752,22.022631],[121.575186,22.037055],[121.575802,22.0842],[121.510513,22.086972]]],[[[122.097503,25.499987],[122.110438,25.465952],[122.122141,25.495666],[122.097503,25.499987]]],[[[119.421247,23.216949],[119.436029,23.186146],[119.453275,23.216399],[119.421247,23.216949]]],[[[120.355011,22.327439],[120.395663,22.342385],[120.383344,22.355669],[120.355011,22.327439]]]]}},{"type":"Feature","properties":{"adcode":810000,"name":"\u9999\u6E2F\u7279\u522B\u884C\u653F\u533A","center":[114.173355,22.320048],"centroid":[114.134357,22.377366],"childrenNum":18,"level":"province","parent":{"adcode":100000},"subFeatureIndex":32,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[114.031778,22.503923],[114.000981,22.491206],[113.977575,22.45692],[113.918445,22.418199],[113.920293,22.367845],[113.951706,22.355116],[113.956633,22.359543],[113.980039,22.366185],[114.026234,22.34792],[113.955401,22.298649],[113.969568,22.321349],[113.898119,22.308615],[113.889496,22.271514],[113.8433,22.229418],[113.84946,22.191188],[113.899351,22.215568],[113.935691,22.205041],[113.981271,22.229972],[113.996669,22.206149],[114.026234,22.229418],[114.004676,22.239389],[114.02993,22.263207],[114.034857,22.300864],[114.069966,22.326885],[114.121089,22.320795],[114.145726,22.300864],[114.120473,22.272068],[114.164821,22.226648],[114.200545,22.232188],[114.203009,22.206703],[114.265835,22.200608],[114.248588,22.274837],[114.262139,22.294773],[114.284929,22.263761],[114.313262,22.264315],[114.315726,22.299203],[114.315726,22.299756],[114.278153,22.328546],[114.283081,22.386661],[114.322501,22.385554],[114.323117,22.385554],[114.323733,22.385001],[114.323733,22.384447],[114.356994,22.340171],[114.394566,22.361757],[114.385327,22.41156],[114.406269,22.432582],[114.406269,22.433688],[114.376088,22.436454],[114.325581,22.479041],[114.278769,22.435901],[114.220255,22.427603],[114.205473,22.449729],[114.23319,22.466875],[114.2529,22.445304],[114.340979,22.50337],[114.309566,22.497288],[114.28924,22.52272],[114.263987,22.541515],[114.263371,22.541515],[114.260291,22.547595],[114.232574,22.528801],[114.232574,22.539857],[114.222719,22.553122],[114.166052,22.559201],[114.156813,22.543726],[114.095219,22.534329],[114.082285,22.512216],[114.031778,22.503923]]],[[[114.142647,22.213906],[114.123553,22.238836],[114.120473,22.177888],[114.154965,22.177888],[114.166668,22.205041],[114.142647,22.213906]]],[[[114.305871,22.372273],[114.313878,22.340724],[114.332972,22.353455],[114.305255,22.372826],[114.305871,22.372273]]],[[[114.320037,22.381127],[114.323733,22.384447],[114.323733,22.385001],[114.323117,22.385554],[114.322501,22.385554],[114.319421,22.382234],[114.320037,22.38168],[114.320037,22.381127]]],[[[114.305871,22.369506],[114.305871,22.372273],[114.305255,22.372826],[114.305871,22.369506]]],[[[114.315726,22.299203],[114.316958,22.298649],[114.316342,22.30031],[114.315726,22.299756],[114.315726,22.299203]]],[[[114.319421,22.382234],[114.320037,22.381127],[114.320037,22.38168],[114.319421,22.382234]]],[[[114.372392,22.32301],[114.373008,22.323564],[114.372392,22.323564],[114.372392,22.32301]]],[[[114.323733,22.297541],[114.324349,22.297541],[114.323733,22.298095],[114.323733,22.297541]]]]}},{"type":"Feature","properties":{"adcode":820000,"name":"\u6FB3\u95E8\u7279\u522B\u884C\u653F\u533A","center":[113.54909,22.198951],"centroid":[113.566988,22.159307],"childrenNum":8,"level":"province","parent":{"adcode":100000},"subFeatureIndex":33,"acroutes":[100000]},"geometry":{"type":"MultiPolygon","coordinates":[[[[113.554425,22.107489],[113.6037,22.132438],[113.575983,22.194513],[113.558736,22.212244],[113.53841,22.209473],[113.534715,22.174009],[113.554425,22.142416],[113.554425,22.107489]]],[[[113.586453,22.201162],[113.575983,22.201162],[113.575983,22.194513],[113.586453,22.201162]]]]}},{"type":"Feature","properties":{"name":"","adchar":"JD","adcode":"100000_JD"},"geometry":{"type":"MultiPolygon","coordinates":[[[[122.51865306,23.46078502],[122.79861399,24.57367379],[122.79889322,24.57678999],[122.79819583,24.57983997],[122.79659008,24.58252516],[122.79423315,24.58458272],[122.79135575,24.58581125],[122.78823955,24.58609049],[122.78518957,24.5853931],[122.78250438,24.58378734],[122.78044682,24.58143041],[122.77921829,24.57855302],[122.49925737,23.46566424],[122.49897813,23.46254804],[122.49967552,23.45949807],[122.50128127,23.45681287],[122.5036382,23.45475531],[122.5065156,23.45352678],[122.50963181,23.45324755],[122.51268178,23.45394494],[122.51536697,23.45555069],[122.51742454,23.45790762],[122.51865306,23.46078502]]],[[[121.17202617,20.8054593],[121.90938804,21.68743347],[121.9109946,21.69011818],[121.91169291,21.69316794],[121.91141462,21.69628423],[121.91018696,21.699162],[121.9081301,21.70151955],[121.9054454,21.70312611],[121.90239563,21.70382443],[121.89927934,21.70354613],[121.89640158,21.70231847],[121.89404403,21.70026162],[121.15668216,20.81828744],[121.1550756,20.81560273],[121.15437729,20.81255297],[121.15465558,20.80943668],[121.15588324,20.80655891],[121.1579401,20.80420136],[121.1606248,20.8025948],[121.16367457,20.80189649],[121.16679085,20.80217478],[121.16966862,20.80340244],[121.17202617,20.8054593]]],[[[119.47366172,18.00707291],[120.02569734,19.02403788],[120.02674143,19.02698721],[120.02682302,19.03011484],[120.02593412,19.0331146],[120.02416175,19.03569286],[120.02167941,19.03759723],[120.01873007,19.03864132],[120.01560245,19.03872291],[120.01260269,19.03783401],[120.01002443,19.03606165],[120.00812005,19.0335793],[119.45608443,18.01661433],[119.45504035,18.01366499],[119.45495876,18.01053737],[119.45584765,18.00753761],[119.45762002,18.00495935],[119.46010237,18.00305497],[119.4630517,18.00201089],[119.46617933,18.0019293],[119.46917909,18.0028182],[119.47175735,18.00459056],[119.47366172,18.00707291]]],[[[119.0726757,15.04098494],[119.0726757,16.04388528],[119.07218626,16.04697545],[119.07076587,16.04976313],[119.06855355,16.05197545],[119.06576587,16.05339584],[119.0626757,16.05388528],[119.05958553,16.05339584],[119.05679784,16.05197545],[119.05458553,16.04976313],[119.05316513,16.04697545],[119.0526757,16.04388528],[119.0526757,15.04105889],[119.0521839,15.00781004],[119.05262758,15.00471297],[119.05400659,15.00190458],[119.05618595,14.99965979],[119.05895232,14.99819832],[119.06203491,14.99766324],[119.06513198,14.99810691],[119.06794036,14.99948592],[119.07018516,15.00166528],[119.07164663,15.00443165],[119.07218171,15.00751424],[119.0726746,15.04083704],[119.0726757,15.04098494]]],[[[118.68646749,11.18959191],[118.52518702,10.91547751],[118.52404181,10.91256595],[118.52385237,10.909443],[118.52463726,10.90641436],[118.52631962,10.9037765],[118.5287348,10.90178762],[118.53164636,10.90064241],[118.53476931,10.90045298],[118.53779795,10.90123786],[118.54043581,10.90292022],[118.54242469,10.9053354],[118.70409227,11.18010771],[118.70476212,11.18147468],[118.87431591,11.606662],[118.87459939,11.60747236],[118.98894963,11.98573108],[118.98937534,11.98883067],[118.9888224,11.99191011],[118.98734492,11.99466796],[118.98508753,11.99683427],[118.98227119,11.99819697],[118.9791716,11.99862269],[118.97609216,11.99806975],[118.97333431,11.99659227],[118.97116801,11.99433487],[118.9698053,11.99151854],[118.85557939,11.6136711],[118.68646749,11.18959191]]],[[[115.54466883,7.14672265],[116.2504858,7.979279],[116.25211077,7.98195261],[116.25283001,7.9849975],[116.25257312,7.98811563],[116.25136525,7.99100176],[116.24932463,7.99337338],[116.24665102,7.99499834],[116.24360613,7.99571758],[116.240488,7.99546069],[116.23760187,7.99425282],[116.23523025,7.99221221],[115.52941328,7.15965587],[115.52778832,7.15698226],[115.52706908,7.15393736],[115.52732596,7.15081924],[115.52853383,7.1479331],[115.53057445,7.14556148],[115.53324806,7.14393652],[115.53629295,7.14321728],[115.53941108,7.14347417],[115.54229721,7.14468204],[115.54466883,7.14672265]]],[[[112.30705249,3.53487257],[111.78690114,3.41687263],[111.78399583,3.41571167],[111.78159146,3.41370973],[111.77992341,3.41106279],[111.77915495,3.40802995],[111.77936129,3.40490807],[111.78052226,3.40200275],[111.78252419,3.39959839],[111.78517113,3.39793033],[111.78820398,3.39716187],[111.79132585,3.39736822],[112.31181658,3.51544515],[112.31248917,3.51562254],[112.52147408,3.5785908],[112.52281386,3.57910186],[112.85206367,3.73256867],[112.85465776,3.7343178],[112.85658437,3.73678292],[112.85765492,3.73972276],[112.85776462,3.74284952],[112.85690272,3.74585715],[112.8551536,3.74845124],[112.85268847,3.75037785],[112.84974864,3.7514484],[112.84662187,3.75155809],[112.84361424,3.7506962],[112.51501594,3.59753306],[112.30705249,3.53487257]]],[[[108.26055972,6.08912451],[108.29013305,6.01266273],[108.29170425,6.00995718],[108.29403462,6.00786957],[108.29689603,6.00660426],[108.3000084,6.00628511],[108.30306706,6.00694335],[108.30577262,6.00851455],[108.30786022,6.01084492],[108.30912553,6.01370633],[108.30944469,6.0168187],[108.30878645,6.01987736],[108.279563,6.09543449],[108.25611734,6.22752625],[108.21679964,6.53816468],[108.21876335,6.94964057],[108.24419535,7.07390742],[108.24433543,7.07703297],[108.24350281,7.08004883],[108.24177899,7.0826598],[108.2393327,7.08461028],[108.23640341,7.08570936],[108.23327786,7.08584944],[108.230262,7.08501682],[108.22765103,7.083293],[108.22570055,7.08084671],[108.22460147,7.07791743],[108.19897125,6.95268198],[108.1987683,6.95072469],[108.19679674,6.53760583],[108.19687578,6.53630242],[108.23630689,6.22476797],[108.23638164,6.22427602],[108.26004031,6.09098419],[108.26055972,6.08912451]]],[[[110.12822847,11.36894451],[110.05553696,11.25335394],[110.05430621,11.25047749],[110.05402458,11.2473615],[110.05471962,11.24431099],[110.05632331,11.24162456],[110.05867865,11.23956519],[110.0615551,11.23833444],[110.06467109,11.23805281],[110.0677216,11.23874785],[110.07040803,11.24035153],[110.07246741,11.24270688],[110.14541497,11.35870461],[110.14588682,11.35954163],[110.20700505,11.48128846],[110.20728377,11.48189306],[110.25854422,11.60358735],[110.25901765,11.60499559],[110.30436343,11.7826124],[110.30456934,11.78364161],[110.32822801,11.94571326],[110.32832827,11.94685414],[110.33424294,12.14159753],[110.33424553,12.14210167],[110.33227398,12.24038351],[110.33172267,12.24346324],[110.33024665,12.24622187],[110.3279904,12.24838938],[110.32517479,12.24975358],[110.32207543,12.25018094],[110.3189957,12.24962962],[110.31623706,12.2481536],[110.31406956,12.24589736],[110.31270536,12.24308175],[110.312278,12.23998238],[110.3142445,12.14195265],[110.3083549,11.94803461],[110.28485499,11.78705054],[110.23982347,11.61066468],[110.18898148,11.48996382],[110.12822847,11.36894451]]],[[[109.82951587,15.22896754],[109.84522534,15.15316562],[109.84633168,15.15023907],[109.84828823,15.14779763],[109.85090347,15.14608029],[109.85392139,15.14525516],[109.85704658,15.145403],[109.85997314,15.14650935],[109.86241457,15.1484659],[109.86413191,15.15108113],[109.86495704,15.15409906],[109.8648092,15.15722425],[109.84903675,15.23333003],[109.84889209,15.23393326],[109.78974541,15.45068337],[109.7892391,15.45210582],[109.69066131,15.67432448],[109.6900529,15.67548445],[109.59147511,15.83677407],[109.59116145,15.8372556],[109.53201478,15.92259221],[109.53166592,15.92306523],[109.30888011,16.20725797],[109.30658844,16.20938798],[109.30375073,16.21070558],[109.30064474,16.21108179],[109.29757451,16.21047978],[109.29484059,16.20895848],[109.29271057,16.20666681],[109.29139298,16.2038291],[109.29101677,16.20072311],[109.29161878,16.19765288],[109.29314007,16.19491896],[109.51574449,15.91095759],[109.57455994,15.82609887],[109.67264555,15.66561455],[109.77065019,15.44468789],[109.82951587,15.22896754]]]]}}]}'),nr=F(98529),xe=F(65517),ge=F(69573),ye=F(38241),Cq=F(2723),zt=F.n(Cq),Qt=F(43677),ze=F(72986),Ue=F(80793),ne=F(52124),g6t=F(14299),Vn=F(11488),R5=F.n(Vn),Ze=F(31331),Sq=F(82615),ve={IEventEmitter:Symbol.for("IEventEmitter"),ISceneService:Symbol.for("ISceneService"),IGlobalConfigService:Symbol.for("IGlobalConfigService"),ICameraService:Symbol.for("ICameraService"),ICoordinateSystemService:Symbol.for("ICoordinateSystemService"),ILayerService:Symbol.for("ILayerService"),IDebugService:Symbol.for("IDebugService"),ILayerMappingService:Symbol.for("ILayerMappingService"),ILayerStyleService:Symbol.for("ILayerStyleService"),IMapService:Symbol.for("IMapService"),IMarkerService:Symbol.for("IMarkerService"),IPopupService:Symbol.for("PopupService"),IFactoryMapService:Symbol.for("Factory<IMapService>"),IRendererService:Symbol.for("IRendererService"),IShaderModuleService:Symbol.for("IShaderModuleService"),IIconService:Symbol.for("IIconService"),IFontService:Symbol.for("IFontService"),IInteractionService:Symbol.for("IInteractionService"),IPickingService:Symbol.for("IPickingService"),IControlService:Symbol.for("IControlService"),IStyleAttributeService:Symbol.for("IStyleAttributeService"),ILayer:Symbol.for("ILayer"),ILayerPlugin:Symbol.for("ILayerPlugin"),INormalPass:Symbol.for("INormalPass"),IPostProcessor:Symbol.for("IPostProcessor"),IPostProcessingPass:Symbol.for("IPostProcessingPass"),IFactoryPostProcessingPass:Symbol.for("Factory<IPostProcessingPass>"),IFactoryNormalPass:Symbol.for("Factory<IFactoryNormalPass>"),IMultiPassRenderer:Symbol.for("IMultiPassRenderer"),SceneID:Symbol.for("SceneID"),MapConfig:Symbol.for("MapConfig")},xm=F(65341);function bq(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var Aq=F(81358);function L0(e,r,t){return(0,Aq.Z)()?L0=Reflect.construct.bind():L0=function(i,a,o){var s=[null];s.push.apply(s,a);var u=Function.bind.apply(i,s),l=new u;return o&&(0,xm.Z)(l,o.prototype),l},L0.apply(null,arguments)}function D5(e){var r=typeof Map=="function"?new Map:void 0;return D5=function(n){if(n===null||!bq(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r!="undefined"){if(r.has(n))return r.get(n);r.set(n,i)}function i(){return L0(n,arguments,(0,ne.Z)(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),(0,xm.Z)(i,n)},D5(e)}var gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function B5(e){this.message=e}B5.prototype=new Error,B5.prototype.name="InvalidCharacterError";function Mq(e){var r=String(e).replace(/=+$/,"");if(r.length%4===1)throw new B5("'atob' failed: The string to be decoded is not correctly encoded.");for(var t="",n=0,i,a,o=0;a=r.charAt(o++);~a&&(i=n%4?i*64+a:a,n++%4)?t+=String.fromCharCode(255&i>>(-2*n&6)):0)a=gu.indexOf(a);return t}function _m(e){e=String(e);for(var r,t,n,i,a="",o=0,s=e.length%3;o<e.length;){if((t=e.charCodeAt(o++))>255||(n=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");r=t<<16|n<<8|i,a+=gu.charAt(r>>18&63)+gu.charAt(r>>12&63)+gu.charAt(r>>6&63)+gu.charAt(r&63)}return s?a.slice(0,s-3)+"===".substring(s):a}var Tq=function(){function e(r,t){(0,ge.Z)(this,e),this.buffers=r,this.type=t}return(0,ye.Z)(e,[{key:"arraybuffer",value:function(){return Promise.resolve(this.buffers[0])}},{key:"stream",value:function(){throw new Error("not implemented")}},{key:"text",value:function(){throw new Error("not implemented")}},{key:"slice",value:function(t,n,i){throw new Error("not implemented")}}]),e}(),N5,wq=function(){return N5||(N5=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof F.g!="undefined"?F.g:{})};N5=wq();var Yi;typeof window=="undefined"?Yi={devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(r){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(r){return null},clearMeasures:function(r){return null},clearMarks:function(r){return null},measure:function(r,t,n){return{duration:0}},now:function(){return new Date().getTime()}},Blob:"",dispatchEvent:function(r){return!0},Event:function(r,t){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:Yi=window;var Fq=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,kq=Fq?my.getSystemInfoSync().pixelRatio:Yi.devicePixelRatio,yu=(0,ye.Z)(function e(r,t){(0,ge.Z)(this,e),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=r,this.timeStamp=Date.now()});function Oq(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Lq(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function Lq(e,r){if(e){if(typeof e=="string")return Em(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Em(e,r)}}function Em(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var mu=new WeakMap,Z5=function(){function e(){(0,ge.Z)(this,e),mu.set(this,{})}return(0,ye.Z)(e,[{key:"addEventListener",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=mu.get(this);a||(a={}),a[t]||(a[t]=[]),a[t].push(n),mu.set(this,a),i.capture,i.once,i.passive}},{key:"removeEventListener",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=mu.get(this);if(a){var o=a[t];if(o&&o.length>0){for(var s=o.length;s--;s>0)if(o[s]===n){o.splice(s,1);break}}}}},{key:"dispatchEvent",value:function(t){var n=mu.get(this)[t.type];if(n){var i=Oq(n),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o(t)}}catch(s){i.e(s)}finally{i.f()}}}}]),e}();function Iq(e){var r=Pq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Pq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Cm=function(e){(0,ze.Z)(t,e);var r=Iq(t);function t(){var n;return(0,ge.Z)(this,t),n=r.call(this),n.childNodes=[],n}return(0,ye.Z)(t,[{key:"appendChild",value:function(i){this.childNodes.push(i)}},{key:"cloneNode",value:function(){var i=Object.create(this);return Object.assign(i,this),i}},{key:"removeChild",value:function(i){var a=this.childNodes.findIndex(function(o){return o===i});return a>-1?this.childNodes.splice(a,1):null}}]),t}(Z5);function Rq(e){var r=Dq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Dq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Sm=function(e){(0,ze.Z)(t,e);var r=Rq(t);function t(){var n;return(0,ge.Z)(this,t),n=r.call(this),n.className="",n.children=[],n}return(0,ye.Z)(t,[{key:"setAttribute",value:function(i,a){this[i]=a}},{key:"getAttribute",value:function(i){return this[i]}},{key:"setAttributeNS",value:function(i,a){this[i]=a}},{key:"getAttributeNS",value:function(i){return this[i]}}]),t}(Cm),Bq=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,z5,U5,H5,V5;if(Bq){var m3=my.getSystemInfoSync();z5=m3.screenWidth,U5=m3.screenHeight,H5=m3.windowWidth,V5=m3.windowHeight}else{var bm=Yi.innerWidth,Am=Yi.innerHeight;z5=bm,U5=Am,H5=bm,V5=Am}var xu={width:z5,height:U5,availWidth:H5,availHeight:V5,availLeft:0,availTop:0},x3=xu.availWidth,_3=xu.availHeight,Mm={style:[]};function Tm(e,r){if(!("parentNode"in e)){var t;r===0?t=function(){return null}:r===1?t=function(){return Mm}:t=function(){return null},Object.defineProperty(e,"parentNode",{enumerable:!0,get:t})}if(!("parentElement"in e)){var n;r===0?n=function(){return null}:r===1?n=function(){return Mm}:n=function(){return null},Object.defineProperty(e,"parentElement",{enumerable:!0,get:n})}}function Nq(e){e.style=e.style||{},Object.assign(e.style,{top:"0px",left:"0px",width:x3+"px",height:_3+"px",margin:"0px",padding:"0px"})}function Zq(e){"clientLeft"in e||(e.clientLeft=0,e.clientTop=0),"clientWidth"in e||(e.clientWidth=x3,e.clientHeight=_3),"getBoundingClientRect"in e||(e.getBoundingClientRect=function(){var r={x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight};return r})}function zq(e){"offsetLeft"in e||(e.offsetLeft=0,e.offsetTop=0),"offsetWidth"in e||(e.offsetWidth=x3,e.offsetHeight=_3)}function Uq(e){"scrollLeft"in e||(e.scrollLeft=0,e.scrollTop=0),"scrollWidth"in e||(e.scrollWidth=x3,e.scrollHeight=_3)}function wm(e){var r=function(){return!0};e.classList=[],e.classList.add=r,e.classList.remove=r,e.classList.contains=r,e.classList.toggle=r}function Hq(e){var r=Vq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Vq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function I0(){}var P0=function(e){(0,ze.Z)(t,e);var r=Hq(t);function t(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return(0,ge.Z)(this,t),n=r.call(this),n.className="",n.children=[],n.focus=I0,n.blur=I0,n.insertBefore=I0,n.appendChild=I0,n.removeChild=I0,n.remove=I0,n.innerHTML="",n.tagName=i.toUpperCase(),Tm((0,Qt.Z)(n),a),Nq((0,Qt.Z)(n)),wm((0,Qt.Z)(n)),Zq((0,Qt.Z)(n)),zq((0,Qt.Z)(n)),Uq((0,Qt.Z)(n)),n}return(0,ye.Z)(t)}(Sm);function Gq(e){var r=jq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function jq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Fm=function(e){(0,ze.Z)(t,e);var r=Gq(t);function t(n){return(0,ge.Z)(this,t),r.call(this,n)}return(0,ye.Z)(t,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),t}(P0);function Wq(e){var r=Yq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Yq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var km=function(e){(0,ze.Z)(t,e);var r=Wq(t);function t(){return(0,ge.Z)(this,t),r.call(this,"video")}return(0,ye.Z)(t)}(Fm),Ei={},Xi={};function y6t(e,r){Ei=e,Ei.id=r,"tagName"in Ei||(Ei.tagName="CANVAS"),Ei.type="canvas",Mixin.parentNode(Ei),Mixin.style(Ei),Mixin.classList(Ei),Mixin.clientRegion(Ei),Mixin.offsetRegion(Ei),Ei.focus=function(){},Ei.blur=function(){}}function m6t(e,r){var t=1024,n=1024;Xi={width:t,height:n,clientWidth:t/devicePixelRatio,clientHeight:n/devicePixelRatio,id:r,type:"canvas"},"tagName"in Xi||(Xi.tagName="CANVAS"),Mixin.parentNode(Xi),Mixin.style(Xi),Mixin.classList(Xi),Mixin.clientRegion(Xi),Mixin.offsetRegion(Xi),Xi.getContext=function(i){if(i==="2d")return e},Xi.focus=function(){},Xi.blur=function(){}}function Qa(){return Ei}function x6t(){return Xi}var Om=(0,ye.Z)(function e(){(0,ge.Z)(this,e);var r=Qa(),t=r.createImage&&r.createImage()||{};return"tagName"in t||(t.tagName="IMG",t.__proto__=e.prototype),Tm(t),wm(t),Object.assign(t,{addEventListener:function(i,a){t["on".concat(i)]=a.bind(t)},removeEventListener:function(i){t["on".concat(i)]=null}}),t}),Lm={href:"",protocol:"",host:""};function Im(e){var r=Xq();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Xq(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var $q=function(e){(0,ze.Z)(t,e);var r=Im(t);function t(){return(0,ge.Z)(this,t),r.call(this,"body",0)}return(0,ye.Z)(t,[{key:"addEventListener",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}}},{key:"removeEventListener",value:function(i,a,o){}},{key:"dispatchEvent",value:function(i){}}]),t}(P0),qq=function(e){(0,ze.Z)(t,e);var r=Im(t);function t(){return(0,ge.Z)(this,t),r.call(this,"html",0)}return(0,ye.Z)(t,[{key:"addEventListener",value:function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}}},{key:"removeEventListener",value:function(i,a){}},{key:"dispatchEvent",value:function(i){}}]),t}(P0),_u={},la={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:Lm,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(r){return r=r.toLowerCase(),r==="canvas"?my.createOffscreenCanvas(1024,128,"2d"):r==="img"?new Om:r==="video"?new km:new P0(r)},createElementNS:function(r,t){return this.createElement(t)},createTextNode:function(r){return r},getElementById:function(r){return null},getElementsByTagName:function(r){return r=r.toLowerCase(),[]},getElementsByTagNameNS:function(r,t){return this.getElementsByTagName(t)},getElementsByName:function(r){return[]},querySelector:function(r){return null},querySelectorAll:function(r){return[]},addEventListener:function(r,t,n){_u[r]||(_u[r]=[]),_u[r].push(t)},removeEventListener:function(r,t){var n=_u[r];if(n&&n.length>0){for(var i=n.length;i--;i>0)if(n[i]===t){n.splice(i,1);break}}},dispatchEvent:function(r){var t=r.type,n=_u[t];if(n)for(var i=0;i<n.length;i++)n[i](r);r.target&&typeof r.target["on"+t]=="function"&&r.target["on"+t](r)},createEvent:function(r){return new yu(r)}};la.documentElement=new qq,la.head=new P0("head"),la.body=new $q;var Kq=Object,Eu=F(45267),Qq=function(){function e(){(0,ge.Z)(this,e);var r=arguments.length;if(r===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){this._w=arguments[0],this._h=arguments[1],this._data=new Uint8ClampedArray(this._w*this._h*4);return}}else r===3&&(0,Eu.Z)(arguments[0])==="object"&&typeof arguments[1]=="number"&&typeof arguments[2]=="number"&&(this._data=arguments[0],this._w=arguments[1],this._h=arguments[2]);throw new Error("ImageData: params error")}return(0,ye.Z)(e,[{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}},{key:"data",get:function(){return this._data}}]),e}(),Jq=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,G5,li,E3;if(Jq){var j5=my.getSystemInfoSync();G5=j5.system,li=j5.platform,E3=j5.language}else{var Ci={versions:function(){var e=Yi.navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")===-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")===-1,weixin:e.indexOf("MicroMessenger")>-1,qq:e.match(/\sQQ/i)===" qq"}}(),language:(Yi.navigator.browserLanguage||Yi.navigator.language).toLowerCase()};Ci.versions.android?li="android":Ci.versions.trident?li="IE":Ci.versions.presto?li="Opera":Ci.versions.webKit?li="webKit":Ci.versions.gecko?li="Firefox":Ci.versions.mobile?li="mobile":Ci.versions.ios?li="ios":Ci.versions.iPhone?li="iPhone":Ci.versions.iPad?li="ipad":Ci.versions.webApp?li="webApp":Ci.versions.weixin?li="weixin":Ci.versions.qq&&(li="qq"),G5=Yi.navigator.userAgent,E3=Ci.language}var tK=G5.toLowerCase().indexOf("android")!==-1,Pm=tK?"Android; CPU Android 6.0":"iPhone; CPU iPhone OS 10_3_1 like Mac OS X",eK="Mozilla/5.0 (".concat(Pm,") AppleWebKit/603.1.30 (KHTML, like Gecko) Mobile/14E8301 MicroMessenger/6.6.0 MiniGame NetType/WIFI Language/").concat(E3),rK={platform:li,language:E3,appVersion:"5.0 (".concat(Pm,") AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143 Safari/601.1"),userAgent:eK},nK={mark:function(r){return null},clearMeasures:function(r){return null},clearMarks:function(r){return null},measure:function(r,t,n){return{duration:0}},now:function(){}},Rm=0,Dm=0;function iK(e){var r=Date.now(),t=Math.max(Rm+23,r);return Dm=setTimeout(function(){e(Rm=t)},t-r),Dm}function aK(e){var r=Qa();return r.requestAnimationFrame?r.requestAnimationFrame(e):iK(e)}function oK(e){var r=Qa();return r.cancelAnimationFrame?r.cancelAnimationFrame(e):clearTimeout(e)}var sK=function(){function e(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,ge.Z)(this,e),r.indexOf("http://")==0||r.indexOf("https://")==0){this.href=r;return}this.href=t+r}return(0,ye.Z)(e,null,[{key:"createObjectURL",value:function(t){var n=t.buffers[0],i=t.type,a=uK(n),o="data:".concat(i,";base64, ");return o+a}}]),e}();function uK(e){for(var r="",t=new Uint8Array(e),n=t.byteLength,i=0;i<n;i++)r+=String.fromCharCode(t[i]);return _m(r)}var lK={GCCSO_SHADER_BINARY_FJ:37472,_3DC_XY_AMD:34810,_3DC_X_AMD:34809,ACTIVE_ATTRIBUTES:35721,ACTIVE_ATTRIBUTE_MAX_LENGTH:35722,ACTIVE_PROGRAM_EXT:33369,ACTIVE_TEXTURE:34016,ACTIVE_UNIFORMS:35718,ACTIVE_UNIFORM_MAX_LENGTH:35719,ALIASED_LINE_WIDTH_RANGE:33902,ALIASED_POINT_SIZE_RANGE:33901,ALL_COMPLETED_NV:34034,ALL_SHADER_BITS_EXT:4294967295,ALPHA:6406,ALPHA16F_EXT:34844,ALPHA32F_EXT:34838,ALPHA8_EXT:32828,ALPHA8_OES:32828,ALPHA_BITS:3413,ALPHA_TEST_FUNC_QCOM:3009,ALPHA_TEST_QCOM:3008,ALPHA_TEST_REF_QCOM:3010,ALREADY_SIGNALED_APPLE:37146,ALWAYS:519,AMD_compressed_3DC_texture:1,AMD_compressed_ATC_texture:1,AMD_performance_monitor:1,AMD_program_binary_Z400:1,ANGLE_depth_texture:1,ANGLE_framebuffer_blit:1,ANGLE_framebuffer_multisample:1,ANGLE_instanced_arrays:1,ANGLE_pack_reverse_row_order:1,ANGLE_program_binary:1,ANGLE_texture_compression_dxt3:1,ANGLE_texture_compression_dxt5:1,ANGLE_texture_usage:1,ANGLE_translated_shader_source:1,ANY_SAMPLES_PASSED_CONSERVATIVE_EXT:36202,ANY_SAMPLES_PASSED_EXT:35887,APPLE_copy_texture_levels:1,APPLE_framebuffer_multisample:1,APPLE_rgb_422:1,APPLE_sync:1,APPLE_texture_format_BGRA8888:1,APPLE_texture_max_level:1,ARM_mali_program_binary:1,ARM_mali_shader_binary:1,ARM_rgba8:1,ARRAY_BUFFER:34962,ARRAY_BUFFER_BINDING:34964,ATC_RGBA_EXPLICIT_ALPHA_AMD:35987,ATC_RGBA_INTERPOLATED_ALPHA_AMD:34798,ATC_RGB_AMD:35986,ATTACHED_SHADERS:35717,BACK:1029,BGRA8_EXT:37793,BGRA_EXT:32993,BGRA_IMG:32993,BINNING_CONTROL_HINT_QCOM:36784,BLEND:3042,BLEND_COLOR:32773,BLEND_DST_ALPHA:32970,BLEND_DST_RGB:32968,BLEND_EQUATION:32777,BLEND_EQUATION_ALPHA:34877,BLEND_EQUATION_RGB:32777,BLEND_SRC_ALPHA:32971,BLEND_SRC_RGB:32969,BLUE_BITS:3412,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,BUFFER:33504,BUFFER_ACCESS_OES:35003,BUFFER_MAPPED_OES:35004,BUFFER_MAP_POINTER_OES:35005,BUFFER_OBJECT_EXT:37201,BUFFER_SIZE:34660,BUFFER_USAGE:34661,BYTE:5120,CCW:2305,CLAMP_TO_BORDER_NV:33069,CLAMP_TO_EDGE:33071,COLOR_ATTACHMENT0:36064,COLOR_ATTACHMENT0_NV:36064,COLOR_ATTACHMENT10_NV:36074,COLOR_ATTACHMENT11_NV:36075,COLOR_ATTACHMENT12_NV:36076,COLOR_ATTACHMENT13_NV:36077,COLOR_ATTACHMENT14_NV:36078,COLOR_ATTACHMENT15_NV:36079,COLOR_ATTACHMENT1_NV:36065,COLOR_ATTACHMENT2_NV:36066,COLOR_ATTACHMENT3_NV:36067,COLOR_ATTACHMENT4_NV:36068,COLOR_ATTACHMENT5_NV:36069,COLOR_ATTACHMENT6_NV:36070,COLOR_ATTACHMENT7_NV:36071,COLOR_ATTACHMENT8_NV:36072,COLOR_ATTACHMENT9_NV:36073,COLOR_ATTACHMENT_EXT:37104,COLOR_BUFFER_BIT:16384,COLOR_BUFFER_BIT0_QCOM:1,COLOR_BUFFER_BIT1_QCOM:2,COLOR_BUFFER_BIT2_QCOM:4,COLOR_BUFFER_BIT3_QCOM:8,COLOR_BUFFER_BIT4_QCOM:16,COLOR_BUFFER_BIT5_QCOM:32,COLOR_BUFFER_BIT6_QCOM:64,COLOR_BUFFER_BIT7_QCOM:128,COLOR_CLEAR_VALUE:3106,COLOR_EXT:6144,COLOR_WRITEMASK:3107,COMPARE_REF_TO_TEXTURE_EXT:34894,COMPILE_STATUS:35713,COMPRESSED_RGBA_ASTC_10x10_KHR:37819,COMPRESSED_RGBA_ASTC_10x5_KHR:37816,COMPRESSED_RGBA_ASTC_10x6_KHR:37817,COMPRESSED_RGBA_ASTC_10x8_KHR:37818,COMPRESSED_RGBA_ASTC_12x10_KHR:37820,COMPRESSED_RGBA_ASTC_12x12_KHR:37821,COMPRESSED_RGBA_ASTC_4x4_KHR:37808,COMPRESSED_RGBA_ASTC_5x4_KHR:37809,COMPRESSED_RGBA_ASTC_5x5_KHR:37810,COMPRESSED_RGBA_ASTC_6x5_KHR:37811,COMPRESSED_RGBA_ASTC_6x6_KHR:37812,COMPRESSED_RGBA_ASTC_8x5_KHR:37813,COMPRESSED_RGBA_ASTC_8x6_KHR:37814,COMPRESSED_RGBA_ASTC_8x8_KHR:37815,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGBA_PVRTC_2BPPV2_IMG:37175,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_4BPPV2_IMG:37176,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_ANGLE:33778,COMPRESSED_RGBA_S3TC_DXT5_ANGLE:33779,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:37851,COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:37848,COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:37849,COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:37850,COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:37852,COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:37853,COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:37840,COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:37841,COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:37842,COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:37843,COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:37844,COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:37845,COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:37846,COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:37847,COMPRESSED_SRGB_ALPHA_S3TC_DXT1_NV:35917,COMPRESSED_SRGB_ALPHA_S3TC_DXT3_NV:35918,COMPRESSED_SRGB_ALPHA_S3TC_DXT5_NV:35919,COMPRESSED_SRGB_S3TC_DXT1_NV:35916,COMPRESSED_TEXTURE_FORMATS:34467,CONDITION_SATISFIED_APPLE:37148,CONSTANT_ALPHA:32771,CONSTANT_COLOR:32769,CONTEXT_FLAG_DEBUG_BIT:2,CONTEXT_ROBUST_ACCESS_EXT:37107,COUNTER_RANGE_AMD:35777,COUNTER_TYPE_AMD:35776,COVERAGE_ALL_FRAGMENTS_NV:36565,COVERAGE_ATTACHMENT_NV:36562,COVERAGE_AUTOMATIC_NV:36567,COVERAGE_BUFFERS_NV:36563,COVERAGE_BUFFER_BIT_NV:32768,COVERAGE_COMPONENT4_NV:36561,COVERAGE_COMPONENT_NV:36560,COVERAGE_EDGE_FRAGMENTS_NV:36566,COVERAGE_SAMPLES_NV:36564,CPU_OPTIMIZED_QCOM:36785,CULL_FACE:2884,CULL_FACE_MODE:2885,CURRENT_PROGRAM:35725,CURRENT_QUERY_EXT:34917,CURRENT_VERTEX_ATTRIB:34342,CW:2304,DEBUG_CALLBACK_FUNCTION:33348,DEBUG_CALLBACK_USER_PARAM:33349,DEBUG_GROUP_STACK_DEPTH:33389,DEBUG_LOGGED_MESSAGES:37189,DEBUG_NEXT_LOGGED_MESSAGE_LENGTH:33347,DEBUG_OUTPUT:37600,DEBUG_OUTPUT_SYNCHRONOUS:33346,DEBUG_SEVERITY_HIGH:37190,DEBUG_SEVERITY_LOW:37192,DEBUG_SEVERITY_MEDIUM:37191,DEBUG_SEVERITY_NOTIFICATION:33387,DEBUG_SOURCE_API:33350,DEBUG_SOURCE_APPLICATION:33354,DEBUG_SOURCE_OTHER:33355,DEBUG_SOURCE_SHADER_COMPILER:33352,DEBUG_SOURCE_THIRD_PARTY:33353,DEBUG_SOURCE_WINDOW_SYSTEM:33351,DEBUG_TYPE_DEPRECATED_BEHAVIOR:33357,DEBUG_TYPE_ERROR:33356,DEBUG_TYPE_MARKER:33384,DEBUG_TYPE_OTHER:33361,DEBUG_TYPE_PERFORMANCE:33360,DEBUG_TYPE_POP_GROUP:33386,DEBUG_TYPE_PORTABILITY:33359,DEBUG_TYPE_PUSH_GROUP:33385,DEBUG_TYPE_UNDEFINED_BEHAVIOR:33358,DECR:7683,DECR_WRAP:34056,DELETE_STATUS:35712,DEPTH24_STENCIL8_OES:35056,DEPTH_ATTACHMENT:36096,DEPTH_STENCIL_ATTACHMENT:33306,DEPTH_BITS:3414,DEPTH_BUFFER_BIT:256,DEPTH_BUFFER_BIT0_QCOM:256,DEPTH_BUFFER_BIT1_QCOM:512,DEPTH_BUFFER_BIT2_QCOM:1024,DEPTH_BUFFER_BIT3_QCOM:2048,DEPTH_BUFFER_BIT4_QCOM:4096,DEPTH_BUFFER_BIT5_QCOM:8192,DEPTH_BUFFER_BIT6_QCOM:16384,DEPTH_BUFFER_BIT7_QCOM:32768,DEPTH_CLEAR_VALUE:2931,DEPTH_COMPONENT:6402,DEPTH_COMPONENT16:33189,DEPTH_COMPONENT16_NONLINEAR_NV:36396,DEPTH_COMPONENT16_OES:33189,DEPTH_COMPONENT24_OES:33190,DEPTH_COMPONENT32_OES:33191,DEPTH_EXT:6145,DEPTH_FUNC:2932,DEPTH_RANGE:2928,DEPTH_STENCIL:34041,DEPTH_STENCIL_OES:34041,DEPTH_TEST:2929,DEPTH_WRITEMASK:2930,DITHER:3024,DMP_shader_binary:1,DONT_CARE:4352,DRAW_BUFFER0_NV:34853,DRAW_BUFFER10_NV:34863,DRAW_BUFFER11_NV:34864,DRAW_BUFFER12_NV:34865,DRAW_BUFFER13_NV:34866,DRAW_BUFFER14_NV:34867,DRAW_BUFFER15_NV:34868,DRAW_BUFFER1_NV:34854,DRAW_BUFFER2_NV:34855,DRAW_BUFFER3_NV:34856,DRAW_BUFFER4_NV:34857,DRAW_BUFFER5_NV:34858,DRAW_BUFFER6_NV:34859,DRAW_BUFFER7_NV:34860,DRAW_BUFFER8_NV:34861,DRAW_BUFFER9_NV:34862,DRAW_BUFFER_EXT:3073,DRAW_FRAMEBUFFER_ANGLE:36009,DRAW_FRAMEBUFFER_APPLE:36009,DRAW_FRAMEBUFFER_BINDING_ANGLE:36006,DRAW_FRAMEBUFFER_BINDING_APPLE:36006,DRAW_FRAMEBUFFER_BINDING_NV:36006,DRAW_FRAMEBUFFER_NV:36009,DST_ALPHA:772,DST_COLOR:774,DYNAMIC_DRAW:35048,ELEMENT_ARRAY_BUFFER:34963,ELEMENT_ARRAY_BUFFER_BINDING:34965,EQUAL:514,ES_VERSION_2_0:1,ETC1_RGB8_OES:36196,ETC1_SRGB8_NV:35054,EXTENSIONS:7939,EXT_blend_minmax:1,EXT_color_buffer_half_float:1,EXT_debug_label:1,EXT_debug_marker:1,EXT_discard_framebuffer:1,EXT_map_buffer_range:1,EXT_multi_draw_arrays:1,EXT_multisampled_render_to_texture:1,EXT_multiview_draw_buffers:1,EXT_occlusion_query_boolean:1,EXT_read_format_bgra:1,EXT_robustness:1,EXT_sRGB:1,EXT_separate_shader_objects:1,EXT_shader_framebuffer_fetch:1,EXT_shader_texture_lod:1,EXT_shadow_samplers:1,EXT_texture_compression_dxt1:1,EXT_texture_filter_anisotropic:1,EXT_texture_format_BGRA8888:1,EXT_texture_rg:1,EXT_texture_storage:1,EXT_texture_type_2_10_10_10_REV:1,EXT_unpack_subimage:1,FALSE:0,FASTEST:4353,FENCE_CONDITION_NV:34036,FENCE_STATUS_NV:34035,FIXED:5132,FJ_shader_binary_GCCSO:1,FLOAT:5126,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,FRAGMENT_SHADER:35632,FRAGMENT_SHADER_BIT_EXT:2,FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723,FRAGMENT_SHADER_DISCARDS_SAMPLES_EXT:35410,FRAMEBUFFER:36160,FRAMEBUFFER_ATTACHMENT_ANGLE:37795,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT:33297,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_TEXTURE_3D_ZOFFSET_OES:36052,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_SAMPLES_EXT:36204,FRAMEBUFFER_BINDING:36006,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_ANGLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_APPLE:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_EXT:36182,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_IMG:37172,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE_NV:36182,FRAMEBUFFER_UNDEFINED_OES:33305,FRAMEBUFFER_UNSUPPORTED:36061,FRONT:1028,FRONT_AND_BACK:1032,FRONT_FACE:2886,FUNC_ADD:32774,FUNC_REVERSE_SUBTRACT:32779,FUNC_SUBTRACT:32778,GENERATE_MIPMAP_HINT:33170,GEQUAL:518,GPU_OPTIMIZED_QCOM:36786,GREATER:516,GREEN_BITS:3411,GUILTY_CONTEXT_RESET_EXT:33363,HALF_FLOAT_OES:36193,HIGH_FLOAT:36338,HIGH_INT:36341,IMG_multisampled_render_to_texture:1,IMG_program_binary:1,IMG_read_format:1,IMG_shader_binary:1,IMG_texture_compression_pvrtc:1,IMG_texture_compression_pvrtc2:1,IMPLEMENTATION_COLOR_READ_FORMAT:35739,IMPLEMENTATION_COLOR_READ_TYPE:35738,INCR:7682,INCR_WRAP:34055,INFO_LOG_LENGTH:35716,INNOCENT_CONTEXT_RESET_EXT:33364,INT:5124,INT_10_10_10_2_OES:36343,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,INVALID_ENUM:1280,INVALID_FRAMEBUFFER_OPERATION:1286,INVALID_OPERATION:1282,INVALID_VALUE:1281,INVERT:5386,KEEP:7680,KHR_debug:1,KHR_texture_compression_astc_ldr:1,LEFT:1030,LEQUAL:515,LESS:513,LINEAR:9729,LINEAR_MIPMAP_LINEAR:9987,LINEAR_MIPMAP_NEAREST:9985,LINES:1,LINE_LOOP:2,LINE_STRIP:3,LINE_WIDTH:2849,LINK_STATUS:35714,LOSE_CONTEXT_ON_RESET_EXT:33362,LOW_FLOAT:36336,LOW_INT:36339,LUMINANCE:6409,LUMINANCE16F_EXT:34846,LUMINANCE32F_EXT:34840,LUMINANCE4_ALPHA4_OES:32835,LUMINANCE8_ALPHA8_EXT:32837,LUMINANCE8_ALPHA8_OES:32837,LUMINANCE8_EXT:32832,LUMINANCE8_OES:32832,LUMINANCE_ALPHA:6410,LUMINANCE_ALPHA16F_EXT:34847,LUMINANCE_ALPHA32F_EXT:34841,MALI_PROGRAM_BINARY_ARM:36705,MALI_SHADER_BINARY_ARM:36704,MAP_FLUSH_EXPLICIT_BIT_EXT:16,MAP_INVALIDATE_BUFFER_BIT_EXT:8,MAP_INVALIDATE_RANGE_BIT_EXT:4,MAP_READ_BIT_EXT:1,MAP_UNSYNCHRONIZED_BIT_EXT:32,MAP_WRITE_BIT_EXT:2,MAX_3D_TEXTURE_SIZE_OES:32883,MAX_COLOR_ATTACHMENTS_NV:36063,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_CUBE_MAP_TEXTURE_SIZE:34076,MAX_DEBUG_GROUP_STACK_DEPTH:33388,MAX_DEBUG_LOGGED_MESSAGES:37188,MAX_DEBUG_MESSAGE_LENGTH:37187,MAX_DRAW_BUFFERS_NV:34852,MAX_EXT:32776,MAX_FRAGMENT_UNIFORM_VECTORS:36349,MAX_LABEL_LENGTH:33512,MAX_MULTIVIEW_BUFFERS_EXT:37106,MAX_RENDERBUFFER_SIZE:34024,MAX_SAMPLES_ANGLE:36183,MAX_SAMPLES_APPLE:36183,MAX_SAMPLES_EXT:36183,MAX_SAMPLES_IMG:37173,MAX_SAMPLES_NV:36183,MAX_SERVER_WAIT_TIMEOUT_APPLE:37137,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047,MAX_TEXTURE_SIZE:3379,MAX_VARYING_VECTORS:36348,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VIEWPORT_DIMS:3386,MEDIUM_FLOAT:36337,MEDIUM_INT:36340,MIN_EXT:32775,MIRRORED_REPEAT:33648,MULTISAMPLE_BUFFER_BIT0_QCOM:16777216,MULTISAMPLE_BUFFER_BIT1_QCOM:33554432,MULTISAMPLE_BUFFER_BIT2_QCOM:67108864,MULTISAMPLE_BUFFER_BIT3_QCOM:134217728,MULTISAMPLE_BUFFER_BIT4_QCOM:268435456,MULTISAMPLE_BUFFER_BIT5_QCOM:536870912,MULTISAMPLE_BUFFER_BIT6_QCOM:1073741824,MULTISAMPLE_BUFFER_BIT7_QCOM:2147483648,MULTIVIEW_EXT:37105,NEAREST:9728,NEAREST_MIPMAP_LINEAR:9986,NEAREST_MIPMAP_NEAREST:9984,NEVER:512,NICEST:4354,NONE:0,NOTEQUAL:517,NO_ERROR:0,NO_RESET_NOTIFICATION_EXT:33377,NUM_COMPRESSED_TEXTURE_FORMATS:34466,NUM_PROGRAM_BINARY_FORMATS_OES:34814,NUM_SHADER_BINARY_FORMATS:36345,NV_coverage_sample:1,NV_depth_nonlinear:1,NV_draw_buffers:1,NV_draw_instanced:1,NV_fbo_color_attachments:1,NV_fence:1,NV_framebuffer_blit:1,NV_framebuffer_multisample:1,NV_generate_mipmap_sRGB:1,NV_instanced_arrays:1,NV_read_buffer:1,NV_read_buffer_front:1,NV_read_depth:1,NV_read_depth_stencil:1,NV_read_stencil:1,NV_sRGB_formats:1,NV_shadow_samplers_array:1,NV_shadow_samplers_cube:1,NV_texture_border_clamp:1,NV_texture_compression_s3tc_update:1,NV_texture_npot_2D_mipmap:1,OBJECT_TYPE_APPLE:37138,OES_EGL_image:1,OES_EGL_image_external:1,OES_compressed_ETC1_RGB8_texture:1,OES_compressed_paletted_texture:1,OES_depth24:1,OES_depth32:1,OES_depth_texture:1,OES_element_index_uint:1,OES_fbo_render_mipmap:1,OES_fragment_precision_high:1,OES_get_program_binary:1,OES_mapbuffer:1,OES_packed_depth_stencil:1,OES_required_internalformat:1,OES_rgb8_rgba8:1,OES_standard_derivatives:1,OES_stencil1:1,OES_stencil4:1,OES_surfaceless_context:1,OES_texture_3D:1,OES_texture_float:1,OES_texture_float_linear:1,OES_texture_half_float:1,OES_texture_half_float_linear:1,OES_texture_npot:1,OES_vertex_array_object:1,OES_vertex_half_float:1,OES_vertex_type_10_10_10_2:1,ONE:1,ONE_MINUS_CONSTANT_ALPHA:32772,ONE_MINUS_CONSTANT_COLOR:32770,ONE_MINUS_DST_ALPHA:773,ONE_MINUS_DST_COLOR:775,ONE_MINUS_SRC_ALPHA:771,ONE_MINUS_SRC_COLOR:769,OUT_OF_MEMORY:1285,PACK_ALIGNMENT:3333,PACK_REVERSE_ROW_ORDER_ANGLE:37796,PALETTE4_R5_G6_B5_OES:35730,PALETTE4_RGB5_A1_OES:35732,PALETTE4_RGB8_OES:35728,PALETTE4_RGBA4_OES:35731,PALETTE4_RGBA8_OES:35729,PALETTE8_R5_G6_B5_OES:35735,PALETTE8_RGB5_A1_OES:35737,PALETTE8_RGB8_OES:35733,PALETTE8_RGBA4_OES:35736,PALETTE8_RGBA8_OES:35734,PERCENTAGE_AMD:35779,PERFMON_GLOBAL_MODE_QCOM:36768,PERFMON_RESULT_AMD:35782,PERFMON_RESULT_AVAILABLE_AMD:35780,PERFMON_RESULT_SIZE_AMD:35781,POINTS:0,POLYGON_OFFSET_FACTOR:32824,POLYGON_OFFSET_FILL:32823,POLYGON_OFFSET_UNITS:10752,PROGRAM:33506,PROGRAM_BINARY_ANGLE:37798,PROGRAM_BINARY_FORMATS_OES:34815,PROGRAM_BINARY_LENGTH_OES:34625,PROGRAM_OBJECT_EXT:35648,PROGRAM_PIPELINE_BINDING_EXT:33370,PROGRAM_PIPELINE_OBJECT_EXT:35407,PROGRAM_SEPARABLE_EXT:33368,QCOM_alpha_test:1,QCOM_binning_control:1,QCOM_driver_control:1,QCOM_extended_get:1,QCOM_extended_get2:1,QCOM_perfmon_global_mode:1,QCOM_tiled_rendering:1,QCOM_writeonly_rendering:1,QUERY:33507,QUERY_OBJECT_EXT:37203,QUERY_RESULT_AVAILABLE_EXT:34919,QUERY_RESULT_EXT:34918,R16F_EXT:33325,R32F_EXT:33326,R8_EXT:33321,READ_BUFFER_EXT:3074,READ_BUFFER_NV:3074,READ_FRAMEBUFFER_ANGLE:36008,READ_FRAMEBUFFER_APPLE:36008,READ_FRAMEBUFFER_BINDING_ANGLE:36010,READ_FRAMEBUFFER_BINDING_APPLE:36010,READ_FRAMEBUFFER_BINDING_NV:36010,READ_FRAMEBUFFER_NV:36008,RED_BITS:3410,RED_EXT:6403,RENDERBUFFER:36161,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_BINDING:36007,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_SAMPLES_ANGLE:36011,RENDERBUFFER_SAMPLES_APPLE:36011,RENDERBUFFER_SAMPLES_EXT:36011,RENDERBUFFER_SAMPLES_IMG:37171,RENDERBUFFER_SAMPLES_NV:36011,RENDERBUFFER_STENCIL_SIZE:36181,RENDERBUFFER_WIDTH:36162,RENDERER:7937,RENDER_DIRECT_TO_FRAMEBUFFER_QCOM:36787,REPEAT:10497,REPLACE:7681,REQUIRED_TEXTURE_IMAGE_UNITS_OES:36200,RESET_NOTIFICATION_STRATEGY_EXT:33366,RG16F_EXT:33327,RG32F_EXT:33328,RG8_EXT:33323,RGB:6407,RGB10_A2_EXT:32857,RGB10_EXT:32850,RGB16F_EXT:34843,RGB32F_EXT:34837,RGB565:36194,RGB565_OES:36194,RGB5_A1:32855,RGB5_A1_OES:32855,RGB8_OES:32849,RGBA:6408,RGBA16F_EXT:34842,RGBA32F_EXT:34836,RGBA4:32854,RGBA4_OES:32854,RGBA8_OES:32856,RGB_422_APPLE:35359,RG_EXT:33319,RIGHT:1031,SAMPLER:33510,SAMPLER_2D:35678,SAMPLER_2D_ARRAY_SHADOW_NV:36292,SAMPLER_2D_SHADOW_EXT:35682,SAMPLER_3D_OES:35679,SAMPLER_CUBE:35680,SAMPLER_CUBE_SHADOW_NV:36293,SAMPLER_EXTERNAL_OES:36198,SAMPLES:32937,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_BUFFERS:32936,SAMPLE_COVERAGE:32928,SAMPLE_COVERAGE_INVERT:32939,SAMPLE_COVERAGE_VALUE:32938,SCISSOR_BOX:3088,SCISSOR_TEST:3089,SGX_BINARY_IMG:35850,SGX_PROGRAM_BINARY_IMG:37168,SHADER:33505,SHADER_BINARY_DMP:37456,SHADER_BINARY_FORMATS:36344,SHADER_BINARY_VIV:36804,SHADER_COMPILER:36346,SHADER_OBJECT_EXT:35656,SHADER_SOURCE_LENGTH:35720,SHADER_TYPE:35663,SHADING_LANGUAGE_VERSION:35724,SHORT:5122,SIGNALED_APPLE:37145,SLUMINANCE8_ALPHA8_NV:35909,SLUMINANCE8_NV:35911,SLUMINANCE_ALPHA_NV:35908,SLUMINANCE_NV:35910,SRC_ALPHA:770,SRC_ALPHA_SATURATE:776,SRC_COLOR:768,SRGB8_ALPHA8_EXT:35907,SRGB8_NV:35905,SRGB_ALPHA_EXT:35906,SRGB_EXT:35904,STACK_OVERFLOW:1283,STACK_UNDERFLOW:1284,STATE_RESTORE:35804,STATIC_DRAW:35044,STENCIL_ATTACHMENT:36128,STENCIL_BACK_FAIL:34817,STENCIL_BACK_FUNC:34816,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,STENCIL_BITS:3415,STENCIL_BUFFER_BIT:1024,STENCIL_BUFFER_BIT0_QCOM:65536,STENCIL_BUFFER_BIT1_QCOM:131072,STENCIL_BUFFER_BIT2_QCOM:262144,STENCIL_BUFFER_BIT3_QCOM:524288,STENCIL_BUFFER_BIT4_QCOM:1048576,STENCIL_BUFFER_BIT5_QCOM:2097152,STENCIL_BUFFER_BIT6_QCOM:4194304,STENCIL_BUFFER_BIT7_QCOM:8388608,STENCIL_CLEAR_VALUE:2961,STENCIL_EXT:6146,STENCIL_FAIL:2964,STENCIL_FUNC:2962,STENCIL_INDEX1_OES:36166,STENCIL_INDEX4_OES:36167,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_TEST:2960,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STREAM_DRAW:35040,SUBPIXEL_BITS:3408,SYNC_CONDITION_APPLE:37139,SYNC_FENCE_APPLE:37142,SYNC_FLAGS_APPLE:37141,SYNC_FLUSH_COMMANDS_BIT_APPLE:1,SYNC_GPU_COMMANDS_COMPLETE_APPLE:37143,SYNC_OBJECT_APPLE:35411,SYNC_STATUS_APPLE:37140,TEXTURE:5890,TEXTURE0:33984,TEXTURE1:33985,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE2:33986,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE3:33987,TEXTURE30:34014,TEXTURE31:34015,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE_2D:3553,TEXTURE_3D_OES:32879,TEXTURE_BINDING_2D:32873,TEXTURE_BINDING_3D_OES:32874,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_BINDING_EXTERNAL_OES:36199,TEXTURE_BORDER_COLOR_NV:4100,TEXTURE_COMPARE_FUNC_EXT:34893,TEXTURE_COMPARE_MODE_EXT:34892,TEXTURE_CUBE_MAP:34067,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_DEPTH_QCOM:35796,TEXTURE_EXTERNAL_OES:36197,TEXTURE_FORMAT_QCOM:35798,TEXTURE_HEIGHT_QCOM:35795,TEXTURE_IMAGE_VALID_QCOM:35800,TEXTURE_IMMUTABLE_FORMAT_EXT:37167,TEXTURE_INTERNAL_FORMAT_QCOM:35797,TEXTURE_MAG_FILTER:10240,TEXTURE_MAX_ANISOTROPY_EXT:34046,TEXTURE_MAX_LEVEL_APPLE:33085,TEXTURE_MIN_FILTER:10241,TEXTURE_NUM_LEVELS_QCOM:35801,TEXTURE_OBJECT_VALID_QCOM:35803,TEXTURE_SAMPLES_IMG:37174,TEXTURE_TARGET_QCOM:35802,TEXTURE_TYPE_QCOM:35799,TEXTURE_USAGE_ANGLE:37794,TEXTURE_WIDTH_QCOM:35794,TEXTURE_WRAP_R_OES:32882,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TIMEOUT_EXPIRED_APPLE:37147,TIMEOUT_IGNORED_APPLE:18446744073709552e3,TRANSLATED_SHADER_SOURCE_LENGTH_ANGLE:37792,TRIANGLES:4,TRIANGLE_FAN:6,TRIANGLE_STRIP:5,TRUE:1,UNKNOWN_CONTEXT_RESET_EXT:33365,UNPACK_ALIGNMENT:3317,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_PIXELS:3316,UNPACK_SKIP_ROWS:3315,UNSIGNALED_APPLE:37144,UNSIGNED_BYTE:5121,UNSIGNED_INT:5125,UNSIGNED_INT64_AMD:35778,UNSIGNED_INT_10_10_10_2_OES:36342,UNSIGNED_INT_24_8_OES:34042,UNSIGNED_INT_2_10_10_10_REV_EXT:33640,UNSIGNED_NORMALIZED_EXT:35863,UNSIGNED_SHORT:5123,UNSIGNED_SHORT_1_5_5_5_REV_EXT:33638,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_4_4_4_4_REV_EXT:33637,UNSIGNED_SHORT_4_4_4_4_REV_IMG:33637,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,UNSIGNED_SHORT_8_8_APPLE:34234,UNSIGNED_SHORT_8_8_REV_APPLE:34235,VALIDATE_STATUS:35715,VENDOR:7936,VERSION:7938,VERTEX_ARRAY_BINDING_OES:34229,VERTEX_ARRAY_OBJECT_EXT:37204,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,VERTEX_ATTRIB_ARRAY_DIVISOR_NV:35070,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_SHADER:35633,VERTEX_SHADER_BIT_EXT:1,VIEWPORT:2978,VIV_shader_binary:1,WAIT_FAILED_APPLE:37149,WRITEONLY_RENDERING_QCOM:34851,WRITE_ONLY_OES:35001,Z400_BINARY_AMD:34624,ZERO:0,RASTERIZER_DISCARD:35977,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444},cK={};function fK(e){var r=hK();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function hK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var W5=new Map,Bm=new Map,vK=new Map,_6t={json:"application/json",text:"application/text",arraybuffer:"application/octet-stream"};function pK(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{target:this};typeof this["on".concat(e)]=="function"&&this["on".concat(e)].call(this,r)}function E6t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{readyState:e};this.readyState=e,pK.call(this,"readystatechange",r)}var b1=function(e){(0,ze.Z)(t,e);var r=fK(t);function t(){var n;return(0,ge.Z)(this,t),n=r.call(this),n.onabort=null,n.onerror=null,n.onload=null,n.onloadstart=null,n.onprogress=null,n.ontimeout=null,n.onloadend=null,n.onreadystatechange=null,n.readyState=0,n.response=null,n.responseText=null,n._responseType="text",n.responseXML=null,n.status=0,n.statusText="",n.upload={},n.withCredentials=!1,W5.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),n}return(0,ye.Z)(t,[{key:"responseType",set:function(i){this._responseType=i}},{key:"abort",value:function(){var i=vK.get("requestTask");i&&i.abort()}},{key:"getAllResponseHeaders",value:function(){var i=Bm.get("responseHeader");return Object.keys(i).map(function(a){return"".concat(a,": ").concat(i[a])}).join(`
`)}},{key:"getResponseHeader",value:function(i){return Bm.get("responseHeader")[i]}},{key:"open",value:function(i,a,o){this._method=i,this._url=a}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:""}},{key:"setRequestHeader",value:function(i,a){var o=W5.get("requestHeader");o[i]=a,W5.set("requestHeader",o)}},{key:"addEventListener",value:function(i,a){var o=this;typeof a=="function"&&(this["on"+i]=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};s.target=s.target||o,a.call(o,s)})}},{key:"removeEventListener",value:function(i,a){this["on"+i]===a&&(this["on"+i]=null)}}]),t}(Z5);b1.UNSEND=0,b1.OPENED=1,b1.HEADERS_RECEIVED=2,b1.LOADING=3,b1.DONE=4;function dK(e){var r=gK();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function gK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var C6t=function(e){(0,ze.Z)(t,e);var r=dK(t);function t(n){return(0,ge.Z)(this,t),r.call(this,n)}return(0,ye.Z)(t)}(yu);function Y5(e){return function(r){r.type=e,la.dispatchEvent(r)}}var S6t=Y5("mousedown"),b6t=Y5("mousemove"),A6t=Y5("mouseup");function yK(e){var r=mK();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function mK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var xK=function(e){(0,ze.Z)(t,e);var r=yK(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this,n),i.target=Qa(),i.currentTarget=Qa(),i}return(0,ye.Z)(t)}(yu),Nm=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","pageX","pageY","timeStamp"],_K=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,0,0,0],EK="touch";function CK(e,r,t){for(var n=new xK(e),i=0;i<Nm.length;i++){var a=Nm[i];n[a]=r[a]||_K[i]}return n.type=e,n.target=Qa(),n.currentTarget=Qa(),n.buttons=SK(e),n.which=n.buttons,n.pointerId=(r.identifier||0)+2,n.bubbles=!0,n.cancelable=!0,n.button=0,n.width=(r.radiusX||.5)*2,n.height=(r.radiusY||.5)*2,n.pressure=r.force||.5,n.isPrimary=bK(r),n.pointerType=EK,n.altKey=t.altKey,n.ctrlKey=t.ctrlKey,n.metaKey=t.metaKey,n.shiftKey=t.shiftKey,t.preventDefault&&(n.preventDefault=function(){t.preventDefault()}),n}function SK(e){var r=0;return(e==="touchstart"||e==="touchmove"||e==="pointerdown"||e==="pointermove")&&(r=1),r}var Cu=null;function bK(e){return Cu===e.identifier}function AK(e){Cu===null&&(Cu=e.identifier)}function MK(e){Cu===e.identifier&&(Cu=null)}function X5(e){return function(r){for(var t=r.changedTouches,n=0;n<t.length;n++){var i=t[n];n===0&&e==="pointerdown"?AK(i):(e==="pointerup"||e==="pointercancel")&&MK(i);var a=CK(e,i,r);la.dispatchEvent(a)}}}var M6t=X5("pointerdown"),T6t=X5("pointermove"),w6t=X5("pointerup");function TK(e){var r=wK();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function wK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var FK=function(e){(0,ze.Z)(t,e);var r=TK(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this,n),i.touches=[],i.targetTouches=[],i.changedTouches=[],i.target=Qa(),i.currentTarget=Qa(),i}return(0,ye.Z)(t)}(yu);function $5(e){var r=e||{},t=r.x,n=t===void 0?0:t,i=r.y,a=i===void 0?0:i,o=r.clientX,s=o===void 0?0:o,u=r.clientY,l=u===void 0?0:u;Object.keys(e).indexOf("x")!==-1?(e.pageX=e.clientX=n,e.pageY=e.clientY=a):(e.x=s,e.y=l)}function q5(e){return function(r){var t=new FK(e);t.changedTouches=r.changedTouches,t.touches=r.touches,t.targetTouches=Array.prototype.slice.call(r.touches),t.timeStamp=r.timeStamp,t.changedTouches.forEach(function(n){return $5(n)}),t.touches.forEach(function(n){return $5(n)}),t.targetTouches.forEach(function(n){return $5(n)}),la.dispatchEvent(t)}}function kK(e){return function(r){r.type=e,la.dispatchEvent(r)}}var F6t=q5("touchstart"),k6t=q5("touchmove"),O6t=q5("touchend"),L6t=kK("mapCameaParams"),Zm=!1;function OK(e){Zm=e}var LK=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,IK=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined"),Si=(LK||IK)&&Zm,PK={atob:Mq,btoa:_m,devicePixelRatio:kq,Blob:Tq,document:la,Element:Sm,Event:yu,EventTarget:Z5,HTMLCanvasElement:Kq,HTMLElement:P0,HTMLMediaElement:Fm,HTMLVideoElement:km,Image:Om,ImageData:Qq,navigator:rK,Node:Cm,requestAnimationFrame:aK,cancelAnimationFrame:oK,screen:xu,XMLHttpRequest:b1,performance:nK,URL:sK,WebGLRenderingContext:lK,WebGL2RenderingContext:cK,addEventListener:function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};la.addEventListener(r,t,n)},removeEventListener:function(r,t,n){la.removeEventListener(r,t)},dispatchEvent:function(r){la.dispatchEvent(r)},innerWidth:xu.availWidth,innerHeight:xu.availHeight,setTimeout,clearTimeout,setInterval,clearInterval},Br=Si?PK:Yi,RK=Si?b1:Yi.XMLHttpRequest,I6t=Si?Lm:Yi.location;function DK(e){var r=BK();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function BK(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var NK=function(e){(0,ze.Z)(t,e);var r=DK(t);function t(n,i,a,o){var s;return(0,ge.Z)(this,t),s=r.call(this,"AJAXError: ".concat(i," (").concat(n,"): ").concat(a)),s.status=n,s.statusText=i,s.url=a,s.body=o,s}return(0,ye.Z)(t)}(D5(Error));function zm(e,r){var t=new RK,n=Array.isArray(e.url)?e.url[0]:e.url;t.open(e.method||"GET",n,!0),e.type==="arrayBuffer"&&(t.responseType="arraybuffer");for(var i in e.headers)e.headers.hasOwnProperty(i)&&t.setRequestHeader(i,e.headers[i]);return e.type==="json"&&(t.responseType="text",t.setRequestHeader("Accept","application/json")),t.withCredentials=e.credentials==="include",t.onerror=function(){r(new Error(t.statusText))},t.onload=function(){if((t.status>=200&&t.status<300||t.status===0)&&t.response!==null){var a=t.response;if(e.type==="json")try{a=JSON.parse(t.response)}catch(s){return r(s)}r(null,a,t.getResponseHeader("Cache-Control"),t.getResponseHeader("Expires"),t)}else{var o=new Blob([t.response],{type:t.getResponseHeader("Content-Type")});r(new NK(t.status,t.statusText,n.toString(),o))}},t.send(e.body),t}function ZK(e){return new Promise(function(r,t){zm(e,function(n,i,a,o,s){n?t({err:n,data:null,xhr:s}):r({err:null,data:i,cacheControl:a,expires:o,xhr:s})})})}function K5(e,r){return zm(e,r)}var zK=function(r,t){return K5((0,H.Z)((0,H.Z)({},r),{},{type:"json"}),t)},Q5=function(r,t){return K5((0,H.Z)((0,H.Z)({},r),{},{type:"arrayBuffer"}),t)},P6t=function(r,t){return K5(_objectSpread(_objectSpread({},r),{},{method:"POST"}),t)};function R6t(e){var r=$window.document.createElement("a");return r.href=e,r.protocol===$window.document.location.protocol&&r.host===$window.document.location.host}var Um="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function UK(e,r){var t=new Br.Image,n=Br.URL||Br.webkitURL;t.crossOrigin="anonymous",t.onload=function(){r(null,t),n.revokeObjectURL(t.src),t.onload=null,window.requestAnimationFrame(function(){t.src=Um})},t.onerror=function(){return r(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var i=new Blob([new Uint8Array(e)],{type:"image/png"});t.src=e.byteLength?n.createObjectURL(i):Um}function HK(e,r){var t=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(t).then(function(n){r(null,n)}).catch(function(n){r(new Error("Could not load image because of ".concat(n.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))})}var J5=function(r,t,n){var i=function(o,s){if(o)t(o);else if(s){var u=typeof createImageBitmap=="function",l=n?n(s):s;u?HK(l,t):UK(l,t)}};return r.type==="json"?zK(r,i):Q5(r,i)},Su;(function(e){e.CENTER="center",e.TOP="top",e["TOP-LEFT"]="top-left",e["TOP-RIGHT"]="top-right",e.BOTTOM="bottom",e["BOTTOM-LEFT"]="bottom-left",e["BOTTOM-RIGHT"]="bottom-right",e.LEFT="left",e.RIGHT="right"})(Su||(Su={}));var C3={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Hm(e,r,t){var n=e.classList;for(var i in C3)C3.hasOwnProperty(i)&&n.remove("l7-".concat(t,"-anchor-").concat(i));n.add("l7-".concat(t,"-anchor-").concat(r))}function t8(e,r,t){e.prototype=r.prototype=t,t.constructor=e}function Vm(e,r){var t=Object.create(e.prototype);for(var n in r)t[n]=r[n];return t}function bu(){}var Au=.7,S3=1/Au,R0="\\s*([+-]?\\d+)\\s*",Mu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VK=/^#([0-9a-f]{3,8})$/,GK=new RegExp("^rgb\\("+[R0,R0,R0]+"\\)$"),jK=new RegExp("^rgb\\("+[Fa,Fa,Fa]+"\\)$"),WK=new RegExp("^rgba\\("+[R0,R0,R0,Mu]+"\\)$"),YK=new RegExp("^rgba\\("+[Fa,Fa,Fa,Mu]+"\\)$"),XK=new RegExp("^hsl\\("+[Mu,Fa,Fa]+"\\)$"),$K=new RegExp("^hsla\\("+[Mu,Fa,Fa,Mu]+"\\)$"),Gm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t8(bu,A1,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:jm,formatHex:jm,formatHsl:qK,formatRgb:Wm,toString:Wm});function jm(){return this.rgb().formatHex()}function qK(){return Km(this).formatHsl()}function Wm(){return this.rgb().formatRgb()}function A1(e){var r,t;return e=(e+"").trim().toLowerCase(),(r=VK.exec(e))?(t=r[1].length,r=parseInt(r[1],16),t===6?Ym(r):t===3?new bi(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):t===8?b3(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):t===4?b3(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=GK.exec(e))?new bi(r[1],r[2],r[3],1):(r=jK.exec(e))?new bi(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=WK.exec(e))?b3(r[1],r[2],r[3],r[4]):(r=YK.exec(e))?b3(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=XK.exec(e))?qm(r[1],r[2]/100,r[3]/100,1):(r=$K.exec(e))?qm(r[1],r[2]/100,r[3]/100,r[4]):Gm.hasOwnProperty(e)?Ym(Gm[e]):e==="transparent"?new bi(NaN,NaN,NaN,0):null}function Ym(e){return new bi(e>>16&255,e>>8&255,e&255,1)}function b3(e,r,t,n){return n<=0&&(e=r=t=NaN),new bi(e,r,t,n)}function KK(e){return e instanceof bu||(e=A1(e)),e?(e=e.rgb(),new bi(e.r,e.g,e.b,e.opacity)):new bi}function A3(e,r,t,n){return arguments.length===1?KK(e):new bi(e,r,t,n==null?1:n)}function bi(e,r,t,n){this.r=+e,this.g=+r,this.b=+t,this.opacity=+n}t8(bi,A3,Vm(bu,{brighter:function(e){return e=e==null?S3:Math.pow(S3,e),new bi(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Au:Math.pow(Au,e),new bi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xm,formatHex:Xm,formatRgb:$m,toString:$m}));function Xm(){return"#"+e8(this.r)+e8(this.g)+e8(this.b)}function $m(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function e8(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function qm(e,r,t,n){return n<=0?e=r=t=NaN:t<=0||t>=1?e=r=NaN:r<=0&&(e=NaN),new ka(e,r,t,n)}function Km(e){if(e instanceof ka)return new ka(e.h,e.s,e.l,e.opacity);if(e instanceof bu||(e=A1(e)),!e)return new ka;if(e instanceof ka)return e;e=e.rgb();var r=e.r/255,t=e.g/255,n=e.b/255,i=Math.min(r,t,n),a=Math.max(r,t,n),o=NaN,s=a-i,u=(a+i)/2;return s?(r===a?o=(t-n)/s+(t<n)*6:t===a?o=(n-r)/s+2:o=(r-t)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new ka(o,s,u,e.opacity)}function QK(e,r,t,n){return arguments.length===1?Km(e):new ka(e,r,t,n==null?1:n)}function ka(e,r,t,n){this.h=+e,this.s=+r,this.l=+t,this.opacity=+n}t8(ka,QK,Vm(bu,{brighter:function(e){return e=e==null?S3:Math.pow(S3,e),new ka(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Au:Math.pow(Au,e),new ka(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*r,i=2*t-n;return new bi(r8(e>=240?e-240:e+120,i,n),r8(e,i,n),r8(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function r8(e,r,t){return(e<60?r+(t-r)*e/60:e<180?t:e<240?r+(t-r)*(240-e)/60:r)*255}function D6t(e){return typeof e=="string"?!!d3.color(e):!1}function Dr(e){var r=A1(e),t=[0,0,0,0];return r!=null&&(t[0]=r.r/255,t[1]=r.g/255,t[2]=r.b/255,t[3]=r.opacity),t}function M1(e){var r=e&&e[0],t=e&&e[1],n=e&&e[2],i=r+t*256+n*65536-1;return i}function Ja(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function Qm(e){var r=Br.document.createElement("canvas"),t=r.getContext("2d");r.width=256,r.height=1;for(var n=null,i=t.createLinearGradient(0,0,256,1),a=e.positions[0],o=e.positions[e.positions.length-1],s=0;s<e.colors.length;++s){var u=(e.positions[s]-a)/(o-a);i.addColorStop(u,e.colors[s])}if(t.fillStyle=i,t.fillRect(0,0,256,1),Si)return n=new Uint8ClampedArray(t.getImageData(0,0,256,1).data),r=null,t=null,{data:n,width:256,height:1};n=t.getImageData(0,0,256,1).data;for(var l=t.createImageData(256,1),c=0;c<l.data.length;c+=4)l.data[c+0]=n[c+0],l.data[c+1]=n[c+1],l.data[c+2]=n[c+2],l.data[c+3]=n[c+3];return r=null,t=null,l}function JK(e,r){var t=Br.document.createElement("canvas"),n=t.getContext("2d");t.width=256,t.height=1;for(var i=n.createLinearGradient(0,0,256,1),a=r[1]-r[0],o=0;o<e.colors.length;++o){var s=Math.max((e.positions[o]-r[0])/a,0);i.addColorStop(s,e.colors[o])}n.fillStyle=i,n.fillRect(0,0,256,1);var u=n.getImageData(0,0,256,1).data,l=n8(n,u);return t=null,n=null,l}function tQ(e){var r=Br.document.createElement("canvas"),t=r.getContext("2d");r.width=256,r.height=1;var n=t.createImageData(256,1);return n.data.fill(0),e.positions.forEach(function(i,a){var o=Dr(e.colors[a]);n.data[i*4+0]=o[0]*255,n.data[i*4+1]=o[1]*255,n.data[i*4+2]=o[2]*255,n.data[i*4+3]=o[3]*255}),r=null,t=null,n}function eQ(e){var r=Br.document.createElement("canvas"),t=r.getContext("2d");t.globalAlpha=1,r.width=256,r.height=1;for(var n=256/e.colors.length,i=0;i<e.colors.length;i++)t.beginPath(),t.lineWidth=2,t.strokeStyle=e.colors[i],t.moveTo(i*n,0),t.lineTo((i+1)*n,0),t.stroke();var a=t.getImageData(0,0,256,1).data,o=n8(t,a);return r=null,t=null,o}function rQ(e,r){var t=Br.document.createElement("canvas"),n=t.getContext("2d");n.globalAlpha=1,t.width=256,t.height=1;var i=r[1]-r[0];e.positions.length-e.colors.length!==1&&console.warn("positions \u7684\u6570\u5B57\u4E2A\u6570\u5E94\u5F53\u6BD4 colors \u7684\u6837\u5F0F\u591A\u4E00\u4E2A,poisitions \u7684\u9996\u5C3E\u503C\u4E00\u822C\u4E3A\u6570\u636E\u7684\u6700\u5927\u6700\u65B0\u503C");for(var a=0;a<e.colors.length;a++)n.beginPath(),n.lineWidth=2,n.strokeStyle=e.colors[a],n.moveTo((e.positions[a]-r[0])/i*255,0),n.lineTo((e.positions[a+1]-r[0])/i*255,0),n.stroke();var o=n.getImageData(0,0,256,1).data,s=n8(n,o);return t=null,n=null,s}function n8(e,r){for(var t=e.createImageData(256,1),n=0;n<t.data.length;n+=4)t.data[n+0]=r[n+0],t.data[n+1]=r[n+1],t.data[n+2]=r[n+2],t.data[n+3]=r[n+3];return t}function i8(e){switch(e.type){case"cat":return[0,255];default:return[0,1]}}var T1={BACK:1029,FRONT:1028};function a8(e){switch(e){case"GAODE1.x":return T1.BACK;case"GAODE2.x":return T1.BACK;case"MAPBOX":return T1.FRONT;case"SIMPLE":return T1.FRONT;case"GLOBEL":return T1.BACK;case"DEBAULT":return T1.FRONT;default:return T1.FRONT}}var We=F(9645),Te=F(97207);function Jm(e){var r=e;return typeof e=="string"&&(r=Br.document.getElementById(e)),r}function tx(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function nQ(e){return tx(e).split(/\s+/)}function iQ(e){var r,t,n=Br==null||(r=Br.document)===null||r===void 0||(t=r.documentElement)===null||t===void 0?void 0:t.style;if(!n)return e[0];for(var i in e)if(e[i]&&e[i]in n)return e[i];return e[0]}function Er(e,r,t){var n=Br.document.createElement(e);return r&&(n.className=r||""),t&&t.appendChild(n),n}function Ai(e){var r=e.parentNode;r&&r.removeChild(e)}function ca(e,r){if(e.classList!==void 0)for(var t=nQ(r),n=0,i=t.length;n<i;n++)e.classList.add(t[n]);else if(!aQ(e,r)){var a=o8(e);ex(e,(a?a+" ":"")+r)}}function w1(e,r){e.classList!==void 0?e.classList.remove(r):ex(e,tx((" "+o8(e)+" ").replace(" "+r+" "," ")))}function aQ(e,r){if(e.classList!==void 0)return e.classList.contains(r);var t=o8(e);return t.length>0&&new RegExp("(^|\\s)"+r+"(\\s|$)").test(t)}function ex(e,r){e instanceof HTMLElement?e.className=r:e.className.baseVal=r}function o8(e){return e instanceof SVGElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function B6t(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}var oQ=iQ(["transform","WebkitTransform"]);function rx(e,r){e.style[oQ]=r}function sQ(){if(typeof Event=="function")Br.dispatchEvent(new Event("resize"));else{var e=Br.document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,Br,0),Br.dispatchEvent(e)}}function N6t(e){var r=["padding: "+(e.height/2-8)+"px "+e.width/2+"px;","line-height: "+e.height+"px;","background-image: url("+e.toDataURL()+");"];console.log(`%c
`,r.join(""))}function uQ(){var e,r=Br.document.querySelector('meta[name="viewport"]');if(!r)return 1;var t=(e=r.content)===null||e===void 0?void 0:e.split(","),n=t.find(function(i){var a=i.split("="),o=(0,nr.Z)(a,1),s=o[0];return s==="initial-scale"});return n?n.split("=")[1]*1:1}var ln=uQ()<1?1:Br.devicePixelRatio;function nx(e,r){e.setAttribute("style","".concat(e.style.cssText).concat(r))}function ix(e){return e.split(";").map(function(r){return r.trim()}).filter(function(r){return r})}function Z6t(e,r){var t,n=ix((t=e.getAttribute("style"))!==null&&t!==void 0?t:""),i=ix(r),a=Te.pull.apply(void 0,[n].concat((0,We.Z)(i)));e.setAttribute("style",a.join(";"))}function lQ(e){return Object.entries(e).map(function(r){var t=(0,nr.Z)(r,2),n=t[0],i=t[1];return"".concat(n,": ").concat(i)}).join(";")}function cQ(e,r){return{left:e.left-r.left,top:e.top-r.top,right:r.left+r.width-e.left-e.width,bottom:r.top+r.height-e.top-e.height}}function s8(e,r){e.checked=r,r?e.setAttribute("checked","true"):e.removeAttribute("checked")}function Tu(e){e.innerHTML=""}function ax(e){e.setAttribute("draggable","false")}function F1(e,r){if(typeof r=="string"){var t=document.createElement("div");for(t.innerHTML=r;t.firstChild;)e.append(t.firstChild)}else Array.isArray(r)?e.append.apply(e,(0,We.Z)(r)):e.append(r)}function fQ(e){return typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap}function hQ(){return typeof importScripts=="function"}var z6t=hQ()?function(){return self.worker&&self.worker.referrer}:function(){return(window.location.protocol==="blob:"?window.parent:window).location.href},u8=navigator.userAgent,vQ=!!u8.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),U6t=u8.indexOf("Android")>-1||u8.indexOf("Adr")>-1;function pQ(){for(var e=navigator.userAgent,r=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],t=!0,n=0,i=r;n<i.length;n++){var a=i[n];if(e.indexOf(a)>0){t=!1;break}}return t}function ox(e,r){e.forEach(function(t){r[t]&&(r[t]=r[t].bind(r))})}var H6t=null,Xn=63710088e-1,sx={centimeters:Xn*100,centimetres:Xn*100,degrees:Xn/111325,feet:Xn*3.28084,inches:Xn*39.37,kilometers:Xn/1e3,kilometres:Xn/1e3,meters:Xn,metres:Xn,miles:Xn/1609.344,millimeters:Xn*1e3,millimetres:Xn*1e3,nauticalmiles:Xn/1852,radians:1,yards:Xn*1.0936},V6t={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Xn,yards:1.0936133},ux={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function to(e,r,t){t===void 0&&(t={});var n={type:"Feature"};return(t.id===0||t.id)&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.properties=r||{},n.geometry=e,n}function G6t(e,r,t){switch(t===void 0&&(t={}),e){case"Point":return lx(r).geometry;case"LineString":return l8(r).geometry;case"Polygon":return wu(r).geometry;case"MultiPoint":return gQ(r).geometry;case"MultiLineString":return dQ(r).geometry;case"MultiPolygon":return cx(r).geometry;default:throw new Error(e+" is invalid")}}function lx(e,r,t){if(t===void 0&&(t={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!c8(e[0])||!c8(e[1]))throw new Error("coordinates must contain numbers");var n={type:"Point",coordinates:e};return to(n,r,t)}function j6t(e,r,t){return t===void 0&&(t={}),M3(e.map(function(n){return lx(n,r)}),t)}function wu(e,r,t){t===void 0&&(t={});for(var n=0,i=e;n<i.length;n++){var a=i[n];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var o=0;o<a[a.length-1].length;o++)if(a[a.length-1][o]!==a[0][o])throw new Error("First and last Position are not equivalent.")}var s={type:"Polygon",coordinates:e};return to(s,r,t)}function W6t(e,r,t){return t===void 0&&(t={}),M3(e.map(function(n){return wu(n,r)}),t)}function l8(e,r,t){if(t===void 0&&(t={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var n={type:"LineString",coordinates:e};return to(n,r,t)}function Y6t(e,r,t){return t===void 0&&(t={}),M3(e.map(function(n){return l8(n,r)}),t)}function M3(e,r){r===void 0&&(r={});var t={type:"FeatureCollection"};return r.id&&(t.id=r.id),r.bbox&&(t.bbox=r.bbox),t.features=e,t}function dQ(e,r,t){t===void 0&&(t={});var n={type:"MultiLineString",coordinates:e};return to(n,r,t)}function gQ(e,r,t){t===void 0&&(t={});var n={type:"MultiPoint",coordinates:e};return to(n,r,t)}function cx(e,r,t){t===void 0&&(t={});var n={type:"MultiPolygon",coordinates:e};return to(n,r,t)}function X6t(e,r,t){t===void 0&&(t={});var n={type:"GeometryCollection",geometries:e};return to(n,r,t)}function $6t(e,r){if(r===void 0&&(r=0),r&&!(r>=0))throw new Error("precision must be a positive number");var t=Math.pow(10,r||0);return Math.round(e*t)/t}function fx(e,r){r===void 0&&(r="kilometers");var t=sx[r];if(!t)throw new Error(r+" units is invalid");return e*t}function hx(e,r){r===void 0&&(r="kilometers");var t=sx[r];if(!t)throw new Error(r+" units is invalid");return e/t}function q6t(e,r){return yQ(hx(e,r))}function K6t(e){var r=e%360;return r<0&&(r+=360),r}function yQ(e){var r=e%(2*Math.PI);return r*180/Math.PI}function T3(e){var r=e%360;return r*Math.PI/180}function Q6t(e,r,t){if(r===void 0&&(r="kilometers"),t===void 0&&(t="kilometers"),!(e>=0))throw new Error("length must be a positive number");return fx(hx(e,r),t)}function J6t(e,r,t){if(r===void 0&&(r="meters"),t===void 0&&(t="kilometers"),!(e>=0))throw new Error("area must be a positive number");var n=ux[r];if(!n)throw new Error("invalid original units");var i=ux[t];if(!i)throw new Error("invalid final units");return e/n*i}function c8(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function t7t(e){return!!e&&e.constructor===Object}function e7t(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(r){if(!c8(r))throw new Error("bbox must only contain numbers")})}function r7t(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}function Fu(e,r,t){if(e!==null)for(var n,i,a,o,s,u,l,c=0,f=0,h,v=e.type,p=v==="FeatureCollection",g=v==="Feature",y=p?e.features.length:1,m=0;m<y;m++){l=p?e.features[m].geometry:g?e.geometry:e,h=l?l.type==="GeometryCollection":!1,s=h?l.geometries.length:1;for(var E=0;E<s;E++){var C=0,A=0;if(o=h?l.geometries[E]:l,o!==null){u=o.coordinates;var M=o.type;switch(c=t&&(M==="Polygon"||M==="MultiPolygon")?1:0,M){case null:break;case"Point":if(r(u,f,m,C,A)===!1)return!1;f++,C++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(r(u[n],f,m,C,A)===!1)return!1;f++,M==="MultiPoint"&&C++}M==="LineString"&&C++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(i=0;i<u[n].length-c;i++){if(r(u[n][i],f,m,C,A)===!1)return!1;f++}M==="MultiLineString"&&C++,M==="Polygon"&&A++}M==="Polygon"&&C++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(A=0,i=0;i<u[n].length;i++){for(a=0;a<u[n][i].length-c;a++){if(r(u[n][i][a],f,m,C,A)===!1)return!1;f++}A++}C++}break;case"GeometryCollection":for(n=0;n<o.geometries.length;n++)if(Fu(o.geometries[n],r,t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n7t(e,r,t,n){var i=t;return Fu(e,function(a,o,s,u,l){o===0&&t===void 0?i=a:i=r(i,a,o,s,u,l)},n),i}function mQ(e,r){var t;switch(e.type){case"FeatureCollection":for(t=0;t<e.features.length&&r(e.features[t].properties,t)!==!1;t++);break;case"Feature":r(e.properties,0);break}}function i7t(e,r,t){var n=t;return mQ(e,function(i,a){a===0&&t===void 0?n=i:n=r(n,i,a)}),n}function xQ(e,r){if(e.type==="Feature")r(e,0);else if(e.type==="FeatureCollection")for(var t=0;t<e.features.length&&r(e.features[t],t)!==!1;t++);}function a7t(e,r,t){var n=t;return xQ(e,function(i,a){a===0&&t===void 0?n=i:n=r(n,i,a)}),n}function o7t(e){var r=[];return Fu(e,function(t){r.push(t)}),r}function vx(e,r){var t,n,i,a,o,s,u,l,c,f,h=0,v=e.type==="FeatureCollection",p=e.type==="Feature",g=v?e.features.length:1;for(t=0;t<g;t++){for(s=v?e.features[t].geometry:p?e.geometry:e,l=v?e.features[t].properties:p?e.properties:{},c=v?e.features[t].bbox:p?e.bbox:void 0,f=v?e.features[t].id:p?e.id:void 0,u=s?s.type==="GeometryCollection":!1,o=u?s.geometries.length:1,i=0;i<o;i++){if(a=u?s.geometries[i]:s,a===null){if(r(null,h,l,c,f)===!1)return!1;continue}switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(a,h,l,c,f)===!1)return!1;break}case"GeometryCollection":{for(n=0;n<a.geometries.length;n++)if(r(a.geometries[n],h,l,c,f)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}h++}}function s7t(e,r,t){var n=t;return vx(e,function(i,a,o,s,u){a===0&&t===void 0?n=i:n=r(n,i,a,o,s,u)}),n}function ku(e,r){vx(e,function(t,n,i,a,o){var s=t===null?null:t.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return r(to(t,i,{bbox:a,id:o}),n,0)===!1?!1:void 0}var u;switch(s){case"MultiPoint":u="Point";break;case"MultiLineString":u="LineString";break;case"MultiPolygon":u="Polygon";break}for(var l=0;l<t.coordinates.length;l++){var c=t.coordinates[l],f={type:u,coordinates:c};if(r(to(f,i),n,l)===!1)return!1}})}function u7t(e,r,t){var n=t;return ku(e,function(i,a,o){a===0&&o===0&&t===void 0?n=i:n=r(n,i,a,o)}),n}function _Q(e,r){ku(e,function(t,n,i){var a=0;if(t.geometry){var o=t.geometry.type;if(!(o==="Point"||o==="MultiPoint")){var s,u=0,l=0,c=0;if(Fu(t,function(f,h,v,p,g){if(s===void 0||n>u||p>l||g>c){s=f,u=n,l=p,c=g,a=0;return}var y=lineString([s,f],t.properties);if(r(y,n,i,g,a)===!1)return!1;a++,s=f})===!1)return!1}}})}function l7t(e,r,t){var n=t,i=!1;return _Q(e,function(a,o,s,u,l){i===!1&&t===void 0?n=a:n=r(n,a,o,s,u,l),i=!0}),n}function EQ(e,r){if(!e)throw new Error("geojson is required");ku(e,function(t,n,i){if(t.geometry!==null){var a=t.geometry.type,o=t.geometry.coordinates;switch(a){case"LineString":if(r(t,n,i,0,0)===!1)return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(r(lineString(o[s],t.properties),n,i,s)===!1)return!1;break}}})}function c7t(e,r,t){var n=t;return EQ(e,function(i,a,o,s){a===0&&t===void 0?n=i:n=r(n,i,a,o,s)}),n}function f7t(e,r){if(r=r||{},!isObject(r))throw new Error("options is invalid");var t=r.featureIndex||0,n=r.multiFeatureIndex||0,i=r.geometryIndex||0,a=r.segmentIndex||0,o=r.properties,s;switch(e.type){case"FeatureCollection":t<0&&(t=e.features.length+t),o=o||e.features[t].properties,s=e.features[t].geometry;break;case"Feature":o=o||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var u=s.coordinates;switch(s.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=u.length+a-1),lineString([u[a],u[a+1]],o,r);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a-1),lineString([u[i][a],u[i][a+1]],o,r);case"MultiLineString":return n<0&&(n=u.length+n),a<0&&(a=u[n].length+a-1),lineString([u[n][a],u[n][a+1]],o,r);case"MultiPolygon":return n<0&&(n=u.length+n),i<0&&(i=u[n].length+i),a<0&&(a=u[n][i].length-a-1),lineString([u[n][i][a],u[n][i][a+1]],o,r)}throw new Error("geojson is invalid")}function h7t(e,r){if(r=r||{},!isObject(r))throw new Error("options is invalid");var t=r.featureIndex||0,n=r.multiFeatureIndex||0,i=r.geometryIndex||0,a=r.coordIndex||0,o=r.properties,s;switch(e.type){case"FeatureCollection":t<0&&(t=e.features.length+t),o=o||e.features[t].properties,s=e.features[t].geometry;break;case"Feature":o=o||e.properties,s=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":s=e;break;default:throw new Error("geojson is invalid")}if(s===null)return null;var u=s.coordinates;switch(s.type){case"Point":return point(u,o,r);case"MultiPoint":return n<0&&(n=u.length+n),point(u[n],o,r);case"LineString":return a<0&&(a=u.length+a),point(u[a],o,r);case"Polygon":return i<0&&(i=u.length+i),a<0&&(a=u[i].length+a),point(u[i][a],o,r);case"MultiLineString":return n<0&&(n=u.length+n),a<0&&(a=u[n].length+a),point(u[n][a],o,r);case"MultiPolygon":return n<0&&(n=u.length+n),i<0&&(i=u[n].length+i),a<0&&(a=u[n][i].length-a),point(u[n][i][a],o,r)}throw new Error("geojson is invalid")}function f8(e){var r=[1/0,1/0,-1/0,-1/0];return Fu(e,function(t){r[0]>t[0]&&(r[0]=t[0]),r[1]>t[1]&&(r[1]=t[1]),r[2]<t[0]&&(r[2]=t[0]),r[3]<t[1]&&(r[3]=t[1])}),r}f8.default=f8;var CQ=f8;function h8(e){return typeof e=="number"}var w3=2*Math.PI*6378137/2;function SQ(e,r){var t=(0,nr.Z)(r,4),n=t[0],i=t[1],a=t[2],o=t[3];return e.lng>n&&e.lng<=a&&e.lat>i&&e.lat<=o}function bQ(e){var r=[1/0,1/0,-1/0,-1/0];return e.forEach(function(t){var n=t.coordinates;px(r,n)}),r}function px(e,r){return Array.isArray(r[0])?r.forEach(function(t){px(e,t)}):(e[0]>r[0]&&(e[0]=r[0]),e[1]>r[1]&&(e[1]=r[1]),e[2]<r[0]&&(e[2]=r[0]),e[3]<r[1]&&(e[3]=r[1])),e}function v7t(e,r){return dx(e,r)}function dx(e,r){return Array.isArray(e[0])?e.map(function(t){return dx(t,r)}):r(e)}function v8(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{enable:!0,decimal:1};e=TQ(e,r);var n=e[0],i=e[1],a=n*w3/180,o=Math.log(Math.tan((90+i)*Math.PI/360))/(Math.PI/180);return o=o*w3/180,t.enable&&(a=Number(a.toFixed(t.decimal)),o=Number(o.toFixed(t.decimal))),e.length===3?[a,o,e[2]]:[a,o]}function p7t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,t=e[0],n=e[1],i=t/w3*180,a=n/w3*180;return a=180/Math.PI*(2*Math.atan(Math.exp(a*Math.PI/180))-Math.PI/2),r!=null&&(i=Number(i.toFixed(r)),a=Number(a.toFixed(r))),e.length===3?[i,a,e[2]]:[i,a]}function AQ(e){if(e==null)throw new Error("lng is required");return(e>180||e<-180)&&(e=e%360,e>180&&(e=-360+e),e<-180&&(e=360+e),e===0&&(e=0)),e}function MQ(e){if(e==null)throw new Error("lat is required");return(e>90||e<-90)&&(e=e%180,e>90&&(e=-180+e),e<-90&&(e=180+e),e===0&&(e=0)),e}function TQ(e,r){if(r===!1)return e;var t=AQ(e[0]),n=MQ(e[1]);return n>85&&(n=85),n<-85&&(n=-85),e.length===3?[t,n,e[2]]:[t,n]}function Tn(e){var r=85.0511287798,t=Math.max(Math.min(r,e[1]),-r),n=256<<20,i=Math.PI/180,a=e[0]*i,o=t*i;o=Math.log(Math.tan(Math.PI/4+o/2));var s=.5/Math.PI,u=.5,l=-.5/Math.PI;return i=.5,a=n*(s*a+u),o=n*(l*o+i),[Math.floor(a),Math.floor(o)]}function d7t(e){var r=.5/Math.PI,t=.5,n=-.5/Math.PI,i=.5,a=256<<20,o=_slicedToArray(e,2),s=o[0],u=o[1];s=(s/a-t)/r,u=(u/a-i)/n,u=(Math.atan(Math.pow(Math.E,u))-Math.PI/4)*2,i=Math.PI/180;var l=u/i,c=s/i;return[c,l]}function F3(e,r){var t=85.0511287798,n=Math.PI/180,i=6378137;return r=Math.max(Math.min(t,r),-t),e*=n,r*=n,r=Math.log(Math.tan(Math.PI/4+r/2)),[e*i,r*i]}function g7t(e,r){var t=Math.PI/180,n=6378137,i=e/n/t,a=2*(Math.atan(Math.exp(r/n))-Math.PI/4)/t;return[i,a]}function wQ(e,r,t){var n=T3(r[1]-e[1]),i=T3(r[0]-e[0]),a=T3(e[1]),o=T3(r[1]),s=Math.pow(Math.sin(n/2),2)+Math.pow(Math.sin(i/2),2)*Math.cos(a)*Math.cos(o);return fx(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),t="meters")}function y7t(e){var r=Math.PI/180,t=85.0511287798,n=6378137,i=Math.max(Math.min(t,e[1]),-t),a=Math.sin(i*r),o=n*e[0]*r,s=n*Math.log((1+a)/(1-a))/2;return[o,s]}function Ou(e,r){var t=Math.abs(e[1][1]-e[0][1])*r,n=Math.abs(e[1][0]-e[0][0])*r;return[[e[0][0]-n,e[0][1]-t],[e[1][0]+n,e[1][1]+t]]}function p8(e,r){return e[0][0]<=r[0][0]&&e[0][1]<=r[0][1]&&e[1][0]>=r[1][0]&&e[1][1]>=r[1][1]}function k3(e){return[[e[0],e[1]],[e[2],e[3]]]}function gx(e){var r=yx(e,[0,0]);return[e[0]/r,e[1]/r]}function yx(e,r){return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function FQ(e,r){return e[0]*r[0]+e[1]*r[1]}function mx(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function m7t(e,r){return Math.acos(FQ(e,r)/(mx(e)*mx(r)))*180/Math.PI}function kQ(e,r){return r[0]>0?r[1]>0?90-Math.atan(r[1]/r[0])*180/Math.PI:90+Math.atan(-r[1]/r[0])*180/Math.PI:r[1]<0?180+(90-Math.atan(r[1]/r[0])*180/Math.PI):270+Math.atan(r[1]/-r[0])*180/Math.PI}function x7t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;if(!(!e||e.length<2)){for(var t=[0,1],n=0,i=[],a=0;a<e.length-1;a++){var o=e[a],s=e[a+1],u=yx(o,s);n+=u;var l=[o[0]-s[0],o[1]-s[1]],c=kQ(t,l);if(a>0){var f=i[a-1].rotation;f-c>360-f+c&&(c=c+360)}i.push({start:o,end:s,dis:u,rotation:c,duration:0})}return i.map(function(h){h.duration=r*(h.dis/n)}),i}}function eo(e){if(h8(e[0]))return e;if(h8(e[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(h8(e[0][0][0])){var r=e,t=0,n=0,i=0;return r.forEach(function(a){a.forEach(function(o){t+=o[0],n+=o[1],i++})}),[t/i,n/i,0]}else throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}function OQ(e){for(var r=e[0],t=e[1],n=e[0],i=e[1],a=0,o=0,s=0,u=0;u<e.length;u+=2){var l=e[u],c=e[u+1];l&&c&&(r=Math.max(l,r),t=Math.max(c,t),n=Math.min(l,n),i=Math.min(c,i),a+=l,o+=c,s++)}return{center:[a/s,o/s],radius:Math.sqrt(Math.pow(r-n,2)+Math.pow(t-i,2))/2}}function LQ(e){return CQ(M3([l8(e)]))}function _7t(e){var r=131,t=137,n=0;e+="x";for(var i=Math.floor(9007199254740991/t),a=0;a<e.length;a++)n>i&&(n=Math.floor(n/t)),n=n*r+e.charCodeAt(a);return n}function E7t(e){e=e.toString();for(var r=5381,t=e.length;t;)r=r*33^e.charCodeAt(--t);return r>>>0}function IQ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var r=Math.random()*16|0,t=e==="x"?r:r&3|8;return t.toString(16)})}var xx;(function(e){e["GAODE1.x"]="GAODE1.x",e["GAODE2.x"]="GAODE2.x",e.MAPBOX="MAPBOX",e.DEFAULT="DEFAUlTMAP",e.SIMPLE="SIMPLE",e.GLOBEL="GLOBEL"})(xx||(xx={}));function C7t(e,r,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:30,o=arguments.length>6?arguments[6]:void 0,s=t;return o&&(s=Math.round(t*(a-1))/(a-1)),n?Ex(e,r,s,n,i):Ex(e,r,s,.314,i)}function O3(e,r){var t=1-r;return(e[0]*t+e[1]*r)*t+(e[1]*t+e[2]*r)*r}function PQ(e,r){return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function _x(e,r,t){var n=[r[0]-e[0],r[1]-e[1]],i=PQ(n,[0,0]),a=Math.atan2(n[1],n[0]),o=i/2/Math.cos(t),s=a+t,u=[o*Math.cos(s)+e[0],o*Math.sin(s)+e[1]];return u}function Ex(e,r,t,n,i){if(i===Version["GAODE2.x"]){var a=amap2Project(e[0],e[1]),o=amap2Project(r[0],r[1]),s=_x(a,o,n),u=[a[0],s[0],o[0]],l=[a[1],s[1],o[1]];return[].concat(_toConsumableArray(amap2UnProject(O3(u,t),O3(l,t))),[0])}else{var c=_x(e,r,n),f=[e[0],c[0],r[0]],h=[e[1],c[1],r[1]];return[O3(f,t),O3(h,t),0]}}function S7t(e,r,t,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:30,o=arguments.length>6?arguments[6]:void 0,s=t;return o&&(s=Math.round(t*29)/29),BQ(e,r,s,i)}function RQ(e,r){var t=[r[0]-e[0],r[1]-e[1]],n=calDistance(t,[0,0]),i=Math.atan2(t[1],t[0]),a=.314,o=n/2/Math.cos(a),s=i+a,u=[o*Math.cos(s)+e[0],o*Math.sin(s)+e[1]];return u}function Cx(e,r){var t=1-r;return(e[0]*t+e[1]*r)*t+(e[1]*t+e[2]*r)*r}function DQ(e,r){var t=[e[0]-r[0],e[1]-r[1]],n=[Math.sin(t[0]/2),Math.sin(t[1]/2)],i=n[1]*n[1]+Math.cos(e[1])*Math.cos(r[1])*n[0]*n[0];return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function BQ(e,r,t,n){var i=[degreesToRadians(e[0]),degreesToRadians(e[1])],a=[degreesToRadians(r[0]),degreesToRadians(r[1])];if(n==="GAODE2.x"){var o=RQ(i,a),s=[i[0],o[0],a[0]],u=[i[1],o[1],a[1]];return[Cx(s,t),Cx(u,t),0]}else{var l=DQ(i,a);if(Math.abs(l-Math.PI)<.001)return[(1-t)*i[0]+t*a[0],(1-t)*i[1]+t*a[1]];var c=Math.sin((1-t)*l)/Math.sin(l),f=Math.sin(t*l)/Math.sin(l),h=[Math.sin(i[0]),Math.sin(i[1])],v=[Math.cos(i[0]),Math.cos(i[1])],p=[Math.sin(a[0]),Math.sin(a[1])],g=[Math.cos(a[0]),Math.cos(a[1])],y=c*v[1]*v[0]+f*g[1]*g[0],m=c*v[1]*h[0]+f*g[1]*p[0],E=c*h[1]+f*p[1];return[radiansToDegrees(Math.atan2(m,y)),radiansToDegrees(Math.atan2(E,Math.sqrt(y*y+m*m)))]}}function b7t(e,r){for(var t=0,n=[],i=0;i<e.length-1;i++){var a=e[i],o=e[i+1],s=ZQ(a,o),u=t;t+=s,n.push({p1:a,p2:o,totalDistance:t,distance:s,lastTotalDistance:u})}for(var l=t*r,c,f,h=0,v=n;h<v.length;h++){var p=v[h],g=p.totalDistance;if(g>l){var y=p.p1,m=p.p2,E=(l-p.lastTotalDistance)/p.distance,C=NQ(m,y,E);c=C[0],f=C[1];break}}return{lng:c,lat:f,height:0}}function NQ(e,r,t){return[e[0]*t+r[0]*(1-t),e[1]*t+r[1]*(1-t)]}function ZQ(e,r){return Math.sqrt(Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2))}function Sx(e,r){var t=r.featureId,n=e.data.dataArray;return typeof t=="number"&&(n=n.filter(function(i){var a=i.id;return a===t})),n.map(function(i){var a=zQ(i,r);return _objectSpread(_objectSpread({},i),a)})}function A7t(e,r){return new Promise(function(t){e.inited?t(Sx(e,r)):e.once("update",function(){t(Sx(e,r))})})}function zQ(e,r){var t=r.offset,n=r.shape,i=r.thetaOffset,a=r.mapVersion,o=r.segmentNumber,s=o===void 0?30:o,u=r.autoFit,l=u===void 0?!0:u,c=e.coordinates;if(n==="line")return pathLineAtOffset(c,t);var f=c[0],h=c[1],v=typeof i=="string"?e[i]||0:i,p;switch(n){case"arc":p=arcLineAtOffset;break;case"greatcircle":p=greatCircleLineAtOffset;break;default:p=arcLineAtOffset}var g=p(f,h,t,v,a,s,l),y=_slicedToArray(g,3),m=y[0],E=y[1],C=y[2];return{lng:m,lat:E,height:C}}var UQ=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:50,t=arguments.length>1?arguments[1]:void 0;(0,ge.Z)(this,e),this.limit=r,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}return(0,ye.Z)(e,[{key:"clear",value:function(){var t=this;this.order.forEach(function(n){t.delete(n)}),this.cache={},this.order=[]}},{key:"get",value:function(t){var n=this.cache[t];return n&&(this.deleteOrder(t),this.appendOrder(t)),n}},{key:"set",value:function(t,n){this.cache[t]?(this.delete(t),this.cache[t]=n,this.appendOrder(t)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[t]=n,this.appendOrder(t))}},{key:"delete",value:function(t){var n=this.cache[t];n&&(this.deleteCache(t),this.deleteOrder(t),this.destroy(n,t))}},{key:"deleteCache",value:function(t){delete this.cache[t]}},{key:"deleteOrder",value:function(t){var n=this.order.findIndex(function(i){return i===t});n>=0&&this.order.splice(n,1)}},{key:"appendOrder",value:function(t){this.order.push(t)}},{key:"defaultDestroy",value:function(t,n){return null}}]),e}();function HQ(e){if(e.length===0)throw new Error("max requires at least one data point");for(var r=e[0],t=1;t<e.length;t++)e[t]>r&&(r=e[t]);return r*1}function VQ(e){if(e.length===0)throw new Error("min requires at least one data point");for(var r=e[0],t=1;t<e.length;t++)e[t]<r&&(r=e[t]);return r*1}function bx(e){if(e.length===0)return 0;for(var r=e[0]*1,t=1;t<e.length;t++)r+=e[t]*1;return r}function GQ(e){if(e.length===0)throw new Error("mean requires at least one data point");return bx(e)/e.length}function jQ(e){if(e.length===0)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();for(var r=e[0],t=NaN,n=0,i=1,a=1;a<e.length+1;a++)e[a]!==r?(i>n&&(n=i,t=r),i=1,r=e[a]):i++;return t*1}var d8={min:VQ,max:HQ,mean:GQ,sum:bx,mode:jQ};function g8(e,r){return e.map(function(t){return t[r]})}function WQ(e,r){return d8[e](r)}function nn(e,r){return{enable:e,mask:255,func:{cmp:514,ref:r?1:0,mask:255}}}function YQ(e,r){r===void 0&&(r={});var t=Number(e[0]),n=Number(e[1]),i=Number(e[2]),a=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var o=[t,n],s=[t,a],u=[i,a],l=[i,n];return wu([[o,l,u,s,o]],r.properties,{bbox:e,id:r.id})}var D0;(function(e){e.Realtime="realtime",e.Overlap="overlap",e.Replace="replace"})(D0||(D0={}));var Mi;(function(e){e.Loading="Loading",e.Loaded="Loaded",e.Failure="Failure",e.Cancelled="Cancelled"})(Mi||(Mi={}));var Ax=0,Mx=1,L3=2;function XQ(e){e.forEach(function(r){r.isCurrent&&(r.isVisible=r.isLoaded)})}function $Q(e){e.forEach(function(r){r.properties.state=Ax}),e.forEach(function(r){r.isCurrent&&!Tx(r)&&y8(r)}),e.forEach(function(r){r.isVisible=Boolean(r.properties.state&L3)})}function qQ(e){e.forEach(function(t){t.properties.state=Ax}),e.forEach(function(t){t.isCurrent&&Tx(t)});var r=e.slice().sort(function(t,n){return t.z-n.z});r.forEach(function(t){t.isVisible=Boolean(t.properties.state&L3),t.children.length&&(t.isVisible||t.properties.state&Mx)?t.children.forEach(function(n){n.properties.state=Mx}):t.isCurrent&&y8(t)})}function Tx(e){for(;e;){if(e.isLoaded)return e.properties.state|=L3,!0;e=e.parent}return!1}function y8(e){e.children.forEach(function(r){r.isLoaded?r.properties.state|=L3:y8(r)})}var Lu,M7t=256,Fx=[-1/0,-1/0,1/0,1/0],KQ=.2,QQ=5,JQ=(Lu={},(0,S.Z)(Lu,D0.Realtime,XQ),(0,S.Z)(Lu,D0.Overlap,$Q),(0,S.Z)(Lu,D0.Replace,qQ),Lu),tJ=function(){};function m8(e,r,t){var n=Math.floor((e+180)/360*Math.pow(2,t)),i=Math.floor((1-Math.log(Math.tan(r*Math.PI/180)+1/Math.cos(r*Math.PI/180))/Math.PI)/2*Math.pow(2,t));return[n,i]}function kx(e,r,t){var n=e/Math.pow(2,t)*360-180,i=Math.PI-2*Math.PI*r/Math.pow(2,t),a=180/Math.PI*Math.atan(.5*(Math.exp(i)-Math.exp(-i)));return[n,a]}var Ox=function(r,t,n){var i=kx(r,t,n),a=(0,nr.Z)(i,2),o=a[0],s=a[1],u=kx(r+1,t+1,n),l=(0,nr.Z)(u,2),c=l[0],f=l[1];return[o,f,c,s]};function eJ(e){var r=e.zoom,t=e.latLonBounds,n=e.maxZoom,i=n===void 0?1/0:n,a=e.minZoom,o=a===void 0?0:a,s=e.zoomOffset,u=s===void 0?0:s,l=e.extent,c=l===void 0?Fx:l,f=Math.ceil(r)+u;if(Number.isFinite(o)&&f<o)return[];Number.isFinite(i)&&f>i&&(f=i);for(var h=(0,nr.Z)(t,4),v=h[0],p=h[1],g=h[2],y=h[3],m=[Math.max(v,c[0]),Math.max(p,c[1]),Math.min(g,c[2]),Math.min(y,c[3])],E=[],C=m8(m[0],m[1],f),A=(0,nr.Z)(C,2),M=A[0],Z=A[1],Y=m8(m[2],m[3],f),st=(0,nr.Z)(Y,2),Ct=st[0],Pt=st[1],Zt=M;Zt<=Ct;Zt++)for(var ie=Pt;ie<=Z;ie++)E.push({x:Zt,y:ie,z:f});var ce=(Ct+M)/2,_e=(Z+Pt)/2,Re=function(Me,De){return Math.abs(Me-ce)+Math.abs(De-_e)};return E.sort(function(he,Me){return Re(he.x,he.y)-Re(Me.x,Me.y)}),E}var rJ=function(r,t,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=Math.pow(2,n),o=a-1,s=a,u=r,l=t;return i&&(u<0?u=u+s:u>o&&(u=u%s)),{warpX:u,warpY:l}};function nJ(e){var r=iJ();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function iJ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var aJ=function(e){(0,ze.Z)(t,e);var r=nJ(t);function t(n){var i;(0,ge.Z)(this,t),i=r.call(this),(0,S.Z)((0,Qt.Z)(i),"tileSize",256),(0,S.Z)((0,Qt.Z)(i),"isVisible",!1),(0,S.Z)((0,Qt.Z)(i),"isCurrent",!1),(0,S.Z)((0,Qt.Z)(i),"isVisibleChange",!1),(0,S.Z)((0,Qt.Z)(i),"loadedLayers",0),(0,S.Z)((0,Qt.Z)(i),"isLayerLoaded",!1),(0,S.Z)((0,Qt.Z)(i),"isLoad",!1),(0,S.Z)((0,Qt.Z)(i),"isChildLoad",!1),(0,S.Z)((0,Qt.Z)(i),"parent",null),(0,S.Z)((0,Qt.Z)(i),"children",[]),(0,S.Z)((0,Qt.Z)(i),"data",null),(0,S.Z)((0,Qt.Z)(i),"properties",{}),(0,S.Z)((0,Qt.Z)(i),"loadDataId",0);var a=n.x,o=n.y,s=n.z,u=n.tileSize,l=n.warp,c=l===void 0?!0:l;return i.x=a,i.y=o,i.z=s,i.warp=c||!0,i.tileSize=u,i}return(0,ye.Z)(t,[{key:"isLoading",get:function(){return this.loadStatus===Mi.Loading}},{key:"isLoaded",get:function(){return this.loadStatus===Mi.Loaded}},{key:"isFailure",get:function(){return this.loadStatus===Mi.Failure}},{key:"setTileLayerLoaded",value:function(){this.isLayerLoaded=!0}},{key:"isCancelled",get:function(){return this.loadStatus===Mi.Cancelled}},{key:"isDone",get:function(){return[Mi.Loaded,Mi.Cancelled,Mi.Failure].includes(this.loadStatus)}},{key:"bounds",get:function(){return Ox(this.x,this.y,this.z)}},{key:"bboxPolygon",get:function(){var i=(0,nr.Z)(this.bounds,4),a=i[0],o=i[1],s=i[2],u=i[3],l=[(s-a)/2,(u-o)/2],c=YQ(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:l,meta:`
      `.concat(this.key,`
      `)}});return c}},{key:"key",get:function(){var i="".concat(this.x,"_").concat(this.y,"_").concat(this.z);return i}},{key:"layerLoad",value:function(){this.loadedLayers++,this.emit("layerLoaded")}},{key:"loadData",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s,u,l,c,f,h,v,p,g,y,m,E,C,A,M,Z,Y;return zt().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:return s=o.getData,u=o.onLoad,l=o.onError,this.loadDataId++,c=this.loadDataId,this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=Mi.Loading,f=null,Ct.prev=7,v=this.x,p=this.y,g=this.z,y=this.bounds,m=this.tileSize,E=this.warp,C=rJ(v,p,g,E),A=C.warpX,M=C.warpY,Z=this.abortController.signal,Y={x:A,y:M,z:g,bounds:y,tileSize:m,signal:Z,warp:E},Ct.next=14,s(Y,this);case 14:f=Ct.sent,Ct.next=20;break;case 17:Ct.prev=17,Ct.t0=Ct.catch(7),h=Ct.t0;case 20:if(c===this.loadDataId){Ct.next=22;break}return Ct.abrupt("return");case 22:if(!(this.isCancelled&&!f)){Ct.next=24;break}return Ct.abrupt("return");case 24:if(!(h||!f)){Ct.next=28;break}return this.loadStatus=Mi.Failure,l(h,this),Ct.abrupt("return");case 28:this.loadStatus=Mi.Loaded,this.data=f,u(this);case 31:case"end":return Ct.stop()}},a,this,[[7,17]])}));function i(a){return n.apply(this,arguments)}return i}()},{key:"reloadData",value:function(i){this.isLoading&&this.abortLoad(),this.loadData(i)}},{key:"abortLoad",value:function(){this.isLoaded||this.isCancelled||(this.loadStatus=Mi.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}}]),t}(Vn.EventEmitter),oJ=function(r,t){var n=k3(r),i=Ou(n,t),a=360*3-180,o=85.0511287798065,s=[Math.max(i[0][0],-a),Math.max(i[0][1],-o),Math.min(i[1][0],a),Math.min(i[1][1],o)];return s},sJ=function(r,t){var n=k3(r),i=k3(t),a=p8(n,i);return a};function Ro(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=uJ(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function uJ(e,r){if(e){if(typeof e=="string")return Lx(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lx(e,r)}}function Lx(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function lJ(e){var r=cJ();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function cJ(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var fJ=function(e){(0,ze.Z)(t,e);var r=lJ(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this),(0,S.Z)((0,Qt.Z)(i),"currentTiles",[]),(0,S.Z)((0,Qt.Z)(i),"cacheTiles",new Map),(0,S.Z)((0,Qt.Z)(i),"throttleUpdate",(0,Te.throttle)(function(a,o){i.update(a,o)},16)),(0,S.Z)((0,Qt.Z)(i),"onTileLoad",function(a){i.emit("tile-loaded",a),i.updateTileVisible()}),(0,S.Z)((0,Qt.Z)(i),"onTileError",function(a,o){i.emit("tile-error",{error:a,tile:o}),i.updateTileVisible()}),(0,S.Z)((0,Qt.Z)(i),"onTileUnload",function(a){i.emit("tile-unload",a)}),i.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:Fx,getTileData:tJ,warp:!0,updateStrategy:D0.Overlap},i.updateOptions(n),i}return(0,ye.Z)(t,[{key:"isLoaded",get:function(){return this.currentTiles.every(function(i){return i.isDone})}},{key:"tiles",get:function(){var i=Array.from(this.cacheTiles.values()).sort(function(a,o){return a.z-o.z});return i}},{key:"updateOptions",value:function(i){var a=i.minZoom===void 0?this.options.minZoom:Math.ceil(i.minZoom),o=i.maxZoom===void 0?this.options.maxZoom:Math.floor(i.maxZoom);this.options=(0,H.Z)((0,H.Z)((0,H.Z)({},this.options),i),{},{minZoom:a,maxZoom:o})}},{key:"update",value:function(i,a){var o=this,s=Math.max(0,Math.ceil(i));if(!(this.lastViewStates&&this.lastViewStates.zoom===s&&sJ(this.lastViewStates.latLonBoundsBuffer,a))){var u=oJ(a,KQ);this.lastViewStates={zoom:s,latLonBounds:a,latLonBoundsBuffer:u};var l=!1,c=this.getTileIndices(s,u).filter(function(f){return o.options.warp||f.x>=0&&f.x<Math.pow(2,s)});this.currentTiles=c.map(function(f){var h=f.x,v=f.y,p=f.z,g=o.getTile(h,v,p);if(g){var y,m,E=((y=g)===null||y===void 0?void 0:y.isFailure)||((m=g)===null||m===void 0?void 0:m.isCancelled);return E&&g.loadData({getData:o.options.getTileData,onLoad:o.onTileLoad,onError:o.onTileError}),g}return g=o.createTile(h,v,p),l=!0,g}),l&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}}},{key:"reloadAll",value:function(){var i=Ro(this.cacheTiles),a;try{for(i.s();!(a=i.n()).done;){var o=(0,nr.Z)(a.value,2),s=o[0],u=o[1];this.currentTiles.includes(u)||(this.cacheTiles.delete(s),this.onTileUnload(u)),this.onTileUnload(u),u.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}catch(l){i.e(l)}finally{i.f()}}},{key:"pruneRequests",value:function(){var i=[],a=Ro(this.cacheTiles.values()),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;s.isLoading&&!s.isCurrent&&!s.isVisible&&i.push(s)}}catch(l){a.e(l)}finally{a.f()}for(;i.length>0;){var u=i.shift();u.abortLoad()}}},{key:"getTileByLngLat",value:function(i,a,o){var s=this.options.zoomOffset,u=Math.ceil(o)+s,l=m8(i,a,u),c=this.tiles.filter(function(f){return f.key==="".concat(l[0],"_").concat(l[1],"_").concat(u)});return c[0]}},{key:"destroy",value:function(){var i=Ro(this.cacheTiles.values()),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.isLoading&&o.abortLoad()}}catch(s){i.e(s)}finally{i.f()}this.cacheTiles.clear(),this.currentTiles=[],this.removeAllListeners()}},{key:"updateTileVisible",value:function(){var i=this.options.updateStrategy,a=new Map,o=Ro(this.cacheTiles.values()),s;try{for(o.s();!(s=o.n()).done;){var u=s.value;a.set(u.key,u.isVisible),u.isCurrent=!1,u.isVisible=!1}}catch(p){o.e(p)}finally{o.f()}var l=Ro(this.currentTiles),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;f.isCurrent=!0,f.isVisible=!0}}catch(p){l.e(p)}finally{l.f()}var h=Array.from(this.cacheTiles.values());typeof i=="function"?i(h):JQ[i](h);var v=!1;Array.from(this.cacheTiles.values()).forEach(function(p){p.isVisible!==a.get(p.key)?(p.isVisibleChange=!0,v=!0):p.isVisibleChange=!1}),v&&this.emit("tile-update")}},{key:"getTileIndices",value:function(i,a){var o=this.options,s=o.tileSize,u=o.extent,l=o.zoomOffset,c=Math.floor(this.options.maxZoom),f=Math.ceil(this.options.minZoom),h=eJ({maxZoom:c,minZoom:f,zoomOffset:l,tileSize:s,zoom:i,latLonBounds:a,extent:u});return h}},{key:"getTileId",value:function(i,a,o){var s="".concat(i,",").concat(a,",").concat(o);return s}},{key:"getTile",value:function(i,a,o){var s=this.getTileId(i,a,o),u=this.cacheTiles.get(s);return u}},{key:"createTile",value:function(i,a,o){var s=this.getTileId(i,a,o),u=new aJ({x:i,y:a,z:o,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(s,u),u.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),u}},{key:"resizeCacheTiles",value:function(){var i=QQ*this.currentTiles.length,a=this.cacheTiles.size>i;if(a){var o=Ro(this.cacheTiles),s;try{for(o.s();!(s=o.n()).done;){var u=(0,nr.Z)(s.value,2),l=u[0],c=u[1];if(!c.isVisible&&!this.currentTiles.includes(c)&&(this.cacheTiles.delete(l),this.onTileUnload(c)),this.cacheTiles.size<=i)break}}catch(f){o.e(f)}finally{o.f()}}this.rebuildTileTree()}},{key:"rebuildTileTree",value:function(){var i=Ro(this.cacheTiles.values()),a;try{for(i.s();!(a=i.n()).done;){var o=a.value;o.parent=null,o.children.length=0}}catch(f){i.e(f)}finally{i.f()}var s=Ro(this.cacheTiles.values()),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,c=this.getNearestAncestor(l.x,l.y,l.z);l.parent=c,c!=null&&c.children&&c.children.push(l)}}catch(f){s.e(f)}finally{s.f()}}},{key:"getNearestAncestor",value:function(i,a,o){for(;o>this.options.minZoom;){i=Math.floor(i/2),a=Math.floor(a/2),o=o-1;var s=this.getTile(i,a,o);if(s)return s}return null}}]),t}(R5());function T7t(e){return/(?=.*{z})(?=.*{x})(?=.*({y}|{-y}))/.test(e)}function hJ(e){var r=[],t=/\{([a-z])-([a-z])\}/.exec(e);if(t){var n=t[1].charCodeAt(0),i=t[2].charCodeAt(0),a;for(a=n;a<=i;++a)r.push(e.replace(t[0],String.fromCharCode(a)));return r}if(t=/\{(\d+)-(\d+)\}/.exec(e),t){for(var o=parseInt(t[2],10),s=parseInt(t[1],10);s<=o;s++)r.push(e.replace(t[0],s.toString()));return r}return r.push(e),r}function Iu(e,r){if(!e||!e.length)throw new Error("url is not allowed to be empty");var t=r.x,n=r.y,i=r.z,a=hJ(e),o=Math.abs(t+n)%a.length,s=a[o];return s.replace(/\{x\}/g,t.toString()).replace(/\{y\}/g,n.toString()).replace(/\{z\}/g,i.toString()).replace(/\{bbox\}/g,Ox(t,n,i).join(",")).replace(/\{-y\}/g,(Math.pow(2,i)-n-1).toString())}function vJ(e,r){var t=r.x,n=r.y,i=r.z,a=r.layer,o=r.version,s=o===void 0?"1.0.0":o,u=r.style,l=u===void 0?"default":u,c=r.format,f=r.service,h=f===void 0?"WMTS":f,v=r.tileMatrixset,p="".concat(e,"&SERVICE=").concat(h,"&REQUEST=GetTile&VERSION=").concat(s,"&LAYER=").concat(a,"&STYLE=").concat(l,"&TILEMATRIXSET=").concat(v,"&FORMAT=").concat(c,"&TILECOL=").concat(t,"&TILEROW=").concat(n,"&TILEMATRIX=").concat(i);return p}function Pu(e,r){if(!e)throw new Error(r||"web worker helper assertion failed.")}var k1={self:typeof self!="undefined"&&self,window:typeof window!="undefined"&&window,document:typeof document!="undefined"&&document},w7t=k1.self||k1.window||{},F7t=k1.window||k1.self||{},k7t=k1.self||k1.window||{},O7t=k1.document||{},L7t=typeof importScripts=="function",pJ=typeof window!="undefined"&&typeof window.orientation!="undefined",dJ=function(){function e(r,t){var n=this;this.name=r,this.workerThread=t,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise(function(i,a){n.resolve=i,n.reject=a})}return e.prototype.postMessage=function(r,t){this.workerThread.postMessage({source:"Main thread",type:r,payload:t})},e.prototype.done=function(r){Pu(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(r)},e.prototype.error=function(r){Pu(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(r)},e}(),gJ=dJ,x8=new Map;function yJ(e){Pu(e.source&&!e.url||!e.source&&e.url);var r=x8.get(e.source||e.url);return r||(e.url&&(r=mJ(e.url),x8.set(e.url,r)),e.source&&(r=Ix(e.source),x8.set(e.source,r))),Pu(r),r}function mJ(e){if(!e.startsWith("http"))return e;var r=xJ(e);return Ix(r)}function Ix(e){var r=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(r)}function xJ(e){return`try {
  importScripts('`+e+`');
} catch (error) {
  console.error(error);
  throw error;
}`}function _8(e,r,t){r===void 0&&(r=!0);var n=t||new Set;if(e){if(Px(e))n.add(e);else if(Px(e.buffer))n.add(e.buffer);else if(!ArrayBuffer.isView(e)){if(r&&typeof e=="object")for(var i in e)_8(e[i],r,n)}}return t===void 0?Array.from(n):[]}function Px(e){return e?e instanceof ArrayBuffer||typeof MessagePort!="undefined"&&e instanceof MessagePort||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas:!1}var E8=function(){},_J=function(){function e(r){this.terminated=!1,this.loadableURL="";var t=r.name,n=r.source,i=r.url;Pu(n||i),this.name=t,this.source=n,this.url=i,this.onMessage=E8,this.onError=function(a){return console.log(a)},this.worker=this.createBrowserWorker()}return e.isSupported=function(){return typeof Worker!="undefined"},e.prototype.destroy=function(){this.onMessage=E8,this.onError=E8,this.worker.terminate(),this.terminated=!0},Object.defineProperty(e.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),e.prototype.postMessage=function(r,t){t=t||_8(r),this.worker.postMessage(r,t)},e.prototype.getErrorFromErrorEvent=function(r){var t="Failed to load ";return t+="worker "+this.name+" from "+this.url+". ",r.message&&(t+=r.message+" in "),r.lineno&&(t+=":"+r.lineno+":"+r.colno),new Error(t)},e.prototype.createBrowserWorker=function(){var r=this;this.loadableURL=yJ({source:this.source,url:this.url});var t=new Worker(this.loadableURL,{name:this.name});return t.onmessage=function(n){n.data?r.onMessage(n.data):r.onError(new Error("No data received"))},t.onerror=function(n){r.onError(r.getErrorFromErrorEvent(n)),r.terminated=!0},t.onmessageerror=function(n){return console.error("worker "+r.name+", message error: "+n)},t},e}(),Rx=_J,I3=function(){return I3=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},I3.apply(this,arguments)},Dx=function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})},Bx=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},EJ=function(){function e(r){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=r.source,this.url=r.url,this.setProps(r)}return e.prototype.destroy=function(){this.idleQueue.forEach(function(r){return r.destroy()}),this.isDestroyed=!0},e.prototype.setProps=function(r){this.props=I3(I3({},this.props),r),r.name!==void 0&&(this.name=r.name),r.maxConcurrency!==void 0&&(this.maxConcurrency=r.maxConcurrency),r.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=r.maxMobileConcurrency),r.reuseWorkers!==void 0&&(this.reuseWorkers=r.reuseWorkers),r.onDebug!==void 0&&(this.onDebug=r.onDebug)},e.prototype.startJob=function(r,t,n){return t===void 0&&(t=function(i,a,o){return i.done(o)}),n===void 0&&(n=function(i,a){return i.error(a)}),Dx(this,void 0,void 0,function(){var i,a=this;return Bx(this,function(o){switch(o.label){case 0:return i=new Promise(function(s){return a.jobQueue.push({name:r,onMessage:t,onError:n,onStart:s}),a}),this.startQueuedJob(),[4,i];case 1:return[2,o.sent()]}})})},e.prototype.startQueuedJob=function(){return Dx(this,void 0,void 0,function(){var r,t,n;return Bx(this,function(i){switch(i.label){case 0:if(!this.jobQueue.length)return[2];if(r=this.getAvailableWorker(),!r)return[2];if(t=this.jobQueue.shift(),!t)return[3,4];this.onDebug({message:"Starting job",name:t.name,backlog:this.jobQueue.length,workerThread:r}),n=new gJ(t.name,r),r.onMessage=function(a){return t.onMessage(n,a.type,a.payload)},r.onError=function(a){return t.onError(n,a)},t.onStart(n),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n.result];case 2:return i.sent(),[3,4];case 3:return this.returnWorkerToQueue(r),[7];case 4:return[2]}})})},e.prototype.returnWorkerToQueue=function(r){var t=this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency();t?(r.destroy(),this.count--):this.idleQueue.push(r),this.isDestroyed||this.startQueuedJob()},e.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var r=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new Rx({name:r,source:this.source,url:this.url})}return null},e.prototype.getMaxConcurrency=function(){return pJ?this.maxMobileConcurrency:this.maxConcurrency},e}(),CJ=EJ,Ru=function(){return Ru=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Ru.apply(this,arguments)},Nx=function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},SJ={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},bJ=function(){function e(r){this.workerPools=new Map,this.props=Ru({},SJ),this.setProps(r),this.workerPools=new Map}return e.isSupported=function(){return Rx.isSupported()},e.getWorkerFarm=function(r){return r===void 0&&(r={}),e.workerFarm=e.workerFarm||new e({}),e.workerFarm.setProps(r),e.workerFarm},e.prototype.destroy=function(){var r,t;try{for(var n=Nx(this.workerPools.values()),i=n.next();!i.done;i=n.next()){var a=i.value;a.destroy()}}catch(o){r={error:o}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(r)throw r.error}}},e.prototype.setProps=function(r){var t,n;this.props=Ru(Ru({},this.props),r);try{for(var i=Nx(this.workerPools.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.setProps(this.getWorkerPoolProps())}}catch(s){t={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.getWorkerPool=function(r){var t=r.name,n=r.source,i=r.url,a=this.workerPools.get(t);return a||(a=new CJ({name:t,source:n,url:i}),a.setProps(this.getWorkerPoolProps()),this.workerPools.set(t,a)),a},e.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}},e}(),AJ=bJ,C8=new Map,MJ=function(){function e(){}return Object.defineProperty(e,"onmessage",{set:function(r){self.onmessage=function(t){if(Zx(t)){var n=t.data,i=n.type,a=n.payload;r(i,a)}}},enumerable:!1,configurable:!0}),e.addEventListener=function(r){var t=C8.get(r);t||(t=function(n){if(Zx(n)){var i=n.data,a=i.type,o=i.payload;r(a,o)}}),self.addEventListener("message",t)},e.removeEventListener=function(r){var t=C8.get(r);C8.delete(r),self.removeEventListener("message",t)},e.postMessage=function(r,t){if(self){var n={source:"Worker thread",type:r,payload:t},i=_8(t);self.postMessage(n,i)}},e}(),ro=MJ;function Zx(e){var r=e.type,t=e.data;return r==="message"&&t&&typeof t.source=="string"&&t.source==="Main thread"}function I7t(e){return JSON.parse(TJ(e))}function TJ(e){var r=new Set;return JSON.stringify(e,function(t,n){if(typeof n=="object"&&n!==null){if(r.has(n))try{return JSON.parse(JSON.stringify(n))}catch(i){return}r.add(n)}return n})}function P7t(e){return""+e.name}function R7t(e,r){r===void 0&&(r={});var t=r[e.id]||{},n=e.name+".worker.js",i=t.workerUrl;return r._workerType==="test"&&(i=e.module+"/dist/"+n),i||(i="https://unpkg.com/"+e.module+"/dist/"+n),assert(i),i}var zx=function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})},Ux=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}};function D7t(e,r){return WorkerFarm.isSupported()?e.worker&&(r==null?void 0:r.worker):!1}function B7t(e,r,t,n){return t===void 0&&(t={}),n===void 0&&(n={}),zx(this,void 0,void 0,function(){var i,a,o,s,u,l,c,f;return Ux(this,function(h){switch(h.label){case 0:return i=getWorkerName(e),a=getWorkerURL(e,t),o=WorkerFarm.getWorkerFarm(t),s=o.getWorkerPool({name:i,url:a}),u=t.jobName||e.name,[4,s.startJob(u,wJ.bind(null,n))];case 1:return l=h.sent(),c=removeNontransferableOptions(t),l.postMessage("process",{input:r,options:c}),[4,l.result];case 2:return f=h.sent(),[2,f.result]}})})}function wJ(e,r,t,n){return zx(this,void 0,void 0,function(){var i,a,o,s,u,l,c;return Ux(this,function(f){switch(f.label){case 0:switch(i=t,i){case"done":return[3,1];case"error":return[3,2];case"process":return[3,3]}return[3,8];case 1:return r.done(n),[3,9];case 2:return r.error(new Error(n.error)),[3,9];case 3:a=n.id,o=n.input,s=n.options,f.label=4;case 4:return f.trys.push([4,6,,7]),e.process?[4,e.process(o,s)]:(r.postMessage("error",{id:a,error:"Worker not set up to process on main thread"}),[2]);case 5:return u=f.sent(),r.postMessage("done",{id:a,result:u}),[3,7];case 6:return l=f.sent(),c=l instanceof Error?l.message:"unknown error",r.postMessage("error",{id:a,error:c}),[3,7];case 7:return[3,9];case 8:console.warn("process-on-worker: unknown message "+t),f.label=9;case 9:return[2]}})})}var FJ=function(){function e(){this._values=[],this._settlers=[],this._closed=!1}return e.prototype[Symbol.asyncIterator]=function(){return this},e.prototype.push=function(r){return this.enqueue(r)},e.prototype.enqueue=function(r){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var t=this._settlers.shift();r instanceof Error?t.reject(r):t.resolve({value:r})}else this._values.push(r)},e.prototype.close=function(){for(;this._settlers.length>0;){var r=this._settlers.shift();r.resolve({done:!0})}this._closed=!0},e.prototype.next=function(){var r=this;if(this._values.length>0){var t=this._values.shift();return t instanceof Error?Promise.reject(t):Promise.resolve({done:!1,value:t})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise(function(n,i){r._settlers.push({resolve:n,reject:i})})},e}(),kJ=FJ,OJ=function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})},LJ=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},IJ=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof __values=="function"?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(l){a({value:l,done:s})},o)}},PJ=0,P3,Hx;function RJ(e,r){var t=this;if(typeof self!="undefined"){var n={process:DJ};ro.onmessage=function(i,a){return OJ(t,void 0,void 0,function(){var o,s,u,l,c,f,h,v,p,g,y;return LJ(this,function(m){switch(m.label){case 0:switch(m.trys.push([0,19,,20]),o=i,o){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!e)throw new Error("Worker does not support atomic processing");return[4,e(a.input,a.options||{},n)];case 2:return s=m.sent(),ro.postMessage("done",{result:s}),[3,18];case 3:if(!r)throw new Error("Worker does not support batched processing");P3=new kJ,Hx=a.options||{},u=r(P3,Hx,n),m.label=4;case 4:m.trys.push([4,9,10,15]),l=IJ(u),m.label=5;case 5:return[4,l.next()];case 6:if(c=m.sent(),!!c.done)return[3,8];f=c.value,ro.postMessage("output-batch",{result:f}),m.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return h=m.sent(),g={error:h},[3,15];case 10:return m.trys.push([10,,13,14]),c&&!c.done&&(y=l.return)?[4,y.call(l)]:[3,12];case 11:m.sent(),m.label=12;case 12:return[3,14];case 13:if(g)throw g.error;return[7];case 14:return[7];case 15:return ro.postMessage("done",{}),[3,18];case 16:return P3.push(a.input),[3,18];case 17:return P3.close(),[3,18];case 18:return[3,20];case 19:return v=m.sent(),p=v instanceof Error?v.message:"",ro.postMessage("error",{error:p}),[3,20];case 20:return[2]}})})}}}function DJ(e,r){return r===void 0&&(r={}),new Promise(function(t,n){var i=PJ++,a=function(s,u){if(u.id===i)switch(s){case"done":ro.removeEventListener(a),t(u.result);break;case"error":ro.removeEventListener(a),n(u.error);break;default:}};ro.addEventListener(a);var o={id:i,input:e,options:r};ro.postMessage("process",o)})}var Vx=function(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})},Gx=function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}},S8={};function N7t(e,r,t){return r===void 0&&(r=null),t===void 0&&(t={}),Vx(this,void 0,void 0,function(){return Gx(this,function(n){switch(n.label){case 0:return r&&(e=BJ(e,r,t)),S8[e]=S8[e]||NJ(e),[4,S8[e]];case 1:return[2,n.sent()]}})})}function BJ(e,r,t){if(e.startsWith("http"))return e;var n=t.modules||{};return n[e]?n[e]:t.CDN?(assert(t.CDN.startsWith("http")),t.CDN+"/"+r+"/dist/libs/"+e):isWorker?"../src/libs/"+e:"modules/"+r+"/src/libs/"+e}function NJ(e){return Vx(this,void 0,void 0,function(){var r,t,n;return Gx(this,function(i){switch(i.label){case 0:return e.endsWith("wasm")?[4,fetch(e)]:[3,3];case 1:return r=i.sent(),[4,r.arrayBuffer()];case 2:return[2,i.sent()];case 3:return isWorker?[2,importScripts(e)]:[4,fetch(e)];case 4:return t=i.sent(),[4,t.text()];case 5:return n=i.sent(),[2,ZJ(n,e)]}})})}function ZJ(e,r){if(isWorker)return eval.call(global,e),null;var t=document.createElement("script");t.id=r;try{t.appendChild(document.createTextNode(e))}catch(n){t.text=e}return document.body.appendChild(t),null}var Z7t="0.0.3",z7t={id:"null",name:"null",module:"web-worker-helper",options:{}};function b8(e){var r=e.color;return!r||!r.length?[1,1,1,1]:r}function A8(e,r,t){return t.length===2?[t[0],t[1],0]:[t[0],t[1],t[2]]}function M8(e){var r=e.filter;return r?[1]:[0]}function T8(e,r){return[r]}var zJ=F(89675),Do=F.n(zJ),R3=de.Ue(),U7t=de.Ue(),En=de.Ue(),Bo=de.Ue(),B0=de.Ue();function w8(e,r,t,n,i){de.IH(e,t,n),de.Fv(e,e),r=de.al(-e[1],e[0]);var a=de.al(-t[1],t[0]);return[i/de.AK(r,a),r]}function No(e,r){return de.t8(e,-r[1],r[0])}function N0(e,r,t){return de.lu(e,r,t),de.Fv(e,e),e}function F8(e,r){return e[0]===r[0]&&e[1]===r[1]}function H7t(e){for(var r=new Map,t=0;t<e.length;t++){var n=e[0].toString()+"-"+e[1].toString();r.get(n)?(e.splice(t,1),t++):r.set(n,n)}return e}var UJ=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,ge.Z)(this,e),(0,S.Z)(this,"lastFlip",-1),(0,S.Z)(this,"miter",de.al(0,0)),(0,S.Z)(this,"started",!1),(0,S.Z)(this,"dash",!1),(0,S.Z)(this,"totalDistance",0),(0,S.Z)(this,"currentIndex",0),this.join=r.join||"miter",this.cap=r.cap||"butt",this.miterLimit=r.miterLimit||10,this.thickness=r.thickness||1,this.dash=r.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return(0,ye.Z)(e,[{key:"extrude_gaode2",value:function(t,n){var i=this.complex;if(t.length<=1)return i;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var a=t.length,o=i.startIndex,s=1;s<a;s++){var u,l,c,f=t[s-1];f.push((u=n[s-1][2])!==null&&u!==void 0?u:0);var h=n[s-1],v=t[s];v.push((l=n[s][2])!==null&&l!==void 0?l:0);var p=n[s],g=s<t.length-1?[].concat((0,We.Z)(t[s+1]),[(c=n[s+1][2])!==null&&c!==void 0?c:0]):null,y=s<n.length-1?n[s+1]:null,m=this.segment_gaode2(i,o,f,v,g,h,p,y);o+=m}if(this.dash)for(var E=0;E<i.positions.length/6;E++)i.positions[E*6+5]=this.totalDistance;return i.startIndex=i.positions.length/6,i}},{key:"simpleExtrude_gaode2",value:function(t,n){var i=this.complex;if(t.length<=1)return i;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var a=t.length,o=i.startIndex,s=1;s<a;s++){var u,l,c,f=t[s-1];f.push((u=n[s-1][2])!==null&&u!==void 0?u:0);var h=n[s-1],v=t[s];v.push((l=n[s][2])!==null&&l!==void 0?l:0);var p=n[s],g=s<t.length-1?[].concat((0,We.Z)(t[s+1]),[(c=n[s+1][2])!==null&&c!==void 0?c:0]):null,y=s<n.length-1?n[s+1]:null,m=this.simpleSegment(i,o,f,v,g,h,p,y);o+=m}if(this.dash)for(var E=0;E<i.positions.length/6;E++)i.positions[E*6+5]=this.totalDistance;return i.startIndex=i.positions.length/6,i}},{key:"extrude",value:function(t){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var i=t.length,a=n.startIndex,o=1;o<i;o++){var s=t[o-1],u=t[o],l=o<t.length-1?t[o+1]:null,c=this.segment(n,a,s,u,l);a+=c}if(this.dash)for(var f=0;f<n.positions.length/6;f++)n.positions[f*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleExtrude",value:function(t){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var i=t.length,a=n.startIndex,o=1;o<i;o++){var s=t[o-1],u=t[o],l=o<t.length-1?t[o+1]:null,c=this.simpleSegment(n,a,s,u,l);a+=c}if(this.dash)for(var f=0;f<n.positions.length/6;f++)n.positions[f*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"segment_gaode2",value:function(t,n,i,a,o,s,u,l){var c=0,f=t.indices,h=t.positions,v=t.normals,p=this.cap==="square",g=this.join==="bevel",y=Tn([u[0],u[1]]),m=Tn([s[0],s[1]]);N0(En,a,i);var E=0;if(this.dash&&(E=this.lineSegmentDistance(y,m),this.totalDistance+=E),this.normal||(this.normal=de.Ue(),No(this.normal,En)),!this.started)if(this.started=!0,p){var C=de.Ue(),A=de.Ue();de.IH(C,this.normal,En),de.IH(A,this.normal,En),v.push(A[0],A[1],0),v.push(C[0],C[1],0),h.push(i[0],i[1],i[2]|0,this.totalDistance-E,-this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),h.push(i[0],i[1],i[2]|0,this.totalDistance-E,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(h,v,i,this.normal,this.thickness,this.totalDistance-E);if(f.push(n+0,n+1,n+2),o){F8(a,o)&&de.IH(o,a,de.Fv(o,de.$X(o,a,i))),N0(Bo,o,a);var Y=w8(B0,de.Ue(),En,Bo,this.thickness),st=(0,nr.Z)(Y,2),Ct=st[0],Pt=st[1],Zt=de.AK(B0,this.normal)<0?-1:1,ie=g;if(!ie&&this.join==="miter"){var ce=Ct;ce>this.miterLimit&&(ie=!0)}ie?(v.push(this.normal[0],this.normal[1],0),v.push(Pt[0],Pt[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,f.push.apply(f,(0,We.Z)(this.lastFlip!==-Zt?[n,n+2,n+3]:[n+2,n+1,n+3])),f.push(n+2,n+3,n+4),No(R3,Bo),de.JG(this.normal,R3),v.push(this.normal[0],this.normal[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c+=3):(this.extrusions(h,v,a,Pt,Ct,this.totalDistance),f.push.apply(f,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),Zt=-1,de.JG(this.normal,Pt),c+=2),this.lastFlip=Zt}else{if(No(this.normal,En),p){var M=de.Ue(),Z=de.Ue();de.lu(Z,En,this.normal),de.IH(M,En,this.normal),v.push(Z[0],Z[1],0),v.push(M[0],M[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(h,v,a,this.normal,this.thickness,this.totalDistance);f.push.apply(f,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),c+=2}return c}},{key:"simpleSegment",value:function(t,n,i,a,o){var s=0,u=t.indices,l=t.positions,c=t.normals,f=Tn([a[0],a[1]]),h=Tn([i[0],i[1]]);N0(En,f,h);var v=0;if(this.dash&&(v=this.lineSegmentDistance(f,h),this.totalDistance+=v),this.normal||(this.normal=de.Ue(),No(this.normal,En)),this.started||(this.started=!0,this.extrusions(l,c,i,this.normal,this.thickness,this.totalDistance-v)),u.push(n+0,n+1,n+2),!o)No(this.normal,En),this.extrusions(l,c,a,this.normal,this.thickness,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),s+=2;else{var p=Tn([o[0],o[1]]);F8(f,p)&&de.IH(p,f,de.Fv(p,de.$X(p,f,h))),N0(Bo,p,f);var g=w8(B0,de.Ue(),En,Bo,this.thickness),y=(0,nr.Z)(g,2),m=y[0],E=y[1],C=de.AK(B0,this.normal)<0?-1:1;this.extrusions(l,c,a,E,m,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),C=-1,de.JG(this.normal,E),s+=2,this.lastFlip=C}return s}},{key:"segment",value:function(t,n,i,a,o){var s=0,u=t.indices,l=t.positions,c=t.normals,f=this.cap==="square",h=this.join==="bevel",v=Tn([a[0],a[1]]),p=Tn([i[0],i[1]]);N0(En,v,p);var g=0;if(this.dash&&(g=this.lineSegmentDistance(v,p),this.totalDistance+=g),this.normal||(this.normal=de.Ue(),No(this.normal,En)),!this.started)if(this.started=!0,f){var y=de.Ue(),m=de.Ue();de.IH(y,this.normal,En),de.IH(m,this.normal,En),c.push(m[0],m[1],0),c.push(y[0],y[1],0),l.push(i[0],i[1],i[2]|0,this.totalDistance-g,-this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),l.push(i[0],i[1],i[2]|0,this.totalDistance-g,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,c,i,this.normal,this.thickness,this.totalDistance-g);if(u.push(n+0,n+1,n+2),o){var A=Tn([o[0],o[1]]);F8(v,A)&&de.IH(A,v,de.Fv(A,de.$X(A,v,p))),N0(Bo,A,v);var M=w8(B0,de.Ue(),En,Bo,this.thickness),Z=(0,nr.Z)(M,2),Y=Z[0],st=Z[1],Ct=de.AK(B0,this.normal)<0?-1:1,Pt=h;if(!Pt&&this.join==="miter"){var Zt=Y;Zt>this.miterLimit&&(Pt=!0)}Pt?(c.push(this.normal[0],this.normal[1],0),c.push(st[0],st[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u.push.apply(u,(0,We.Z)(this.lastFlip!==-Ct?[n,n+2,n+3]:[n+2,n+1,n+3])),u.push(n+2,n+3,n+4),No(R3,Bo),de.JG(this.normal,R3),c.push(this.normal[0],this.normal[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s+=3):(this.extrusions(l,c,a,st,Y,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),Ct=-1,de.JG(this.normal,st),s+=2),this.lastFlip=Ct}else{if(No(this.normal,En),f){var E=de.Ue(),C=de.Ue();de.lu(C,En,this.normal),de.IH(E,En,this.normal),c.push(C[0],C[1],0),c.push(E[0],E[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,c,a,this.normal,this.thickness,this.totalDistance);u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),s+=2}return s}},{key:"extrusions",value:function(t,n,i,a,o,s){n.push(a[0],a[1],0),n.push(a[0],a[1],0),t.push(i[0],i[1],i[2]|0,s,-o,i[2]|0),this.complex.indexes.push(this.currentIndex),t.push(i[0],i[1],i[2]|0,s,o,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,n){var i=n[0]-t[0],a=n[1]-t[1];return Math.sqrt(i*i+a*a)}}]),e}(),D3=85.0511287798;function k8(e){var r=e.coordinates,t=e.originCoordinates,n=e.version,i=new UJ({dash:!0,join:"bevel"});if(n==="GAODE2.x"){var a=r;Array.isArray(a[0][0])||(a=[r]);var o=t;Array.isArray(o[0][0])||(o=[t]);for(var s=0;s<a.length;s++){var u=a[s],l=o[s];i.extrude_gaode2(u,l)}}else{var c=r;c[0]&&!Array.isArray(c[0][0])&&(c=[r]),c.forEach(function(h){i.extrude(h)})}var f=i.complex;return{vertices:f.positions,indices:f.indices,normals:f.normals,indexes:f.indexes,size:6}}function B3(e){var r=eo(e.coordinates);return{vertices:[].concat((0,We.Z)(r),(0,We.Z)(r),(0,We.Z)(r),(0,We.Z)(r)),indices:[0,1,2,2,3,0],size:r.length}}function jx(e){var r=e.coordinates,t=Do().flatten(r),n=t.vertices,i=t.dimensions,a=t.holes,o=Do()(n,a,i);return{indices:o,vertices:n,size:i}}function V7t(e,r){var t=r;return r>D3&&(t=D3),r<-D3&&(t=-D3),[Math.PI*e/180+Math.PI,Math.PI-Math.log(Math.tan(Math.PI*.25+Math.PI*t/180*.5))]}function G7t(e,r){return[(e-Math.PI)*180/Math.PI,(Math.atan(Math.exp(Math.PI-r))-Math.PI*.25)*2*180/Math.PI]}var HJ=function(){var e=(0,xe.Z)(zt().mark(function r(t){var n,i,a,o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.descriptors,i=t.features,a=t.enablePicking,o=t.iconMap,s={a_Color:b8,a_Position:A8,filter:M8,a_vertexId:T8,a_PickingColor:function(g){var y=g.id;return a?Ja(y):[0,0,0]},a_DistanceAndIndex:function(g,y,m,E,C,A){return A===void 0?[m[3],10]:[m[3],A]},a_Total_Distance:function(g,y,m){return[m[5]]},a_Size:function(g){var y=g.size,m=y===void 0?1:y;return Array.isArray(m)?[m[0],m[1]]:[m,0]},a_Normal:function(g,y,m,E,C){return C},a_Miter:function(g,y,m){return[m[4]]},a_iconMapUV:function(g){var y=g.texture,m=o[y]||{x:0,y:0},E=m.x,C=m.y;return[E,C]}},u={sizePerElement:0,elements:[]},l=0,c=[],f=3,i.forEach(function(p,g){var y=k8(p),m=y.indices,E=y.vertices,C=y.normals,A=y.size,M=y.indexes;m.forEach(function(Ct){c.push(Ct+l)}),f=A;var Z=E.length/A;u.sizePerElement=f,u.elements.push({featureIdx:g,vertices:E,normals:C,offset:l}),l+=Z;for(var Y=function(Pt){var Zt=(C==null?void 0:C.slice(Pt*3,Pt*3+3))||[],ie=E.slice(Pt*A,Pt*A+A),ce=0;M&&M[Pt]!==void 0&&(ce=M[Pt]),n.forEach(function(_e){if(_e&&s[_e.name]){var Re;(Re=_e.buffer.data).push.apply(Re,(0,We.Z)(s[_e.name](p,g,ie,Pt,Zt,ce)))}})},st=0;st<Z;st++)Y(st)}),v.abrupt("return",{descriptors:n,featureLayout:u,indices:c});case 8:case"end":return v.stop()}},r)}));return function(t){return e.apply(this,arguments)}}(),VJ=function(){var e=(0,xe.Z)(zt().mark(function r(t){var n,i,a,o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return n=t.descriptors,i=t.features,a=t.enablePicking,o=t.shape2d,s={a_Color:b8,a_Position:A8,filter:M8,a_vertexId:T8,a_PickingColor:function(g){var y=g.id;return a?Ja(y):[0,0,0]},a_Shape:function(g){var y=g.shape,m=y===void 0?2:y,E=o.indexOf(m);return[E]},a_Extrude:function(g,y,m,E){var C=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],A=E%4*3;return[C[A],C[A+1],C[A+2]]},a_Size:function(g){var y=g.size,m=y===void 0?5:y;return Array.isArray(m)?[m[0]]:[m]}},u={sizePerElement:0,elements:[]},l=0,c=[],f=3,i.forEach(function(p,g){var y=B3(p),m=y.indices,E=y.vertices,C=y.normals,A=y.size,M=y.indexes;m.forEach(function(Ct){c.push(Ct+l)}),f=A;var Z=E.length/A;u.sizePerElement=f,u.elements.push({featureIdx:g,vertices:E,normals:C,offset:l}),l+=Z;for(var Y=function(Pt){var Zt=(C==null?void 0:C.slice(Pt*3,Pt*3+3))||[],ie=E.slice(Pt*A,Pt*A+A),ce=0;M&&M[Pt]!==void 0&&(ce=M[Pt]),n.forEach(function(_e){if(_e&&s[_e.name]){var Re;(Re=_e.buffer.data).push.apply(Re,(0,We.Z)(s[_e.name](p,g,ie,Pt,Zt,ce)))}})},st=0;st<Z;st++)Y(st)}),v.abrupt("return",{descriptors:n,featureLayout:u,indices:c});case 8:case"end":return v.stop()}},r)}));return function(t){return e.apply(this,arguments)}}(),GJ=function(){var e=(0,xe.Z)(zt().mark(function r(t){var n,i,a,o,s,u,l,c;return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return n=t.descriptors,i=t.features,a=t.enablePicking,o={a_Color:b8,a_Position:A8,filter:M8,a_vertexId:T8,a_PickingColor:function(p){var g=p.id;return a?Ja(g):[0,0,0]}},s={sizePerElement:0,elements:[]},u=0,l=[],c=3,i.forEach(function(v,p){var g=jx(v),y=g.indices,m=g.vertices,E=g.normals,C=g.size,A=g.indexes;y.forEach(function(st){l.push(st+u)}),c=C;var M=m.length/C;s.sizePerElement=c,s.elements.push({featureIdx:p,vertices:m,normals:E,offset:u}),u+=M;for(var Z=function(Ct){var Pt=(E==null?void 0:E.slice(Ct*3,Ct*3+3))||[],Zt=m.slice(Ct*C,Ct*C+C),ie=0;A&&A[Ct]!==void 0&&(ie=A[Ct]),n.forEach(function(ce){if(ce&&o[ce.name]){var _e;(_e=ce.buffer.data).push.apply(_e,(0,We.Z)(o[ce.name](v,p,Zt,Ct,Pt,ie)))}})},Y=0;Y<M;Y++)Z(Y)}),h.abrupt("return",{descriptors:n,featureLayout:s,indices:l});case 8:case"end":return h.stop()}},r)}));return function(t){return e.apply(this,arguments)}}(),Wx={pointFill:VJ,line:HJ,polygonFill:GJ},Yx=(0,H.Z)({},Wx);function jJ(e){return O8.apply(this,arguments)}function O8(){return O8=(0,xe.Z)(zt().mark(function e(r){var t,n;return zt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t=r.workerType,n=r.data,!Yx[t]){a.next=3;break}return a.abrupt("return",Yx[t](n));case 3:return a.abrupt("return",Promise.reject(new Error('Worker with type "'.concat(t,'" non-existent.'))));case 4:case"end":return a.stop()}},e)})),O8.apply(this,arguments)}RJ(jJ);var Xx=new Map;function WJ(e,r){Xx.set(e,r)}function YJ(e){var r=Xx.get(e);return r}var XJ=`var L7=function(t){"use strict";function e(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function r(){r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=w(a,r);if(u){if(u===l)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,a),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function p(){}function v(){}var d={};s(d,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(S([])));g&&g!==e&&n.call(g,i)&&(d=g);var m=v.prototype=h.prototype=Object.create(d);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,u){var s=f(t[o],t,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(l).then((function(t){c.value=t,a(c)}),(function(t){return r("throw",t,a,u)}))}u(s.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,s(m,"constructor",v),s(v,"constructor",p),p.displayName=s(v,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,u,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},x(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(m),s(m,u,"Generator"),s(m,i,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),A(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function n(t,e,r,n,o,i,a){try{var u=t[i](a),s=u.value}catch(t){return void r(t)}u.done?e(s):Promise.resolve(s).then(n,o)}function o(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function u(t){n(a,o,i,u,s,"next",t)}function s(t){n(a,o,i,u,s,"throw",t)}u(void 0)}))}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function u(t,e,r){return e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return h(t)}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=f(t);if(e){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function b(t,e){return t(e={exports:{}},e.exports),e.exports}var w,E,A=function(t){return t&&t.Math==Math&&t},O=A("object"==typeof globalThis&&globalThis)||A("object"==typeof window&&window)||A("object"==typeof self&&self)||A("object"==typeof x&&x)||function(){return this}()||Function("return this")(),S=Object.defineProperty,T=function(t,e){try{S(O,t,{value:e,configurable:!0,writable:!0})}catch(r){O[t]=e}return e},k=O["__core-js_shared__"]||T("__core-js_shared__",{}),I=b((function(t){(t.exports=function(t,e){return k[t]||(k[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})})),j=function(t){try{return!!t()}catch(t){return!0}},P=!j((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),_=Function.prototype,M=_.call,L=P&&_.bind.bind(M,M),R=function(t){return P?L(t):function(){return M.apply(t,arguments)}},C=R({}.toString),N=R("".slice),D=function(t){return N(C(t),8,-1)},F=function(t){if("Function"===D(t))return R(t)},W=function(t){return null==t},z=TypeError,B=function(t){if(W(t))throw z("Can't call method on "+t);return t},U=Object,G=function(t){return U(B(t))},H=F({}.hasOwnProperty),V=Object.hasOwn||function(t,e){return H(G(t),e)},q=0,Z=Math.random(),Y=F(1..toString),$=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Y(++q+Z,36)},K="object"==typeof document&&document.all,Q={all:K,IS_HTMLDDA:void 0===K&&void 0!==K},X=Q.all,J=Q.IS_HTMLDDA?function(t){return"function"==typeof t||t===X}:function(t){return"function"==typeof t},tt=function(t){return J(t)?t:void 0},et=function(t,e){return arguments.length<2?tt(O[t]):O[t]&&O[t][e]},rt=et("navigator","userAgent")||"",nt=O.process,ot=O.Deno,it=nt&&nt.versions||ot&&ot.version,at=it&&it.v8;at&&(E=(w=at.split("."))[0]>0&&w[0]<4?1:+(w[0]+w[1])),!E&&rt&&(!(w=rt.match(/Edge\\/(\\d+)/))||w[1]>=74)&&(w=rt.match(/Chrome\\/(\\d+)/))&&(E=+w[1]);var ut=E,st=!!Object.getOwnPropertySymbols&&!j((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ut&&ut<41})),ct=st&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=I("wks"),lt=O.Symbol,ht=lt&&lt.for,pt=ct?lt:lt&&lt.withoutSetter||$,vt=function(t){if(!V(ft,t)||!st&&"string"!=typeof ft[t]){var e="Symbol."+t;st&&V(lt,t)?ft[t]=lt[t]:ft[t]=ct&&ht?ht(e):pt(e)}return ft[t]},dt={};dt[vt("toStringTag")]="z";var yt="[object z]"===String(dt),gt=!j((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),mt=Q.all,xt=Q.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:J(t)||t===mt}:function(t){return"object"==typeof t?null!==t:J(t)},bt=O.document,wt=xt(bt)&&xt(bt.createElement),Et=function(t){return wt?bt.createElement(t):{}},At=!gt&&!j((function(){return 7!=Object.defineProperty(Et("div"),"a",{get:function(){return 7}}).a})),Ot=gt&&j((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),St=String,Tt=TypeError,kt=function(t){if(xt(t))return t;throw Tt(St(t)+" is not an object")},It=Function.prototype.call,jt=P?It.bind(It):function(){return It.apply(It,arguments)},Pt=F({}.isPrototypeOf),_t=Object,Mt=ct?function(t){return"symbol"==typeof t}:function(t){var e=et("Symbol");return J(e)&&Pt(e.prototype,_t(t))},Lt=String,Rt=function(t){try{return Lt(t)}catch(t){return"Object"}},Ct=TypeError,Nt=function(t){if(J(t))return t;throw Ct(Rt(t)+" is not a function")},Dt=function(t,e){var r=t[e];return W(r)?void 0:Nt(r)},Ft=TypeError,Wt=TypeError,zt=vt("toPrimitive"),Bt=function(t,e){if(!xt(t)||Mt(t))return t;var r,n=Dt(t,zt);if(n){if(void 0===e&&(e="default"),r=jt(n,t,e),!xt(r)||Mt(r))return r;throw Wt("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&J(r=t.toString)&&!xt(n=jt(r,t)))return n;if(J(r=t.valueOf)&&!xt(n=jt(r,t)))return n;if("string"!==e&&J(r=t.toString)&&!xt(n=jt(r,t)))return n;throw Ft("Can't convert object to primitive value")}(t,e)},Ut=function(t){var e=Bt(t,"string");return Mt(e)?e:e+""},Gt=TypeError,Ht=Object.defineProperty,Vt=Object.getOwnPropertyDescriptor,qt={f:gt?Ot?function(t,e,r){if(kt(t),e=Ut(e),kt(r),"function"==typeof t&&"prototype"===e&&"value"in r&&"writable"in r&&!r.writable){var n=Vt(t,e);n&&n.writable&&(t[e]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return Ht(t,e,r)}:Ht:function(t,e,r){if(kt(t),e=Ut(e),kt(r),At)try{return Ht(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Gt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},Zt=Function.prototype,Yt=gt&&Object.getOwnPropertyDescriptor,$t=V(Zt,"name"),Kt={EXISTS:$t,PROPER:$t&&"something"===function(){}.name,CONFIGURABLE:$t&&(!gt||gt&&Yt(Zt,"name").configurable)},Qt=F(Function.toString);J(k.inspectSource)||(k.inspectSource=function(t){return Qt(t)});var Xt,Jt,te,ee=k.inspectSource,re=O.WeakMap,ne=J(re)&&/native code/.test(String(re)),oe=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ie=gt?function(t,e,r){return qt.f(t,e,oe(1,r))}:function(t,e,r){return t[e]=r,t},ae=I("keys"),ue=function(t){return ae[t]||(ae[t]=$(t))},se={},ce=O.TypeError,fe=O.WeakMap;if(ne||k.state){var le=k.state||(k.state=new fe);le.get=le.get,le.has=le.has,le.set=le.set,Xt=function(t,e){if(le.has(t))throw ce("Object already initialized");return e.facade=t,le.set(t,e),e},Jt=function(t){return le.get(t)||{}},te=function(t){return le.has(t)}}else{var he=ue("state");se[he]=!0,Xt=function(t,e){if(V(t,he))throw ce("Object already initialized");return e.facade=t,ie(t,he,e),e},Jt=function(t){return V(t,he)?t[he]:{}},te=function(t){return V(t,he)}}var pe={set:Xt,get:Jt,has:te,enforce:function(t){return te(t)?Jt(t):Xt(t,{})},getterFor:function(t){return function(e){var r;if(!xt(e)||(r=Jt(e)).type!==t)throw ce("Incompatible receiver, "+t+" required");return r}}},ve=b((function(t){var e=Kt.CONFIGURABLE,r=pe.enforce,n=pe.get,o=Object.defineProperty,i=gt&&!j((function(){return 8!==o((function(){}),"length",{value:8}).length})),a=String(String).split("String"),u=t.exports=function(t,n,u){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\\(([^)]*)\\)/,"$1")+"]"),u&&u.getter&&(n="get "+n),u&&u.setter&&(n="set "+n),(!V(t,"name")||e&&t.name!==n)&&(gt?o(t,"name",{value:n,configurable:!0}):t.name=n),i&&u&&V(u,"arity")&&t.length!==u.arity&&o(t,"length",{value:u.arity});try{u&&V(u,"constructor")&&u.constructor?gt&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var s=r(t);return V(s,"source")||(s.source=a.join("string"==typeof n?n:"")),t};Function.prototype.toString=u((function(){return J(this)&&n(this).source||ee(this)}),"toString")})),de=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(J(r)&&ve(r,i,n),n.global)o?t[e]=r:T(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:qt.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},ye=vt("toStringTag"),ge=Object,me="Arguments"==D(function(){return arguments}()),xe=yt?D:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=ge(t),ye))?r:me?D(e):"Object"==(n=D(e))&&J(e.callee)?"Arguments":n},be=yt?{}.toString:function(){return"[object "+xe(this)+"]"};yt||de(Object.prototype,"toString",be,{unsafe:!0});var we={}.propertyIsEnumerable,Ee=Object.getOwnPropertyDescriptor,Ae={f:Ee&&!we.call({1:2},1)?function(t){var e=Ee(this,t);return!!e&&e.enumerable}:we},Oe=Object,Se=F("".split),Te=j((function(){return!Oe("z").propertyIsEnumerable(0)}))?function(t){return"String"==D(t)?Se(t,""):Oe(t)}:Oe,ke=function(t){return Te(B(t))},Ie=Object.getOwnPropertyDescriptor,je={f:gt?Ie:function(t,e){if(t=ke(t),e=Ut(e),At)try{return Ie(t,e)}catch(t){}if(V(t,e))return oe(!jt(Ae.f,t,e),t[e])}},Pe=Math.ceil,_e=Math.floor,Me=Math.trunc||function(t){var e=+t;return(e>0?_e:Pe)(e)},Le=function(t){var e=+t;return e!=e||0===e?0:Me(e)},Re=Math.max,Ce=Math.min,Ne=function(t,e){var r=Le(t);return r<0?Re(r+e,0):Ce(r,e)},De=Math.min,Fe=function(t){return t>0?De(Le(t),9007199254740991):0},We=function(t){return Fe(t.length)},ze=function(t){return function(e,r,n){var o,i=ke(e),a=We(i),u=Ne(n,a);if(t&&r!=r){for(;a>u;)if((o=i[u++])!=o)return!0}else for(;a>u;u++)if((t||u in i)&&i[u]===r)return t||u||0;return!t&&-1}},Be={includes:ze(!0),indexOf:ze(!1)},Ue=Be.indexOf,Ge=F([].push),He=function(t,e){var r,n=ke(t),o=0,i=[];for(r in n)!V(se,r)&&V(n,r)&&Ge(i,r);for(;e.length>o;)V(n,r=e[o++])&&(~Ue(i,r)||Ge(i,r));return i},Ve=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],qe=Ve.concat("length","prototype"),Ze={f:Object.getOwnPropertyNames||function(t){return He(t,qe)}},Ye={f:Object.getOwnPropertySymbols},$e=F([].concat),Ke=et("Reflect","ownKeys")||function(t){var e=Ze.f(kt(t)),r=Ye.f;return r?$e(e,r(t)):e},Qe=function(t,e,r){for(var n=Ke(e),o=qt.f,i=je.f,a=0;a<n.length;a++){var u=n[a];V(t,u)||r&&V(r,u)||o(t,u,i(e,u))}},Xe=/#|\\.prototype\\./,Je=function(t,e){var r=er[tr(t)];return r==nr||r!=rr&&(J(e)?j(e):!!e)},tr=Je.normalize=function(t){return String(t).replace(Xe,".").toLowerCase()},er=Je.data={},rr=Je.NATIVE="N",nr=Je.POLYFILL="P",or=Je,ir=je.f,ar=function(t,e){var r,n,o,i,a,u=t.target,s=t.global,c=t.stat;if(r=s?O:c?O[u]||T(u,{}):(O[u]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=ir(r,n))&&a.value:r[n],!or(s?n:u+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Qe(i,o)}(t.sham||o&&o.sham)&&ie(i,"sham",!0),de(r,n,i,t)}},ur="process"==D(O.process),sr=String,cr=TypeError,fr=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=F(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return kt(r),function(t){if("object"==typeof t||J(t))return t;throw cr("Can't set "+sr(t)+" as a prototype")}(n),e?t(r,n):r.__proto__=n,r}}():void 0),lr=qt.f,hr=vt("toStringTag"),pr=function(t,e,r){t&&!r&&(t=t.prototype),t&&!V(t,hr)&&lr(t,hr,{configurable:!0,value:e})},vr=vt("species"),dr=function(t){var e=et(t),r=qt.f;gt&&e&&!e[vr]&&r(e,vr,{configurable:!0,get:function(){return this}})},yr=TypeError,gr=function(t,e){if(Pt(e,t))return t;throw yr("Incorrect invocation")},mr=function(){},xr=[],br=et("Reflect","construct"),wr=/^\\s*(?:class|function)\\b/,Er=F(wr.exec),Ar=!wr.exec(mr),Or=function(t){if(!J(t))return!1;try{return br(mr,xr,t),!0}catch(t){return!1}},Sr=function(t){if(!J(t))return!1;switch(xe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ar||!!Er(wr,ee(t))}catch(t){return!0}};Sr.sham=!0;var Tr,kr,Ir,jr,Pr=!br||j((function(){var t;return Or(Or.call)||!Or(Object)||!Or((function(){t=!0}))||t}))?Sr:Or,_r=TypeError,Mr=function(t){if(Pr(t))return t;throw _r(Rt(t)+" is not a constructor")},Lr=vt("species"),Rr=function(t,e){var r,n=kt(t).constructor;return void 0===n||W(r=kt(n)[Lr])?e:Mr(r)},Cr=Function.prototype,Nr=Cr.apply,Dr=Cr.call,Fr="object"==typeof Reflect&&Reflect.apply||(P?Dr.bind(Nr):function(){return Dr.apply(Nr,arguments)}),Wr=F(F.bind),zr=function(t,e){return Nt(t),void 0===e?t:P?Wr(t,e):function(){return t.apply(e,arguments)}},Br=et("document","documentElement"),Ur=F([].slice),Gr=TypeError,Hr=function(t,e){if(t<e)throw Gr("Not enough arguments");return t},Vr=/(?:ipad|iphone|ipod).*applewebkit/i.test(rt),qr=O.setImmediate,Zr=O.clearImmediate,Yr=O.process,$r=O.Dispatch,Kr=O.Function,Qr=O.MessageChannel,Xr=O.String,Jr=0,tn={};try{Tr=O.location}catch(t){}var en=function(t){if(V(tn,t)){var e=tn[t];delete tn[t],e()}},rn=function(t){return function(){en(t)}},nn=function(t){en(t.data)},on=function(t){O.postMessage(Xr(t),Tr.protocol+"//"+Tr.host)};qr&&Zr||(qr=function(t){Hr(arguments.length,1);var e=J(t)?t:Kr(t),r=Ur(arguments,1);return tn[++Jr]=function(){Fr(e,void 0,r)},kr(Jr),Jr},Zr=function(t){delete tn[t]},ur?kr=function(t){Yr.nextTick(rn(t))}:$r&&$r.now?kr=function(t){$r.now(rn(t))}:Qr&&!Vr?(jr=(Ir=new Qr).port2,Ir.port1.onmessage=nn,kr=zr(jr.postMessage,jr)):O.addEventListener&&J(O.postMessage)&&!O.importScripts&&Tr&&"file:"!==Tr.protocol&&!j(on)?(kr=on,O.addEventListener("message",nn,!1)):kr="onreadystatechange"in Et("script")?function(t){Br.appendChild(Et("script")).onreadystatechange=function(){Br.removeChild(this),en(t)}}:function(t){setTimeout(rn(t),0)});var an,un,sn,cn,fn,ln,hn,pn,vn={set:qr,clear:Zr},dn=/ipad|iphone|ipod/i.test(rt)&&void 0!==O.Pebble,yn=/web0s(?!.*chrome)/i.test(rt),gn=je.f,mn=vn.set,xn=O.MutationObserver||O.WebKitMutationObserver,bn=O.document,wn=O.process,En=O.Promise,An=gn(O,"queueMicrotask"),On=An&&An.value;On||(an=function(){var t,e;for(ur&&(t=wn.domain)&&t.exit();un;){e=un.fn,un=un.next;try{e()}catch(t){throw un?cn():sn=void 0,t}}sn=void 0,t&&t.enter()},Vr||ur||yn||!xn||!bn?!dn&&En&&En.resolve?((hn=En.resolve(void 0)).constructor=En,pn=zr(hn.then,hn),cn=function(){pn(an)}):ur?cn=function(){wn.nextTick(an)}:(mn=zr(mn,O),cn=function(){mn(an)}):(fn=!0,ln=bn.createTextNode(""),new xn(an).observe(ln,{characterData:!0}),cn=function(){ln.data=fn=!fn}));var Sn=On||function(t){var e={fn:t,next:void 0};sn&&(sn.next=e),un||(un=e,cn()),sn=e},Tn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},kn=function(){this.head=null,this.tail=null};kn.prototype={add:function(t){var e={item:t,next:null};this.head?this.tail.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}};var In,jn,Pn,_n=kn,Mn=O.Promise,Ln="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Rn=!Ln&&!ur&&"object"==typeof window&&"object"==typeof document,Cn=(Mn&&Mn.prototype,vt("species")),Nn=!1,Dn=J(O.PromiseRejectionEvent),Fn={CONSTRUCTOR:or("Promise",(function(){var t=ee(Mn),e=t!==String(Mn);if(!e&&66===ut)return!0;if(!ut||ut<51||!/native code/.test(t)){var r=new Mn((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};if((r.constructor={})[Cn]=n,!(Nn=r.then((function(){}))instanceof n))return!0}return!e&&(Rn||Ln)&&!Dn})),REJECTION_EVENT:Dn,SUBCLASSING:Nn},Wn=TypeError,zn=function(t){var e,r;this.promise=new t((function(t,n){if(void 0!==e||void 0!==r)throw Wn("Bad Promise constructor");e=t,r=n})),this.resolve=Nt(e),this.reject=Nt(r)},Bn={f:function(t){return new zn(t)}},Un=vn.set,Gn=Fn.CONSTRUCTOR,Hn=Fn.REJECTION_EVENT,Vn=Fn.SUBCLASSING,qn=pe.getterFor("Promise"),Zn=pe.set,Yn=Mn&&Mn.prototype,$n=Mn,Kn=Yn,Qn=O.TypeError,Xn=O.document,Jn=O.process,to=Bn.f,eo=to,ro=!!(Xn&&Xn.createEvent&&O.dispatchEvent),no=function(t){var e;return!(!xt(t)||!J(e=t.then))&&e},oo=function(t,e){var r,n,o,i=e.value,a=1==e.state,u=a?t.ok:t.fail,s=t.resolve,c=t.reject,f=t.domain;try{u?(a||(2===e.rejection&&co(e),e.rejection=1),!0===u?r=i:(f&&f.enter(),r=u(i),f&&(f.exit(),o=!0)),r===t.promise?c(Qn("Promise-chain cycle")):(n=no(r))?jt(n,r,s,c):s(r)):c(i)}catch(t){f&&!o&&f.exit(),c(t)}},io=function(t,e){t.notified||(t.notified=!0,Sn((function(){for(var r,n=t.reactions;r=n.get();)oo(r,t);t.notified=!1,e&&!t.rejection&&uo(t)})))},ao=function(t,e,r){var n,o;ro?((n=Xn.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),O.dispatchEvent(n)):n={promise:e,reason:r},!Hn&&(o=O["on"+t])?o(n):"unhandledrejection"===t&&function(t,e){var r=O.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},uo=function(t){jt(Un,O,(function(){var e,r=t.facade,n=t.value;if(so(t)&&(e=Tn((function(){ur?Jn.emit("unhandledRejection",n,r):ao("unhandledrejection",r,n)})),t.rejection=ur||so(t)?2:1,e.error))throw e.value}))},so=function(t){return 1!==t.rejection&&!t.parent},co=function(t){jt(Un,O,(function(){var e=t.facade;ur?Jn.emit("rejectionHandled",e):ao("rejectionhandled",e,t.value)}))},fo=function(t,e,r){return function(n){t(e,n,r)}},lo=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,io(t,!0))},ho=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw Qn("Promise can't be resolved itself");var n=no(e);n?Sn((function(){var r={done:!1};try{jt(n,e,fo(ho,r,t),fo(lo,r,t))}catch(e){lo(r,e,t)}})):(t.value=e,t.state=1,io(t,!1))}catch(e){lo({done:!1},e,t)}}};if(Gn&&(Kn=($n=function(t){gr(this,Kn),Nt(t),jt(In,this);var e=qn(this);try{t(fo(ho,e),fo(lo,e))}catch(t){lo(e,t)}}).prototype,(In=function(t){Zn(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new _n,rejection:!1,state:0,value:void 0})}).prototype=de(Kn,"then",(function(t,e){var r=qn(this),n=to(Rr(this,$n));return r.parent=!0,n.ok=!J(t)||t,n.fail=J(e)&&e,n.domain=ur?Jn.domain:void 0,0==r.state?r.reactions.add(n):Sn((function(){oo(n,r)})),n.promise})),jn=function(){var t=new In,e=qn(t);this.promise=t,this.resolve=fo(ho,e),this.reject=fo(lo,e)},Bn.f=to=function(t){return t===$n||void 0===t?new jn(t):eo(t)},J(Mn)&&Yn!==Object.prototype)){Pn=Yn.then,Vn||de(Yn,"then",(function(t,e){var r=this;return new $n((function(t,e){jt(Pn,r,t,e)})).then(t,e)}),{unsafe:!0});try{delete Yn.constructor}catch(t){}fr&&fr(Yn,Kn)}ar({global:!0,constructor:!0,wrap:!0,forced:Gn},{Promise:$n}),pr($n,"Promise",!1),dr("Promise");var po={},vo=vt("iterator"),yo=Array.prototype,go=function(t){return void 0!==t&&(po.Array===t||yo[vo]===t)},mo=vt("iterator"),xo=function(t){if(!W(t))return Dt(t,mo)||Dt(t,"@@iterator")||po[xe(t)]},bo=TypeError,wo=function(t,e){var r=arguments.length<2?xo(t):e;if(Nt(r))return kt(jt(r,t));throw bo(Rt(t)+" is not iterable")},Eo=function(t,e,r){var n,o;kt(t);try{if(!(n=Dt(t,"return"))){if("throw"===e)throw r;return r}n=jt(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return kt(n),r},Ao=TypeError,Oo=function(t,e){this.stopped=t,this.result=e},So=Oo.prototype,To=function(t,e,r){var n,o,i,a,u,s,c,f=r&&r.that,l=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_RECORD),p=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),d=zr(e,f),y=function(t){return n&&Eo(n,"normal",t),new Oo(!0,t)},g=function(t){return l?(kt(t),v?d(t[0],t[1],y):d(t[0],t[1])):v?d(t,y):d(t)};if(h)n=t.iterator;else if(p)n=t;else{if(!(o=xo(t)))throw Ao(Rt(t)+" is not iterable");if(go(o)){for(i=0,a=We(t);a>i;i++)if((u=g(t[i]))&&Pt(So,u))return u;return new Oo(!1)}n=wo(t,o)}for(s=h?t.next:n.next;!(c=jt(s,n)).done;){try{u=g(c.value)}catch(t){Eo(n,"throw",t)}if("object"==typeof u&&u&&Pt(So,u))return u}return new Oo(!1)},ko=vt("iterator"),Io=!1;try{var jo=0,Po={next:function(){return{done:!!jo++}},return:function(){Io=!0}};Po[ko]=function(){return this},Array.from(Po,(function(){throw 2}))}catch(t){}var _o=function(t,e){if(!e&&!Io)return!1;var r=!1;try{var n={};n[ko]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Mo=Fn.CONSTRUCTOR||!_o((function(t){Mn.all(t).then(void 0,(function(){}))}));ar({target:"Promise",stat:!0,forced:Mo},{all:function(t){var e=this,r=Bn.f(e),n=r.resolve,o=r.reject,i=Tn((function(){var r=Nt(e.resolve),i=[],a=0,u=1;To(t,(function(t){var s=a++,c=!1;u++,jt(r,e,t).then((function(t){c||(c=!0,i[s]=t,--u||n(i))}),o)})),--u||n(i)}));return i.error&&o(i.value),r.promise}});var Lo=Fn.CONSTRUCTOR,Ro=Mn&&Mn.prototype;if(ar({target:"Promise",proto:!0,forced:Lo,real:!0},{catch:function(t){return this.then(void 0,t)}}),J(Mn)){var Co=et("Promise").prototype.catch;Ro.catch!==Co&&de(Ro,"catch",Co,{unsafe:!0})}ar({target:"Promise",stat:!0,forced:Mo},{race:function(t){var e=this,r=Bn.f(e),n=r.reject,o=Tn((function(){var o=Nt(e.resolve);To(t,(function(t){jt(o,e,t).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),ar({target:"Promise",stat:!0,forced:Fn.CONSTRUCTOR},{reject:function(t){var e=Bn.f(this);return jt(e.reject,void 0,t),e.promise}});var No=Fn.CONSTRUCTOR;et("Promise");function Do(t,e){if(!t)throw new Error(e||"web worker helper assertion failed.")}ar({target:"Promise",stat:!0,forced:No},{resolve:function(t){return function(t,e){if(kt(t),xt(e)&&e.constructor===t)return e;var r=Bn.f(t);return(0,r.resolve)(e),r.promise}(this,t)}});var Fo="undefined"!=typeof window&&void 0!==window.orientation,Wo=function(){function t(t,e){var r=this;this.name=t,this.workerThread=e,this.isRunning=!0,this.resolve=function(){},this.reject=function(){},this.result=new Promise((function(t,e){r.resolve=t,r.reject=e}))}return t.prototype.postMessage=function(t,e){this.workerThread.postMessage({source:"Main thread",type:t,payload:e})},t.prototype.done=function(t){Do(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.resolve(t)},t.prototype.error=function(t){Do(this.isRunning,"WorkerJob isRunning false."),this.isRunning=!1,this.reject(t)},t}(),zo=new Map;function Bo(t){Do(t.source&&!t.url||!t.source&&t.url);var e=zo.get(t.source||t.url);return e||(t.url&&(e=function(t){if(!t.startsWith("http"))return t;return Uo((e=t,"try {\\n  importScripts('"+e+"');\\n} catch (error) {\\n  console.error(error);\\n  throw error;\\n}"));var e}(t.url),zo.set(t.url,e)),t.source&&(e=Uo(t.source),zo.set(t.source,e))),Do(e),e}function Uo(t){var e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function Go(t,e,r){void 0===e&&(e=!0);var n=r||new Set;if(t){if(Ho(t))n.add(t);else if(Ho(t.buffer))n.add(t.buffer);else if(ArrayBuffer.isView(t));else if(e&&"object"==typeof t)for(var o in t)Go(t[o],e,n)}else;return void 0===r?Array.from(n):[]}function Ho(t){return!!t&&(t instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&t instanceof MessagePort||("undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas)))}var Vo=function(){},qo=function(){function t(t){this.terminated=!1,this.loadableURL="";var e=t.name,r=t.source,n=t.url;Do(r||n),this.name=e,this.source=r,this.url=n,this.onMessage=Vo,this.onError=function(t){return console.log(t)},this.worker=this.createBrowserWorker()}return t.isSupported=function(){return"undefined"!=typeof Worker},t.prototype.destroy=function(){this.onMessage=Vo,this.onError=Vo,this.worker.terminate(),this.terminated=!0},Object.defineProperty(t.prototype,"isRunning",{get:function(){return Boolean(this.onMessage)},enumerable:!1,configurable:!0}),t.prototype.postMessage=function(t,e){e=e||Go(t),this.worker.postMessage(t,e)},t.prototype.getErrorFromErrorEvent=function(t){var e="Failed to load ";return e+="worker "+this.name+" from "+this.url+". ",t.message&&(e+=t.message+" in "),t.lineno&&(e+=":"+t.lineno+":"+t.colno),new Error(e)},t.prototype.createBrowserWorker=function(){var t=this;this.loadableURL=Bo({source:this.source,url:this.url});var e=new Worker(this.loadableURL,{name:this.name});return e.onmessage=function(e){e.data?t.onMessage(e.data):t.onError(new Error("No data received"))},e.onerror=function(e){t.onError(t.getErrorFromErrorEvent(e)),t.terminated=!0},e.onmessageerror=function(e){return console.error("worker "+t.name+", message error: "+e)},e},t}(),Zo=self&&self.__assign||function(){return(Zo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Yo=self&&self.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},$o=self&&self.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},Ko=function(){function t(t){this.name="unnamed",this.maxConcurrency=1,this.maxMobileConcurrency=1,this.onDebug=function(){},this.reuseWorkers=!0,this.props={},this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.source=t.source,this.url=t.url,this.setProps(t)}return t.prototype.destroy=function(){this.idleQueue.forEach((function(t){return t.destroy()})),this.isDestroyed=!0},t.prototype.setProps=function(t){this.props=Zo(Zo({},this.props),t),void 0!==t.name&&(this.name=t.name),void 0!==t.maxConcurrency&&(this.maxConcurrency=t.maxConcurrency),void 0!==t.maxMobileConcurrency&&(this.maxMobileConcurrency=t.maxMobileConcurrency),void 0!==t.reuseWorkers&&(this.reuseWorkers=t.reuseWorkers),void 0!==t.onDebug&&(this.onDebug=t.onDebug)},t.prototype.startJob=function(t,e,r){return void 0===e&&(e=function(t,e,r){return t.done(r)}),void 0===r&&(r=function(t,e){return t.error(e)}),Yo(this,void 0,void 0,(function(){var n,o=this;return $o(this,(function(i){switch(i.label){case 0:return n=new Promise((function(n){return o.jobQueue.push({name:t,onMessage:e,onError:r,onStart:n}),o})),this.startQueuedJob(),[4,n];case 1:return[2,i.sent()]}}))}))},t.prototype.startQueuedJob=function(){return Yo(this,void 0,void 0,(function(){var t,e,r;return $o(this,(function(n){switch(n.label){case 0:if(!this.jobQueue.length)return[2];if(!(t=this.getAvailableWorker()))return[2];if(!(e=this.jobQueue.shift()))return[3,4];this.onDebug({message:"Starting job",name:e.name,backlog:this.jobQueue.length,workerThread:t}),r=new Wo(e.name,t),t.onMessage=function(t){return e.onMessage(r,t.type,t.payload)},t.onError=function(t){return e.onError(r,t)},e.onStart(r),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,r.result];case 2:return n.sent(),[3,4];case 3:return this.returnWorkerToQueue(t),[7];case 4:return[2]}}))}))},t.prototype.returnWorkerToQueue=function(t){this.isDestroyed||!this.reuseWorkers||this.count>this.getMaxConcurrency()?(t.destroy(),this.count--):this.idleQueue.push(t),this.isDestroyed||this.startQueuedJob()},t.prototype.getAvailableWorker=function(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this.getMaxConcurrency()){this.count++;var t=this.name.toLowerCase()+" (#"+this.count+" of "+this.maxConcurrency+")";return new qo({name:t,source:this.source,url:this.url})}return null},t.prototype.getMaxConcurrency=function(){return Fo?this.maxMobileConcurrency:this.maxConcurrency},t}(),Qo=self&&self.__assign||function(){return(Qo=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Xo=self&&self.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Jo={maxConcurrency:3,maxMobileConcurrency:1,onDebug:function(){},reuseWorkers:!0},ti=(function(){function t(t){this.workerPools=new Map,this.props=Qo({},Jo),this.setProps(t),this.workerPools=new Map}t.isSupported=function(){return qo.isSupported()},t.getWorkerFarm=function(e){return void 0===e&&(e={}),t.workerFarm=t.workerFarm||new t({}),t.workerFarm.setProps(e),t.workerFarm},t.prototype.destroy=function(){var t,e;try{for(var r=Xo(this.workerPools.values()),n=r.next();!n.done;n=r.next()){n.value.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t.prototype.setProps=function(t){var e,r;this.props=Qo(Qo({},this.props),t);try{for(var n=Xo(this.workerPools.values()),o=n.next();!o.done;o=n.next()){o.value.setProps(this.getWorkerPoolProps())}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.getWorkerPool=function(t){var e=t.name,r=t.source,n=t.url,o=this.workerPools.get(e);return o||((o=new Ko({name:e,source:r,url:n})).setProps(this.getWorkerPoolProps()),this.workerPools.set(e,o)),o},t.prototype.getWorkerPoolProps=function(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}(),new Map),ei=function(){function t(){}return Object.defineProperty(t,"onmessage",{set:function(t){self.onmessage=function(e){if(ri(e)){var r=e.data,n=r.type,o=r.payload;t(n,o)}}},enumerable:!1,configurable:!0}),t.addEventListener=function(t){var e=ti.get(t);e||(e=function(e){if(ri(e)){var r=e.data,n=r.type,o=r.payload;t(n,o)}}),self.addEventListener("message",e)},t.removeEventListener=function(t){var e=ti.get(t);ti.delete(t),self.removeEventListener("message",e)},t.postMessage=function(t,e){if(self){var r={source:"Worker thread",type:t,payload:e},n=Go(e);self.postMessage(r,n)}},t}();function ri(t){var e=t.type,r=t.data;return"message"===e&&r&&"string"==typeof r.source&&"Main thread"===r.source}self&&self.__awaiter,self&&self.__generator;var ni,oi,ii=function(){function t(){this._values=[],this._settlers=[],this._closed=!1}return t.prototype[Symbol.asyncIterator]=function(){return this},t.prototype.push=function(t){return this.enqueue(t)},t.prototype.enqueue=function(t){if(this._closed)throw new Error("Closed");if(this._settlers.length>0){if(this._values.length>0)throw new Error("Illegal internal state");var e=this._settlers.shift();t instanceof Error?e.reject(t):e.resolve({value:t})}else this._values.push(t)},t.prototype.close=function(){for(;this._settlers.length>0;){this._settlers.shift().resolve({done:!0})}this._closed=!0},t.prototype.next=function(){var t=this;if(this._values.length>0){var e=this._values.shift();return e instanceof Error?Promise.reject(e):Promise.resolve({done:!1,value:e})}if(this._closed){if(this._settlers.length>0)throw new Error("Illegal internal state");return Promise.resolve({done:!0,value:void 0})}return new Promise((function(e,r){t._settlers.push({resolve:e,reject:r})}))},t}(),ai=self&&self.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{s(n.next(t))}catch(t){i(t)}}function u(t){try{s(n.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,u)}s((n=n.apply(t,e||[])).next())}))},ui=self&&self.__generator||function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},si=self&&self.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof __values?__values(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,o,(e=t[r](e)).done,e.value)}))}}},ci=0;function fi(t,e){var r=this;if("undefined"!=typeof self){var n={process:li};ei.onmessage=function(o,i){return ai(r,void 0,void 0,(function(){var r,a,u,s,c,f,l,h,p,v;return ui(this,(function(d){switch(d.label){case 0:switch(d.trys.push([0,19,,20]),o){case"process":return[3,1];case"process-in-batches":return[3,3];case"input-batch":return[3,16];case"input-done":return[3,17]}return[3,18];case 1:if(!t)throw new Error("Worker does not support atomic processing");return[4,t(i.input,i.options||{},n)];case 2:return r=d.sent(),ei.postMessage("done",{result:r}),[3,18];case 3:if(!e)throw new Error("Worker does not support batched processing");ni=new ii,oi=i.options||{},a=e(ni,oi,n),d.label=4;case 4:d.trys.push([4,9,10,15]),u=si(a),d.label=5;case 5:return[4,u.next()];case 6:if((s=d.sent()).done)return[3,8];c=s.value,ei.postMessage("output-batch",{result:c}),d.label=7;case 7:return[3,5];case 8:return[3,15];case 9:return f=d.sent(),p={error:f},[3,15];case 10:return d.trys.push([10,,13,14]),s&&!s.done&&(v=u.return)?[4,v.call(u)]:[3,12];case 11:d.sent(),d.label=12;case 12:return[3,14];case 13:if(p)throw p.error;return[7];case 14:return[7];case 15:return ei.postMessage("done",{}),[3,18];case 16:return ni.push(i.input),[3,18];case 17:return ni.close(),[3,18];case 18:return[3,20];case 19:return l=d.sent(),h=l instanceof Error?l.message:"",ei.postMessage("error",{error:h}),[3,20];case 20:return[2]}}))}))}}}function li(t,e){return void 0===e&&(e={}),new Promise((function(r,n){var o=ci++,i=function(t,e){if(e.id===o)switch(t){case"done":ei.removeEventListener(i),r(e.result);break;case"error":ei.removeEventListener(i),n(e.error)}};ei.addEventListener(i);var a={id:o,input:t,options:e};ei.postMessage("process",a)}))}self&&self.__awaiter,self&&self.__generator;var hi={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},pi=Et("span").classList,vi=pi&&pi.constructor&&pi.constructor.prototype,di=vi===Object.prototype?void 0:vi,yi=Array.isArray||function(t){return"Array"==D(t)},gi=vt("species"),mi=Array,xi=function(t,e){return new(function(t){var e;return yi(t)&&(e=t.constructor,(Pr(e)&&(e===mi||yi(e.prototype))||xt(e)&&null===(e=e[gi]))&&(e=void 0)),void 0===e?mi:e}(t))(0===e?0:e)},bi=F([].push),wi=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,u=5==t||i;return function(s,c,f,l){for(var h,p,v=G(s),d=Te(v),y=zr(c,f),g=We(d),m=0,x=l||xi,b=e?x(s,g):r||a?x(s,0):void 0;g>m;m++)if((u||m in d)&&(p=y(h=d[m],m,v),t))if(e)b[m]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:bi(b,h)}else switch(t){case 4:return!1;case 7:bi(b,h)}return i?-1:n||o?o:b}},Ei={forEach:wi(0),map:wi(1),filter:wi(2),some:wi(3),every:wi(4),find:wi(5),findIndex:wi(6),filterReject:wi(7)},Ai=function(t,e){var r=[][t];return!!r&&j((function(){r.call(null,e||function(){return 1},1)}))},Oi=Ei.forEach,Si=Ai("forEach")?[].forEach:function(t){return Oi(this,t,arguments.length>1?arguments[1]:void 0)},Ti=function(t){if(t&&t.forEach!==Si)try{ie(t,"forEach",Si)}catch(e){t.forEach=Si}};for(var ki in hi)hi[ki]&&Ti(O[ki]&&O[ki].prototype);Ti(di);var Ii=function(t,e,r){var n=Ut(e);n in t?qt.f(t,n,oe(0,r)):t[n]=r},ji=vt("species"),Pi=function(t){return ut>=51||!j((function(){var e=[];return(e.constructor={})[ji]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},_i=Pi("slice"),Mi=vt("species"),Li=Array,Ri=Math.max;ar({target:"Array",proto:!0,forced:!_i},{slice:function(t,e){var r,n,o,i=ke(this),a=We(i),u=Ne(t,a),s=Ne(void 0===e?a:e,a);if(yi(i)&&(r=i.constructor,(Pr(r)&&(r===Li||yi(r.prototype))||xt(r)&&null===(r=r[Mi]))&&(r=void 0),r===Li||void 0===r))return Ur(i,u,s);for(n=new(void 0===r?Li:r)(Ri(s-u,0)),o=0;u<s;u++,o++)u in i&&Ii(n,o,i[u]);return n.length=o,n}});var Ci=Kt.EXISTS,Ni=qt.f,Di=Function.prototype,Fi=F(Di.toString),Wi=/function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/,zi=F(Wi.exec);gt&&!Ci&&Ni(Di,"name",{configurable:!0,get:function(){try{return zi(Wi,Fi(this))[1]}catch(t){return""}}});var Bi=Ei.map,Ui=Pi("map");ar({target:"Array",proto:!0,forced:!Ui},{map:function(t){return Bi(this,t,arguments.length>1?arguments[1]:void 0)}});var Gi,Hi=Object.keys||function(t){return He(t,Ve)},Vi={f:gt&&!Ot?Object.defineProperties:function(t,e){kt(t);for(var r,n=ke(e),o=Hi(e),i=o.length,a=0;i>a;)qt.f(t,r=o[a++],n[r]);return t}},qi=ue("IE_PROTO"),Zi=function(){},Yi=function(t){return"<script>"+t+"<\\/script>"},$i=function(t){t.write(Yi("")),t.close();var e=t.parentWindow.Object;return t=null,e},Ki=function(){try{Gi=new ActiveXObject("htmlfile")}catch(t){}var t,e;Ki="undefined"!=typeof document?document.domain&&Gi?$i(Gi):((e=Et("iframe")).style.display="none",Br.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Yi("document.F=Object")),t.close(),t.F):$i(Gi);for(var r=Ve.length;r--;)delete Ki.prototype[Ve[r]];return Ki()};se[qi]=!0;var Qi=Object.create||function(t,e){var r;return null!==t?(Zi.prototype=kt(t),r=new Zi,Zi.prototype=null,r[qi]=t):r=Ki(),void 0===e?r:Vi.f(r,e)},Xi=qt.f,Ji=vt("unscopables"),ta=Array.prototype;null==ta[Ji]&&Xi(ta,Ji,{configurable:!0,value:Qi(null)});var ea,ra,na,oa=function(t){ta[Ji][t]=!0},ia=!j((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),aa=ue("IE_PROTO"),ua=Object,sa=ua.prototype,ca=ia?ua.getPrototypeOf:function(t){var e=G(t);if(V(e,aa))return e[aa];var r=e.constructor;return J(r)&&e instanceof r?r.prototype:e instanceof ua?sa:null},fa=vt("iterator"),la=!1;[].keys&&("next"in(na=[].keys())?(ra=ca(ca(na)))!==Object.prototype&&(ea=ra):la=!0),(!xt(ea)||j((function(){var t={};return ea[fa].call(t)!==t})))&&(ea={}),J(ea[fa])||de(ea,fa,(function(){return this}));var ha={IteratorPrototype:ea,BUGGY_SAFARI_ITERATORS:la},pa=ha.IteratorPrototype,va=function(){return this},da=Kt.PROPER,ya=Kt.CONFIGURABLE,ga=ha.IteratorPrototype,ma=ha.BUGGY_SAFARI_ITERATORS,xa=vt("iterator"),ba=function(){return this},wa=function(t,e,r,n,o,i,a){!function(t,e,r,n){var o=e+" Iterator";t.prototype=Qi(pa,{next:oe(+!n,r)}),pr(t,o,!1),po[o]=va}(r,e,n);var u,s,c,f=function(t){if(t===o&&d)return d;if(!ma&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},l=e+" Iterator",h=!1,p=t.prototype,v=p[xa]||p["@@iterator"]||o&&p[o],d=!ma&&v||f(o),y="Array"==e&&p.entries||v;if(y&&(u=ca(y.call(new t)))!==Object.prototype&&u.next&&(ca(u)!==ga&&(fr?fr(u,ga):J(u[xa])||de(u,xa,ba)),pr(u,l,!0)),da&&"values"==o&&v&&"values"!==v.name&&(ya?ie(p,"name","values"):(h=!0,d=function(){return jt(v,this)})),o)if(s={values:f("values"),keys:i?d:f("keys"),entries:f("entries")},a)for(c in s)(ma||h||!(c in p))&&de(p,c,s[c]);else ar({target:e,proto:!0,forced:ma||h},s);return p[xa]!==d&&de(p,xa,d,{name:o}),po[e]=d,s},Ea=function(t,e){return{value:t,done:e}},Aa=qt.f,Oa=pe.set,Sa=pe.getterFor("Array Iterator"),Ta=wa(Array,"Array",(function(t,e){Oa(this,{type:"Array Iterator",target:ke(t),index:0,kind:e})}),(function(){var t=Sa(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,Ea(void 0,!0)):Ea("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values"),ka=po.Arguments=po.Array;if(oa("keys"),oa("values"),oa("entries"),gt&&"values"!==ka.name)try{Aa(ka,"name",{value:"values"})}catch(t){}var Ia,ja,Pa,_a="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ma=qt.f,La=pe.enforce,Ra=pe.get,Ca=O.Int8Array,Na=Ca&&Ca.prototype,Da=O.Uint8ClampedArray,Fa=Da&&Da.prototype,Wa=Ca&&ca(Ca),za=Na&&ca(Na),Ba=Object.prototype,Ua=O.TypeError,Ga=vt("toStringTag"),Ha=$("TYPED_ARRAY_TAG"),Va=_a&&!!fr&&"Opera"!==xe(O.opera),qa=!1,Za={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ya={BigInt64Array:8,BigUint64Array:8},$a=function(t){var e=ca(t);if(xt(e)){var r=Ra(e);return r&&V(r,"TypedArrayConstructor")?r.TypedArrayConstructor:$a(e)}},Ka=function(t){if(!xt(t))return!1;var e=xe(t);return V(Za,e)||V(Ya,e)};for(Ia in Za)(Pa=(ja=O[Ia])&&ja.prototype)?La(Pa).TypedArrayConstructor=ja:Va=!1;for(Ia in Ya)(Pa=(ja=O[Ia])&&ja.prototype)&&(La(Pa).TypedArrayConstructor=ja);if((!Va||!J(Wa)||Wa===Function.prototype)&&(Wa=function(){throw Ua("Incorrect invocation")},Va))for(Ia in Za)O[Ia]&&fr(O[Ia],Wa);if((!Va||!za||za===Ba)&&(za=Wa.prototype,Va))for(Ia in Za)O[Ia]&&fr(O[Ia].prototype,za);if(Va&&ca(Fa)!==za&&fr(Fa,za),gt&&!V(za,Ga))for(Ia in qa=!0,Ma(za,Ga,{get:function(){return xt(this)?this[Ha]:void 0}}),Za)O[Ia]&&ie(O[Ia],Ha,Ia);var Qa={NATIVE_ARRAY_BUFFER_VIEWS:Va,TYPED_ARRAY_TAG:qa&&Ha,aTypedArray:function(t){if(Ka(t))return t;throw Ua("Target is not a typed array")},aTypedArrayConstructor:function(t){if(J(t)&&(!fr||Pt(Wa,t)))return t;throw Ua(Rt(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(gt){if(r)for(var o in Za){var i=O[o];if(i&&V(i.prototype,t))try{delete i.prototype[t]}catch(r){try{i.prototype[t]=e}catch(t){}}}za[t]&&!r||de(za,t,r?e:Va&&Na[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(gt){if(fr){if(r)for(n in Za)if((o=O[n])&&V(o,t))try{delete o[t]}catch(t){}if(Wa[t]&&!r)return;try{return de(Wa,t,r?e:Va&&Wa[t]||e)}catch(t){}}for(n in Za)!(o=O[n])||o[t]&&!r||de(o,t,e)}},getTypedArrayConstructor:$a,isView:function(t){if(!xt(t))return!1;var e=xe(t);return"DataView"===e||V(Za,e)||V(Ya,e)},isTypedArray:Ka,TypedArray:Wa,TypedArrayPrototype:za},Xa=Qa.NATIVE_ARRAY_BUFFER_VIEWS,Ja=O.ArrayBuffer,tu=O.Int8Array,eu=!Xa||!j((function(){tu(1)}))||!j((function(){new tu(-1)}))||!_o((function(t){new tu,new tu(null),new tu(1.5),new tu(t)}),!0)||j((function(){return 1!==new tu(new Ja(2),1,void 0).length})),ru=function(t,e,r){for(var n in e)de(t,n,e[n],r);return t},nu=RangeError,ou=function(t){if(void 0===t)return 0;var e=Le(t),r=Fe(e);if(e!==r)throw nu("Wrong length or index");return r},iu=Array,au=Math.abs,uu=Math.pow,su=Math.floor,cu=Math.log,fu=Math.LN2,lu=function(t,e,r){var n,o,i,a=iu(r),u=8*r-e-1,s=(1<<u)-1,c=s>>1,f=23===e?uu(2,-24)-uu(2,-77):0,l=t<0||0===t&&1/t<0?1:0,h=0;for((t=au(t))!=t||t===1/0?(o=t!=t?1:0,n=s):(n=su(cu(t)/fu),t*(i=uu(2,-n))<1&&(n--,i*=2),(t+=n+c>=1?f/i:f*uu(2,1-c))*i>=2&&(n++,i/=2),n+c>=s?(o=0,n=s):n+c>=1?(o=(t*i-1)*uu(2,e),n+=c):(o=t*uu(2,c-1)*uu(2,e),n=0));e>=8;)a[h++]=255&o,o/=256,e-=8;for(n=n<<e|o,u+=e;u>0;)a[h++]=255&n,n/=256,u-=8;return a[--h]|=128*l,a},hu=function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,u=o-7,s=n-1,c=t[s--],f=127&c;for(c>>=7;u>0;)f=256*f+t[s--],u-=8;for(r=f&(1<<-u)-1,f>>=-u,u+=e;u>0;)r=256*r+t[s--],u-=8;if(0===f)f=1-a;else{if(f===i)return r?NaN:c?-1/0:1/0;r+=uu(2,e),f-=a}return(c?-1:1)*r*uu(2,f-e)},pu=function(t){for(var e=G(this),r=We(e),n=arguments.length,o=Ne(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:Ne(i,r);a>o;)e[o++]=t;return e},vu=Array,du=Math.max,yu=function(t,e,r){for(var n=We(t),o=Ne(e,n),i=Ne(void 0===r?n:r,n),a=vu(du(i-o,0)),u=0;o<i;o++,u++)Ii(a,u,t[o]);return a.length=u,a},gu=Ze.f,mu=qt.f,xu=Kt.PROPER,bu=Kt.CONFIGURABLE,wu=pe.get,Eu=pe.set,Au=O.ArrayBuffer,Ou=Au,Su=Ou&&Ou.prototype,Tu=O.DataView,ku=Tu&&Tu.prototype,Iu=Object.prototype,ju=O.Array,Pu=O.RangeError,_u=F(pu),Mu=F([].reverse),Lu=lu,Ru=hu,Cu=function(t){return[255&t]},Nu=function(t){return[255&t,t>>8&255]},Du=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Fu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Wu=function(t){return Lu(t,23,4)},zu=function(t){return Lu(t,52,8)},Bu=function(t,e){mu(t.prototype,e,{get:function(){return wu(this)[e]}})},Uu=function(t,e,r,n){var o=ou(r),i=wu(t);if(o+e>i.byteLength)throw Pu("Wrong index");var a=wu(i.buffer).bytes,u=o+i.byteOffset,s=yu(a,u,u+e);return n?s:Mu(s)},Gu=function(t,e,r,n,o,i){var a=ou(r),u=wu(t);if(a+e>u.byteLength)throw Pu("Wrong index");for(var s=wu(u.buffer).bytes,c=a+u.byteOffset,f=n(+o),l=0;l<e;l++)s[c+l]=f[i?l:e-l-1]};if(_a){var Hu=xu&&"ArrayBuffer"!==Au.name;if(j((function(){Au(1)}))&&j((function(){new Au(-1)}))&&!j((function(){return new Au,new Au(1.5),new Au(NaN),1!=Au.length||Hu&&!bu})))Hu&&bu&&ie(Au,"name","ArrayBuffer");else{(Ou=function(t){return gr(this,Su),new Au(ou(t))}).prototype=Su;for(var Vu,qu=gu(Au),Zu=0;qu.length>Zu;)(Vu=qu[Zu++])in Ou||ie(Ou,Vu,Au[Vu]);Su.constructor=Ou}fr&&ca(ku)!==Iu&&fr(ku,Iu);var Yu=new Tu(new Ou(2)),$u=F(ku.setInt8);Yu.setInt8(0,2147483648),Yu.setInt8(1,2147483649),!Yu.getInt8(0)&&Yu.getInt8(1)||ru(ku,{setInt8:function(t,e){$u(this,t,e<<24>>24)},setUint8:function(t,e){$u(this,t,e<<24>>24)}},{unsafe:!0})}else Su=(Ou=function(t){gr(this,Su);var e=ou(t);Eu(this,{bytes:_u(ju(e),0),byteLength:e}),gt||(this.byteLength=e)}).prototype,ku=(Tu=function(t,e,r){gr(this,ku),gr(t,Su);var n=wu(t).byteLength,o=Le(e);if(o<0||o>n)throw Pu("Wrong offset");if(o+(r=void 0===r?n-o:Fe(r))>n)throw Pu("Wrong length");Eu(this,{buffer:t,byteLength:r,byteOffset:o}),gt||(this.buffer=t,this.byteLength=r,this.byteOffset=o)}).prototype,gt&&(Bu(Ou,"byteLength"),Bu(Tu,"buffer"),Bu(Tu,"byteLength"),Bu(Tu,"byteOffset")),ru(ku,{getInt8:function(t){return Uu(this,1,t)[0]<<24>>24},getUint8:function(t){return Uu(this,1,t)[0]},getInt16:function(t){var e=Uu(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Uu(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return Fu(Uu(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return Fu(Uu(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return Ru(Uu(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return Ru(Uu(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Gu(this,1,t,Cu,e)},setUint8:function(t,e){Gu(this,1,t,Cu,e)},setInt16:function(t,e){Gu(this,2,t,Nu,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Gu(this,2,t,Nu,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Gu(this,4,t,Du,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Gu(this,4,t,Du,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Gu(this,4,t,Wu,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Gu(this,8,t,zu,e,arguments.length>2?arguments[2]:void 0)}});pr(Ou,"ArrayBuffer"),pr(Tu,"DataView");var Ku={ArrayBuffer:Ou,DataView:Tu},Qu=Math.floor,Xu=Number.isInteger||function(t){return!xt(t)&&isFinite(t)&&Qu(t)===t},Ju=RangeError,ts=RangeError,es=function(t,e){var r=function(t){var e=Le(t);if(e<0)throw Ju("The argument can't be less than 0");return e}(t);if(r%e)throw ts("Wrong offset");return r},rs=F("".slice),ns=function(t){return"Big"===rs(xe(t),0,3)},os=TypeError,is=function(t){var e=Bt(t,"number");if("number"==typeof e)throw os("Can't convert number to bigint");return BigInt(e)},as=Qa.aTypedArrayConstructor,us=function(t){var e,r,n,o,i,a,u,s,c=Mr(this),f=G(t),l=arguments.length,h=l>1?arguments[1]:void 0,p=void 0!==h,v=xo(f);if(v&&!go(v))for(s=(u=wo(f,v)).next,f=[];!(a=jt(s,u)).done;)f.push(a.value);for(p&&l>2&&(h=zr(h,arguments[2])),r=We(f),n=new(as(c))(r),o=ns(n),e=0;r>e;e++)i=p?h(f[e],e):f[e],n[e]=o?is(i):+i;return n},ss=function(t,e,r){var n,o;return fr&&J(n=e.constructor)&&n!==r&&xt(o=n.prototype)&&o!==r.prototype&&fr(t,o),t},cs=b((function(t){var e=Ze.f,r=Ei.forEach,n=pe.get,o=pe.set,i=pe.enforce,a=qt.f,u=je.f,s=Math.round,c=O.RangeError,f=Ku.ArrayBuffer,l=f.prototype,h=Ku.DataView,p=Qa.NATIVE_ARRAY_BUFFER_VIEWS,v=Qa.TYPED_ARRAY_TAG,d=Qa.TypedArray,y=Qa.TypedArrayPrototype,g=Qa.aTypedArrayConstructor,m=Qa.isTypedArray,x=function(t,e){g(t);for(var r=0,n=e.length,o=new t(n);n>r;)o[r]=e[r++];return o},b=function(t,e){a(t,e,{get:function(){return n(this)[e]}})},w=function(t){var e;return Pt(l,t)||"ArrayBuffer"==(e=xe(t))||"SharedArrayBuffer"==e},E=function(t,e){return m(t)&&!Mt(e)&&e in t&&Xu(+e)&&e>=0},A=function(t,e){return e=Ut(e),E(t,e)?oe(2,t[e]):u(t,e)},S=function(t,e,r){return e=Ut(e),!(E(t,e)&&xt(r)&&V(r,"value"))||V(r,"get")||V(r,"set")||r.configurable||V(r,"writable")&&!r.writable||V(r,"enumerable")&&!r.enumerable?a(t,e,r):(t[e]=r.value,t)};gt?(p||(je.f=A,qt.f=S,b(y,"buffer"),b(y,"byteOffset"),b(y,"byteLength"),b(y,"length")),ar({target:"Object",stat:!0,forced:!p},{getOwnPropertyDescriptor:A,defineProperty:S}),t.exports=function(t,u,l){var g=t.match(/\\d+$/)[0]/8,b=t+(l?"Clamped":"")+"Array",E="get"+t,A="set"+t,S=O[b],T=S,k=T&&T.prototype,I={},j=function(t,e){a(t,e,{get:function(){return function(t,e){var r=n(t);return r.view[E](e*g+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=n(t);l&&(r=(r=s(r))<0?0:r>255?255:255&r),o.view[A](e*g+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};p?eu&&(T=u((function(t,e,r,n){return gr(t,k),ss(xt(e)?w(e)?void 0!==n?new S(e,es(r,g),n):void 0!==r?new S(e,es(r,g)):new S(e):m(e)?x(T,e):jt(us,T,e):new S(ou(e)),t,T)})),fr&&fr(T,d),r(e(S),(function(t){t in T||ie(T,t,S[t])})),T.prototype=k):(T=u((function(t,e,r,n){gr(t,k);var i,a,u,s=0,l=0;if(xt(e)){if(!w(e))return m(e)?x(T,e):jt(us,T,e);i=e,l=es(r,g);var p=e.byteLength;if(void 0===n){if(p%g)throw c("Wrong length");if((a=p-l)<0)throw c("Wrong length")}else if((a=Fe(n)*g)+l>p)throw c("Wrong length");u=a/g}else u=ou(e),i=new f(a=u*g);for(o(t,{buffer:i,byteOffset:l,byteLength:a,length:u,view:new h(i)});s<u;)j(t,s++)})),fr&&fr(T,d),k=T.prototype=Qi(y)),k.constructor!==T&&ie(k,"constructor",T),i(k).TypedArrayConstructor=T,v&&ie(k,v,b);var P=T!=S;I[b]=T,ar({global:!0,constructor:!0,forced:P,sham:!p},I),"BYTES_PER_ELEMENT"in T||ie(T,"BYTES_PER_ELEMENT",g),"BYTES_PER_ELEMENT"in k||ie(k,"BYTES_PER_ELEMENT",g),dr(b)}):t.exports=function(){}}));cs("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}),!0);var fs=TypeError,ls=function(t,e){if(!delete t[e])throw fs("Cannot delete property "+Rt(e)+" of "+Rt(t))},hs=Math.min,ps=F([].copyWithin||function(t,e){var r=G(this),n=We(r),o=Ne(t,n),i=Ne(e,n),a=arguments.length>2?arguments[2]:void 0,u=hs((void 0===a?n:Ne(a,n))-i,n-o),s=1;for(i<o&&o<i+u&&(s=-1,i+=u-1,o+=u-1);u-- >0;)i in r?r[o]=r[i]:ls(r,o),o+=s,i+=s;return r}),vs=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("copyWithin",(function(t,e){return ps(vs(this),t,e,arguments.length>2?arguments[2]:void 0)}));var ds=Ei.every,ys=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("every",(function(t){return ds(ys(this),t,arguments.length>1?arguments[1]:void 0)}));var gs=Qa.aTypedArray,ms=Qa.exportTypedArrayMethod,xs=F("".slice);ms("fill",(function(t){var e=arguments.length;gs(this);var r="Big"===xs(xe(this),0,3)?is(t):+t;return jt(pu,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),j((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})));var bs=Qa.aTypedArrayConstructor,ws=Qa.getTypedArrayConstructor,Es=function(t){return bs(Rr(t,ws(t)))},As=function(t,e){return function(t,e){for(var r=0,n=We(e),o=new t(n);n>r;)o[r]=e[r++];return o}(Es(t),e)},Os=Ei.filter,Ss=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("filter",(function(t){var e=Os(Ss(this),t,arguments.length>1?arguments[1]:void 0);return As(this,e)}));var Ts=Ei.find,ks=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("find",(function(t){return Ts(ks(this),t,arguments.length>1?arguments[1]:void 0)}));var Is=Ei.findIndex,js=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("findIndex",(function(t){return Is(js(this),t,arguments.length>1?arguments[1]:void 0)}));var Ps=Ei.forEach,_s=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("forEach",(function(t){Ps(_s(this),t,arguments.length>1?arguments[1]:void 0)}));var Ms=Be.includes,Ls=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("includes",(function(t){return Ms(Ls(this),t,arguments.length>1?arguments[1]:void 0)}));var Rs=Be.indexOf,Cs=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("indexOf",(function(t){return Rs(Cs(this),t,arguments.length>1?arguments[1]:void 0)}));var Ns=vt("iterator"),Ds=O.Uint8Array,Fs=F(Ta.values),Ws=F(Ta.keys),zs=F(Ta.entries),Bs=Qa.aTypedArray,Us=Qa.exportTypedArrayMethod,Gs=Ds&&Ds.prototype,Hs=!j((function(){Gs[Ns].call([1])})),Vs=!!Gs&&Gs.values&&Gs[Ns]===Gs.values&&"values"===Gs.values.name,qs=function(){return Fs(Bs(this))};Us("entries",(function(){return zs(Bs(this))}),Hs),Us("keys",(function(){return Ws(Bs(this))}),Hs),Us("values",qs,Hs||!Vs,{name:"values"}),Us(Ns,qs,Hs||!Vs,{name:"values"});var Zs=Qa.aTypedArray,Ys=Qa.exportTypedArrayMethod,$s=F([].join);Ys("join",(function(t){return $s(Zs(this),t)}));var Ks=Math.min,Qs=[].lastIndexOf,Xs=!!Qs&&1/[1].lastIndexOf(1,-0)<0,Js=Ai("lastIndexOf"),tc=Xs||!Js?function(t){if(Xs)return Fr(Qs,this,arguments)||0;var e=ke(this),r=We(e),n=r-1;for(arguments.length>1&&(n=Ks(n,Le(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:Qs,ec=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("lastIndexOf",(function(t){var e=arguments.length;return Fr(tc,ec(this),e>1?[t,arguments[1]]:[t])}));var rc=Ei.map,nc=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("map",(function(t){return rc(nc(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(Es(t))(e)}))}));var oc=TypeError,ic=function(t){return function(e,r,n,o){Nt(r);var i=G(e),a=Te(i),u=We(i),s=t?u-1:0,c=t?-1:1;if(n<2)for(;;){if(s in a){o=a[s],s+=c;break}if(s+=c,t?s<0:u<=s)throw oc("Reduce of empty array with no initial value")}for(;t?s>=0:u>s;s+=c)s in a&&(o=r(o,a[s],s,i));return o}},ac={left:ic(!1),right:ic(!0)},uc=ac.left,sc=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("reduce",(function(t){var e=arguments.length;return uc(sc(this),t,e,e>1?arguments[1]:void 0)}));var cc=ac.right,fc=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("reduceRight",(function(t){var e=arguments.length;return cc(fc(this),t,e,e>1?arguments[1]:void 0)}));var lc=Qa.aTypedArray,hc=Qa.exportTypedArrayMethod,pc=Math.floor;hc("reverse",(function(){for(var t,e=lc(this).length,r=pc(e/2),n=0;n<r;)t=this[n],this[n++]=this[--e],this[e]=t;return this}));var vc=O.RangeError,dc=O.Int8Array,yc=dc&&dc.prototype,gc=yc&&yc.set,mc=Qa.aTypedArray,xc=Qa.exportTypedArrayMethod,bc=!j((function(){var t=new Uint8ClampedArray(2);return jt(gc,t,{length:1,0:3},1),3!==t[1]})),wc=bc&&Qa.NATIVE_ARRAY_BUFFER_VIEWS&&j((function(){var t=new dc(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));xc("set",(function(t){mc(this);var e=es(arguments.length>1?arguments[1]:void 0,1),r=G(t);if(bc)return jt(gc,this,r,e);var n=this.length,o=We(r),i=0;if(o+e>n)throw vc("Wrong length");for(;i<o;)this[e+i]=r[i++]}),!bc||wc);var Ec=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("slice",(function(t,e){for(var r=Ur(Ec(this),t,e),n=Es(this),o=0,i=r.length,a=new n(i);i>o;)a[o]=r[o++];return a}),j((function(){new Int8Array(1).slice()})));var Ac=Ei.some,Oc=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("some",(function(t){return Ac(Oc(this),t,arguments.length>1?arguments[1]:void 0)}));var Sc=Math.floor,Tc=function(t,e){var r=t.length,n=Sc(r/2);return r<8?kc(t,e):Ic(t,Tc(yu(t,0,n),e),Tc(yu(t,n),e),e)},kc=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},Ic=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t},jc=Tc,Pc=rt.match(/firefox\\/(\\d+)/i),_c=!!Pc&&+Pc[1],Mc=/MSIE|Trident/.test(rt),Lc=rt.match(/AppleWebKit\\/(\\d+)\\./),Rc=!!Lc&&+Lc[1],Cc=Qa.aTypedArray,Nc=Qa.exportTypedArrayMethod,Dc=O.Uint16Array,Fc=Dc&&F(Dc.prototype.sort),Wc=!(!Fc||j((function(){Fc(new Dc(2),null)}))&&j((function(){Fc(new Dc(2),{})}))),zc=!!Fc&&!j((function(){if(ut)return ut<74;if(_c)return _c<67;if(Mc)return!0;if(Rc)return Rc<602;var t,e,r=new Dc(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(Fc(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));Nc("sort",(function(t){return void 0!==t&&Nt(t),zc?Fc(this,t):jc(Cc(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!zc||Wc);var Bc=Qa.aTypedArray;(0,Qa.exportTypedArrayMethod)("subarray",(function(t,e){var r=Bc(this),n=r.length,o=Ne(t,n);return new(Es(r))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,Fe((void 0===e?n:Ne(e,n))-o))}));var Uc=O.Int8Array,Gc=Qa.aTypedArray,Hc=Qa.exportTypedArrayMethod,Vc=[].toLocaleString,qc=!!Uc&&j((function(){Vc.call(new Uc(1))}));Hc("toLocaleString",(function(){return Fr(Vc,qc?Ur(Gc(this)):Gc(this),Ur(arguments))}),j((function(){return[1,2].toLocaleString()!=new Uc([1,2]).toLocaleString()}))||!j((function(){Uc.prototype.toLocaleString.call([1,2])})));var Zc=Qa.exportTypedArrayMethod,Yc=O.Uint8Array,$c=Yc&&Yc.prototype||{},Kc=[].toString,Qc=F([].join);j((function(){Kc.call({})}))&&(Kc=function(){return Qc(this)});var Xc=$c.toString!=Kc;Zc("toString",Kc,Xc);var Jc,tf,ef=String,rf=function(t){if("Symbol"===xe(t))throw TypeError("Cannot convert a Symbol value to a string");return ef(t)},nf=function(){var t=kt(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},of=O.RegExp,af=j((function(){var t=of("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),uf=af||j((function(){return!of("a","y").sticky})),sf={BROKEN_CARET:af||j((function(){var t=of("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:uf,UNSUPPORTED_Y:af},cf=O.RegExp,ff=j((function(){var t=cf(".","s");return!(t.dotAll&&t.exec("\\n")&&"s"===t.flags)})),lf=O.RegExp,hf=j((function(){var t=lf("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),pf=pe.get,vf=I("native-string-replace",String.prototype.replace),df=RegExp.prototype.exec,yf=df,gf=F("".charAt),mf=F("".indexOf),xf=F("".replace),bf=F("".slice),wf=(tf=/b*/g,jt(df,Jc=/a/,"a"),jt(df,tf,"a"),0!==Jc.lastIndex||0!==tf.lastIndex),Ef=sf.BROKEN_CARET,Af=void 0!==/()??/.exec("")[1];(wf||Af||Ef||ff||hf)&&(yf=function(t){var e,r,n,o,i,a,u,s=this,c=pf(s),f=rf(t),l=c.raw;if(l)return l.lastIndex=s.lastIndex,e=jt(yf,l,f),s.lastIndex=l.lastIndex,e;var h=c.groups,p=Ef&&s.sticky,v=jt(nf,s),d=s.source,y=0,g=f;if(p&&(v=xf(v,"y",""),-1===mf(v,"g")&&(v+="g"),g=bf(f,s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\\n"!==gf(f,s.lastIndex-1))&&(d="(?: "+d+")",g=" "+g,y++),r=new RegExp("^(?:"+d+")",v)),Af&&(r=new RegExp("^"+d+"$(?!\\\\s)",v)),wf&&(n=s.lastIndex),o=jt(df,p?r:s,g),p?o?(o.input=bf(o.input,y),o[0]=bf(o[0],y),o.index=s.lastIndex,s.lastIndex+=o[0].length):s.lastIndex=0:wf&&o&&(s.lastIndex=s.global?o.index+o[0].length:n),Af&&o&&o.length>1&&jt(vf,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&h)for(o.groups=a=Qi(null),i=0;i<h.length;i++)a[(u=h[i])[0]]=o[u[1]];return o});var Of=yf;ar({target:"RegExp",proto:!0,forced:/./.exec!==Of},{exec:Of});var Sf,Tf=vt("species"),kf=RegExp.prototype,If=function(t,e,r,n){var o=vt(t),i=!j((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!j((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Tf]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var u=F(/./[o]),s=e(o,""[t],(function(t,e,r,n,o){var a=F(t),s=e.exec;return s===Of||s===kf.exec?i&&!o?{done:!0,value:u(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));de(String.prototype,t,s[0]),de(kf,o,s[1])}n&&ie(kf[o],"sham",!0)},jf=F("".charAt),Pf=F("".charCodeAt),_f=F("".slice),Mf=function(t){return function(e,r){var n,o,i=rf(B(e)),a=Le(r),u=i.length;return a<0||a>=u?t?"":void 0:(n=Pf(i,a))<55296||n>56319||a+1===u||(o=Pf(i,a+1))<56320||o>57343?t?jf(i,a):n:t?_f(i,a,a+2):o-56320+(n-55296<<10)+65536}},Lf={codeAt:Mf(!1),charAt:Mf(!0)},Rf=Lf.charAt,Cf=function(t,e,r){return e+(r?Rf(t,e).length:1)},Nf=Math.floor,Df=F("".charAt),Ff=F("".replace),Wf=F("".slice),zf=/\\$([$&'\`]|\\d{1,2}|<[^>]*>)/g,Bf=/\\$([$&'\`]|\\d{1,2})/g,Uf=function(t,e,r,n,o,i){var a=r+t.length,u=n.length,s=Bf;return void 0!==o&&(o=G(o),s=zf),Ff(i,s,(function(i,s){var c;switch(Df(s,0)){case"$":return"$";case"&":return t;case"\`":return Wf(e,0,r);case"'":return Wf(e,a);case"<":c=o[Wf(s,1,-1)];break;default:var f=+s;if(0===f)return i;if(f>u){var l=Nf(f/10);return 0===l?i:l<=u?void 0===n[l-1]?Df(s,1):n[l-1]+Df(s,1):i}c=n[f-1]}return void 0===c?"":c}))},Gf=TypeError,Hf=function(t,e){var r=t.exec;if(J(r)){var n=jt(r,t,e);return null!==n&&kt(n),n}if("RegExp"===D(t))return jt(Of,t,e);throw Gf("RegExp#exec called on incompatible receiver")},Vf=vt("replace"),qf=Math.max,Zf=Math.min,Yf=F([].concat),$f=F([].push),Kf=F("".indexOf),Qf=F("".slice),Xf="$0"==="a".replace(/./,"$0"),Jf=!!/./[Vf]&&""===/./[Vf]("a","$0");function tl(t){this.message=t}If("replace",(function(t,e,r){var n=Jf?"$":"$0";return[function(t,r){var n=B(this),o=W(t)?void 0:Dt(t,Vf);return o?jt(o,t,n,r):jt(e,rf(n),t,r)},function(t,o){var i=kt(this),a=rf(t);if("string"==typeof o&&-1===Kf(o,n)&&-1===Kf(o,"$<")){var u=r(e,i,a,o);if(u.done)return u.value}var s=J(o);s||(o=rf(o));var c=i.global;if(c){var f=i.unicode;i.lastIndex=0}for(var l=[];;){var h=Hf(i,a);if(null===h)break;if($f(l,h),!c)break;""===rf(h[0])&&(i.lastIndex=Cf(a,Fe(i.lastIndex),f))}for(var p,v="",d=0,y=0;y<l.length;y++){for(var g=rf((h=l[y])[0]),m=qf(Zf(Le(h.index),a.length),0),x=[],b=1;b<h.length;b++)$f(x,void 0===(p=h[b])?p:String(p));var w=h.groups;if(s){var E=Yf([g],x,m,a);void 0!==w&&$f(E,w);var A=rf(Fr(o,void 0,E))}else A=Uf(g,a,m,x,w,o);m>=d&&(v+=Qf(a,d,m)+A,d=m+g.length)}return v+Qf(a,d)}]}),!!j((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Xf||Jf),tl.prototype=new Error,tl.prototype.name="InvalidCharacterError",ar({global:!0,forced:O.globalThis!==O},{globalThis:O}),Sf="undefined"==typeof window?{devicePixelRatio:1,navigator:{userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36",browserLanguage:"zh-CN",language:"zh-CN",platform:""},location:"",document:{documentElement:{style:{}},createEvent:function(){return!0},getElementById:function(t){return!0},createElement:function(){return{className:"",classList:{add:function(){return""}}}},createElementNS:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},querySelector:function(){return!1}},performance:{mark:function(t){return null},clearMeasures:function(t){return null},clearMarks:function(t){return null},measure:function(t,e,r){return{duration:0}},now:function(){return(new Date).getTime()}},Blob:"",dispatchEvent:function(t){return!0},Event:function(t,e){return!0},createElement:function(){return!0},createElementNS:function(){return!0},XMLHttpRequest:function(){return!0},addEventListener:function(){return!0},removeEventListener:function(){return!0},requestAnimationFrame:function(){return!0},cancelAnimationFrame:function(){return!0},clearTimeout:function(){return!0}}:window,"undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM?my.getSystemInfoSync().pixelRatio:Sf.devicePixelRatio;var el=TypeError,rl=Object.getOwnPropertyDescriptor,nl=gt&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(yi(t)&&!rl(t,"length").writable)throw el("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},ol=TypeError,il=function(t){if(t>9007199254740991)throw ol("Maximum allowed index exceeded");return t},al=Pi("splice"),ul=Math.max,sl=Math.min;ar({target:"Array",proto:!0,forced:!al},{splice:function(t,e){var r,n,o,i,a,u,s=G(this),c=We(s),f=Ne(t,c),l=arguments.length;for(0===l?r=n=0:1===l?(r=0,n=c-f):(r=l-2,n=sl(ul(Le(e),0),c-f)),il(c+r-n),o=xi(s,n),i=0;i<n;i++)(a=f+i)in s&&Ii(o,i,s[a]);if(o.length=n,r<n){for(i=f;i<c-n;i++)u=i+r,(a=i+n)in s?s[u]=s[a]:ls(s,u);for(i=c;i>c-n+r;i--)ls(s,i-1)}else if(r>n)for(i=c-n;i>f;i--)u=i+r-1,(a=i+n-1)in s?s[u]=s[a]:ls(s,u);for(i=0;i<r;i++)s[i+f]=arguments[i+2];return nl(s,c-n+r),o}});var cl=u((function t(e,r){i(this,t),s(this,"cancelBubble",void 0),s(this,"cancelable",void 0),s(this,"target",void 0),s(this,"currentTarget",void 0),s(this,"preventDefault",void 0),s(this,"stopPropagation",void 0),s(this,"type",void 0),s(this,"timeStamp",void 0),this.cancelBubble=!1,this.cancelable=!1,this.target=null,this.currentTarget=null,this.preventDefault=function(){},this.stopPropagation=function(){},this.type=e,this.timeStamp=Date.now()})),fl=Object.assign,ll=Object.defineProperty,hl=F([].concat),pl=!fl||j((function(){if(gt&&1!==fl({b:1},fl(ll({},"a",{enumerable:!0,get:function(){ll(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=fl({},t)[r]||"abcdefghijklmnopqrst"!=Hi(fl({},e)).join("")}))?function(t,e){for(var r=G(t),n=arguments.length,o=1,i=Ye.f,a=Ae.f;n>o;)for(var u,s=Te(arguments[o++]),c=i?hl(Hi(s),i(s)):Hi(s),f=c.length,l=0;f>l;)u=c[l++],gt&&!jt(a,s,u)||(r[u]=s[u]);return r}:fl;ar({target:"Object",stat:!0,arity:2,forced:Object.assign!==pl},{assign:pl});var vl=Ei.findIndex,dl=!0;"findIndex"in[]&&Array(1).findIndex((function(){dl=!1})),ar({target:"Array",proto:!0,forced:dl},{findIndex:function(t){return vl(this,t,arguments.length>1?arguments[1]:void 0)}}),oa("findIndex");var yl=Lf.charAt,gl=pe.set,ml=pe.getterFor("String Iterator");wa(String,"String",(function(t){gl(this,{type:"String Iterator",string:rf(t),index:0})}),(function(){var t,e=ml(this),r=e.string,n=e.index;return n>=r.length?Ea(void 0,!0):(t=yl(r,n),e.index+=t.length,Ea(t,!1))}));var xl=Ze.f,bl="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],wl={f:function(t){return bl&&"Window"==D(t)?function(t){try{return xl(t)}catch(t){return yu(bl)}}(t):xl(ke(t))}},El=j((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}})),Al=Object.isExtensible,Ol=j((function(){Al(1)}))||El?function(t){return!!xt(t)&&((!El||"ArrayBuffer"!=D(t))&&(!Al||Al(t)))}:Al,Sl=!j((function(){return Object.isExtensible(Object.preventExtensions({}))})),Tl=b((function(t){var e=qt.f,r=!1,n=$("meta"),o=0,i=function(t){e(t,n,{value:{objectID:"O"+o++,weakData:{}}})},a=t.exports={enable:function(){a.enable=function(){},r=!0;var t=Ze.f,e=F([].splice),o={};o[n]=1,t(o).length&&(Ze.f=function(r){for(var o=t(r),i=0,a=o.length;i<a;i++)if(o[i]===n){e(o,i,1);break}return o},ar({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:wl.f}))},fastKey:function(t,e){if(!xt(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!V(t,n)){if(!Ol(t))return"F";if(!e)return"E";i(t)}return t[n].objectID},getWeakData:function(t,e){if(!V(t,n)){if(!Ol(t))return!0;if(!e)return!1;i(t)}return t[n].weakData},onFreeze:function(t){return Sl&&r&&Ol(t)&&!V(t,n)&&i(t),t}};se[n]=!0})),kl=(Tl.enable,Tl.fastKey,Tl.getWeakData,Tl.onFreeze,function(t,e,r){var n=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=n?"set":"add",a=O[t],u=a&&a.prototype,s=a,c={},f=function(t){var e=F(u[t]);de(u,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(o&&!xt(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return o&&!xt(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!xt(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(or(t,!J(a)||!(o||u.forEach&&!j((function(){(new a).entries().next()})))))s=r.getConstructor(e,t,n,i),Tl.enable();else if(or(t,!0)){var l=new s,h=l[i](o?{}:-0,1)!=l,p=j((function(){l.has(1)})),v=_o((function(t){new a(t)})),d=!o&&j((function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)}));v||((s=e((function(t,e){gr(t,u);var r=ss(new a,t,s);return W(e)||To(e,r[i],{that:r,AS_ENTRIES:n}),r}))).prototype=u,u.constructor=s),(p||d)&&(f("delete"),f("has"),n&&f("get")),(d||h)&&f(i),o&&u.clear&&delete u.clear}return c[t]=s,ar({global:!0,constructor:!0,forced:s!=a},c),pr(s,t),o||r.setStrong(s,t,n),s}),Il=Tl.getWeakData,jl=pe.set,Pl=pe.getterFor,_l=Ei.find,Ml=Ei.findIndex,Ll=F([].splice),Rl=0,Cl=function(t){return t.frozen||(t.frozen=new Nl)},Nl=function(){this.entries=[]},Dl=function(t,e){return _l(t.entries,(function(t){return t[0]===e}))};Nl.prototype={get:function(t){var e=Dl(this,t);if(e)return e[1]},has:function(t){return!!Dl(this,t)},set:function(t,e){var r=Dl(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=Ml(this.entries,(function(e){return e[0]===t}));return~e&&Ll(this.entries,e,1),!!~e}};var Fl,Wl={getConstructor:function(t,e,r,n){var o=t((function(t,o){gr(t,i),jl(t,{type:e,id:Rl++,frozen:void 0}),W(o)||To(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=Pl(e),u=function(t,e,r){var n=a(t),o=Il(kt(e),!0);return!0===o?Cl(n).set(e,r):o[n.id]=r,t};return ru(i,{delete:function(t){var e=a(this);if(!xt(t))return!1;var r=Il(t);return!0===r?Cl(e).delete(t):r&&V(r,e.id)&&delete r[e.id]},has:function(t){var e=a(this);if(!xt(t))return!1;var r=Il(t);return!0===r?Cl(e).has(t):r&&V(r,e.id)}}),ru(i,r?{get:function(t){var e=a(this);if(xt(t)){var r=Il(t);return!0===r?Cl(e).get(t):r?r[e.id]:void 0}},set:function(t,e){return u(this,t,e)}}:{add:function(t){return u(this,t,!0)}}),o}},zl=pe.enforce,Bl=!O.ActiveXObject&&"ActiveXObject"in O,Ul=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Gl=kl("WeakMap",Ul,Wl);if(ne&&Bl){Fl=Wl.getConstructor(Ul,"WeakMap",!0),Tl.enable();var Hl=Gl.prototype,Vl=F(Hl.delete),ql=F(Hl.has),Zl=F(Hl.get),Yl=F(Hl.set);ru(Hl,{delete:function(t){if(xt(t)&&!Ol(t)){var e=zl(this);return e.frozen||(e.frozen=new Fl),Vl(this,t)||e.frozen.delete(t)}return Vl(this,t)},has:function(t){if(xt(t)&&!Ol(t)){var e=zl(this);return e.frozen||(e.frozen=new Fl),ql(this,t)||e.frozen.has(t)}return ql(this,t)},get:function(t){if(xt(t)&&!Ol(t)){var e=zl(this);return e.frozen||(e.frozen=new Fl),ql(this,t)?Zl(this,t):e.frozen.get(t)}return Zl(this,t)},set:function(t,e){if(xt(t)&&!Ol(t)){var r=zl(this);r.frozen||(r.frozen=new Fl),ql(this,t)?Yl(this,t,e):r.frozen.set(t,e)}else Yl(this,t,e);return this}})}var $l=vt("iterator"),Kl=vt("toStringTag"),Ql=Ta.values,Xl=function(t,e){if(t){if(t[$l]!==Ql)try{ie(t,$l,Ql)}catch(e){t[$l]=Ql}if(t[Kl]||ie(t,Kl,e),hi[e])for(var r in Ta)if(t[r]!==Ta[r])try{ie(t,r,Ta[r])}catch(e){t[r]=Ta[r]}}};for(var Jl in hi)Xl(O[Jl]&&O[Jl].prototype,Jl);Xl(di,"DOMTokenList");var th,eh,rh,nh,oh=new WeakMap,ih=function(){function t(){i(this,t),oh.set(this,{})}return u(t,[{key:"addEventListener",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=oh.get(this);n||(n={}),n[t]||(n[t]=[]),n[t].push(e),oh.set(this,n),r.capture,r.once,r.passive}},{key:"removeEventListener",value:function(t,e){var r=oh.get(this);if(r){var n=r[t];if(n&&n.length>0)for(var o=n.length;o--;o>0)if(n[o]===e){n.splice(o,1);break}}}},{key:"dispatchEvent",value:function(t){var e=oh.get(this)[t.type];if(e){var r,n=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(e);try{for(n.s();!(r=n.n()).done;){(0,r.value)(t)}}catch(t){n.e(t)}finally{n.f()}}}}]),t}(),ah=function(t){c(r,t);var e=v(r);function r(){var t;return i(this,r),s(h(t=e.call(this)),"className",void 0),s(h(t),"children",void 0),t.className="",t.children=[],t}return u(r,[{key:"setAttribute",value:function(t,e){this[t]=e}},{key:"getAttribute",value:function(t){return this[t]}},{key:"setAttributeNS",value:function(t,e){this[t]=e}},{key:"getAttributeNS",value:function(t){return this[t]}}]),r}(function(t){c(r,t);var e=v(r);function r(){var t;return i(this,r),s(h(t=e.call(this)),"childNodes",void 0),t.childNodes=[],t}return u(r,[{key:"appendChild",value:function(t){this.childNodes.push(t)}},{key:"cloneNode",value:function(){var t=Object.create(this);return Object.assign(t,this),t}},{key:"removeChild",value:function(t){var e=this.childNodes.findIndex((function(e){return e===t}));return e>-1?this.childNodes.splice(e,1):null}}]),r}(ih));if("undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var uh=my.getSystemInfoSync();th=uh.screenWidth,eh=uh.screenHeight,rh=uh.windowWidth,nh=uh.windowHeight}else{var sh=Sf.innerWidth,ch=Sf.innerHeight;th=sh,eh=ch,rh=sh,nh=ch}var fh={width:th,height:eh,availWidth:rh,availHeight:nh,availLeft:0,availTop:0},lh=fh.availWidth,hh=fh.availHeight,ph={style:[]};function vh(t,e){var r,n;"parentNode"in t||(r=0===e?function(){return null}:1===e?function(){return ph}:function(){return null},Object.defineProperty(t,"parentNode",{enumerable:!0,get:r}));"parentElement"in t||(n=0===e?function(){return null}:1===e?function(){return ph}:function(){return null},Object.defineProperty(t,"parentElement",{enumerable:!0,get:n}))}function dh(t){t.style=t.style||{},Object.assign(t.style,{top:"0px",left:"0px",width:lh+"px",height:hh+"px",margin:"0px",padding:"0px"})}function yh(t){"clientLeft"in t||(t.clientLeft=0,t.clientTop=0),"clientWidth"in t||(t.clientWidth=lh,t.clientHeight=hh),"getBoundingClientRect"in t||(t.getBoundingClientRect=function(){return{x:0,y:0,top:0,left:0,width:this.clientWidth,height:this.clientHeight,right:this.clientWidth,bottom:this.clientHeight}})}function gh(t){"offsetLeft"in t||(t.offsetLeft=0,t.offsetTop=0),"offsetWidth"in t||(t.offsetWidth=lh,t.offsetHeight=hh)}function mh(t){"scrollLeft"in t||(t.scrollLeft=0,t.scrollTop=0),"scrollWidth"in t||(t.scrollWidth=lh,t.scrollHeight=hh)}function xh(t){var e=function(){return!0};t.classList=[],t.classList.add=e,t.classList.remove=e,t.classList.contains=e,t.classList.toggle=e}function bh(){}var wh=function(t){c(r,t);var e=v(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;return i(this,r),s(h(t=e.call(this)),"className",void 0),s(h(t),"children",void 0),s(h(t),"focus",void 0),s(h(t),"blur",void 0),s(h(t),"insertBefore",void 0),s(h(t),"appendChild",void 0),s(h(t),"removeChild",void 0),s(h(t),"remove",void 0),s(h(t),"innerHTML",void 0),s(h(t),"tagName",void 0),t.className="",t.children=[],t.focus=bh,t.blur=bh,t.insertBefore=bh,t.appendChild=bh,t.removeChild=bh,t.remove=bh,t.innerHTML="",t.tagName=n.toUpperCase(),vh(h(t),o),dh(h(t)),xh(h(t)),yh(h(t)),gh(h(t)),mh(h(t)),t}return u(r)}(ah),Eh=function(t){c(r,t);var e=v(r);function r(){return i(this,r),e.call(this,"video")}return u(r)}(function(t){c(r,t);var e=v(r);function r(t){return i(this,r),e.call(this,t)}return u(r,[{key:"addTextTrack",value:function(){}},{key:"captureStream",value:function(){}},{key:"fastSeek",value:function(){}},{key:"load",value:function(){}},{key:"pause",value:function(){}},{key:"play",value:function(){}}]),r}(wh)),Ah={};function Oh(){return Ah}var Sh=u((function t(){i(this,t);var e=Oh(),r=e.createImage&&e.createImage()||{};return"tagName"in r||(r.tagName="IMG",r.__proto__=t.prototype),vh(r),xh(r),Object.assign(r,{addEventListener:function(t,e){r["on".concat(t)]=e.bind(r)},removeEventListener:function(t){r["on".concat(t)]=null}}),r})),Th={href:"",protocol:"",host:""},kh=function(t){c(r,t);var e=v(r);function r(){return i(this,r),e.call(this,"body",0)}return u(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e,r){}},{key:"dispatchEvent",value:function(t){}}]),r}(wh),Ih=function(t){c(r,t);var e=v(r);function r(){return i(this,r),e.call(this,"html",0)}return u(r,[{key:"addEventListener",value:function(t,e){}},{key:"removeEventListener",value:function(t,e){}},{key:"dispatchEvent",value:function(t){}}]),r}(wh),jh={},Ph={readyState:"complete",visibilityState:"visible",hidden:!1,fullscreen:!0,scripts:[],style:{},location:Th,ontouchstart:null,ontouchmove:null,ontouchend:null,onvisibilitychange:null,parentNode:null,parentElement:null,head:null,body:null,documentElement:{style:[]},createElement:function(t){return"canvas"===(t=t.toLowerCase())?my.createOffscreenCanvas(1024,128,"2d"):"img"===t?new Sh:"video"===t?new Eh:new wh(t)},createElementNS:function(t,e){return this.createElement(e)},createTextNode:function(t){return t},getElementById:function(t){return null},getElementsByTagName:function(t){return t=t.toLowerCase(),[]},getElementsByTagNameNS:function(t,e){return this.getElementsByTagName(e)},getElementsByName:function(t){return[]},querySelector:function(t){return null},querySelectorAll:function(t){return[]},addEventListener:function(t,e,r){jh[t]||(jh[t]=[]),jh[t].push(e)},removeEventListener:function(t,e){var r=jh[t];if(r&&r.length>0)for(var n=r.length;n--;n>0)if(r[n]===e){r.splice(n,1);break}},dispatchEvent:function(t){var e=t.type,r=jh[e];if(r)for(var n=0;n<r.length;n++)r[n](t);t.target&&"function"==typeof t.target["on"+e]&&t.target["on"+e](t)},createEvent:function(t){return new cl(t)}};Ph.documentElement=new Ih,Ph.head=new wh("head"),Ph.body=new kh,If("match",(function(t,e,r){return[function(e){var r=B(this),n=W(e)?void 0:Dt(e,t);return n?jt(n,e,r):new RegExp(e)[t](rf(r))},function(t){var n=kt(this),o=rf(t),i=r(e,n,o);if(i.done)return i.value;if(!n.global)return Hf(n,o);var a=n.unicode;n.lastIndex=0;for(var u,s=[],c=0;null!==(u=Hf(n,o));){var f=rf(u[0]);s[c]=f,""===f&&(n.lastIndex=Cf(o,Fe(n.lastIndex),a)),c++}return 0===c?null:s}]}));var _h,Mh,Lh=vt("isConcatSpreadable"),Rh=ut>=51||!j((function(){var t=[];return t[Lh]=!1,t.concat()[0]!==t})),Ch=Pi("concat"),Nh=function(t){if(!xt(t))return!1;var e=t[Lh];return void 0!==e?!!e:yi(t)};if(ar({target:"Array",proto:!0,arity:1,forced:!Rh||!Ch},{concat:function(t){var e,r,n,o,i,a=G(this),u=xi(a,0),s=0;for(e=-1,n=arguments.length;e<n;e++)if(Nh(i=-1===e?a:arguments[e]))for(o=We(i),il(s+o),r=0;r<o;r++,s++)r in i&&Ii(u,s,i[r]);else il(s+1),Ii(u,s++,i);return u.length=s,u}}),"undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM){var Dh=my.getSystemInfoSync();_h=Dh.system,Dh.platform,Dh.language}else{var Fh={versions:(Mh=Sf.navigator.userAgent,{trident:Mh.indexOf("Trident")>-1,presto:Mh.indexOf("Presto")>-1,webKit:Mh.indexOf("AppleWebKit")>-1,gecko:Mh.indexOf("Gecko")>-1&&-1===Mh.indexOf("KHTML"),mobile:!!Mh.match(/AppleWebKit.*Mobile.*/),ios:!!Mh.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/),android:Mh.indexOf("Android")>-1||Mh.indexOf("Linux")>-1,iPhone:Mh.indexOf("iPhone")>-1,iPad:Mh.indexOf("iPad")>-1,webApp:-1===Mh.indexOf("Safari"),weixin:Mh.indexOf("MicroMessenger")>-1,qq:" qq"===Mh.match(/\\sQQ/i)}),language:(Sf.navigator.browserLanguage||Sf.navigator.language).toLowerCase()};Fh.versions.android?"android":Fh.versions.trident?"IE":Fh.versions.presto?"Opera":Fh.versions.webKit?"webKit":Fh.versions.gecko?"Firefox":Fh.versions.mobile?"mobile":Fh.versions.ios?"ios":Fh.versions.iPhone?"iPhone":Fh.versions.iPad?"ipad":Fh.versions.webApp?"webApp":Fh.versions.weixin?"weixin":Fh.versions.qq&&"qq",_h=Sf.navigator.userAgent,Fh.language}_h.toLowerCase().indexOf("android");cs("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var Wh=qt.f,zh=Tl.fastKey,Bh=pe.set,Uh=pe.getterFor;kl("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,r,n){var o=t((function(t,o){gr(t,i),Bh(t,{type:e,index:Qi(null),first:void 0,last:void 0,size:0}),gt||(t.size=0),W(o)||To(o,t[n],{that:t,AS_ENTRIES:r})})),i=o.prototype,a=Uh(e),u=function(t,e,r){var n,o,i=a(t),u=s(t,e);return u?u.value=r:(i.last=u={index:o=zh(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=u),n&&(n.next=u),gt?i.size++:t.size++,"F"!==o&&(i.index[o]=u)),t},s=function(t,e){var r,n=a(t),o=zh(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return ru(i,{clear:function(){for(var t=a(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,gt?t.size=0:this.size=0},delete:function(t){var e=a(this),r=s(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),gt?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=a(this),n=zr(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!s(this,t)}}),ru(i,r?{get:function(t){var e=s(this,t);return e&&e.value},set:function(t,e){return u(this,0===t?0:t,e)}}:{add:function(t){return u(this,t=0===t?0:t,t)}}),gt&&Wh(i,"size",{get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=Uh(e),i=Uh(n);wa(t,e,(function(t,e){Bh(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?Ea("keys"==e?r.key:"values"==e?r.value:[r.key,r.value],!1):(t.target=void 0,Ea(void 0,!0))}),r?"entries":"values",!r,!0),dr(e)}});var Gh=F([].join),Hh=Te!=Object,Vh=Ai("join",",");ar({target:"Array",proto:!0,forced:Hh||!Vh},{join:function(t){return Gh(ke(this),void 0===t?",":t)}});var qh=j((function(){Hi(1)}));ar({target:"Object",stat:!0,forced:qh},{keys:function(t){return Hi(G(t))}});var Zh=new Map,Yh=new Map,$h=new Map,Kh=function(t){c(r,t);var e=v(r);function r(){var t;return i(this,r),s(h(t=e.call(this)),"onabort",void 0),s(h(t),"onerror",void 0),s(h(t),"onload",void 0),s(h(t),"onloadstart",void 0),s(h(t),"onprogress",void 0),s(h(t),"ontimeout",void 0),s(h(t),"onloadend",void 0),s(h(t),"onreadystatechange",void 0),s(h(t),"readyState",void 0),s(h(t),"response",void 0),s(h(t),"responseText",void 0),s(h(t),"_responseType",void 0),s(h(t),"responseXML",void 0),s(h(t),"status",void 0),s(h(t),"statusText",void 0),s(h(t),"upload",void 0),s(h(t),"withCredentials",void 0),s(h(t),"timeout",void 0),s(h(t),"_url",void 0),s(h(t),"_method",void 0),t.onabort=null,t.onerror=null,t.onload=null,t.onloadstart=null,t.onprogress=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null,t.readyState=0,t.response=null,t.responseText=null,t._responseType="text",t.responseXML=null,t.status=0,t.statusText="",t.upload={},t.withCredentials=!1,Zh.set("requestHeader",{"content-type":"application/x-www-form-urlencoded"}),t}return u(r,[{key:"responseType",set:function(t){this._responseType=t}},{key:"abort",value:function(){var t=$h.get("requestTask");t&&t.abort()}},{key:"getAllResponseHeaders",value:function(){var t=Yh.get("responseHeader");return Object.keys(t).map((function(e){return"".concat(e,": ").concat(t[e])})).join("\\n")}},{key:"getResponseHeader",value:function(t){return Yh.get("responseHeader")[t]}},{key:"open",value:function(t,e,r){this._method=t,this._url=e}},{key:"overrideMimeType",value:function(){}},{key:"send",value:function(){}},{key:"setRequestHeader",value:function(t,e){var r=Zh.get("requestHeader");r[t]=e,Zh.set("requestHeader",r)}},{key:"addEventListener",value:function(t,e){var r=this;"function"==typeof e&&(this["on"+t]=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.target=t.target||r,e.call(r,t)})}},{key:"removeEventListener",value:function(t,e){this["on"+t]===e&&(this["on"+t]=null)}}]),r}(ih);s(Kh,"UNSEND",void 0),s(Kh,"OPENED",void 0),s(Kh,"HEADERS_RECEIVED",void 0),s(Kh,"LOADING",void 0),s(Kh,"DONE",void 0),Kh.UNSEND=0,Kh.OPENED=1,Kh.HEADERS_RECEIVED=2,Kh.LOADING=3,Kh.DONE=4;var Qh="undefined"!=typeof my&&!!my&&"function"==typeof my.showToast&&!0!==my.isFRM,Xh="undefined"!=typeof wx&&null!==wx&&(void 0!==wx.request||void 0!==wx.miniProgram),Jh=Qh||Xh;Jh||Sf.XMLHttpRequest,Jh||Sf.location;function tp(t){return[t+1&255,t+1>>8&255,t+1>>8>>8&255]}var ep=Ei.filter,rp=Pi("filter");function np(t){var e=t.color;return e&&e.length?e:[1,1,1,1]}function op(t,e,r){return 2===r.length?[r[0],r[1],0]:[r[0],r[1],r[2]]}function ip(t){return t.filter?[1]:[0]}function ap(t,e){return[e]}ar({target:"Array",proto:!0,forced:!rp},{filter:function(t){return ep(this,t,arguments.length>1?arguments[1]:void 0)}});var up=cp,sp=cp;function cp(t,e,r){r=r||2;var n,o,i,a,u,s,c,f=e&&e.length,l=f?e[0]*r:t.length,h=fp(t,0,l,r,!0),p=[];if(!h||h.next===h.prev)return p;if(f&&(h=function(t,e,r,n){var o,i,a,u,s,c=[];for(o=0,i=e.length;o<i;o++)a=e[o]*n,u=o<i-1?e[o+1]*n:t.length,(s=fp(t,a,u,n,!1))===s.next&&(s.steiner=!0),c.push(wp(s));for(c.sort(gp),o=0;o<c.length;o++)r=mp(c[o],r);return r}(t,e,h,r)),t.length>80*r){n=i=t[0],o=a=t[1];for(var v=r;v<l;v+=r)(u=t[v])<n&&(n=u),(s=t[v+1])<o&&(o=s),u>i&&(i=u),s>a&&(a=s);c=0!==(c=Math.max(i-n,a-o))?32767/c:0}return hp(h,p,r,n,o,c,0),p}function fp(t,e,r,n,o){var i,a;if(o===Rp(t,e,r,n)>0)for(i=e;i<r;i+=n)a=_p(i,t[i],t[i+1],a);else for(i=r-n;i>=e;i-=n)a=_p(i,t[i],t[i+1],a);return a&&Sp(a,a.next)&&(Mp(a),a=a.next),a}function lp(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!Sp(n,n.next)&&0!==Op(n.prev,n,n.next))n=n.next;else{if(Mp(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function hp(t,e,r,n,o,i,a){if(t){!a&&i&&function(t,e,r,n){var o=t;do{0===o.z&&(o.z=bp(o.x,o.y,e,r,n)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,function(t){var e,r,n,o,i,a,u,s,c=1;do{for(r=t,t=null,i=null,a=0;r;){for(a++,n=r,u=0,e=0;e<c&&(u++,n=n.nextZ);e++);for(s=c;u>0||s>0&&n;)0!==u&&(0===s||!n||r.z<=n.z)?(o=r,r=r.nextZ,u--):(o=n,n=n.nextZ,s--),i?i.nextZ=o:t=o,o.prevZ=i,i=o;r=n}i.nextZ=null,c*=2}while(a>1)}(o)}(t,n,o,i);for(var u,s,c=t;t.prev!==t.next;)if(u=t.prev,s=t.next,i?vp(t,n,o,i):pp(t))e.push(u.i/r|0),e.push(t.i/r|0),e.push(s.i/r|0),Mp(t),t=s.next,c=s.next;else if((t=s)===c){a?1===a?hp(t=dp(lp(t),e,r),e,r,n,o,i,2):2===a&&yp(t,e,r,n,o,i):hp(lp(t),e,r,n,o,i,1);break}}}function pp(t){var e=t.prev,r=t,n=t.next;if(Op(e,r,n)>=0)return!1;for(var o=e.x,i=r.x,a=n.x,u=e.y,s=r.y,c=n.y,f=o<i?o<a?o:a:i<a?i:a,l=u<s?u<c?u:c:s<c?s:c,h=o>i?o>a?o:a:i>a?i:a,p=u>s?u>c?u:c:s>c?s:c,v=n.next;v!==e;){if(v.x>=f&&v.x<=h&&v.y>=l&&v.y<=p&&Ep(o,u,i,s,a,c,v.x,v.y)&&Op(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function vp(t,e,r,n){var o=t.prev,i=t,a=t.next;if(Op(o,i,a)>=0)return!1;for(var u=o.x,s=i.x,c=a.x,f=o.y,l=i.y,h=a.y,p=u<s?u<c?u:c:s<c?s:c,v=f<l?f<h?f:h:l<h?l:h,d=u>s?u>c?u:c:s>c?s:c,y=f>l?f>h?f:h:l>h?l:h,g=bp(p,v,e,r,n),m=bp(d,y,e,r,n),x=t.prevZ,b=t.nextZ;x&&x.z>=g&&b&&b.z<=m;){if(x.x>=p&&x.x<=d&&x.y>=v&&x.y<=y&&x!==o&&x!==a&&Ep(u,f,s,l,c,h,x.x,x.y)&&Op(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,b.x>=p&&b.x<=d&&b.y>=v&&b.y<=y&&b!==o&&b!==a&&Ep(u,f,s,l,c,h,b.x,b.y)&&Op(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;x&&x.z>=g;){if(x.x>=p&&x.x<=d&&x.y>=v&&x.y<=y&&x!==o&&x!==a&&Ep(u,f,s,l,c,h,x.x,x.y)&&Op(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;b&&b.z<=m;){if(b.x>=p&&b.x<=d&&b.y>=v&&b.y<=y&&b!==o&&b!==a&&Ep(u,f,s,l,c,h,b.x,b.y)&&Op(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function dp(t,e,r){var n=t;do{var o=n.prev,i=n.next.next;!Sp(o,i)&&Tp(o,n,n.next,i)&&jp(o,i)&&jp(i,o)&&(e.push(o.i/r|0),e.push(n.i/r|0),e.push(i.i/r|0),Mp(n),Mp(n.next),n=t=i),n=n.next}while(n!==t);return lp(n)}function yp(t,e,r,n,o,i){var a=t;do{for(var u=a.next.next;u!==a.prev;){if(a.i!==u.i&&Ap(a,u)){var s=Pp(a,u);return a=lp(a,a.next),s=lp(s,s.next),hp(a,e,r,n,o,i,0),void hp(s,e,r,n,o,i,0)}u=u.next}a=a.next}while(a!==t)}function gp(t,e){return t.x-e.x}function mp(t,e){var r=function(t,e){var r,n=e,o=t.x,i=t.y,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){var u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=o&&u>a&&(a=u,r=n.x<n.next.x?n:n.next,u===o))return r}n=n.next}while(n!==e);if(!r)return null;var s,c=r,f=r.x,l=r.y,h=1/0;n=r;do{o>=n.x&&n.x>=f&&o!==n.x&&Ep(i<l?o:a,i,f,l,i<l?a:o,i,n.x,n.y)&&(s=Math.abs(i-n.y)/(o-n.x),jp(n,t)&&(s<h||s===h&&(n.x>r.x||n.x===r.x&&xp(r,n)))&&(r=n,h=s)),n=n.next}while(n!==c);return r}(t,e);if(!r)return e;var n=Pp(r,t);return lp(n,n.next),lp(r,r.next)}function xp(t,e){return Op(t.prev,t,e.prev)<0&&Op(e.next,t,t.next)<0}function bp(t,e,r,n,o){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*o|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*o|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function wp(t){var e=t,r=t;do{(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next}while(e!==t);return r}function Ep(t,e,r,n,o,i,a,u){return(o-a)*(e-u)>=(t-a)*(i-u)&&(t-a)*(n-u)>=(r-a)*(e-u)&&(r-a)*(i-u)>=(o-a)*(n-u)}function Ap(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Tp(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&&(jp(t,e)&&jp(e,t)&&function(t,e){var r=t,n=!1,o=(t.x+e.x)/2,i=(t.y+e.y)/2;do{r.y>i!=r.next.y>i&&r.next.y!==r.y&&o<(r.next.x-r.x)*(i-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==t);return n}(t,e)&&(Op(t.prev,t,e.prev)||Op(t,e.prev,e))||Sp(t,e)&&Op(t.prev,t,t.next)>0&&Op(e.prev,e,e.next)>0)}function Op(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Sp(t,e){return t.x===e.x&&t.y===e.y}function Tp(t,e,r,n){var o=Ip(Op(t,e,r)),i=Ip(Op(t,e,n)),a=Ip(Op(r,n,t)),u=Ip(Op(r,n,e));return o!==i&&a!==u||(!(0!==o||!kp(t,r,e))||(!(0!==i||!kp(t,n,e))||(!(0!==a||!kp(r,t,n))||!(0!==u||!kp(r,e,n)))))}function kp(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Ip(t){return t>0?1:t<0?-1:0}function jp(t,e){return Op(t.prev,t,t.next)<0?Op(t,e,t.next)>=0&&Op(t,t.prev,e)>=0:Op(t,e,t.prev)<0||Op(t,t.next,e)<0}function Pp(t,e){var r=new Lp(t.i,t.x,t.y),n=new Lp(e.i,e.x,e.y),o=t.next,i=e.prev;return t.next=e,e.prev=t,r.next=o,o.prev=r,n.next=r,r.prev=n,i.next=n,n.prev=i,n}function _p(t,e,r,n){var o=new Lp(t,e,r);return n?(o.next=n.next,o.prev=n,n.next.prev=o,n.next=o):(o.prev=o,o.next=o),o}function Mp(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Lp(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Rp(t,e,r,n){for(var o=0,i=e,a=r-n;i<r;i+=n)o+=(t[a]-t[i])*(t[i+1]+t[a+1]),a=i;return o}cp.deviation=function(t,e,r,n){var o=e&&e.length,i=o?e[0]*r:t.length,a=Math.abs(Rp(t,0,i,r));if(o)for(var u=0,s=e.length;u<s;u++){var c=e[u]*r,f=u<s-1?e[u+1]*r:t.length;a-=Math.abs(Rp(t,c,f,r))}var l=0;for(u=0;u<n.length;u+=3){var h=n[u]*r,p=n[u+1]*r,v=n[u+2]*r;l+=Math.abs((t[h]-t[v])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[v+1]-t[h+1]))}return 0===a&&0===l?0:Math.abs((l-a)/a)},cp.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,o=0;o<t.length;o++){for(var i=0;i<t[o].length;i++)for(var a=0;a<e;a++)r.vertices.push(t[o][i][a]);o>0&&(n+=t[o-1].length,r.holes.push(n))}return r},up.default=sp;var Cp=F(1..valueOf),Np=F("".replace),Dp="[\\t\\n\\v\\f\\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\\u2028\\u2029\\ufeff]",Fp=RegExp("^"+Dp+Dp+"*"),Wp=RegExp(Dp+Dp+"*$"),zp=function(t){return function(e){var r=rf(B(e));return 1&t&&(r=Np(r,Fp,"")),2&t&&(r=Np(r,Wp,"")),r}},Bp={start:zp(1),end:zp(2),trim:zp(3)},Up=Ze.f,Gp=je.f,Hp=qt.f,Vp=Bp.trim,qp=O.Number,Zp=qp.prototype,Yp=O.TypeError,$p=F("".slice),Kp=F("".charCodeAt),Qp=function(t){var e=Bt(t,"number");return"bigint"==typeof e?e:Xp(e)},Xp=function(t){var e,r,n,o,i,a,u,s,c=Bt(t,"number");if(Mt(c))throw Yp("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Vp(c),43===(e=Kp(c,0))||45===e){if(88===(r=Kp(c,2))||120===r)return NaN}else if(48===e){switch(Kp(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=$p(c,2)).length,u=0;u<a;u++)if((s=Kp(i,u))<48||s>o)return NaN;return parseInt(i,n)}return+c};if(or("Number",!qp(" 0o1")||!qp("0b1")||qp("+0x1"))){for(var Jp,tv=function(t){var e=arguments.length<1?0:qp(Qp(t)),r=this;return Pt(Zp,r)&&j((function(){Cp(r)}))?ss(Object(e),r,tv):e},ev=gt?Up(qp):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),rv=0;ev.length>rv;rv++)V(qp,Jp=ev[rv])&&!V(tv,Jp)&&Hp(tv,Jp,Gp(qp,Jp));tv.prototype=Zp,Zp.constructor=tv,de(O,"Number",tv,{constructor:!0})}var nv=RangeError,ov=RangeError,iv=String,av=Math.floor,uv=F((function(t){var e=rf(B(this)),r="",n=Le(t);if(n<0||n==1/0)throw nv("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r})),sv=F("".slice),cv=F(1..toFixed),fv=function(t,e,r){return 0===e?r:e%2==1?fv(t,e-1,r*t):fv(t*t,e/2,r)},lv=function(t,e,r){for(var n=-1,o=r;++n<6;)o+=e*t[n],t[n]=o%1e7,o=av(o/1e7)},hv=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=av(n/e),n=n%e*1e7},pv=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=iv(t[e]);r=""===r?n:r+uv("0",7-n.length)+n}return r},vv=j((function(){return"0.000"!==cv(8e-5,3)||"1"!==cv(.9,0)||"1.25"!==cv(1.255,2)||"1000000000000000128"!==cv(0xde0b6b3a7640080,0)}))||!j((function(){cv({})}));function dv(t){return"number"==typeof t}function yv(t){var e=Math.max(Math.min(85.0511287798,t[1]),-85.0511287798),r=Math.PI/180,n=t[0]*r,o=e*r;o=Math.log(Math.tan(Math.PI/4+o/2));return n=(256<<20)*(.5/Math.PI*n+.5),o=(256<<20)*(-.5/Math.PI*o+(r=.5)),[Math.floor(n),Math.floor(o)]}ar({target:"Number",proto:!0,forced:vv},{toFixed:function(t){var e,r,n,o,i=Cp(this),a=Le(t),u=[0,0,0,0,0,0],s="",c="0";if(a<0||a>20)throw ov("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return iv(i);if(i<0&&(s="-",i=-i),i>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(i*fv(2,69,1))-69)<0?i*fv(2,-e,1):i/fv(2,e,1),r*=4503599627370496,(e=52-e)>0){for(lv(u,0,r),n=a;n>=7;)lv(u,1e7,0),n-=7;for(lv(u,fv(10,n,1),0),n=e-1;n>=23;)hv(u,1<<23),n-=23;hv(u,1<<n),lv(u,1,1),hv(u,2),c=pv(u)}else lv(u,0,r),lv(u,1<<-e,0),c=pv(u)+uv("0",a);return c=a>0?s+((o=c.length)<=a?"0."+uv("0",a-o)+c:sv(c,0,o-a)+"."+sv(c,o-a)):s+c}});var gv,mv=/"/g,xv=F("".replace);ar({target:"String",proto:!0,forced:(gv="sub",j((function(){var t=""[gv]('"');return t!==t.toLowerCase()||t.split('"').length>3})))},{sub:function(){return t="sub",e="",r="",n=rf(B(this)),o="<"+t,""!==e&&(o+=" "+e+'="'+xv(rf(r),mv,"&quot;")+'"'),o+">"+n+"</"+t+">";var t,e,r,n,o}});var bv=RegExp.prototype,wv=Kt.PROPER,Ev=RegExp.prototype.toString,Av=j((function(){return"/a/b"!=Ev.call({source:"a",flags:"b"})})),Ov=wv&&"toString"!=Ev.name;(Av||Ov)&&de(RegExp.prototype,"toString",(function(){var t=kt(this);return"/"+rf(t.source)+"/"+rf(function(t){var e=t.flags;return void 0!==e||"flags"in bv||V(t,"flags")||!Pt(bv,t)?e:jt(nf,t)}(t))}),{unsafe:!0});var Sv="undefined"!=typeof Float32Array?Float32Array:Array;function Tv(){var t=new Sv(2);return Sv!=Float32Array&&(t[0]=0,t[1]=0),t}function kv(t,e){var r=new Sv(2);return r[0]=t,r[1]=e,r}function Iv(t,e){return t[0]=e[0],t[1]=e[1],t}function jv(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Pv(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function _v(t,e){var r=e[0],n=e[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),t[0]=e[0]*o,t[1]=e[1]*o,t}function Mv(t,e){return t[0]*e[0]+t[1]*e[1]}Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var Lv,Rv=Pv,Cv=(Lv=Tv(),Tv()),Nv=(Tv(),Tv()),Dv=Tv(),Fv=Tv();function Wv(t,e,r,n,o){return jv(t,r,n),_v(t,t),[o/Mv(e=kv(-t[1],t[0]),kv(-r[1],r[0])),e]}function zv(t,e){return function(t,e,r){return t[0]=e,t[1]=r,t}(t,-e[1],e[0])}function Bv(t,e,r){return Rv(t,e,r),_v(t,t),t}function Uv(t,e){return t[0]===e[0]&&t[1]===e[1]}var Gv=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t),s(this,"complex",void 0),s(this,"join",void 0),s(this,"cap",void 0),s(this,"miterLimit",void 0),s(this,"thickness",void 0),s(this,"normal",void 0),s(this,"lastFlip",-1),s(this,"miter",kv(0,0)),s(this,"started",!1),s(this,"dash",!1),s(this,"totalDistance",0),s(this,"currentIndex",0),this.join=e.join||"miter",this.cap=e.cap||"butt",this.miterLimit=e.miterLimit||10,this.thickness=e.thickness||1,this.dash=e.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return u(t,[{key:"extrude_gaode2",value:function(t,e){var r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,o=r.startIndex,i=1;i<n;i++){var a,u,s,c=t[i-1];c.push(null!==(a=e[i-1][2])&&void 0!==a?a:0);var f=e[i-1],l=t[i];l.push(null!==(u=e[i][2])&&void 0!==u?u:0);var h=e[i],p=i<t.length-1?[].concat(y(t[i+1]),[null!==(s=e[i+1][2])&&void 0!==s?s:0]):null,v=i<e.length-1?e[i+1]:null;o+=this.segment_gaode2(r,o,c,l,p,f,h,v)}if(this.dash)for(var d=0;d<r.positions.length/6;d++)r.positions[6*d+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}},{key:"simpleExtrude_gaode2",value:function(t,e){var r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var n=t.length,o=r.startIndex,i=1;i<n;i++){var a,u,s,c=t[i-1];c.push(null!==(a=e[i-1][2])&&void 0!==a?a:0);var f=e[i-1],l=t[i];l.push(null!==(u=e[i][2])&&void 0!==u?u:0);var h=e[i],p=i<t.length-1?[].concat(y(t[i+1]),[null!==(s=e[i+1][2])&&void 0!==s?s:0]):null,v=i<e.length-1?e[i+1]:null;o+=this.simpleSegment(r,o,c,l,p,f,h,v)}if(this.dash)for(var d=0;d<r.positions.length/6;d++)r.positions[6*d+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}},{key:"extrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,n=e.startIndex,o=1;o<r;o++){var i=t[o-1],a=t[o],u=o<t.length-1?t[o+1]:null;n+=this.segment(e,n,i,a,u)}if(this.dash)for(var s=0;s<e.positions.length/6;s++)e.positions[6*s+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"simpleExtrude",value:function(t){var e=this.complex;if(t.length<=1)return e;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var r=t.length,n=e.startIndex,o=1;o<r;o++){var i=t[o-1],a=t[o],u=o<t.length-1?t[o+1]:null;n+=this.simpleSegment(e,n,i,a,u)}if(this.dash)for(var s=0;s<e.positions.length/6;s++)e.positions[6*s+5]=this.totalDistance;return e.startIndex=e.positions.length/6,e}},{key:"segment_gaode2",value:function(t,e,r,n,o,i,a,u){var s=0,c=t.indices,f=t.positions,l=t.normals,h="square"===this.cap,p="bevel"===this.join,v=yv([a[0],a[1]]),g=yv([i[0],i[1]]);Bv(Nv,n,r);var m=0;if(this.dash&&(m=this.lineSegmentDistance(v,g),this.totalDistance+=m),this.normal||(this.normal=Tv(),zv(this.normal,Nv)),!this.started)if(this.started=!0,h){var x=Tv(),b=Tv();jv(x,this.normal,Nv),jv(b,this.normal,Nv),l.push(b[0],b[1],0),l.push(x[0],x[1],0),f.push(r[0],r[1],0|r[2],this.totalDistance-m,-this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),f.push(r[0],r[1],0|r[2],this.totalDistance-m,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,l,r,this.normal,this.thickness,this.totalDistance-m);if(c.push(e+0,e+1,e+2),o){Uv(n,o)&&jv(o,n,_v(o,Pv(o,n,r))),Bv(Dv,o,n);var w=d(Wv(Fv,Tv(),Nv,Dv,this.thickness),2),E=w[0],A=w[1],O=Mv(Fv,this.normal)<0?-1:1,S=p;if(!S&&"miter"===this.join)E>this.miterLimit&&(S=!0);S?(l.push(this.normal[0],this.normal[1],0),l.push(A[0],A[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c.push.apply(c,y(this.lastFlip!==-O?[e,e+2,e+3]:[e+2,e+1,e+3])),c.push(e+2,e+3,e+4),zv(Cv,Dv),Iv(this.normal,Cv),l.push(this.normal[0],this.normal[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*O,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s+=3):(this.extrusions(f,l,n,A,E,this.totalDistance),c.push.apply(c,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),O=-1,Iv(this.normal,A),s+=2),this.lastFlip=O}else{if(zv(this.normal,Nv),h){var T=Tv(),k=Tv();Rv(k,Nv,this.normal),jv(T,Nv,this.normal),l.push(k[0],k[1],0),l.push(T[0],T[1],0),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),f.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(f,l,n,this.normal,this.thickness,this.totalDistance);c.push.apply(c,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),s+=2}return s}},{key:"simpleSegment",value:function(t,e,r,n,o){var i=0,a=t.indices,u=t.positions,s=t.normals,c=yv([n[0],n[1]]),f=yv([r[0],r[1]]);Bv(Nv,c,f);var l=0;if(this.dash&&(l=this.lineSegmentDistance(c,f),this.totalDistance+=l),this.normal||(this.normal=Tv(),zv(this.normal,Nv)),this.started||(this.started=!0,this.extrusions(u,s,r,this.normal,this.thickness,this.totalDistance-l)),a.push(e+0,e+1,e+2),o){var h=yv([o[0],o[1]]);Uv(c,h)&&jv(h,c,_v(h,Pv(h,c,f))),Bv(Dv,h,c);var p=d(Wv(Fv,Tv(),Nv,Dv,this.thickness),2),v=p[0],g=p[1];Mv(Fv,this.normal);this.extrusions(u,s,n,g,v,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),-1,Iv(this.normal,g),i+=2,this.lastFlip=-1}else zv(this.normal,Nv),this.extrusions(u,s,n,this.normal,this.thickness,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),i+=2;return i}},{key:"segment",value:function(t,e,r,n,o){var i=0,a=t.indices,u=t.positions,s=t.normals,c="square"===this.cap,f="bevel"===this.join,l=yv([n[0],n[1]]),h=yv([r[0],r[1]]);Bv(Nv,l,h);var p=0;if(this.dash&&(p=this.lineSegmentDistance(l,h),this.totalDistance+=p),this.normal||(this.normal=Tv(),zv(this.normal,Nv)),!this.started)if(this.started=!0,c){var v=Tv(),g=Tv();jv(v,this.normal,Nv),jv(g,this.normal,Nv),s.push(g[0],g[1],0),s.push(v[0],v[1],0),u.push(r[0],r[1],0|r[2],this.totalDistance-p,-this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),u.push(r[0],r[1],0|r[2],this.totalDistance-p,this.thickness,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(u,s,r,this.normal,this.thickness,this.totalDistance-p);if(a.push(e+0,e+1,e+2),o){var m=yv([o[0],o[1]]);Uv(l,m)&&jv(m,l,_v(m,Pv(m,l,h))),Bv(Dv,m,l);var x=d(Wv(Fv,Tv(),Nv,Dv,this.thickness),2),b=x[0],w=x[1],E=Mv(Fv,this.normal)<0?-1:1,A=f;if(!A&&"miter"===this.join)b>this.miterLimit&&(A=!0);A?(s.push(this.normal[0],this.normal[1],0),s.push(w[0],w[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,a.push.apply(a,y(this.lastFlip!==-E?[e,e+2,e+3]:[e+2,e+1,e+3])),a.push(e+2,e+3,e+4),zv(Cv,Dv),Iv(this.normal,Cv),s.push(this.normal[0],this.normal[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,-this.thickness*E,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++,i+=3):(this.extrusions(u,s,n,w,b,this.totalDistance),a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),E=-1,Iv(this.normal,w),i+=2),this.lastFlip=E}else{if(zv(this.normal,Nv),c){var O=Tv(),S=Tv();Rv(S,Nv,this.normal),jv(O,Nv,this.normal),s.push(S[0],S[1],0),s.push(O[0],O[1],0),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),u.push(n[0],n[1],0|n[2],this.totalDistance,this.thickness,0|n[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(u,s,n,this.normal,this.thickness,this.totalDistance);a.push.apply(a,y(1===this.lastFlip?[e,e+2,e+3]:[e+2,e+1,e+3])),i+=2}return i}},{key:"extrusions",value:function(t,e,r,n,o,i){e.push(n[0],n[1],0),e.push(n[0],n[1],0),t.push(r[0],r[1],0|r[2],i,-o,0|r[2]),this.complex.indexes.push(this.currentIndex),t.push(r[0],r[1],0|r[2],i,o,0|r[2]),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}}]),t}();function Hv(t){var e=t.coordinates,r=t.originCoordinates,n=t.version,o=new Gv({dash:!0,join:"bevel"});if("GAODE2.x"===n){var i=e;Array.isArray(i[0][0])||(i=[e]);var a=r;Array.isArray(a[0][0])||(a=[r]);for(var u=0;u<i.length;u++){var s=i[u],c=a[u];o.extrude_gaode2(s,c)}}else{var f=e;f[0]&&!Array.isArray(f[0][0])&&(f=[e]),f.forEach((function(t){o.extrude(t)}))}var l=o.complex;return{vertices:l.positions,indices:l.indices,normals:l.normals,indexes:l.indexes,size:6}}function Vv(t){var e=function(t){if(dv(t[0]))return t;if(dv(t[0][0]))throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8");if(dv(t[0][0][0])){var e=0,r=0,n=0;return t.forEach((function(t){t.forEach((function(t){e+=t[0],r+=t[1],n++}))})),[e/n,r/n,0]}throw new Error("\u5F53\u524D\u6570\u636E\u4E0D\u652F\u6301\u6807\u6CE8")}(t.coordinates);return{vertices:[].concat(y(e),y(e),y(e),y(e)),indices:[0,1,2,2,3,0],size:e.length}}function qv(t){var e=t.coordinates,r=up.flatten(e),n=r.vertices,o=r.dimensions,i=r.holes;return{indices:up(n,i,o),vertices:n,size:o}}var Zv=function(){var t=o(r().mark((function t(e){var n,o,i,a,u,s,c,f,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,o=e.features,i=e.enablePicking,a=e.iconMap,u={a_Color:np,a_Position:op,filter:ip,a_vertexId:ap,a_PickingColor:function(t){var e=t.id;return i?tp(e):[0,0,0]},a_DistanceAndIndex:function(t,e,r,n,o,i){return void 0===i?[r[3],10]:[r[3],i]},a_Total_Distance:function(t,e,r){return[r[5]]},a_Size:function(t){var e=t.size,r=void 0===e?1:e;return Array.isArray(r)?[r[0],r[1]]:[r,0]},a_Normal:function(t,e,r,n,o){return o},a_Miter:function(t,e,r){return[r[4]]},a_iconMapUV:function(t){var e=t.texture,r=a[e]||{x:0,y:0};return[r.x,r.y]}},s={sizePerElement:0,elements:[]},c=0,f=[],l=3,o.forEach((function(t,e){var r=Hv(t),o=r.indices,i=r.vertices,a=r.normals,h=r.size,p=r.indexes;o.forEach((function(t){f.push(t+c)})),l=h;var v=i.length/h;s.sizePerElement=l,s.elements.push({featureIdx:e,vertices:i,normals:a,offset:c}),c+=v;for(var d=function(r){var o=(null==a?void 0:a.slice(3*r,3*r+3))||[],s=i.slice(r*h,r*h+h),c=0;p&&void 0!==p[r]&&(c=p[r]),n.forEach((function(n){var i;n&&u[n.name]&&(i=n.buffer.data).push.apply(i,y(u[n.name](t,e,s,r,o,c)))}))},g=0;g<v;g++)d(g)})),t.abrupt("return",{descriptors:n,featureLayout:s,indices:f});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Yv={pointFill:function(){var t=o(r().mark((function t(e){var n,o,i,a,u,s,c,f,l;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,o=e.features,i=e.enablePicking,a=e.shape2d,u={a_Color:np,a_Position:op,filter:ip,a_vertexId:ap,a_PickingColor:function(t){var e=t.id;return i?tp(e):[0,0,0]},a_Shape:function(t){var e=t.shape,r=void 0===e?2:e;return[a.indexOf(r)]},a_Extrude:function(t,e,r,n){var o=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],i=n%4*3;return[o[i],o[i+1],o[i+2]]},a_Size:function(t){var e=t.size,r=void 0===e?5:e;return Array.isArray(r)?[r[0]]:[r]}},s={sizePerElement:0,elements:[]},c=0,f=[],l=3,o.forEach((function(t,e){var r=Vv(t),o=r.indices,i=r.vertices,a=r.normals,h=r.size;o.forEach((function(t){f.push(t+c)})),l=h;var p=i.length/h;s.sizePerElement=l,s.elements.push({featureIdx:e,vertices:i,normals:a,offset:c}),c+=p;for(var v=function(r){var o=[],a=i.slice(r*h,r*h+h);n.forEach((function(n){var i;n&&u[n.name]&&(i=n.buffer.data).push.apply(i,y(u[n.name](t,e,a,r,o,0)))}))},d=0;d<p;d++)v(d)})),t.abrupt("return",{descriptors:n,featureLayout:s,indices:f});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),line:Zv,polygonFill:function(){var t=o(r().mark((function t(e){var n,o,i,a,u,s,c,f;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.descriptors,o=e.features,i=e.enablePicking,a={a_Color:np,a_Position:op,filter:ip,a_vertexId:ap,a_PickingColor:function(t){var e=t.id;return i?tp(e):[0,0,0]}},u={sizePerElement:0,elements:[]},s=0,c=[],f=3,o.forEach((function(t,e){var r=qv(t),o=r.indices,i=r.vertices,l=r.normals,h=r.size;o.forEach((function(t){c.push(t+s)})),f=h;var p=i.length/h;u.sizePerElement=f,u.elements.push({featureIdx:e,vertices:i,normals:l,offset:s}),s+=p;for(var v=function(r){var o=[],u=i.slice(r*h,r*h+h);n.forEach((function(n){var i;n&&a[n.name]&&(i=n.buffer.data).push.apply(i,y(a[n.name](t,e,u,r,o,0)))}))},d=0;d<p;d++)v(d)})),t.abrupt("return",{descriptors:n,featureLayout:u,indices:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$v=function(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Yv);function Kv(t){return Qv.apply(this,arguments)}function Qv(){return(Qv=o(r().mark((function t(e){var n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.workerType,o=e.data,!$v[n]){t.next=3;break}return t.abrupt("return",$v[n](o));case 3:return t.abrupt("return",Promise.reject(new Error('Worker with type "'.concat(n,'" non-existent.'))));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return fi(Kv),t.WorkerSourceMap=Yv,t.createWorker=fi,t.worker=Kv,t}({});
`,Du="l7-worker",$J=3,qJ=!0;function KJ(e){WJ(Du,e)}function QJ(){var e=YJ(Du);if(!e)throw new Error("get worker failed by workerName: ".concat(Du,"."));return e}function JJ(e,r){return L8.apply(this,arguments)}function L8(){return L8=(0,xe.Z)(zt().mark(function e(r,t){var n,i,a,o,s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n=QJ(),i=AJ.getWorkerFarm({maxConcurrency:$J,reuseWorkers:qJ}),a=i.getWorkerPool({name:Du,source:n}),l.next=5,a.startJob(Du,function(c,f,h){return c.done(h)});case 5:return o=l.sent,o.postMessage("process",{input:{workerType:r,data:t}}),l.next=9,o.result;case 9:return s=l.sent,l.abrupt("return",s.result);case 11:case"end":return l.stop()}},e)})),L8.apply(this,arguments)}KJ(XJ);var ttt=F(78962),ett=F.n(ttt);function $x(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=rtt(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function rtt(e,r){if(e){if(typeof e=="string")return qx(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qx(e,r)}}function qx(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Bu=30;function ntt(e){var r=e.characterSet,t=e.getFontWidth,n=e.fontHeight,i=e.buffer,a=e.maxCanvasWidth,o=e.mapping,s=o===void 0?{}:o,u=e.xOffset,l=u===void 0?0:u,c=e.yOffset,f=c===void 0?0:c,h=0,v=l;Array.from(r).forEach(function(g,y){if(!s[g]){var m=t(g,y);v+Bu>a&&(v=0,h++),s[g]={x:v,y:f+h*Bu,width:Bu,height:Bu,advance:m},v+=Bu}});var p=n+i*2;return{mapping:s,xOffset:v,yOffset:f+h*p,canvasHeight:Qx(f+(h+1)*p)}}function itt(e,r,t){var n=0,i=0,a=0,o=[],s={},u=$x(e),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!s[c.id]){var f=c.size;n+f+r>t&&(Kx(s,o,i),n=0,i=a+i+r,a=0,o=[]),o.push({icon:c,xOffset:n}),n=n+f+r,a=Math.max(a,f)}}}catch(v){u.e(v)}finally{u.f()}o.length>0&&Kx(s,o,i);var h=Qx(a+i+r);return{mapping:s,canvasHeight:h}}function Kx(e,r,t){var n=$x(r),i;try{for(n.s();!(i=n.n()).done;){var a=i.value,o=a.icon,s=a.xOffset;e[o.id]=(0,H.Z)((0,H.Z)({},o),{},{x:s,y:t,image:o.image,width:o.width,height:o.height})}}catch(u){n.e(u)}finally{n.f()}}function Qx(e){return Math.pow(2,Math.ceil(Math.log2(e)))}var Jx,t_;function e_(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=att(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function att(e,r){if(e){if(typeof e=="string")return r_(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r_(e,r)}}function r_(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ott(e){var r=stt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function stt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var utt=ytt(),ltt="sans-serif",ctt="normal",ftt=24,htt=3,vtt=.25,ptt=8,n_=1024,dtt=1,i_=1,gtt=3,j7t=null;function ytt(){for(var e=[],r=32;r<128;r++)e.push(String.fromCharCode(r));return e}function a_(e,r,t,n){e.font="".concat(n," ").concat(t,"px ").concat(r),e.fillStyle="black",e.textBaseline="middle"}function o_(e,r){for(var t=0;t<e.length;t++)r.data[4*t+3]=e[t]}var mtt=(Jx=(0,Ze.b2)(),Jx(t_=function(e){(0,ze.Z)(t,e);var r=ott(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"fontAtlas",void 0),(0,S.Z)((0,Qt.Z)(n),"iconFontMap",void 0),(0,S.Z)((0,Qt.Z)(n),"iconFontGlyphs",{}),(0,S.Z)((0,Qt.Z)(n),"fontOptions",void 0),(0,S.Z)((0,Qt.Z)(n),"key",void 0),(0,S.Z)((0,Qt.Z)(n),"cache",new UQ(gtt)),n}return(0,ye.Z)(t,[{key:"scale",get:function(){return i_}},{key:"canvas",get:function(){var i=this.cache.get(this.key);return i&&i.data}},{key:"mapping",get:function(){var i=this.cache.get(this.key);return i&&i.mapping||{}}},{key:"init",value:function(){this.cache.clear(),this.fontOptions={fontFamily:ltt,fontWeight:ctt,characterSet:utt,fontSize:ftt,buffer:htt,sdf:!0,cutoff:vtt,radius:ptt,iconfont:!1},this.key="",this.iconFontMap=new Map}},{key:"addIconGlyphs",value:function(i){var a=this;i.forEach(function(o){a.iconFontGlyphs[o.name]=o.unicode})}},{key:"addIconFont",value:function(i,a){this.iconFontMap.set(i,a)}},{key:"getIconFontKey",value:function(i){return this.iconFontMap.get(i)||i}},{key:"getGlyph",value:function(i){return this.iconFontGlyphs[i]?String.fromCharCode(parseInt(this.iconFontGlyphs[i],16)):""}},{key:"setFontOptions",value:function(i){this.fontOptions=(0,H.Z)((0,H.Z)({},this.fontOptions),i),this.key=this.getKey();var a=this.getNewChars(this.key,this.fontOptions.characterSet),o=this.cache.get(this.key);if(!(o&&a.length===0)){var s=this.generateFontAtlas(this.key,a,o);this.fontAtlas=s,this.cache.set(this.key,s)}}},{key:"addFontFace",value:function(i,a){var o=this,s=document.createElement("style");s.type="text/css",s.innerText=`
        @font-face{
            font-family: '`.concat(i,`';
            src: url('`).concat(a,`') format('woff2'),
            url('`).concat(a,`') format('woff'),
            url('`).concat(a,`') format('truetype');
        }`),s.onload=function(){if(document.fonts)try{document.fonts.load("24px ".concat(i),"L7text"),document.fonts.ready.then(function(){o.emit("fontloaded",{fontFamily:i})})}catch(u){console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 document.fonts !"),console.warn("\u5F53\u524D\u73AF\u5883\u4E0D\u652F\u6301 iconfont !"),console.warn(u)}},document.getElementsByTagName("head")[0].appendChild(s)}},{key:"destroy",value:function(){this.cache.clear(),this.iconFontMap.clear()}},{key:"generateFontAtlas",value:function(i,a,o){var s=this.fontOptions,u=s.fontFamily,l=s.fontWeight,c=s.fontSize,f=s.buffer,h=s.sdf,v=s.radius,p=s.cutoff,g=s.iconfont,y=o&&o.data;y||(y=Br.document.createElement("canvas"),y.width=n_);var m=y.getContext("2d",{willReadFrequently:!0});a_(m,u,c,l);var E=ntt((0,H.Z)({getFontWidth:function(Fe){return m.measureText(Fe).width},fontHeight:c*i_,buffer:f,characterSet:a,maxCanvasWidth:n_},o&&{mapping:o.mapping,xOffset:o.xOffset,yOffset:o.yOffset})),C=E.mapping,A=E.canvasHeight,M=E.xOffset,Z=E.yOffset,Y=m.getImageData(0,0,y.width,y.height);if(y.height=A,m.putImageData(Y,0,0),a_(m,u,c,l),h){var st=new(ett())(c,f,v,p,u,l),Ct=m.getImageData(0,0,st.size,st.size),Pt=e_(a),Zt;try{for(Pt.s();!(Zt=Pt.n()).done;){var ie=Zt.value;if(g){var ce=String.fromCharCode(parseInt(ie.replace("&#x","").replace(";",""),16)),_e=st.draw(ce);o_(_e,Ct)}else o_(st.draw(ie),Ct);m.putImageData(Ct,C[ie].x,C[ie].y)}}catch(De){Pt.e(De)}finally{Pt.f()}}else{var Re=e_(a),he;try{for(Re.s();!(he=Re.n()).done;){var Me=he.value;m.fillText(Me,C[Me].x,C[Me].y+c*dtt)}}catch(De){Re.e(De)}finally{Re.f()}}return{xOffset:M,yOffset:Z,mapping:C,data:y,width:y.width,height:y.height}}},{key:"getKey",value:function(){var i=this.fontOptions,a=i.fontFamily,o=i.fontWeight;return"".concat(a,"_").concat(o)}},{key:"getNewChars",value:function(i,a){var o=this.cache.get(i);if(!o)return a;var s=[],u=o.mapping,l=new Set(Object.keys(u)),c=new Set(a);return c.forEach(function(f){l.has(f)||s.push(f)}),s}}]),t}(Vn.EventEmitter))||t_),s_,u_;function xtt(e){var r=_tt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function _tt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Ett=3,l_=1024,Nu=64,Ctt=(s_=(0,Ze.b2)(),s_(u_=function(e){(0,ze.Z)(t,e);var r=xtt(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"canvasHeight",128),(0,S.Z)((0,Qt.Z)(n),"texture",void 0),(0,S.Z)((0,Qt.Z)(n),"canvas",void 0),(0,S.Z)((0,Qt.Z)(n),"iconData",void 0),(0,S.Z)((0,Qt.Z)(n),"iconMap",void 0),(0,S.Z)((0,Qt.Z)(n),"ctx",void 0),(0,S.Z)((0,Qt.Z)(n),"loadingImageCount",0),n}return(0,ye.Z)(t,[{key:"isLoading",value:function(){return this.loadingImageCount===0}},{key:"init",value:function(){this.iconData=[],this.iconMap={},this.canvas=Br.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}},{key:"addImage",value:function(){var n=(0,xe.Z)(zt().mark(function a(o,s){var u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u=new Image,this.loadingImageCount++,this.hasImage(o)?console.warn("Image Id already exists"):this.iconData.push({id:o,size:Nu}),this.updateIconMap(),f.next=6,this.loadImage(s);case 6:u=f.sent,l=this.iconData.find(function(h){return h.id===o}),l&&(l.image=u,l.width=u.width,l.height=u.height),this.update();case 10:case"end":return f.stop()}},a,this)}));function i(a,o){return n.apply(this,arguments)}return i}()},{key:"addImageMini",value:function(i,a,o){var s=this,u=o.getSceneConfig().canvas,l=u.createImage();if(this.loadingImageCount++,this.hasImage(i))throw new Error("Image Id already exists");this.iconData.push({id:i,size:Nu}),this.updateIconMap(),this.loadImageMini(a,u).then(function(c){l=c;var f=s.iconData.find(function(h){return h.id===i});f&&(f.image=l,f.width=l.width,f.height=l.height),s.update()})}},{key:"getTexture",value:function(){return this.texture}},{key:"getIconMap",value:function(){return this.iconMap}},{key:"getCanvas",value:function(){return this.canvas}},{key:"hasImage",value:function(i){return this.iconMap.hasOwnProperty(i)}},{key:"removeImage",value:function(i){this.hasImage(i)&&(this.iconData=this.iconData.filter(function(a){return a.id!==i}),delete this.iconMap[i],this.update())}},{key:"destroy",value:function(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}},{key:"loadImage",value:function(i){return new Promise(function(a,o){if(i instanceof HTMLImageElement){a(i);return}var s=new Image;s.crossOrigin="anonymous",s.onload=function(){a(s)},s.onerror=function(){o(new Error("Could not load image at "+i))},s.src=i instanceof File?URL.createObjectURL(i):i})}},{key:"update",value:function(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}},{key:"updateIconAtlas",value:function(){var i=this;this.canvas.width=l_,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(function(a){var o=i.iconMap[a],s=o.x,u=o.y,l=o.image,c=o.width,f=c===void 0?64:c,h=o.height,v=h===void 0?64:h,p=Math.max(f,v),g=p/Nu,y=v/g,m=f/g;l&&i.ctx.drawImage(l,s+(Nu-m)/2,u+(Nu-y)/2,m,y)})}},{key:"updateIconMap",value:function(){var i=itt(this.iconData,Ett,l_),a=i.mapping,o=i.canvasHeight;this.iconMap=a,this.canvasHeight=o}},{key:"loadImageMini",value:function(i,a){return new Promise(function(o,s){var u=a.createImage();u.crossOrigin="anonymous",u.onload=function(){o(u)},u.onerror=function(){s(new Error("Could not load image at "+i))},u.src=i})}}]),t}(Vn.EventEmitter))||u_);function ci(){var e=new br.WT(16);return br.WT!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function c_(e){var r=new br.WT(16);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}function Stt(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function f_(e,r,t,n,i,a,o,s,u,l,c,f,h,v,p,g){var y=new br.WT(16);return y[0]=e,y[1]=r,y[2]=t,y[3]=n,y[4]=i,y[5]=a,y[6]=o,y[7]=s,y[8]=u,y[9]=l,y[10]=c,y[11]=f,y[12]=h,y[13]=v,y[14]=p,y[15]=g,y}function btt(e,r,t,n,i,a,o,s,u,l,c,f,h,v,p,g,y){return e[0]=r,e[1]=t,e[2]=n,e[3]=i,e[4]=a,e[5]=o,e[6]=s,e[7]=u,e[8]=l,e[9]=c,e[10]=f,e[11]=h,e[12]=v,e[13]=p,e[14]=g,e[15]=y,e}function h_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Att(e,r){if(e===r){var t=r[1],n=r[2],i=r[3],a=r[6],o=r[7],s=r[11];e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=t,e[6]=r[9],e[7]=r[13],e[8]=n,e[9]=a,e[11]=r[14],e[12]=i,e[13]=o,e[14]=s}else e[0]=r[0],e[1]=r[4],e[2]=r[8],e[3]=r[12],e[4]=r[1],e[5]=r[5],e[6]=r[9],e[7]=r[13],e[8]=r[2],e[9]=r[6],e[10]=r[10],e[11]=r[14],e[12]=r[3],e[13]=r[7],e[14]=r[11],e[15]=r[15];return e}function I8(e,r){var t=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],u=r[6],l=r[7],c=r[8],f=r[9],h=r[10],v=r[11],p=r[12],g=r[13],y=r[14],m=r[15],E=t*s-n*o,C=t*u-i*o,A=t*l-a*o,M=n*u-i*s,Z=n*l-a*s,Y=i*l-a*u,st=c*g-f*p,Ct=c*y-h*p,Pt=c*m-v*p,Zt=f*y-h*g,ie=f*m-v*g,ce=h*m-v*y,_e=E*ce-C*ie+A*Zt+M*Pt-Z*Ct+Y*st;return _e?(_e=1/_e,e[0]=(s*ce-u*ie+l*Zt)*_e,e[1]=(i*ie-n*ce-a*Zt)*_e,e[2]=(g*Y-y*Z+m*M)*_e,e[3]=(h*Z-f*Y-v*M)*_e,e[4]=(u*Pt-o*ce-l*Ct)*_e,e[5]=(t*ce-i*Pt+a*Ct)*_e,e[6]=(y*A-p*Y-m*C)*_e,e[7]=(c*Y-h*A+v*C)*_e,e[8]=(o*ie-s*Pt+l*st)*_e,e[9]=(n*Pt-t*ie-a*st)*_e,e[10]=(p*Z-g*A+m*E)*_e,e[11]=(f*A-c*Z-v*E)*_e,e[12]=(s*Ct-o*Zt-u*st)*_e,e[13]=(t*Zt-n*Ct+i*st)*_e,e[14]=(g*C-p*M-y*E)*_e,e[15]=(c*M-f*C+h*E)*_e,e):null}function Mtt(e,r){var t=r[0],n=r[1],i=r[2],a=r[3],o=r[4],s=r[5],u=r[6],l=r[7],c=r[8],f=r[9],h=r[10],v=r[11],p=r[12],g=r[13],y=r[14],m=r[15];return e[0]=s*(h*m-v*y)-f*(u*m-l*y)+g*(u*v-l*h),e[1]=-(n*(h*m-v*y)-f*(i*m-a*y)+g*(i*v-a*h)),e[2]=n*(u*m-l*y)-s*(i*m-a*y)+g*(i*l-a*u),e[3]=-(n*(u*v-l*h)-s*(i*v-a*h)+f*(i*l-a*u)),e[4]=-(o*(h*m-v*y)-c*(u*m-l*y)+p*(u*v-l*h)),e[5]=t*(h*m-v*y)-c*(i*m-a*y)+p*(i*v-a*h),e[6]=-(t*(u*m-l*y)-o*(i*m-a*y)+p*(i*l-a*u)),e[7]=t*(u*v-l*h)-o*(i*v-a*h)+c*(i*l-a*u),e[8]=o*(f*m-v*g)-c*(s*m-l*g)+p*(s*v-l*f),e[9]=-(t*(f*m-v*g)-c*(n*m-a*g)+p*(n*v-a*f)),e[10]=t*(s*m-l*g)-o*(n*m-a*g)+p*(n*l-a*s),e[11]=-(t*(s*v-l*f)-o*(n*v-a*f)+c*(n*l-a*s)),e[12]=-(o*(f*y-h*g)-c*(s*y-u*g)+p*(s*h-u*f)),e[13]=t*(f*y-h*g)-c*(n*y-i*g)+p*(n*h-i*f),e[14]=-(t*(s*y-u*g)-o*(n*y-i*g)+p*(n*u-i*s)),e[15]=t*(s*h-u*f)-o*(n*h-i*f)+c*(n*u-i*s),e}function Ttt(e){var r=e[0],t=e[1],n=e[2],i=e[3],a=e[4],o=e[5],s=e[6],u=e[7],l=e[8],c=e[9],f=e[10],h=e[11],v=e[12],p=e[13],g=e[14],y=e[15],m=r*o-t*a,E=r*s-n*a,C=r*u-i*a,A=t*s-n*o,M=t*u-i*o,Z=n*u-i*s,Y=l*p-c*v,st=l*g-f*v,Ct=l*y-h*v,Pt=c*g-f*p,Zt=c*y-h*p,ie=f*y-h*g;return m*ie-E*Zt+C*Pt+A*Ct-M*st+Z*Y}function $i(e,r,t){var n=r[0],i=r[1],a=r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=r[7],f=r[8],h=r[9],v=r[10],p=r[11],g=r[12],y=r[13],m=r[14],E=r[15],C=t[0],A=t[1],M=t[2],Z=t[3];return e[0]=C*n+A*s+M*f+Z*g,e[1]=C*i+A*u+M*h+Z*y,e[2]=C*a+A*l+M*v+Z*m,e[3]=C*o+A*c+M*p+Z*E,C=t[4],A=t[5],M=t[6],Z=t[7],e[4]=C*n+A*s+M*f+Z*g,e[5]=C*i+A*u+M*h+Z*y,e[6]=C*a+A*l+M*v+Z*m,e[7]=C*o+A*c+M*p+Z*E,C=t[8],A=t[9],M=t[10],Z=t[11],e[8]=C*n+A*s+M*f+Z*g,e[9]=C*i+A*u+M*h+Z*y,e[10]=C*a+A*l+M*v+Z*m,e[11]=C*o+A*c+M*p+Z*E,C=t[12],A=t[13],M=t[14],Z=t[15],e[12]=C*n+A*s+M*f+Z*g,e[13]=C*i+A*u+M*h+Z*y,e[14]=C*a+A*l+M*v+Z*m,e[15]=C*o+A*c+M*p+Z*E,e}function Zo(e,r,t){var n=t[0],i=t[1],a=t[2],o,s,u,l,c,f,h,v,p,g,y,m;return r===e?(e[12]=r[0]*n+r[4]*i+r[8]*a+r[12],e[13]=r[1]*n+r[5]*i+r[9]*a+r[13],e[14]=r[2]*n+r[6]*i+r[10]*a+r[14],e[15]=r[3]*n+r[7]*i+r[11]*a+r[15]):(o=r[0],s=r[1],u=r[2],l=r[3],c=r[4],f=r[5],h=r[6],v=r[7],p=r[8],g=r[9],y=r[10],m=r[11],e[0]=o,e[1]=s,e[2]=u,e[3]=l,e[4]=c,e[5]=f,e[6]=h,e[7]=v,e[8]=p,e[9]=g,e[10]=y,e[11]=m,e[12]=o*n+c*i+p*a+r[12],e[13]=s*n+f*i+g*a+r[13],e[14]=u*n+h*i+y*a+r[14],e[15]=l*n+v*i+m*a+r[15]),e}function O1(e,r,t){var n=t[0],i=t[1],a=t[2];return e[0]=r[0]*n,e[1]=r[1]*n,e[2]=r[2]*n,e[3]=r[3]*n,e[4]=r[4]*i,e[5]=r[5]*i,e[6]=r[6]*i,e[7]=r[7]*i,e[8]=r[8]*a,e[9]=r[9]*a,e[10]=r[10]*a,e[11]=r[11]*a,e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],e}function wtt(e,r,t,n){var i=n[0],a=n[1],o=n[2],s=Math.hypot(i,a,o),u,l,c,f,h,v,p,g,y,m,E,C,A,M,Z,Y,st,Ct,Pt,Zt,ie,ce,_e,Re;return s<br.Ib?null:(s=1/s,i*=s,a*=s,o*=s,u=Math.sin(t),l=Math.cos(t),c=1-l,f=r[0],h=r[1],v=r[2],p=r[3],g=r[4],y=r[5],m=r[6],E=r[7],C=r[8],A=r[9],M=r[10],Z=r[11],Y=i*i*c+l,st=a*i*c+o*u,Ct=o*i*c-a*u,Pt=i*a*c-o*u,Zt=a*a*c+l,ie=o*a*c+i*u,ce=i*o*c+a*u,_e=a*o*c-i*u,Re=o*o*c+l,e[0]=f*Y+g*st+C*Ct,e[1]=h*Y+y*st+A*Ct,e[2]=v*Y+m*st+M*Ct,e[3]=p*Y+E*st+Z*Ct,e[4]=f*Pt+g*Zt+C*ie,e[5]=h*Pt+y*Zt+A*ie,e[6]=v*Pt+m*Zt+M*ie,e[7]=p*Pt+E*Zt+Z*ie,e[8]=f*ce+g*_e+C*Re,e[9]=h*ce+y*_e+A*Re,e[10]=v*ce+m*_e+M*Re,e[11]=p*ce+E*_e+Z*Re,r!==e&&(e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e)}function Z0(e,r,t){var n=Math.sin(t),i=Math.cos(t),a=r[4],o=r[5],s=r[6],u=r[7],l=r[8],c=r[9],f=r[10],h=r[11];return r!==e&&(e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[4]=a*i+l*n,e[5]=o*i+c*n,e[6]=s*i+f*n,e[7]=u*i+h*n,e[8]=l*i-a*n,e[9]=c*i-o*n,e[10]=f*i-s*n,e[11]=h*i-u*n,e}function Zu(e,r,t){var n=Math.sin(t),i=Math.cos(t),a=r[0],o=r[1],s=r[2],u=r[3],l=r[8],c=r[9],f=r[10],h=r[11];return r!==e&&(e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=a*i-l*n,e[1]=o*i-c*n,e[2]=s*i-f*n,e[3]=u*i-h*n,e[8]=a*n+l*i,e[9]=o*n+c*i,e[10]=s*n+f*i,e[11]=u*n+h*i,e}function zu(e,r,t){var n=Math.sin(t),i=Math.cos(t),a=r[0],o=r[1],s=r[2],u=r[3],l=r[4],c=r[5],f=r[6],h=r[7];return r!==e&&(e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15]),e[0]=a*i+l*n,e[1]=o*i+c*n,e[2]=s*i+f*n,e[3]=u*i+h*n,e[4]=l*i-a*n,e[5]=c*i-o*n,e[6]=f*i-s*n,e[7]=h*i-u*n,e}function v_(e,r){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=r[0],e[13]=r[1],e[14]=r[2],e[15]=1,e}function Ftt(e,r){return e[0]=r[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=r[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ktt(e,r,t){var n=t[0],i=t[1],a=t[2],o=Math.hypot(n,i,a),s,u,l;return o<br.Ib?null:(o=1/o,n*=o,i*=o,a*=o,s=Math.sin(r),u=Math.cos(r),l=1-u,e[0]=n*n*l+u,e[1]=i*n*l+a*s,e[2]=a*n*l-i*s,e[3]=0,e[4]=n*i*l-a*s,e[5]=i*i*l+u,e[6]=a*i*l+n*s,e[7]=0,e[8]=n*a*l+i*s,e[9]=i*a*l-n*s,e[10]=a*a*l+u,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}function Ott(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=t,e[7]=0,e[8]=0,e[9]=-t,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Ltt(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=0,e[2]=-t,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=t,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Itt(e,r){var t=Math.sin(r),n=Math.cos(r);return e[0]=n,e[1]=t,e[2]=0,e[3]=0,e[4]=-t,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function p_(e,r,t){var n=r[0],i=r[1],a=r[2],o=r[3],s=n+n,u=i+i,l=a+a,c=n*s,f=n*u,h=n*l,v=i*u,p=i*l,g=a*l,y=o*s,m=o*u,E=o*l;return e[0]=1-(v+g),e[1]=f+E,e[2]=h-m,e[3]=0,e[4]=f-E,e[5]=1-(c+g),e[6]=p+y,e[7]=0,e[8]=h+m,e[9]=p-y,e[10]=1-(c+v),e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Ptt(e,r){var t=new br.WT(3),n=-r[0],i=-r[1],a=-r[2],o=r[3],s=r[4],u=r[5],l=r[6],c=r[7],f=n*n+i*i+a*a+o*o;return f>0?(t[0]=(s*o+c*n+u*a-l*i)*2/f,t[1]=(u*o+c*i+l*n-s*a)*2/f,t[2]=(l*o+c*a+s*i-u*n)*2/f):(t[0]=(s*o+c*n+u*a-l*i)*2,t[1]=(u*o+c*i+l*n-s*a)*2,t[2]=(l*o+c*a+s*i-u*n)*2),p_(e,r,t),e}function Rtt(e,r){return e[0]=r[12],e[1]=r[13],e[2]=r[14],e}function d_(e,r){var t=r[0],n=r[1],i=r[2],a=r[4],o=r[5],s=r[6],u=r[8],l=r[9],c=r[10];return e[0]=Math.hypot(t,n,i),e[1]=Math.hypot(a,o,s),e[2]=Math.hypot(u,l,c),e}function Dtt(e,r){var t=new br.WT(3);d_(t,r);var n=1/t[0],i=1/t[1],a=1/t[2],o=r[0]*n,s=r[1]*i,u=r[2]*a,l=r[4]*n,c=r[5]*i,f=r[6]*a,h=r[8]*n,v=r[9]*i,p=r[10]*a,g=o+c+p,y=0;return g>0?(y=Math.sqrt(g+1)*2,e[3]=.25*y,e[0]=(f-v)/y,e[1]=(h-u)/y,e[2]=(s-l)/y):o>c&&o>p?(y=Math.sqrt(1+o-c-p)*2,e[3]=(f-v)/y,e[0]=.25*y,e[1]=(s+l)/y,e[2]=(h+u)/y):c>p?(y=Math.sqrt(1+c-o-p)*2,e[3]=(h-u)/y,e[0]=(s+l)/y,e[1]=.25*y,e[2]=(f+v)/y):(y=Math.sqrt(1+p-o-c)*2,e[3]=(s-l)/y,e[0]=(h+u)/y,e[1]=(f+v)/y,e[2]=.25*y),e}function Btt(e,r,t,n){var i=r[0],a=r[1],o=r[2],s=r[3],u=i+i,l=a+a,c=o+o,f=i*u,h=i*l,v=i*c,p=a*l,g=a*c,y=o*c,m=s*u,E=s*l,C=s*c,A=n[0],M=n[1],Z=n[2];return e[0]=(1-(p+y))*A,e[1]=(h+C)*A,e[2]=(v-E)*A,e[3]=0,e[4]=(h-C)*M,e[5]=(1-(f+y))*M,e[6]=(g+m)*M,e[7]=0,e[8]=(v+E)*Z,e[9]=(g-m)*Z,e[10]=(1-(f+p))*Z,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function Ntt(e,r,t,n,i){var a=r[0],o=r[1],s=r[2],u=r[3],l=a+a,c=o+o,f=s+s,h=a*l,v=a*c,p=a*f,g=o*c,y=o*f,m=s*f,E=u*l,C=u*c,A=u*f,M=n[0],Z=n[1],Y=n[2],st=i[0],Ct=i[1],Pt=i[2],Zt=(1-(g+m))*M,ie=(v+A)*M,ce=(p-C)*M,_e=(v-A)*Z,Re=(1-(h+m))*Z,he=(y+E)*Z,Me=(p+C)*Y,De=(y-E)*Y,Fe=(1-(h+g))*Y;return e[0]=Zt,e[1]=ie,e[2]=ce,e[3]=0,e[4]=_e,e[5]=Re,e[6]=he,e[7]=0,e[8]=Me,e[9]=De,e[10]=Fe,e[11]=0,e[12]=t[0]+st-(Zt*st+_e*Ct+Me*Pt),e[13]=t[1]+Ct-(ie*st+Re*Ct+De*Pt),e[14]=t[2]+Pt-(ce*st+he*Ct+Fe*Pt),e[15]=1,e}function Ztt(e,r){var t=r[0],n=r[1],i=r[2],a=r[3],o=t+t,s=n+n,u=i+i,l=t*o,c=n*o,f=n*s,h=i*o,v=i*s,p=i*u,g=a*o,y=a*s,m=a*u;return e[0]=1-f-p,e[1]=c+m,e[2]=h-y,e[3]=0,e[4]=c-m,e[5]=1-l-p,e[6]=v+g,e[7]=0,e[8]=h+y,e[9]=v-g,e[10]=1-l-f,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function ztt(e,r,t,n,i,a,o){var s=1/(t-r),u=1/(i-n),l=1/(a-o);return e[0]=a*2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a*2*u,e[6]=0,e[7]=0,e[8]=(t+r)*s,e[9]=(i+n)*u,e[10]=(o+a)*l,e[11]=-1,e[12]=0,e[13]=0,e[14]=o*a*2*l,e[15]=0,e}function g_(e,r,t,n,i){var a=1/Math.tan(r/2),o;return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=(i+n)*o,e[14]=2*i*n*o):(e[10]=-1,e[14]=-2*n),e}var P8=g_;function Utt(e,r,t,n,i){var a=1/Math.tan(r/2),o;return e[0]=a/t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0?(o=1/(n-i),e[10]=i*o,e[14]=i*n*o):(e[10]=-1,e[14]=-n),e}function Htt(e,r,t,n){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),o=Math.tan(r.leftDegrees*Math.PI/180),s=Math.tan(r.rightDegrees*Math.PI/180),u=2/(o+s),l=2/(i+a);return e[0]=u,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=l,e[6]=0,e[7]=0,e[8]=-((o-s)*u*.5),e[9]=(i-a)*l*.5,e[10]=n/(t-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*t/(t-n),e[15]=0,e}function y_(e,r,t,n,i,a,o){var s=1/(r-t),u=1/(n-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*l,e[11]=0,e[12]=(r+t)*s,e[13]=(i+n)*u,e[14]=(o+a)*l,e[15]=1,e}var Vtt=y_;function Gtt(e,r,t,n,i,a,o){var s=1/(r-t),u=1/(n-i),l=1/(a-o);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*u,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=l,e[11]=0,e[12]=(r+t)*s,e[13]=(i+n)*u,e[14]=a*l,e[15]=1,e}function m_(e,r,t,n){var i,a,o,s,u,l,c,f,h,v,p=r[0],g=r[1],y=r[2],m=n[0],E=n[1],C=n[2],A=t[0],M=t[1],Z=t[2];return Math.abs(p-A)<br.Ib&&Math.abs(g-M)<br.Ib&&Math.abs(y-Z)<br.Ib?h_(e):(c=p-A,f=g-M,h=y-Z,v=1/Math.hypot(c,f,h),c*=v,f*=v,h*=v,i=E*h-C*f,a=C*c-m*h,o=m*f-E*c,v=Math.hypot(i,a,o),v?(v=1/v,i*=v,a*=v,o*=v):(i=0,a=0,o=0),s=f*o-h*a,u=h*i-c*o,l=c*a-f*i,v=Math.hypot(s,u,l),v?(v=1/v,s*=v,u*=v,l*=v):(s=0,u=0,l=0),e[0]=i,e[1]=s,e[2]=c,e[3]=0,e[4]=a,e[5]=u,e[6]=f,e[7]=0,e[8]=o,e[9]=l,e[10]=h,e[11]=0,e[12]=-(i*p+a*g+o*y),e[13]=-(s*p+u*g+l*y),e[14]=-(c*p+f*g+h*y),e[15]=1,e)}function jtt(e,r,t,n){var i=r[0],a=r[1],o=r[2],s=n[0],u=n[1],l=n[2],c=i-t[0],f=a-t[1],h=o-t[2],v=c*c+f*f+h*h;v>0&&(v=1/Math.sqrt(v),c*=v,f*=v,h*=v);var p=u*h-l*f,g=l*c-s*h,y=s*f-u*c;return v=p*p+g*g+y*y,v>0&&(v=1/Math.sqrt(v),p*=v,g*=v,y*=v),e[0]=p,e[1]=g,e[2]=y,e[3]=0,e[4]=f*y-h*g,e[5]=h*p-c*y,e[6]=c*g-f*p,e[7]=0,e[8]=c,e[9]=f,e[10]=h,e[11]=0,e[12]=i,e[13]=a,e[14]=o,e[15]=1,e}function Wtt(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}function Ytt(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}function Xtt(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e[3]=r[3]+t[3],e[4]=r[4]+t[4],e[5]=r[5]+t[5],e[6]=r[6]+t[6],e[7]=r[7]+t[7],e[8]=r[8]+t[8],e[9]=r[9]+t[9],e[10]=r[10]+t[10],e[11]=r[11]+t[11],e[12]=r[12]+t[12],e[13]=r[13]+t[13],e[14]=r[14]+t[14],e[15]=r[15]+t[15],e}function x_(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e[3]=r[3]-t[3],e[4]=r[4]-t[4],e[5]=r[5]-t[5],e[6]=r[6]-t[6],e[7]=r[7]-t[7],e[8]=r[8]-t[8],e[9]=r[9]-t[9],e[10]=r[10]-t[10],e[11]=r[11]-t[11],e[12]=r[12]-t[12],e[13]=r[13]-t[13],e[14]=r[14]-t[14],e[15]=r[15]-t[15],e}function $tt(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e[3]=r[3]*t,e[4]=r[4]*t,e[5]=r[5]*t,e[6]=r[6]*t,e[7]=r[7]*t,e[8]=r[8]*t,e[9]=r[9]*t,e[10]=r[10]*t,e[11]=r[11]*t,e[12]=r[12]*t,e[13]=r[13]*t,e[14]=r[14]*t,e[15]=r[15]*t,e}function qtt(e,r,t,n){return e[0]=r[0]+t[0]*n,e[1]=r[1]+t[1]*n,e[2]=r[2]+t[2]*n,e[3]=r[3]+t[3]*n,e[4]=r[4]+t[4]*n,e[5]=r[5]+t[5]*n,e[6]=r[6]+t[6]*n,e[7]=r[7]+t[7]*n,e[8]=r[8]+t[8]*n,e[9]=r[9]+t[9]*n,e[10]=r[10]+t[10]*n,e[11]=r[11]+t[11]*n,e[12]=r[12]+t[12]*n,e[13]=r[13]+t[13]*n,e[14]=r[14]+t[14]*n,e[15]=r[15]+t[15]*n,e}function Ktt(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]&&e[4]===r[4]&&e[5]===r[5]&&e[6]===r[6]&&e[7]===r[7]&&e[8]===r[8]&&e[9]===r[9]&&e[10]===r[10]&&e[11]===r[11]&&e[12]===r[12]&&e[13]===r[13]&&e[14]===r[14]&&e[15]===r[15]}function R8(e,r){var t=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],v=e[11],p=e[12],g=e[13],y=e[14],m=e[15],E=r[0],C=r[1],A=r[2],M=r[3],Z=r[4],Y=r[5],st=r[6],Ct=r[7],Pt=r[8],Zt=r[9],ie=r[10],ce=r[11],_e=r[12],Re=r[13],he=r[14],Me=r[15];return Math.abs(t-E)<=br.Ib*Math.max(1,Math.abs(t),Math.abs(E))&&Math.abs(n-C)<=br.Ib*Math.max(1,Math.abs(n),Math.abs(C))&&Math.abs(i-A)<=br.Ib*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(a-M)<=br.Ib*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-Z)<=br.Ib*Math.max(1,Math.abs(o),Math.abs(Z))&&Math.abs(s-Y)<=br.Ib*Math.max(1,Math.abs(s),Math.abs(Y))&&Math.abs(u-st)<=br.Ib*Math.max(1,Math.abs(u),Math.abs(st))&&Math.abs(l-Ct)<=br.Ib*Math.max(1,Math.abs(l),Math.abs(Ct))&&Math.abs(c-Pt)<=br.Ib*Math.max(1,Math.abs(c),Math.abs(Pt))&&Math.abs(f-Zt)<=br.Ib*Math.max(1,Math.abs(f),Math.abs(Zt))&&Math.abs(h-ie)<=br.Ib*Math.max(1,Math.abs(h),Math.abs(ie))&&Math.abs(v-ce)<=br.Ib*Math.max(1,Math.abs(v),Math.abs(ce))&&Math.abs(p-_e)<=br.Ib*Math.max(1,Math.abs(p),Math.abs(_e))&&Math.abs(g-Re)<=br.Ib*Math.max(1,Math.abs(g),Math.abs(Re))&&Math.abs(y-he)<=br.Ib*Math.max(1,Math.abs(y),Math.abs(he))&&Math.abs(m-Me)<=br.Ib*Math.max(1,Math.abs(m),Math.abs(Me))}var Qtt=$i,Jtt=x_,__,E_,tet=(__=(0,Ze.b2)(),__(E_=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"viewport",void 0),(0,S.Z)(this,"overridedViewProjectionMatrix",void 0),(0,S.Z)(this,"jitteredViewProjectionMatrix",void 0),(0,S.Z)(this,"jitteredProjectionMatrix",void 0),(0,S.Z)(this,"viewMatrixInverse",void 0),(0,S.Z)(this,"cameraPosition",void 0)}return(0,ye.Z)(e,[{key:"init",value:function(){}},{key:"update",value:function(t){this.viewport=t,this.viewMatrixInverse=ci(),I8(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}},{key:"getProjectionMatrix",value:function(){return this.jitteredProjectionMatrix||this.viewport.getProjectionMatrix()}},{key:"getModelMatrix",value:function(){return this.viewport.getModelMatrix()}},{key:"getViewMatrix",value:function(){return this.viewport.getViewMatrix()}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.getViewMatrixUncentered()}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.getViewProjectionMatrixUncentered()}},{key:"getViewProjectionMatrix",value:function(){return this.overridedViewProjectionMatrix||this.jitteredViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}},{key:"getZoom",value:function(){return this.viewport.getZoom()}},{key:"getZoomScale",value:function(){return this.viewport.getZoomScale()}},{key:"getCenter",value:function(){var t=this.viewport.getCenter(),n=(0,nr.Z)(t,2),i=n[0],a=n[1];return[i,a]}},{key:"getFocalDistance",value:function(){return this.viewport.getFocalDistance()}},{key:"getCameraPosition",value:function(){return this.cameraPosition}},{key:"projectFlat",value:function(t,n){return this.viewport.projectFlat(t,n)}},{key:"setViewProjectionMatrix",value:function(t){this.overridedViewProjectionMatrix=t}},{key:"jitterProjectionMatrix",value:function(t,n){var i=v_(ci(),[t,n,0]);this.jitteredProjectionMatrix=$i(ci(),i,this.viewport.getProjectionMatrix()),this.jitteredViewProjectionMatrix=$i(ci(),this.jitteredProjectionMatrix,this.viewport.getViewMatrix())}},{key:"clearJitterProjectionMatrix",value:function(){this.jitteredProjectionMatrix=void 0,this.jitteredViewProjectionMatrix=void 0}}]),e}())||E_),no;(function(e){e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft",e.TOPCENTER="topcenter",e.BOTTOMCENTER="bottomcenter",e.LEFTCENTER="leftcenter",e.RIGHTCENTER="rightcenter",e.LEFTTOP="lefttop",e.RIGHTTOP="righttop",e.LEFTBOTTOM="leftbottom",e.RIGHTBOTTOM="rightbottom"})(no||(no={}));var C_,S_;function eet(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=ret(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function ret(e,r){if(e){if(typeof e=="string")return b_(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b_(e,r)}}function b_(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var net={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"},iet=(C_=(0,Ze.b2)(),C_(S_=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"container",void 0),(0,S.Z)(this,"controlCorners",void 0),(0,S.Z)(this,"controlContainer",void 0),(0,S.Z)(this,"scene",void 0),(0,S.Z)(this,"mapsService",void 0),(0,S.Z)(this,"controls",[]),(0,S.Z)(this,"unAddControls",[])}return(0,ye.Z)(e,[{key:"init",value:function(t,n){this.container=t.container,this.scene=n,this.mapsService=n.get(ve.IMapService),this.initControlPos()}},{key:"addControl",value:function(t,n){var i=n.get(ve.IMapService);i.map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}},{key:"getControlByName",value:function(t){return this.controls.find(function(n){return n.controlOption.name===t})}},{key:"removeControl",value:function(t){var n=this.controls.indexOf(t);return n>-1&&this.controls.splice(n,1),t.remove(),this}},{key:"addControls",value:function(){var t=this;this.unAddControls.forEach(function(n){n.addTo(t.scene),t.controls.push(n)}),this.unAddControls=[]}},{key:"destroy",value:function(){var t=eet(this.controls),n;try{for(t.s();!(n=t.n()).done;){var i=n.value;i.remove()}}catch(a){t.e(a)}finally{t.f()}this.controls=[],this.clearControlPos()}},{key:"initControlPos",value:function(){var t=this.controlCorners={},n="l7-",i=this.controlContainer=Er("div",n+"control-container",this.container);function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=s.map(function(l){return n+l}).join(" ");t[s.filter(function(l){return!["row","column"].includes(l)}).join("")]=Er("div",u,i)}function o(s){var u=s.replace(/^(top|bottom|left|right|center)/,"$1-").split("-");return[].concat((0,We.Z)(u),[net[s]])}Object.values(no).forEach(function(s){a(o(s))})}},{key:"clearControlPos",value:function(){for(var t in this.controlCorners)this.controlCorners[t]&&Ai(this.controlCorners[t]);this.controlContainer&&Ai(this.controlContainer)}}]),e}())||S_),A_,M_,aet=(A_=(0,Ze.b2)(),A_(M_=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"container",void 0),(0,S.Z)(this,"scene",void 0),(0,S.Z)(this,"mapsService",void 0),(0,S.Z)(this,"markers",[]),(0,S.Z)(this,"markerLayers",[]),(0,S.Z)(this,"unAddMarkers",[]),(0,S.Z)(this,"unAddMarkerLayers",[])}return(0,ye.Z)(e,[{key:"addMarkerLayer",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}},{key:"removeMarkerLayer",value:function(t){t.destroy(),this.markerLayers.indexOf(t);var n=this.markerLayers.indexOf(t);n>-1&&this.markerLayers.splice(n,1)}},{key:"addMarker",value:function(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}},{key:"addMarkers",value:function(){var t=this;this.unAddMarkers.forEach(function(n){n.addTo(t.scene),t.markers.push(n)}),this.unAddMarkers=[]}},{key:"addMarkerLayers",value:function(){var t=this;this.unAddMarkerLayers.forEach(function(n){t.markerLayers.push(n),n.addTo(t.scene)}),this.unAddMarkers=[]}},{key:"removeMarker",value:function(t){t.remove(),this.markers.indexOf(t);var n=this.markers.indexOf(t);n>-1&&this.markers.splice(n,1)}},{key:"removeAllMarkers",value:function(){this.destroy()}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(ve.IMapService)}},{key:"destroy",value:function(){this.markers.forEach(function(t){t.remove()}),this.markers=[],this.markerLayers.forEach(function(t){t.destroy()}),this.markerLayers=[]}},{key:"removeMakerLayerMarker",value:function(t){t.destroy()}}]),e}())||M_),T_,w_,oet=(T_=(0,Ze.b2)(),T_(w_=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"scene",void 0),(0,S.Z)(this,"mapsService",void 0),(0,S.Z)(this,"popups",[]),(0,S.Z)(this,"unAddPopups",[])}return(0,ye.Z)(e,[{key:"isMarkerReady",get:function(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}},{key:"removePopup",value:function(t){t!=null&&t.isOpen()&&t.remove();var n=this.popups.indexOf(t);n>-1&&this.popups.splice(n,1);var i=this.unAddPopups.indexOf(t);i>-1&&this.unAddPopups.splice(i,1)}},{key:"destroy",value:function(){this.popups.forEach(function(t){return t.remove()})}},{key:"addPopup",value:function(t){var n=this;t&&t.getOptions().autoClose&&[].concat((0,We.Z)(this.popups),(0,We.Z)(this.unAddPopups)).forEach(function(i){i.getOptions().autoClose&&n.removePopup(i)}),this.isMarkerReady?(t.addTo(this.scene),this.popups.push(t)):this.unAddPopups.push(t),t.on("close",function(){n.removePopup(t)})}},{key:"initPopup",value:function(){var t=this;this.unAddPopups.length&&this.unAddPopups.forEach(function(n){t.addPopup(n),t.unAddPopups=[]})}},{key:"init",value:function(t){this.scene=t,this.mapsService=t.get(ve.IMapService)}}]),e}())||w_),set={MapToken:"\u60A8\u6B63\u5728\u4F7F\u7528 Demo \u6D4B\u8BD5 Token, \u751F\u4EA7\u73AF\u5883\u52A1\u5FC5\u81EA\u884C\u6CE8\u518C Token \u786E\u4FDD\u670D\u52A1\u7A33\u5B9A",SDK:"\u8BF7\u786E\u8BA4\u5F15\u5165\u4E86mapbox-gl api\u4E14\u5728L7\u4E4B\u524D\u5F15\u5165"},uet=set,F_,k_,cet={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,isMini:!1,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},fet={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableTAA:!1,jitterScale:1,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0},het=(F_=(0,Ze.b2)(),F_(k_=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"sceneConfigCache",{}),(0,S.Z)(this,"layerConfigCache",{}),(0,S.Z)(this,"layerAttributeConfigCache",{})}return(0,ye.Z)(e,[{key:"getSceneConfig",value:function(t){return this.sceneConfigCache[t]}},{key:"getSceneWarninfo",value:function(t){return uet[t]}},{key:"setSceneConfig",value:function(t,n){this.sceneConfigCache[t]=(0,H.Z)((0,H.Z)({},cet),n)}},{key:"getLayerConfig",value:function(t){return this.layerConfigCache[t]}},{key:"setLayerConfig",value:function(t,n,i){this.layerConfigCache[n]=(0,H.Z)({},(0,Te.merge)({},this.sceneConfigCache[t],fet,i))}},{key:"getAttributeConfig",value:function(t){return this.layerAttributeConfigCache[t]}},{key:"setAttributeConfig",value:function(t,n){this.layerAttributeConfigCache[t]=(0,H.Z)((0,H.Z)({},this.layerAttributeConfigCache[t]),n)}},{key:"clean",value:function(){this.sceneConfigCache={},this.layerConfigCache={}}}]),e}())||k_);function dr(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function vr(e,r,t,n,i){var a={};return Object.keys(n).forEach(function(o){a[o]=n[o]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(o,s){return s(e,r,o)||o},a),i&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}function O_(){var e=new br.WT(4);return br.WT!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function W7t(e){var r=new glMatrix.ARRAY_TYPE(4);return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r}function vet(e,r,t,n){var i=new br.WT(4);return i[0]=e,i[1]=r,i[2]=t,i[3]=n,i}function Y7t(e,r){return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e}function X7t(e,r,t,n,i){return e[0]=r,e[1]=t,e[2]=n,e[3]=i,e}function $7t(e,r,t){return e[0]=r[0]+t[0],e[1]=r[1]+t[1],e[2]=r[2]+t[2],e[3]=r[3]+t[3],e}function q7t(e,r,t){return e[0]=r[0]-t[0],e[1]=r[1]-t[1],e[2]=r[2]-t[2],e[3]=r[3]-t[3],e}function K7t(e,r,t){return e[0]=r[0]*t[0],e[1]=r[1]*t[1],e[2]=r[2]*t[2],e[3]=r[3]*t[3],e}function Q7t(e,r,t){return e[0]=r[0]/t[0],e[1]=r[1]/t[1],e[2]=r[2]/t[2],e[3]=r[3]/t[3],e}function J7t(e,r){return e[0]=Math.ceil(r[0]),e[1]=Math.ceil(r[1]),e[2]=Math.ceil(r[2]),e[3]=Math.ceil(r[3]),e}function tht(e,r){return e[0]=Math.floor(r[0]),e[1]=Math.floor(r[1]),e[2]=Math.floor(r[2]),e[3]=Math.floor(r[3]),e}function eht(e,r,t){return e[0]=Math.min(r[0],t[0]),e[1]=Math.min(r[1],t[1]),e[2]=Math.min(r[2],t[2]),e[3]=Math.min(r[3],t[3]),e}function rht(e,r,t){return e[0]=Math.max(r[0],t[0]),e[1]=Math.max(r[1],t[1]),e[2]=Math.max(r[2],t[2]),e[3]=Math.max(r[3],t[3]),e}function nht(e,r){return e[0]=Math.round(r[0]),e[1]=Math.round(r[1]),e[2]=Math.round(r[2]),e[3]=Math.round(r[3]),e}function pet(e,r,t){return e[0]=r[0]*t,e[1]=r[1]*t,e[2]=r[2]*t,e[3]=r[3]*t,e}function iht(e,r,t,n){return e[0]=r[0]+t[0]*n,e[1]=r[1]+t[1]*n,e[2]=r[2]+t[2]*n,e[3]=r[3]+t[3]*n,e}function aht(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2],a=r[3]-e[3];return Math.hypot(t,n,i,a)}function oht(e,r){var t=r[0]-e[0],n=r[1]-e[1],i=r[2]-e[2],a=r[3]-e[3];return t*t+n*n+i*i+a*a}function sht(e){var r=e[0],t=e[1],n=e[2],i=e[3];return Math.hypot(r,t,n,i)}function uht(e){var r=e[0],t=e[1],n=e[2],i=e[3];return r*r+t*t+n*n+i*i}function lht(e,r){return e[0]=-r[0],e[1]=-r[1],e[2]=-r[2],e[3]=-r[3],e}function cht(e,r){return e[0]=1/r[0],e[1]=1/r[1],e[2]=1/r[2],e[3]=1/r[3],e}function fht(e,r){var t=r[0],n=r[1],i=r[2],a=r[3],o=t*t+n*n+i*i+a*a;return o>0&&(o=1/Math.sqrt(o)),e[0]=t*o,e[1]=n*o,e[2]=i*o,e[3]=a*o,e}function hht(e,r){return e[0]*r[0]+e[1]*r[1]+e[2]*r[2]+e[3]*r[3]}function vht(e,r,t,n){var i=t[0]*n[1]-t[1]*n[0],a=t[0]*n[2]-t[2]*n[0],o=t[0]*n[3]-t[3]*n[0],s=t[1]*n[2]-t[2]*n[1],u=t[1]*n[3]-t[3]*n[1],l=t[2]*n[3]-t[3]*n[2],c=r[0],f=r[1],h=r[2],v=r[3];return e[0]=f*l-h*u+v*s,e[1]=-(c*l)+h*o-v*a,e[2]=c*u-f*o+v*i,e[3]=-(c*s)+f*a-h*i,e}function pht(e,r,t,n){var i=r[0],a=r[1],o=r[2],s=r[3];return e[0]=i+n*(t[0]-i),e[1]=a+n*(t[1]-a),e[2]=o+n*(t[2]-o),e[3]=s+n*(t[3]-s),e}function dht(e,r){r=r||1;var t,n,i,a,o,s;do t=glMatrix.RANDOM()*2-1,n=glMatrix.RANDOM()*2-1,o=t*t+n*n;while(o>=1);do i=glMatrix.RANDOM()*2-1,a=glMatrix.RANDOM()*2-1,s=i*i+a*a;while(s>=1);var u=Math.sqrt((1-o)/s);return e[0]=r*t,e[1]=r*n,e[2]=r*i*u,e[3]=r*a*u,e}function D8(e,r,t){var n=r[0],i=r[1],a=r[2],o=r[3];return e[0]=t[0]*n+t[4]*i+t[8]*a+t[12]*o,e[1]=t[1]*n+t[5]*i+t[9]*a+t[13]*o,e[2]=t[2]*n+t[6]*i+t[10]*a+t[14]*o,e[3]=t[3]*n+t[7]*i+t[11]*a+t[15]*o,e}function ght(e,r,t){var n=r[0],i=r[1],a=r[2],o=t[0],s=t[1],u=t[2],l=t[3],c=l*n+s*a-u*i,f=l*i+u*n-o*a,h=l*a+o*i-s*n,v=-o*n-s*i-u*a;return e[0]=c*l+v*-o+f*-u-h*-s,e[1]=f*l+v*-s+h*-o-c*-u,e[2]=h*l+v*-u+c*-s-f*-o,e[3]=r[3],e}function yht(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e}function mht(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function xht(e,r){return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]&&e[3]===r[3]}function _ht(e,r){var t=e[0],n=e[1],i=e[2],a=e[3],o=r[0],s=r[1],u=r[2],l=r[3];return Math.abs(t-o)<=glMatrix.EPSILON*Math.max(1,Math.abs(t),Math.abs(o))&&Math.abs(n-s)<=glMatrix.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-u)<=glMatrix.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-l)<=glMatrix.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))}var Eht=null,Cht=null,Sht=null,bht=null,Aht=null,Mht=null,Tht=null,wht=function(){var e=O_();return function(r,t,n,i,a,o){var s,u;for(t||(t=4),n||(n=0),i?u=Math.min(i*t+n,r.length):u=r.length,s=n;s<u;s+=t)e[0]=r[s],e[1]=r[s+1],e[2]=r[s+2],e[3]=r[s+3],a(e,e,o),r[s]=e[0],r[s+1]=e[1],r[s+2]=e[2],r[s+3]=e[3];return r}}(),B8=Math.PI/180,det=512,L_=4003e4;function I_(e){var r=e.latitude,t=r===void 0?0:r,n=e.zoom,i=n===void 0?0:n,a=e.scale,o=e.highPrecision,s=o===void 0?!1:o,u=e.flipY,l=u===void 0?!1:u;a=a!==void 0?a:Math.pow(2,i);var c={},f=det*a,h=Math.cos(t*B8),v=f/360,p=v/h,g=f/L_/h;if(c.pixelsPerMeter=[g,-g,g],c.metersPerPixel=[1/g,-1/g,1/g],c.pixelsPerDegree=[v,-p,g],c.degreesPerPixel=[1/v,-1/p,1/g],s){var y=B8*Math.tan(t*B8)/h,m=v*y/2,E=f/L_*y,C=E/p*g;c.pixelsPerDegree2=[0,-m,E],c.pixelsPerMeter2=[C,0,C],l&&(c.pixelsPerDegree2[1]=-c.pixelsPerDegree2[1],c.pixelsPerMeter2[1]=-c.pixelsPerMeter2[1])}return l&&(c.pixelsPerMeter[1]=-c.pixelsPerMeter[1],c.metersPerPixel[1]=-c.metersPerPixel[1],c.pixelsPerDegree[1]=-c.pixelsPerDegree[1],c.degreesPerPixel[1]=-c.degreesPerPixel[1]),c}var qi;(function(e){e[e.LNGLAT=1]="LNGLAT",e[e.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",e[e.VECTOR_TILE=3]="VECTOR_TILE",e[e.IDENTITY=4]="IDENTITY",e[e.P20=5]="P20",e[e.P20_OFFSET=6]="P20_OFFSET",e[e.METER_OFFSET=7]="METER_OFFSET",e[e.P20_2=8]="P20_2"})(qi||(qi={}));var L1={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter",Mvp:"u_Mvp"},P_,R_,D_,N8,B_,get=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],yet=(P_=(0,Ze.b2)(),R_=(0,Ze.f3)(ve.ICameraService),P_(D_=(N8=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"needRefresh",!0),dr(this,"cameraService",B_,this),(0,S.Z)(this,"coordinateSystem",void 0),(0,S.Z)(this,"viewportCenter",void 0),(0,S.Z)(this,"viewportCenterProjection",void 0),(0,S.Z)(this,"pixelsPerDegree",void 0),(0,S.Z)(this,"pixelsPerDegree2",void 0),(0,S.Z)(this,"pixelsPerMeter",void 0)}return(0,ye.Z)(e,[{key:"refresh",value:function(t){var n=this.cameraService.getZoom(),i=this.cameraService.getZoomScale(),a=t||this.cameraService.getCenter(),o=I_({latitude:a[1],zoom:n}),s=o.pixelsPerMeter,u=o.pixelsPerDegree;this.viewportCenter=a,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=s,this.pixelsPerDegree=u,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===qi.LNGLAT||this.coordinateSystem===qi.P20?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===qi.LNGLAT_OFFSET?this.calculateLnglatOffset(a,n):this.coordinateSystem===qi.P20_OFFSET&&this.calculateLnglatOffset(a,n,i,!0),this.needRefresh=!1}},{key:"getCoordinateSystem",value:function(){return this.coordinateSystem}},{key:"setCoordinateSystem",value:function(t){this.coordinateSystem=t}},{key:"getViewportCenter",value:function(){return this.viewportCenter}},{key:"getViewportCenterProjection",value:function(){return this.viewportCenterProjection}},{key:"getPixelsPerDegree",value:function(){return this.pixelsPerDegree}},{key:"getPixelsPerDegree2",value:function(){return this.pixelsPerDegree2}},{key:"getPixelsPerMeter",value:function(){return this.pixelsPerMeter}},{key:"calculateLnglatOffset",value:function(t,n,i,a){var o=I_({latitude:t[1],zoom:n,scale:i,flipY:a,highPrecision:!0}),s=o.pixelsPerMeter,u=o.pixelsPerDegree,l=o.pixelsPerDegree2,c=this.cameraService.getViewMatrix(),f=this.cameraService.getProjectionMatrix(),h=$i([],f,c),v=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,n));this.viewportCenterProjection=D8([],[v[0],v[1],0,1],h),c=this.cameraService.getViewMatrixUncentered()||c,h=$i([],f,c),h=$i([],h,get),this.cameraService.setViewProjectionMatrix(h),this.pixelsPerMeter=s,this.pixelsPerDegree=u,this.pixelsPerDegree2=l}}]),e}(),B_=vr(N8.prototype,"cameraService",[R_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N8))||D_),N_,Z_;function met(e){var r=xet();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function xet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _et=(N_=(0,Ze.b2)(),N_(Z_=function(e){(0,ze.Z)(t,e);var r=met(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"renderMap",new Map),(0,S.Z)((0,Qt.Z)(n),"enable",!1),(0,S.Z)((0,Qt.Z)(n),"renderEnable",!1),(0,S.Z)((0,Qt.Z)(n),"cacheLogs",{}),n}return(0,ye.Z)(t,[{key:"setEnable",value:function(i){this.enable=!!i}},{key:"log",value:function(i,a){var o=this;if(this.enable){var s=i.split("."),u=null;s.forEach(function(l,c){u!==null?(u[l]||(u[l]={}),c!==s.length-1&&(u=u[l])):(o.cacheLogs[l]||(o.cacheLogs[l]={}),c!==s.length-1&&(u=o.cacheLogs[l])),c===s.length-1&&(u[l]=(0,H.Z)((0,H.Z)({time:Date.now()},u[l]),a))})}}},{key:"getLog",value:function(i){var a=this;switch((0,Eu.Z)(i)){case"string":return this.cacheLogs[i];case"object":return i.map(function(o){return a.cacheLogs[o]}).filter(function(o){return o!==void 0});case"undefined":return this.cacheLogs}}},{key:"removeLog",value:function(i){delete this.cacheLogs[i]}},{key:"generateRenderUid",value:function(){return this.renderEnable?IQ():""}},{key:"renderDebug",value:function(i){this.renderEnable=i}},{key:"renderStart",value:function(i){if(!(!this.renderEnable||!this.enable)){var a=this.renderMap.get(i)||{};this.renderMap.set(i,(0,H.Z)((0,H.Z)({},a),{},{renderUid:i,renderStart:Date.now()}))}}},{key:"renderEnd",value:function(i){if(!(!this.renderEnable||!this.enable)){var a=this.renderMap.get(i);if(a){var o=a.renderStart,s=Date.now();this.emit("renderEnd",(0,H.Z)((0,H.Z)({},a),{},{renderEnd:s,renderDuration:s-o})),this.renderMap.delete(i)}}}},{key:"destroy",value:function(){this.cacheLogs=null,this.renderMap.clear()}}]),t}(Vn.EventEmitter))||Z_),Eet=F(86105),Uu=F.n(Eet),Rn;(function(e){e.Hover="hover",e.Click="click",e.Select="select",e.Active="active",e.Drag="drag"})(Rn||(Rn={}));var z_,U_,H_,Z8,V_;function Cet(e){var r=bet();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function bet(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Aet={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"},Met=(z_=(0,Ze.b2)(),U_=(0,Ze.f3)(ve.IMapService),z_(H_=(Z8=function(e){(0,ze.Z)(t,e);var r=Cet(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"indragging",!1),dr((0,Qt.Z)(n),"mapService",V_,(0,Qt.Z)(n)),(0,S.Z)((0,Qt.Z)(n),"hammertime",void 0),(0,S.Z)((0,Qt.Z)(n),"lastClickTime",0),(0,S.Z)((0,Qt.Z)(n),"lastClickXY",[-1,-1]),(0,S.Z)((0,Qt.Z)(n),"clickTimer",void 0),(0,S.Z)((0,Qt.Z)(n),"$containter",void 0),(0,S.Z)((0,Qt.Z)(n),"onDrag",function(s){var u=n.interactionEvent(s);u.type=Aet[u.type],u.type==="dragging"?n.indragging=!0:n.indragging=!1,n.emit(Rn.Drag,u)}),(0,S.Z)((0,Qt.Z)(n),"onHammer",function(s){s.srcEvent.stopPropagation();var u=n.interactionEvent(s);n.emit(Rn.Hover,u)}),(0,S.Z)((0,Qt.Z)(n),"onTouch",function(s){var u=s.touches[0];n.onHover({x:u.pageX,y:u.pageY,type:"touch"})}),(0,S.Z)((0,Qt.Z)(n),"onHover",function(s){var u=s.clientX,l=s.clientY,c=u,f=l,h=s.type,v=n.mapService.getMapContainer();if(v)if(Si)c=c-v.left-0,f=f-v.top-0;else{var p=v.getBoundingClientRect(),g=p.top,y=p.left;c=c-y-v.clientLeft,f=f-g-v.clientTop}var m=n.mapService.containerToLngLat([c,f]);if(h==="click"){if(!Si&&"ontouchstart"in document.documentElement)return;n.isDoubleTap(c,f,m);return}if(h==="touch"){n.isDoubleTap(c,f,m);return}h!=="click"&&h!=="dblclick"&&n.emit(Rn.Hover,{x:c,y:f,lngLat:m,type:h,target:s})}),n}return(0,ye.Z)(t,[{key:"init",value:function(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}},{key:"destroy",value:function(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(Rn.Hover)}},{key:"triggerHover",value:function(i){var a=i.x,o=i.y;this.emit(Rn.Hover,{x:a,y:o})}},{key:"triggerSelect",value:function(i){this.emit(Rn.Select,{featureId:i})}},{key:"triggerActive",value:function(i){this.emit(Rn.Active,{featureId:i})}},{key:"handleMiniEvent",value:function(i){this.onHover({clientX:i.touches[0].pageX,clientY:i.touches[0].pageY,type:"touch"})}},{key:"addEventListenerOnMap",value:function(){var i=this.mapService.getMapContainer();if(i)if(Si)Br.document.addEventListener("touchstart",this.handleMiniEvent.bind(this));else{var a=new(Uu()).Manager(i);a.add(new(Uu()).Tap({event:"dblclick",taps:2})),a.add(new(Uu()).Tap({event:"click"})),a.add(new(Uu()).Pan({threshold:0,pointers:0})),a.add(new(Uu()).Press({})),a.on("dblclick click",this.onHammer),a.on("panstart panmove panend pancancel",this.onDrag),i.addEventListener("mousemove",this.onHover),i.addEventListener("mousedown",this.onHover,!0),i.addEventListener("mouseup",this.onHover),i.addEventListener("contextmenu",this.onHover),this.hammertime=a}}},{key:"removeEventListenerOnMap",value:function(){if(Si)Br.document.removeEventListener("touchstart",this.handleMiniEvent.bind(this));else{var i=this.mapService.getMapContainer();i&&(i.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),i.removeEventListener("mousedown",this.onHover),i.removeEventListener("mouseup",this.onHover),i.removeEventListener("contextmenu",this.onHover))}}},{key:"interactionEvent",value:function(i){var a=i.type,o=i.pointerType,s,u;o==="touch"?(u=Math.floor(i.pointers[0].clientY),s=Math.floor(i.pointers[0].clientX)):(u=Math.floor(i.srcEvent.y),s=Math.floor(i.srcEvent.x));var l=this.mapService.getMapContainer();if(l){var c=l.getBoundingClientRect(),f=c.top,h=c.left;s-=h,u-=f}var v=this.mapService.containerToLngLat([s,u]);return{x:s,y:u,lngLat:v,type:a,target:i.srcEvent}}},{key:"isDoubleTap",value:function(i,a,o){var s=this,u=new Date().getTime(),l="click";u-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-i)<10&&Math.abs(this.lastClickXY[1]-a)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),l="dblclick",this.emit(Rn.Hover,{x:i,y:a,lngLat:o,type:l})):(this.lastClickTime=u,this.lastClickXY=[i,a],this.clickTimer=setTimeout(function(){l="click",s.emit(Rn.Hover,{x:i,y:a,lngLat:o,type:l})},400))}}]),t}(R5()),V_=vr(Z8.prototype,"mapService",[U_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z8))||H_),Tet=0;function wet(e){if(Si)return null;var r=e;if(typeof e=="string"&&(r=document.getElementById(e)),r){var t=document.createElement("div");return t.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,t.id="l7-scene-".concat(Tet++),t.classList.add("l7-scene"),r.appendChild(t),t}return null}function Fet(e){var r,t,n=!0;return e==null||(r=e.target)===null||r===void 0||(t=r.path)===null||t===void 0||t.map(function(i){if(i!=null&&i.classList){var a;i==null||(a=i.classList)===null||a===void 0||a.forEach(function(o){(o==="l7-marker"||o==="l7-popup")&&(n=!1)})}}),n}var J;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL"})(J||(J={}));var G_,j_,W_,Y_,X_,$_,q_,I1,K_,Q_,J_,tE,eE,ket=(G_=(0,Ze.b2)(),j_=(0,Ze.f3)(ve.IMapService),W_=(0,Ze.f3)(ve.IRendererService),Y_=(0,Ze.f3)(ve.IGlobalConfigService),X_=(0,Ze.f3)(ve.IInteractionService),$_=(0,Ze.f3)(ve.ILayerService),G_(q_=(I1=function(){function e(){var r=this;(0,ge.Z)(this,e),(0,S.Z)(this,"pickedColors",void 0),(0,S.Z)(this,"pickedTileLayers",[]),dr(this,"mapService",K_,this),dr(this,"rendererService",Q_,this),dr(this,"configService",J_,this),dr(this,"interactionService",tE,this),dr(this,"layerService",eE,this),(0,S.Z)(this,"pickingFBO",void 0),(0,S.Z)(this,"width",0),(0,S.Z)(this,"height",0),(0,S.Z)(this,"alreadyInPicking",!1),(0,S.Z)(this,"pickBufferScale",1),(0,S.Z)(this,"pickFromPickingFBO",function(t,n){var i=n.x,a=n.y,o=n.lngLat,s=n.type,u=n.target,l=!1,c=r.rendererService,f=c.readPixels,h=c.getContainer,v=r.getContainerSize(h()),p=v.width,g=v.height;p*=ln,g*=ln;var y=t.getLayerConfig(),m=y.enableHighlight,E=y.enableSelect,C=i*ln,A=a*ln;if(C>p-1*ln||C<0||A>g-1*ln||A<0)return!1;var M=f({x:Math.floor(C/r.pickBufferScale),y:Math.floor((g-(a+1)*ln)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:r.pickingFBO});if(r.pickedColors=M,M[0]!==0||M[1]!==0||M[2]!==0){var Z=M1(M),Y=t.layerPickService.getFeatureById(Z);Z!==t.getCurrentPickId()&&s==="mousemove"&&(s="mouseenter");var st={x:i,y:a,type:s,lngLat:o,featureId:Z,feature:Y,target:u};Y&&(l=!0,t.setCurrentPickId(Z),r.triggerHoverOnLayer(t,st))}else{var Ct={x:i,y:a,lngLat:o,type:t.getCurrentPickId()!==null&&s==="mousemove"?"mouseout":"un"+s,featureId:null,target:u,feature:null};r.triggerHoverOnLayer(t,(0,H.Z)((0,H.Z)({},Ct),{},{type:"unpick"})),r.triggerHoverOnLayer(t,Ct),t.setCurrentPickId(null)}if(m&&t.layerPickService.highlightPickedFeature(M),E&&s==="click"&&(M==null?void 0:M.toString())!==[0,0,0,0].toString()){var Pt=M1(M);t.getCurrentSelectedId()===null||Pt!==t.getCurrentSelectedId()?(t.layerPickService.selectFeature(M),t.setCurrentSelectedId(Pt)):(t.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),t.setCurrentSelectedId(null))}return l})}return(0,ye.Z)(e,[{key:"init",value:function(t){var n=this.rendererService,i=n.createTexture2D,a=n.createFramebuffer,o=n.getContainer,s=this.getContainerSize(o()),u=s.width,l=s.height;u*=ln,l*=ln,this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,this.pickingFBO=a({color:i({width:Math.round(u/this.pickBufferScale),height:Math.round(l/this.pickBufferScale),wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.interactionService.on(Rn.Hover,this.pickingAllLayer.bind(this))}},{key:"boxPickLayer",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a,o){var s=this,u,l,c;return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:u=this.rendererService,l=u.useFramebuffer,c=u.clear,this.resizePickingFBO(),l(this.pickingFBO,function(){c({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),i.hooks.beforePickingEncode.call(),i.renderModels(),i.hooks.afterPickingEncode.call();var v=s.pickBox(i,a);o(v)});case 3:case"end":return h.stop()}},n,this)}));function t(n,i,a){return r.apply(this,arguments)}return t}()},{key:"pickBox",value:function(t,n){var i=this,a=n.map(function(Pt){var Zt=Pt<0?0:Pt;return Math.floor(Zt*ln/i.pickBufferScale)}),o=(0,nr.Z)(a,4),s=o[0],u=o[1],l=o[2],c=o[3],f=this.rendererService,h=f.readPixels,v=f.getContainer,p=this.getContainerSize(v()),g=p.width,y=p.height;if(g*=ln,y*=ln,s>(g-1)*ln/this.pickBufferScale||l<0||u>(y-1)*ln/this.pickBufferScale||c<0)return[];for(var m=Math.min(g/this.pickBufferScale,l)-s,E=Math.min(y/this.pickBufferScale,c)-u,C=h({x:s,y:Math.floor(y/this.pickBufferScale-(c+1)),width:m,height:E,data:new Uint8Array(m*E*4),framebuffer:this.pickingFBO}),A=[],M={},Z=0;Z<C.length/4;Z=Z+1){var Y=C.slice(Z*4,Z*4+4),st=M1(Y);if(st!==-1&&!M[st]){var Ct=t.layerPickService.getFeatureById(st);A.push((0,H.Z)((0,H.Z)({},Ct),{},{pickedFeatureIdx:st})),M[st]=!0}}return A}},{key:"handleCursor",value:function(t,n){var i=t.getLayerConfig(),a=i.cursor,o=a===void 0?"":a,s=i.cursorEnabled;if(s){var u=this.mapService.version,l=u==="GAODE2.x"?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),c=l==null?void 0:l.style.getPropertyValue("cursor");n==="unmousemove"&&c!==""?l==null||l.style.setProperty("cursor",""):n==="mousemove"&&(l==null||l.style.setProperty("cursor",o))}}},{key:"destroy",value:function(){this.pickingFBO.destroy(),this.pickingFBO=null}},{key:"getContainerSize",value:function(t){return t.getContext?{width:t.width/ln,height:t.height/ln}:t.getBoundingClientRect()}},{key:"pickingAllLayer",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(!this.layerService.needPick(i.type)||!this.isPickingAllLayer())){o.next=2;break}return o.abrupt("return");case 2:return this.alreadyInPicking=!0,o.next=5,this.pickingLayers(i);case 5:this.layerService.renderLayers(),this.alreadyInPicking=!1;case 7:case"end":return o.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"isPickingAllLayer",value:function(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}},{key:"resizePickingFBO",value:function(){var t=this.rendererService.getContainer,n=this.getContainerSize(t()),i=n.width,a=n.height;i*=ln,a*=ln,(this.width!==i||this.height!==a)&&(this.pickingFBO.resize({width:Math.round(i/this.pickBufferScale),height:Math.round(a/this.pickBufferScale)}),this.width=i,this.height=a)}},{key:"pickingLayers",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){var a=this,o,s,u;return zt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=this.rendererService,s=o.useFramebuffer,u=o.clear,this.resizePickingFBO(),s(this.pickingFBO,function(){var f=a.layerService.getRenderList();f.filter(function(h){return h.needPick(i.type)}).reverse().some(function(h){u({framebuffer:a.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),h.layerPickService.pickRender(i);var v=a.pickFromPickingFBO(h,i);return a.layerService.pickedLayerId=v?+h.id:-1,v&&!h.getLayerConfig().enablePropagation})});case 3:case"end":return c.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"triggerHoverOnLayer",value:function(t,n){Fet(n)&&(this.handleCursor(t,n.type),t.emit(n.type,n))}}]),e}(),K_=vr(I1.prototype,"mapService",[j_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q_=vr(I1.prototype,"rendererService",[W_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J_=vr(I1.prototype,"configService",[Y_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tE=vr(I1.prototype,"interactionService",[X_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),eE=vr(I1.prototype,"layerService",[$_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I1))||q_),Oet=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;(0,ge.Z)(this,e),(0,S.Z)(this,"autoStart",void 0),(0,S.Z)(this,"startTime",0),(0,S.Z)(this,"oldTime",0),(0,S.Z)(this,"running",!1),(0,S.Z)(this,"elapsedTime",0),this.autoStart=r}return(0,ye.Z)(e,[{key:"start",value:function(){this.startTime=(typeof performance=="undefined"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var n=(typeof performance=="undefined"?Date:performance).now();t=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=t}return t}}]),e}(),rE,nE,iE,aE,oE,Hu,sE,uE,lE;function Let(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Iet(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function Iet(e,r){if(e){if(typeof e=="string")return cE(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cE(e,r)}}function cE(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Pet(e){var r=Ret();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Ret(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Det=(rE=(0,Ze.b2)(),nE=(0,Ze.f3)(ve.IRendererService),iE=(0,Ze.f3)(ve.IMapService),aE=(0,Ze.f3)(ve.IDebugService),rE(oE=(Hu=function(e){(0,ze.Z)(t,e);var r=Pet(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"pickedLayerId",-1),(0,S.Z)((0,Qt.Z)(n),"clock",new Oet),(0,S.Z)((0,Qt.Z)(n),"alreadyInRendering",!1),(0,S.Z)((0,Qt.Z)(n),"layers",[]),(0,S.Z)((0,Qt.Z)(n),"layerList",[]),(0,S.Z)((0,Qt.Z)(n),"layerRenderID",void 0),(0,S.Z)((0,Qt.Z)(n),"sceneInited",!1),(0,S.Z)((0,Qt.Z)(n),"animateInstanceCount",0),(0,S.Z)((0,Qt.Z)(n),"shaderPicking",!0),(0,S.Z)((0,Qt.Z)(n),"enableRender",!0),dr((0,Qt.Z)(n),"renderService",sE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"mapService",uE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"debugService",lE,(0,Qt.Z)(n)),(0,S.Z)((0,Qt.Z)(n),"reRender",(0,Te.throttle)(function(){n.updateLayerRenderList(),n.renderLayers()},32)),(0,S.Z)((0,Qt.Z)(n),"throttleRenderLayers",(0,Te.throttle)(function(){n.renderLayers()},16)),n}return(0,ye.Z)(t,[{key:"needPick",value:function(i){return this.layerList.some(function(a){return a.needPick(i)})}},{key:"add",value:function(i){var a=this;this.layers.push(i),this.sceneInited&&i.init().then(function(){a.updateLayerRenderList(),a.renderLayers()})}},{key:"addMask",value:function(i){var a=this;this.sceneInited&&i.init().then(function(){a.renderLayers()})}},{key:"initLayers",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o=this;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:this.sceneInited=!0,this.layers.forEach(function(){var l=(0,xe.Z)(zt().mark(function c(f){return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f.startInit){v.next=4;break}return v.next=3,f.init();case 3:o.updateLayerRenderList();case 4:case"end":return v.stop()}},c)}));return function(c){return l.apply(this,arguments)}}());case 2:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSceneInited",value:function(){return this.sceneInited}},{key:"getRenderList",value:function(){return this.layerList}},{key:"getLayers",value:function(){return this.layers}},{key:"getLayer",value:function(i){return this.layers.find(function(a){return a.id===i})}},{key:"getLayerByName",value:function(i){return this.layers.find(function(a){return a.name===i})}},{key:"remove",value:function(){var n=(0,xe.Z)(zt().mark(function a(o,s){var u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:s?(u=s.layerChildren.indexOf(o),u>-1&&s.layerChildren.splice(u,1)):(l=this.layers.indexOf(o),l>-1&&this.layers.splice(l,1)),this.updateLayerRenderList(),o.destroy(),this.reRender(),this.emit("layerChange",this.layers);case 5:case"end":return f.stop()}},a,this)}));function i(a,o){return n.apply(this,arguments)}return i}()},{key:"removeAllLayers",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.destroy(),this.reRender();case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"setEnableRender",value:function(i){this.enableRender=i}},{key:"renderLayers",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(!(this.alreadyInRendering||!this.enableRender)){f.next=2;break}return f.abrupt("return");case 2:o=this.debugService.generateRenderUid(),this.debugService.renderStart(o),this.alreadyInRendering=!0,this.clear(),s=Let(this.layerList),f.prev=7,s.s();case 9:if((u=s.n()).done){f.next=21;break}if(l=u.value,l.masks.filter(function(h){return h.inited}).length>0&&(this.renderService.clear({stencil:0,depth:1,framebuffer:null}),l.masks.map(function(){var h=(0,xe.Z)(zt().mark(function v(p){return zt().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:p.render();case 1:case"end":return y.stop()}},v)}));return function(v){return h.apply(this,arguments)}}())),!l.getLayerConfig().enableMultiPassRenderer){f.next=17;break}return f.next=15,l.renderMultiPass();case 15:f.next=19;break;case 17:return f.next=19,l.render();case 19:f.next=9;break;case 21:f.next=26;break;case 23:f.prev=23,f.t0=f.catch(7),s.e(f.t0);case 26:return f.prev=26,s.f(),f.finish(26);case 29:this.debugService.renderEnd(o),this.alreadyInRendering=!1;case 31:case"end":return f.stop()}},a,this,[[7,23,26,29]])}));function i(){return n.apply(this,arguments)}return i}()},{key:"renderMask",value:function(i){i.filter(function(a){return a.inited}).map(function(a){a.render()})}},{key:"beforeRenderData",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.hooks.beforeRenderData.promise();case 2:s=l.sent,s&&this.renderLayers();case 4:case"end":return l.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"renderLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s=this;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(o.masks.filter(function(c){return c.inited}).length>0&&o.masks.map(function(c){s.renderService.clear({stencil:0,depth:1,framebuffer:null}),c.render()}),!o.getLayerConfig().enableMultiPassRenderer){l.next=6;break}return l.next=4,o.renderMultiPass();case 4:l.next=8;break;case 6:return l.next=8,o.render();case 8:case"end":return l.stop()}},a)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"updateLayerRenderList",value:function(){var i=this;this.layerList=[],this.layers.filter(function(a){return a.inited}).filter(function(a){return a.isVisible()}).sort(function(a,o){return a.zIndex-o.zIndex}).forEach(function(a){i.layerList.push(a)})}},{key:"destroy",value:function(){this.layers.forEach(function(i){i.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}},{key:"startAnimate",value:function(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}},{key:"stopAnimate",value:function(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}},{key:"getOESTextureFloat",value:function(){return this.renderService.extensionObject.OES_texture_float}},{key:"enableShaderPick",value:function(){this.shaderPicking=!0}},{key:"disableShaderPick",value:function(){this.shaderPicking=!1}},{key:"getShaderPickStat",value:function(){return this.shaderPicking}},{key:"clear",value:function(){var i=Dr(this.mapService.bgColor);this.renderService.clear({color:i,depth:1,stencil:0,framebuffer:null})}},{key:"runRender",value:function(){this.renderLayers(),this.layerRenderID=Br.requestAnimationFrame(this.runRender.bind(this))}},{key:"stopRender",value:function(){Br.cancelAnimationFrame(this.layerRenderID)}}]),t}(Vn.EventEmitter),sE=vr(Hu.prototype,"renderService",[nE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uE=vr(Hu.prototype,"mapService",[iE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lE=vr(Hu.prototype,"debugService",[aE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hu))||oE),Bet=function(){function e(r){var t=this;(0,ge.Z)(this,e),(0,S.Z)(this,"name",void 0),(0,S.Z)(this,"type",void 0),(0,S.Z)(this,"scale",void 0),(0,S.Z)(this,"descriptor",void 0),(0,S.Z)(this,"featureBufferLayout",[]),(0,S.Z)(this,"needRescale",!1),(0,S.Z)(this,"needRemapping",!1),(0,S.Z)(this,"needRegenerateVertices",!1),(0,S.Z)(this,"featureRange",{startIndex:0,endIndex:1/0}),(0,S.Z)(this,"vertexAttribute",void 0),(0,S.Z)(this,"defaultCallback",function(n){if(n.length===0){var i;return((i=t.scale)===null||i===void 0?void 0:i.defaultValues)||[]}return n.map(function(a,o){var s,u=(s=t.scale)===null||s===void 0?void 0:s.scalers[o].func,l=u(a);return l})}),this.setProps(r)}return(0,ye.Z)(e,[{key:"setProps",value:function(t){Object.assign(this,t)}},{key:"mapping",value:function(t){var n;if((n=this.scale)!==null&&n!==void 0&&n.callback){var i,a=(i=this.scale)===null||i===void 0?void 0:i.callback.apply(i,(0,We.Z)(t));if(!(0,Te.isNil)(a))return[a]}return this.defaultCallback(t)}},{key:"resetDescriptor",value:function(){this.descriptor&&(this.descriptor.buffer.data=[])}}]),e}(),Net=["modelType"],Zet=["buffer","update","name"],zet=["buffer","update","name"],Uet=["buffer","update","name"],Vu,fE,hE,vE,z8,pE,Het=(Vu={},(0,S.Z)(Vu,J.FLOAT,4),(0,S.Z)(Vu,J.UNSIGNED_BYTE,1),(0,S.Z)(Vu,J.UNSIGNED_SHORT,2),Vu),Vet=(fE=(0,Ze.b2)(),hE=(0,Ze.f3)(ve.IRendererService),fE(vE=(z8=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"attributesAndIndices",void 0),dr(this,"rendererService",pE,this),(0,S.Z)(this,"attributes",[]),(0,S.Z)(this,"triangulation",void 0),(0,S.Z)(this,"featureLayout",{sizePerElement:0,elements:[]})}return(0,ye.Z)(e,[{key:"registerStyleAttribute",value:function(t){var n=this.getLayerStyleAttribute(t.name||"");return n?n.setProps(t):(n=new Bet(t),this.attributes.push(n)),n}},{key:"updateScaleAttribute",value:function(t){this.attributes.forEach(function(n){var i,a=n.name,o=(i=n.scale)===null||i===void 0?void 0:i.field;(t[a]||o&&t[o])&&(n.needRescale=!0,n.needRemapping=!0,n.needRegenerateVertices=!0)})}},{key:"updateStyleAttribute",value:function(t,n,i){var a=this.getLayerStyleAttribute(t);a||(a=this.registerStyleAttribute((0,H.Z)((0,H.Z)({},n),{},{name:t})));var o=n.scale;o&&a&&(a.scale=o,a.needRescale=!0,a.needRemapping=!0,a.needRegenerateVertices=!0,i&&i.featureRange&&(a.featureRange=i.featureRange))}},{key:"getLayerStyleAttributes",value:function(){return this.attributes}},{key:"getLayerStyleAttribute",value:function(t){return this.attributes.find(function(n){return n.name===t})}},{key:"getLayerAttributeScale",value:function(t){var n,i=this.getLayerStyleAttribute(t),a=i==null||(n=i.scale)===null||n===void 0?void 0:n.scalers;return a&&a[0]?a[0].func:null}},{key:"updateAttributeByFeatureRange",value:function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=this.attributes.find(function(M){return M.name===t});if(s&&s.descriptor){var u=s.descriptor,l=u.update,c=u.buffer,f=u.size,h=f===void 0?0:f,v=Het[c.type||J.FLOAT];if(l){var p=this.featureLayout,g=p.elements,y=p.sizePerElement,m=g.slice(i,a);if(!m.length)return;var E=m[0].offset,C=E*h*v,A=m.map(function(M,Z){for(var Y=M.featureIdx,st=M.vertices,Ct=M.normals,Pt=st.length/y,Zt=[],ie=0;ie<Pt;ie++){var ce=Ct?Ct.slice(ie*3,ie*3+3):[];Zt.push.apply(Zt,(0,We.Z)(l(n[Y],Y,st.slice(ie*y,ie*y+y),Z,ce)))}return Zt}).reduce(function(M,Z){return M.push.apply(M,(0,We.Z)(Z)),M},[]);s.vertexAttribute.updateBuffer({data:A,offset:C}),o==null||o.emit("legend:".concat(t),{type:t,attr:s})}}}},{key:"createAttributesAndIndicesAscy",value:function(t,n,i){var a=this;this.featureLayout={sizePerElement:0,elements:[]};var o=this.attributes.map(function(p){return p.resetDescriptor(),p.descriptor}).filter(function(p){return p}),s=i.modelType,u=(0,B.Z)(i,Net),l=this.rendererService,c=l.createAttribute,f=l.createBuffer,h=l.createElements,v={};return new Promise(function(p,g){JJ(s,(0,H.Z)({descriptors:a.getDescriptorsWithOutFunc(o),features:t,segmentNumber:n},u)).then(function(y){y.descriptors.forEach(function(E,C){if(E){var A=E.buffer,M=E.update,Z=E.name,Y=(0,B.Z)(E,Zet),st=c((0,H.Z)({buffer:f(A)},Y));v[E.name||""]=st,a.attributes[C].vertexAttribute=st}}),a.featureLayout=y.featureLayout;var m=h({data:y.indices,type:J.UNSIGNED_INT,count:y.indices.length});a.attributesAndIndices={attributes:v,elements:m,count:null},p(a.attributesAndIndices)}).catch(function(y){console.warn(y),g(y)})})}},{key:"createAttributesAndIndices",value:function(t,n,i){var a=this;this.featureLayout={sizePerElement:0,elements:[]},n&&(this.triangulation=n);var o=this.attributes.map(function(C){return C.resetDescriptor(),C.descriptor}),s=0,u=0,l=[],c=[],f=[],h=3;t.forEach(function(C,A){var M=a.triangulation(C,i),Z=M.indices,Y=M.vertices,st=M.normals,Ct=M.size,Pt=M.indexes,Zt=M.count;typeof Zt=="number"&&(u+=Zt),Z.forEach(function(Re){c.push(Re+s)}),h=Ct;var ie=Y.length/Ct;a.featureLayout.sizePerElement=h,a.featureLayout.elements.push({featureIdx:A,vertices:Y,normals:st,offset:s}),s+=ie;for(var ce=function(he){var Me=(st==null?void 0:st.slice(he*3,he*3+3))||[],De=Y.slice(he*Ct,he*Ct+Ct),Fe=0;Pt&&Pt[he]!==void 0&&(Fe=Pt[he]),o.forEach(function(Ve,tr){if(Ve&&Ve.update){var fr;(fr=Ve.buffer.data).push.apply(fr,(0,We.Z)(Ve.update(C,A,De,he,Me,Fe)))}})},_e=0;_e<ie;_e++)ce(_e)});var v=this.rendererService,p=v.createAttribute,g=v.createBuffer,y=v.createElements,m={};o.forEach(function(C,A){if(C){var M=C.buffer,Z=C.update,Y=C.name,st=(0,B.Z)(C,zet),Ct=p((0,H.Z)({buffer:g(M)},st));m[C.name||""]=Ct,a.attributes[A].vertexAttribute=Ct}});var E=y({data:c,type:J.UNSIGNED_INT,count:c.length});return this.attributesAndIndices={attributes:m,elements:E,count:u},this.attributesAndIndices}},{key:"createAttributes",value:function(t,n){var i=this;this.featureLayout={sizePerElement:0,elements:[]},n&&(this.triangulation=n);var a=this.attributes.map(function(v){return v.resetDescriptor(),v.descriptor}),o=0,s=[],u=3;t.forEach(function(v,p){var g=i.triangulation(v),y=g.indices,m=g.vertices,E=g.normals,C=g.size,A=g.indexes;y.forEach(function(st){s.push(st+o)}),u=C;var M=m.length/C;i.featureLayout.sizePerElement=u,i.featureLayout.elements.push({featureIdx:p,vertices:m,normals:E,offset:o}),o+=M;for(var Z=function(Ct){var Pt=(E==null?void 0:E.slice(Ct*3,Ct*3+3))||[],Zt=m.slice(Ct*C,Ct*C+C),ie=0;A&&A[Ct]!==void 0&&(ie=A[Ct]),a.forEach(function(ce,_e){if(ce&&ce.update){var Re;(Re=ce.buffer.data).push.apply(Re,(0,We.Z)(ce.update(v,p,Zt,Ct,Pt,ie)))}})},Y=0;Y<M;Y++)Z(Y)});var l=this.rendererService,c=l.createAttribute,f=l.createBuffer,h={};return a.forEach(function(v,p){if(v){var g=v.buffer,y=v.update,m=v.name,E=(0,B.Z)(v,Uet),C=c((0,H.Z)({buffer:f(g)},E));h[v.name||""]=C,i.attributes[p].vertexAttribute=C}}),{attributes:h}}},{key:"clearAllAttributes",value:function(){var t;this.attributes.forEach(function(n){n.vertexAttribute&&n.vertexAttribute.destroy()}),(t=this.attributesAndIndices)===null||t===void 0||t.elements.destroy(),this.attributes=[]}},{key:"getDescriptorsWithOutFunc",value:function(t){return t.map(function(n){return{buffer:n.buffer,name:n.name,size:n.size}})}}]),e}(),pE=vr(z8.prototype,"rendererService",[hE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z8))||vE),U8=F(93738);function H8(e,r,t,n){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(c){try{l(n.next(c))}catch(f){o(f)}}function u(c){try{l(n.throw(c))}catch(f){o(f)}}function l(c){c.done?a(c.value):i(c.value).then(s,u)}l((n=n.apply(e,r||[])).next())})}function V8(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(l){return function(c){return u([l,c])}}function u(l){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(a=l[0]&2?i.return:l[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,l[1])).done)return a;switch(i=0,a&&(l=[l[0]&2,a.value]),l[0]){case 0:case 1:a=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,i=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){t.label=l[1];break}if(l[0]===6&&t.label<a[1]){t.label=a[1],a=l;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(l);break}a[2]&&t.ops.pop(),t.trys.pop();continue}l=r.call(e,t)}catch(c){l=[6,c],i=0}finally{n=a=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function N3(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),i,a=[],o;try{for(;(r===void 0||r-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return a}function Z3(e,r,t){if(t||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return e.concat(a||Array.prototype.slice.call(r))}function G8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var j8={exports:{}},z3={exports:{}},Gu={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return n&&typeof n.length=="number"&&n.length>=0&&n.length%1===0}e.exports=r.default})(Gu,Gu.exports);var fi={},W8={exports:{}},Y8={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];var a=n.pop();return t.call(this,n,a)}},e.exports=r.default})(Y8,Y8.exports);var zo={};Object.defineProperty(zo,"__esModule",{value:!0}),zo.fallback=dE,zo.wrap=gE;var Get=zo.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,jet=zo.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Wet=zo.hasNextTick=typeof U8=="object"&&typeof U8.nextTick=="function";function dE(e){setTimeout(e,0)}function gE(e){return function(r){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return e(function(){return r.apply(void 0,t)})}}var ju;Get?ju=queueMicrotask:jet?ju=setImmediate:Wet?ju=U8.nextTick:ju=dE,zo.default=gE(ju),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=u;var t=Y8.exports,n=s(t),i=zo,a=s(i),o=fi;function s(f){return f&&f.__esModule?f:{default:f}}function u(f){return(0,o.isAsync)(f)?function(){for(var h=[],v=arguments.length;v--;)h[v]=arguments[v];var p=h.pop(),g=f.apply(this,h);return l(g,p)}:(0,n.default)(function(h,v){var p;try{p=f.apply(this,h)}catch(g){return v(g)}if(p&&typeof p.then=="function")return l(p,v);v(null,p)})}function l(f,h){return f.then(function(v){c(h,null,v)},function(v){c(h,v&&v.message?v:new Error(v))})}function c(f,h,v){try{f(h,v)}catch(p){(0,a.default)(function(g){throw g},p)}}e.exports=r.default}(W8,W8.exports),Object.defineProperty(fi,"__esModule",{value:!0}),fi.isAsyncIterable=fi.isAsyncGenerator=fi.isAsync=void 0;var Yet=W8.exports,Xet=$et(Yet);function $et(e){return e&&e.__esModule?e:{default:e}}function yE(e){return e[Symbol.toStringTag]==="AsyncFunction"}function qet(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function Ket(e){return typeof e[Symbol.asyncIterator]=="function"}function Qet(e){if(typeof e!="function")throw new Error("expected a function");return yE(e)?(0,Xet.default)(e):e}fi.default=Qet,fi.isAsync=yE,fi.isAsyncGenerator=qet,fi.isAsyncIterable=Ket;var P1={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n,i){if(i===void 0&&(i=n.length),!i)throw new Error("arity is undefined");function a(){for(var o=this,s=[],u=arguments.length;u--;)s[u]=arguments[u];return typeof s[i-1]=="function"?n.apply(this,s):new Promise(function(l,c){s[i-1]=function(f){for(var h=[],v=arguments.length-1;v-- >0;)h[v]=arguments[v+1];if(f)return c(f);l(h.length>1?h:h[0])},n.apply(o,s)})}return a}e.exports=r.default})(P1,P1.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Gu.exports,n=u(t),i=fi,a=u(i),o=P1.exports,s=u(o);function u(l){return l&&l.__esModule?l:{default:l}}r.default=(0,s.default)(function(l,c,f){var h=(0,n.default)(c)?[]:{};l(c,function(v,p,g){(0,a.default)(v)(function(y){for(var m,E=[],C=arguments.length-1;C-- >0;)E[C]=arguments[C+1];E.length<2&&(m=E,E=m[0]),h[p]=E,g(y)})},function(v){return f(v,h)})},3),e.exports=r.default}(z3,z3.exports);var X8={exports:{}},U3={exports:{}},$8={exports:{}},Wu={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){function i(){for(var a=[],o=arguments.length;o--;)a[o]=arguments[o];if(n!==null){var s=n;n=null,s.apply(this,a)}}return Object.assign(i,n),i}e.exports=r.default})(Wu,Wu.exports);var q8={exports:{}},K8={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return t[Symbol.iterator]&&t[Symbol.iterator]()},e.exports=r.default})(K8,K8.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=c;var t=Gu.exports,n=o(t),i=K8.exports,a=o(i);function o(f){return f&&f.__esModule?f:{default:f}}function s(f){var h=-1,v=f.length;return function(){return++h<v?{value:f[h],key:h}:null}}function u(f){var h=-1;return function(){var p=f.next();return p.done?null:(h++,{value:p.value,key:h})}}function l(f){var h=f?Object.keys(f):[],v=-1,p=h.length;return function g(){var y=h[++v];return y==="__proto__"?g():v<p?{value:f[y],key:y}:null}}function c(f){if((0,n.default)(f))return s(f);var h=(0,a.default)(f);return h?u(h):l(f)}e.exports=r.default}(q8,q8.exports);var Yu={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=t;function t(n){return function(){for(var i=[],a=arguments.length;a--;)i[a]=arguments[a];if(n===null)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,i)}}e.exports=r.default})(Yu,Yu.exports);var Q8={exports:{}},Xu={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t={};r.default=t,e.exports=r.default})(Xu,Xu.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;var t=Xu.exports,n=i(t);function i(o){return o&&o.__esModule?o:{default:o}}function a(o,s,u,l){var c=!1,f=!1,h=!1,v=0,p=0;function g(){v>=s||h||c||(h=!0,o.next().then(function(E){var C=E.value,A=E.done;if(!(f||c)){if(h=!1,A){c=!0,v<=0&&l(null);return}v++,u(C,p,y),p++,g()}}).catch(m))}function y(E,C){if(v-=1,!f){if(E)return m(E);if(E===!1){c=!0,f=!0;return}if(C===n.default||c&&v<=0)return c=!0,l(null);g()}}function m(E){f||(h=!1,c=!0,l(E))}g()}e.exports=r.default}(Q8,Q8.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Wu.exports,n=v(t),i=q8.exports,a=v(i),o=Yu.exports,s=v(o),u=fi,l=Q8.exports,c=v(l),f=Xu.exports,h=v(f);function v(p){return p&&p.__esModule?p:{default:p}}r.default=function(p){return function(g,y,m){if(m=(0,n.default)(m),p<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!g)return m(null);if((0,u.isAsyncGenerator)(g))return(0,c.default)(g,p,y,m);if((0,u.isAsyncIterable)(g))return(0,c.default)(g[Symbol.asyncIterator](),p,y,m);var E=(0,a.default)(g),C=!1,A=!1,M=0,Z=!1;function Y(Ct,Pt){if(!A)if(M-=1,Ct)C=!0,m(Ct);else if(Ct===!1)C=!0,A=!0;else{if(Pt===h.default||C&&M<=0)return C=!0,m(null);Z||st()}}function st(){for(Z=!0;M<p&&!C;){var Ct=E();if(Ct===null){C=!0,M<=0&&m(null);return}M+=1,y(Ct.value,Ct.key,(0,s.default)(Y))}Z=!1}st()}},e.exports=r.default}($8,$8.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=$8.exports,n=u(t),i=fi,a=u(i),o=P1.exports,s=u(o);function u(c){return c&&c.__esModule?c:{default:c}}function l(c,f,h,v){return(0,n.default)(f)(c,(0,a.default)(h),v)}r.default=(0,s.default)(l,4),e.exports=r.default}(U3,U3.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=U3.exports,n=o(t),i=P1.exports,a=o(i);function o(u){return u&&u.__esModule?u:{default:u}}function s(u,l,c){return(0,n.default)(u,1,l,c)}r.default=(0,a.default)(s,3),e.exports=r.default}(X8,X8.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var t=z3.exports,n=o(t),i=X8.exports,a=o(i);function o(u){return u&&u.__esModule?u:{default:u}}function s(u,l){return(0,n.default)(a.default,u,l)}e.exports=r.default}(j8,j8.exports);var H3=G8(j8.exports),Oa=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var r=arguments,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return this.args=t,H3(this.tasks)},e.prototype.tap=function(r,t){var n=this;this.tasks.push(function(i){t.apply(void 0,Z3([],N3(n.args),!1)),i(null,r)})},e}(),J8={exports:{}},t9={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Gu.exports,n=y(t),i=Xu.exports,a=y(i),o=U3.exports,s=y(o),u=Wu.exports,l=y(u),c=Yu.exports,f=y(c),h=fi,v=y(h),p=P1.exports,g=y(p);function y(A){return A&&A.__esModule?A:{default:A}}function m(A,M,Z){Z=(0,l.default)(Z);var Y=0,st=0,Ct=A.length,Pt=!1;Ct===0&&Z(null);function Zt(ie,ce){ie===!1&&(Pt=!0),Pt!==!0&&(ie?Z(ie):(++st===Ct||ce===a.default)&&Z(null))}for(;Y<Ct;Y++)M(A[Y],Y,(0,f.default)(Zt))}function E(A,M,Z){return(0,s.default)(A,1/0,M,Z)}function C(A,M,Z){var Y=(0,n.default)(A)?m:E;return Y(A,(0,v.default)(M),Z)}r.default=(0,g.default)(C,3),e.exports=r.default})(t9,t9.exports),function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var t=t9.exports,n=o(t),i=z3.exports,a=o(i);function o(u){return u&&u.__esModule?u:{default:u}}function s(u,l){return(0,a.default)(n.default,u,l)}e.exports=r.default}(J8,J8.exports);var Jet=G8(J8.exports),Fht=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return Jet(this.tasks)},e.prototype.tapPromise=function(r,t){var n=this;this.tasks.push(function(i){return H8(n,void 0,void 0,function(){return V8(this,function(a){switch(a.label){case 0:return[4,t()];case 1:return a.sent(),i(null,r),[2]}})})})},e}(),e9={exports:{}};(function(e,r){Object.defineProperty(r,"__esModule",{value:!0});var t=Wu.exports,n=c(t),i=Yu.exports,a=c(i),o=fi,s=c(o),u=P1.exports,l=c(u);function c(h){return h&&h.__esModule?h:{default:h}}function f(h,v){if(v=(0,n.default)(v),!Array.isArray(h))return v(new Error("First argument to waterfall must be an array of functions"));if(!h.length)return v();var p=0;function g(m){var E=(0,s.default)(h[p++]);E.apply(void 0,m.concat([(0,a.default)(y)]))}function y(m){for(var E=[],C=arguments.length-1;C-- >0;)E[C]=arguments[C+1];if(m!==!1){if(m||p===h.length)return v.apply(void 0,[m].concat(E));g(E)}}g([])}r.default=(0,l.default)(f),e.exports=r.default})(e9,e9.exports);var mE=G8(e9.exports),kht=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return mE(this.tasks)},e.prototype.tap=function(r,t){this.tasks.length===0?this.tasks.push(function(n){var i=t();n(i?null:!1,i)}):this.tasks.push(function(n,i){var a=t.apply(void 0,Z3([],N3(n),!1));i(a?null:!1,r)})},e}(),xE=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return H3(this.tasks)},e.prototype.tap=function(r,t){this.tasks.push(function(n){var i=t();n(i,r)})},e}(),trt=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var r=arguments,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return this.args=t,H3(this.tasks)},e.prototype.tapPromise=function(r,t){var n=this;this.tasks.push(function(i){return H8(n,void 0,void 0,function(){return V8(this,function(a){switch(a.label){case 0:return[4,t.apply(void 0,Z3([],N3(this.args),!1))];case 1:return a.sent(),i(null,r),[2]}})})})},e}(),ert=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var r=arguments,t=[],n=0;n<arguments.length;n++)t[n]=r[n];return this.args=t,H3(this.tasks)},e.prototype.tapPromise=function(r,t){var n=this;this.tasks.push(function(i){return H8(n,void 0,void 0,function(){var a;return V8(this,function(o){switch(o.label){case 0:return[4,t.apply(void 0,Z3([],N3(this.args),!1))];case 1:return a=o.sent(),i(a,r),[2]}})})})},e}(),rrt=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return mE(this.tasks)},e.prototype.tapPromise=function(r,t){this.tasks.length===0?this.tasks.push(function(n){t().then(function(i){n(null,i)})}):this.tasks.push(function(n,i){t(n).then(function(a){i(null,a)})})},e}(),_E=F(73827),nrt=F.n(_E),EE,CE,SE,bE,AE,ME,TE,wE,FE,kE,OE,LE,IE,PE,RE,DE,BE,NE,wn,ZE,zE,UE,HE,VE,GE,jE,WE,YE,XE,$E,qE,KE,QE,JE,tC;function irt(e){var r=art();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function art(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var ort=(EE=(0,Ze.b2)(),CE=(0,Ze.f3)(ve.SceneID),SE=(0,Ze.f3)(ve.IIconService),bE=(0,Ze.f3)(ve.IFontService),AE=(0,Ze.f3)(ve.IControlService),ME=(0,Ze.f3)(ve.IGlobalConfigService),TE=(0,Ze.f3)(ve.IMapService),wE=(0,Ze.f3)(ve.ICoordinateSystemService),FE=(0,Ze.f3)(ve.IRendererService),kE=(0,Ze.f3)(ve.ILayerService),OE=(0,Ze.f3)(ve.IDebugService),LE=(0,Ze.f3)(ve.ICameraService),IE=(0,Ze.f3)(ve.IInteractionService),PE=(0,Ze.f3)(ve.IPickingService),RE=(0,Ze.f3)(ve.IShaderModuleService),DE=(0,Ze.f3)(ve.IMarkerService),BE=(0,Ze.f3)(ve.IPopupService),EE(NE=(wn=function(e){(0,ze.Z)(t,e);var r=irt(t);function t(){var n;return(0,ge.Z)(this,t),n=r.call(this),(0,S.Z)((0,Qt.Z)(n),"destroyed",!1),(0,S.Z)((0,Qt.Z)(n),"loaded",!1),dr((0,Qt.Z)(n),"id",ZE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"iconService",zE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"fontService",UE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"controlService",HE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"configService",VE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"map",GE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"coordinateSystemService",jE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"rendererService",WE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"layerService",YE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"debugService",XE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"cameraService",$E,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"interactionService",qE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"pickingService",KE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"shaderModuleService",QE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"markerService",JE,(0,Qt.Z)(n)),dr((0,Qt.Z)(n),"popupService",tC,(0,Qt.Z)(n)),(0,S.Z)((0,Qt.Z)(n),"inited",!1),(0,S.Z)((0,Qt.Z)(n),"initPromise",void 0),(0,S.Z)((0,Qt.Z)(n),"rendering",!1),(0,S.Z)((0,Qt.Z)(n),"$container",void 0),(0,S.Z)((0,Qt.Z)(n),"canvas",void 0),(0,S.Z)((0,Qt.Z)(n),"markerContainer",void 0),(0,S.Z)((0,Qt.Z)(n),"hooks",void 0),(0,S.Z)((0,Qt.Z)(n),"handleWindowResized",function(){n.emit("resize"),n.$container&&(n.initContainer(),sQ(),n.coordinateSystemService.needRefresh=!0,n.render())}),(0,S.Z)((0,Qt.Z)(n),"handleMapCameraChanged",function(i){n.cameraService.update(i),n.render()}),n.hooks={init:new trt},n}return(0,ye.Z)(t,[{key:"init",value:function(i){var a=this;this.configService.setSceneConfig(this.id,i),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",function(){return a.render()}),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,xe.Z)(zt().mark(function o(){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a.debugService.log("map.mapInitStart",{type:a.map.version}),u.next=3,new Promise(function(l){a.map.onCameraChanged(function(c){a.cameraService.init(),a.cameraService.update(c),l()}),a.map.init()});case 3:a.map.onCameraChanged(a.handleMapCameraChanged),a.map.addMarkerContainer(),a.markerService.addMarkers(),a.markerService.addMarkerLayers(),a.popupService.initPopup(),a.interactionService.init(),a.interactionService.on(Rn.Drag,a.addSceneEvent.bind(a));case 10:case"end":return u.stop()}},o)}))),this.hooks.init.tapPromise("initRenderer",(0,xe.Z)(zt().mark(function o(){var s,u;return zt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s=a.map.getOverlayContainer(),s?a.$container=s:a.$container=wet(a.configService.getSceneConfig(a.id).id||""),!a.$container){c.next=13;break}return a.canvas=Er("canvas","",a.$container),a.setCanvas(),c.next=7,a.rendererService.init(a.canvas,a.configService.getSceneConfig(a.id),i.gl);case 7:a.registerContextLost(),a.initContainer(),nrt()(a.$container,a.handleWindowResized),Br.matchMedia&&((u=Br.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))===null||u===void 0||u.addListener(a.handleWindowResized)),c.next=14;break;case 13:console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");case 14:a.pickingService.init(a.id);case 15:case"end":return c.stop()}},o)}))),this.render()}},{key:"registerContextLost",value:function(){var i=this,a=this.rendererService.getCanvas();a&&a.addEventListener("webglcontextlost",function(){return i.emit("webglcontextlost")})}},{key:"initMiniScene",value:function(i){var a=this;this.configService.setSceneConfig(this.id,i),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",function(){return a.render()}),this.fontService.init(),this.hooks.init.tapPromise("initMap",(0,xe.Z)(zt().mark(function o(){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,new Promise(function(l){a.map.onCameraChanged(function(c){a.cameraService.init(),a.cameraService.update(c),a.map.version!=="GAODE2.x"&&l()}),a.map.initMiniMap()});case 2:a.map.onCameraChanged(a.handleMapCameraChanged),a.interactionService.init(),a.interactionService.on(Rn.Drag,a.addSceneEvent.bind(a));case 5:case"end":return u.stop()}},o)}))),this.hooks.init.tapPromise("initRenderer",(0,xe.Z)(zt().mark(function o(){var s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=i.canvas,a.$container=s||null,!a.$container){l.next=7;break}return l.next=5,a.rendererService.init(i.canvas,a.configService.getSceneConfig(a.id),void 0);case 5:l.next=8;break;case 7:console.error("\u5BB9\u5668 id \u4E0D\u5B58\u5728");case 8:a.pickingService.init(a.id);case 9:case"end":return l.stop()}},o)}))),this.initPromise=this.hooks.init.promise(),this.render()}},{key:"addLayer",value:function(i){this.layerService.sceneService=this,this.layerService.add(i)}},{key:"addMask",value:function(i){this.layerService.sceneService=this,this.layerService.addMask(i)}},{key:"render",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this.rendering||this.destroyed)){s.next=2;break}return s.abrupt("return");case 2:if(this.rendering=!0,this.inited){s.next=16;break}return s.next=6,this.hooks.init.promise();case 6:return this.destroyed&&this.destroy(),s.next=9,this.layerService.initLayers();case 9:this.layerService.renderLayers(),this.controlService.addControls(),this.loaded=!0,this.emit("loaded"),this.inited=!0,s.next=20;break;case 16:return s.next=18,this.layerService.initLayers();case 18:return s.next=20,this.layerService.renderLayers();case 20:this.rendering=!1;case 21:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"addFontFace",value:function(i,a){this.fontService.addFontFace(i,a)}},{key:"getSceneContainer",value:function(){return this.$container}},{key:"exportPng",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u=(s=this.$container)===null||s===void 0?void 0:s.getElementsByTagName("canvas")[0],f.next=3,this.render();case 3:return l=o==="jpg"?u==null?void 0:u.toDataURL("image/jpeg"):u==null?void 0:u.toDataURL("image/png"),f.abrupt("return",l);case 5:case"end":return f.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"getSceneConfig",value:function(){return this.configService.getSceneConfig(this.id)}},{key:"getPointSizeRange",value:function(){return this.rendererService.getPointSizeRange()}},{key:"addMarkerContainer",value:function(){var i=this.$container.parentElement;i!==null&&(this.markerContainer=Er("div","l7-marker-container",i))}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"destroy",value:function(){var i=this,a,o;if(!this.inited){this.destroyed=!0;return}if((0,_E.unbind)(this.$container,this.handleWindowResized),Br.matchMedia){var s;(s=Br.matchMedia("screen and (min-resolution: 2dppx)"))===null||s===void 0||s.removeListener(this.handleWindowResized)}this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(function(){var u;(u=i.$container)===null||u===void 0||u.removeChild(i.canvas),i.canvas=null,i.rendererService.destroy()}),(a=this.$container)===null||a===void 0||(o=a.parentNode)===null||o===void 0||o.removeChild(this.$container),this.emit("destroy")}},{key:"initContainer",value:function(){var i,a,o=ln,s=((i=this.$container)===null||i===void 0?void 0:i.clientWidth)||400,u=((a=this.$container)===null||a===void 0?void 0:a.clientHeight)||300,l=this.canvas;l&&(l.width=s*o,l.height=u*o),this.rendererService.viewport({x:0,y:0,width:o*s,height:o*u})}},{key:"setCanvas",value:function(){var i,a,o=ln,s=((i=this.$container)===null||i===void 0?void 0:i.clientWidth)||400,u=((a=this.$container)===null||a===void 0?void 0:a.clientHeight)||300,l=this.canvas;l.width=s*o,l.height=u*o,l.style.width="100%",l.style.height="100%"}},{key:"addSceneEvent",value:function(i){this.emit(i.type,i)}}]),t}(Vn.EventEmitter),ZE=vr(wn.prototype,"id",[CE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zE=vr(wn.prototype,"iconService",[SE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),UE=vr(wn.prototype,"fontService",[bE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),HE=vr(wn.prototype,"controlService",[AE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),VE=vr(wn.prototype,"configService",[ME],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),GE=vr(wn.prototype,"map",[TE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jE=vr(wn.prototype,"coordinateSystemService",[wE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),WE=vr(wn.prototype,"rendererService",[FE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),YE=vr(wn.prototype,"layerService",[kE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),XE=vr(wn.prototype,"debugService",[OE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$E=vr(wn.prototype,"cameraService",[LE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qE=vr(wn.prototype,"interactionService",[IE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),KE=vr(wn.prototype,"pickingService",[PE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),QE=vr(wn.prototype,"shaderModuleService",[RE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),JE=vr(wn.prototype,"markerService",[DE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),tC=vr(wn.prototype,"popupService",[BE],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wn))||NE);function srt(e){var r=0;switch(e){case"vec2":case"ivec2":r=2;break;case"vec3":case"ivec3":r=3;break;case"vec4":case"ivec4":case"mat2":r=4;break;case"mat3":r=9;break;case"mat4":r=16;break;default:}return r}var urt=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function eC(e){var r={};return e=e.replace(urt,function(t,n,i){var a=i.split(":"),o=a[0].trim(),s="";switch(a.length>1&&(s=a[1].trim()),n){case"bool":s=s==="true";break;case"float":case"int":s=Number(s);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":s?s=s.replace("[","").replace("]","").split(",").reduce(function(u,l){return u.push(Number(l.trim())),u},[]):s=new Array(srt(n)).fill(0);break;default:}return r[o]=s,"uniform ".concat(n," ").concat(o,`;
`)}),{content:e,uniforms:r}}var rC,nC,iC="#define PI 3.14159265359",lrt=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,crt=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,frt=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}

// vec3 calc_spot_light(SpotLight light, vec3 normal, vec3 fragPos, vec3 viewDir) {
//   vec3 lightDir = normalize(light.position - fragPos);
//   // diffuse shading
//   float diff = max(dot(normal, lightDir), 0.0);
//   // specular shading
//   vec3 reflectDir = reflect(-lightDir, normal);
//   float spec = pow(max(dot(viewDir, reflectDir), 0.0), SHININESS);
//   // attenuation
//   float distance = length(light.position - fragPos);
//   float attenuation = 1.0 / (light.constant + light.linear * distance +
//           light.quadratic * (distance * distance));

//   vec3 ambient = light.ambient * u_Ambient;
//   vec3 diffuse = light.diffuse * diff * u_Diffuse;
//   vec3 specular = light.specular * spec * u_Specular;

//   float spotEffect = dot(normalize(light.direction), -lightDir);
//   float spotCosCutoff = cos(light.angle / 180.0 * PI);
//   float spotCosOuterCutoff = cos((light.angle + light.blur) / 180.0 * PI);
//   float spotCosInnerCutoff = cos((light.angle - light.blur) / 180.0 * PI);
//   if (spotEffect > spotCosCutoff) {
//     spotEffect = pow(smoothstep(spotCosOuterCutoff, spotCosInnerCutoff, spotEffect), light.exponent);
//   } else {
//     spotEffect = 0.0;
//   }

//   return ambient + attenuation * (spotEffect * diffuse + specular);
// }

vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  // for (int i = 0; i < MAX_NUM_OF_SPOT_LIGHTS; i++) {
  //   if (i >= u_NumOfSpotLights) {
  //     break;
  //   }
  //   weight += calc_spot_light(u_SpotLights[i], normal, position, viewDir);
  // }
  return weight;
}
`,hrt=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform vec4 u_SelectColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_shaderPick;

uniform float u_activeMix: 0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define HIGHLIGHT 1.0
#define SELECT 2.0

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  // float selected = v_PickingResult.a;
  bool selected = bool(v_PickingResult.a);

  // if (selected == SELECT) {
  if (selected) {
  //   // \u70B9\u51FB\u9009\u4E2D\u72B6\u6001
  //   vec4 selectColor = u_SelectColor * COLOR_SCALE;
  //   return selectColor;
  // } else if (selected == HIGHLIGHT) {
  //   // hover \u9AD8\u4EAE\u72B6\u6001
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }
  
}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // \u8FC7\u6EE4\u591A\u4F59\u7684 shader \u8BA1\u7B97
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // \u6682\u65F6\u53BB\u9664 \u76F4\u63A5\u53D6\u6D88\u8BA1\u7B97\u5728\u9009\u4E2D\u65F6\u62D6\u62FD\u5730\u56FE\u4F1A\u6709\u95EE\u9898
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,vrt=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec3 u_CurrentSelectedId : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform vec4 u_SelectColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;
uniform float u_shaderPick;
uniform float u_EnableSelect: 0.0;

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

// \u5224\u65AD\u5F53\u524D\u70B9\u662F\u5426\u5DF2\u7ECF\u88AB select \u9009\u4E2D
bool isVertexSelected(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_CurrentSelectedId.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_CurrentSelectedId.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_CurrentSelectedId.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // if (u_EnableSelect == 1.0 && u_PickingStage == PICKING_HIGHLIGHT && isVertexSelected(pickingColor)) {
  //   // \u9009\u4E2D\u6001
  //   v_PickingResult.a = SELECT;
  // } else if (u_PickingStage == PICKING_HIGHLIGHT && isVertexPicked(pickingColor)) {
  //   // \u9AD8\u4EAE\u6001
  //   v_PickingResult.a = HIGHLIGHT;
  // } else {
  //   v_PickingResult.a = NORMAL;
  // }

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,prt=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // \u7ECF\u7EAC\u5EA6 => \u5E73\u9762\u5750\u6807
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // \u5E73\u9762\u5750\u6807 => \u7ECF\u7EAC\u5EA6
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,drt=`#define TILE_SIZE 512.0
#define PI 3.1415926536
#define WORLD_SCALE TILE_SIZE / (PI * 2.0)

#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0           // amap
#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0

uniform mat4 u_ViewMatrix;
uniform mat4 u_ProjectionMatrix;
uniform mat4 u_ViewProjectionMatrix;
uniform float u_Zoom : 1;
uniform float u_ZoomScale : 1;

uniform float u_CoordinateSystem;
uniform vec2 u_ViewportCenter;
uniform vec4 u_ViewportCenterProjection;
uniform vec3 u_PixelsPerDegree;
uniform vec3 u_PixelsPerDegree2;
uniform vec3 u_PixelsPerMeter;

uniform vec2 u_ViewportSize;
uniform float u_DevicePixelRatio;
uniform float u_FocalDistance;
uniform vec3 u_CameraPosition;

// uniform mat4 u_Mvp;

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(
    radians(x) + PI,
    PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5))
  );
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}


// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1., 1.);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01
    || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}
// || u_CoordinateSystem < COORDINATE_SYSTEM_P20_OFFSET + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_P20_OFFSET - 0.01
// reverse Y
vec3 reverse_offset_normal(vec3 vector) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 ||u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET ) {
    return vector * vec3(1.0, -1.0, 1.0);
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.0
    return vector;
  }
  return vector;
}

vec4 project_mvt_offset_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    return project_offset(vec4(0.0, 0.0, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }
  return position;
}

vec4 project_position(vec4 position) {
  float a = COORDINATE_SYSTEM_LNGLAT_OFFSET;
  float b = COORDINATE_SYSTEM_P20_OFFSET;
  float c = COORDINATE_SYSTEM_LNGLAT;
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(vec4(X, Y, position.z, position.w));
  }
  if (u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 && u_CoordinateSystem >COORDINATE_SYSTEM_LNGLAT - 0.01) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return vec4(
      (project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale - vec2(215440491., 106744817.)) * vec2(1., -1.),
      project_scale(position.z),
      position.w
    );
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // return vec4(
    //   (position.xy * WORLD_SCALE * u_ZoomScale) * vec2(1., -1.), 
    //   project_scale(position.z), 
    //   position.w);

     return vec4(
      position.xy, 
      project_scale(position.z), 
      position.w);
  }
  return position;

  // TODO: \u74E6\u7247\u5750\u6807\u7CFB & \u5E38\u89C4\u4E16\u754C\u5750\u6807\u7CFB
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

float project_pixel_allmap(float pixel) {
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
    return pixel * pow(2.0, u_Zoom);
  }
  return pixel * u_FocalDistance ;
}

// \u9002\u914D\u7EB9\u7406\u8D34\u56FE\u7684\u7B49\u50CF\u7D20\u5927\u5C0F
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance ;
  }

  // amap2 zoom > 12
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;
  }

  // amap zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    return pixel * pow(0.5, u_Zoom)* u_FocalDistance ;
  }
  
  // amap zoom < 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20) {
    return pixel * pow(2.0, (20.0 - u_Zoom))* u_FocalDistance ;
  }
  return pixel * 2.0 *  u_FocalDistance;;
}

// \u5728\u4E0D\u8BBA\u4EC0\u4E48\u5E95\u56FE\u4E0B\u9700\u8981\u7EDF\u4E00\u5904\u7406\u7684\u65F6\u5019\u4F7F\u7528
float project_float_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // mapbox P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom))  * u_FocalDistance ;
  }
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // amap P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom));
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // amap2 P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))* u_FocalDistance ;
  }
  return pixel * u_FocalDistance;
}

float project_pixel(float pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // amap P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // amap2 P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;
  }
  return pixel * u_FocalDistance;
}
vec2 project_pixel(vec2 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom)) * u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom)) * u_FocalDistance ;
  }
  return pixel * -1. * u_FocalDistance;
}
vec3 project_pixel(vec3 pixel) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
    // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
    return pixel * pow(2.0, (19.0 - u_Zoom)) *  u_FocalDistance ;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
    return pixel * pow(2.0, (19.0 - 3.0 - u_Zoom))  * u_FocalDistance ;
  }
  return pixel * -1. * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    // Needs to be divided with project_uCommonUnitsPerMeter
     pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}


bool isEqual( float a,  float b) {
    return  a< b + 0.001 && a > b - 0.001;
}`,grt=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,yrt=`attribute float a_vertexId;

uniform mat4 u_cellTypeLayout;      // \u63CF\u8FF0\u6570\u636E\u7EB9\u7406 cell \u7ED3\u6784\u7684\u77E9\u9635
uniform sampler2D u_dataTexture;    // \u6570\u636E\u7EB9\u7406

bool hasOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 opacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeOpacity() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeOpacity \u7684\u6570\u636E
  return u_cellTypeLayout[1][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStrokeWidth() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 strokeWidth \u7684\u6570\u636E
  return u_cellTypeLayout[1][2] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasStroke() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 stroke \u7684\u6570\u636E
  return u_cellTypeLayout[1][3] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasOffsets() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 offsets \u7684\u6570\u636E
  return u_cellTypeLayout[2][0] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

bool hasThetaOffset() { // \u5224\u65AD cell \u4E2D\u662F\u5426\u5B58\u5728 thetaOffset \u7684\u6570\u636E
  return u_cellTypeLayout[2][1] > 0.0 && u_cellTypeLayout[3][3] > 0.0;
}

// \u6839\u636E\u5750\u6807\u4F4D\u7F6E\u5148\u662F\u8BA1\u7B97 uv \uFF0C\u7136\u540E\u6839\u636E uv \u4ECE\u6570\u636E\u7EB9\u7406\u4E2D\u53D6\u503C
float pos2value(vec2 pos, float columnWidth, float rowHeight) {
  float u = (pos.r - 1.0) * columnWidth + columnWidth/2.0;
  float v = 1.0 - ((pos.g - 1.0) * rowHeight + rowHeight/2.0);
  return texture2D(u_dataTexture, vec2(u, v)).r;
}

/*
  currentRow \u5F53\u524D\u884C
  currentColumn \u5F53\u524D\u5217
  columnCount \u6709\u591A\u5C11\u5217
  nextStep \u9700\u8981\u8BA1\u7B97\u5F53\u524D cell \u540E\u7684\u7B2C\u51E0\u4E2A cell \uFF08\u5F53\u524D cell \u5219 nextStep = 0\uFF09
*/
vec2 nextPos(float currentRow, float currentColumn, float columnCount, float nextStep) {
  float nextColumn = currentColumn;
  float nextRow = currentRow;
  if(currentColumn + nextStep <= columnCount){
    nextColumn = currentColumn + nextStep;
  } else {
    nextColumn = mod(currentColumn + nextStep, columnCount); // \u4E0D\u4F1A\u51FA\u73B0\u8DE8\u4E24\u884C
    nextRow = currentRow + 1.0;
  }
  return vec2(nextColumn, nextRow);
}

// \u8BA1\u7B97\u5F53\u524D\u5355\u4E2A cell \u7684\u5927\u5C0F
float calCellCount() { 
  //   u_cellTypeLayout
  //   cal_height, WIDTH, 0.0, 0.0, // rowCount columnCount - \u51E0\u884C\u51E0\u5217
  //   1.0, 1.0, 1.0, 0.0, // opacity strokeOpacity strokeWidth stroke - 1.0 \u8868\u793A\u6709\u6570\u636E\u6620\u5C04\u30010.0 \u8868\u793A\u6CA1\u6709
  //   1.0, 1.0, 0.0, 0.0, // offsets thetaOffset
  //   0.0, 0.0, 0.0, 0.0
  
  return  u_cellTypeLayout[1][0] +        // opacity
          u_cellTypeLayout[1][1] +        // strokeOpacity
          u_cellTypeLayout[1][2] +        // strokeWidth
          u_cellTypeLayout[1][3] * 4.0 +  // stroke
          u_cellTypeLayout[2][0] * 2.0 +  // offsets
          u_cellTypeLayout[2][1];         // thetaOffset
}`,mrt=`
// \u8BA1\u7B97 opacity \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasOpacity()) { // \u6570\u636E\u7EB9\u7406\u4E2D\u4E0D\u5B58\u5728 opacity \u7684\u65F6\u5019\u53D6\u9ED8\u8BA4\u503C\uFF08\u7528\u6237\u5728 style \u4E2D\u4F20\u5165\u7684\u662F\u5E38\u91CF\uFF09
    return vec2(u_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureOpacity, textureOffset + 1.0);
  }
}
`,xrt=`
// \u8BA1\u7B97 strokeOpaicty \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeOpacityAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeOpacity()) {
    return vec2(u_stroke_opacity, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeOpacity = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeOpacity, textureOffset + 1.0);
  }
}
`,_rt=`
// \u8BA1\u7B97 strokeWidth \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calStrokeWidthAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasStrokeWidth()) {
    return vec2(u_stroke_width, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureStrokeWidth = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureStrokeWidth, textureOffset + 1.0);
  }
}
`,Ert=`
// \u8BA1\u7B97 thetaOffset \u548C\u6807\u793A\u5728 cell \u4E2D\u53D6\u503C\u4F4D\u7F6E\u7684\u504F\u79FB\u91CF textureOffset
vec2 calThetaOffsetAndOffset(float cellCurrentRow, float cellCurrentColumn, float columnCount, float textureOffset, float columnWidth, float rowHeight) {
  if(!hasThetaOffset()) { // \u6570\u636E\u7EB9\u7406\u4E2D\u4E0D\u5B58\u5728 thetaOffset \u7684\u65F6\u5019\u53D6\u9ED8\u8BA4\u503C\uFF08\u7528\u6237\u5728 style \u4E2D\u4F20\u5165\u7684\u662F\u5E38\u91CF\uFF09
    return vec2(u_thetaOffset, textureOffset);
  } else {
    vec2 valuePos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    float textureThetaOffset = pos2value(valuePos, columnWidth, rowHeight);
    return vec2(textureThetaOffset, textureOffset + 1.0);
  }
}
`,Crt=/precision\s+(high|low|medium)p\s+float/,Srt=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,brt=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,Art=(rC=(0,Ze.b2)(),rC(nC=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"moduleCache",{}),(0,S.Z)(this,"rawContentCache",{})}return(0,ye.Z)(e,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("common",{vs:iC,fs:iC}),this.registerModule("decode",{vs:lrt,fs:""}),this.registerModule("projection",{vs:drt,fs:""}),this.registerModule("project",{vs:prt,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:grt}),this.registerModule("lighting",{vs:frt,fs:""}),this.registerModule("light",{vs:crt,fs:""}),this.registerModule("picking",{vs:vrt,fs:hrt}),this.registerModule("styleMapping",{vs:yrt,fs:""}),this.registerModule("styleMappingCalThetaOffset",{vs:Ert,fs:""}),this.registerModule("styleMappingCalOpacity",{vs:mrt,fs:""}),this.registerModule("styleMappingCalStrokeOpacity",{vs:xrt,fs:""}),this.registerModule("styleMappingCalStrokeWidth",{vs:_rt,fs:""})}},{key:"registerModule",value:function(t,n){if(!this.rawContentCache[t]){var i=n.vs,a=n.fs,o=n.uniforms,s=eC(i),u=s.content,l=s.uniforms,c=eC(a),f=c.content,h=c.uniforms;this.rawContentCache[t]={fs:f,uniforms:(0,H.Z)((0,H.Z)((0,H.Z)({},l),h),o),vs:u}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(t){var n=this;if(this.moduleCache[t])return this.moduleCache[t];var i=this.rawContentCache[t].vs,a=this.rawContentCache[t].fs,o=this.processModule(i,[],"vs"),s=o.content,u=o.includeList,l=this.processModule(a,[],"fs"),c=l.content,f=l.includeList,h=c,v=(0,Te.uniq)(u.concat(f).concat(t)).reduce(function(p,g){return(0,H.Z)((0,H.Z)({},p),n.rawContentCache[g].uniforms)},{});return Crt.test(c)||(h=Srt+c),this.moduleCache[t]={fs:h.trim(),uniforms:v,vs:s.trim()},this.moduleCache[t]}},{key:"processModule",value:function(t,n,i){var a=this,o=t.replace(brt,function(s,u){var l=u.split(" "),c=l[0].replace(/"/g,"");if(n.indexOf(c)>-1)return"";var f=a.rawContentCache[c][i];n.push(c);var h=a.processModule(f,n,i),v=h.content;return v});return{content:o,includeList:n}}}]),e}())||nC);function Mrt(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=(0,ne.Z)(e),e!==null););return e}function Tr(){return typeof Reflect!="undefined"&&Reflect.get?Tr=Reflect.get.bind():Tr=function(r,t,n){var i=Mrt(r,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Tr.apply(this,arguments)}var Uo;(function(e){e.Normal="normal",e.PostProcessing="post-processing"})(Uo||(Uo={}));var aC,oC,V3=(aC=(0,Ze.b2)(),aC(oC=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"shaderModuleService",void 0),(0,S.Z)(this,"rendererService",void 0),(0,S.Z)(this,"cameraService",void 0),(0,S.Z)(this,"mapService",void 0),(0,S.Z)(this,"interactionService",void 0),(0,S.Z)(this,"layerService",void 0),(0,S.Z)(this,"config",void 0)}return(0,ye.Z)(e,[{key:"getName",value:function(){return""}},{key:"getType",value:function(){return Uo.Normal}},{key:"init",value:function(t,n){this.config=n,this.rendererService=t.getContainer().get(ve.IRendererService),this.cameraService=t.getContainer().get(ve.ICameraService),this.mapService=t.getContainer().get(ve.IMapService),this.interactionService=t.getContainer().get(ve.IInteractionService),this.layerService=t.getContainer().get(ve.ILayerService),this.shaderModuleService=t.getContainer().get(ve.IShaderModuleService)}},{key:"render",value:function(t){}}]),e}())||oC),sC,uC;function Trt(e){var r=wrt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function wrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Frt=(sC=(0,Ze.b2)(),sC(uC=function(e){(0,ze.Z)(t,e);var r=Trt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getName",value:function(){return"clear"}},{key:"init",value:function(i,a){Tr((0,ne.Z)(t.prototype),"init",this).call(this,i,a)}},{key:"render",value:function(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}]),t}(V3))||uC),lC,cC,fC,r9,hC;function krt(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Ort(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function Ort(e,r){if(e){if(typeof e=="string")return vC(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vC(e,r)}}function vC(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Lrt=(lC=(0,Ze.b2)(),cC=(0,Ze.f3)(ve.IPostProcessor),lC(fC=(r9=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"passes",[]),dr(this,"postProcessor",hC,this),(0,S.Z)(this,"layer",void 0),(0,S.Z)(this,"renderFlag",void 0),(0,S.Z)(this,"width",0),(0,S.Z)(this,"height",0)}return(0,ye.Z)(e,[{key:"setLayer",value:function(t){this.layer=t}},{key:"setRenderFlag",value:function(t){this.renderFlag=t}},{key:"getRenderFlag",value:function(){return this.renderFlag}},{key:"getPostProcessor",value:function(){return this.postProcessor}},{key:"render",value:function(){var r=(0,xe.Z)(zt().mark(function n(){var i,a,o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:i=krt(this.passes),u.prev=1,i.s();case 3:if((a=i.n()).done){u.next=9;break}return o=a.value,u.next=7,o.render(this.layer);case 7:u.next=3;break;case 9:u.next=14;break;case 11:u.prev=11,u.t0=u.catch(1),i.e(u.t0);case 14:return u.prev=14,i.f(),u.finish(14);case 17:return u.next=19,this.postProcessor.render(this.layer);case 19:case"end":return u.stop()}},n,this,[[1,11,14,17]])}));function t(){return r.apply(this,arguments)}return t}()},{key:"resize",value:function(t,n){(this.width!==t||this.height!==n)&&(this.postProcessor.resize(t,n),this.width=t,this.height=n)}},{key:"add",value:function(t,n){t.getType()===Uo.PostProcessing?this.postProcessor.add(t,this.layer,n):(t.init(this.layer,n),this.passes.push(t))}},{key:"insert",value:function(t,n,i){t.init(this.layer,n),this.passes.splice(i,0,t)}},{key:"destroy",value:function(){this.passes.length=0}}]),e}(),hC=vr(r9.prototype,"postProcessor",[cC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r9))||fC),pC,dC;function Irt(e){var r=Prt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Prt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Rrt=(pC=(0,Ze.b2)(),pC(dC=function(e){(0,ze.Z)(t,e);var r=Irt(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"pickingFBO",void 0),(0,S.Z)((0,Qt.Z)(n),"layer",void 0),(0,S.Z)((0,Qt.Z)(n),"width",0),(0,S.Z)((0,Qt.Z)(n),"height",0),(0,S.Z)((0,Qt.Z)(n),"alreadyInRendering",!1),(0,S.Z)((0,Qt.Z)(n),"pickFromPickingFBO",function(s){var u=s.x,l=s.y,c=s.lngLat,f=s.type;if(!(!n.layer.isVisible()||!n.layer.needPick(f))){var h=n.rendererService,v=h.getViewportSize,p=h.readPixels,g=h.useFramebuffer,y=v(),m=y.width,E=y.height,C=n.layer.getLayerConfig(),A=C.enableHighlight,M=C.enableSelect,Z=u*ln,Y=l*ln;if(!(Z>m||Z<0||Y>E||Y<0)){var st;g(n.pickingFBO,function(){var Ct;if(st=p({x:Math.round(Z),y:Math.round(E-(l+1)*ln),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:n.pickingFBO}),st[0]!==0||st[1]!==0||st[2]!==0){var Pt=M1(st),Zt=n.layer.getSource().getFeatureById(Pt),ie={x:u,y:l,type:f,lngLat:c,featureId:Pt,feature:Zt};Zt&&(n.layer.setCurrentPickId(Pt),n.triggerHoverOnLayer(ie))}else{var ce={x:u,y:l,lngLat:c,type:n.layer.getCurrentPickId()===null?"un"+f:"mouseout",featureId:null,feature:null};n.triggerHoverOnLayer((0,H.Z)((0,H.Z)({},ce),{},{type:"unpick"})),n.triggerHoverOnLayer(ce),n.layer.setCurrentPickId(null)}A&&n.highlightPickedFeature(st),M&&f==="click"&&((Ct=st)===null||Ct===void 0?void 0:Ct.toString())!==[0,0,0,0].toString()&&n.selectFeature(st)})}}}),n}return(0,ye.Z)(t,[{key:"getType",value:function(){return Uo.Normal}},{key:"getName",value:function(){return"pixelPicking"}},{key:"init",value:function(i,a){Tr((0,ne.Z)(t.prototype),"init",this).call(this,i,a),this.layer=i;var o=this.rendererService,s=o.createTexture2D,u=o.createFramebuffer,l=o.getViewportSize,c=l(),f=c.width,h=c.height;this.pickingFBO=u({color:s({width:f,height:h,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.interactionService.on(Rn.Hover,this.pickFromPickingFBO),this.interactionService.on(Rn.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(Rn.Active,this.highlightFeatureHandle.bind(this))}},{key:"render",value:function(i){var a=this;if(!this.alreadyInRendering){var o=this.rendererService,s=o.getViewportSize,u=o.useFramebuffer,l=o.clear,c=s(),f=c.width,h=c.height;this.alreadyInRendering=!0,(this.width!==f||this.height!==h)&&(this.pickingFBO.resize({width:f,height:h}),this.width=f,this.height=h),u(this.pickingFBO,function(){l({framebuffer:a.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var v=a.layer.multiPassRenderer.getRenderFlag();a.layer.multiPassRenderer.setRenderFlag(!1),i.hooks.beforePickingEncode.call(),i.render(),i.hooks.afterPickingEncode.call(),a.layer.multiPassRenderer.setRenderFlag(v),a.alreadyInRendering=!1})}}},{key:"triggerHoverOnLayer",value:function(i){this.layer.emit(i.type,i)}},{key:"highlightPickedFeature",value:function(i){var a=(0,nr.Z)(i,3),o=a[0],s=a[1],u=a[2];this.layer.hooks.beforeHighlight.call([o,s,u]),this.layerService.renderLayers()}},{key:"selectFeature",value:function(i){var a=(0,nr.Z)(i,3),o=a[0],s=a[1],u=a[2];this.layer.hooks.beforeSelect.call([o,s,u]),this.layerService.renderLayers()}},{key:"selectFeatureHandle",value:function(i){var a=i.featureId,o=Ja(a);this.selectFeature(new Uint8Array(o))}},{key:"highlightFeatureHandle",value:function(i){var a=i.featureId,o=Ja(a);this.highlightPickedFeature(new Uint8Array(o))}}]),t}(V3))||dC),gC,yC,mC,n9,xC,Drt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,io=(gC=(0,Ze.b2)(),yC=(0,Ze.f3)(ve.IShaderModuleService),gC(mC=(n9=function(){function e(){(0,ge.Z)(this,e),dr(this,"shaderModuleService",xC,this),(0,S.Z)(this,"rendererService",void 0),(0,S.Z)(this,"config",void 0),(0,S.Z)(this,"quad",Drt),(0,S.Z)(this,"enabled",!0),(0,S.Z)(this,"renderToScreen",!1),(0,S.Z)(this,"model",void 0),(0,S.Z)(this,"name",void 0),(0,S.Z)(this,"optionsToUpdate",{})}return(0,ye.Z)(e,[{key:"getName",value:function(){return this.name}},{key:"setName",value:function(t){this.name=t}},{key:"getType",value:function(){return Uo.PostProcessing}},{key:"init",value:function(t,n){this.config=n,this.rendererService=t.getContainer().get(ve.IRendererService),this.shaderModuleService=t.getContainer().get(ve.IShaderModuleService);var i=this.rendererService,a=i.createAttribute,o=i.createBuffer,s=i.createModel,u=this.setupShaders(),l=u.vs,c=u.fs,f=u.uniforms;this.model=s({vs:l,fs:c,attributes:{a_Position:a({buffer:o({data:[-4,-4,4,-4,0,4],type:J.FLOAT}),size:2})},uniforms:(0,H.Z)((0,H.Z)({u_Texture:null},f),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}},{key:"render",value:function(t,n){var i=this,a=t.multiPassRenderer.getPostProcessor(),o=this.rendererService,s=o.useFramebuffer,u=o.getViewportSize,l=o.clear,c=u(),f=c.width,h=c.height;s(this.renderToScreen?null:a.getWriteFBO(),function(){l({framebuffer:a.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});var v=(0,H.Z)({u_BloomFinal:0,u_Texture:a.getReadFBO(),u_ViewportSize:[f,h]},i.convertOptionsToUniforms(i.optionsToUpdate));n&&(v.u_BloomFinal=1,v.u_Texture2=n),i.model.draw({uniforms:v})})}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(t){this.enabled=t}},{key:"setRenderToScreen",value:function(t){this.renderToScreen=t}},{key:"updateOptions",value:function(t){this.optionsToUpdate=(0,H.Z)((0,H.Z)({},this.optionsToUpdate),t)}},{key:"setupShaders",value:function(){throw new Error("Method not implemented.")}},{key:"convertOptionsToUniforms",value:function(t){var n={};return Object.keys(t).forEach(function(i){(0,Te.isNil)(t[i])||(n["u_".concat((0,Te.upperFirst)((0,Te.camelCase)(i)))]=t[i])}),n}}]),e}(),xC=vr(n9.prototype,"shaderModuleService",[yC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n9))||mC),_C,EC;function Brt(e){var r=Nrt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Nrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Zrt=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,zrt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Urt=(_C=(0,Ze.b2)(),_C(EC=function(e){(0,ze.Z)(t,e);var r=Brt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:zrt,fs:Zrt});var i=this.shaderModuleService.getModule("blur-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}},{key:"convertOptionsToUniforms",value:function(i){var a={};return(0,Te.isNil)(i.bloomRadius)||(a.u_radius=i.bloomRadius),(0,Te.isNil)(i.bloomIntensity)||(a.u_intensity=i.bloomIntensity),(0,Te.isNil)(i.bloomBaseRadio)||(a.u_baseRadio=i.bloomBaseRadio),a}}]),t}(io))||EC),CC,SC;function Hrt(e){var r=Vrt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Vrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Grt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,jrt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Wrt=(CC=(0,Ze.b2)(),CC(SC=function(e){(0,ze.Z)(t,e);var r=Hrt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:jrt,fs:Grt});var i=this.shaderModuleService.getModule("blur-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}},{key:"convertOptionsToUniforms",value:function(i){var a={};return(0,Te.isNil)(i.blurRadius)||(a.u_BlurDir=[i.blurRadius,0]),a}}]),t}(io))||SC),bC,AC;function Yrt(e){var r=Xrt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Xrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var $rt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,qrt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Krt=(bC=(0,Ze.b2)(),bC(AC=function(e){(0,ze.Z)(t,e);var r=Yrt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("blur-pass",{vs:qrt,fs:$rt});var i=this.shaderModuleService.getModule("blur-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}},{key:"convertOptionsToUniforms",value:function(i){var a={};return(0,Te.isNil)(i.blurRadius)||(a.u_BlurDir=[0,i.blurRadius]),a}}]),t}(io))||AC),MC,TC;function Qrt(e){var r=Jrt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Jrt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var tnt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,ent=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,rnt=(MC=(0,Ze.b2)(),MC(TC=function(e){(0,ze.Z)(t,e);var r=Qrt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:ent,fs:tnt});var i=this.shaderModuleService.getModule("colorhalftone-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}}]),t}(io))||TC),wC,FC;function nnt(e){var r=int();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function int(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var ant=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,ont=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,snt=(wC=(0,Ze.b2)(),wC(FC=function(e){(0,ze.Z)(t,e);var r=nnt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("copy-pass",{vs:ont,fs:ant}),this.shaderModuleService.getModule("copy-pass")}}]),t}(io))||FC),kC,OC;function unt(e){var r=lnt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function lnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var cnt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,fnt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,hnt=(kC=(0,Ze.b2)(),kC(OC=function(e){(0,ze.Z)(t,e);var r=unt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:fnt,fs:cnt});var i=this.shaderModuleService.getModule("hexagonalpixelate-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}}]),t}(io))||OC),LC,IC;function vnt(e){var r=pnt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function pnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var dnt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,gnt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,ynt=(LC=(0,Ze.b2)(),LC(IC=function(e){(0,ze.Z)(t,e);var r=vnt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){this.shaderModuleService.registerModule("ink-pass",{vs:gnt,fs:dnt});var i=this.shaderModuleService.getModule("ink-pass"),a=i.vs,o=i.fs,s=i.uniforms,u=this.rendererService.getViewportSize(),l=u.width,c=u.height;return{vs:a,fs:o,uniforms:(0,H.Z)((0,H.Z)({},s),{},{u_ViewportSize:[l,c]})}}}]),t}(io))||IC),PC,RC;function mnt(e){var r=xnt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function xnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _nt=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,Ent=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Cnt=(PC=(0,Ze.b2)(),PC(RC=function(e){(0,ze.Z)(t,e);var r=mnt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("noise-pass",{vs:Ent,fs:_nt}),this.shaderModuleService.getModule("noise-pass")}}]),t}(io))||RC),DC,BC;function Snt(e){var r=bnt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function bnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Ant=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,Mnt=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`,Tnt=(DC=(0,Ze.b2)(),DC(BC=function(e){(0,ze.Z)(t,e);var r=Snt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"setupShaders",value:function(){return this.shaderModuleService.registerModule("sepia-pass",{vs:Ant,fs:Mnt}),this.shaderModuleService.getModule("sepia-pass")}}]),t}(io))||BC),NC,ZC,zC,UC,z0,HC,wnt=(NC=(0,Ze.b2)(),ZC=(0,Ze.f3)(ve.IRendererService),zC=(0,Ze.zY)(),NC(UC=(z0=function(){function e(){(0,ge.Z)(this,e),dr(this,"rendererService",HC,this),(0,S.Z)(this,"passes",[]),(0,S.Z)(this,"readFBO",void 0),(0,S.Z)(this,"writeFBO",void 0)}return(0,ye.Z)(e,[{key:"getReadFBO",value:function(){return this.readFBO}},{key:"getWriteFBO",value:function(){return this.writeFBO}},{key:"getCurrentFBOTex",value:function(){var t=this.rendererService,n=t.getViewportSize,i=t.createTexture2D,a=n(),o=a.width,s=a.height;return i({x:0,y:0,width:o,height:s,copy:!0})}},{key:"getReadFBOTex",value:function(){var t=this,n=this.rendererService.useFramebuffer;return new Promise(function(i){n(t.readFBO,(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:i(t.getCurrentFBOTex());case 1:case"end":return s.stop()}},a)})))})}},{key:"renderBloomPass",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a){var o,s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getReadFBOTex();case 2:o=l.sent,s=0;case 4:if(!(s<4)){l.next=11;break}return l.next=7,a.render(i,o);case 7:this.swap(),s++,l.next=4;break;case 11:case"end":return l.stop()}},n,this)}));function t(n,i){return r.apply(this,arguments)}return t}()},{key:"render",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){var a,o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:a=0;case 1:if(!(a<this.passes.length)){u.next=15;break}if(o=this.passes[a],o.setRenderToScreen(this.isLastEnabledPass(a)),o.getName()!=="bloom"){u.next=9;break}return u.next=7,this.renderBloomPass(i,o);case 7:u.next=12;break;case 9:return u.next=11,o.render(i);case 11:a!==this.passes.length-1&&this.swap();case 12:a++,u.next=1;break;case 15:case"end":return u.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"resize",value:function(t,n){this.readFBO.resize({width:t,height:n}),this.writeFBO.resize({width:t,height:n})}},{key:"add",value:function(t,n,i){t.init(n,i),this.passes.push(t)}},{key:"insert",value:function(t,n,i,a){t.init(i,a),this.passes.splice(n,0,t)}},{key:"getPostProcessingPassByName",value:function(t){return this.passes.find(function(n){return n.getName()===t})}},{key:"init",value:function(){var t=this.rendererService,n=t.createFramebuffer,i=t.createTexture2D;this.readFBO=n({color:i({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.writeFBO=n({color:i({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})})}},{key:"isLastEnabledPass",value:function(t){for(var n=t+1;n<this.passes.length;n++)if(this.passes[n].isEnabled())return!1;return!0}},{key:"swap",value:function(){var t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}]),e}(),HC=vr(z0.prototype,"rendererService",[ZC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vr(z0.prototype,"init",[zC],Object.getOwnPropertyDescriptor(z0.prototype,"init"),z0.prototype),z0))||UC),VC,GC;function Fnt(e){var r=knt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function knt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Ont=(VC=(0,Ze.b2)(),VC(GC=function(e){(0,ze.Z)(t,e);var r=Fnt(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getType",value:function(){return Uo.Normal}},{key:"getName",value:function(){return"render"}},{key:"init",value:function(i,a){Tr((0,ne.Z)(t.prototype),"init",this).call(this,i,a)}},{key:"render",value:function(i){var a=this.rendererService,o=a.useFramebuffer,s=a.clear,u=i.multiPassRenderer.getPostProcessor().getReadFBO();o(u,function(){s({color:[0,0,0,0],depth:1,stencil:0,framebuffer:u}),i.multiPassRenderer.setRenderFlag(!1),i.models.forEach(function(l){l.draw({uniforms:i.layerModel.getUninforms()})}),i.multiPassRenderer.setRenderFlag(!0)})}}]),t}(V3))||GC),jC,WC,YC,i9,XC;function Lnt(e){var r=Int();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Int(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Pnt=`uniform float u_opacity : 1.0;
uniform float u_MixRatio : 0.5;

uniform sampler2D u_Diffuse1;
uniform sampler2D u_Diffuse2;

varying vec2 v_UV;

void main() {
  vec4 texel1 = texture2D(u_Diffuse1, v_UV);
  vec4 texel2 = texture2D(u_Diffuse2, v_UV);
  gl_FragColor = u_opacity * mix(texel1, texel2, u_MixRatio);
}
`,$C=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Rnt=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;function qC(e,r){for(var t=0,n=1/r,i=e;i>0;)t=t+n*(i%r),i=Math.floor(i/r),n=n/r;return t}var Dnt=1,Bnt=(jC=(0,Ze.b2)(),WC=(0,Ze.f3)(ve.IShaderModuleService),jC(YC=(i9=function(e){(0,ze.Z)(t,e);var r=Lnt(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),dr((0,Qt.Z)(n),"shaderModuleService",XC,(0,Qt.Z)(n)),(0,S.Z)((0,Qt.Z)(n),"haltonSequence",[]),(0,S.Z)((0,Qt.Z)(n),"accumulatingId",0),(0,S.Z)((0,Qt.Z)(n),"frame",0),(0,S.Z)((0,Qt.Z)(n),"timer",void 0),(0,S.Z)((0,Qt.Z)(n),"sampleRenderTarget",void 0),(0,S.Z)((0,Qt.Z)(n),"prevRenderTarget",void 0),(0,S.Z)((0,Qt.Z)(n),"outputRenderTarget",void 0),(0,S.Z)((0,Qt.Z)(n),"copyRenderTarget",void 0),(0,S.Z)((0,Qt.Z)(n),"blendModel",void 0),(0,S.Z)((0,Qt.Z)(n),"outputModel",void 0),(0,S.Z)((0,Qt.Z)(n),"copyModel",void 0),n}return(0,ye.Z)(t,[{key:"getType",value:function(){return Uo.Normal}},{key:"getName",value:function(){return"taa"}},{key:"init",value:function(i,a){Tr((0,ne.Z)(t.prototype),"init",this).call(this,i,a);var o=this.rendererService,s=o.createFramebuffer,u=o.createTexture2D;this.sampleRenderTarget=s({color:u({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.prevRenderTarget=s({color:u({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.outputRenderTarget=s({color:u({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})}),this.copyRenderTarget=s({color:u({width:1,height:1,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE})});for(var l=0;l<30;l++)this.haltonSequence.push([qC(l,2),qC(l,3)]);this.blendModel=this.createTriangleModel("blend-pass",Pnt),this.outputModel=this.createTriangleModel("copy-pass",$C,{blend:{enable:!0,func:{srcRGB:J.ONE,dstRGB:J.ONE_MINUS_SRC_ALPHA,srcAlpha:J.ONE,dstAlpha:J.ONE_MINUS_SRC_ALPHA},equation:{rgb:J.FUNC_ADD,alpha:J.FUNC_ADD}}}),this.copyModel=this.createTriangleModel("copy-pass",$C)}},{key:"render",value:function(i){var a=this,o=this.rendererService,s=o.clear,u=o.getViewportSize,l=o.useFramebuffer,c=u(),f=c.width,h=c.height;this.sampleRenderTarget.resize({width:f,height:h}),this.prevRenderTarget.resize({width:f,height:h}),this.outputRenderTarget.resize({width:f,height:h}),this.copyRenderTarget.resize({width:f,height:h}),this.resetFrame(),this.stopAccumulating();var v=i.multiPassRenderer.getPostProcessor().getReadFBO();l(v,function(){s({color:[0,0,0,0],depth:1,stencil:0,framebuffer:v}),i.multiPassRenderer.setRenderFlag(!1),i.render(),i.multiPassRenderer.setRenderFlag(!0)});var p=function g(y){!a.accumulatingId||y!==a.accumulatingId||a.isFinished()||(a.doRender(i),Br.requestAnimationFrame(function(){g(y)}))};this.accumulatingId=Dnt++,this.timer=Br.setTimeout(function(){p(a.accumulatingId)},50)}},{key:"doRender",value:function(i){var a=this,o=this.rendererService,s=o.clear,u=o.getViewportSize,l=o.useFramebuffer,c=u(),f=c.width,h=c.height,v=i.getLayerConfig(),p=v.jitterScale,g=p===void 0?1:p,y=this.haltonSequence[this.frame%this.haltonSequence.length];this.cameraService.jitterProjectionMatrix((y[0]*2-1)/f*g,(y[1]*2-1)/h*g),i.multiPassRenderer.setRenderFlag(!1),i.hooks.beforeRender.call(),l(this.sampleRenderTarget,function(){s({color:[0,0,0,0],depth:1,stencil:0,framebuffer:a.sampleRenderTarget}),i.render()}),i.hooks.afterRender.call(),i.multiPassRenderer.setRenderFlag(!0);var m=i.getLayerConfig();l(this.outputRenderTarget,function(){a.blendModel.draw({uniforms:{u_opacity:m.opacity||1,u_MixRatio:a.frame===0?1:.9,u_Diffuse1:a.sampleRenderTarget,u_Diffuse2:a.frame===0?i.multiPassRenderer.getPostProcessor().getReadFBO():a.prevRenderTarget}})}),this.frame===0&&s({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.copyRenderTarget}),this.frame>=1&&(l(this.copyRenderTarget,function(){a.outputModel.draw({uniforms:{u_Texture:a.outputRenderTarget}})}),l(i.multiPassRenderer.getPostProcessor().getReadFBO(),function(){a.copyModel.draw({uniforms:{u_Texture:a.copyRenderTarget}})}),i.multiPassRenderer.getPostProcessor().render(i));var E=this.prevRenderTarget;this.prevRenderTarget=this.outputRenderTarget,this.outputRenderTarget=E,this.frame++,this.cameraService.clearJitterProjectionMatrix()}},{key:"isFinished",value:function(){return this.frame>=this.haltonSequence.length}},{key:"resetFrame",value:function(){this.frame=0}},{key:"stopAccumulating",value:function(){this.accumulatingId=0,Br.clearTimeout(this.timer)}},{key:"createTriangleModel",value:function(i,a,o){this.shaderModuleService.registerModule(i,{vs:Rnt,fs:a});var s=this.shaderModuleService.getModule(i),u=s.vs,l=s.fs,c=s.uniforms,f=this.rendererService,h=f.createAttribute,v=f.createBuffer,p=f.createModel;return p((0,H.Z)({vs:u,fs:l,attributes:{a_Position:h({buffer:v({data:[-4,-4,4,-4,0,4],type:J.FLOAT}),size:2})},uniforms:(0,H.Z)({},c),depth:{enable:!1},count:3},o))}}]),t}(V3),XC=vr(i9.prototype,"shaderModuleService",[WC],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i9))||YC),$u=new Ze.W2;$u.bind(ve.IGlobalConfigService).to(het).inSingletonScope(),(0,Ze.GW)((0,Ze.b2)(),Vn.EventEmitter),$u.bind(ve.IEventEmitter).to(Vn.EventEmitter);var KC=(0,Sq.Z)($u,!1),a9=function(r){var t=KC.lazyInject(r);return function(n,i,a){t.call(this,n,i),a&&(a.initializer=function(){return n[i]})}},Oht=function(r){var t=KC.lazyMultiInject(r);return function(n,i,a){t.call(this,n,i),a&&(a.initializer=function(){return n[i]})}},Ti=$u,Nnt=0;function Znt(){var e=new Ze.W2;return e.parent=$u,e.bind(ve.SceneID).toConstantValue("".concat(Nnt++)),e.bind(ve.IShaderModuleService).to(Art).inSingletonScope(),e.bind(ve.ILayerService).to(Det).inSingletonScope(),e.bind(ve.IDebugService).to(_et).inSingletonScope(),e.bind(ve.ISceneService).to(ort).inSingletonScope(),e.bind(ve.ICameraService).to(tet).inSingletonScope(),e.bind(ve.ICoordinateSystemService).to(yet).inSingletonScope(),e.bind(ve.IInteractionService).to(Met).inSingletonScope(),e.bind(ve.IPickingService).to(ket).inSingletonScope(),e.bind(ve.IControlService).to(iet).inSingletonScope(),e.bind(ve.IMarkerService).to(aet).inSingletonScope(),e.bind(ve.IIconService).to(Ctt).inSingletonScope(),e.bind(ve.IFontService).to(mtt).inSingletonScope(),e.bind(ve.IPopupService).to(oet).inSingletonScope(),e.bind(ve.INormalPass).to(Frt).whenTargetNamed("clear"),e.bind(ve.INormalPass).to(Rrt).whenTargetNamed("pixelPicking"),e.bind(ve.INormalPass).to(Ont).whenTargetNamed("render"),e.bind(ve.INormalPass).to(Bnt).whenTargetNamed("taa"),e.bind(ve.IFactoryNormalPass).toFactory(function(r){return function(t){return r.container.getNamed(ve.INormalPass,t)}}),e.bind(ve.IPostProcessingPass).to(snt).whenTargetNamed("copy"),e.bind(ve.IPostProcessingPass).to(Urt).whenTargetNamed("bloom"),e.bind(ve.IPostProcessingPass).to(Wrt).whenTargetNamed("blurH"),e.bind(ve.IPostProcessingPass).to(Krt).whenTargetNamed("blurV"),e.bind(ve.IPostProcessingPass).to(Cnt).whenTargetNamed("noise"),e.bind(ve.IPostProcessingPass).to(Tnt).whenTargetNamed("sepia"),e.bind(ve.IPostProcessingPass).to(rnt).whenTargetNamed("colorHalftone"),e.bind(ve.IPostProcessingPass).to(hnt).whenTargetNamed("hexagonalPixelate"),e.bind(ve.IPostProcessingPass).to(ynt).whenTargetNamed("ink"),e.bind(ve.IFactoryPostProcessingPass).toFactory(function(r){return function(t){var n=r.container.getNamed(ve.IPostProcessingPass,t);return n.setName(t),n}}),e}function G3(e){var r=new Ze.W2;return r.parent=e,r.bind(ve.IStyleAttributeService).to(Vet).inSingletonScope(),r.bind(ve.IMultiPassRenderer).to(Lrt).inSingletonScope(),r.bind(ve.IPostProcessor).to(wnt).inSingletonScope(),r}var znt=null;function Lht(e){return znt.indexOf(e)}var Unt=2,Iht=4,Hnt=64,Pht=128,Vnt=256,Gnt=512,Rht=8192,Dht=16384,Bht=32768,jnt=null,QC=131072,Nht=262144,Wnt=524288,Zht=1048576,Ynt=2097152,zht=4194304,Xnt=8388608,$nt=16777216,qnt=null;function j3(e,r){return e=clamp(Math.floor(e),0,255),r=clamp(Math.floor(r),0,255),256*e+r}function Uht(e){var r=e.color,t=e.radius,n=e.tileX,i=e.tileY,a=e.shape,o=e.opacity,s=e.stroke,u=e.strokeWidth,l=e.strokeOpacity,c=[],f=[],h=[],v=[j3(r[0],r[1]),j3(r[2],r[3])],p=[j3(s[0],s[1]),j3(s[2],s[3])];return[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(g){var y=_slicedToArray(g,2),m=y[0],E=y[1];c.push([].concat(v,[(m+1)*Xnt+(E+1)*Ynt+getShapeIndex(a)*QC+t,(n+512)*Wnt+(i+512)*Hnt])),f.push([].concat(p,[u,l])),h.push([o,0,0,0])}),{packedBuffer:c,packedBuffer2:f,packedBuffer3:h}}function Hht(e,r){if(e===0&&!r)return 0;if(e===1&&r)return 4294967295;var t=r?1:0,n=Math.floor(e*127);return n*qnt+t*$nt+n*QC+t*jnt+n*Gnt+t*Vnt+n*Unt+t}var R1={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"},pn={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"},fa;(function(e){e.normal="normal",e.additive="additive",e.subtractive="subtractive",e.min="min",e.max="max",e.none="none"})(fa||(fa={}));var dn;(function(e){e.INIT="init",e.UPDATE="update"})(dn||(dn={}));var Hr;(function(e){e.LINEAR="linear",e.SEQUENTIAL="sequential",e.POWER="power",e.LOG="log",e.IDENTITY="identity",e.TIME="time",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.CAT="cat",e.DIVERGING="diverging"})(Hr||(Hr={}));var Ho;(function(e){e.CONSTANT="constant",e.VARIABLE="variable"})(Ho||(Ho={}));var Xe;(function(e){e[e.Attribute=0]="Attribute",e[e.InstancedAttribute=1]="InstancedAttribute",e[e.Uniform=2]="Uniform"})(Xe||(Xe={}));var o9=["mapload","mapchange","mapAfterFrameChange"],W3=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"],ha;(function(e){e.IMAGE="image",e.ARRAYBUFFER="arraybuffer",e.RGB="rgb",e.CUSTOMRGB="customRGB",e.CUSTOMARRAYBUFFER="customArrayBuffer"})(ha||(ha={}));function Knt(e){var r=Qnt();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Qnt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var s9=function(e){(0,ze.Z)(t,e);var r=Knt(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this),(0,S.Z)((0,Qt.Z)(i),"added",!1),(0,S.Z)((0,Qt.Z)(i),"eventHandle",function(a){i.polyfillEvent(a),i.emit(a.type,{target:a,data:i.markerOption.extData,lngLat:i.lngLat})}),i.markerOption=(0,H.Z)((0,H.Z)({},i.getDefault()),n),ox(["update","onMove","onMapClick"],(0,Qt.Z)(i)),i.init(),i}return(0,ye.Z)(t,[{key:"getMarkerLayerContainerSize",value:function(){}},{key:"getDefault",value:function(){return{element:void 0,anchor:Su.BOTTOM,offsets:[0,0],color:"#5B8FF9",draggable:!1}}},{key:"addTo",value:function(i){this.scene=i,this.mapsService=i.get(ve.IMapService),this.sceneSerive=i.get(ve.ISceneService);var a=this.markerOption.element;return this.mapsService.getMarkerContainer().appendChild(a),this.registerMarkerEvent(a),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.update(),this.added=!0,this.emit("added"),this}},{key:"remove",value:function(){this.mapsService&&(this.mapsService.off("click",this.onMapClick),this.mapsService.off("move",this.update),this.mapsService.off("moveend",this.update)),this.unRegisterMarkerEvent(),this.removeAllListeners();var i=this.markerOption.element;return i&&Ai(i),this.popup&&this.popup.remove(),this}},{key:"setLnglat",value:function(i){return this.lngLat=i,Array.isArray(i)&&(this.lngLat={lng:i[0],lat:i[1]}),this.popup&&this.popup.setLnglat(this.lngLat),this.update(),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"getElement",value:function(){return this.markerOption.element}},{key:"setElement",value:function(i){var a=this;if(!this.added)return this.once("added",function(){a.setElement(i)}),this;var o=this.markerOption.element;return o&&Ai(o),this.markerOption.element=i,this.init(),this.mapsService.getMarkerContainer().appendChild(i),this.registerMarkerEvent(i),this.update(),this}},{key:"openPopup",value:function(){var i=this;if(!this.added)return this.once("added",function(){i.openPopup()}),this;var a=this.popup;return a?(a.isOpen()||a.addTo(this.scene),this):this}},{key:"closePopup",value:function(){var i=this;this.added||this.once("added",function(){i.closePopup()});var a=this.popup;return a&&a.remove(),this}},{key:"setPopup",value:function(i){return this.popup=i,this.lngLat&&this.popup.setLnglat(this.lngLat),this}},{key:"togglePopup",value:function(){var i=this.popup;if(i)i.isOpen()?i.remove():i.addTo(this.scene);else return this;return this}},{key:"getPopup",value:function(){return this.popup}},{key:"getOffset",value:function(){return this.markerOption.offsets}},{key:"setDraggable",value:function(i){throw new Error("Method not implemented.")}},{key:"isDraggable",value:function(){return this.markerOption.draggable}},{key:"getExtData",value:function(){return this.markerOption.extData}},{key:"setExtData",value:function(i){this.markerOption.extData=i}},{key:"update",value:function(){if(this.mapsService){var i=this.markerOption,a=i.element,o=i.anchor;this.updatePosition(),rx(a,"".concat(C3[o]))}}},{key:"onMapClick",value:function(i){var a=this.markerOption.element;this.popup&&a&&this.togglePopup()}},{key:"getCurrentContainerSize",value:function(){var i=this.mapsService.getContainer();return{containerHeight:(i==null?void 0:i.scrollHeight)||0,containerWidth:(i==null?void 0:i.scrollWidth)||0,bounds:this.mapsService.getBounds()}}},{key:"updatePosition",value:function(){if(this.mapsService){var i=this.markerOption,a=i.element,o=i.offsets,s=this.lngLat,u=s.lng,l=s.lat,c=this.mapsService.lngLatToContainer([u,l]);if(a){a.style.display="block",a.style.whiteSpace="nowrap";var f=this.getMarkerLayerContainerSize()||this.getCurrentContainerSize(),h=f.containerHeight,v=f.containerWidth,p=f.bounds;if(!p)return;if(Math.abs(p[0][0])>180||Math.abs(p[1][0])>180){if(c.x>v){var g=this.mapsService.lngLatToContainer([u-360,l]);c.x=g.x}if(c.x<0){var y=this.mapsService.lngLatToContainer([u+360,l]);c.x=y.x}}(c.x>v||c.x<0||c.y>h||c.y<0)&&(a.style.display="none"),a.style.left=c.x+o[0]+"px",a.style.top=c.y-o[1]+"px"}}}},{key:"init",value:function(){var i=this,a=this.markerOption.element,o=this.markerOption,s=o.color,u=o.anchor;if(!a){this.defaultMarker=!0,a=Er("div"),this.markerOption.element=a;var l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.setAttributeNS(null,"display","block"),l.setAttributeNS(null,"height","48px"),l.setAttributeNS(null,"width","48px"),l.setAttributeNS(null,"viewBox","0 0 1024 1024");var c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttributeNS(null,"d","M512 490.666667C453.12 490.666667 405.333333 442.88 405.333333 384 405.333333 325.12 453.12 277.333333 512 277.333333 570.88 277.333333 618.666667 325.12 618.666667 384 618.666667 442.88 570.88 490.666667 512 490.666667M512 85.333333C346.88 85.333333 213.333333 218.88 213.333333 384 213.333333 608 512 938.666667 512 938.666667 512 938.666667 810.666667 608 810.666667 384 810.666667 218.88 677.12 85.333333 512 85.333333Z"),c.setAttributeNS(null,"fill",s),l.appendChild(c),a.appendChild(l)}ca(a,"l7-marker"),Object.keys(this.markerOption.style||{}).forEach(function(f){var h,v,p=((h=i.markerOption)===null||h===void 0?void 0:h.style)&&((v=i.markerOption)===null||v===void 0?void 0:v.style[f]);a&&(a.style[f]=p)}),a.addEventListener("click",function(f){i.onMapClick(f)}),a.addEventListener("click",this.eventHandle),Hm(a,u,"marker")}},{key:"registerMarkerEvent",value:function(i){i.addEventListener("mousemove",this.eventHandle),i.addEventListener("click",this.eventHandle),i.addEventListener("mousedown",this.eventHandle),i.addEventListener("mouseup",this.eventHandle),i.addEventListener("dblclick",this.eventHandle),i.addEventListener("contextmenu",this.eventHandle),i.addEventListener("mouseover",this.eventHandle),i.addEventListener("mouseout",this.eventHandle),i.addEventListener("touchstart",this.eventHandle),i.addEventListener("touchend",this.eventHandle)}},{key:"unRegisterMarkerEvent",value:function(){var i=this.getElement();i.removeEventListener("mousemove",this.eventHandle),i.removeEventListener("click",this.eventHandle),i.removeEventListener("mousedown",this.eventHandle),i.removeEventListener("mouseup",this.eventHandle),i.removeEventListener("dblclick",this.eventHandle),i.removeEventListener("contextmenu",this.eventHandle),i.removeEventListener("mouseover",this.eventHandle),i.removeEventListener("mouseout",this.eventHandle),i.removeEventListener("touchstart",this.eventHandle),i.removeEventListener("touchend",this.eventHandle)}},{key:"polyfillEvent",value:function(i){!this.mapsService||this.mapsService.version!=="GAODE2.x"||!pQ()&&vQ&&(i.type==="touchstart"&&(this.touchStartTime=Date.now()),i.type==="touchend"&&Date.now()-this.touchStartTime<300&&this.emit("click",{target:i,data:this.markerOption.extData,lngLat:this.lngLat}))}},{key:"addDragHandler",value:function(i){return null}},{key:"onUp",value:function(i){throw new Error("Method not implemented.")}}]),t}(Vn.EventEmitter),Jnt=F(39720),JC=F.n(Jnt);function tit(e){var r=eit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function eit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Vht=function(e){(0,ze.Z)(t,e);var r=tit(t);function t(n){var i,a;return(0,ge.Z)(this,t),a=r.call(this),(0,S.Z)((0,Qt.Z)(a),"markers",[]),(0,S.Z)((0,Qt.Z)(a),"points",[]),(0,S.Z)((0,Qt.Z)(a),"clusterMarkers",[]),a.markerLayerOption=(0,Te.merge)(a.getDefault(),n),ox(["update"],(0,Qt.Z)(a)),a.zoom=((i=a.markerLayerOption.clusterOption)===null||i===void 0?void 0:i.zoom)||-99,a}return(0,ye.Z)(t,[{key:"getDefault",value:function(){return{cluster:!1,clusterOption:{radius:80,maxZoom:20,minZoom:0,zoom:-99,style:{},className:""}}}},{key:"addTo",value:function(i){return this.scene=i,this.mapsService=i.get(ve.IMapService),this.markerLayerOption.cluster&&(this.initCluster(),this.update(),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.mapsService.on("camerachange",this.setContainerSize.bind(this)),this.mapsService.on("viewchange",this.setContainerSize.bind(this)),this.addMarkers(),this.inited=!0,this}},{key:"setContainerSize",value:function(){if(this.mapsService){var i=this.mapsService.getContainer();this.containerSize={containerWidth:(i==null?void 0:i.scrollWidth)||0,containerHeight:(i==null?void 0:i.scrollHeight)||0,bounds:this.mapsService.getBounds()}}}},{key:"getContainerSize",value:function(){return this.containerSize}},{key:"addMarker",value:function(i){var a=this.markerLayerOption.cluster;if(i.getMarkerLayerContainerSize=this.getContainerSize.bind(this),a&&(this.addPoint(i,this.markers.length),this.mapsService)){var o=this.mapsService.getZoom(),s=this.mapsService.getBounds();this.bbox=Ou(s,.5),this.zoom=Math.floor(o),this.getClusterMarker(this.bbox,this.zoom)}this.markers.push(i)}},{key:"removeMarker",value:function(i){this.markers.indexOf(i);var a=this.markers.indexOf(i);a>-1&&this.markers.splice(a,1)}},{key:"hide",value:function(){this.markers.map(function(i){i.getElement().style.opacity="0"}),this.clusterMarkers.map(function(i){i.getElement().style.opacity="0"})}},{key:"show",value:function(){this.markers.map(function(i){i.getElement().style.opacity="1"}),this.clusterMarkers.map(function(i){i.getElement().style.opacity="1"})}},{key:"getMarkers",value:function(){var i=this.markerLayerOption.cluster;return i?this.clusterMarkers:this.markers}},{key:"addMarkers",value:function(){var i=this;this.getMarkers().forEach(function(a){a.addTo(i.scene)})}},{key:"clear",value:function(){this.markers.forEach(function(i){i.remove()}),this.clusterMarkers.forEach(function(i){i.remove()}),this.markers=[],this.points=[],this.clusterMarkers=[]}},{key:"destroy",value:function(){this.clear(),this.removeAllListeners(),this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.off("camerachange",this.setContainerSize.bind(this)),this.mapsService.off("viewchange",this.setContainerSize.bind(this))}},{key:"addPoint",value:function(i,a){var o=i.getLnglat(),s=o.lng,u=o.lat,l={geometry:{type:"Point",coordinates:[s,u]},properties:(0,H.Z)((0,H.Z)({},i.getExtData()),{},{marker_id:a})};this.points.push(l),this.clusterIndex&&this.clusterIndex.load(this.points)}},{key:"initCluster",value:function(){if(this.markerLayerOption.cluster){var i=this.markerLayerOption.clusterOption,a=i.radius,o=i.minZoom,s=o===void 0?0:o,u=i.maxZoom;this.clusterIndex=new(JC())({radius:a,minZoom:s,maxZoom:u}),this.clusterIndex.load(this.points)}}},{key:"getClusterMarker",value:function(i,a){var o=this,s=i[0].concat(i[1]),u=this.clusterIndex.getClusters(s,a);this.clusterMarkers.forEach(function(l){l.remove()}),this.clusterMarkers=[],u.forEach(function(l){var c,f=o.markerLayerOption.clusterOption,h=f.field,v=f.method;if((c=l.properties)!==null&&c!==void 0&&c.cluster_id){var p,g=o.getLeaves((p=l.properties)===null||p===void 0?void 0:p.cluster_id);if(l.properties.clusterData=g,h&&v){var y=g==null?void 0:g.map(function(M){var Z=(0,S.Z)({},h,M.properties[h]);return Z}),m=g8(y,h),E=WQ(v,m),C="point_"+v;l.properties[C]=E.toFixed(2)}}var A=o.clusterMarker(l);o.clusterMarkers.push(A),A.addTo(o.scene)})}},{key:"getLeaves",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return i?this.clusterIndex.getLeaves(i,a,o):null}},{key:"clusterMarker",value:function(i){var a=this.markerLayerOption.clusterOption,o=a,s=o.element,u=s===void 0?this.generateElement.bind(this):s,l=new s9({element:u(i)}).setLnglat({lng:i.geometry.coordinates[0],lat:i.geometry.coordinates[1]});return l}},{key:"normalMarker",value:function(i){var a=i.properties.marker_id;return this.markers[a]}},{key:"update",value:function(){if(this.mapsService&&this.markers.length!==0){var i=this.mapsService.getZoom(),a=this.mapsService.getBounds();(!this.bbox||Math.abs(i-this.zoom)>=1||!p8(this.bbox,a))&&(this.bbox=Ou(a,.5),this.zoom=Math.floor(i),this.getClusterMarker(this.bbox,this.zoom))}}},{key:"generateElement",value:function(i){var a=Er("div","l7-marker-cluster"),o=Er("div","",a),s=Er("span","",o),u=this.markerLayerOption.clusterOption,l=u.field,c=u.method;i.properties.point_count=i.properties.point_count||1;var f=l&&c?i.properties["point_"+c]||i.properties[l]:i.properties.point_count;return s.textContent=f,a}}]),t}(Vn.EventEmitter),Ght=F(30870);function rit(e){var r=nit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function nit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var D1=function(e){(0,ze.Z)(t,e);var r=rit(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this),t.controlCount++,i.controlOption=(0,H.Z)((0,H.Z)({},i.getDefault(n)),n||{}),i}return(0,ye.Z)(t,[{key:"getOptions",value:function(){return this.controlOption}},{key:"setOptions",value:function(i){var a=this.getDefault(i);Object.entries(i).forEach(function(o){var s=(0,nr.Z)(o,2),u=s[0],l=s[1];l===void 0&&(i[u]=a[u])}),"position"in i&&this.setPosition(i.position),"className"in i&&this.setClassName(i.className),"style"in i&&this.setStyle(i.style),this.controlOption=(0,H.Z)((0,H.Z)({},this.controlOption),i)}},{key:"addTo",value:function(i){this.mapsService=i.get(ve.IMapService),this.renderService=i.get(ve.IRendererService),this.layerService=i.get(ve.ILayerService),this.controlService=i.get(ve.IControlService),this.configService=i.get(ve.IGlobalConfigService),this.scene=i.get(ve.ISceneService),this.sceneContainer=i,this.isShow=!0,this.container=this.onAdd(),ca(this.container,"l7-control");var a=this.controlOption,o=a.className,s=a.style;return o&&this.setClassName(o),s&&this.setStyle(s),this.insertContainer(),this.emit("add",this),this}},{key:"remove",value:function(){if(!this.mapsService)return this;Ai(this.container),this.onRemove(),this.emit("remove",this)}},{key:"onAdd",value:function(){return Er("div")}},{key:"onRemove",value:function(){}},{key:"show",value:function(){var i=this.container;w1(i,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}},{key:"hide",value:function(){var i=this.container;ca(i,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}},{key:"getDefault",value:function(i){return{position:no.TOPRIGHT,name:"".concat(t.controlCount)}}},{key:"getContainer",value:function(){return this.container}},{key:"getIsShow",value:function(){return this.isShow}},{key:"_refocusOnMap",value:function(i){if(this.mapsService&&i&&i.screenX>0&&i.screenY>0){var a=this.mapsService.getContainer();a!==null&&a.focus()}}},{key:"setPosition",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:no.TOPLEFT,a=this.controlService;return a&&a.removeControl(this),this.controlOption.position=i,a&&a.addControl(this,this.sceneContainer),this}},{key:"setClassName",value:function(i){var a=this.container,o=this.controlOption.className;o&&w1(a,o),i&&ca(a,i)}},{key:"setStyle",value:function(i){var a=this.container;i?a.setAttribute("style",i):a.removeAttribute("style")}},{key:"insertContainer",value:function(){var i=this.controlOption.position,a=this.container;if(i instanceof Element)i.appendChild(a);else{var o=this.controlService.controlCorners[i];i.indexOf("bottom")!==-1?o.insertBefore(a,o.firstChild):o.appendChild(a)}}},{key:"checkUpdateOption",value:function(i,a){return a.some(function(o){return o in i})}}]),t}(R5());(0,S.Z)(D1,"controlCount",0);function iit(e){var r=ait();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function ait(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Y3=function(e){(0,ze.Z)(t,e);var r=iit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"isDisable",!1),n}return(0,ye.Z)(t,[{key:"setIsDisable",value:function(i){if(this.isDisable=i,i){var a;(a=this.button)===null||a===void 0||a.setAttribute("disabled","true")}else{var o;(o=this.button)===null||o===void 0||o.removeAttribute("disabled")}}},{key:"createButton",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Er("button","l7-button-control ".concat(i))}},{key:"onAdd",value:function(){this.button=this.createButton(),this.isDisable=!1;var i=this.controlOption,a=i.title,o=i.btnText,s=i.btnIcon;return this.setBtnTitle(a),this.setBtnText(o),this.setBtnIcon(s),this.button}},{key:"onRemove",value:function(){this.button=this.buttonIcon=this.buttonText=void 0,this.isDisable=!1}},{key:"setOptions",value:function(i){var a=i.title,o=i.btnText,s=i.btnIcon;this.checkUpdateOption(i,["title"])&&this.setBtnTitle(a),this.checkUpdateOption(i,["btnIcon"])&&this.setBtnIcon(s),this.checkUpdateOption(i,["btnText"])&&this.setBtnText(o),Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i)}},{key:"setBtnTitle",value:function(i){var a;(a=this.button)===null||a===void 0||a.setAttribute("title",i!=null?i:"")}},{key:"setBtnIcon",value:function(i){if(this.buttonIcon&&Ai(this.buttonIcon),i){var a,o=(a=this.button)===null||a===void 0?void 0:a.firstChild;if(o){var s;(s=this.button)===null||s===void 0||s.insertBefore(i,o)}else{var u;(u=this.button)===null||u===void 0||u.appendChild(i)}this.buttonIcon=i}}},{key:"setBtnText",value:function(i){if(this.button)if(w1(this.button,"l7-button-control--row"),w1(this.button,"l7-button-control--column"),i){var a=this.buttonText;if(!a){var o;a=Er("div","l7-button-control__text"),(o=this.button)===null||o===void 0||o.appendChild(a),this.buttonText=a}a.innerText=i,ca(this.button,this.controlOption.vertical?"l7-button-control--column":"l7-button-control--row")}else!i&&this.buttonText&&(Ai(this.buttonText),this.buttonText=void 0)}}]),t}(D1);function oit(e){var r=sit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function sit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var tS=function(e){(0,ze.Z)(t,e);var r=oit(t);function t(n,i){var a;return(0,ge.Z)(this,t),a=r.call(this),(0,S.Z)((0,Qt.Z)(a),"isShow",!1),(0,S.Z)((0,Qt.Z)(a),"timeout",null),(0,S.Z)((0,Qt.Z)(a),"show",function(){return a.isShow||!a.contentDOM.innerHTML||(a.resetPopperPosition(),w1(a.popperDOM,"l7-popper-hide"),a.isShow=!0,a.option.unique&&t.conflictPopperList.forEach(function(o){o!==(0,Qt.Z)(a)&&o.isShow&&o.hide()}),a.emit("show")),(0,Qt.Z)(a)}),(0,S.Z)((0,Qt.Z)(a),"hide",function(){return a.isShow&&(ca(a.popperDOM,"l7-popper-hide"),a.isShow=!1,a.emit("hide")),(0,Qt.Z)(a)}),(0,S.Z)((0,Qt.Z)(a),"setHideTimeout",function(){a.timeout||(a.timeout=window.setTimeout(function(){a.isShow&&(a.hide(),a.timeout=null)},300))}),(0,S.Z)((0,Qt.Z)(a),"clearHideTimeout",function(){a.timeout&&(window.clearTimeout(a.timeout),a.timeout=null)}),(0,S.Z)((0,Qt.Z)(a),"onBtnClick",function(){a.isShow?a.hide():a.show()}),(0,S.Z)((0,Qt.Z)(a),"onBtnMouseLeave",function(){a.setHideTimeout()}),(0,S.Z)((0,Qt.Z)(a),"onBtnMouseMove",function(){a.clearHideTimeout(),!a.isShow&&a.show()}),a.button=n,a.option=i,a.init(),i.unique&&t.conflictPopperList.push((0,Qt.Z)(a)),a}return(0,ye.Z)(t,[{key:"buttonRect",get:function(){return this.button.getBoundingClientRect()}},{key:"getPopperDOM",value:function(){return this.popperDOM}},{key:"getIsShow",value:function(){return this.isShow}},{key:"getContent",value:function(){return this.content}},{key:"setContent",value:function(i){typeof i=="string"?this.contentDOM.innerHTML=i:i instanceof HTMLElement&&(Tu(this.contentDOM),this.contentDOM.appendChild(i)),this.content=i}},{key:"init",value:function(){var i=this.option.trigger;this.popperDOM=this.createPopper(),i==="click"?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}},{key:"destroy",value:function(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),Ai(this.popperDOM)}},{key:"resetPopperPosition",value:function(){var i={},a=this.option,o=a.container,s=a.offset,u=s===void 0?[0,0]:s,l=a.placement,c=(0,nr.Z)(u,2),f=c[0],h=c[1],v=this.button.getBoundingClientRect(),p=o.getBoundingClientRect(),g=cQ(v,p),y=g.left,m=g.right,E=g.top,C=g.bottom,A=!1,M=!1;/^(left|right)/.test(l)?(l.includes("left")?i.right="".concat(v.width+m,"px"):l.includes("right")&&(i.left="".concat(v.width+y,"px")),l.includes("start")?i.top="".concat(E,"px"):l.includes("end")?i.bottom="".concat(C,"px"):(i.top="".concat(E+v.height/2,"px"),M=!0,i.transform="translate(".concat(f,"px, calc(").concat(h,"px - 50%))"))):/^(top|bottom)/.test(l)&&(l.includes("top")?i.bottom="".concat(v.height+C,"px"):l.includes("bottom")&&(i.top="".concat(v.height+E,"px")),l.includes("start")?i.left="".concat(y,"px"):l.includes("end")?i.right="".concat(m,"px"):(i.left="".concat(y+v.width/2,"px"),A=!0,i.transform="translate(calc(".concat(f,"px - 50%), ").concat(h,"px)"))),i.transform="translate(calc(".concat(f,"px - ").concat(A?"50%":"0%","), calc(").concat(h,"px - ").concat(M?"50%":"0%",")");var Z=l.split("-");Z.length&&ca(this.popperDOM,Z.map(function(Y){return"l7-popper-".concat(Y)}).join(" ")),nx(this.popperDOM,lQ(i))}},{key:"createPopper",value:function(){var i=this.option,a=i.container,o=i.className,s=o===void 0?"":o,u=i.content,l=Er("div","l7-popper l7-popper-hide ".concat(s)),c=Er("div","l7-popper-content"),f=Er("div","l7-popper-arrow");return l.appendChild(c),l.appendChild(f),a.appendChild(l),this.popperDOM=l,this.contentDOM=c,u&&this.setContent(u),l}}]),t}(Vn.EventEmitter);(0,S.Z)(tS,"conflictPopperList",[]);function uit(e){var r=lit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function lit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var cit={topleft:"right-start",topcenter:"bottom",topright:"left-start",bottomleft:"right-end",bottomcenter:"top",bottomright:"left-end",lefttop:"bottom-start",leftcenter:"right",leftbottom:"top-start",righttop:"bottom-end",rightcenter:"left",rightbottom:"top-end"},fit=function(e){(0,ze.Z)(t,e);var r=uit(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getPopper",value:function(){return this.popper}},{key:"hide",value:function(){this.popper.hide(),Tr((0,ne.Z)(t.prototype),"hide",this).call(this)}},{key:"getDefault",value:function(i){var a,o=Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i),s=(a=i==null?void 0:i.position)!==null&&a!==void 0?a:o.position;return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{popperPlacement:s instanceof Element?"bottom":cit[s],popperTrigger:"click"})}},{key:"onAdd",value:function(){var i=Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this);return this.initPopper(),i}},{key:"onRemove",value:function(){this.popper.destroy()}},{key:"initPopper",value:function(){var i=this,a=this.controlOption,o=a.popperClassName,s=a.popperPlacement,u=a.popperTrigger,l=this.mapsService.getMapContainer();return this.popper=new tS(this.button,{className:o,placement:s,trigger:u,container:l,unique:!0}),this.popper.on("show",function(){i.emit("popperShow",i)}).on("hide",function(){i.emit("popperHide",i)}),this.popper}},{key:"setOptions",value:function(i){if(Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),this.checkUpdateOption(i,["popperPlacement","popperTrigger","popperClassName"])){var a=this.popper.getContent();this.popper.destroy(),this.initPopper(),this.popper.setContent(a)}}}]),t}(Y3);function hit(e){var r=vit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function vit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var ao;(function(e){e.ActiveOptionClassName="l7-select-control-item-active",e.OptionValueAttrKey="data-option-value",e.OptionIndexAttrKey="data-option-index"})(ao||(ao={}));var eS=function(e){(0,ze.Z)(t,e);var r=hit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"selectValue",[]),(0,S.Z)((0,Qt.Z)(n),"createNormalOption",function(s){var u=n.selectValue.includes(s.value),l=Er("div","l7-select-control-item ".concat(u?ao.ActiveOptionClassName:""));n.getIsMultiple()&&l.appendChild(n.createCheckbox(u)),s.icon&&l.appendChild(s.icon);var c=Er("span");return c.innerText=s.text,l.appendChild(c),l}),(0,S.Z)((0,Qt.Z)(n),"onItemClick",function(s){if(n.getIsMultiple()){var u=n.selectValue.findIndex(function(l){return l===s.value});u>-1?n.selectValue.splice(u,1):n.selectValue=[].concat((0,We.Z)(n.selectValue),[s.value])}else n.selectValue=[s.value];n.setSelectValue(n.selectValue)}),n}return(0,ye.Z)(t,[{key:"setOptions",value:function(i){Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i);var a=i.options;a&&this.popper.setContent(this.getPopperContent(a))}},{key:"onAdd",value:function(){var i=Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this),a=this.controlOption.defaultValue;return a&&(this.selectValue=this.transSelectValue(a)),this.popper.setContent(this.getPopperContent(this.controlOption.options)),i}},{key:"getSelectValue",value:function(){return this.getIsMultiple()?this.selectValue:this.selectValue[0]}},{key:"setSelectValue",value:function(i){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,s=this.transSelectValue(i);this.optionDOMList.forEach(function(u){var l=u.getAttribute(ao.OptionValueAttrKey),c=a.getIsMultiple()?u.querySelector("input[type=checkbox]"):void 0;s.includes(l)?(ca(u,ao.ActiveOptionClassName),c&&s8(c,!0)):(w1(u,ao.ActiveOptionClassName),c&&s8(c,!1))}),this.selectValue=s,o&&this.emit("selectChange",this.getIsMultiple()?s:s[0])}},{key:"getIsMultiple",value:function(){return!1}},{key:"getPopperContent",value:function(i){var a=this,o=this.isImageOptions(),s=Er("div",o?"l7-select-control--image":"l7-select-control--normal");this.getIsMultiple()&&ca(s,"l7-select-control--multiple");var u=i.map(function(l,c){var f=o?a.createImageOption(l):a.createNormalOption(l);return f.setAttribute(ao.OptionValueAttrKey,l.value),f.setAttribute(ao.OptionIndexAttrKey,window.String(c)),f.addEventListener("click",a.onItemClick.bind(a,l)),f});return s.append.apply(s,(0,We.Z)(u)),this.optionDOMList=u,s}},{key:"createImageOption",value:function(i){var a=this.selectValue.includes(i.value),o=Er("div","l7-select-control-item ".concat(a?ao.ActiveOptionClassName:"")),s=Er("img");s.setAttribute("src",i.img),ax(s),o.appendChild(s);var u=Er("div","l7-select-control-item-row");this.getIsMultiple()&&o.appendChild(this.createCheckbox(a));var l=Er("span");return l.innerText=i.text,u.appendChild(l),o.appendChild(u),o}},{key:"createCheckbox",value:function(i){var a=Er("input");return a.setAttribute("type","checkbox"),i&&s8(a,!0),a}},{key:"isImageOptions",value:function(){return!!this.controlOption.options.find(function(i){return i.img})}},{key:"transSelectValue",value:function(i){return Array.isArray(i)?i:[i]}}]),t}(fit),oo=function(r){var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.classList.add("l7-iconfont"),t.setAttribute("aria-hidden","true");var n=document.createElementNS("http://www.w3.org/2000/svg","use");return n.setAttributeNS("http://www.w3.org/1999/xlink","href","#".concat(r)),t.appendChild(n),t};function pit(e){var r=dit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function dit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var jht=function(e){(0,ze.Z)(t,e);var r=pit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"onClick",(0,xe.Z)(zt().mark(function s(){var u;return zt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(u=n.controlOption.onExport,u!=null){c.next=5;break}c.next=10;break;case 5:return c.t0=u,c.next=8,n.getImage();case 8:c.t1=c.sent,(0,c.t0)(c.t1);case 10:case"end":return c.stop()}},s)}))),(0,S.Z)((0,Qt.Z)(n),"mergeImage",(0,xe.Z)(zt().mark(function s(){var u,l,c,f,h,v,p,g,y,m,E,C,A,M,Z=arguments;return zt().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:for(c=n.controlOption.imageType,f=(u=(l=n.mapsService.getContainer())===null||l===void 0?void 0:l.getBoundingClientRect())!==null&&u!==void 0?u:{},h=f.width,v=h===void 0?0:h,p=f.height,g=p===void 0?0:p,y=document.createElement("canvas"),y.width=v,y.height=g,m=y.getContext("2d"),E=Z.length,C=new Array(E),A=0;A<E;A++)C[A]=Z[A];return st.next=9,Promise.all(C.map(function(Ct){return new Promise(function(Pt){var Zt=new Image;Zt.onload=function(){Pt(Zt)},Zt.src=Ct})}));case 9:return M=st.sent,M.forEach(function(Ct){m==null||m.drawImage(Ct,0,0,v,g)}),st.abrupt("return",y.toDataURL("image/".concat(c)));case 12:case"end":return st.stop()}},s)}))),n}return(0,ye.Z)(t,[{key:"onAdd",value:function(){var i=Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this);return i.addEventListener("click",this.onClick),i}},{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{title:"\u5BFC\u51FA\u56FE\u7247",btnIcon:oo("l7-icon-export-picture"),imageType:"png"})}},{key:"getImage",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.mapsService.exportMap("png");case 2:return o=l.sent,l.next=5,this.scene.exportPng("png");case 5:return s=l.sent,l.abrupt("return",this.mergeImage(o,s));case 7:case"end":return l.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()}]),t}(Y3);function rS(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=git(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function git(e,r){if(e){if(typeof e=="string")return nS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nS(e,r)}}function nS(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var iS=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],so=function(){if(typeof document=="undefined")return!1;var e=iS[0],r={},t=rS(iS),n;try{for(t.s();!(n=t.n()).done;){var i=n.value,a=i==null?void 0:i[1];if(a in document){var o=rS(i.entries()),s;try{for(o.s();!(s=o.n()).done;){var u=(0,nr.Z)(s.value,2),l=u[0],c=u[1];r[e[l]]=c}}catch(f){o.e(f)}finally{o.f()}return r}}}catch(f){t.e(f)}finally{t.f()}return!1}(),aS={change:so.fullscreenchange,error:so.fullscreenerror},wi={request:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.documentElement,t=arguments.length>1?arguments[1]:void 0;return new Promise(function(n,i){var a=function s(){wi.off("change",s),n()};wi.on("change",a);var o=r[so.requestFullscreen](t);o instanceof Promise&&o.then(a).catch(i)})},exit:function(){return new Promise(function(r,t){if(!wi.isFullscreen){r();return}var n=function a(){wi.off("change",a),r()};wi.on("change",n);var i=document[so.exitFullscreen]();i instanceof Promise&&i.then(n).catch(t)})},toggle:function(r,t){return wi.isFullscreen?wi.exit():wi.request(r,t)},onchange:function(r){wi.on("change",r)},onerror:function(r){wi.on("error",r)},on:function(r,t){var n=aS[r];n&&document.addEventListener(n,t,!1)},off:function(r,t){var n=aS[r];n&&document.removeEventListener(n,t,!1)},raw:so};Object.defineProperties(wi,{isFullscreen:{get:function(){return Boolean(document[so.fullscreenElement])}},element:{enumerable:!0,get:function(){var r;return(r=document[so.fullscreenElement])!==null&&r!==void 0?r:void 0}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[so.fullscreenEnabled])}}}),so||(wi={isEnabled:!1});var u9=wi;function yit(e){var r=mit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function mit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Wht=function(e){(0,ze.Z)(t,e);var r=yit(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this,n),(0,S.Z)((0,Qt.Z)(i),"isFullscreen",!1),(0,S.Z)((0,Qt.Z)(i),"toggleFullscreen",(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!u9.isEnabled){s.next=3;break}return s.next=3,u9.toggle(i.mapContainer);case 3:case"end":return s.stop()}},a)}))),(0,S.Z)((0,Qt.Z)(i),"onClick",function(){i.toggleFullscreen()}),(0,S.Z)((0,Qt.Z)(i),"onFullscreenChange",function(){i.isFullscreen=!!document.fullscreenElement;var a=i.controlOption,o=a.btnText,s=a.btnIcon,u=a.title,l=a.exitBtnText,c=a.exitBtnIcon,f=a.exitTitle;i.isFullscreen?(i.setBtnTitle(f),i.setBtnText(l),i.setBtnIcon(c)):(i.setBtnTitle(u),i.setBtnText(o),i.setBtnIcon(s)),i.emit("fullscreenChange",i.isFullscreen)}),u9.isEnabled||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u5BF9\u5730\u56FE\u5168\u5C4F\u5316"),i}return(0,ye.Z)(t,[{key:"setOptions",value:function(i){var a=i.exitBtnText,o=i.exitBtnIcon,s=i.exitTitle;this.isFullscreen&&(this.checkUpdateOption(i,["exitBtnIcon"])&&this.setBtnIcon(o),this.checkUpdateOption(i,["exitBtnText"])&&this.setBtnText(a),this.checkUpdateOption(i,["exitTitle"])&&this.setBtnTitle(s)),Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i)}},{key:"onAdd",value:function(){var i=Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this);return i.addEventListener("click",this.onClick),this.mapContainer=Jm(this.scene.getSceneConfig().id),this.mapContainer.addEventListener("fullscreenchange",this.onFullscreenChange),i}},{key:"onRemove",value:function(){Tr((0,ne.Z)(t.prototype),"onRemove",this).call(this),this.mapContainer.removeEventListener("fullscreenchange",this.onFullscreenChange)}},{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{title:"\u5168\u5C4F",btnIcon:oo("l7-icon-fullscreen"),exitTitle:"\u9000\u51FA\u5168\u5C4F",exitBtnIcon:oo("l7-icon-exit-fullscreen")})}}]),t}(Y3);function xit(e){var r=_it();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function _it(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Yht=function(e){(0,ze.Z)(t,e);var r=xit(t);function t(n){var i;return(0,ge.Z)(this,t),i=r.call(this,n),(0,S.Z)((0,Qt.Z)(i),"getGeoLocation",function(){return new Promise(function(a,o){window.navigator.geolocation.getCurrentPosition(function(s){var u=s.coords,l=u!=null?u:{},c=l.longitude,f=l.latitude;!(0,Te.isNaN)(c)&&!(0,Te.isNaN)(f)?a([c,f]):o()},function(s){o(s)})})}),(0,S.Z)((0,Qt.Z)(i),"onClick",(0,xe.Z)(zt().mark(function a(){var o,s,u;return zt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(window.navigator.geolocation){c.next=2;break}return c.abrupt("return");case 2:return o=i.controlOption.transform,c.next=5,i.getGeoLocation();case 5:if(s=c.sent,u=i.mapsService.getZoom(),c.t0=i.mapsService,c.t1=u>15?u:15,!o){c.next=15;break}return c.next=12,o(s);case 12:c.t2=c.sent,c.next=16;break;case 15:c.t2=s;case 16:c.t3=c.t2,c.t0.setZoomAndCenter.call(c.t0,c.t1,c.t3);case 18:case"end":return c.stop()}},a)}))),window.navigator.geolocation||console.warn("\u5F53\u524D\u6D4F\u89C8\u5668\u73AF\u5883\u4E0D\u652F\u6301\u83B7\u53D6\u5730\u7406\u5B9A\u4F4D"),i}return(0,ye.Z)(t,[{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{title:"\u5B9A\u4F4D",btnIcon:oo("l7-icon-reposition")})}},{key:"onAdd",value:function(){var i=Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this);return i.addEventListener("click",this.onClick),i}}]),t}(Y3);function Eit(e){var r=Cit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Cit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Xht=function(e){(0,ze.Z)(t,e);var r=Eit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"onLayerChange",function(){var s;(s=n.controlOption.layers)!==null&&s!==void 0&&s.length||(n.selectValue=n.getLayerVisible(),n.setOptions({options:n.getLayerOptions()}))}),(0,S.Z)((0,Qt.Z)(n),"onLayerVisibleChane",function(){n.setSelectValue(n.getLayerVisible())}),(0,S.Z)((0,Qt.Z)(n),"onSelectChange",function(){n.layers.forEach(function(s){var u=n.selectValue.includes(s.name),l=s.isVisible();u&&!l&&s.show(),!u&&l&&s.hide()})}),n}return(0,ye.Z)(t,[{key:"layers",get:function(){var i=this.layerService,a=this.controlOption.layers;if(Array.isArray(a)&&a.length){var o=[];return a.forEach(function(s){if(s instanceof Object&&o.push(s),typeof s=="string"){var u=i.getLayer(s)||i.getLayerByName(s);u&&o.push(u)}}),o}return i.getLayers()||[]}},{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{title:"\u56FE\u5C42\u63A7\u5236",btnIcon:oo("l7-icon-layer"),options:[]})}},{key:"getLayerVisible",value:function(){return this.layers.filter(function(i){return i.isVisible()}).map(function(i){return i.name})}},{key:"getLayerOptions",value:function(){return this.layers.map(function(i){return{text:i.name,value:i.name}})}},{key:"setOptions",value:function(i){var a=this.checkUpdateOption(i,["layers"]);Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),a&&(this.selectValue=this.getLayerVisible(),this.controlOption.options=this.getLayerOptions(),this.popper.setContent(this.getPopperContent(this.controlOption.options)))}},{key:"onAdd",value:function(){var i;return(i=this.controlOption.options)!==null&&i!==void 0&&i.length||(this.controlOption.options=this.getLayerOptions()),this.controlOption.defaultValue||(this.controlOption.defaultValue=this.getLayerVisible()),this.on("selectChange",this.onSelectChange),this.layerService.on("layerChange",this.onLayerChange),Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this)}},{key:"onRemove",value:function(){this.off("selectChange",this.onSelectChange),this.layerService.off("layerChange",this.onLayerChange)}},{key:"getIsMultiple",value:function(){return!0}}]),t}(eS);function Sit(e){var r=bit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function bit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Ait=function(e){(0,ze.Z)(t,e);var r=Sit(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getDefault",value:function(){return{position:no.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}},{key:"onAdd",value:function(){var i=Er("div","l7-control-logo");return this.setLogoContent(i),i}},{key:"onRemove",value:function(){return null}},{key:"setOptions",value:function(i){Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),this.checkUpdateOption(i,["img","href"])&&(Tu(this.container),this.setLogoContent(this.container))}},{key:"setLogoContent",value:function(i){var a=this.controlOption,o=a.href,s=a.img,u=Er("img");if(u.setAttribute("src",s),u.setAttribute("aria-label","AntV logo"),ax(u),o){var l=Er("a","l7-control-logo-link");l.target="_blank",l.href=o,l.rel="noopener nofollow",l.setAttribute("rel","noopener nofollow"),l.appendChild(u),i.appendChild(l)}else i.appendChild(u)}}]),t}(D1),Mit={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qdFDSbvIalgAAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u6708\u5149\u94F6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-vcRLzu8WIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u5E7B\u5F71\u9ED1",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HMbRTI3XnpIAAAAAAAAAAAAADmJ7AQ/original"},fresh:{text:"\u8349\u8272\u9752",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqaGQ5kjSiAAAAAAAAAAAAAADmJ7AQ/original"},grey:{text:"\u96C5\u58EB\u7070",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XegrTpZIbqAAAAAAAAAAAAAADmJ7AQ/original"},graffiti:{text:"\u6D82\u9E26",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5g9SZ_Jg4cAAAAAAAAAAAAADmJ7AQ/original"},macaron:{text:"\u9A6C\u5361\u9F99",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*irVvQbDpQMwAAAAAAAAAAAAADmJ7AQ/original"},darkblue:{text:"\u6781\u591C\u84DD",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lKRzQYB4iR0AAAAAAAAAAAAADmJ7AQ/original"},wine:{text:"\u9171\u7C7D",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*orY0T7QL-lwAAAAAAAAAAAAADmJ7AQ/original"}},Tit={normal:{text:"\u6807\u51C6",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIyZTok4Uk0AAAAAAAAAAAAADmJ7AQ/original"},light:{text:"\u4EAE",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z3JRQKDI-cIAAAAAAAAAAAAADmJ7AQ/original"},dark:{text:"\u6697",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d7HCQbfmyaoAAAAAAAAAAAAADmJ7AQ/original"},satellite:{text:"\u536B\u661F",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TytUT6pS9okAAAAAAAAAAAAADmJ7AQ/original"},outdoors:{text:"\u6237\u5916",img:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hWwFSYJEFWsAAAAAAAAAAAAADmJ7AQ/original"}};function wit(e){var r=Fit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Fit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var $ht=function(e){(0,ze.Z)(t,e);var r=wit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"onMapThemeChange",function(){n.mapsService.setMapStyle(n.selectValue[0])}),n}return(0,ye.Z)(t,[{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{title:"\u5730\u56FE\u6837\u5F0F",btnIcon:oo("l7-icon-color"),options:[]})}},{key:"getStyleOptions",value:function(){var i=this.mapsService.getType()==="mapbox"?Tit:Mit;return Object.entries(this.mapsService.getMapStyleConfig()).filter(function(a){var o=(0,nr.Z)(a,2),s=o[0],u=o[1];return typeof u=="string"&&s!=="blank"}).map(function(a){var o,s=(0,nr.Z)(a,2),u=s[0],l=s[1],c=(o=i[u])!==null&&o!==void 0?o:{},f=c.text,h=c.img;return{text:f!=null?f:u,value:l,img:h,key:u}})}},{key:"getMapStyle",value:function(){return this.mapsService.getMapStyle()}},{key:"onAdd",value:function(){var i,a=this;if((i=this.controlOption.options)!==null&&i!==void 0&&i.length||(this.controlOption.options=this.getStyleOptions()),this.controlOption.defaultValue){var o,s,u=this.controlOption.defaultValue;this.controlOption.defaultValue=(o=(s=this.controlOption.options.find(function(c){return c.key===u}))===null||s===void 0?void 0:s.value)!==null&&o!==void 0?o:u}else{var l=this.getMapStyle();l?this.controlOption.defaultValue=l:this.mapsService.map.once("styledata",function(){var c=a.mapsService.getMapStyle();a.controlOption.defaultValue=c,a.setSelectValue(c,!1)})}return this.on("selectChange",this.onMapThemeChange),Tr((0,ne.Z)(t.prototype),"onAdd",this).call(this)}},{key:"getIsMultiple",value:function(){return!1}}]),t}(eS);function kit(e){var r=Oit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Oit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var qht=function(e){(0,ze.Z)(t,e);var r=kit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"location",[0,0]),(0,S.Z)((0,Qt.Z)(n),"onMouseMove",function(s){var u=n.location,l=s.lngLat||s.lnglat,c=n.controlOption.transform;l&&(u=[l.lng,l.lat]),n.location=u,c&&(u=c(u)),n.insertLocation2HTML(u),n.emit("locationChange",u)}),n}return(0,ye.Z)(t,[{key:"getLocation",value:function(){return this.location}},{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{position:no.BOTTOMLEFT,transform:function(o){var s=(0,nr.Z)(o,2),u=s[0],l=s[1];return[+(+u).toFixed(6),+(+l).toFixed(6)]}})}},{key:"onAdd",value:function(){var i=Er("div","l7-control-mouse-location");return i.innerHTML="&nbsp;",this.mapsService.on("mousemove",this.onMouseMove),i}},{key:"onRemove",value:function(){this.mapsService.off("mousemove",this.onMouseMove)}},{key:"insertLocation2HTML",value:function(i){this.container.innerText=i.join(", ")}}]),t}(D1);function Lit(e){var r=Iit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Iit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Pit=function(e){(0,ze.Z)(t,e);var r=Lit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"update",function(){var s=n.mapsService,u=n.controlOption.maxWidth,l=s.getSize()[1]/2,c=s.containerToLngLat([0,l]),f=s.containerToLngLat([u,l]),h=wQ([c.lng,c.lat],[f.lng,f.lat]);n.updateScales(h)}),n}return(0,ye.Z)(t,[{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{name:"scale",position:no.BOTTOMLEFT,maxWidth:100,metric:!0,updateWhenIdle:!1,imperial:!1,lockWidth:!0})}},{key:"onAdd",value:function(){var i="l7-control-scale",a=Er("div",i);this.resetScaleLines(a);var o=this.controlOption.updateWhenIdle;return this.mapsService.on(o?"moveend":"mapmove",this.update),this.mapsService.on(o?"zoomend":"zoomchange",this.update),a}},{key:"onRemove",value:function(){var i=this.controlOption.updateWhenIdle;this.mapsService.off(i?"zoomend":"zoomchange",this.update),this.mapsService.off(i?"moveend":"mapmove",this.update)}},{key:"setOptions",value:function(i){Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),this.checkUpdateOption(i,["lockWidth","maxWidth","metric","updateWhenIdle","imperial"])&&this.resetScaleLines(this.container)}},{key:"updateScales",value:function(i){var a=this.controlOption,o=a.metric,s=a.imperial;o&&i&&this.updateMetric(i),s&&i&&this.updateImperial(i)}},{key:"resetScaleLines",value:function(i){Tu(i);var a=this.controlOption,o=a.metric,s=a.imperial,u=a.maxWidth,l=a.lockWidth;l&&nx(i,"width: ".concat(u,"px")),o&&(this.mScale=Er("div","l7-control-scale-line",i)),s&&(this.iScale=Er("div","l7-control-scale-line",i)),this.update()}},{key:"updateScale",value:function(i,a,o){var s=this.controlOption.maxWidth;i.style.width=Math.round(s*o)+"px",i.innerHTML=a}},{key:"getRoundNum",value:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),o=i/a;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,a*o}},{key:"updateMetric",value:function(i){var a=this.getRoundNum(i),o=a<1e3?a+" m":a/1e3+" km";this.updateScale(this.mScale,o,a/i)}},{key:"updateImperial",value:function(i){var a=i*3.2808399,o,s,u;a>5280?(o=a/5280,s=this.getRoundNum(o),this.updateScale(this.iScale,s+" mi",s/o)):(u=this.getRoundNum(a),this.updateScale(this.iScale,u+" ft",u/a))}}]),t}(D1);function Rit(e){var r=Dit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Dit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Bit=function(e){(0,ze.Z)(t,e);var r=Rit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"zoomIn",function(){!n.disabled&&n.mapsService.getZoom()<n.mapsService.getMaxZoom()&&n.mapsService.zoomIn()}),(0,S.Z)((0,Qt.Z)(n),"zoomOut",function(){!n.disabled&&n.mapsService.getZoom()>n.mapsService.getMinZoom()&&n.mapsService.zoomOut()}),(0,S.Z)((0,Qt.Z)(n),"updateDisabled",function(){var s=n.mapsService;n.zoomInButton.removeAttribute("disabled"),n.zoomOutButton.removeAttribute("disabled"),(n.disabled||s.getZoom()<=s.getMinZoom())&&n.zoomOutButton.setAttribute("disabled","true"),(n.disabled||s.getZoom()>=s.getMaxZoom())&&n.zoomInButton.setAttribute("disabled","true")}),n}return(0,ye.Z)(t,[{key:"getDefault",value:function(i){return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{position:no.BOTTOMRIGHT,name:"zoom",zoomInText:oo("l7-icon-enlarge"),zoomInTitle:"Zoom in",zoomOutText:oo("l7-icon-narrow"),zoomOutTitle:"Zoom out"})}},{key:"setOptions",value:function(i){Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),this.checkUpdateOption(i,["zoomInText","zoomInTitle","zoomOutText","zoomOutTitle"])&&this.resetButtonGroup(this.container)}},{key:"onAdd",value:function(){var i=Er("div","l7-control-zoom");return this.resetButtonGroup(i),this.mapsService.on("zoomend",this.updateDisabled),this.mapsService.on("zoomchange",this.updateDisabled),i}},{key:"onRemove",value:function(){this.mapsService.off("zoomend",this.updateDisabled),this.mapsService.off("zoomchange",this.updateDisabled)}},{key:"disable",value:function(){return this.disabled=!0,this.updateDisabled(),this}},{key:"enable",value:function(){return this.disabled=!1,this.updateDisabled(),this}},{key:"resetButtonGroup",value:function(i){Tu(i),this.zoomInButton=this.createButton(this.controlOption.zoomInText,this.controlOption.zoomInTitle,"l7-button-control",i,this.zoomIn),this.zoomOutButton=this.createButton(this.controlOption.zoomOutText,this.controlOption.zoomOutTitle,"l7-button-control",i,this.zoomOut),this.updateDisabled()}},{key:"createButton",value:function(i,a,o,s,u){var l=Er("button",o,s);return typeof i=="string"?l.innerHTML=i:l.append(i),l.title=a,l.addEventListener("click",u),l}}]),t}(D1);function Nit(e){var r=Zit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Zit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var zit=function(e){(0,ze.Z)(t,e);var r=Nit(t);function t(n){var i;(0,ge.Z)(this,t),i=r.call(this),(0,S.Z)((0,Qt.Z)(i),"isShow",!0),(0,S.Z)((0,Qt.Z)(i),"onMouseMove",function(o){var s,u=i.mapsService.getMapContainer(),l=(s=u==null?void 0:u.getBoundingClientRect())!==null&&s!==void 0?s:{},c=l.left,f=c===void 0?0:c,h=l.top,v=h===void 0?0:h;i.setPopupPosition(o.clientX-f,o.clientY-v)}),(0,S.Z)((0,Qt.Z)(i),"updateLngLatPosition",function(){if(!(!i.mapsService||i.popupOption.followCursor)){var o=i.lngLat,s=o.lng,u=o.lat,l=i.mapsService.lngLatToContainer([s,u]),c=l.x,f=l.y;i.setPopupPosition(c,f)}}),(0,S.Z)((0,Qt.Z)(i),"onKeyDown",function(o){o.keyCode===27&&i.remove()}),(0,S.Z)((0,Qt.Z)(i),"onCloseButtonClick",function(o){o.stopPropagation&&o.stopPropagation(),i.hide()}),(0,S.Z)((0,Qt.Z)(i),"update",function(){var o=!!i.lngLat,s=i.popupOption,u=s.className,l=s.style,c=s.maxWidth,f=s.anchor,h=s.stopPropagation;if(!(!i.mapsService||!o||!i.content)){var v=i.mapsService.getMarkerContainer();if(!i.container&&v&&(i.container=Er("div","l7-popup ".concat(u!=null?u:""," ").concat(i.isShow?"":"l7-popup-hide"),v),l&&i.container.setAttribute("style",l),i.tip=Er("div","l7-popup-tip",i.container),i.container.appendChild(i.content),h&&["mousemove","mousedown","mouseup","click","dblclick"].forEach(function(y){i.container.addEventListener(y,function(m){m.stopPropagation()})}),i.container.style.whiteSpace="nowrap"),i.updateLngLatPosition(),rx(i.container,"".concat(C3[f])),Hm(i.container,f,"popup"),c){var p=i.container.getBoundingClientRect(),g=p.width;g>parseFloat(c)&&(i.container.style.width=c)}else i.container.style.removeProperty("width")}}),i.popupOption=(0,H.Z)((0,H.Z)({},i.getDefault(n!=null?n:{})),n);var a=i.popupOption.lngLat;return a&&(i.lngLat=a),i}return(0,ye.Z)(t,[{key:"lngLat",get:function(){var i;return(i=this.popupOption.lngLat)!==null&&i!==void 0?i:{lng:0,lat:0}},set:function(i){this.popupOption.lngLat=i}},{key:"getIsShow",value:function(){return this.isShow}},{key:"addTo",value:function(i){this.mapsService=i.get(ve.IMapService),this.sceneService=i.get(ve.ISceneService),this.layerService=i.get(ve.ILayerService),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update),this.scene=i,this.update(),this.updateCloseOnClick(),this.updateCloseOnEsc(),this.updateFollowCursor();var a=this.popupOption,o=a.html,s=a.text,u=a.title;return o?this.setHTML(o):s&&this.setText(s),u&&this.setTitle(u),this.emit("open"),this}},{key:"remove",value:function(){if(this!==null&&this!==void 0&&this.isOpen())return this.content&&Ai(this.content),this.container&&(Ai(this.container),delete this.container),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.updateCloseOnClick(!0),this.updateCloseOnEsc(!0),this.updateFollowCursor(!0),delete this.mapsService),this.emit("close"),this}},{key:"getOptions",value:function(){return this.popupOption}},{key:"setOptions",value:function(i){return this.show(),this.popupOption=(0,H.Z)((0,H.Z)({},this.popupOption),i),this.checkUpdateOption(i,["html","text","title","closeButton","closeButtonOffsets","maxWidth","anchor","stopPropagation","className","style","lngLat","offsets"])&&(this.container&&(Ai(this.container),this.container=void 0),this.popupOption.html?this.setHTML(this.popupOption.html):this.popupOption.text&&this.setText(this.popupOption.text),this.popupOption.title&&this.setTitle(this.popupOption.title)),this.checkUpdateOption(i,["closeOnEsc"])&&this.updateCloseOnEsc(),this.checkUpdateOption(i,["closeOnClick"])&&this.updateCloseOnClick(),this.checkUpdateOption(i,["followCursor"])&&this.updateFollowCursor(),this.checkUpdateOption(i,["html"])&&i.html?this.setHTML(i.html):this.checkUpdateOption(i,["text"])&&i.text&&this.setText(i.text),this.checkUpdateOption(i,["lngLat"])&&i.lngLat&&this.setLnglat(i.lngLat),this}},{key:"open",value:function(){return this.addTo(this.scene),this}},{key:"close",value:function(){return this.remove(),this}},{key:"show",value:function(){if(!this.isShow)return this.container&&w1(this.container,"l7-popup-hide"),this.isShow=!0,this.emit("show"),this}},{key:"hide",value:function(){if(this.isShow)return this.container&&ca(this.container,"l7-popup-hide"),this.isShow=!1,this.emit("hide"),this}},{key:"setHTML",value:function(i){return this.popupOption.html=i,this.setDOMContent(i)}},{key:"setText",value:function(i){return this.popupOption.text=i,this.setDOMContent(window.document.createTextNode(i))}},{key:"setTitle",value:function(i){this.show(),this.popupOption.title=i,i?(this.contentTitle||(this.contentTitle=Er("div","l7-popup-content__title"),this.content.firstChild?this.content.insertBefore(this.contentTitle,this.content.firstChild):this.content.append(this.contentTitle)),Tu(this.contentTitle),F1(this.contentTitle,i)):this.contentTitle&&(Ai(this.contentTitle),this.contentTitle=void 0)}},{key:"panToPopup",value:function(){var i=this.lngLat,a=i.lng,o=i.lat;return this.popupOption.autoPan&&this.mapsService.panTo([a,o]),this}},{key:"setLngLat",value:function(i){return this.setLnglat(i)}},{key:"setLnglat",value:function(i){var a=this;return this.show(),this.lngLat=i,Array.isArray(i)&&(this.lngLat={lng:i[0],lat:i[1]}),this.mapsService&&(this.mapsService.off("camerachange",this.update),this.mapsService.off("viewchange",this.update),this.mapsService.on("camerachange",this.update),this.mapsService.on("viewchange",this.update)),this.update(),this.popupOption.autoPan&&setTimeout(function(){a.panToPopup()},0),this}},{key:"getLnglat",value:function(){return this.lngLat}},{key:"setMaxWidth",value:function(i){return this.popupOption.maxWidth=i,this.update(),this}},{key:"isOpen",value:function(){return!!this.mapsService}},{key:"getDefault",value:function(i){return{closeButton:!0,closeOnClick:!1,maxWidth:"240px",offsets:[0,0],anchor:Su.BOTTOM,stopPropagation:!0,autoPan:!1,autoClose:!0,closeOnEsc:!1,followCursor:!1}}},{key:"setDOMContent",value:function(i){return this.show(),this.createContent(),F1(this.contentPanel,i),this.update(),this}},{key:"updateCloseOnClick",value:function(i){var a=this,o=this.mapsService;o&&(o==null||o.off("click",this.onCloseButtonClick),this.popupOption.closeOnClick&&!i&&requestAnimationFrame(function(){o==null||o.on("click",a.onCloseButtonClick)}))}},{key:"updateCloseOnEsc",value:function(i){window.removeEventListener("keydown",this.onKeyDown),this.popupOption.closeOnEsc&&!i&&window.addEventListener("keydown",this.onKeyDown)}},{key:"updateFollowCursor",value:function(i){var a,o=(a=this.mapsService)===null||a===void 0?void 0:a.getContainer();o&&(o==null||o.removeEventListener("mousemove",this.onMouseMove),this.popupOption.followCursor&&!i&&(o==null||o.addEventListener("mousemove",this.onMouseMove)))}},{key:"createContent",value:function(){var i=this;if(this.content&&Ai(this.content),this.contentTitle=void 0,this.content=Er("div","l7-popup-content",this.container),this.setTitle(this.popupOption.title),this.popupOption.closeButton){var a=oo("l7-icon-guanbi");ca(a,"l7-popup-close-button"),this.content.appendChild(a),this.popupOption.closeButtonOffsets&&(a.style.right=this.popupOption.closeButtonOffsets[0]+"px",a.style.top=this.popupOption.closeButtonOffsets[1]+"px"),a.setAttribute("aria-label","Close popup"),a.addEventListener("click",function(){i.hide()}),this.closeButton=a}else this.closeButton=void 0;this.contentPanel=Er("div","l7-popup-content__panel",this.content)}},{key:"setPopupPosition",value:function(i,a){if(this.container){var o=this.popupOption.offsets;this.container.style.left=i+o[0]+"px",this.container.style.top=a-o[1]+"px"}}},{key:"checkUpdateOption",value:function(i,a){return a.some(function(o){return o in i})}}]),t}(Vn.EventEmitter);function Uit(e){var r=Hit();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Hit(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Kht=function(e){(0,ze.Z)(t,e);var r=Uit(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"layerConfigMap",new WeakMap),n}return(0,ye.Z)(t,[{key:"layerConfigItems",get:function(){var i,a=this.popupOption,o=a.config,s=a.items;return(i=o!=null?o:s)!==null&&i!==void 0?i:[]}},{key:"addTo",value:function(i){return Tr((0,ne.Z)(t.prototype),"addTo",this).call(this,i),this.bindLayerEvent(),this.hide(),this}},{key:"remove",value:function(){return Tr((0,ne.Z)(t.prototype),"remove",this).call(this),this.unbindLayerEvent(),this}},{key:"setOptions",value:function(i){return this.unbindLayerEvent(),Tr((0,ne.Z)(t.prototype),"setOptions",this).call(this,i),this.bindLayerEvent(),this}},{key:"getDefault",value:function(i){var a=i.trigger==="click";return(0,H.Z)((0,H.Z)({},Tr((0,ne.Z)(t.prototype),"getDefault",this).call(this,i)),{},{trigger:"hover",followCursor:!a,lngLat:{lng:0,lat:0},offsets:[0,10],closeButton:!1,closeOnClick:!1,autoClose:!1,closeOnEsc:!1})}},{key:"bindLayerEvent",value:function(){var i=this,a=this.popupOption.trigger;this.layerConfigItems.forEach(function(o){var s,u=i.getLayerByConfig(o);if(u){var l=(0,H.Z)({},o);if(a==="hover"){var c=i.onLayerMouseMove.bind(i,u),f=i.onLayerMouseOut.bind(i,u);l.onMouseMove=c,l.onMouseOut=f,u==null||u.on("mousemove",c),u==null||u.on("mouseout",f)}else{var h=i.onLayerClick.bind(i,u);l.onClick=h,u==null||u.on("click",h)}var v=u==null||(s=u.getSource)===null||s===void 0?void 0:s.call(u),p=i.onSourceUpdate.bind(i,u);v==null||v.on("update",p),l.onSourceUpdate=p,i.layerConfigMap.set(u,l)}})}},{key:"unbindLayerEvent",value:function(){var i=this;this.layerConfigItems.forEach(function(a){var o=i.getLayerByConfig(a),s=o&&i.layerConfigMap.get(o);if(s){var u=s.onMouseMove,l=s.onMouseOut,c=s.onClick,f=s.onSourceUpdate;if(u&&o.off("mousemove",u),l&&o.off("mouseout",l),c&&o.off("click",c),f){var h;o==null||(h=o.getSource())===null||h===void 0||h.off("update",f)}}})}},{key:"onLayerMouseMove",value:function(i,a){if(!this.isSameFeature(i,a.featureId)){var o=this.getLayerInfoFrag(i,a),s=o.title,u=o.content;this.setDOMContent(u),this.setTitle(s),this.displayFeatureInfo={layer:i,featureId:a.featureId},this.show()}}},{key:"onLayerMouseOut",value:function(i,a){this.displayFeatureInfo=void 0,this.isShow&&this.hide()}},{key:"onLayerClick",value:function(i,a){if(this.isShow&&this.isSameFeature(i,a.featureId))this.hide();else{var o=this.getLayerInfoFrag(i,a),s=o.title,u=o.content;this.setDOMContent(u),this.setLnglat(a.lngLat),this.setTitle(s),this.displayFeatureInfo={layer:i,featureId:a.featureId},this.show()}}},{key:"onSourceUpdate",value:function(i){var a;((a=this.displayFeatureInfo)===null||a===void 0?void 0:a.layer)===i&&(this.hide(),this.displayFeatureInfo=void 0)}},{key:"getLayerInfoFrag",value:function(i,a){var o=this.layerConfigMap.get(i),s,u=document.createDocumentFragment();if(o){var l=a.feature;l.type==="Feature"&&"properties"in l&&"geometry"in l&&(l=l.properties);var c=o.title,f=o.fields,h=o.customContent;if(c){s=document.createDocumentFragment();var v=c instanceof Function?c(l):c;F1(s,v)}if(h){var p=h instanceof Function?h(l):h;F1(u,p)}else f!=null&&f.length&&(f==null||f.forEach(function(g){var y,m,E=typeof g=="string"?{field:g}:g,C=E.field,A=E.formatField,M=E.formatValue,Z=E.getValue,Y=Er("div","l7-layer-popup__row"),st=Z?Z(a.feature):(0,Te.get)(l,C),Ct=(y=A instanceof Function?A(C,l):A)!==null&&y!==void 0?y:C,Pt=(m=M instanceof Function?M(st,l):M)!==null&&m!==void 0?m:st,Zt=Er("span","l7-layer-popup__key",Y);F1(Zt,Ct),F1(Zt,document.createTextNode("\uFF1A"));var ie=Er("span","l7-layer-popup__value",Y);F1(ie,Pt),u.appendChild(Y)}))}return{title:s,content:u}}},{key:"getLayerByConfig",value:function(i){var a=i.layer;if(a instanceof Object)return a;if(typeof a=="string")return this.layerService.getLayer(a)||this.layerService.getLayerByName(a)}},{key:"isSameFeature",value:function(i,a){var o=this.displayFeatureInfo;return o&&i===o.layer&&a===o.featureId}}]),t}(zit);function Vit(e,r){var t=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(t||n)&&(r||(r=document),!!r)){var i=r.head||r.getElementsByTagName("head")[0];if(!i){i=r.createElement("head");var a=r.body||r.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):r.documentElement.appendChild(i)}var o=r.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(r.createTextNode(e)),i.appendChild(o),o}}Vit(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font: 12px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  -webkit-box-shadow: none;
          box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
}
.l7-control-container {
  font: 12px/1.5 'Helvetica Neue', Arial, Helvetica, sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 800;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  position: absolute;
  z-index: 1000;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}
.l7-control-container .l7-column {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  -webkit-transition: all 0.2s;
  transition: all 0.2s;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  padding: 0 6px;
  -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
          box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
          box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
          box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
      -ms-flex-direction: row-reverse;
          flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  -webkit-box-orient: vertical;
  -webkit-box-direction: reverse;
      -ms-flex-direction: column-reverse;
          flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}
.l7-popper.l7-popper-end {
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  height: 24px;
  line-height: 24px;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  padding: 0 16px;
  font-size: 12px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  height: 14px;
  width: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  padding: 12px 12px 0 12px;
  width: 474px;
  height: 320px;
  overflow: auto;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
      flex-wrap: wrap;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  -webkit-box-align: start;
      -ms-flex-align: start;
          align-items: flex-start;
}
.l7-select-control--image .l7-select-control-item {
  margin-right: 12px;
  border-radius: 2px;
  overflow: hidden;
  border: 1px solid #fff;
  -webkit-box-sizing: content-box;
          box-sizing: content-box;
  width: calc((100% - 36px) / 3);
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  margin-bottom: 12px;
  position: relative;
  font-size: 12px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 142px;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  right: 0;
  top: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: center;
      -ms-flex-pack: center;
          justify-content: center;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control--image .l7-select-control-item:nth-child(3n) {
  margin-right: 0;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
          box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
          box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  overflow: hidden;
}
.l7-control-zoom .l7-button-control {
  -webkit-box-shadow: 0 0 0;
          box-shadow: 0 0 0;
  border-radius: 0;
  font-size: 16px;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:first-child {
  border-bottom: 1px solid #f0f0f0;
}
.l7-control-scale {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  -webkit-transition: width 0.1s;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: end;
      -ms-flex-align: end;
          align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: reverse;
      -ms-flex-direction: column-reverse;
          flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: normal;
      -ms-flex-direction: row;
          flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  -webkit-box-orient: horizontal;
  -webkit-box-direction: reverse;
      -ms-flex-direction: row-reverse;
          flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  -webkit-align-self: flex-start;
  -ms-flex-item-align: start;
      align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  -webkit-align-self: flex-end;
  -ms-flex-item-align: end;
      align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  -webkit-align-self: center;
  -ms-flex-item-align: center;
      align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
`);var oS={},sS={},uS=function(r){return sS[r]},La=function(r,t){sS[r]=t},Git=function(r){return oS[r]},U0=function(r,t){oS[r]=t},lS={},l9={},c9=34,qu=10,f9=13;function cS(e){return new Function("d","return {"+e.map(function(r,t){return JSON.stringify(r)+": d["+t+'] || ""'}).join(",")+"}")}function jit(e,r){var t=cS(e);return function(n,i){return r(t(n),i,e)}}function fS(e){var r=Object.create(null),t=[];return e.forEach(function(n){for(var i in n)i in r||t.push(r[i]=i)}),t}function hi(e,r){var t=e+"",n=t.length;return n<r?new Array(r-n+1).join(0)+t:t}function Wit(e){return e<0?"-"+hi(-e,6):e>9999?"+"+hi(e,6):hi(e,4)}function Yit(e){var r=e.getUTCHours(),t=e.getUTCMinutes(),n=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Wit(e.getUTCFullYear(),4)+"-"+hi(e.getUTCMonth()+1,2)+"-"+hi(e.getUTCDate(),2)+(i?"T"+hi(r,2)+":"+hi(t,2)+":"+hi(n,2)+"."+hi(i,3)+"Z":n?"T"+hi(r,2)+":"+hi(t,2)+":"+hi(n,2)+"Z":t||r?"T"+hi(r,2)+":"+hi(t,2)+"Z":"")}function Xit(e){var r=new RegExp('["'+e+`
\r]`),t=e.charCodeAt(0);function n(f,h){var v,p,g=i(f,function(y,m){if(v)return v(y,m-1);p=y,v=h?jit(y,h):cS(y)});return g.columns=p||[],g}function i(f,h){var v=[],p=f.length,g=0,y=0,m,E=p<=0,C=!1;f.charCodeAt(p-1)===qu&&--p,f.charCodeAt(p-1)===f9&&--p;function A(){if(E)return l9;if(C)return C=!1,lS;var Z,Y=g,st;if(f.charCodeAt(Y)===c9){for(;g++<p&&f.charCodeAt(g)!==c9||f.charCodeAt(++g)===c9;);return(Z=g)>=p?E=!0:(st=f.charCodeAt(g++))===qu?C=!0:st===f9&&(C=!0,f.charCodeAt(g)===qu&&++g),f.slice(Y+1,Z-1).replace(/""/g,'"')}for(;g<p;){if((st=f.charCodeAt(Z=g++))===qu)C=!0;else if(st===f9)C=!0,f.charCodeAt(g)===qu&&++g;else if(st!==t)continue;return f.slice(Y,Z)}return E=!0,f.slice(Y,p)}for(;(m=A())!==l9;){for(var M=[];m!==lS&&m!==l9;)M.push(m),m=A();h&&(M=h(M,y++))==null||v.push(M)}return v}function a(f,h){return f.map(function(v){return h.map(function(p){return c(v[p])}).join(e)})}function o(f,h){return h==null&&(h=fS(f)),[h.map(c).join(e)].concat(a(f,h)).join(`
`)}function s(f,h){return h==null&&(h=fS(f)),a(f,h).join(`
`)}function u(f){return f.map(l).join(`
`)}function l(f){return f.map(c).join(e)}function c(f){return f==null?"":f instanceof Date?Yit(f):r.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:n,parseRows:i,format:o,formatBody:s,formatRows:u,formatRow:l,formatValue:c}}var B1=Xit(","),$it=B1.parse,Qht=B1.parseRows,Jht=B1.format,tvt=B1.formatBody,evt=B1.formatRows,rvt=B1.formatRow,nvt=B1.formatValue,qit=F(70309),h9=F.n(qit);function ivt(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function hS(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Kit(e){if(e.length>1&&isNumber(e[0])&&isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return Kit(e[0]);throw new Error("coordinates must only contain numbers")}function avt(e,r,t){if(!r||!t)throw new Error("type and name required");if(!e||e.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.type)}function ovt(e,r,t){if(!e)throw new Error("No feature passed");if(!t)throw new Error(".featureOf() requires a name");if(!e||e.type!=="Feature"||!e.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!e.geometry||e.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+e.geometry.type)}function svt(e,r,t){if(!e)throw new Error("No featureCollection passed");if(!t)throw new Error(".collectionOf() requires a name");if(!e||e.type!=="FeatureCollection")throw new Error("Invalid input to "+t+", FeatureCollection required");for(var n=0,i=e.features;n<i.length;n++){var a=i[n];if(!a||a.type!=="Feature"||!a.geometry)throw new Error("Invalid input to "+t+", Feature with geometry required");if(!a.geometry||a.geometry.type!==r)throw new Error("Invalid input to "+t+": must be a "+r+", given "+a.geometry.type)}}function vS(e){return e.type==="Feature"?e.geometry:e}function uvt(e,r){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function pS(e,r){var t=r.x,n=r.y,i=r.x1,a=r.y1,o=r.coordinates,s=r.geometry,u=[];if(!Array.isArray(e))return{dataArray:[]};if(s)return e.filter(function(m){return m[s]&&m[s].type&&m[s].coordinates&&m[s].coordinates.length>0}).forEach(function(m,E){var C=h9()((0,H.Z)({},m[s]),!0);ku(C,function(A){var M=hS(A),Z=(0,H.Z)((0,H.Z)({},m),{},{_id:E,coordinates:M});u.push(Z)})}),{dataArray:u};for(var l=0;l<e.length;l++){var c=e[l],f=[];if(o){var h="Polygon";Array.isArray(o[0])||(h="Point"),Array.isArray(o[0])&&!Array.isArray(o[0][0])&&(h="LineString");var v=h9()({type:h,coordinates:(0,We.Z)(c[o])},!0);f=v.coordinates}else if(t&&n&&i&&a){var p=[parseFloat(c[t]),parseFloat(c[n])],g=[parseFloat(c[i]),parseFloat(c[a])];f=[p,g]}else t&&n&&(f=[parseFloat(c[t]),parseFloat(c[n])]);var y=(0,H.Z)((0,H.Z)({},c),{},{_id:l,coordinates:f});u.push(y)}return{dataArray:u}}function Qit(e,r){var t=$it(e);return pS(t,r)}function Jit(e){for(var r=e.toString(),t=5381,n=r.length;n;)t=t*33^r.charCodeAt(--n);return t>>>0}function tat(e,r){return r===void 0?null:(0,Eu.Z)(e.properties[r])*1==="number"?e.properties[r]*1:e.properties&&e.properties[r]?Jit(e.properties[r]+"")%1000019:null}function eat(e,r){var t=[],n={};return e.features?(e.features=e.features.filter(function(i){var a=i.geometry;return i!=null&&a&&a.type&&a.coordinates&&a.coordinates.length>0}),h9()(e,!0),e.features.length===0?{dataArray:[],featureKeys:n}:(ku(e,function(i,a){var o=tat(i,r==null?void 0:r.featureId);o===null&&(o=a);var s=o,u=hS(i),l=(0,H.Z)((0,H.Z)({},i.properties),{},{coordinates:u,_id:s});t.push(l)}),{dataArray:t,featureKeys:n})):(e.features=[],{dataArray:[]})}function v9(e,r,t,n){for(var i=n,a=t-r>>1,o=t-r,s,u=e[r],l=e[r+1],c=e[t],f=e[t+1],h=r+3;h<t;h+=3){var v=rat(e[h],e[h+1],u,l,c,f);if(v>i)s=h,i=v;else if(v===i){var p=Math.abs(h-a);p<o&&(s=h,o=p)}}i>n&&(s-r>3&&v9(e,r,s,n),e[s+2]=i,t-s>3&&v9(e,s,t,n))}function rat(e,r,t,n,i,a){var o=i-t,s=a-n;if(o!==0||s!==0){var u=((e-t)*o+(r-n)*s)/(o*o+s*s);u>1?(t=i,n=a):u>0&&(t+=o*u,n+=s*u)}return o=e-t,s=r-n,o*o+s*s}function Ku(e,r,t,n){var i={id:typeof e=="undefined"?null:e,type:r,geometry:t,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return nat(i),i}function nat(e){var r=e.geometry,t=e.type;if(t==="Point"||t==="MultiPoint"||t==="LineString")p9(e,r);else if(t==="Polygon"||t==="MultiLineString")for(var n=0;n<r.length;n++)p9(e,r[n]);else if(t==="MultiPolygon")for(n=0;n<r.length;n++)for(var i=0;i<r[n].length;i++)p9(e,r[n][i])}function p9(e,r){for(var t=0;t<r.length;t+=3)e.minX=Math.min(e.minX,r[t]),e.minY=Math.min(e.minY,r[t+1]),e.maxX=Math.max(e.maxX,r[t]),e.maxY=Math.max(e.maxY,r[t+1])}function iat(e,r){var t=[];if(e.type==="FeatureCollection")for(var n=0;n<e.features.length;n++)X3(t,e.features[n],r,n);else e.type==="Feature"?X3(t,e,r):X3(t,{geometry:e},r);return t}function X3(e,r,t,n){if(r.geometry){var i=r.geometry.coordinates,a=r.geometry.type,o=Math.pow(t.tolerance/((1<<t.maxZoom)*t.extent),2),s=[],u=r.id;if(t.promoteId?u=r.properties[t.promoteId]:t.generateId&&(u=n||0),a==="Point")dS(i,s);else if(a==="MultiPoint")for(var l=0;l<i.length;l++)dS(i[l],s);else if(a==="LineString")d9(i,s,o,!1);else if(a==="MultiLineString")if(t.lineMetrics){for(l=0;l<i.length;l++)s=[],d9(i[l],s,o,!1),e.push(Ku(u,"LineString",s,r.properties));return}else g9(i,s,o,!1);else if(a==="Polygon")g9(i,s,o,!0);else if(a==="MultiPolygon")for(l=0;l<i.length;l++){var c=[];g9(i[l],c,o,!0),s.push(c)}else if(a==="GeometryCollection"){for(l=0;l<r.geometry.geometries.length;l++)X3(e,{id:u,geometry:r.geometry.geometries[l],properties:r.properties},t,n);return}else throw new Error("Input data is not a valid GeoJSON object.");e.push(Ku(u,a,s,r.properties))}}function dS(e,r){r.push(gS(e[0])),r.push(yS(e[1])),r.push(0)}function d9(e,r,t,n){for(var i,a,o=0,s=0;s<e.length;s++){var u=gS(e[s][0]),l=yS(e[s][1]);r.push(u),r.push(l),r.push(0),s>0&&(n?o+=(i*l-u*a)/2:o+=Math.sqrt(Math.pow(u-i,2)+Math.pow(l-a,2))),i=u,a=l}var c=r.length-3;r[2]=1,v9(r,0,c,t),r[c+2]=1,r.size=Math.abs(o),r.start=0,r.end=r.size}function g9(e,r,t,n){for(var i=0;i<e.length;i++){var a=[];d9(e[i],a,t,n),r.push(a)}}function gS(e){return e/360+.5}function yS(e){var r=Math.sin(e*Math.PI/180),t=.5-.25*Math.log((1+r)/(1-r))/Math.PI;return t<0?0:t>1?1:t}function uo(e,r,t,n,i,a,o,s){if(t/=r,n/=r,a>=t&&o<n)return e;if(o<t||a>=n)return null;for(var u=[],l=0;l<e.length;l++){var c=e[l],f=c.geometry,h=c.type,v=i===0?c.minX:c.minY,p=i===0?c.maxX:c.maxY;if(v>=t&&p<n){u.push(c);continue}else if(p<t||v>=n)continue;var g=[];if(h==="Point"||h==="MultiPoint")aat(f,g,t,n,i);else if(h==="LineString")mS(f,g,t,n,i,!1,s.lineMetrics);else if(h==="MultiLineString")y9(f,g,t,n,i,!1);else if(h==="Polygon")y9(f,g,t,n,i,!0);else if(h==="MultiPolygon")for(var y=0;y<f.length;y++){var m=[];y9(f[y],m,t,n,i,!0),m.length&&g.push(m)}if(g.length){if(s.lineMetrics&&h==="LineString"){for(y=0;y<g.length;y++)u.push(Ku(c.id,h,g[y],c.tags));continue}(h==="LineString"||h==="MultiLineString")&&(g.length===1?(h="LineString",g=g[0]):h="MultiLineString"),(h==="Point"||h==="MultiPoint")&&(h=g.length===3?"Point":"MultiPoint"),u.push(Ku(c.id,h,g,c.tags))}}return u.length?u:null}function aat(e,r,t,n,i){for(var a=0;a<e.length;a+=3){var o=e[a+i];o>=t&&o<=n&&(r.push(e[a]),r.push(e[a+1]),r.push(e[a+2]))}}function mS(e,r,t,n,i,a,o){for(var s=xS(e),u=i===0?oat:sat,l=e.start,c,f,h=0;h<e.length-3;h+=3){var v=e[h],p=e[h+1],g=e[h+2],y=e[h+3],m=e[h+4],E=i===0?v:p,C=i===0?y:m,A=!1;o&&(c=Math.sqrt(Math.pow(v-y,2)+Math.pow(p-m,2))),E<t?C>t&&(f=u(s,v,p,y,m,t),o&&(s.start=l+c*f)):E>n?C<n&&(f=u(s,v,p,y,m,n),o&&(s.start=l+c*f)):m9(s,v,p,g),C<t&&E>=t&&(f=u(s,v,p,y,m,t),A=!0),C>n&&E<=n&&(f=u(s,v,p,y,m,n),A=!0),!a&&A&&(o&&(s.end=l+c*f),r.push(s),s=xS(e)),o&&(l+=c)}var M=e.length-3;v=e[M],p=e[M+1],g=e[M+2],E=i===0?v:p,E>=t&&E<=n&&m9(s,v,p,g),M=s.length-3,a&&M>=3&&(s[M]!==s[0]||s[M+1]!==s[1])&&m9(s,s[0],s[1],s[2]),s.length&&r.push(s)}function xS(e){var r=[];return r.size=e.size,r.start=e.start,r.end=e.end,r}function y9(e,r,t,n,i,a){for(var o=0;o<e.length;o++)mS(e[o],r,t,n,i,a,!1)}function m9(e,r,t,n){e.push(r),e.push(t),e.push(n)}function oat(e,r,t,n,i,a){var o=(a-r)/(n-r);return e.push(a),e.push(t+(i-t)*o),e.push(1),o}function sat(e,r,t,n,i,a){var o=(a-t)/(i-t);return e.push(r+(n-r)*o),e.push(a),e.push(1),o}function uat(e,r){var t=r.buffer/r.extent,n=e,i=uo(e,1,-1-t,t,0,-1,2,r),a=uo(e,1,1-t,2+t,0,-1,2,r);return(i||a)&&(n=uo(e,1,-t,1+t,0,-1,2,r)||[],i&&(n=_S(i,1).concat(n)),a&&(n=n.concat(_S(a,-1)))),n}function _S(e,r){for(var t=[],n=0;n<e.length;n++){var i=e[n],a=i.type,o;if(a==="Point"||a==="MultiPoint"||a==="LineString")o=x9(i.geometry,r);else if(a==="MultiLineString"||a==="Polygon"){o=[];for(var s=0;s<i.geometry.length;s++)o.push(x9(i.geometry[s],r))}else if(a==="MultiPolygon")for(o=[],s=0;s<i.geometry.length;s++){for(var u=[],l=0;l<i.geometry[s].length;l++)u.push(x9(i.geometry[s][l],r));o.push(u)}t.push(Ku(i.id,a,o,i.tags))}return t}function x9(e,r){var t=[];t.size=e.size,e.start!==void 0&&(t.start=e.start,t.end=e.end);for(var n=0;n<e.length;n+=3)t.push(e[n]+r,e[n+1],e[n+2]);return t}function ES(e,r){if(e.transformed)return e;var t=1<<e.z,n=e.x,i=e.y,a,o,s;for(a=0;a<e.features.length;a++){var u=e.features[a],l=u.geometry,c=u.type;if(u.geometry=[],c===1)for(o=0;o<l.length;o+=2)u.geometry.push(CS(l[o],l[o+1],r,t,n,i));else for(o=0;o<l.length;o++){var f=[];for(s=0;s<l[o].length;s+=2)f.push(CS(l[o][s],l[o][s+1],r,t,n,i));u.geometry.push(f)}}return e.transformed=!0,e}function CS(e,r,t,n,i,a){return[Math.round(t*(e*n-i)),Math.round(t*(r*n-a))]}function lat(e,r,t,n,i){for(var a=r===i.maxZoom?0:i.tolerance/((1<<r)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:t,y:n,z:r,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){o.numFeatures++,cat(o,e[s],a,i);var u=e[s].minX,l=e[s].minY,c=e[s].maxX,f=e[s].maxY;u<o.minX&&(o.minX=u),l<o.minY&&(o.minY=l),c>o.maxX&&(o.maxX=c),f>o.maxY&&(o.maxY=f)}return o}function cat(e,r,t,n){var i=r.geometry,a=r.type,o=[];if(a==="Point"||a==="MultiPoint")for(var s=0;s<i.length;s+=3)o.push(i[s]),o.push(i[s+1]),e.numPoints++,e.numSimplified++;else if(a==="LineString")_9(o,i,e,t,!1,!1);else if(a==="MultiLineString"||a==="Polygon")for(s=0;s<i.length;s++)_9(o,i[s],e,t,a==="Polygon",s===0);else if(a==="MultiPolygon")for(var u=0;u<i.length;u++){var l=i[u];for(s=0;s<l.length;s++)_9(o,l[s],e,t,!0,s===0)}if(o.length){var c=r.tags||null;if(a==="LineString"&&n.lineMetrics){c={};for(var f in r.tags)c[f]=r.tags[f];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:a==="Polygon"||a==="MultiPolygon"?3:a==="LineString"||a==="MultiLineString"?2:1,tags:c};r.id!==null&&(h.id=r.id),e.features.push(h)}}function _9(e,r,t,n,i,a){var o=n*n;if(n>0&&r.size<(i?o:n)){t.numPoints+=r.length/3;return}for(var s=[],u=0;u<r.length;u+=3)(n===0||r[u+2]>o)&&(t.numSimplified++,s.push(r[u]),s.push(r[u+1])),t.numPoints++;i&&fat(s,a),e.push(s)}function fat(e,r){for(var t=0,n=0,i=e.length,a=i-2;n<i;a=n,n+=2)t+=(e[n]-e[a])*(e[n+1]+e[a+1]);if(t>0===r)for(n=0,i=e.length;n<i/2;n+=2){var o=e[n],s=e[n+1];e[n]=e[i-2-n],e[n+1]=e[i-1-n],e[i-2-n]=o,e[i-1-n]=s}}function hat(e,r){return new $3(e,r)}function $3(e,r){r=this.options=vat(Object.create(this.options),r);var t=r.debug;if(t&&console.time("preprocess data"),r.maxZoom<0||r.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(r.promoteId&&r.generateId)throw new Error("promoteId and generateId cannot be used together.");var n=iat(e,r);this.tiles={},this.tileCoords=[],t&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",r.indexMaxZoom,r.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),n=uat(n,r),n.length&&this.splitTile(n,0,0,0),t&&(n.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}$3.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},$3.prototype.splitTile=function(e,r,t,n,i,a,o){for(var s=[e,r,t,n],u=this.options,l=u.debug;s.length;){n=s.pop(),t=s.pop(),r=s.pop(),e=s.pop();var c=1<<r,f=E9(r,t,n),h=this.tiles[f];if(!h&&(l>1&&console.time("creation"),h=this.tiles[f]=lat(e,r,t,n,u),this.tileCoords.push({z:r,x:t,y:n}),l)){l>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",r,t,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd("creation"));var v="z"+r;this.stats[v]=(this.stats[v]||0)+1,this.total++}if(h.source=e,i){if(r===u.maxZoom||r===i)continue;var p=1<<i-r;if(t!==Math.floor(a/p)||n!==Math.floor(o/p))continue}else if(r===u.indexMaxZoom||h.numPoints<=u.indexMaxPoints)continue;if(h.source=null,e.length!==0){l>1&&console.time("clipping");var g=.5*u.buffer/u.extent,y=.5-g,m=.5+g,E=1+g,C,A,M,Z,Y,st;C=A=M=Z=null,Y=uo(e,c,t-g,t+m,0,h.minX,h.maxX,u),st=uo(e,c,t+y,t+E,0,h.minX,h.maxX,u),e=null,Y&&(C=uo(Y,c,n-g,n+m,1,h.minY,h.maxY,u),A=uo(Y,c,n+y,n+E,1,h.minY,h.maxY,u),Y=null),st&&(M=uo(st,c,n-g,n+m,1,h.minY,h.maxY,u),Z=uo(st,c,n+y,n+E,1,h.minY,h.maxY,u),st=null),l>1&&console.timeEnd("clipping"),s.push(C||[],r+1,t*2,n*2),s.push(A||[],r+1,t*2,n*2+1),s.push(M||[],r+1,t*2+1,n*2),s.push(Z||[],r+1,t*2+1,n*2+1)}}},$3.prototype.getTile=function(e,r,t){var n=this.options,i=n.extent,a=n.debug;if(e<0||e>24)return null;var o=1<<e;r=(r%o+o)%o;var s=E9(e,r,t);if(this.tiles[s])return ES(this.tiles[s],i);a>1&&console.log("drilling down to z%d-%d-%d",e,r,t);for(var u=e,l=r,c=t,f;!f&&u>0;)u--,l=Math.floor(l/2),c=Math.floor(c/2),f=this.tiles[E9(u,l,c)];return!f||!f.source?null:(a>1&&console.log("found parent tile z%d-%d-%d",u,l,c),a>1&&console.time("drilling down"),this.splitTile(f.source,u,l,c,e,r,t),a>1&&console.timeEnd("drilling down"),this.tiles[s]?ES(this.tiles[s],i):null)};function E9(e,r,t){return((1<<e)*t+r)*32+e}function vat(e,r){for(var t in r)e[t]=r[t];return e}var pat=function(){function e(r,t,n,i){(0,ge.Z)(this,e),(0,S.Z)(this,"vectorLayerCache",{}),this.x=t,this.y=n,this.z=i,this.vectorTile=r}return(0,ye.Z)(e,[{key:"getTileData",value:function(t){if(!t||!this.vectorTile.layers[t])return[];if(this.vectorLayerCache[t])return this.vectorLayerCache[t];var n=this.vectorTile.layers[t];return n.features}},{key:"getFeatureById",value:function(){throw new Error("Method not implemented.")}}]),e}(),dat={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function gat(e){for(var r=0,t=0,n=e.length,i=n-1,a,o;t<n;i=t++)a=e[t],o=e[i],r+=(o.x-a.x)*(a.y+o.y);return r}function yat(e){var r=e.length;if(r<=1)return[e];for(var t=[],n,i,a=0;a<r;a++){var o=gat(e[a]);o!==0&&(i===void 0&&(i=o<0),i===o<0?(n&&t.push(n),n=[e[a]]):n.push(e[a]))}return n&&t.push(n),t}var mat=["Unknown","Point","LineString","Polygon"];function xat(e,r,t,n,i){var a=i.geometry,o=i.type,s=i.tags,u=i.id,l=e*Math.pow(2,n),c=e*r,f=e*t,h=mat[o],v,p;function g(E){for(var C=0;C<E.length;C++){var A=E[C];if(A[3])break;var M=180-(A[1]+f)*360/l,Z=(A[0]+c)*360/l-180,Y=360/Math.PI*Math.atan(Math.exp(M*Math.PI/180))-90;E[C]=[Z,Y,0,1]}}switch(o){case 1:var y=[];for(v=0;v<a.length;v++)y[v]=a[v][0];a=y,g(a);break;case 2:for(v=0;v<a.length;v++)g(a[v]);break;case 3:for(a=yat(a),v=0;v<a.length;v++)for(p=0;p<a[v].length;p++)g(a[v][p]);break}a.length===1?a=a[0]:h="Multi"+h;var m={type:"Feature",geometry:{type:h,coordinates:a},properties:s,id:u,tileOrigin:[0,0],coord:""};return m}var _at=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new Promise(function(u){var l=n.getTile(t.z,t.x,t.y),c=l?l.features.map(function(v){return xat(a,i.x,i.y,i.z,v)}):[],f={layers:{defaultLayer:{features:c}}},h=new pat(f,t.x,t.y,t.z);u(h)}));case 1:case"end":return s.stop()}},r)}));return function(t,n,i,a){return e.apply(this,arguments)}}();function Eat(e){var r={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return e===void 0||typeof e.geojsonvtOptions=="undefined"?r:(0,H.Z)((0,H.Z)({},r),e.geojsonvtOptions)}function Cat(e,r){var t=Eat(r),n=t.extent||4096,i=hat(e,t),a=function(u,l){return _at(l,i,u,n)},o=(0,H.Z)((0,H.Z)((0,H.Z)({},dat),r),{},{getTileData:a});return{data:e,dataArray:[],tilesetOptions:o,isTile:!0}}function SS(e,r){var t=r.extent,n=t===void 0?[121.168,30.2828,121.384,30.4219]:t,i=new Promise(function(o){e instanceof HTMLImageElement||fQ(e)?o([e]):Sat(e,function(s){o(s)})}),a={originData:e,images:i,_id:1,dataArray:[{_id:0,coordinates:[[n[0],n[1]],[n[2],n[3]]]}]};return a}function Sat(e,r){var t=e,n=[];if(typeof t=="string")J5({url:t},function(o,s){s&&(n.push(s),r(n))});else{var i=t.length,a=0;t.forEach(function(o){J5({url:o},function(s,u){a++,u&&n.push(u),a===i&&r(n)})})}return SS}var bat=F(85143),Aat=F(43548),Mat=F.n(Aat),bS=function(){function e(r,t,n,i){(0,ge.Z)(this,e),(0,S.Z)(this,"vectorLayerCache",{}),this.x=t,this.y=n,this.z=i,this.vectorTile=new bat.VectorTile(new(Mat())(r))}return(0,ye.Z)(e,[{key:"getTileData",value:function(t){if(!t||!this.vectorTile.layers[t])return[];if(this.vectorLayerCache[t])return this.vectorLayerCache[t];var n=this.vectorTile.layers[t];if(Array.isArray(n.features))return this.vectorLayerCache[t]=n.features,n.features;for(var i=[],a=0;a<n.length;a++){var o=n.feature(a),s=o.toGeoJSON(this.x,this.y,this.z);i.push((0,H.Z)((0,H.Z)({},s),{},{properties:(0,H.Z)({id:s.id},s.properties)}))}return this.vectorLayerCache[t]=i,i}},{key:"getFeatureById",value:function(){throw new Error("Method not implemented.")}}]),e}(),Tat={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},wat=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a,o){var s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=Iu(t,n),l.abrupt("return",new Promise(function(c){if(o)o({x:i.x,y:i.y,z:i.z},function(h,v){if(h||!v)c(void 0);else{var p=new bS(v,i.x,i.y,i.z);c(p)}});else{var f=Q5((0,H.Z)((0,H.Z)({},a),{},{url:s}),function(h,v){if(h||!v)c(void 0);else{var p=new bS(v,i.x,i.y,i.z);c(p)}});i.xhrCancel=function(){return f.abort()}}}));case 2:case"end":return l.stop()}},r)}));return function(t,n,i,a,o){return e.apply(this,arguments)}}();function Fat(e,r){var t=Array.isArray(e)?e[0]:e,n=function(o,s){return wat(t,o,s,r==null?void 0:r.requestParameters,r==null?void 0:r.getCustomData)},i=(0,H.Z)((0,H.Z)((0,H.Z)({},Tat),r),{},{getTileData:n});return{data:t,dataArray:[],tilesetOptions:i,isTile:!0}}function kat(e,r,t){switch(e){case"+":return r+t;case"-":return r-t;case"*":return r*t;case"/":return r/t;case"%":return r%t;case"^":return Math.pow(r,t);case"abs":return Math.abs(r);case"floor":return Math.floor(r);case"round":return Math.round(r);case"ceil":return Math.ceil(r);case"sin":return Math.sin(r);case"cos":return Math.cos(r);case"atan":return t===-1?Math.atan(r):Math.atan2(r,t);case"min":return Math.min(r,t);case"max":return Math.max(r,t);case"log10":return Math.log(r);case"log2":return Math.log2(r);default:return console.warn("Calculate symbol err! Return default 0"),0}}function Qu(e,r){for(var t=r[0],n=t.width,i=t.height,a=r.map(function(v){return v.rasterData}),o=n*i,s=[],u=JSON.stringify(e),l=0;l<o;l++){var c=JSON.parse(u),f=AS(c,a,l);if(typeof f=="number")s.push(f);else{var h=C9(c);s.push(h)}}return s}function AS(e,r,t){if(e.length===2&&e[0]==="band"&&typeof e[1]=="number")try{return r[e[1]][t]}catch(n){return console.warn("Raster Data err!"),0}e.map(function(n,i){if(Array.isArray(n)&&n.length>0)switch(n[0]){case"band":try{e[i]=r[n[1]][t]}catch(a){console.warn("Raster Data err!"),e[i]=0}break;default:AS(n,r,t)}})}function Oat(e){var r=(0,nr.Z)(e,3),t=r[0],n=r[1],i=n===void 0?-1:n,a=r[2],o=a===void 0?-1:a;if(t===void 0)return console.warn("Express err!"),["+",0,0];var s=t.replace(/\s+/g,"");return[s,i,o]}function C9(e){var r=Oat(e),t=r[0],n=r[1],i=r[2];return Array.isArray(n)&&(n=C9(e[1])),Array.isArray(i)&&(i=C9(e[2])),kat(t,n,i)}var Lat={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:Iat}};function Iat(e,r){for(var t=e[0].rasterData,n=e[1].rasterData,i=e[2].rasterData,a=[],o=(r==null?void 0:r.countCut)||[2,98],s=(0,nr.Z)(o,2),u=s[0],l=s[1],c=(r==null?void 0:r.RMinMax)||S9(t,u,l),f=(r==null?void 0:r.GMinMax)||S9(n,u,l),h=(r==null?void 0:r.BMinMax)||S9(i,u,l),v=0;v<t.length;v++)a.push(Math.max(0,t[v]-c[0])),a.push(Math.max(0,n[v]-f[0])),a.push(Math.max(0,i[v]-h[0]));return{rasterData:a,rMinMax:c,gMinMax:f,bMinMax:h}}function S9(e,r,t){var n=e.slice().sort(function(s,u){return s-u}),i=n.length,a=n[Math.ceil(i*r/100)],o=n[Math.ceil(i*t/100)];return[a,o]}function b9(e,r,t){return A9.apply(this,arguments)}function A9(){return A9=(0,xe.Z)(zt().mark(function e(r,t,n){var i,a,o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(r.length!==0){f.next=2;break}return f.abrupt("return",{rasterData:[0],width:1,heigh:1});case 2:return f.next=4,Promise.all(r.map(function(h){var v=h.data,p=h.bands,g=p===void 0?[0]:p;return t(v,g)}));case 4:i=f.sent,a=[],i.forEach(function(h){Array.isArray(h)?a.push.apply(a,(0,We.Z)(h)):a.push(h)}),o=a[0],s=o.width,u=o.height,f.t0=(0,Eu.Z)(n),f.next=f.t0==="function"?11:f.t0==="object"?13:15;break;case 11:return l=n(a),f.abrupt("break",16);case 13:return Array.isArray(n)?l={rasterData:Qu(n,a)}:l=Pat(n,a),f.abrupt("break",16);case 15:l={rasterData:a[0].rasterData};case 16:return f.abrupt("return",(0,H.Z)((0,H.Z)({},l),{},{width:s,height:u}));case 17:case"end":return f.stop()}},e)})),A9.apply(this,arguments)}function Pat(e,r){var t=Lat[e.type];if(t.type==="function")return t.method(r,e==null?void 0:e.options);if(t.type==="operation")return e.type==="rgb"?Rat(t.expression,r):{rasterData:Qu(t.expression,r)}}function Rat(e,r){e.r===void 0&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),e.g===void 0&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),e.b===void 0&&console.warn("Channel B lost in Operation! Use band[0] to fill!");var t=Qu(e.r||["band",0],r),n=Qu(e.g||["band",0],r),i=Qu(e.b||["band",0],r);return[t,n,i]}function M9(e,r,t,n){return T9.apply(this,arguments)}function T9(){return T9=(0,xe.Z)(zt().mark(function e(r,t,n,i){var a;return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b9(r,t,n);case 2:a=s.sent,i(null,{data:a});case 4:case"end":return s.stop()}},e)})),T9.apply(this,arguments)}function Dat(e,r){return e.map(function(t){return t[r]*1})}function Bat(e){return e===void 0?!1:!Array.isArray(e)&&e.data!==void 0}function lvt(e){return Array.isArray(e)?e.length===0?!1:!!Bat(e[0]):!1}function MS(e){return Array.isArray(e)?e.length===0||typeof e[0]=="number":!1}function Nat(e,r){var t=r.extent,n=r.width,i=r.height,a=r.min,o=r.max,s=r.format,u=r.operation,l,c,f;if(s===void 0||MS(e))l=Array.from(e),c=n,f=i;else{var h=Array.isArray(e)?e:[e];l=b9(h,s,u)}var v={_id:1,dataArray:[{_id:1,data:l,width:c,height:f,min:a,max:o,coordinates:[[t[0],t[1]],[t[2],t[3]]]}]};return v}var Zat=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new Promise(function(u,l){n({x:t.x,y:t.y,z:t.z},function(c,f){if(c||f.length===0){l(c);return}f&&M9([{data:f,bands:[0]}],i,a,function(h,v){h?l(h):v&&u(v)})})}));case 1:case"end":return s.stop()}},r)}));return function(t,n,i,a){return e.apply(this,arguments)}}();function zat(e,r){return Array.isArray(e)?typeof e[0]=="string"?e.map(function(t){return Iu(t,r)}):e.map(function(t){return{url:Iu(t.url,r),bands:t.bands||[0]}}):Iu(e,r)}function Uat(e){return typeof e=="string"?[{url:e,bands:[0]}]:typeof e[0]=="string"?e.map(function(r){return{url:r,bands:[0]}}):e}function TS(e,r){e.xhrCancel=function(){r.map(function(t){t.abort()})}}var Hat=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a,o){var s,u,l,c,f,h;return zt().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s=Uat(n.url),!(s.length>1)){p.next=15;break}return p.next=4,Vat(s,n);case 4:if(u=p.sent,l=u.rasterFiles,c=u.xhrList,f=u.errList,TS(t,c),!(f.length>0)){p.next=12;break}return i(f,null),p.abrupt("return");case 12:M9(l,a,o,i),p.next=17;break;case 15:h=Q5(n,function(g,y){if(g)i(g);else if(y){var m=[{data:y,bands:s[0].bands}];M9(m,a,o,i)}}),TS(t,[h]);case 17:case"end":return p.stop()}},r)}));return function(t,n,i,a,o){return e.apply(this,arguments)}}();function Vat(e,r){return w9.apply(this,arguments)}function w9(){return w9=(0,xe.Z)(zt().mark(function e(r,t){var n,i,a,o,s,u,l,c,f,h,v;return zt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:n=[],i=[],a=[],o=0;case 4:if(!(o<r.length)){g.next=20;break}return s=r[o],u=(0,H.Z)((0,H.Z)({},t),{},{url:s.url}),l=s.bands,g.next=10,ZK((0,H.Z)((0,H.Z)({},u),{},{type:"arrayBuffer"}));case 10:c=g.sent,f=c.err,h=c.data,v=c.xhr,f&&a.push(f),i.push(v),n.push({data:h,bands:l});case 17:o++,g.next=4;break;case 20:return g.abrupt("return",{rasterFiles:n,xhrList:i,errList:a});case 21:case"end":return g.stop()}},e)})),w9.apply(this,arguments)}var Gat=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a,o){var s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s={url:zat(t,n)},l.abrupt("return",new Promise(function(c,f){Hat(i,s,function(h,v){h?f(h):v&&c(v)},a,o)}));case 2:case"end":return l.stop()}},r)}));return function(t,n,i,a,o){return e.apply(this,arguments)}}(),wS=function(){var e=(0,xe.Z)(zt().mark(function r(t,n,i,a){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return s=Array.isArray(t)?t[0]:t,a.wmtsOptions?(u=(a==null?void 0:a.getURLFromTemplate)||vJ,o=u(s,(0,H.Z)((0,H.Z)({},n),a.wmtsOptions))):(l=(a==null?void 0:a.getURLFromTemplate)||Iu,o=l(s,n)),f.abrupt("return",new Promise(function(h,v){var p,g=J5({url:o,type:(a==null||(p=a.requestParameters)===null||p===void 0?void 0:p.type)||"arrayBuffer"},function(y,m){y?v(y):m&&h(m)},a.transformResponse);i.xhrCancel=function(){return g.abort()}}));case 3:case"end":return f.stop()}},r)}));return function(t,n,i,a){return e.apply(this,arguments)}}(),FS=function(){return{rasterData:new Uint8Array([0]),width:1,height:1}},jat={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},cvt=[ha.ARRAYBUFFER,ha.RGB];function Wat(e){return!!(Array.isArray(e)&&e.length===0||!Array.isArray(e)&&typeof e!="string")}function Yat(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Wat(e))throw new Error("tile server url is error");var t=(r==null?void 0:r.dataType)||ha.IMAGE;t===ha.RGB&&(t=ha.ARRAYBUFFER);var n=function(o,s){switch(t){case ha.IMAGE:return wS(e,o,s,r);case ha.ARRAYBUFFER:return Gat(e,o,s,(r==null?void 0:r.format)||FS,r==null?void 0:r.operation);case ha.CUSTOMARRAYBUFFER:case ha.CUSTOMRGB:return Zat(s,r==null?void 0:r.getCustomData,(r==null?void 0:r.format)||FS,r==null?void 0:r.operation);default:return wS(e,o,s,r)}},i=(0,H.Z)((0,H.Z)((0,H.Z)({},jat),r),{},{getTileData:n});return{data:e,dataArray:[],tilesetOptions:i,isTile:!0}}var Xat=["extent","min","max","width","height","format","operation"];function $at(e,r){var t=r.extent,n=r.min,i=r.max,a=r.width,o=r.height,s=r.format,u=r.operation,l=(0,B.Z)(r,Xat),c;if(s===void 0||MS(e))c=Array.from(e);else{var f=Array.isArray(e)?e:[e];c=b9(f,s,u)}var h={_id:1,dataArray:[(0,H.Z)((0,H.Z)({_id:1,data:c,width:a,height:o},l),{},{min:n,max:i,coordinates:[[t[0],t[1]],[t[2],t[3]]]})]};return h}var qat={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},Kat=function(){var e=(0,xe.Z)(zt().mark(function r(t){return zt().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",new Promise(function(a){var o=(0,nr.Z)(t.bounds,4),s=o[0],u=o[1],l=o[2],c=o[3],f={layers:{testTile:{features:[{type:"Feature",properties:{key:t.x+"/"+t.y+"/"+t.z,textLng:(s+l)/2,textLat:(u+c)/2},geometry:{type:"LineString",coordinates:[[l,c],[l,u],[s,u],[s,u]]}}]}}};a(f)}));case 1:case"end":return i.stop()}},r)}));return function(t){return e.apply(this,arguments)}}();function Qat(e,r){var t=function(a){return Kat(a)},n=(0,H.Z)((0,H.Z)((0,H.Z)({},qat),r),{},{getTileData:t});return{data:e,dataArray:[],tilesetOptions:n,isTile:!0}}function kS(e,r){var t=r.radius,n=t===void 0?40:t,i=r.maxZoom,a=i===void 0?18:i,o=r.minZoom,s=o===void 0?0:o,u=r.zoom,l=u===void 0?2:u;if(e.pointIndex){var c=e.pointIndex.getClusters(e.extent,Math.floor(l));return e.dataArray=Jat(c),e}var f=new(JC())({radius:n,minZoom:s,maxZoom:a}),h={type:"FeatureCollection",features:[]};return h.features=e.dataArray.map(function(v){return{type:"Feature",geometry:{type:"Point",coordinates:v.coordinates},properties:(0,H.Z)({},v)}}),f.load(h.features),f}function Jat(e){return e.map(function(r,t){return(0,H.Z)({coordinates:r.geometry.coordinates,_id:t+1},r.properties)})}function tot(e){if(e.length===0)throw new Error("max requires at least one data point");for(var r=e[0],t=1;t<e.length;t++)e[t]>r&&(r=e[t]);return r}function eot(e){if(e.length===0)throw new Error("min requires at least one data point");for(var r=e[0],t=1;t<e.length;t++)e[t]<r&&(r=e[t]);return r}function OS(e){if(e.length===0)return 0;for(var r=e[0],t=0,n,i=1;i<e.length;i++)n=r+e[i]*1,Math.abs(r)>=Math.abs(e[i])?t+=r-n+e[i]:t+=e[i]-n+r,r=n;return r+t*1}function rot(e){if(e.length===0)throw new Error("mean requires at least one data point");return OS(e)/e.length}var not={min:eot,max:tot,mean:rot,sum:OS};function iot(e){var r=aot();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function aot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function oot(e,r){if(Array.isArray(r))return r}var sot=function(e){(0,ze.Z)(t,e);var r=iot(t);function t(n,i){var a;return(0,ge.Z)(this,t),a=r.call(this),(0,S.Z)((0,Qt.Z)(a),"type","source"),(0,S.Z)((0,Qt.Z)(a),"isTile",!1),(0,S.Z)((0,Qt.Z)(a),"inited",!1),(0,S.Z)((0,Qt.Z)(a),"hooks",{init:new Oa}),(0,S.Z)((0,Qt.Z)(a),"parser",{type:"geojson"}),(0,S.Z)((0,Qt.Z)(a),"transforms",[]),(0,S.Z)((0,Qt.Z)(a),"cluster",!1),(0,S.Z)((0,Qt.Z)(a),"clusterOptions",{enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"}),(0,S.Z)((0,Qt.Z)(a),"invalidExtent",!1),(0,S.Z)((0,Qt.Z)(a),"dataArrayChanged",!1),(0,S.Z)((0,Qt.Z)(a),"cfg",{autoRender:!0}),a.originData=n,a.initCfg(i),a.init().then(function(){a.inited=!0,a.emit("update",{type:"inited"})}),a}return(0,ye.Z)(t,[{key:"getSourceCfg",value:function(){return this.cfg}},{key:"getClusters",value:function(i){return this.clusterIndex.getClusters(this.caculClusterExtent(2),i)}},{key:"getClustersLeaves",value:function(i){return this.clusterIndex.getLeaves(i,1/0)}},{key:"getParserType",value:function(){return this.parser.type}},{key:"updateClusterData",value:function(i){var a=this,o=this.clusterOptions,s=o.method,u=s===void 0?"sum":s,l=o.field,c=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(i));this.clusterOptions.zoom=i,c.forEach(function(f){f.id||(f.properties.point_count=1)}),(l||(0,Te.isFunction)(u))&&(c=c.map(function(f){var h=f.id;if(h){var v=a.clusterIndex.getLeaves(h,1/0),p=v.map(function(m){return m.properties}),g;if((0,Te.isString)(u)&&l){var y=Dat(p,l);g=not[u](y)}(0,Te.isFunction)(u)&&(g=u(p)),f.properties.stat=g}else f.properties.point_count=1;return f})),this.data=uS("geojson")({type:"FeatureCollection",features:c}),this.executeTrans()}},{key:"getFeatureById",value:function(i){var a=this.parser,o=a.type,s=o===void 0?"geojson":o,u=a.geometry;if(s==="geojson"&&!this.cluster){var l=i<this.originData.features.length?this.originData.features[i]:"null",c=(0,Te.cloneDeep)(l);if(c!=null&&c.properties&&(this.transforms.length!==0||this.dataArrayChanged)){var f=this.data.dataArray.find(function(h){return h._id===i});c.properties=f}return c}else return s==="json"&&u?this.data.dataArray.find(function(h){return h._id===i}):i<this.data.dataArray.length?this.data.dataArray[i]:"null"}},{key:"updateFeaturePropertiesById",value:function(i,a){this.data.dataArray=this.data.dataArray.map(function(o){return o._id===i?(0,H.Z)((0,H.Z)({},o),a):o}),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}},{key:"getFeatureId",value:function(i,a){var o=this.data.dataArray.find(function(s){return s[i]===a});return o==null?void 0:o._id}},{key:"setData",value:function(i,a){var o=this;this.originData=i,this.dataArrayChanged=!1,this.initCfg(a),this.init().then(function(){o.emit("update",{type:"update"})})}},{key:"destroy",value:function(){var i;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(i=this.tileset)===null||i===void 0||i.destroy()}},{key:"processData",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o=this;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(l,c){try{o.excuteParser(),o.initCluster(),o.executeTrans(),l({})}catch(f){c(f)}}));case 1:case"end":return u.stop()}},a)}));function i(){return n.apply(this,arguments)}return i}()},{key:"initCfg",value:function(i){this.cfg=(0,Te.mergeWith)(this.cfg,i,oot);var a=this.cfg;a&&(a.parser&&(this.parser=a.parser),a.transforms&&(this.transforms=a.transforms),this.cluster=a.cluster||!1,a.clusterOptions&&(this.cluster=!0,this.clusterOptions=(0,H.Z)((0,H.Z)({},this.clusterOptions),a.clusterOptions)))}},{key:"init",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.inited=!1,s.next=3,this.processData();case 3:this.inited=!0;case 4:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"excuteParser",value:function(){var i=this.parser,a=i.type||"geojson",o=uS(a);this.data=o(this.originData,i),this.tileset=this.initTileset(),!i.cancelExtent&&(this.extent=bQ(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}},{key:"setCenter",value:function(i){this.center=[(i[0]+i[2])/2,(i[1]+i[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}},{key:"initTileset",value:function(){var i=this.data.tilesetOptions;if(i){if(this.isTile=!0,this.tileset)return this.tileset.updateOptions(i),this.tileset;var a=new fJ((0,H.Z)({},i));return a}}},{key:"executeTrans",value:function(){var i=this,a=this.transforms;a.forEach(function(o){var s=o.type,u=Git(s)(i.data,o);Object.assign(i.data,u)})}},{key:"initCluster",value:function(){if(this.cluster){var i=this.clusterOptions||{};this.clusterIndex=kS(this.data,i)}}},{key:"caculClusterExtent",value:function(i){var a=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(a=Ou(k3(this.extent),i)),a[0].concat(a[1])}}]),t}(Vn.EventEmitter);function uot(e,r){var t=r.callback;return t&&(e.dataArray=e.dataArray.filter(t)),e}function LS(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=lot(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function lot(e,r){if(e){if(typeof e=="string")return IS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return IS(e,r)}}function IS(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var F9=6378e3;function cot(e,r){var t=e.dataArray,n=r.size,i=n===void 0?10:n,a=i/(2*Math.PI*F9)*(256<<20)/2,o=fot(t,i),s=o.gridHash,u=o.gridOffset,l=dot(s,u,r);return{yOffset:a,xOffset:a,radius:a,type:"grid",dataArray:l}}function fot(e,r){var t=1/0,n=-1/0,i,a=LS(e),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;i=s.coordinates[1],Number.isFinite(i)&&(t=i<t?i:t,n=i>n?i:n)}}catch(C){a.e(C)}finally{a.f()}var u=(t+n)/2,l=hot(r,u);if(l.xOffset<=0||l.yOffset<=0)return{gridHash:{},gridOffset:l};var c={},f=LS(e),h;try{for(f.s();!(h=f.n()).done;){var v=h.value,p=v.coordinates[1],g=v.coordinates[0];if(Number.isFinite(p)&&Number.isFinite(g)){var y=Math.floor((p+90)/l.yOffset),m=Math.floor((g+180)/l.xOffset),E="".concat(y,"-").concat(m);c[E]=c[E]||{count:0,points:[]},c[E].count+=1,c[E].points.push(v)}}}catch(C){f.e(C)}finally{f.f()}return{gridHash:c,gridOffset:l}}function hot(e,r){var t=vot(e),n=pot(r,e);return{yOffset:t,xOffset:n}}function vot(e){return e/F9*(180/Math.PI)}function pot(e,r){return r/F9*(180/Math.PI)/Math.cos(e*Math.PI/180)}function dot(e,r,t){return Object.keys(e).reduce(function(n,i,a){var o=i.split("-"),s=parseInt(o[0],10),u=parseInt(o[1],10),l={};if(t.field&&t.method){var c=g8(e[i].points,t.field);l[t.method]=d8[t.method](c)}return Object.assign(l,{_id:a,coordinates:Tn([-180+r.xOffset*(u+.5),-90+r.yOffset*(s+.5)]),rawData:e[i].points,count:e[i].count}),n.push(l),n},[])}var H0=Math.PI/3,got=[0,H0,2*H0,3*H0,4*H0,5*H0];function yot(e){return e[0]}function mot(e){return e[1]}function xot(){var e=0,r=0,t=1,n=1,i=yot,a=mot,o,s,u;function l(f){var h={},v=[],p,g=f.length;for(p=0;p<g;++p)if(!(isNaN(m=+i.call(null,y=f[p],p,f))||isNaN(E=+a.call(null,y,p,f)))){var y,m,E,C=Math.round(E=E/u),A=Math.round(m=m/s-(C&1)/2),M=E-C;if(Math.abs(M)*3>1){var Z=m-A,Y=A+(m<A?-1:1)/2,st=C+(E<C?-1:1),Ct=m-Y,Pt=E-st;Z*Z+M*M>Ct*Ct+Pt*Pt&&(A=Y+(C&1?1:-1)/2,C=st)}var Zt=A+"-"+C,ie=h[Zt];ie?ie.push(y):(v.push(ie=h[Zt]=[y]),ie.x=(A+(C&1)/2)*s,ie.y=C*u)}return v}function c(f){var h=0,v=0;return got.map(function(p){var g=Math.sin(p)*f,y=-Math.cos(p)*f,m=g-h,E=y-v;return h=g,v=y,[m,E]})}return l.hexagon=function(f){return"m"+c(f==null?o:+f).join("l")+"z"},l.centers=function(){for(var f=[],h=Math.round(r/u),v=Math.round(e/s),p=h*u;p<n+o;p+=u,++h)for(var g=v*s+(h&1)*s/2;g<t+s/2;g+=s)f.push([g,p]);return f},l.mesh=function(){var f=c(o).slice(0,4).join("l");return l.centers().map(function(h){return"M"+h+"m"+f}).join("")},l.x=function(f){return arguments.length?(i=f,l):i},l.y=function(f){return arguments.length?(a=f,l):a},l.radius=function(f){return arguments.length?(o=+f,s=o*2*Math.sin(H0),u=o*1.5,l):o},l.size=function(f){return arguments.length?(e=r=0,t=+f[0],n=+f[1],l):[t-e,n-r]},l.extent=function(f){return arguments.length?(e=+f[0][0],r=+f[0][1],t=+f[1][0],n=+f[1][1],l):[[e,r],[t,n]]},l.radius(1)}var _ot=6378e3;function Eot(e,r){var t=e.dataArray,n=r.size,i=n===void 0?10:n,a=r.method,o=a===void 0?"sum":a,s=i/(2*Math.PI*_ot)*(256<<20)/2,u=t.map(function(h){var v=Tn(h.coordinates),p=(0,nr.Z)(v,2),g=p[0],y=p[1];return(0,H.Z)((0,H.Z)({},h),{},{coordinates:[g,y]})}),l=xot().radius(s).x(function(h){return h.coordinates[0]}).y(function(h){return h.coordinates[1]}),c=l(u),f={dataArray:c.map(function(h,v){var p;if(r.field&&o){var g=g8(h,r.field);h[o]=d8[o](g)}return p={},(0,S.Z)(p,r.method,h[o]),(0,S.Z)(p,"count",h.length),(0,S.Z)(p,"rawData",h),(0,S.Z)(p,"coordinates",[h.x,h.y]),(0,S.Z)(p,"_id",v),p}),radius:s,xOffset:s,yOffset:s,type:"hexagon"};return f}function Cot(e,r){var t=r.sourceField,n=r.targetField,i=r.data,a={};return i.forEach(function(o){a[o[t]]=o}),e.dataArray=e.dataArray.map(function(o){var s=o[n];return(0,H.Z)((0,H.Z)({},o),a[s])}),e}function Sot(e,r){var t=r.callback;return t&&(e.dataArray=e.dataArray.map(t)),e}La("rasterTile",Yat),La("mvt",Fat),La("geojsonvt",Cat),La("testTile",Qat),La("geojson",eat),La("image",SS),La("csv",Qit),La("json",pS),La("raster",Nat),La("rasterRgb",$at),U0("cluster",kS),U0("filter",uot),U0("join",Cot),U0("map",Sot),U0("grid",cot),U0("hexagon",Eot);var Ju=sot,Vo,k9=(Vo={},(0,S.Z)(Vo,fa.additive,{enable:!0,func:{srcRGB:J.ONE,dstRGB:J.ONE,srcAlpha:1,dstAlpha:1}}),(0,S.Z)(Vo,fa.none,{enable:!1}),(0,S.Z)(Vo,fa.normal,{enable:!0,func:{srcRGB:J.SRC_ALPHA,dstRGB:J.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}),(0,S.Z)(Vo,fa.subtractive,{enable:!0,func:{srcRGB:J.ONE,dstRGB:J.ONE,srcAlpha:J.ZERO,dstAlpha:J.ONE_MINUS_SRC_COLOR},equation:{rgb:J.FUNC_SUBTRACT,alpha:J.FUNC_SUBTRACT}}),(0,S.Z)(Vo,fa.max,{enable:!0,func:{srcRGB:J.ONE,dstRGB:J.ONE},equation:{rgb:J.MAX_EXT}}),(0,S.Z)(Vo,fa.min,{enable:!0,func:{srcRGB:J.ONE,dstRGB:J.ONE},equation:{rgb:J.MIN_EXT}}),Vo);function Fi(e,r,t,n,i){r.updateStyleAttribute(e,t,n,i)}function bot(e,r){r.tileLayer||r.isTileLayer||(e.opacity&&q3("opacity",r,e.opacity),e.strokeWidth&&q3("strokeWidth",r,e.strokeWidth),e.strokeOpacity&&q3("strokeOpacity",r,e.strokeOpacity),e.stroke&&Aot("stroke",r,e.stroke),e.offsets&&PS("offsets",r,e.offsets),e.textOffset&&PS("textOffset",r,e.textOffset),e.thetaOffset&&q3("thetaOffset",r,e.thetaOffset))}function q3(e,r,t){(0,Te.isString)(t)?Fi(e,r,t,function(n){return n}):(0,Te.isNumber)(t)||(Array.isArray(t)&&t.length===2?(0,Te.isString)(t[0])&&(0,Te.isFunction)(t[1])||(0,Te.isString)(t[0])&&Array.isArray(t[1])&&(0,Te.isNumber)(t[1][0])&&(0,Te.isNumber)(t[1][1])?Fi(e,r,t[0],t[1]):Fi(e,r,[1],void 0):Fi(e,r,[1],void 0))}function PS(e,r,t){(0,Te.isString)(t)?Fi(e,r,t,function(n){return n}):Array.isArray(t)&&t.length===2&&(0,Te.isString)(t[0])&&(0,Te.isFunction)(t[1])?Fi(e,r,t[0],t[1]):Array.isArray(t)&&t.length===2&&(0,Te.isNumber)(t[0])&&(0,Te.isNumber)(t[1])?Fi(e,r,t,void 0):Fi(e,r,[0,0],void 0)}function Aot(e,r,t){(0,Te.isString)(t)||(Array.isArray(t)&&t.length===2&&((0,Te.isString)(t[0])&&(0,Te.isFunction)(t[1])||(0,Te.isString)(t[0])&&Array.isArray(t[1])&&t[1].length>0)?Fi(e,r,t[0],t[1]):Fi(e,r,"#fff",void 0))}var Dn;(function(e){e["GAODE1.x"]="GAODE1.x",e["GAODE2.x"]="GAODE2.x",e.MAPBOX="MAPBOX",e.DEFUALT="DEFUALTMAP",e.SIMPLE="SIMPLE",e.GLOBEL="GLOBEL"})(Dn||(Dn={}));function Mot(e,r){var t=[r[0]-e[0],r[1]-e[1]],n=gx(t),i=[e[0]+n[0]*1e-4,e[1]+n[1]*1e-4];return i}function Tot(e,r,t){if(e.length>0&&r.version===Dn["GAODE2.x"]){var n=t.coordCenter;typeof e[0].coordinates[0]=="number"?e.filter(function(i){return!i.originCoordinates}).map(function(i){i.version=Dn["GAODE2.x"],i.originCoordinates=(0,Te.cloneDeep)(i.coordinates),i.coordinates=r.lngLatToCoordByLayer(i.coordinates,n)}):e.filter(function(i){return!i.originCoordinates}).map(function(i){i.version=Dn["GAODE2.x"],i.originCoordinates=(0,Te.cloneDeep)(i.coordinates),i.coordinates=r.lngLatToCoordsByLayer(i.coordinates,n)})}}function wot(e,r){e.length>0&&r.version===Dn.SIMPLE&&e.map(function(t){t.simpleCoordinate||(t.coordinates=Fot(t.coordinates,r),t.simpleCoordinate=!0)})}function Fot(e,r){if(typeof e[0]=="number")return r.simpleMapCoord.unproject(e);if(e[0]&&e[0][0]instanceof Array){var t=[];return e.map(function(i){var a=[];i.map(function(o){a.push(r.simpleMapCoord.unproject(o))}),t.push(a)}),t}else{var n=[];return e.map(function(i){n.push(r.simpleMapCoord.unproject(i))}),n}}function kot(e,r){var t;if(!e.scale)return[];var n=(e==null||(t=e.scale)===null||t===void 0?void 0:t.scalers)||[],i=[];n.forEach(function(o){var s,u=o.field;(r.hasOwnProperty(u)||((s=e.scale)===null||s===void 0?void 0:s.type)==="variable")&&i.push(r[u])});var a=e.mapping?e.mapping(i):[];return a}function Oot(e,r,t,n,i){var a=i==null?void 0:i.getLayerConfig(),o=a.arrow,s=o===void 0?{enable:!1}:o,u=r.map(function(l){var c={id:l._id,coordinates:l.coordinates};if(e.filter(function(v){return v.scale!==void 0}).forEach(function(v){var p=kot(v,l);v.needRemapping=!1,v.name==="color"&&(p=p.map(function(g){return Dr(g)})),c[v.name]=Array.isArray(p)&&p.length===1?p[0]:p,v.name==="shape"&&(c.shape=t.getIconFontKey(c[v.name]))}),c.shape==="line"&&s.enable){var f=c.coordinates,h=Mot(f[0],f[1]);c.coordinates.splice(1,0,h,h)}return c});return Tot(u,n,i),wot(u,n),u}function Lot(e,r,t,n,i,a){var o=new Ju(i,a),s=n.getLayerStyleAttributes()||[],u=o.data.dataArray,l=u,c=Oot(s,l,r,t,e);return o.destroy(),c}function RS(e){return e.map(function(r){return typeof r=="string"&&(r=[r,{}]),r})}function DS(e,r,t,n){var i=e.multiPassRenderer,a=e.getLayerConfig(),o=a.enableTAA;return o?i.add(n("taa")):i.add(n("render")),RS(r).forEach(function(s){var u=(0,nr.Z)(s,2),l=u[0],c=u[1];i.add(t(l),c)}),i.add(t("copy")),i}var Iot=function(){function e(r){(0,ge.Z)(this,e),this.layer=r}return(0,ye.Z)(e,[{key:"pickRender",value:function(t){var n=this.layer;if(n.tileLayer)return n.tileLayer.pickRender(t);n.hooks.beforePickingEncode.call(),n.masks.length>0&&n.masks.filter(function(i){return i.inited}).forEach(function(){var i=(0,xe.Z)(zt().mark(function a(o){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o.render();case 1:case"end":return u.stop()}},a)}));return function(a){return i.apply(this,arguments)}}()),n.renderModels(!0),n.hooks.afterPickingEncode.call()}},{key:"pick",value:function(t,n){var i=this.layer.getContainer(),a=i.get(ve.IPickingService);return t.type==="RasterLayer"?this.pickRasterLayer(t,n):(this.pickRender(n),a.pickFromPickingFBO(t,n))}},{key:"pickRasterLayer",value:function(t,n,i){var a=this.layer.getContainer(),o=a.get(ve.IPickingService),s=a.get(ve.IMapService),u=this.layer.getSource().extent,l=SQ(n.lngLat,u),c={x:n.x,y:n.y,type:n.type,lngLat:n.lngLat,target:n,rasterValue:null},f=i||t;if(l){var h=this.readRasterValue(t,u,s,n.x,n.y);return c.rasterValue=h,o.triggerHoverOnLayer(f,c),!0}else return c.type=n.type==="mousemove"?"mouseout":"un"+n.type,o.triggerHoverOnLayer(f,(0,H.Z)((0,H.Z)({},c),{},{type:"unpick"})),o.triggerHoverOnLayer(f,c),!1}},{key:"readRasterValue",value:function(t,n,i,a,o){var s=t.getSource().data.dataArray[0],u=(0,nr.Z)(n,4),l=u[0],c=l===void 0?0:l,f=u[1],h=f===void 0?0:f,v=u[2],p=v===void 0?10:v,g=u[3],y=g===void 0?-10:g,m=i.lngLatToContainer([c,h]),E=i.lngLatToContainer([p,y]),C=E.x-m.x,A=m.y-E.y,M=[(a-m.x)/C,(o-E.y)/A],Z=s.width||1,Y=s.height||1,st=Math.floor(M[0]*Z),Ct=Math.floor(M[1]*Y),Pt=Math.max(0,Ct-1)*Z+st,Zt=s.data[Pt];return Zt}},{key:"selectFeature",value:function(t){var n=this.layer,i=(0,nr.Z)(t,3),a=i[0],o=i[1],s=i[2];n.hooks.beforeSelect.call([a,o,s])}},{key:"highlightPickedFeature",value:function(t){var n=(0,nr.Z)(t,3),i=n[0],a=n[1],o=n[2];this.layer.hooks.beforeHighlight.call([i,a,o])}},{key:"getFeatureById",value:function(t){return this.layer.getSource().getFeatureById(t)}}]),e}(),Pot=function(){function e(r){(0,ge.Z)(this,e),this.layer=r;var t=this.layer.getContainer();this.rendererService=t.get(ve.IRendererService)}return(0,ye.Z)(e,[{key:"getColorTexture",value:function(t,n){var i=this.getTextureKey(t,n);return this.key===i?this.colorTexture:(this.createColorTexture(t,n),this.key=i,this.colorTexture)}},{key:"createColorTexture",value:function(t,n){var i=this.rendererService.createTexture2D,a=this.getColorRampBar(t,n),o=i({data:a.data,width:a.width,height:a.height,flipY:!1});return this.colorTexture=o,o}},{key:"setColorTexture",value:function(t,n,i){this.key=this.getTextureKey(n,i),this.colorTexture=t}},{key:"destroy",value:function(){var t;(t=this.colorTexture)===null||t===void 0||t.destroy()}},{key:"getColorRampBar",value:function(t,n){switch(t.type){case"cat":return tQ(t);case"quantize":return eQ(t);case"custom":return rQ(t,n);case"linear":return JK(t,n);default:return Qm(t)}}},{key:"getTextureKey",value:function(t,n){var i;return"".concat(t.colors.join("_"),"_").concat(t==null||(i=t.positions)===null||i===void 0?void 0:i.join("_"),"_").concat(t.type,"_").concat(n==null?void 0:n.join("_"))}}]),e}(),Rot=["passes"],Dot=["moduleName","vertexShader","fragmentShader","triangulation","segmentNumber","workerEnabled","workerOptions"],BS,O9,NS;function Bot(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Not(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function Not(e,r){if(e){if(typeof e=="string")return ZS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZS(e,r)}}function ZS(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Zot(e){var r=zot();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function zot(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var zS=0,V0=(BS=a9(ve.IGlobalConfigService),O9=function(e){(0,ze.Z)(t,e);var r=Zot(t);function t(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,ge.Z)(this,t),n=r.call(this),(0,S.Z)((0,Qt.Z)(n),"id","".concat(zS++)),(0,S.Z)((0,Qt.Z)(n),"name","".concat(zS)),(0,S.Z)((0,Qt.Z)(n),"visible",!0),(0,S.Z)((0,Qt.Z)(n),"zIndex",0),(0,S.Z)((0,Qt.Z)(n),"inited",!1),(0,S.Z)((0,Qt.Z)(n),"layerModelNeedUpdate",!1),(0,S.Z)((0,Qt.Z)(n),"pickedFeatureID",null),(0,S.Z)((0,Qt.Z)(n),"selectedFeatureID",null),(0,S.Z)((0,Qt.Z)(n),"styleNeedUpdate",!1),(0,S.Z)((0,Qt.Z)(n),"forceRender",!1),(0,S.Z)((0,Qt.Z)(n),"clusterZoom",0),(0,S.Z)((0,Qt.Z)(n),"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),(0,S.Z)((0,Qt.Z)(n),"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),(0,S.Z)((0,Qt.Z)(n),"hooks",{init:new ert,afterInit:new xE,beforeRender:new xE,beforeRenderData:new rrt,afterRender:new Oa,beforePickingEncode:new Oa,afterPickingEncode:new Oa,beforeHighlight:new Oa(["pickedColor"]),afterHighlight:new Oa,beforeSelect:new Oa(["pickedColor"]),afterSelect:new Oa,beforeDestroy:new Oa,afterDestroy:new Oa}),(0,S.Z)((0,Qt.Z)(n),"models",[]),(0,S.Z)((0,Qt.Z)(n),"startInit",!1),(0,S.Z)((0,Qt.Z)(n),"layerChildren",[]),(0,S.Z)((0,Qt.Z)(n),"masks",[]),dr((0,Qt.Z)(n),"configService",NS,(0,Qt.Z)(n)),(0,S.Z)((0,Qt.Z)(n),"animateOptions",{enable:!1}),(0,S.Z)((0,Qt.Z)(n),"currentPickId",null),(0,S.Z)((0,Qt.Z)(n),"pendingStyleAttributes",[]),(0,S.Z)((0,Qt.Z)(n),"scaleOptions",{}),(0,S.Z)((0,Qt.Z)(n),"animateStatus",!1),(0,S.Z)((0,Qt.Z)(n),"isDestroyed",!1),(0,S.Z)((0,Qt.Z)(n),"encodeDataLength",0),(0,S.Z)((0,Qt.Z)(n),"sourceEvent",function(){n.dataState.dataSourceNeedUpdate=!0;var a=n.getLayerConfig();a&&a.autoFit&&n.fitBounds(a.fitBoundsOptions);var o=n.layerSource.getSourceCfg().autoRender;o&&n.reRender()}),n.name=i.name||n.id,n.zIndex=i.zIndex||0,n.rawConfig=i,n}return(0,ye.Z)(t,[{key:"addMaskLayer",value:function(i){this.masks.push(i)}},{key:"removeMaskLayer",value:function(i){var a=this.masks.indexOf(i);a>-1&&this.masks.splice(a,1),i.destroy()}},{key:"getAttribute",value:function(i){return this.styleAttributeService.getLayerStyleAttribute(i)}},{key:"getLayerConfig",value:function(){return this.configService.getLayerConfig(this.id)}},{key:"updateLayerConfig",value:function(i){var a=this;if(Object.keys(i).map(function(s){s in a.rawConfig&&(a.rawConfig[s]=i[s])}),!this.startInit)this.needUpdateConfig=(0,H.Z)((0,H.Z)({},this.needUpdateConfig),i);else{var o=this.container.get(ve.SceneID);bot(i,this),this.configService.setLayerConfig(o,this.id,(0,H.Z)((0,H.Z)((0,H.Z)({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),i)),this.needUpdateConfig={}}}},{key:"setContainer",value:function(i,a){this.container=i,this.sceneContainer=a}},{key:"getContainer",value:function(){return this.container}},{key:"addPlugin",value:function(i){return this.plugins.push(i),this}},{key:"init",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o=this,s,u,l,c,f,h,v;return zt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:s=this.container.get(ve.SceneID),this.startInit=!0,this.configService.setLayerConfig(s,this.id,this.rawConfig),this.layerType=this.rawConfig.layerType,this.iconService=this.container.get(ve.IIconService),this.fontService=this.container.get(ve.IFontService),this.rendererService=this.container.get(ve.IRendererService),this.layerService=this.container.get(ve.ILayerService),this.debugService=this.container.get(ve.IDebugService),this.interactionService=this.container.get(ve.IInteractionService),this.pickingService=this.container.get(ve.IPickingService),this.mapService=this.container.get(ve.IMapService),u=this.getLayerConfig(),l=u.enableMultiPassRenderer,c=u.passes,l&&c!==null&&c!==void 0&&c.length&&c.length>0&&this.mapService.on("mapAfterFrameChange",function(){o.renderLayers()}),this.cameraService=this.container.get(ve.ICameraService),this.coordinateService=this.container.get(ve.ICoordinateSystemService),this.shaderModuleService=this.container.get(ve.IShaderModuleService),this.postProcessingPassFactory=this.container.get(ve.IFactoryPostProcessingPass),this.normalPassFactory=this.container.get(ve.IFactoryNormalPass),this.styleAttributeService=this.container.get(ve.IStyleAttributeService),l&&(this.multiPassRenderer=this.container.get(ve.IMultiPassRenderer),this.multiPassRenderer.setLayer(this)),this.pendingStyleAttributes.forEach(function(y){var m=y.attributeName,E=y.attributeField,C=y.attributeValues,A=y.updateOptions;o.styleAttributeService.updateStyleAttribute(m,{scale:(0,H.Z)({field:E},o.splitValuesAndCallbackInAttribute(C,o.getLayerConfig()[m]))},A)}),this.pendingStyleAttributes=[],this.plugins=this.container.getAll(ve.ILayerPlugin),f=Bot(this.plugins);try{for(f.s();!(h=f.n()).done;)v=h.value,v.apply(this,{rendererService:this.rendererService,mapService:this.mapService,styleAttributeService:this.styleAttributeService,normalPassFactory:this.normalPassFactory,postProcessingPassFactory:this.postProcessingPassFactory})}catch(y){f.e(y)}finally{f.f()}return this.layerPickService=new Iot(this),this.textureService=new Pot(this),this.log(pn.LayerInitStart),g.next=31,this.hooks.init.promise();case 31:this.log(pn.LayerInitEnd),this.inited=!0,this.emit("inited",{target:this,type:"inited"}),this.emit("add",{target:this,type:"add"}),this.hooks.afterInit.call();case 36:case"end":return g.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"log",value:function(i){var a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"init";if(!(this.tileLayer||this.isTileLayer)){var s="".concat(this.id,".").concat(o,".").concat(i),u={id:this.id,type:this.type};(a=this.debugService)===null||a===void 0||a.log(s,u)}}},{key:"updateModelData",value:function(i){i.attributes&&i.elements?this.models.map(function(a){a.updateAttributesAndElements(i.attributes,i.elements)}):console.warn("data error")}},{key:"createModelData",value:function(i,a){var o;if((o=this.layerModel)!==null&&o!==void 0&&o.createModelData)return this.layerModel.createModelData(a);var s=this.calculateEncodeData(i,a),u=this.triangulation;return s&&u?this.styleAttributeService.createAttributesAndIndices(s,u):{attributes:void 0,elements:void 0}}},{key:"setLayerPickService",value:function(i){this.layerPickService=i}},{key:"calculateEncodeData",value:function(i,a){return this.inited?Lot(this,this.fontService,this.mapService,this.styleAttributeService,i,a):(console.warn("layer not inited!"),null)}},{key:"prepareBuildModel",value:function(){this.updateLayerConfig((0,H.Z)((0,H.Z)((0,H.Z)({},this.getDefaultConfig()),this.rawConfig),this.needUpdateConfig));var i=this.getLayerConfig(),a=i.animateOption;a!=null&&a.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}},{key:"color",value:function(i,a,o){return this.updateStyleAttribute("color",i,a,o),this}},{key:"texture",value:function(i,a,o){return this.updateStyleAttribute("texture",i,a,o),this}},{key:"rotate",value:function(i,a,o){return this.updateStyleAttribute("rotate",i,a,o),this}},{key:"size",value:function(i,a,o){return this.updateStyleAttribute("size",i,a,o),this}},{key:"filter",value:function(i,a,o){var s=this.updateStyleAttribute("filter",i,a,o);return this.dataState.dataSourceNeedUpdate=s,this}},{key:"shape",value:function(i,a,o){this.shapeOption={field:i,values:a};var s=this.updateStyleAttribute("shape",i,a,o);return this.dataState.dataSourceNeedUpdate=s,this}},{key:"label",value:function(i,a,o){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:i,attributeValues:a,updateOptions:o}),this}},{key:"animate",value:function(i){var a={};return(0,Te.isObject)(i)?(a.enable=!0,a=(0,H.Z)((0,H.Z)({},a),i)):a.enable=i,this.updateLayerConfig({animateOption:a}),this}},{key:"source",value:function(i,a){return(i==null?void 0:i.type)==="source"?(this.setSource(i),this):(this.sourceOption={data:i,options:a},this.clusterZoom=0,this)}},{key:"setData",value:function(i,a){var o=this;return this.inited?(this.log(pn.SourceInitStart,dn.UPDATE),this.layerSource.setData(i,a),this.log(pn.SourceInitEnd,dn.UPDATE)):this.on("inited",function(){o.log(pn.SourceInitStart,dn.UPDATE);var s=o.getSource();s?o.layerSource.setData(i,a):o.source(new Ju(i,a)),o.layerSource.once("update",function(){o.log(pn.SourceInitEnd,dn.UPDATE)})}),this}},{key:"style",value:function(i){var a=this,o=i.passes,s=(0,B.Z)(i,Rot);return o&&RS(o).forEach(function(u){var l=a.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(u[0]);l&&l.updateOptions(u[1])}),this.rawConfig=(0,H.Z)((0,H.Z)({},this.rawConfig),s),this.container&&(this.updateLayerConfig(this.rawConfig),this.styleNeedUpdate=!0),this}},{key:"scale",value:function(i,a){var o=(0,H.Z)({},this.scaleOptions);if((0,Te.isObject)(i)?this.scaleOptions=(0,H.Z)((0,H.Z)({},this.scaleOptions),i):this.scaleOptions[i]=a,this.styleAttributeService&&!(0,Te.isEqual)(o,this.scaleOptions)){var s=(0,Te.isObject)(i)?i:(0,S.Z)({},i,a);this.styleAttributeService.updateScaleAttribute(s)}return this}},{key:"renderLayers",value:function(){this.rendering=!0,this.layerService.renderLayers(),this.rendering=!1}},{key:"render",value:function(){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender?this:(this.renderModels(),this))}},{key:"renderMultiPass",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(!(this.encodeDataLength<=0&&!this.forceRender)){s.next=2;break}return s.abrupt("return");case 2:if(!(this.multiPassRenderer&&this.multiPassRenderer.getRenderFlag())){s.next=7;break}return s.next=5,this.multiPassRenderer.render();case 5:s.next=8;break;case 7:this.multiPassRenderer?this.renderModels():this.renderModels();case 8:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"active",value:function(i){var a={};return a.enableHighlight=(0,Te.isObject)(i)?!0:i,(0,Te.isObject)(i)?(a.enableHighlight=!0,i.color&&(a.highlightColor=i.color),i.mix&&(a.activeMix=i.mix)):a.enableHighlight=!!i,this.updateLayerConfig(a),this}},{key:"setActive",value:function(i,a){var o=this;if((0,Te.isObject)(i)){var s=i.x,u=s===void 0?0:s,l=i.y,c=l===void 0?0:l;this.updateLayerConfig({highlightColor:(0,Te.isObject)(a)?a.color:this.getLayerConfig().highlightColor,activeMix:(0,Te.isObject)(a)?a.mix:this.getLayerConfig().activeMix}),this.pick({x:u,y:c})}else this.updateLayerConfig({pickedFeatureID:i,highlightColor:(0,Te.isObject)(a)?a.color:this.getLayerConfig().highlightColor,activeMix:(0,Te.isObject)(a)?a.mix:this.getLayerConfig().activeMix}),this.hooks.beforeSelect.call(Ja(i)).then(function(){setTimeout(function(){o.reRender()},1)})}},{key:"select",value:function(i){var a={};return a.enableSelect=(0,Te.isObject)(i)?!0:i,(0,Te.isObject)(i)?(a.enableSelect=!0,i.color&&(a.selectColor=i.color),i.mix&&(a.selectMix=i.mix)):a.enableSelect=!!i,this.updateLayerConfig(a),this}},{key:"setSelect",value:function(i,a){var o=this;if((0,Te.isObject)(i)){var s=i.x,u=s===void 0?0:s,l=i.y,c=l===void 0?0:l;this.updateLayerConfig({selectColor:(0,Te.isObject)(a)?a.color:this.getLayerConfig().selectColor,selectMix:(0,Te.isObject)(a)?a.mix:this.getLayerConfig().selectMix}),this.pick({x:u,y:c})}else this.updateLayerConfig({pickedFeatureID:i,selectColor:(0,Te.isObject)(a)?a.color:this.getLayerConfig().selectColor,selectMix:(0,Te.isObject)(a)?a.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(Ja(i)).then(function(){setTimeout(function(){o.reRender()},1)})}},{key:"setBlend",value:function(i){return this.updateLayerConfig({blend:i}),this.layerModelNeedUpdate=!0,this.reRender(),this}},{key:"show",value:function(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}},{key:"hide",value:function(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}},{key:"setIndex",value:function(i){return this.zIndex=i,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}},{key:"setCurrentPickId",value:function(i){this.currentPickId=i}},{key:"getCurrentPickId",value:function(){return this.currentPickId}},{key:"setCurrentSelectedId",value:function(i){this.selectedFeatureID=i}},{key:"getCurrentSelectedId",value:function(){return this.selectedFeatureID}},{key:"isVisible",value:function(){var i=this.mapService.getZoom(),a=this.getLayerConfig(),o=a.visible,s=a.minZoom,u=s===void 0?-1/0:s,l=a.maxZoom,c=l===void 0?1/0:l;return!!o&&i>=u&&i<c}},{key:"setMultiPass",value:function(i,a){if(this.updateLayerConfig({enableMultiPassRenderer:i}),a&&this.updateLayerConfig({passes:a}),i){var o=this.getLayerConfig(),s=o.passes,u=s===void 0?[]:s;this.multiPassRenderer=DS(this,u,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);var l=this.rendererService.getViewportSize(),c=l.width,f=l.height;this.multiPassRenderer.resize(c,f)}return this}},{key:"setMinZoom",value:function(i){return this.updateLayerConfig({minZoom:i}),this}},{key:"getMinZoom",value:function(){var i=this.getLayerConfig(),a=i.minZoom;return a}},{key:"getMaxZoom",value:function(){var i=this.getLayerConfig(),a=i.maxZoom;return a}},{key:"get",value:function(i){var a=this.getLayerConfig();return a[i]}},{key:"setMaxZoom",value:function(i){return this.updateLayerConfig({maxZoom:i}),this}},{key:"setAutoFit",value:function(i){return this.updateLayerConfig({autoFit:i}),this}},{key:"fitBounds",value:function(i){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;var a=this.getSource(),o=a.extent,s=o.some(function(u){return Math.abs(u)===1/0});return s?this:(this.mapService.fitBounds([[o[0],o[1]],[o[2],o[3]]],i),this)}},{key:"destroy",value:function(){var i,a,o,s,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isDestroyed||(this.layerChildren.map(function(l){return l.destroy(!1)}),this.layerChildren=[],this.masks.map(function(l){return l.destroy(!1)}),this.masks=[],this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),(i=this.multiPassRenderer)===null||i===void 0||i.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(a=this.layerModel)===null||a===void 0||a.clearModels(u),(o=this.tileLayer)===null||o===void 0||o.destroy(),this.models=[],(s=this.debugService)===null||s===void 0||s.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0)}},{key:"clear",value:function(){this.styleAttributeService.clearAllAttributes()}},{key:"clearModels",value:function(){var i;this.models.forEach(function(a){return a.destroy()}),(i=this.layerModel)===null||i===void 0||i.clearModels(),this.models=[]}},{key:"isDirty",value:function(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(function(i){return i.needRescale||i.needRemapping||i.needRegenerateVertices}).length}},{key:"setSource",value:function(i){var a=this;if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=i,this.clusterZoom=0,this.inited&&this.layerSource.cluster){var o=this.mapService.getZoom();this.layerSource.updateClusterData(o)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",function(s){var u=s.type;if(a.coordCenter===void 0){var l,c=a.layerSource.center;a.coordCenter=c,(l=a.mapService)!==null&&l!==void 0&&l.setCoordCenter&&a.mapService.setCoordCenter(c)}u==="update"&&a.sourceEvent()})}},{key:"initSource",value:function(i){this.layerSource=i,this.clusterZoom=0,this.addSourceEvent()}},{key:"getSource",value:function(){return this.layerSource}},{key:"addSourceEvent",value:function(){var i=this;this.layerSource.on("update",function(){if(i.coordCenter===void 0){var a,o=i.layerSource.center;i.coordCenter=o,(a=i.mapService)!==null&&a!==void 0&&a.setCoordCenter&&i.mapService.setCoordCenter(o)}i.sourceEvent()})}},{key:"getScaleOptions",value:function(){return this.scaleOptions}},{key:"setEncodedData",value:function(i){this.encodedData=i,this.encodeDataLength=i.length}},{key:"getEncodedData",value:function(){return this.encodedData}},{key:"getScale",value:function(i){return this.styleAttributeService.getLayerAttributeScale(i)}},{key:"getLegend",value:function(i){var a,o,s,u=this.styleAttributeService.getLayerStyleAttribute(i),l=(u==null||(a=u.scale)===null||a===void 0?void 0:a.scalers)||[];return{type:(o=l[0].option)===null||o===void 0?void 0:o.type,field:u==null||(s=u.scale)===null||s===void 0?void 0:s.field,items:this.getLegendItems(i)}}},{key:"getLegendItems",value:function(i){var a=this.styleAttributeService.getLayerAttributeScale(i);if(!a)return[];if(a.invertExtent){var o=a.range().map(function(l){return(0,S.Z)({value:a.invertExtent(l)},i,l)});return o}else if(a.ticks){var s=a.ticks().map(function(l){return(0,S.Z)({value:l},i,a(l))});return s}else if(a!=null&&a.domain){var u=a.domain().filter(function(l){return!(0,Te.isUndefined)(l)}).map(function(l){return(0,S.Z)({value:l},i,a(l))});return u}return[]}},{key:"pick",value:function(i){var a=i.x,o=i.y;this.interactionService.triggerHover({x:a,y:o})}},{key:"boxSelect",value:function(i,a){this.pickingService.boxPickLayer(this,i,a)}},{key:"buildLayerModel",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s=this,u,l,c,f,h,v,p,g,y,m,E,C,A,M;return zt().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return u=o.moduleName,l=o.vertexShader,c=o.fragmentShader,f=o.triangulation,h=o.segmentNumber,v=o.workerEnabled,p=v===void 0?!1:v,g=o.workerOptions,y=(0,B.Z)(o,Dot),this.shaderModuleService.registerModule(u,{vs:l,fs:c}),m=this.shaderModuleService.getModule(u),E=m.vs,C=m.fs,A=m.uniforms,M=this.rendererService.createModel,Y.abrupt("return",new Promise(function(st,Ct){if(g&&g.modelType in Wx&&p)s.styleAttributeService.createAttributesAndIndicesAscy(s.encodedData,h,g).then(function(he){var Me=he.attributes,De=he.elements,Fe=M((0,H.Z)({attributes:Me,uniforms:A,fs:C,vs:E,elements:De,blend:k9[fa.normal]},y));st(Fe)}).catch(function(he){return Ct(he)});else{var Pt=s.styleAttributeService.createAttributesAndIndices(s.encodedData,f,h),Zt=Pt.attributes,ie=Pt.elements,ce=Pt.count,_e=(0,H.Z)({attributes:Zt,uniforms:A,fs:C,vs:E,elements:ie,blend:k9[fa.normal]},y);ce&&(_e.count=ce);var Re=M(_e);st(Re)}}));case 5:case"end":return Y.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"createAttributes",value:function(i){var a=i.triangulation,o=this.styleAttributeService.createAttributes(this.encodedData,a),s=o.attributes;return s}},{key:"getTime",value:function(){return this.layerService.clock.getDelta()}},{key:"setAnimateStartTime",value:function(){this.animateStartTime=this.layerService.clock.getElapsedTime()}},{key:"stopAnimate",value:function(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}},{key:"getLayerAnimateTime",value:function(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}},{key:"needPick",value:function(i){var a=this.getLayerConfig(),o=a.enableHighlight,s=o===void 0?!0:o,u=a.enableSelect,l=u===void 0?!0:u,c=this.eventNames().indexOf(i)!==-1||this.eventNames().indexOf("un"+i)!==-1;return(i==="click"||i==="dblclick")&&l&&(c=!0),i==="mousemove"&&(s||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(c=!0),this.isVisible()&&c}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return s.stop()}},a)}));function i(){return n.apply(this,arguments)}return i}()},{key:"rebuildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.buildModels();case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"renderMulPass",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,o.render();case 2:case"end":return u.stop()}},a)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"renderModels",value:function(i){var a=this;return this.encodeDataLength<=0&&!this.forceRender?this:(this.hooks.beforeRender.call(),this.models.forEach(function(o){o.draw({uniforms:a.layerModel.getUninforms()},i)}),this.hooks.afterRender.call(),this)}},{key:"updateStyleAttribute",value:function(i,a,o,s){var u=this.configService.getAttributeConfig(this.id)||{};return(0,Te.isEqual)(u[i],{field:a,values:o})?!1:(["color","size","texture","rotate","filter","label","shape"].indexOf(i)!==-1&&this.configService.setAttributeConfig(this.id,(0,S.Z)({},i,{field:a,values:o})),this.startInit?this.styleAttributeService.updateStyleAttribute(i,{scale:(0,H.Z)({field:a},this.splitValuesAndCallbackInAttribute(o,this.getLayerConfig()[a]))},s):this.pendingStyleAttributes.push({attributeName:i,attributeField:a,attributeValues:o,updateOptions:s}),!0)}},{key:"getLayerAttributeConfig",value:function(){return this.configService.getAttributeConfig(this.id)}},{key:"getShaderPickStat",value:function(){return this.layerService.getShaderPickStat()}},{key:"setEarthTime",value:function(i){console.warn("empty fn")}},{key:"processData",value:function(i){return i}},{key:"getModelType",value:function(){throw new Error("Method not implemented.")}},{key:"getDefaultConfig",value:function(){return{}}},{key:"initLayerModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.models.forEach(function(u){return u.destroy()}),this.models=[],s.next=4,this.layerModel.initModels();case 4:this.models=s.sent;case 5:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"reRender",value:function(){this.inited&&this.layerService.reRender()}},{key:"splitValuesAndCallbackInAttribute",value:function(i,a){return{values:(0,Te.isFunction)(i)?void 0:i||a,callback:(0,Te.isFunction)(i)?i:void 0}}}]),t}(Vn.EventEmitter),NS=vr(O9.prototype,"configService",[BS],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O9),US,L9,HS;function Uot(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Hot(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function Hot(e,r){if(e){if(typeof e=="string")return VS(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return VS(e,r)}}function VS(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Wr=(US=a9(ve.IGlobalConfigService),L9=function(){function e(r){(0,ge.Z)(this,e),dr(this,"configService",HS,this),this.layer=r,this.rendererService=r.getContainer().get(ve.IRendererService),this.pickingService=r.getContainer().get(ve.IPickingService),this.shaderModuleService=r.getContainer().get(ve.IShaderModuleService),this.styleAttributeService=r.getContainer().get(ve.IStyleAttributeService),this.mapService=r.getContainer().get(ve.IMapService),this.iconService=r.getContainer().get(ve.IIconService),this.fontService=r.getContainer().get(ve.IFontService),this.cameraService=r.getContainer().get(ve.ICameraService),this.layerService=r.getContainer().get(ve.ILayerService),this.registerBuiltinAttributes(),this.startModelAnimate();var t=this.rendererService.createTexture2D;this.createTexture2D=t,this.DATA_TEXTURE_WIDTH=1024,this.rowCount=1,this.cellLength=0,this.cellProperties=[],this.cacheStyleProperties={thetaOffset:void 0,opacity:void 0,strokeOpacity:void 0,strokeWidth:void 0,stroke:void 0,offsets:void 0},this.stylePropertiesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0},this.dataTextureTest=this.layerService.getOESTextureFloat(),this.dataTextureTest||(this.dataTexture=this.createTexture2D({data:new Uint8Array(4),mag:J.NEAREST,min:J.NEAREST,width:1,height:1}))}return(0,ye.Z)(e,[{key:"clearLastCalRes",value:function(){this.cellProperties=[],this.cellLength=0,this.stylePropertiesExist={hasThetaOffset:0,hasOpacity:0,hasStrokeOpacity:0,hasStrokeWidth:0,hasStroke:0,hasOffsets:0}}},{key:"getCellTypeLayout",value:function(){return this.dataTextureTest?[this.rowCount,this.DATA_TEXTURE_WIDTH,0,0,this.stylePropertiesExist.hasOpacity,this.stylePropertiesExist.hasStrokeOpacity,this.stylePropertiesExist.hasStrokeWidth,this.stylePropertiesExist.hasStroke,this.stylePropertiesExist.hasOffsets,this.stylePropertiesExist.hasThetaOffset,0,0,0,0,0,1]:[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,-1]}},{key:"dataTextureNeedUpdate",value:function(t){var n=!1;return(0,Te.isEqual)(t.thetaOffset,this.cacheStyleProperties.thetaOffset)||(n=!0,this.cacheStyleProperties.thetaOffset=t.thetaOffset),(0,Te.isEqual)(t.opacity,this.cacheStyleProperties.opacity)||(n=!0,this.cacheStyleProperties.opacity=t.opacity),(0,Te.isEqual)(t.strokeOpacity,this.cacheStyleProperties.strokeOpacity)||(n=!0,this.cacheStyleProperties.strokeOpacity=t.strokeOpacity),(0,Te.isEqual)(t.strokeWidth,this.cacheStyleProperties.strokeWidth)||(n=!0,this.cacheStyleProperties.strokeWidth=t.strokeWidth),(0,Te.isEqual)(t.stroke,this.cacheStyleProperties.stroke)||(n=!0,this.cacheStyleProperties.stroke=t.stroke),(0,Te.isEqual)(t.offsets,this.cacheStyleProperties.offsets)||(n=!0,this.cacheStyleProperties.offsets=t.offsets),this.dataTexture===void 0&&(n=!0),n}},{key:"judgeStyleAttributes",value:function(t){this.clearLastCalRes(),t.opacity!==void 0&&!(0,Te.isNumber)(t.opacity)&&(this.cellProperties.push({attr:"opacity",count:1}),this.stylePropertiesExist.hasOpacity=1,this.cellLength+=1),t.strokeOpacity!==void 0&&!(0,Te.isNumber)(t.strokeOpacity)&&(this.cellProperties.push({attr:"strokeOpacity",count:1}),this.stylePropertiesExist.hasStrokeOpacity=1,this.cellLength+=1),t.strokeWidth!==void 0&&!(0,Te.isNumber)(t.strokeWidth)&&(this.cellProperties.push({attr:"strokeWidth",count:1}),this.stylePropertiesExist.hasStrokeWidth=1,this.cellLength+=1),t.stroke!==void 0&&!this.isStaticColor(t.stroke)&&(this.cellProperties.push({attr:"stroke",count:4}),this.stylePropertiesExist.hasStroke=1,this.cellLength+=4),t.offsets!==void 0&&!this.isOffsetStatic(t.offsets)&&(this.cellProperties.push({attr:"offsets",count:2}),this.stylePropertiesExist.hasOffsets=1,this.cellLength+=2),t.thetaOffset!==void 0&&!(0,Te.isNumber)(t.thetaOffset)&&(this.cellProperties.push({attr:"thetaOffset",count:1}),this.stylePropertiesExist.hasThetaOffset=1,this.cellLength+=1)}},{key:"isStaticColor",value:function(t){return(0,Te.isString)(t)?!!A1(t):!1}},{key:"getStrokeColor",value:function(t){if(this.isStaticColor(t)){var n=Dr(t);return n[0]=n[0]?n[0]:0,n[1]=n[1]?n[1]:0,n[2]=n[2]?n[2]:0,n[3]=n[3]?n[3]:0,n}else return[0,0,0,0]}},{key:"isOffsetStatic",value:function(t){return!!(Array.isArray(t)&&t.length===2&&(0,Te.isNumber)(t[0])&&(0,Te.isNumber)(t[1]))}},{key:"patchMod",value:function(t,n){for(var i=0;i<n;i++)t.push(-1)}},{key:"patchData",value:function(t,n,i){var a=Uot(i),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,u=s.attr,l=s.count,c=n[u];c!==void 0?u==="stroke"?t.push.apply(t,(0,We.Z)(Dr(c))):u==="offsets"?this.isOffsetStatic(c)?t.push(-c[0],c[1]):t.push(0,0):t.push((0,Te.isNumber)(c)?c:1):this.patchMod(t,l)}}catch(f){a.e(f)}finally{a.f()}}},{key:"calDataFrame",value:function(t,n,i){for(var a=n.length,o=Math.ceil(a*t/this.DATA_TEXTURE_WIDTH),s=o*this.DATA_TEXTURE_WIDTH,u=[],l=0;l<a;l++){var c=n[l];this.patchData(u,c,i)}for(var f=u.length;f<s;f++)u.push(-1);return{data:u,width:this.DATA_TEXTURE_WIDTH,height:o}}},{key:"getBlend",value:function(){var t=this.layer.getLayerConfig(),n=t.blend,i=n===void 0?"normal":n;return k9[fa[i]]}},{key:"getDefaultStyle",value:function(){return{}}},{key:"getUninforms",value:function(){throw new Error("Method not implemented.")}},{key:"getAnimateUniforms",value:function(){return{}}},{key:"needUpdate",value:function(){var r=(0,xe.Z)(zt().mark(function n(){return zt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",!1);case 1:case"end":return a.stop()}},n)}));function t(){return r.apply(this,arguments)}return t}()},{key:"buildModels",value:function(){var r=(0,xe.Z)(zt().mark(function n(){return zt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return a.stop()}},n)}));function t(){return r.apply(this,arguments)}return t}()},{key:"initModels",value:function(){var r=(0,xe.Z)(zt().mark(function n(){return zt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw new Error("Method not implemented.");case 1:case"end":return a.stop()}},n)}));function t(){return r.apply(this,arguments)}return t}()},{key:"clearModels",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0}},{key:"getAttribute",value:function(){throw new Error("Method not implemented.")}},{key:"render",value:function(){throw new Error("Method not implemented.")}},{key:"registerBuiltinAttributes",value:function(){throw new Error("Method not implemented.")}},{key:"animateOption2Array",value:function(t){return[t.enable?0:1,t.duration||4,t.interval||.2,t.trailLength||.1]}},{key:"startModelAnimate",value:function(){var t=this.layer.getLayerConfig(),n=t.animateOption;n.enable&&this.layer.setAnimateStartTime()}}]),e}(),HS=vr(L9.prototype,"configService",[US],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L9),I9=100,fvt=36,hvt=40;function GS(e){return e/180*Math.acos(-1)}function jS(e){var r=GS(e[0])+Math.PI/2,t=GS(e[1]),n=I9+Math.random()*.4,i=n*Math.cos(t)*Math.cos(r),a=n*Math.cos(t)*Math.sin(r),o=n*Math.sin(t);return[a,o,i]}function vvt(e,r){var t=mat4.create(),n=mat4.create(),i=vec3.fromValues(0,1,0),a=vec3.fromValues(0,0,0);r=r||{},e=typeof e!="undefined"?e:1;for(var o=typeof r.segments!="undefined"?r.segments:32,s=2+o,u=2*s,l=[],c=[],f=[],h=[],v=[],p=[],g=0;g<=s;g++){for(var y=g/s,m=y*Math.PI,E=0;E<=u;E++){var C=E/u,A=C*Math.PI*2;mat4.identity(n),mat4.rotateZ(n,n,-m),mat4.identity(t),mat4.rotateY(t,t,A),vec3.transformMat4(a,i,n),vec3.transformMat4(a,a,t),vec3.scale(a,a,-e),f.push(a.slice()),h.push.apply(h,_toConsumableArray(a.slice())),vec3.normalize(a,a),v.push.apply(v,_toConsumableArray(a.slice())),p.push([C,1-y]),h.push(C,1-y)}if(g>0)for(var M=f.length,Z=M-2*(u+1);Z+u+2<M;Z++)l.push([Z,Z+1,Z+u+1]),c.push(Z,Z+1,Z+u+1),l.push([Z+u+1,Z+1,Z+u+2]),c.push(Z+u+1,Z+1,Z+u+2)}return{cells:l,positions:f,uvs:p,positionsArr:h,indicesArr:c,normalArr:v}}var K3=de.Ue(),pvt=de.Ue(),Cn=de.Ue(),Go=de.Ue(),G0=de.Ue();function P9(e,r,t,n,i){de.IH(e,t,n),de.Fv(e,e),r=de.al(-e[1],e[0]);var a=de.al(-t[1],t[0]);return[i/de.AK(r,a),r]}function jo(e,r){return de.t8(e,-r[1],r[0])}function j0(e,r,t){return de.lu(e,r,t),de.Fv(e,e),e}function R9(e,r){return e[0]===r[0]&&e[1]===r[1]}function dvt(e){for(var r=new Map,t=0;t<e.length;t++){var n=e[0].toString()+"-"+e[1].toString();r.get(n)?(e.splice(t,1),t++):r.set(n,n)}return e}var Vot=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(0,ge.Z)(this,e),(0,S.Z)(this,"lastFlip",-1),(0,S.Z)(this,"miter",de.al(0,0)),(0,S.Z)(this,"started",!1),(0,S.Z)(this,"dash",!1),(0,S.Z)(this,"totalDistance",0),(0,S.Z)(this,"currentIndex",0),this.join=r.join||"miter",this.cap=r.cap||"butt",this.miterLimit=r.miterLimit||10,this.thickness=r.thickness||1,this.dash=r.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}return(0,ye.Z)(e,[{key:"simpleExtrude",value:function(t){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var i=t.length,a=n.startIndex,o=1;o<i;o++){var s=t[o-1],u=t[o],l=o<t.length-1?t[o+1]:null,c=this.simpleSegment(n,a,s,u,l);a+=c}if(this.dash)for(var f=0;f<n.positions.length/6;f++)n.positions[f*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleExtrude_gaode2",value:function(t,n){var i=this.complex;if(t.length<=1)return i;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var a=t.length,o=i.startIndex,s=1;s<a;s++){var u,l,c,f=t[s-1];f.push((u=n[s-1][2])!==null&&u!==void 0?u:0);var h=n[s-1],v=t[s];v.push((l=n[s][2])!==null&&l!==void 0?l:0);var p=n[s],g=s<t.length-1?[].concat((0,We.Z)(t[s+1]),[(c=n[s+1][2])!==null&&c!==void 0?c:0]):null,y=s<n.length-1?n[s+1]:null,m=this.simpleSegment(i,o,f,v,g,h,p,y);o+=m}if(this.dash)for(var E=0;E<i.positions.length/6;E++)i.positions[E*6+5]=this.totalDistance;return i.startIndex=i.positions.length/6,i}},{key:"extrude_gaode2",value:function(t,n){var i=this.complex;if(t.length<=1)return i;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var a=t.length,o=i.startIndex,s=1;s<a;s++){var u,l,c,f=t[s-1];f.push((u=n[s-1][2])!==null&&u!==void 0?u:0);var h=n[s-1],v=t[s];v.push((l=n[s][2])!==null&&l!==void 0?l:0);var p=n[s],g=s<t.length-1?[].concat((0,We.Z)(t[s+1]),[(c=n[s+1][2])!==null&&c!==void 0?c:0]):null,y=s<n.length-1?n[s+1]:null,m=this.segment_gaode2(i,o,f,v,g,h,p,y);o+=m}if(this.dash)for(var E=0;E<i.positions.length/6;E++)i.positions[E*6+5]=this.totalDistance;return i.startIndex=i.positions.length/6,i}},{key:"extrude",value:function(t){var n=this.complex;if(t.length<=1)return n;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;for(var i=t.length,a=n.startIndex,o=1;o<i;o++){var s=t[o-1],u=t[o],l=o<t.length-1?t[o+1]:null,c=this.segment(n,a,s,u,l);a+=c}if(this.dash)for(var f=0;f<n.positions.length/6;f++)n.positions[f*6+5]=this.totalDistance;return n.startIndex=n.positions.length/6,n}},{key:"simpleSegment",value:function(t,n,i,a,o){var s=0,u=t.indices,l=t.positions,c=t.normals,f=Tn([a[0],a[1]]),h=Tn([i[0],i[1]]);j0(Cn,f,h);var v=0;if(this.dash&&(v=this.lineSegmentDistance(f,h),this.totalDistance+=v),this.normal||(this.normal=de.Ue(),jo(this.normal,Cn)),this.started||(this.started=!0,this.extrusions(l,c,i,this.normal,this.thickness,this.totalDistance-v)),u.push(n+0,n+1,n+2),!o)jo(this.normal,Cn),this.extrusions(l,c,a,this.normal,this.thickness,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),s+=2;else{var p=Tn([o[0],o[1]]);R9(f,p)&&de.IH(p,f,de.Fv(p,de.$X(p,f,h))),j0(Go,p,f);var g=P9(G0,de.Ue(),Cn,Go,this.thickness),y=(0,nr.Z)(g,2),m=y[0],E=y[1],C=de.AK(G0,this.normal)<0?-1:1;this.extrusions(l,c,a,E,m,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),C=-1,de.JG(this.normal,E),s+=2,this.lastFlip=C}return s}},{key:"segment_gaode2",value:function(t,n,i,a,o,s,u,l){var c=0,f=t.indices,h=t.positions,v=t.normals,p=this.cap==="square",g=this.join==="bevel",y=Tn([u[0],u[1]]),m=Tn([s[0],s[1]]);j0(Cn,a,i);var E=0;if(this.dash&&(E=this.lineSegmentDistance(y,m),this.totalDistance+=E),this.normal||(this.normal=de.Ue(),jo(this.normal,Cn)),!this.started)if(this.started=!0,p){var C=de.Ue(),A=de.Ue();de.IH(C,this.normal,Cn),de.IH(A,this.normal,Cn),v.push(A[0],A[1],0),v.push(C[0],C[1],0),h.push(i[0],i[1],i[2]|0,this.totalDistance-E,-this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),h.push(i[0],i[1],i[2]|0,this.totalDistance-E,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(h,v,i,this.normal,this.thickness,this.totalDistance-E);if(f.push(n+0,n+1,n+2),o){R9(a,o)&&de.IH(o,a,de.Fv(o,de.$X(o,a,i))),j0(Go,o,a);var Y=P9(G0,de.Ue(),Cn,Go,this.thickness),st=(0,nr.Z)(Y,2),Ct=st[0],Pt=st[1],Zt=de.AK(G0,this.normal)<0?-1:1,ie=g;if(!ie&&this.join==="miter"){var ce=Ct;ce>this.miterLimit&&(ie=!0)}ie?(v.push(this.normal[0],this.normal[1],0),v.push(Pt[0],Pt[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,f.push.apply(f,(0,We.Z)(this.lastFlip!==-Zt?[n,n+2,n+3]:[n+2,n+1,n+3])),f.push(n+2,n+3,n+4),jo(K3,Go),de.JG(this.normal,K3),v.push(this.normal[0],this.normal[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Zt,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,c+=3):(this.extrusions(h,v,a,Pt,Ct,this.totalDistance),f.push.apply(f,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),Zt=-1,de.JG(this.normal,Pt),c+=2),this.lastFlip=Zt}else{if(jo(this.normal,Cn),p){var M=de.Ue(),Z=de.Ue();de.lu(Z,Cn,this.normal),de.IH(M,Cn,this.normal),v.push(Z[0],Z[1],0),v.push(M[0],M[1],0),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),h.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(h,v,a,this.normal,this.thickness,this.totalDistance);f.push.apply(f,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),c+=2}return c}},{key:"segment",value:function(t,n,i,a,o){var s=0,u=t.indices,l=t.positions,c=t.normals,f=this.cap==="square",h=this.join==="bevel",v=Tn([a[0],a[1]]),p=Tn([i[0],i[1]]);j0(Cn,v,p);var g=0;if(this.dash&&(g=this.lineSegmentDistance(v,p),this.totalDistance+=g),this.normal||(this.normal=de.Ue(),jo(this.normal,Cn)),!this.started)if(this.started=!0,f){var y=de.Ue(),m=de.Ue();de.IH(y,this.normal,Cn),de.IH(m,this.normal,Cn),c.push(m[0],m[1],0),c.push(y[0],y[1],0),l.push(i[0],i[1],i[2]|0,this.totalDistance-g,-this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),l.push(i[0],i[1],i[2]|0,this.totalDistance-g,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,c,i,this.normal,this.thickness,this.totalDistance-g);if(u.push(n+0,n+1,n+2),o){var A=Tn([o[0],o[1]]);R9(v,A)&&de.IH(A,v,de.Fv(A,de.$X(A,v,p))),j0(Go,A,v);var M=P9(G0,de.Ue(),Cn,Go,this.thickness),Z=(0,nr.Z)(M,2),Y=Z[0],st=Z[1],Ct=de.AK(G0,this.normal)<0?-1:1,Pt=h;if(!Pt&&this.join==="miter"){var Zt=Y;Zt>this.miterLimit&&(Pt=!0)}Pt?(c.push(this.normal[0],this.normal[1],0),c.push(st[0],st[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,u.push.apply(u,(0,We.Z)(this.lastFlip!==-Ct?[n,n+2,n+3]:[n+2,n+1,n+3])),u.push(n+2,n+3,n+4),jo(K3,Go),de.JG(this.normal,K3),c.push(this.normal[0],this.normal[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,-this.thickness*Ct,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,s+=3):(this.extrusions(l,c,a,st,Y,this.totalDistance),u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),Ct=-1,de.JG(this.normal,st),s+=2),this.lastFlip=Ct}else{if(jo(this.normal,Cn),f){var E=de.Ue(),C=de.Ue();de.lu(C,Cn,this.normal),de.IH(E,Cn,this.normal),c.push(C[0],C[1],0),c.push(E[0],E[1],0),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),l.push(a[0],a[1],a[2]|0,this.totalDistance,this.thickness,a[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(l,c,a,this.normal,this.thickness,this.totalDistance);u.push.apply(u,(0,We.Z)(this.lastFlip===1?[n,n+2,n+3]:[n+2,n+1,n+3])),s+=2}return s}},{key:"extrusions",value:function(t,n,i,a,o,s){n.push(a[0],a[1],0),n.push(a[0],a[1],0),t.push(i[0],i[1],i[2]|0,s,-o,i[2]|0),this.complex.indexes.push(this.currentIndex),t.push(i[0],i[1],i[2]|0,s,o,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}},{key:"lineSegmentDistance",value:function(t,n){var i=n[0]-t[0],a=n[1]-t[1];return Math.sqrt(i*i+a*a)}}]),e}();function gvt(e){var r=e[0][0],t=e[0][e[0].length-1];r[0]===t[0]&&r[1]===t[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var n=e[0].length,i=earcut.flatten(e),a=i.vertices,o=i.dimensions,s=[],u=[],l=0;l<a.length/o;l++)o===2?s.push(a[l*2],a[l*2+1],1):s.push(a[l*3],a[l*3+1],1);var c=earcut(i.vertices,i.holes,i.dimensions);u.push.apply(u,_toConsumableArray(c));for(var f=function(p){var g=i.vertices.slice(p*o,(p+1)*o),y=i.vertices.slice((p+1)*o,(p+2)*o);y.length===0&&(y=i.vertices.slice(0,o));var m=s.length/3;s.push(g[0],g[1],1,y[0],y[1],1,g[0],g[1],0,y[0],y[1],0),u.push.apply(u,_toConsumableArray([0,2,1,2,3,1].map(function(E){return E+m})))},h=0;h<n;h++)f(h);return{positions:s,index:u}}function yvt(e){var r=earcut.flatten(e),t=earcut(r.vertices,r.holes,r.dimensions);return{positions:r.vertices,index:t}}function WS(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e[0][0],n=e[0][e[0].length-1];t[0]===n[0]&&t[1]===n[1]&&(e[0]=e[0].slice(0,e[0].length-1));for(var i=e[0].length,a=Do().flatten(e),o=a.vertices,s=a.dimensions,u=[],l=[],c=[],f=0;f<o.length/s;f++)s===2?u.push(o[f*2],o[f*2+1],1,-1,-1):u.push(o[f*3],o[f*3+1],1,-1,-1),c.push(0,0,1);var h=Do()(a.vertices,a.holes,a.dimensions);l.push.apply(l,(0,We.Z)(h));for(var v=function(y){var m=a.vertices.slice(y*s,(y+1)*s),E=a.vertices.slice((y+1)*s,(y+2)*s);E.length===0&&(E=a.vertices.slice(0,s));var C=u.length/5;u.push(m[0],m[1],1,0,0,E[0],E[1],1,.1,0,m[0],m[1],0,0,.8,E[0],E[1],0,.1,.8);var A=Got([E[0],E[1],1],[m[0],m[1],0],[m[0],m[1],1],r);c.push.apply(c,(0,We.Z)(A).concat((0,We.Z)(A),(0,We.Z)(A),(0,We.Z)(A))),l.push.apply(l,(0,We.Z)([1,2,0,3,2,1].map(function(M){return M+C})))},p=0;p<i;p++)v(p);return{positions:u,index:l,normals:c}}function Got(e,r,t){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e0(),a=e0(),o=e0();n&&(e=v8(e),r=v8(r),t=v8(t));var s=_n.apply(V,(0,We.Z)(e)),u=_n.apply(V,(0,We.Z)(r)),l=_n.apply(V,(0,We.Z)(t));s4(i,l,u),s4(a,s,u),$7(o,i,a);var c=e0();return r0(c,o),c}var Ki,N1;(function(e){e.CYLINDER="cylinder",e.SQUARECOLUMN="squareColumn",e.TRIANGLECOLUMN="triangleColumn",e.HEXAGONCOLUMN="hexagonColumn",e.PENTAGONCOLUMN="pentagonColumn"})(N1||(N1={}));var Z1;(function(e){e.CIRCLE="circle",e.SQUARE="square",e.TRIANGLE="triangle",e.HEXAGON="hexagon",e.PENTAGON="pentagon"})(Z1||(Z1={}));function tl(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Math.PI*2/e,n=[],i=0;i<e;i++)n.push(t*i+r*Math.PI/12);var a=n.map(function(o){var s=Math.sin(o+Math.PI/4),u=Math.cos(o+Math.PI/4);return[s,u,0]});return a}function YS(){return tl(30)}function XS(){return tl(4)}function $S(){return tl(3)}function qS(){return tl(6,1)}function KS(){return tl(5)}var D9=(Ki={},(0,S.Z)(Ki,Z1.CIRCLE,YS),(0,S.Z)(Ki,Z1.HEXAGON,qS),(0,S.Z)(Ki,Z1.TRIANGLE,$S),(0,S.Z)(Ki,Z1.SQUARE,XS),(0,S.Z)(Ki,Z1.PENTAGON,KS),(0,S.Z)(Ki,N1.CYLINDER,YS),(0,S.Z)(Ki,N1.HEXAGONCOLUMN,qS),(0,S.Z)(Ki,N1.TRIANGLECOLUMN,$S),(0,S.Z)(Ki,N1.SQUARECOLUMN,XS),(0,S.Z)(Ki,N1.PENTAGONCOLUMN,KS),Ki),Q3={};function J3(e){var r=eo(e.coordinates);return{vertices:[].concat((0,We.Z)(r),(0,We.Z)(r),(0,We.Z)(r),(0,We.Z)(r)),indices:[0,1,2,2,3,0],size:r.length}}function QS(e){var r=eo(e.coordinates),t=jS(r);return{vertices:[].concat((0,We.Z)(t),(0,We.Z)(t),(0,We.Z)(t),(0,We.Z)(t)),indices:[0,1,2,2,3,0],size:t.length}}function JS(e){var r=e.shape,t=Qot(r,!1),n=t.positions,i=t.index,a=t.normals;return{vertices:n,indices:i,normals:a,size:5}}function jot(e){var r=eo(e.coordinates);return{vertices:(0,We.Z)(r),indices:[0],size:r.length}}function el(e){var r=e.coordinates,t=e.originCoordinates,n=e.version,i=new Vot({dash:!0,join:"bevel"});if(n==="GAODE2.x"){var a=r;Array.isArray(a[0][0])||(a=[r]);var o=t;Array.isArray(o[0][0])||(o=[t]);for(var s=0;s<a.length;s++){var u=a[s],l=o[s];i.extrude_gaode2(u,l)}}else{var c=r;c[0]&&!Array.isArray(c[0][0])&&(c=[r]),c.forEach(function(h){i.extrude(h)})}var f=i.complex;return{vertices:f.positions,indices:f.indices,normals:f.normals,indexes:f.indexes,size:6}}function Wot(e){var r=e.coordinates,t=[];if(!Array.isArray(r[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};var n=Yot(r),i=n.results,a=n.totalDistance;return i.map(function(o){t.push(o[0],o[1],o[2],o[3],0,a)}),{vertices:t,indices:[],normals:[],size:6,count:i.length}}function mvt(e){var r=e.coordinates,t=[];if(!Array.isArray(r[0]))return{vertices:[],indices:[],size:4,count:0};var n=Xot(r),i=n.results;return i.map(function(a){t.push(a[0],a[1],a[2],a[3])}),{vertices:t,indices:[],size:4,count:i.length}}function tb(e,r){var t=r[0]-e[0],n=r[1]-e[1];return Math.sqrt(t*t+n*n)}function W0(e,r){return e.length<3&&e.push(0),r!==void 0&&e.push(r),e}function Yot(e){var r=e;Array.isArray(r)&&Array.isArray(r[0])&&Array.isArray(r[0][0])&&(r=e.flat());var t=0;if(r.length<2)return{results:r,totalDistance:0};var n=[],i=W0(r[0],t);n.push(i);for(var a=1;a<r.length-1;a++){var o=tb(r[a-1],r[a]);t+=o;var s=W0(r[a],t);n.push(s),n.push(s)}var u=tb(r[r.length-2],r[r.length-1]);return t+=u,n.push(W0(r[r.length-1],t)),{results:n,totalDistance:t}}function Xot(e){if(e.length<2)return{results:e};var r=[],t=W0(e[0]);r.push(t);for(var n=1;n<e.length-1;n++){var i=W0(e[n]);r.push(i),r.push(i)}return r.push(W0(e[e.length-1])),{results:r}}function B9(e){var r=e.coordinates,t=Do().flatten(r),n=t.vertices,i=t.dimensions,a=t.holes;return{indices:Do()(n,a,i),vertices:n,size:i}}function $ot(e){var r=e.coordinates,t=Do().flatten(r),n=t.vertices,i=t.dimensions,a=t.holes;return{indices:Do()(n,a,i),vertices:qot(n),size:i+4}}function qot(e){for(var r=[],t=OQ(e),n=t.center,i=t.radius,a=0;a<e.length;a+=2){var o=e[a],s=e[a+1];r.push.apply(r,[o,s,0].concat((0,We.Z)(n),[i]))}return r}function Kot(e){var r=e.coordinates,t=WS(r,!0),n=t.positions,i=t.index,a=t.normals;return{vertices:n,indices:i,normals:a,size:5}}function xvt(e){var r=e.shape,t=t1t(r),n=t.positions,i=t.index;return{vertices:n,indices:i,size:3}}function tc(e){var r=e.coordinates,t=[].concat((0,We.Z)(r[0]),[0,0,1,r[1][0],r[0][1],0,1,1],(0,We.Z)(r[1]),[0,1,0],(0,We.Z)(r[0]),[0,0,1],(0,We.Z)(r[1]),[0,1,0,r[0][0],r[1][1],0,0,0]),n=[0,1,2,3,4,5];return{vertices:t,indices:n,size:5}}function ec(e,r){for(var t=r||30,n=e.coordinates,i=[],a=[],o=function(l){i.push(l,1,l,n[0][0],n[0][1],n[1][0],n[1][1],l,-1,l,n[0][0],n[0][1],n[1][0],n[1][1]),l!==t-1&&a.push.apply(a,(0,We.Z)([0,1,2,1,3,2].map(function(c){return l*2+c})))},s=0;s<t;s++)o(s);return{vertices:i,indices:a,size:7}}function _vt(e){var r=e.coordinates;r.length===2&&r.push(0);var t=rc(-1,1),n=rc(1,1),i=rc(-1,-1),a=rc(1,-1),o=[].concat(_toConsumableArray(r),_toConsumableArray(t),_toConsumableArray(r),_toConsumableArray(i),_toConsumableArray(r),_toConsumableArray(a),_toConsumableArray(r),_toConsumableArray(n)),s=[0,1,2,3,0,2];return{vertices:o,indices:s,size:5}}function Qot(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Q3&&Q3[e])return Q3[e];var t=D9[e]?D9[e]():D9.cylinder(),n=WS([t],r);return Q3[e]=n,n}function Evt(e,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:3,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=new Float32Array(e.length/t*3),a,o,s,u=vec3.create(),l=vec3.create(),c=vec3.create(),f=0,h=r.length;f<h;f+=3){a=r[f+0]*3,o=r[f+1]*3,s=r[f+2]*3;var v=[e[a],e[a+1]],p=[e[o],e[o+1]],g=[e[s],e[s+1]];n&&(v=lngLatToMeters(v),p=lngLatToMeters(p),g=lngLatToMeters(g));var y=v,m=_slicedToArray(y,2),E=m[0],C=m[1],A=vec3.fromValues(E,C,e[a+2]),M=p,Z=_slicedToArray(M,2),Y=Z[0],st=Z[1],Ct=vec3.fromValues(Y,st,e[o+2]),Pt=g,Zt=_slicedToArray(Pt,2),ie=Zt[0],ce=Zt[1],_e=vec3.fromValues(ie,ce,e[s+2]);vec3.sub(u,_e,Ct),vec3.sub(l,A,Ct),vec3.cross(c,u,l),i[a]+=u[0],i[a+1]+=u[1],i[a+2]+=u[2],i[o]+=u[0],i[o+1]+=u[1],i[o+2]+=u[2],i[s]+=u[0],i[s+1]+=u[1],i[s+2]+=u[2]}return Jot(i),i}function Jot(e){for(var r=0,t=e.length;r<t;r+=3){var n=vec3.fromValues(e[r],e[r+1],e[r+2]),i=vec3.create();vec3.normalize(i,n),e.set(i,r)}}function Cvt(e){var r=e[0][0],t=e[0][e[0].length-1];return r[0]===t[0]&&r[1]===t[1]}function t1t(e){var r=["cylinder","triangleColumn","hexagonColumn","squareColumn"],t=geometryShape[e]?geometryShape[e]():geometryShape.circle(),n=r.indexOf(e)===-1?fillPolygon([t]):extrudePolygon([t]);return n}function rc(e,r){var t=(e+1)/2,n=(r+1)/2;return[t,n]}function Svt(){var e=primitiveSphere(EARTH_RADIUS,{segments:EARTH_SEGMENTS}),r=e.positionsArr,t=e.indicesArr,n=e.normalArr;return{vertices:r,indices:t,size:5,normals:n}}function bvt(){var e=primitiveSphere(EARTH_RADIUS+EARTH_RADIUS_OUTER,{segments:EARTH_SEGMENTS}),r=e.positionsArr,t=e.indicesArr,n=e.normalArr;return{vertices:r,indices:t,size:5,normals:n}}function e1t(e){var r=r1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function r1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var n1t=`
uniform float u_opacity;

varying vec4 v_dash_array;
varying vec4 v_color;

uniform float segmentNumber;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float d_distance_ratio = styleMappingMat[3].b; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u6BD4\u4F8B

  gl_FragColor = v_color;
  gl_FragColor.a *= opacity;

  float flag = 0.;
  float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
  if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
    flag = 1.;
  };
  gl_FragColor.a *=flag;
  
  gl_FragColor = filterColor(gl_FragColor);
}`,i1t=`
attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
varying vec4 v_color;


uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_lineDir: 1.0;
varying vec4 v_dash_array;

uniform float u_thetaOffset: 0.314;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalThetaOffset"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
  // dash: index / (segmentNumber - 1.);
  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
  return index / (segmentNumber - 1.);
}
vec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = thetaOffsetAndOffset.r;
  textureOffset = thetaOffsetAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);

  vec2 s = source;
  vec2 t = target;
  
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    s = unProjCustomCoord(source);
    t = unProjCustomCoord(target);
  }
  float total_Distance = pixelDistance(s, t) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;

  styleMappingMat[3].b = segmentIndex / segmentNumber;

  // styleMappingMat[0][1] - arcThetaOffset
  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, styleMappingMat[0][1]), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, styleMappingMat[0][1]), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  gl_PointSize = 5.0;
  setPickingColor(a_PickingColor);
}
`,a1t=`
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

uniform float segmentNumber;
varying vec2 v_iconMapUV;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_segmentIndex = styleMappingMat[3].r;   // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  float d_distance_ratio = styleMappingMat[3].b; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u6BD4\u4F8B

  gl_FragColor = v_color;
  
  gl_FragColor.a *= opacity;

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;
  }

  // \u5F53\u5B58\u5728\u8D34\u56FE\u65F6\u5728\u5E95\u8272\u4E0A\u8D34\u4E0A\u8D34\u56FE
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = styleMappingMat[3].g; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = styleMappingMat[3].a; // \u6A2A\u5411 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture2D(u_texture, uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
    
  } else {
     gl_FragColor = filterColor(gl_FragColor);
  }
}`,o1t=`#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
varying vec4 v_color;

uniform float u_lineDir: 1.0;

uniform float u_thetaOffset: 0.314;
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalThetaOffset"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    // dash: index / (segmentNumber - 1.);
    // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
    //  return index / (segmentNumber - 1.);
}
vec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = thetaOffsetAndOffset.r;
  textureOffset = thetaOffsetAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;
  
  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

   styleMappingMat[3].b = d_distance_ratio;

  // styleMappingMat[0][1] - arcThetaOffset
  float arcThetaOffset = styleMappingMat[0][1];
  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, arcThetaOffset), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, arcThetaOffset), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  styleMappingMat[3].r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F

    float arcDistrance = length(source - target); // \u8D77\u59CB\u70B9\u548C\u7EC8\u70B9\u7684\u8DDD\u79BB
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      arcDistrance *= 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      // arcDistrance *= 8.0;
      arcDistrance = project_pixel_allmap(arcDistrance);
    }
    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // \u8D34\u56FE\u6CBF\u5F27\u7EBF\u65B9\u5411\u7684\u957F\u5EA6 - \u968F\u5730\u56FE\u7F29\u653E\u6539\u53D8
    float texCount = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
     styleMappingMat[3].g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size); // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB
     styleMappingMat[3].a = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,s1t=`#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

uniform float segmentNumber;
varying vec2 v_iconMapUV;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float d_segmentIndex = styleMappingMat[3].r;   // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}`,u1t=`
attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
varying vec4 v_color;

uniform float u_lineDir: 1.0;

uniform float u_thetaOffset: 0.314;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalThetaOffset"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  if(u_lineDir == 1.0) { // \u6B63\u5411
    return mid;
  } else { // \u9006\u5411
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
    return smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
}
vec2 interpolate (vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x ,t), bezier3(y,t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

void main() {
  v_color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke -> thetaOffset... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 thetaOffsetAndOffset = calThetaOffsetAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = thetaOffsetAndOffset.r;
  textureOffset = thetaOffsetAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  vec2 source = a_Instance.rg;  // \u8D77\u59CB\u70B9
  vec2 target =  a_Instance.ba; // \u7EC8\u70B9
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;

   styleMappingMat[3].b = d_distance_ratio;

  // styleMappingMat[0][1] - arcThetaOffset
  vec4 curr = project_position(vec4(interpolate(source, target, segmentRatio, styleMappingMat[0][1]), 0.0, 1.0));
  vec4 next = project_position(vec4(interpolate(source, target, nextSegmentRatio, styleMappingMat[0][1]), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  //unProjCustomCoord
  
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));


  float d_segmentIndex = a_Position.x + 1.0; // \u5F53\u524D\u9876\u70B9\u5728\u5F27\u7EBF\u4E2D\u6240\u5904\u7684\u5206\u6BB5\u4F4D\u7F6E
  styleMappingMat[3].r = d_segmentIndex;

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
    gl_Position = u_Mvp * (vec4(curr.xy + offset, 0, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  }
  setPickingColor(a_PickingColor);
}
`,l1t={solid:0,dash:1},c1t=function(e){(0,ze.Z)(t,e);var r=e1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.lineType,h=f===void 0?"solid":f,v=i.dashArray,p=v===void 0?[10,5]:v,g=i.forward,y=g===void 0?!0:g,m=i.lineTexture,E=m===void 0?!1:m,C=i.iconStep,A=C===void 0?100:C,M=i.segmentNumber,Z=M===void 0?30:M,Y=i.thetaOffset,st=Y===void 0?.314:Y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,thetaOffset:st})){this.judgeStyleAttributes({opacity:o,thetaOffset:st});var Ct=this.layer.getEncodedData(),Pt=this.calDataFrame(this.cellLength,Ct,this.cellProperties),Zt=Pt.data,ie=Pt.width,ce=Pt.height;this.rowCount=ce,this.dataTexture=this.cellLength>0&&Zt.length>0?this.createTexture2D({flipY:!0,data:Zt,format:J.LUMINANCE,type:J.FLOAT,width:ie,height:ce}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}p.length===2&&p.push(0,0);var _e=0,Re=[0,0,0,0],he=[0,0,0,0];return s&&u&&(Re=Dr(s),he=Dr(u),_e=1),this.rendererService.getDirty()&&this.texture.bind(),{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_thetaOffset:(0,Te.isNumber)(st)?st:0,u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c==="normal"?0:1,segmentNumber:Z,u_line_type:l1t[h||"solid"],u_dash_array:p,u_blur:.9,u_lineDir:y?1:-1,u_texture:this.texture,u_line_texture:E?1:0,u_icon_step:A,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:_e,u_sourceColor:Re,u_targetColor:he}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.sourceColor,o=i.targetColor,s=i.lineType;return s==="dash"?{frag:n1t,vert:i1t,type:"Dash"}:a&&o?{frag:s1t,vert:u1t,type:"Linear"}:{frag:a1t,vert:o1t,type:""}}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m;return zt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return o=this.layer.getLayerConfig(),s=o.segmentNumber,u=s===void 0?30:s,l=o.mask,c=l===void 0?!1:l,f=o.maskInside,h=f===void 0?!0:f,v=this.getShaders(),p=v.frag,g=v.vert,y=v.type,C.next=4,this.layer.buildLayerModel({moduleName:"lineArc2d"+y,vertexShader:g,fragmentShader:p,triangulation:ec,depth:{enable:!1},blend:this.getBlend(),segmentNumber:u,stencil:nn(c,h)});case 4:return m=C.sent,C.abrupt("return",[m]);case 6:case"end":return C.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Xe.Attribute,descriptor:{name:"a_Instance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(o,s,u){return[u[3],u[4],u[5],u[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function f1t(e){var r=h1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function h1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var v1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
varying float v_segmentIndex;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  gl_FragColor = v_color;

  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;

      // u_animate 
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          gl_FragColor = filterColor(pattern);
        }
    }

  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,p1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
varying vec4 v_color;

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
varying float v_segmentIndex;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,d1t=`
#define Animate 0.0

uniform float u_opacity;
uniform float u_blur : 0.9;
varying float v_segmentIndex;
uniform float segmentNumber;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);

  gl_FragColor.a *= opacity;

  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;

      // u_animate 
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  gl_FragColor = filterColor(gl_FragColor);
}
`,g1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;
attribute vec2 a_iconMapUV;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
uniform float u_opacity: 1.0;

varying vec4 v_dash_array;
varying vec4 v_color;
varying float v_segmentIndex;
varying vec2 v_iconMapUV;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143


#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,y1t={solid:0,dash:1},m1t=function(e){(0,ze.Z)(t,e);var r=f1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.lineType,h=f===void 0?"solid":f,v=i.dashArray,p=v===void 0?[10,5]:v,g=i.lineTexture,y=g===void 0?!1:g,m=i.iconStep,E=m===void 0?100:m,C=i.segmentNumber,A=C===void 0?30:C,M=i.globalArcHeight,Z=M===void 0?10:M;p.length===2&&p.push(0,0);var Y=0,st=[0,0,0,0],Ct=[0,0,0,0];if(s&&u&&(st=Dr(s),Ct=Dr(u),Y=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var Pt=this.layer.getEncodedData(),Zt=this.calDataFrame(this.cellLength,Pt,this.cellProperties),ie=Zt.data,ce=Zt.width,_e=Zt.height;this.rowCount=_e,this.dataTexture=this.cellLength>0&&ie.length>0?this.createTexture2D({flipY:!0,data:ie,format:J.LUMINANCE,type:J.FLOAT,width:ce,height:_e}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:I9,u_global_height:Z,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c==="normal"?0:1,segmentNumber:A,u_line_type:y1t[h]||0,u_dash_array:p,u_texture:this.texture,u_line_texture:y?1:0,u_icon_step:E,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Y,u_sourceColor:st,u_targetColor:Ct}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.sourceColor,o=i.targetColor;return a&&o?{frag:d1t,vert:g1t,type:"Linear"}:{frag:v1t,vert:p1t,type:""}}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m;return zt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return o=this.layer.getLayerConfig(),s=o.segmentNumber,u=s===void 0?30:s,l=o.mask,c=l===void 0?!1:l,f=o.maskInside,h=f===void 0?!0:f,v=this.getShaders(),p=v.frag,g=v.vert,y=v.type,C.next=4,this.layer.buildLayerModel({moduleName:"lineArc3d"+y,vertexShader:g,fragmentShader:p,triangulation:ec,blend:this.getBlend(),segmentNumber:u,stencil:nn(c,h)});case 4:return m=C.sent,C.abrupt("return",[m]);case 6:case"end":return C.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Xe.Attribute,descriptor:{name:"a_Instance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(o,s,u){return[u[3],u[4],u[5],u[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function x1t(e){var r=_1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function _1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var E1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying vec4 v_color;

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
varying float v_segmentIndex;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  gl_FragColor = v_color;

  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    gl_FragColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;

      // u_animate 
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          gl_FragColor = filterColor(pattern);
        }
    }

  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,C1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
varying vec4 v_color;

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
varying float v_segmentIndex;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,S1t=`
#define Animate 0.0

uniform float u_opacity;
uniform float u_blur : 0.9;
varying float v_segmentIndex;
uniform float segmentNumber;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].g; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  gl_FragColor = mix(u_sourceColor, u_targetColor, v_segmentIndex/segmentNumber);

  gl_FragColor.a *= opacity;

  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      gl_FragColor.a *= alpha;

      // u_animate 
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  gl_FragColor = filterColor(gl_FragColor);
}
`,b1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute vec4 a_Color;
attribute float a_Size;
attribute vec2 a_iconMapUV;

uniform float u_globel;
uniform float u_globel_radius;
uniform float u_global_height: 10;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;
uniform float u_opacity: 1.0;

varying vec4 v_dash_array;
varying vec4 v_color;
varying float v_segmentIndex;
varying vec2 v_iconMapUV;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143


#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 \u662F\u4E3A\u4E86\u5BF9\u9F50\u5750\u6807
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // \u624B\u52A8\u589E\u52A0\u4E00\u4E9B\u504F\u79FB\uFF0C\u51CF\u8F7B\u9762\u7684\u51B2\u7A81
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0)).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0)).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    // float total_Distance = pixelDistance(a_Instance.rg, a_Instance.ba) / 2.0 * PI;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  styleMappingMat[3].g = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    styleMappingMat[3].b = floor(arcDistrance/pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }
  

  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z, 1.0));
  }

  // \u5730\u7403\u6A21\u5F0F
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // \u7EBF\u7684\u504F\u79FB
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // \u8BA1\u7B97\u8D77\u59CB\u70B9\u548C\u7EC8\u6B62\u70B9\u7684\u8DDD\u79BB
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // \u8BA1\u7B97\u98DE\u7EBF\u5404\u4E2A\u8282\u70B9\u76F8\u5E94\u7684\u9AD8\u5EA6
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // \u5730\u7403\u70B9\u4F4D
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;
    
    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }
 

  setPickingColor(a_PickingColor);
}
`,A1t={solid:0,dash:1},M1t=function(e){(0,ze.Z)(t,e);var r=x1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.lineType,h=f===void 0?"solid":f,v=i.dashArray,p=v===void 0?[10,5]:v,g=i.lineTexture,y=g===void 0?!1:g,m=i.iconStep,E=m===void 0?100:m,C=i.segmentNumber,A=C===void 0?30:C,M=i.globalArcHeight,Z=M===void 0?10:M;p.length===2&&p.push(0,0);var Y=0,st=[0,0,0,0],Ct=[0,0,0,0];if(s&&u&&(st=Dr(s),Ct=Dr(u),Y=1),this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var Pt=this.layer.getEncodedData(),Zt=this.calDataFrame(this.cellLength,Pt,this.cellProperties),ie=Zt.data,ce=Zt.width,_e=Zt.height;this.rowCount=_e,this.dataTexture=this.cellLength>0&&ie.length>0?this.createTexture2D({flipY:!0,data:ie,format:J.LUMINANCE,type:J.FLOAT,width:ce,height:_e}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_globel:1,u_globel_radius:I9,u_global_height:Z,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c==="normal"?0:1,segmentNumber:A,u_line_type:A1t[h]||0,u_dash_array:p,u_texture:this.texture,u_line_texture:y?1:0,u_icon_step:E,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:Y,u_sourceColor:st,u_targetColor:Ct}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.sourceColor,o=i.targetColor;return a&&o?{frag:S1t,vert:b1t,type:"Linear"}:{frag:E1t,vert:C1t,type:""}}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m;return zt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return o=this.layer.getLayerConfig(),s=o.segmentNumber,u=s===void 0?30:s,l=o.mask,c=l===void 0?!1:l,f=o.maskInside,h=f===void 0?!0:f,v=this.getShaders(),p=v.frag,g=v.vert,y=v.type,C.next=4,this.layer.buildLayerModel({moduleName:"lineEarthArc3d"+y,vertexShader:g,fragmentShader:p,triangulation:ec,depth:{enable:!0},blend:this.getBlend(),segmentNumber:u,stencil:nn(c,h)});case 4:return m=C.sent,C.abrupt("return",[m]);case 6:case"end":return C.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Xe.Attribute,descriptor:{name:"a_Instance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(o,s,u){return[u[3],u[4],u[5],u[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function T1t(e){var r=w1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function w1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var F1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform float u_opacity;
uniform float u_textureBlend;
uniform float u_blur : 0.9;
uniform float u_line_type: 0.0;
// varying vec2 v_normal;
varying vec4 v_dash_array;
varying float v_distance_ratio;
varying vec4 v_color;

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

uniform float u_line_texture: 0.0;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
uniform float segmentNumber;

varying vec2 v_iconMapUV;

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;

#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0;
  float d_segmentIndex = styleMappingMat[3].g;
  
  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  gl_FragColor.a *= opacity;
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // \u5B9E\u7EBF\u90E8\u5206
    } else {
      // \u865A\u7EBF\u90E8\u5206
      discard;
    };
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u52A8\u753B\u6A21\u5F0F
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  // \u8BBE\u7F6E\u5F27\u7EBF\u7684\u8D34\u56FE
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { 
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = styleMappingMat[3].b; // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = gl_FragColor.a/opacity;
    }

    float v = styleMappingMat[3].a; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);
    
    // \u8BBE\u7F6E\u8D34\u56FE\u548C\u5E95\u8272\u7684\u53E0\u52A0\u6A21\u5F0F
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}`,k1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec4 a_Instance;
attribute float a_Size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float segmentNumber;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
varying vec4 v_color;

varying float v_distance_ratio;
uniform float u_line_type: 0.0;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];
varying vec4 v_dash_array;

uniform float u_icon_step: 100;
uniform float u_line_texture: 0.0;

attribute vec2 a_iconMapUV;
varying vec2 v_iconMapUV;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
    return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
    return index / (segmentNumber - 1.);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
    vec2 x = mix(source, target, ratio);
    vec2 center = mix(source, target, 0.5);
    float dSourceCenter = distance(source, center);
    float dXCenter = distance(x, center);
    return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
     float vertex_height = paraboloid(source, target, segmentRatio);

    return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
    );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size)/ 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return reverse_offset_normal(vec3(dir_screenspace,1.0)).xy * sign(offset_direction);
}
float getAngularDist (vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) *
    sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2*cos(theta2) + source.x, r2*sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1. - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate (vec2 source, vec2 target, float angularDist, float t) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    vec2 mid = midPoint(source, target);
    vec3 x = vec3(source.x, mid.x, target.x);
    vec3 y = vec3(source.y, mid.y, target.y);
    return vec2(bezier3(x ,t), bezier3(y,t));
  }else {
    if(abs(angularDist - PI) < 0.001) {
      return (1.0 - t) * source + t * target;
    }
    float a = sin((1.0 - t) * angularDist) / sin(angularDist);
    float b = sin(t * angularDist) / sin(angularDist);
    vec2 sin_source = sin(source);
    vec2 cos_source = cos(source);
    vec2 sin_target = sin(target);
    vec2 cos_target = cos(target);
    float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
    float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
    float z = a * sin_source.y + b * sin_target.y;
    return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));
  }
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // dataset \u6570\u636E\u96C6
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if(u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    vec2 s = source;
    vec2 t = target;
    
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      s = unProjCustomCoord(source);
      t = unProjCustomCoord(target);
    }
    float total_Distance = pixelDistance(s, t) / 2.0 * PI;
    total_Distance = total_Distance*16.0; // total_Distance*16.0 \u8C03\u6574\u9ED8\u8BA4\u7684\u6548\u679C
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if(u_animate.x == Animate) {
      v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;
  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0));
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0));
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  styleMappingMat[3].g = a_Position.x; // \u8BE5\u9876\u70B9\u5728\u5F27\u7EBF\u4E0A\u7684\u5206\u6BB5\u6392\u5E8F
  if(LineTexture == u_line_texture) { // \u5F00\u542F\u8D34\u56FE\u6A21\u5F0F  
    // float mapZoomScale = u_CoordinateSystem !== COORDINATE_SYSTEM_P20_2?10000000.0:1.0;
    float d_arcDistrance = length(source - target);
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20) { // amap
      d_arcDistrance = d_arcDistrance * 1000000.0;
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) { // mapbox
      d_arcDistrance = project_pixel_allmap(d_arcDistrance);
    }
    float d_pixelLen = project_pixel(u_icon_step)/8.0;
    styleMappingMat[3].b = floor(d_arcDistrance/d_pixelLen); // \u8D34\u56FE\u5728\u5F27\u7EBF\u4E0A\u91CD\u590D\u7684\u6570\u91CF

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB
    float linePixelSize = project_pixel(a_Size);  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB
    styleMappingMat[3].a = lineOffsetWidth/linePixelSize;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    v_iconMapUV = a_iconMapUV;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(curr.xy + offset, curr.z, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));
  }
  setPickingColor(a_PickingColor);
}

`,O1t={solid:0,dash:1},L1t=function(e){(0,ze.Z)(t,e);var r=T1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.lineType,h=f===void 0?"solid":f,v=i.dashArray,p=v===void 0?[10,5]:v,g=i.lineTexture,y=g===void 0?!1:g,m=i.iconStep,E=m===void 0?100:m,C=i.segmentNumber,A=C===void 0?30:C;p.length===2&&p.push(0,0),this.rendererService.getDirty()&&this.texture.bind();var M=0,Z=[0,0,0,0],Y=[0,0,0,0];if(s&&u&&(Z=Dr(s),Y=Dr(u),M=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var st=this.layer.getEncodedData(),Ct=this.calDataFrame(this.cellLength,st,this.cellProperties),Pt=Ct.data,Zt=Ct.width,ie=Ct.height;this.rowCount=ie,this.dataTexture=this.cellLength>0&&Pt.length>0?this.createTexture2D({flipY:!0,data:Pt,format:J.LUMINANCE,type:J.FLOAT,width:Zt,height:ie}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c==="normal"?0:1,segmentNumber:A,u_line_type:O1t[h]||0,u_dash_array:p,u_texture:this.texture,u_line_texture:y?1:0,u_icon_step:E,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:M,u_sourceColor:Z,u_targetColor:Y}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:k1t,fragmentShader:F1t,triangulation:ec,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c)});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Xe.Attribute,descriptor:{name:"a_Instance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(o,s,u){return[u[3],u[4],u[5],u[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function I1t(e){var r=P1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function P1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var R1t=`#define COORDINATE_SYSTEM_LNGLAT 1.0        // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET 2.0 // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE 3.0
#define COORDINATE_SYSTEM_IDENTITY 4.0
#define COORDINATE_SYSTEM_P20 5.0           // amap
#define COORDINATE_SYSTEM_P20_OFFSET 6.0    // amap offset
#define COORDINATE_SYSTEM_METER_OFFSET 7.0

#define COORDINATE_SYSTEM_P20_2 8.0         // amap2.0
uniform float u_CoordinateSystem;
varying vec4 v_color;
uniform float u_arrow: 0.0;
uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"

varying mat4 styleMappingMat;
void main() {
  float distanceAndIndex = styleMappingMat[0][3];
  float miter = styleMappingMat[0][2];

  float opacity = styleMappingMat[0][0];
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B


  if(u_arrow > 0.0 && distanceAndIndex < 2.0) { // arrow
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) { 
      if(cross(vec3(styleMappingMat[1].rg, 0.0), vec3(styleMappingMat[1].ba, 0.0)).z < 0.0) { // amap
        discard;
      }
    } else { // amap2 mapbox map
      if(cross(vec3(styleMappingMat[1].rg, 0.0), vec3(styleMappingMat[1].ba, 0.0)).z > 0.0) { 
        discard;
      }
    }
  } else { // line body
    if(miter < 0.0) {
      discard;
    }
  }


  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
    gl_FragColor = v_color;
  }

  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  gl_FragColor = filterColor(gl_FragColor);
}
`,D1t=`attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

// dash line
attribute vec4 a_dirPoints;
attribute vec3 a_DistanceAndIndex;

uniform vec4 u_lineDir;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;

uniform float u_linearColor: 0;
uniform float u_arrow: 0.0;
uniform float u_arrowHeight: 3.0;
uniform float u_arrowWidth: 2.0;
uniform float u_tailWidth: 1.0;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

vec2 calculateArrow(vec2 offset) {
  /*
  * \u5728\u652F\u6301\u7BAD\u5934\u7684\u65F6\u5019\uFF0C\u7B2C\u4E8C\u3001\u7B2C\u4E09\u7EC4\u9876\u70B9\u662F\u989D\u5916\u63D2\u5165\u7528\u4E8E\u6784\u5EFA\u9876\u70B9\u7684
  */
  float arrowFlag = -1.0;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // \u9AD8\u5FB7 2.0 \u7684\u65CB\u8F6C\u89D2\u5EA6\u4E0D\u540C
    arrowFlag = 1.0;
  }
  float pi = arrowFlag * 3.1415926/2.;
  if(a_Miter < 0.) {
    // \u6839\u636E\u7EBF\u7684\u4E24\u4FA7\u504F\u79FB\u4E0D\u540C\u3001\u65CB\u8F6C\u7684\u65B9\u5411\u76F8\u53CD
    pi = -pi;
  }
  highp float angle_sin = sin(pi);
  highp float angle_cos = cos(pi);
  // \u8BA1\u7B97\u5782\u76F4\u4E0E\u7EBF\u65B9\u5411\u7684\u65CB\u8F6C\u77E9\u9635
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  float arrowWidth = u_arrowWidth;
  float arrowHeight = u_arrowHeight;

  vec2 arrowOffset = vec2(0.0);
  /*
  * a_DistanceAndIndex.y \u7528\u4E8E\u6807\u8BB0\u5F53\u524D\u9876\u70B9\u5C5E\u4E8E\u54EA\u4E00\u7EC4\uFF08\u4E24\u4E2A\u9876\u70B9\u4E00\u7EC4\uFF0C\u6784\u6210\u7EBF\u7684\u5176\u5B9E\u662F\u77E9\u5F62\uFF0C\u6700\u7B80\u9700\u8981\u56DB\u4E2A\u9876\u70B9\u3001\u4E24\u7EC4\u9876\u70B9\u6784\u6210\uFF09
  */
  if(a_DistanceAndIndex.y == 0.0) {
    // \u7BAD\u5934\u5C16\u90E8
    offset = vec2(0.0);
  } else if(a_DistanceAndIndex.y == 1.0) {
    // \u7BAD\u5934\u4E24\u4FA7
    arrowOffset = rotation_matrix*(offset * arrowHeight);
    offset += arrowOffset; // \u6CBF\u7EBF\u504F\u79FB
    offset = offset * arrowWidth; // \u5782\u76F4\u7EBF\u5411\u5916\u504F\u79FB\uFF08\u662F\u6784\u5EFA\u7BAD\u5934\u4E24\u4FA7\u7684\u9876\u70B9\uFF09
  } else if(a_DistanceAndIndex.y == 2.0 || a_DistanceAndIndex.y == 3.0 || a_DistanceAndIndex.y == 4.0) {
    // \u504F\u79FB\u5176\u4F59\u7684\u70B9\u4F4D\uFF08\u5C06\u957F\u5EA6\u8BA9\u4F4D\u7ED9\u7BAD\u5934\uFF09
    arrowOffset = rotation_matrix*(offset * arrowHeight) * arrowWidth;
    offset += arrowOffset;// \u6CBF\u7EBF\u504F\u79FB
  }

  return offset;
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - a_Miter - a_DistanceAndIndex
    0.0, 0.0, 0.0, 0.0, // originX - originY - vectorX - vectorY
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );
  styleMappingMat[0][3] = a_DistanceAndIndex.y;
  styleMappingMat[0][2] = a_Miter;

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97


  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);
  
  vec2 offset = project_pixel(size.xy);

  // styleMappingMat[1].rg = a_Position.xy + offset;

  vec2 copyOffset = vec2(offset.x, offset.y);

  float lineDistance = a_DistanceAndIndex.x;
  float total_Distance = a_DistanceAndIndex.z;
  float currentLinePointRatio = lineDistance / total_Distance;
 
  if(u_arrow > 0.0) {
      //  \u8BA1\u7B97\u7BAD\u5934
    offset = calculateArrow(offset);

    if(a_DistanceAndIndex.y > 4.0) {
      offset *= mix(1.0, u_tailWidth, currentLinePointRatio);
    }
  }

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = currentLinePointRatio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][1] = lineDistance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z); // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5 vertex height
  float lineHeight = a_Size.y; // size \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4EE3\u8868\u7684\u9AD8\u5EA6 [linewidth, lineheight]

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    lineHeight *= 0.2; // \u4FDD\u6301\u548C amap/mapbox \u4E00\u81F4\u7684\u6548\u679C
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));
  }
  
  if(u_arrow > 0.0 && a_DistanceAndIndex.y < 2.0) {
    vec2 startPoint = a_dirPoints.rg;
    vec2 endPoint = a_dirPoints.ba;
    vec4 t1 = project_position(vec4(startPoint, 0, 1.0));
    vec4 t2 = project_position(vec4(endPoint, 0, 1.0));
    // TODO\uFF1A \u540E\u7EED\u4F18\u5316\u53EF\u4EE5\u628A\u4F4D\u7F6E\u8BA1\u7B97\u653E\u5728 cpu \u4E2D\u5B8C\u6210
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      vec2 p1 = (u_Mvp * vec4(t1.xy, 0.0, 1.0)).xy;
      vec2 p2 = (u_Mvp * vec4(t2.xy, 0.0, 1.0)).xy;
      styleMappingMat[1].rg = normalize(p1 - p2);
      styleMappingMat[1].ba = normalize(gl_Position.xy - p2);
    } else {
      vec2 p1 = project_common_position_to_clipspace(vec4(t1.xy, 0.0, 1.0)).xy;
      vec2 p2 = project_common_position_to_clipspace(vec4(t2.xy, 0.0, 1.0)).xy;
      styleMappingMat[1].rg = normalize(p1 - p2);
      styleMappingMat[1].ba = normalize(gl_Position.xy - p2);
    }
  }

  setPickingColor(a_PickingColor);
}
`,B1t=function(e){(0,ze.Z)(t,e);var r=I1t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.arrow,c=l===void 0?{enable:!1,arrowWidth:2,arrowHeight:3,tailWidth:1}:l,f=0,h=[0,0,0,0],v=[0,0,0,0];if(s&&u&&(h=Dr(s),v=Dr(u),f=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var p=this.layer.getEncodedData(),g=this.calDataFrame(this.cellLength,p,this.cellProperties),y=g.data,m=g.width,E=g.height;this.rowCount=E,this.dataTexture=this.cellLength>0&&y.length>0?this.createTexture2D({flipY:!0,data:y,format:J.LUMINANCE,type:J.FLOAT,width:m,height:E}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_linearColor:f,u_sourceColor:h,u_targetColor:v,u_arrow:Number(c.enable),u_arrowHeight:c.arrowHeight||3,u_arrowWidth:c.arrowWidth||2,u_tailWidth:c.tailWidth===void 0?1:c.tailWidth}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y;return zt().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=o.depth,h=f===void 0?!1:f,v=this.getShaders(),p=v.frag,g=v.vert,this.layer.triangulation=el,E.next=5,this.layer.buildLayerModel({moduleName:"lineHalf",vertexShader:g,fragmentShader:p,triangulation:el,depth:{enable:h},blend:this.getBlend(),stencil:nn(u,c)});case 5:return y=E.sent,E.abrupt("return",[y]);case 7:case"end":return E.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getShaders",value:function(){return{frag:R1t,vert:D1t,type:"normal"}}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Xe.Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u,l,c){return c===void 0?[s[3],10,s[5]]:[s[3],c,s[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"dirPoints",type:Xe.Attribute,descriptor:{name:"a_dirPoints",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(a){var o=a.coordinates[0]||[0,0],s=a.coordinates[3]||[0,0];return[o[0],o[1],s[0],s[1]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a){var o=a.size,s=o===void 0?1:o;return Array.isArray(s)?[s[0],s[1]]:[s,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u,l){return l}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Xe.Attribute,descriptor:{name:"a_Miter",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a,o,s){return[s[4]]}}})}}]),t}(Wr),eb;(function(e){e[e.solid=0]="solid",e[e.dash=1]="dash"})(eb||(eb={}));var Y0;(function(e){e.VERTICAL="vertical",e.HORIZONTAL="horizontal"})(Y0||(Y0={}));var N9;(function(e){e.NORMAL="normal",e.REPLACE="replace"})(N9||(N9={}));var rl;(function(e){e[e.pixel=0]="pixel",e[e.meter=1]="meter"})(rl||(rl={}));var rb;(function(e){e.ALWAYS="always",e.DRAGEND="dragend"})(rb||(rb={}));function N1t(e){var r=Z1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Z1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var z1t=`#define LineTypeSolid 0.0
uniform float u_opacity : 1.0;

varying vec4 v_color;

// dash
varying vec4 v_dash_array;

#pragma include "picking"

uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying mat4 styleMappingMat;
// [animate, duration, interval, trailLength],
void main() {
  float opacity = styleMappingMat[0][0];
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  gl_FragColor = v_color;
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
 
  float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
  if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
    // \u5B9E\u7EBF\u90E8\u5206
  } else {
    // \u865A\u7EBF\u90E8\u5206
    discard;
  };

  gl_FragColor = filterColor(gl_FragColor);
}
`,U1t=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

attribute vec2 a_iconMapUV;

// dash line
attribute float a_Total_Distance;
attribute vec2 a_DistanceAndIndex;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform vec4 u_dash_array: [10.0, 5., 0, 0];

uniform float u_vertexScale: 1.0;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;
varying vec4 v_dash_array;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);
  vec2 offset = project_pixel(size.xy);

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = a_DistanceAndIndex.x / a_Total_Distance; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][1] = a_DistanceAndIndex.x;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, project_pixel(a_Size.y), 1.0));
  } else {
    float lineHeight = a_Size.y;
 
    // #define COORDINATE_SYSTEM_P20 5.0
    // #define COORDINATE_SYSTEM_P20_OFFSET 6.0
    // amap1.x
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
      lineHeight *= pow(2.0, 20.0 - u_Zoom);
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,H1t=`#define Animate 0.0
#define LineTexture 1.0
uniform float u_opacity : 1.0;
uniform float u_textureBlend;

uniform float u_borderWidth: 0.0;

uniform vec3 u_blur;
uniform vec4 u_borderColor;
varying vec4 v_color;

// line texture
uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;

varying vec2 v_iconMapUV;

#pragma include "picking"

uniform float u_time;
uniform vec4 u_animate: [ 1, 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying mat4 styleMappingMat;
// [animate, duration, interval, trailLength],
void main() {
  float opacity = styleMappingMat[0][0];
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  gl_FragColor = v_color;
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = styleMappingMat[3].g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = styleMappingMat[3].b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = styleMappingMat[3].a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, vec2(u, v)));
    // gl_FragColor = filterColor(gl_FragColor + texture2D(u_texture, uv));
     vec4 pattern = texture2D(u_texture, uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor += pattern;
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = pattern;
    }
  } 

  float v = styleMappingMat[3].a;
  float borderWidth = min(0.5, u_borderWidth);
  // \u7ED8\u5236 border
  if(borderWidth > 0.01) {
    float borderOuterWidth = borderWidth/2.0;

    if(v >= 1.0 - borderWidth || v <= borderWidth) {
      if(v > borderWidth) {
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - borderWidth))/borderWidth);
        gl_FragColor.rgb = mix(gl_FragColor.rgb, u_borderColor.rgb, linear);
      } else if(v <= borderWidth) {
        float linear = smoothstep(0.0, 1.0, v/borderWidth);
        gl_FragColor.rgb = mix(u_borderColor.rgb, gl_FragColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      gl_FragColor.a = mix(0.0, gl_FragColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      gl_FragColor.a = mix(gl_FragColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = styleMappingMat[3][3];
  if(blurV < 0.5) {
    gl_FragColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    gl_FragColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  gl_FragColor = filterColor(gl_FragColor);
}
`,nb=`
#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

attribute vec2 a_iconMapUV;

// dash line
attribute float a_Total_Distance;
attribute vec2 a_DistanceAndIndex;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
uniform float u_icon_step: 100;

uniform float u_heightfixed: 0.0;
uniform float u_vertexScale: 1.0;
uniform float u_raisingHeight: 0.0;

#pragma include "projection"
#pragma include "picking"

varying vec4 v_color;

// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
varying vec2 v_iconMapUV;


uniform float u_linearColor: 0;
uniform float u_arrow: 0.0;
uniform float u_arrowHeight: 3.0;
uniform float u_arrowWidth: 2.0;
uniform float u_tailWidth: 1.0;

uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

vec2 calculateArrow(vec2 offset) {
  /*
  * \u5728\u652F\u6301\u7BAD\u5934\u7684\u65F6\u5019\uFF0C\u7B2C\u4E8C\u3001\u7B2C\u4E09\u7EC4\u9876\u70B9\u662F\u989D\u5916\u63D2\u5165\u7528\u4E8E\u6784\u5EFA\u9876\u70B9\u7684
  */
  float arrowFlag = -1.0;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    // \u9AD8\u5FB7 2.0 \u7684\u65CB\u8F6C\u89D2\u5EA6\u4E0D\u540C
    arrowFlag = 1.0;
  }
  float pi = arrowFlag * 3.1415926/2.;
  if(a_Miter < 0.) {
    // \u6839\u636E\u7EBF\u7684\u4E24\u4FA7\u504F\u79FB\u4E0D\u540C\u3001\u65CB\u8F6C\u7684\u65B9\u5411\u76F8\u53CD
    pi = -pi;
  }
  highp float angle_sin = sin(pi);
  highp float angle_cos = cos(pi);
  // \u8BA1\u7B97\u5782\u76F4\u4E0E\u7EBF\u65B9\u5411\u7684\u65CB\u8F6C\u77E9\u9635
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  float arrowWidth = u_arrowWidth;
  float arrowHeight = u_arrowHeight;

  vec2 arrowOffset = vec2(0.0);
  /*
  * a_DistanceAndIndex.y \u7528\u4E8E\u6807\u8BB0\u5F53\u524D\u9876\u70B9\u5C5E\u4E8E\u54EA\u4E00\u7EC4\uFF08\u4E24\u4E2A\u9876\u70B9\u4E00\u7EC4\uFF0C\u6784\u6210\u7EBF\u7684\u5176\u5B9E\u662F\u77E9\u5F62\uFF0C\u6700\u7B80\u9700\u8981\u56DB\u4E2A\u9876\u70B9\u3001\u4E24\u7EC4\u9876\u70B9\u6784\u6210\uFF09
  */
  if(a_DistanceAndIndex.y == 0.0) {
    // \u7BAD\u5934\u5C16\u90E8
    offset = vec2(0.0);
  } else if(a_DistanceAndIndex.y == 1.0) {
    // \u7BAD\u5934\u4E24\u4FA7
    arrowOffset = rotation_matrix*(offset * arrowHeight);
    offset += arrowOffset; // \u6CBF\u7EBF\u504F\u79FB
    offset = offset * arrowWidth; // \u5782\u76F4\u7EBF\u5411\u5916\u504F\u79FB\uFF08\u662F\u6784\u5EFA\u7BAD\u5934\u4E24\u4FA7\u7684\u9876\u70B9\uFF09
  } else if(a_DistanceAndIndex.y == 2.0 || a_DistanceAndIndex.y == 3.0 || a_DistanceAndIndex.y == 4.0) {
    // \u504F\u79FB\u5176\u4F59\u7684\u70B9\u4F4D\uFF08\u5C06\u957F\u5EA6\u8BA9\u4F4D\u7ED9\u7BAD\u5934\uFF09
    arrowOffset = rotation_matrix*(offset * arrowHeight) * arrowWidth;
    offset += arrowOffset;// \u6CBF\u7EBF\u504F\u79FB
  }

  return offset;
}

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  float d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  v_color = a_Color;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);
  
  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;
 
  if(u_arrow > 0.0) {
      //  \u8BA1\u7B97\u7BAD\u5934
    offset = calculateArrow(offset);

    if(a_DistanceAndIndex.y > 4.0) {
      offset *= mix(1.0, u_tailWidth, currentLinePointRatio);
    }
  }

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = currentLinePointRatio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][1] = lineDistance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  styleMappingMat[3][2] = d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  styleMappingMat[3][3] = texV;             // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5 vertex height
  float lineHeight = a_Size.y; // size \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4EE3\u8868\u7684\u9AD8\u5EA6 [linewidth, lineheight]

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    lineHeight *= 0.2; // \u4FDD\u6301\u548C amap/mapbox \u4E00\u81F4\u7684\u6548\u679C
    h *= 0.2;
    if(u_heightfixed < 1.0) {
      lineHeight = project_pixel(a_Size.y);
    }
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h + u_raisingHeight, 1.0));
  } else {
    // mapbox -  amap
    
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // mapbox
      // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      h *= mapboxZoomScale;
      h += u_raisingHeight * mapboxZoomScale;
      if(u_heightfixed > 0.0) {
        lineHeight *= mapboxZoomScale;
      }
      
    } else {
      // amap
      h += u_raisingHeight;
      // lineHeight \u9876\u70B9\u504F\u79FB\u9AD8\u5EA6
      if(u_heightfixed < 1.0) {
        lineHeight *= pow(2.0, 20.0 - u_Zoom);
      }
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,V1t=`varying vec4 v_color;
uniform float u_linearDir: 1.0;
uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

#pragma include "picking"


varying mat4 styleMappingMat;

void main() {
  float opacity = styleMappingMat[0][0];
  float linearRadio = styleMappingMat[3][0]; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  if(u_linearDir < 1.0) {
    linearRadio = styleMappingMat[3][3];
  }

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, linearRadio);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  gl_FragColor = filterColor(gl_FragColor);
}
`,G1t={solid:0,dash:1},ib=function(e){(0,ze.Z)(t,e);var r=N1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"textureEventFlag",!1),(0,S.Z)((0,Qt.Z)(n),"texture",n.createTexture2D({data:[0,0,0,0],mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1,height:1})),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.lineType,h=f===void 0?"solid":f,v=i.dashArray,p=v===void 0?[10,5,0,0]:v,g=i.lineTexture,y=g===void 0?!1:g,m=i.iconStep,E=m===void 0?100:m,C=i.vertexHeightScale,A=C===void 0?20:C,M=i.borderWidth,Z=M===void 0?0:M,Y=i.borderColor,st=Y===void 0?"#ccc":Y,Ct=i.raisingHeight,Pt=Ct===void 0?0:Ct,Zt=i.heightfixed,ie=Zt===void 0?!1:Zt,ce=i.linearDir,_e=ce===void 0?Y0.VERTICAL:ce,Re=i.blur,he=Re===void 0?[1,1,1]:Re,Me=i.arrow,De=Me===void 0?{enable:!1,arrowWidth:2,arrowHeight:3,tailWidth:1}:Me;p.length===2&&p.push(0,0),this.rendererService.getDirty()&&this.texture&&this.texture.bind();var Fe=0,Ve=[0,0,0,0],tr=[0,0,0,0];if(s&&u&&(Ve=Dr(s),tr=Dr(u),Fe=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var fr=this.layer.getEncodedData(),pr=this.calDataFrame(this.cellLength,fr,this.cellProperties),ur=pr.data,yr=pr.width,Mr=pr.height;this.rowCount=Mr,this.dataTexture=this.cellLength>0&&ur.length>0?this.createTexture2D({flipY:!0,data:ur,format:J.LUMINANCE,type:J.FLOAT,width:yr,height:Mr}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c===N9.NORMAL?0:1,u_line_type:G1t[h],u_dash_array:p,u_blur:he,u_texture:this.texture,u_line_texture:y?1:0,u_icon_step:E,u_textSize:[1024,this.iconService.canvasHeight||128],u_borderWidth:Z,u_borderColor:Dr(st),u_linearDir:_e===Y0.VERTICAL?1:0,u_linearColor:Fe,u_sourceColor:Ve,u_targetColor:tr,u_heightfixed:Number(ie),u_vertexScale:A,u_raisingHeight:Number(Pt),u_arrow:Number(De.enable),u_arrowHeight:De.arrowHeight||3,u_arrowWidth:De.arrowWidth||2,u_tailWidth:De.tailWidth===void 0?1:De.tailWidth}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.textureEventFlag||(this.textureEventFlag=!0,this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture)),s.abrupt("return",this.buildModels());case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E,C,A;return zt().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=o.depth,h=f===void 0?!1:f,v=o.workerEnabled,p=v===void 0?!1:v,g=o.enablePicking,y=this.getShaders(),m=y.frag,E=y.vert,C=y.type,this.layer.triangulation=k8,Z.next=5,this.layer.buildLayerModel({moduleName:"line"+C,vertexShader:E,fragmentShader:m,triangulation:k8,depth:{enable:h},blend:this.getBlend(),stencil:nn(u,c),workerEnabled:p,workerOptions:{modelType:"line"+C,enablePicking:g,iconMap:this.iconService.getIconMap()}});case 5:return A=Z.sent,Z.abrupt("return",[A]);case 7:case"end":return Z.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.sourceColor,o=i.targetColor,s=i.lineType;return s==="dash"?{frag:z1t,vert:U1t,type:"Dash"}:a&&o?{frag:V1t,vert:nb,type:"Linear"}:{frag:H1t,vert:nb,type:""}}},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Xe.Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o,s,u,l,c,f){return f===void 0?[u[3],10]:[u[3],f]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Xe.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o,s,u){return[u[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0],u[1]]:[u,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(o,s,u,l,c){return c}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Xe.Attribute,descriptor:{name:"a_Miter",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o,s,u){return[u[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function j1t(e){var r=W1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function W1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Y1t=`uniform float u_opacity : 1.0;
uniform sampler2D u_texture;
uniform float u_linearDir: 1.0;

#pragma include "picking"

varying mat4 styleMappingMat;

void main() {
  float opacity = styleMappingMat[0][0];
  float linearRadio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  if(u_linearDir < 1.0) {
    linearRadio = styleMappingMat[3][3];
  }

  gl_FragColor = texture2D(u_texture, vec2(linearRadio, 0.5));

  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  gl_FragColor = filterColor(gl_FragColor);
}
`,X1t=`
attribute float a_Miter;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;

// dash line
attribute float a_Total_Distance;
attribute vec2 a_DistanceAndIndex;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

uniform float u_heightfixed: 0.0;
uniform float u_vertexScale: 1.0;
uniform float u_raisingHeight: 0.0;

uniform float u_opacity: 1.0;

#pragma include "projection"
#pragma include "picking"

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  vec3 size = a_Miter * setPickingSize(a_Size.x) * reverse_offset_normal(a_Normal);
  
  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;
 

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // \u7EBF\u6A2A\u5411\u504F\u79FB\u7684\u8DDD\u79BB\uFF08\u5411\u4E24\u4FA7\u504F\u79FB\u7684\u548C\uFF09
  float linePixelSize = project_pixel(a_Size.x) * 2.0;  // \u5B9A\u70B9\u4F4D\u7F6E\u504F\u79FB\uFF0C\u6309\u5730\u56FE\u7B49\u7EA7\u7F29\u653E\u540E\u7684\u8DDD\u79BB \u5355\u4FA7 * 2
  float texV = lineOffsetWidth/linePixelSize; // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  styleMappingMat[3][0] = currentLinePointRatio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  styleMappingMat[3][3] = texV;             // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5 vertex height
  float lineHeight = a_Size.y; // size \u7B2C\u4E8C\u4E2A\u53C2\u6570\u4EE3\u8868\u7684\u9AD8\u5EA6 [linewidth, lineheight]

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    lineHeight *= 0.2; // \u4FDD\u6301\u548C amap/mapbox \u4E00\u81F4\u7684\u6548\u679C
    h *= 0.2;
    if(u_heightfixed < 1.0) {
      lineHeight = project_pixel(a_Size.y);
    }
    gl_Position = u_Mvp * (vec4(project_pos.xy + offset, lineHeight + h + u_raisingHeight, 1.0));
  } else {
    // mapbox -  amap
    
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // mapbox
      // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      h *= mapboxZoomScale;
      h += u_raisingHeight * mapboxZoomScale;
      if(u_heightfixed > 0.0) {
        lineHeight *= mapboxZoomScale;
      }
      
    } else {
      // amap
      h += u_raisingHeight;
      // lineHeight \u9876\u70B9\u504F\u79FB\u9AD8\u5EA6
      if(u_heightfixed < 1.0) {
        lineHeight *= pow(2.0, 20.0 - u_Zoom);
      }
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, lineHeight + h, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,$1t=function(e){(0,ze.Z)(t,e);var r=j1t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;n.colorTexture&&n.colorTexture.destroy();var u=n.layer.getLayerConfig(),l=u.rampColors,c=Qm(l);n.colorTexture=s({data:new Uint8Array(c.data),width:c.width,height:c.height,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE,min:J.NEAREST,mag:J.NEAREST,flipY:!1})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.vertexHeightScale,u=s===void 0?20:s,l=i.raisingHeight,c=l===void 0?0:l,f=i.heightfixed,h=f===void 0?!1:f,v=i.linearDir,p=v===void 0?Y0.VERTICAL:v;if(this.rendererService.getDirty()&&this.colorTexture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var g=this.layer.getEncodedData(),y=this.calDataFrame(this.cellLength,g,this.cellProperties),m=y.data,E=y.width,C=y.height;this.rowCount=C,this.dataTexture=this.cellLength>0&&m.length>0?this.createTexture2D({flipY:!0,data:m,format:J.LUMINANCE,type:J.FLOAT,width:E,height:C}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_linearDir:p===Y0.VERTICAL?1:0,u_opacity:(0,Te.isNumber)(o)?o:1,u_texture:this.colorTexture,u_heightfixed:Number(h),u_vertexScale:u,u_raisingHeight:Number(c)}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),s.abrupt("return",this.buildModels());case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.colorTexture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy()}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v;return zt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=o.depth,h=f===void 0?!1:f,this.layer.triangulation=el,g.next=4,this.layer.buildLayerModel({moduleName:"lineRampColors",vertexShader:X1t,fragmentShader:Y1t,triangulation:el,depth:{enable:h},blend:this.getBlend(),stencil:nn(u,c)});case 4:return v=g.sent,g.abrupt("return",[v]);case 6:case"end":return g.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Xe.Attribute,descriptor:{name:"a_DistanceAndIndex",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s,u,l,c){return c===void 0?[s[3],10]:[s[3],c]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Xe.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a,o,s){return[s[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a){var o=a.size,s=o===void 0?1:o;return Array.isArray(s)?[s[0],s[1]]:[s,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u,l){return l}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Xe.Attribute,descriptor:{name:"a_Miter",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a,o,s){return[s[4]]}}})}}]),t}(Wr);function q1t(e){var r=K1t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function K1t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Q1t=`
varying vec4 v_color;
varying mat4 styleMappingMat;
void main() {
  float opacity = styleMappingMat[0][0];
  float d_distance_ratio = styleMappingMat[3].r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B

  gl_FragColor = v_color;
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
}
`,J1t=`uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

varying mat4 styleMappingMat;
void main() {
  float opacity = styleMappingMat[0][0];

  // styleMappingMat[3][0] \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  gl_FragColor = mix(u_sourceColor, u_targetColor, styleMappingMat[3][0]);
  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
}
`,ab=`attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Position;

attribute float a_Total_Distance;
attribute float a_Distance;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

uniform float u_opacity: 1.0;
uniform float u_vertexScale: 1.0;

#pragma include "projection"

varying vec4 v_color;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // distance_ratio/distance/pixelLen/texV
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  
  v_color = a_Color; 
  styleMappingMat[3][0] = a_Distance / a_Total_Distance;

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // \u7EBF\u9876\u70B9\u7684\u9AD8\u5EA6 - \u517C\u5BB9\u4E0D\u5B58\u5728\u7B2C\u4E09\u4E2A\u6570\u503C\u7684\u60C5\u51B5

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xy, project_pixel(a_Size.y) + h * 0.2, 1.0));
  } else {
    float lineHeight = a_Size.y;
    // \u517C\u5BB9 mapbox \u5728\u7EBF\u9AD8\u5EA6\u4E0A\u7684\u6548\u679C\u8868\u73B0\u57FA\u672C\u4E00\u81F4
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
      h *= 2.0/pow(2.0, 20.0 - u_Zoom);
    }

    // #define COORDINATE_SYSTEM_P20 5.0
    // #define COORDINATE_SYSTEM_P20_OFFSET 6.0
    // amap1.x
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // \u4FDD\u6301\u9AD8\u5EA6\u76F8\u5BF9\u4E0D\u53D8
      lineHeight *= pow(2.0, 20.0 - u_Zoom);
    }

    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
    gl_PointSize = 10.0;
  }
}
`,t0t=function(e){(0,ze.Z)(t,e);var r=q1t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.vertexHeightScale,c=l===void 0?20:l,f=0,h=[0,0,0,0],v=[0,0,0,0];if(s&&u&&(h=Dr(s),v=Dr(u),f=1),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var p=this.layer.getEncodedData(),g=this.calDataFrame(this.cellLength,p,this.cellProperties),y=g.data,m=g.width,E=g.height;this.rowCount=E,this.dataTexture=this.cellLength>0&&y.length>0?this.createTexture2D({flipY:!0,data:y,format:J.LUMINANCE,type:J.FLOAT,width:m,height:E}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_linearColor:f,u_sourceColor:h,u_targetColor:v,u_vertexScale:c}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.sourceColor,o=i.targetColor;return a&&o?{frag:J1t,vert:ab,type:"lineSimpleLinear"}:{frag:Q1t,vert:ab,type:"lineSimpleNormal"}}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g;return zt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=this.getShaders(),h=f.frag,v=f.vert,p=f.type,m.next=4,this.layer.buildLayerModel({moduleName:p,vertexShader:v,fragmentShader:h,triangulation:Wot,primitive:J.LINES,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c),pick:!1});case 4:return g=m.sent,m.abrupt("return",[g]);case 6:case"end":return m.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"distance",type:Xe.Attribute,descriptor:{name:"a_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a,o,s){return[s[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Xe.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a,o,s){return[s[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a){var o=a.size,s=o===void 0?1:o;return Array.isArray(s)?[s[0],s[1]]:[s,0]}}})}}]),t}(Wr);function e0t(e){var r=r0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function r0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var n0t=`#define Animate 0.0
#define LineTexture 1.0

// line texture
uniform float u_line_texture;
uniform sampler2D u_texture;
uniform vec2 u_textSize;
uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;
uniform float u_opacity : 1.0;
uniform float u_textureBlend;
uniform float u_iconStepCount;
uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ]; // \u63A7\u5236\u8FD0\u52A8

varying vec2 v_iconMapUV;
varying float v_blur;
varying float v_radio;
varying vec4 v_color;
varying vec4 v_dataset;

#pragma include "picking"

void main() {
  float opacity = u_opacity;
  float animateSpeed = 0.0; // \u8FD0\u52A8\u901F\u5EA6
  float d_distance_ratio = v_dataset.r; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, v);
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  gl_FragColor.a *= opacity; // \u5168\u5C40\u900F\u660E\u5EA6
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      gl_FragColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
    float d_texPixelLen = v_dataset.b;  // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C

    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // \u8BA1\u7B97\u7EB9\u7406\u95F4\u9694 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture2D(u_texture, uv);

    // Tip: \u5224\u65AD\u7EB9\u7406\u95F4\u9694
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      gl_FragColor = filterColor(gl_FragColor + pattern);
    } else { // replace
        pattern.a *= opacity;
        if(gl_FragColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        gl_FragColor = filterColor(pattern);
    }
  }
  

  // blur - AA
  if(v < v_blur) {
    gl_FragColor.a = mix(0.0, gl_FragColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    gl_FragColor.a = mix(gl_FragColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  gl_FragColor = filterColor(gl_FragColor);
}
`,i0t=`#define Animate 0.0

attribute float a_Miter;
attribute vec4 a_Color;
attribute vec2 a_Size;
attribute vec3 a_Normal;
attribute vec3 a_Position;
attribute vec2 a_iconMapUV;
attribute float a_Total_Distance;
attribute float a_Distance;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
uniform float u_icon_step: 100;
uniform float u_heightfixed;
uniform float u_linearColor: 0;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

// texV \u7EBF\u56FE\u5C42 - \u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\uFF08\u7EBF\u7684\u5BBD\u5EA6\u65B9\u5411\uFF09
varying vec2 v_iconMapUV;
varying vec4 v_color;
varying float v_blur;
varying float v_radio;
varying vec4 v_dataset;

void main() {


  float d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  float d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E

  v_iconMapUV = a_iconMapUV;
  if(u_heightfixed < 1.0) {     // \u9AD8\u5EA6\u968F zoom \u8C03\u6574
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
    d_texPixelLen *= 10.0;
  }

  if(u_animate.x == Animate || u_linearColor == 1.0) {
      d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0)/2.0;
  // \u8BBE\u7F6E\u6570\u636E\u96C6\u7684\u53C2\u6570
  v_dataset[0] = d_distance_ratio; // \u5F53\u524D\u70B9\u4F4D\u8DDD\u79BB\u5360\u7EBF\u603B\u957F\u7684\u6BD4\u4F8B
  v_dataset[1] = a_Distance;       // \u5F53\u524D\u9876\u70B9\u7684\u8DDD\u79BB
  v_dataset[2] = d_texPixelLen;    // \u8D34\u56FE\u7684\u50CF\u7D20\u957F\u5EA6\uFF0C\u6839\u636E\u5730\u56FE\u5C42\u7EA7\u7F29\u653E
  v_dataset[3] = miter;          // \u7EBF\u56FE\u5C42\u8D34\u56FE\u90E8\u5206\u7684 v \u5750\u6807\u503C 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0));

  float originSize = a_Size.x;  // \u56FA\u5B9A\u9AD8\u5EA6
  if(u_heightfixed < 1.0) {     // \u9AD8\u5EA6\u968F zoom \u8C03\u6574
    originSize = project_float_pixel(a_Size.x);
  }

  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xy, wallHeight, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,a0t=function(e){(0,ze.Z)(t,e);var r=e0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas()}),n.layer.render();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.NEAREST,min:J.NEAREST,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.sourceColor,u=i.targetColor,l=i.textureBlend,c=l===void 0?"normal":l,f=i.heightfixed,h=f===void 0?!1:f,v=i.lineTexture,p=v===void 0?!1:v,g=i.iconStep,y=g===void 0?100:g,m=i.iconStepCount,E=m===void 0?1:m;this.rendererService.getDirty()&&this.texture.bind();var C=0,A=[0,0,0,0],M=[0,0,0,0];return s&&u&&(A=Dr(s),M=Dr(u),C=1),{u_heightfixed:Number(h),u_opacity:(0,Te.isNumber)(o)?o:1,u_textureBlend:c==="normal"?0:1,u_texture:this.texture,u_line_texture:p?1:0,u_iconStepCount:E,u_icon_step:y,u_textSize:[1024,this.iconService.canvasHeight||128],u_linearColor:C,u_sourceColor:A,u_targetColor:M}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption;return{u_animate:this.animateOption2Array(a),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.updateTexture(),this.iconService.on("imageUpdate",this.updateTexture),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.texture)===null||i===void 0||i.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.layer.buildLayerModel({moduleName:"lineWall",vertexShader:i0t,fragmentShader:n0t,triangulation:el,depth:{enable:!1},blend:this.getBlend()});case 2:return o=u.sent,u.abrupt("return",[o]);case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"distance",type:Xe.Attribute,descriptor:{name:"a_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o,s,u){return[u[3]]}}}),this.styleAttributeService.registerStyleAttribute({name:"total_distance",type:Xe.Attribute,descriptor:{name:"a_Total_Distance",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o,s,u){return[u[5]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=o.size,u=s===void 0?1:s;return Array.isArray(u)?[u[0],u[1]]:[u,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(o,s,u,l,c){return c}}}),this.styleAttributeService.registerStyleAttribute({name:"miter",type:Xe.Attribute,descriptor:{name:"a_Miter",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o,s,u){return[u[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_iconMapUV",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.texture,l=s[u]||{x:0,y:0},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr),o0t={arc:c1t,arc3d:m1t,greatcircle:L1t,wall:a0t,line:ib,halfLine:B1t,simple:t0t,linearline:$1t,earthArc3d:M1t},s0t=o0t;function u0t(e){var r=l0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function l0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var nl=function(e){(0,ze.Z)(t,e);var r=u0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","LineLayer"),(0,S.Z)((0,Qt.Z)(n),"arrowInsertCount",0),(0,S.Z)((0,Qt.Z)(n),"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}}),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel=new s0t[o](this),u.next=4,this.initLayerModels();case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getDefaultConfig",value:function(){var i=this.getModelType(),a={line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},halfLine:{},earthArc3d:{}};return a[i]}},{key:"getModelType",value:function(){var i;if(this.layerType)return this.layerType;var a=this.styleAttributeService.getLayerStyleAttribute("shape"),o=a==null||(i=a.scale)===null||i===void 0?void 0:i.field;return o||"line"}},{key:"processData",value:function(i){if(this.getModelType()!=="simple")return i;var a=[];return i.map(function(o){if(Array.isArray(o.coordinates)&&Array.isArray(o.coordinates[0])&&Array.isArray(o.coordinates[0][0])){var s=(0,H.Z)({},o);o.coordinates.map(function(u){a.push((0,H.Z)((0,H.Z)({},s),{},{coordinates:u}))})}else a.push(o)}),a}}]),t}(V0);function c0t(e){var r=f0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function f0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var h0t=`varying vec4 v_color;
uniform float u_opacity: 1.0;

uniform float u_pickLight: 0.0;

#pragma include "picking"

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

uniform float u_opacitylinear: 0.0;
uniform float u_opacitylinear_dir: 1.0;

void main() {
  float opacity = styleMappingMat[0][0];
  float lightWeight = styleMappingMat[1][3];
  float barLinearZ = styleMappingMat[2][3];

  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, barLinearZ);
    gl_FragColor.rgb *= lightWeight;
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // \u5E94\u7528\u900F\u660E\u5EA6
  gl_FragColor.a *= opacity;

  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8
  if(u_opacitylinear > 0.0) {
    gl_FragColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - barLinearZ): barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,v0t=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec3 a_Position;
attribute vec3 a_Pos;
attribute vec4 a_Color;
attribute vec3 a_Size;
attribute vec3 a_Normal;

uniform float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
uniform float u_globel;
uniform float u_r;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform float u_lightEnable: 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA - lightWeight
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - linearZ(\u5782\u76F4\u65B9\u5411 0 - 1 \u7684\u503C)
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  // a_Position.z \u662F\u5728\u6784\u5EFA\u7F51\u683C\u7684\u65F6\u5019\u4F20\u5165\u7684\u6807\u51C6\u503C 0 - 1\uFF0C\u5728\u63D2\u503C\u5668\u63D2\u503C\u53EF\u4EE5\u83B7\u53D6 0\uFF5E1 \u7EBF\u6027\u6E10\u53D8\u7684\u503C
  styleMappingMat[2][3] =  a_Position.z;

  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB
  if(u_heightfixed < 1.0) { // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6
    
    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
      offset = offset * pow(2.0, (19.0 - u_Zoom));
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
      // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));
    }
  } else {// \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // \u5706\u67F1\u5149\u7167\u6548\u679C
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027
    lightWeight = calc_lighting(pos);
  }
  styleMappingMat[1][3] = lightWeight;

  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);

  
  // \u5728\u5730\u7403\u6A21\u5F0F\u4E0B\uFF0C\u5C06\u539F\u672C\u5782\u76F4\u4E8E xy \u5E73\u9762\u7684\u5706\u67F1\u8C03\u6574\u59FF\u6001\u5230\u9002\u5E94\u5706\u7684\u89D2\u5EA6
  //\u65CB\u8F6C\u77E9\u9635mx\uFF0C\u521B\u5EFA\u7ED5x\u8F74\u65CB\u8F6C\u77E9\u9635
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
  float xsin = sin(xRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
  mat4 mx = mat4(
    1,0,0,0,  
    0,xcos,-xsin,0,  
    0,xsin,xcos,0,  
    0,0,0,1);

  //\u65CB\u8F6C\u77E9\u9635my\uFF0C\u521B\u5EFA\u7ED5y\u8F74\u65CB\u8F6C\u77E9\u9635
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u4F59\u5F26\u503C
  float ysin = sin(yRadian);//\u6C42\u89E3\u65CB\u8F6C\u89D2\u5EA6\u6B63\u5F26\u503C
  mat4 my = mat4(
    ycos,0,-ysin,0,  
    0,1,0,0,  
    ysin,0,ycos,0,  
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);
  

  setPickingColor(a_PickingColor);
}
`,p0t=function(e){(0,ze.Z)(t,e);var r=c0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"raiseCount",0),(0,S.Z)((0,Qt.Z)(n),"raiseRepeat",0),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption,o=a===void 0?{enable:!1,speed:.01,repeat:!1}:a,s=i.opacity,u=s===void 0?1:s,l=i.sourceColor,c=i.targetColor,f=i.pickLight,h=f===void 0?!1:f,v=i.heightfixed,p=v===void 0?!1:v,g=i.opacityLinear,y=g===void 0?{enable:!1,dir:"up"}:g,m=i.lightEnable,E=m===void 0?!0:m;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:u})){this.judgeStyleAttributes({opacity:u});var C=this.layer.getEncodedData(),A=this.calDataFrame(this.cellLength,C,this.cellProperties),M=A.data,Z=A.width,Y=A.height;this.rowCount=Y,this.dataTexture=this.cellLength>0&&M.length>0?this.createTexture2D({flipY:!0,data:M,format:J.LUMINANCE,type:J.FLOAT,width:Z,height:Y}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}var st=0,Ct=[0,0,0,0],Pt=[0,0,0,0];if(l&&c&&(Ct=Dr(l),Pt=Dr(c),st=1),this.raiseCount<1&&this.raiseRepeat>0&&o.enable){var Zt=o.speed,ie=Zt===void 0?.01:Zt;this.raiseCount+=ie,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}return{u_pickLight:Number(h),u_heightfixed:Number(p),u_r:o.enable&&this.raiseRepeat>0?this.raiseCount:1,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(u)?u:1,u_linearColor:st,u_sourceColor:Ct,u_targetColor:Pt,u_opacitylinear:Number(y.enable),u_opacitylinear_dir:y.dir==="up"?1:0,u_lightEnable:Number(E)}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.layer.getLayerConfig(),s=o.animateOption.repeat,u=s===void 0?1:s,this.raiseRepeat=u,f.next=4,this.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:v0t,fragmentShader:h0t,triangulation:JS,depth:{enable:!0},cull:{enable:!0,face:a8(this.mapService.version)},blend:this.getBlend()});case 4:return l=f.sent,f.abrupt("return",[l]);case 6:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a){var o=a.size;if(o){var s=[];return Array.isArray(o)&&(s=o.length===2?[o[0],o[0],o[1]]:o),Array.isArray(o)||(s=[o,o,o]),s}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u,l){return l}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Xe.Attribute,descriptor:{name:"a_Pos",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a){var o=eo(a.coordinates);return jS([o[0],o[1]])}}})}}]),t}(Wr);function d0t(e){var r=g0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function g0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var y0t=`uniform float u_additive;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

#pragma include "sdf_2d"
#pragma include "picking"


void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];
  float stroke_opacity = styleMappingMat[0][1];
  float strokeWidth = styleMappingMat[0][2];
  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + strokeWidth);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(strokeWidth < 0.01) {
    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);
  } else {
    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    gl_FragColor *= opacity_t;
    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);
  } else {
    gl_FragColor.a *= opacity_t;
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,m0t=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute float a_Shape;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

uniform float u_opacity : 1;
uniform float u_stroke_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
uniform vec2 u_offsets;

uniform float u_blur : 0.0;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = strokeOpacityAndOffset.r;
  textureOffset = strokeOpacityAndOffset.g;

  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }

  // cal style mapping

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);


  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1, 1.0);

  setPickingColor(a_PickingColor);
}
`,x0t=function(e){(0,ze.Z)(t,e);var r=d0t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.strokeOpacity,u=s===void 0?1:s,l=i.strokeWidth,c=l===void 0?0:l,f=i.stroke,h=f===void 0?"rgba(0,0,0,0)":f,v=i.offsets,p=v===void 0?[0,0]:v,g=i.blend,y=i.blur,m=y===void 0?0:y;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,strokeOpacity:u,strokeWidth:c,stroke:h,offsets:p})){this.judgeStyleAttributes({opacity:o,strokeOpacity:u,strokeWidth:c,stroke:h,offsets:p});var E=this.layer.getEncodedData(),C=this.calDataFrame(this.cellLength,E,this.cellProperties),A=C.data,M=C.width,Z=C.height;this.rowCount=Z,this.dataTexture=this.cellLength>0&&A.length>0?this.createTexture2D({flipY:!0,data:A,format:J.LUMINANCE,type:J.FLOAT,width:M,height:Z}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_blur:m,u_additive:g==="additive"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_stroke_opacity:(0,Te.isNumber)(u)?u:1,u_stroke_width:(0,Te.isNumber)(c)?c:1,u_stroke_color:this.getStrokeColor(h),u_offsets:this.isOffsetStatic(p)?p:[0,0]}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption,o=a===void 0?{enable:!1}:a;return{u_animate:this.animateOption2Array(o),u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return this.layer.triangulation=QS,u.next=3,this.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:m0t,fragmentShader:y0t,triangulation:QS,depth:{enable:!0},blend:this.getBlend()});case 3:return o=u.sent,u.abrupt("return",[o]);case 5:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"animateOption2Array",value:function(i){return[i.enable?0:1,i.speed||1,i.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Xe.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(o,s,u,l){var c=(0,nr.Z)(u,3),f=c[0],h=c[1],v=c[2],p=_n(0,0,1),g=_n(f,0,v),y=f>=0?o4(p,g):Math.PI*2-o4(p,g),m=Math.PI*2-Math.asin(h/100),E=ci();Zu(E,E,y),Z0(E,E,m);var C=_n(1,1,0);Es(C,C,E),r0(C,C);var A=_n(-1,1,0);Es(A,A,E),r0(A,A);var M=_n(-1,-1,0);Es(M,M,E),r0(M,M);var Z=_n(1,-1,0);Es(Z,Z,E),r0(Z,Z);var Y=[].concat((0,We.Z)(C),(0,We.Z)(A),(0,We.Z)(M),(0,We.Z)(Z)),st=l%4*3;return[Y[st],Y[st+1],Y[st+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?5:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Xe.Attribute,descriptor:{name:"a_Shape",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.shape,u=s===void 0?2:s,l=i.layer.getLayerConfig().shape2d,c=l.indexOf(u);return[c]}}})}}]),t}(Wr);function _0t(e){var r=E0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function E0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var C0t=`varying vec4 v_color;
uniform float u_opacity: 1.0;

uniform float u_pickLight: 0.0;

#pragma include "picking"

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

uniform float u_linearColor: 0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;

uniform float u_opacitylinear: 0.0;
uniform float u_opacitylinear_dir: 1.0;

void main() {
  float opacity = styleMappingMat[0][0];
  float lightWeight = styleMappingMat[1][3];
  float barLinearZ = styleMappingMat[2][3];

  // \u8BBE\u7F6E\u5706\u67F1\u7684\u5E95\u8272
  if(u_linearColor == 1.0) { // \u4F7F\u7528\u6E10\u53D8\u989C\u8272
    gl_FragColor = mix(u_sourceColor, u_targetColor, barLinearZ);
    gl_FragColor.rgb *= lightWeight;
  } else { // \u4F7F\u7528 color \u65B9\u6CD5\u4F20\u5165\u7684\u989C\u8272
     gl_FragColor = v_color;
  }

  // \u5E94\u7528\u900F\u660E\u5EA6
  gl_FragColor.a *= opacity;

  // \u5F00\u542F\u900F\u660E\u5EA6\u6E10\u53D8
  if(u_opacitylinear > 0.0) {
    gl_FragColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - barLinearZ): barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);
  } else {
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,S0t=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec3 a_Position;
attribute vec3 a_Pos;
attribute vec4 a_Color;
attribute vec3 a_Size;
attribute vec3 a_Normal;

uniform float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
uniform float u_r;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform float u_lightEnable: 1;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) + 
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA - lightWeight
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - linearZ(\u5782\u76F4\u65B9\u5411 0 - 1 \u7684\u503C)
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec3 size = a_Size * a_Position;

  // a_Position.z \u662F\u5728\u6784\u5EFA\u7F51\u683C\u7684\u65F6\u5019\u4F20\u5165\u7684\u6807\u51C6\u503C 0 - 1\uFF0C\u5728\u63D2\u503C\u5668\u63D2\u503C\u53EF\u4EE5\u83B7\u53D6 0\uFF5E1 \u7EBF\u6027\u6E10\u53D8\u7684\u503C
  styleMappingMat[2][3] =  a_Position.z;

  vec3 offset = size; // \u63A7\u5236\u5706\u67F1\u4F53\u7684\u5927\u5C0F - \u4ECE\u6807\u51C6\u5355\u4F4D\u5706\u67F1\u4F53\u8FDB\u884C\u504F\u79FB
  if(u_heightfixed < 1.0) { // \u5706\u67F1\u4F53\u4E0D\u56FA\u5B9A\u9AD8\u5EA6
    
    if (u_CoordinateSystem == COORDINATE_SYSTEM_P20 || u_CoordinateSystem == COORDINATE_SYSTEM_P20_OFFSET) {
      // P20 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF1
      offset = offset * pow(2.0, (19.0 - u_Zoom));
    }
    if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) {
      // P20_2 \u5750\u6807\u7CFB\u4E0B\uFF0C\u4E3A\u4E86\u548C Web \u58A8\u5361\u6258\u5750\u6807\u7CFB\u7EDF\u4E00\uFF0Czoom \u9ED8\u8BA4\u51CF3
      offset = offset * pow(2.0, (19.0 - 3.0 - u_Zoom));
    }
  } else {// \u5706\u67F1\u4F53\u56FA\u5B9A\u9AD8\u5EA6 \uFF08 \u5904\u7406 mapbox \uFF09
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r \u63A7\u5236\u5706\u67F1\u7684\u751F\u957F
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // \u5706\u67F1\u5149\u7167\u6548\u679C
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // \u53D6\u6D88\u4E09\u5143\u8868\u8FBE\u5F0F\uFF0C\u589E\u5F3A\u5065\u58EE\u6027
    lightWeight = calc_lighting(pos);
  }
  styleMappingMat[1][3] = lightWeight;

  v_color =vec4(a_Color.rgb * lightWeight, a_Color.w);

  // gl_Position = project_common_position_to_clipspace(pos);

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * pos;
  } else {
    gl_Position = project_common_position_to_clipspace(pos);
  }

  setPickingColor(a_PickingColor);
}
`,ob=function(e){(0,ze.Z)(t,e);var r=_0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"raiseCount",0),(0,S.Z)((0,Qt.Z)(n),"raiseRepeat",0),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption,o=a===void 0?{enable:!1,speed:.01,repeat:!1}:a,s=i.opacity,u=s===void 0?1:s,l=i.sourceColor,c=i.targetColor,f=i.pickLight,h=f===void 0?!1:f,v=i.heightfixed,p=v===void 0?!1:v,g=i.opacityLinear,y=g===void 0?{enable:!1,dir:"up"}:g,m=i.lightEnable,E=m===void 0?!0:m;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:u})){this.judgeStyleAttributes({opacity:u});var C=this.layer.getEncodedData(),A=this.calDataFrame(this.cellLength,C,this.cellProperties),M=A.data,Z=A.width,Y=A.height;this.rowCount=Y,this.dataTexture=this.cellLength>0&&M.length>0?this.createTexture2D({flipY:!0,data:M,format:J.LUMINANCE,type:J.FLOAT,width:Z,height:Y}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}var st=0,Ct=[0,0,0,0],Pt=[0,0,0,0];if(l&&c&&(Ct=Dr(l),Pt=Dr(c),st=1),this.raiseCount<1&&this.raiseRepeat>0&&o.enable){var Zt=o.speed,ie=Zt===void 0?.01:Zt;this.raiseCount+=ie,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}return{u_pickLight:Number(h),u_heightfixed:Number(p),u_r:o.enable&&this.raiseRepeat>0?this.raiseCount:1,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(u)?u:1,u_linearColor:st,u_sourceColor:Ct,u_targetColor:Pt,u_opacitylinear:Number(y.enable),u_opacitylinear_dir:y.dir==="up"?1:0,u_lightEnable:Number(E)}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.depth,u=s===void 0?!0:s,l=o.animateOption.repeat,c=l===void 0?1:l,this.raiseRepeat=c,v.next=4,this.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:S0t,fragmentShader:C0t,triangulation:JS,blend:this.getBlend(),cull:{enable:!0,face:a8(this.mapService.version)},depth:{enable:u}});case 4:return f=v.sent,v.abrupt("return",[f]);case 6:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a){var o=a.size;if(o){var s=[];return Array.isArray(o)&&(s=o.length===2?[o[0],o[0],o[1]]:o),Array.isArray(o)||(s=[o,o,o]),s}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u,l){return l}}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Xe.Attribute,descriptor:{name:"a_Pos",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a){var o=eo(a.coordinates);return[o[0],o[1],0]}}})}}]),t}(Wr);function b0t(e){var r=A0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function A0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var sb=`
uniform float u_additive;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
uniform float u_time;
uniform vec4 u_animate: [ 1., 2., 1.0, 0.2 ];

#pragma include "sdf_2d"
#pragma include "picking"

void main() {

  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  
  outer_df = sdCircle(v_data.xy, 1.0);
  inner_df = sdCircle(v_data.xy, r);


  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );
  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

 gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);

  float d = length(v_data.xy);
  if(d > 0.5) {
    discard;
  }
  float intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  
  // \u6839\u636E\u53E0\u52A0\u6A21\u5F0F\u9009\u62E9\u6548\u679C
  if(u_additive > 0.0) {
    gl_FragColor *= intensity;
    // \u4F18\u5316\u6C34\u6CE2\u70B9 blend additive \u6A21\u5F0F\u4E0B\u6709\u7684\u62FE\u53D6\u6548\u679C 
    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);
  } else {
    gl_FragColor = vec4(gl_FragColor.xyz, gl_FragColor.a * intensity);
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,M0t=`uniform float u_additive;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

#pragma include "sdf_2d"
#pragma include "picking"


void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  float opacity = styleMappingMat[0][0];
  float stroke_opacity = styleMappingMat[0][1];
  float strokeWidth = styleMappingMat[0][2];
  vec4 strokeColor = textrueStroke == vec4(0) ? v_color : textrueStroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + strokeWidth);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = strokeWidth < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(strokeWidth < 0.01) {
    gl_FragColor = vec4(v_color.rgb, v_color.a * opacity);
  } else {
    gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), strokeColor * stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    gl_FragColor *= opacity_t;
    gl_FragColor = filterColorAlpha(gl_FragColor, gl_FragColor.a);
  } else {
    gl_FragColor.a *= opacity_t;
    gl_FragColor = filterColor(gl_FragColor);
  }
}
`,Z9=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute float a_Shape;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform int u_Size_Unit;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;

uniform float u_opacity : 1;
uniform float u_stroke_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
uniform vec2 u_offsets;

uniform float u_blur : 0.0;
uniform float u_raisingHeight: 0.0;
uniform float u_heightfixed: 0.0;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize \u8BBE\u7F6E\u62FE\u53D6\u5927\u5C0F
  *  u_meter2coord \u5728\u7B49\u9762\u79EF\u5927\u5C0F\u7684\u65F6\u5019\u8BBE\u7F6E\u5355\u4F4D
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 strokeOpacityAndOffset = calStrokeOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][1] = strokeOpacityAndOffset.r;
  textureOffset = strokeOpacityAndOffset.g;

  vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping

  // unpack color(vec2)
  v_color = a_Color;
if(u_Size_Unit == 1) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + textrueOffsets);
  vec3 aPosition = a_Position;

  offset = project_pixel(offset);
  
  // TODP: /abs(extrude.x) \u662F\u4E3A\u4E86\u517C\u5BB9\u5730\u7403\u6A21\u5F0F
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);


  // vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));
  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_raisingHeight;

  if(u_heightfixed < 1.0) { // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }
 

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position =  u_Mvp * vec4(project_pos.xy + offset, raisingHeight, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));
  }
 
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,ub=function(e){(0,ze.Z)(t,e);var r=b0t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.strokeOpacity,u=s===void 0?1:s,l=i.strokeWidth,c=l===void 0?0:l,f=i.stroke,h=f===void 0?"rgba(0,0,0,0)":f,v=i.offsets,p=v===void 0?[0,0]:v,g=i.blend,y=i.blur,m=y===void 0?0:y,E=i.raisingHeight,C=E===void 0?0:E,A=i.heightfixed,M=A===void 0?!1:A,Z=i.unit,Y=Z===void 0?"pixel":Z;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,strokeOpacity:u,strokeWidth:c,stroke:h,offsets:p})){this.judgeStyleAttributes({opacity:o,strokeOpacity:u,strokeWidth:c,stroke:h,offsets:p});var st=this.layer.getEncodedData(),Ct=this.calDataFrame(this.cellLength,st,this.cellProperties),Pt=Ct.data,Zt=Ct.width,ie=Ct.height;this.rowCount=ie,this.dataTexture=this.cellLength>0&&Pt.length>0?this.createTexture2D({flipY:!0,data:Pt,format:J.LUMINANCE,type:J.FLOAT,width:Zt,height:ie}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_raisingHeight:Number(C),u_heightfixed:Number(M),u_blur:m,u_additive:g==="additive"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_stroke_opacity:(0,Te.isNumber)(u)?u:1,u_stroke_width:(0,Te.isNumber)(c)?c:1,u_stroke_color:this.getStrokeColor(h),u_Size_Unit:rl[Y],u_offsets:this.isOffsetStatic(p)?p:[0,0]}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption,o=a===void 0?{enable:!1}:a;return{u_animate:this.animateOption2Array(o),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),B3)}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E,C,A,M;return zt().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=o.animateOption,h=f===void 0?{enable:!1}:f,v=o.workerEnabled,p=v===void 0?!1:v,g=o.enablePicking,y=o.shape2d,m=this.getShaders(h),E=m.frag,C=m.vert,A=m.type,this.layer.triangulation=B3,Y.next=5,this.layer.buildLayerModel({moduleName:A,vertexShader:C,fragmentShader:E,triangulation:B3,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c),workerEnabled:p,workerOptions:{modelType:A,enablePicking:g,shape2d:y}});case 5:return M=Y.sent,Y.abrupt("return",[M]);case 7:case"end":return Y.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getShaders",value:function(i){if(i.enable)switch(i.type){case"wave":return{frag:sb,vert:Z9,type:"pointWave"};default:return{frag:sb,vert:Z9,type:"pointWave"}}else return{frag:M0t,vert:Z9,type:"pointFill"}}},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"animateOption2Array",value:function(i){return[i.enable?0:1,i.speed||1,i.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){var i=this.layer.getLayerConfig().shape2d;this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Xe.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(o,s,u,l){var c=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],f=l%4*3;return[c[f],c[f+1],c[f+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?5:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Xe.Attribute,descriptor:{name:"a_Shape",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.shape,u=s===void 0?2:s,l=i.indexOf(u);return[l]}}})}}]),t}(Wr);function T0t(e){var r=w0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function w0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var F0t=`uniform sampler2D u_texture;
uniform vec2 u_textSize;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "sdf_2d"
#pragma include "picking"
varying vec2 v_uv; // \u672C\u8EAB\u7684 uv \u5750\u6807
varying vec2 v_Iconuv;

void main() {

  float opacity = styleMappingMat[0][0];

  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  gl_FragColor = texture2D(u_texture, pos);
  gl_FragColor.a *= opacity;

  gl_FragColor = filterColor(gl_FragColor);
}
`,k0t=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
attribute vec2 a_Uv;
attribute float a_Rotate;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform mat2 u_RotateMatrix;
uniform int u_Size_Unit;

varying vec2 v_uv; // \u672C\u8EAB\u7684 uv \u5750\u6807
varying vec2 v_Iconuv; // icon \u8D34\u56FE\u7684 uv \u5750\u6807

uniform float u_raisingHeight: 0.0;
uniform float u_heightfixed: 0.0;
uniform float u_opacity : 1;
uniform vec2 u_offsets;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  vec3 extrude = a_Extrude;

  v_uv = (a_Extrude.xy + 1.0)/2.0;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - empty - empty - empty
    0.0, 0.0, 0.0, 0.0, // empty - empty - empty - empty
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping

  highp float angle_sin = sin(a_Rotate);
  highp float angle_cos = cos(a_Rotate);
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  float newSize = a_Size;
  if(u_Size_Unit == 1) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = (rotation_matrix * u_RotateMatrix * extrude.xy * (newSize) + textrueOffsets);
  vec3 aPosition = a_Position;

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));
  float raisingHeight = u_raisingHeight;
  if(u_heightfixed < 1.0) { // height fixed
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp *vec4(project_pos.xy + offset, raisingHeight, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));
  }
 
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`,O0t=function(e){(0,ze.Z)(t,e);var r=T0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"meter2coord",1),(0,S.Z)((0,Qt.Z)(n),"isMeter",!1),(0,S.Z)((0,Qt.Z)(n),"radian",0),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),n.layerService.throttleRenderLayers();return}n.texture=s({data:n.iconService.getCanvas(),mag:J.LINEAR,min:J.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128,mipmap:!0})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.offsets,u=s===void 0?[0,0]:s,l=i.rotation,c=i.raisingHeight,f=c===void 0?0:c,h=i.heightfixed,v=h===void 0?!1:h,p=i.unit,g=p===void 0?"pixel":p;this.rendererService.getDirty()&&this.texture.bind();var y=1;if((this.mapService.version==="GAODE2.x"||this.mapService.version==="GAODE1.x")&&(y=-1),this.radian=l!==void 0?y*Math.PI*l/180:y*Math.PI*(this.mapService.getRotation()%360)/180,this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,offsets:u})){this.judgeStyleAttributes({opacity:o,offsets:u});var m=this.layer.getEncodedData(),E=this.calDataFrame(this.cellLength,m,this.cellProperties),C=E.data,A=E.width,M=E.height;this.rowCount=M,this.dataTexture=this.cellLength>0&&C.length>0?this.createTexture2D({flipY:!0,data:C,format:J.LUMINANCE,type:J.FLOAT,width:A,height:M}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_raisingHeight:Number(f),u_heightfixed:Number(v),u_Size_Unit:rl[g],u_RotateMatrix:new Float32Array([Math.cos(this.radian),Math.sin(this.radian),-Math.sin(this.radian),Math.cos(this.radian)]),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:(0,Te.isNumber)(o)?o:1,u_offsets:this.isOffsetStatic(u)?u:[0,0]}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),J3)}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.iconService.on("imageUpdate",this.updateTexture),this.updateTexture(),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:k0t,fragmentShader:F0t,triangulation:J3,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c),cull:{enable:!0,face:a8(this.mapService.version)}});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;this.iconService.off("imageUpdate",this.updateTexture),(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy()}},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Xe.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.rotate,u=s===void 0?0:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.shape,l=s[u]||{x:-64,y:-64},c=l.x,f=l.y;return[c,f]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Xe.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(o,s,u,l){var c=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],f=l%4*3;return[c[f],c[f+1],c[f+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?5:s;return Array.isArray(u)?[u[0]]:[u]}}})}}]),t}(Wr);function L0t(e){var r=I0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function I0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var P0t=`
uniform sampler2D u_texture;
varying vec4 v_color;
varying vec2 v_uv;
uniform vec2 u_textSize;
uniform float u_opacity : 1;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main(){
      float opacity = styleMappingMat[0][0];
      float size = styleMappingMat[1][0];
      vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
      vec4 textureColor;

      // Y = 0.299R + 0.587G + 0.114B // \u4EAE\u5EA6\u63D0\u53D6
     
      textureColor = texture2D(u_texture, pos);

      // Tip: \u53BB\u9664\u8FB9\u7F18\u90E8\u5206 mipmap \u5BFC\u81F4\u7684\u6DF7\u5408\u53D8\u6697
      float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
      if(fragmengTocenter >= 0.5) {
            float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
            textureColor.a *= luma;
      }
      
      

      if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
            gl_FragColor= textureColor;
      }else {
            gl_FragColor= step(0.01, textureColor.z) * v_color;
      }

      gl_FragColor.a = gl_FragColor.a * opacity;
      gl_FragColor = filterColor(gl_FragColor);
}
`,R0t=`precision highp float;
attribute vec3 a_Position;
attribute vec4 a_Color;
attribute vec2 a_Uv;
attribute float a_Size;
varying vec4 v_color;
varying vec2 v_uv;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform vec2 u_offsets;

uniform float u_opacity : 1;
uniform float u_raisingHeight: 0.0;
uniform float u_heightfixed: 0.0;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  styleMappingMat[1][0] = a_Size;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  v_color = a_Color;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
   
  vec2 offset = project_pixel(textrueOffsets);

  float raisingHeight = u_raisingHeight;
  if(u_heightfixed < 1.0) { // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(project_pos.xy + offset, raisingHeight, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`,lb=function(e){(0,ze.Z)(t,e);var r=L0t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"updateTexture",function(){var s=n.rendererService.createTexture2D;if(n.texture){n.texture.update({data:n.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(function(){n.layerService.throttleRenderLayers()});return}n.texture=s({data:n.iconService.getCanvas(),mag:J.LINEAR,min:J.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:n.iconService.canvasHeight||128,mipmap:!0})}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.offsets,u=s===void 0?[0,0]:s,l=i.raisingHeight,c=l===void 0?0:l,f=i.heightfixed,h=f===void 0?!1:f;if(this.rendererService.getDirty()&&this.texture.bind(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,offsets:u})){this.judgeStyleAttributes({opacity:o,offsets:u});var v=this.layer.getEncodedData(),p=this.calDataFrame(this.cellLength,v,this.cellProperties),g=p.data,y=p.width,m=p.height;this.rowCount=m,this.dataTexture=this.cellLength>0&&g.length>0?this.createTexture2D({flipY:!0,data:g,format:J.LUMINANCE,type:J.FLOAT,width:y,height:m}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_raisingHeight:Number(c),u_heightfixed:Number(h),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_texture:this.texture,u_textSize:[1024,this.iconService.canvasHeight||128],u_opacity:(0,Te.isNumber)(o)?o:1,u_offsets:this.isOffsetStatic(u)?u:[0,0]}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.iconService.on("imageUpdate",this.updateTexture),this.updateTexture(),s.abrupt("return",this.buildModels());case 3:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"pointImage",vertexShader:R0t,fragmentShader:P0t,triangulation:jot,depth:{enable:!1},primitive:J.POINTS,blend:this.getBlend(),stencil:nn(u,c)});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){var i=this;this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(o){var s=o.size,u=s===void 0?5:s;return Array.isArray(u)?[u[0]]:[u]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(o){var s=i.iconService.getIconMap(),u=o.shape,l=s[u]||{x:-64,y:-64},c=l.x,f=l.y;return[c,f]}}})}}]),t}(Wr);function D0t(e){var r=B0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function B0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var N0t=`uniform float u_opacity : 1;
varying vec4 v_color;
void main() {
  gl_FragColor = v_color;
  gl_FragColor.a *= u_opacity;
}
`,Z0t=`
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute float a_Size;
attribute vec4 a_Color;

varying vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = a_Color;

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(a_Position.xy, a_Position.z, 1.0);
  } else {
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy),project_pos.z,project_pos.w));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
}
`;function cb(e){var r=e.coordinates;return{vertices:(0,We.Z)(r),indices:[0],size:r.length}}var fb=function(e){(0,ze.Z)(t,e);var r=D0t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a;return{u_opacity:(0,Te.isNumber)(o)?o:1}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,this.layer.triangulation=cb,v.next=4,this.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:Z0t,fragmentShader:N0t,triangulation:cb,depth:{enable:!1},primitive:J.POINTS,blend:this.getBlend(),stencil:nn(u,c),pick:!1});case 4:return f=v.sent,v.abrupt("return",[f]);case 6:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a){var o=a.size,s=o===void 0?1:o;return Array.isArray(s)?[s[0]]:[s]}}})}}]),t}(Wr);function z0t(e){var r=U0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function U0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var H0t=`
uniform float u_additive;
uniform float u_opacity: 1.0;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
varying vec2 v_exteude;
#pragma include "sdf_2d"
#pragma include "picking"

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  gl_FragColor = vec4(v_color.rgb, v_color.a * u_opacity);

  if(u_additive > 0.0) {
    gl_FragColor *= opacity_t;
  } else {
    gl_FragColor.a *= opacity_t;
  }

  if(gl_FragColor.a > 0.0) {
    gl_FragColor = filterColor(gl_FragColor);
  }

  vec2 extrude =  v_exteude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  // full circle
  // float rades = dot(dir, baseDir);
  // float flag = sign(dir.y);
  // float radar_v = (flag - 1.0) * -0.5 + flag * acos(rades)/pi/2.0;
  
  // half circle
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  gl_FragColor.a *= radar_v;
}
`,V0t=`attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Extrude;
attribute float a_Size;
uniform float u_speed: 1.0;
uniform float u_time;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform int u_Size_Unit;

varying vec4 v_data;
varying vec4 v_color;
varying float v_radius;
varying vec2 v_exteude;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec3 extrude = a_Extrude;
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2( 
    cos(time), sin(time), 
    -sin(time), cos(time)
  );
  v_exteude = rotateMatrix * a_Extrude.xy;

  // unpack color(vec2)
  v_color = a_Color;



  // anti-alias
  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_Size_Unit == 1) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  // radius(16-bit)
  v_radius = newSize;

  vec2 offset = (extrude.xy * (newSize));
  vec3 aPosition = a_Position;
  
    // \u4E0D\u4EE5\u7C73\u4E3A\u5B9E\u9645\u5355\u4F4D
  offset = project_pixel(offset);
  
  v_data = vec4(extrude.x, extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(aPosition.xy, 0.0, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp *vec4(project_pos.xy + offset, 0.0, 1.0);
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));
  }

  setPickingColor(a_PickingColor);
}
`,G0t=function(e){(0,ze.Z)(t,e);var r=z0t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.blend,u=i.speed,l=u===void 0?1:u,c=i.unit,f=c===void 0?"pixel":c;return{u_Size_Unit:rl[f],u_speed:l,u_additive:s==="additive"?1:0,u_opacity:(0,Te.isNumber)(o)?o:1}}},{key:"getAnimateUniforms",value:function(){var i=this.layer.getLayerConfig(),a=i.animateOption,o=a===void 0?{enable:!1}:a;return{u_animate:this.animateOption2Array(o),u_time:this.layer.getLayerAnimateTime()}}},{key:"getAttribute",value:function(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),J3)}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:V0t,fragmentShader:H0t,triangulation:J3,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c)});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"animateOption2Array",value:function(i){return[i.enable?0:1,i.speed||1,i.rings||3,0]}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Xe.Attribute,descriptor:{name:"a_Extrude",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(a,o,s,u){var l=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],c=u%4*3;return[l[c],l[c+1],l[c+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a){var o=a.size,s=o===void 0?5:o;return Array.isArray(s)?[s[0]]:[s]}}})}}]),t}(Wr);function j0t(e){var r=W0t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function W0t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Y0t=`
uniform float u_opacity : 1;
uniform vec2 u_offsets;
uniform float u_additive;

uniform float u_stroke_opacity : 1;

uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];

varying vec4 v_color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
varying float v_blur;
varying float v_innerRadius;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  float opacity = styleMappingMat[0][0];
  // Tip: \u7247\u5143\u5230\u4E2D\u5FC3\u70B9\u7684\u8DDD\u79BB 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: \u7247\u5143\u7684\u526A\u5207\u6210\u5706\u5F62
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);


  if(v_innerRadius < 0.99) {
    // \u5F53\u5B58\u5728 stroke \u4E14 stroke > 0.01
    float blurWidth = (1.0 - v_blur)/2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if(fragmengTocenter > v_innerRadius + blurWidth) {
      gl_FragColor = stroke;
    } else if(fragmengTocenter > v_innerRadius - blurWidth){
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      gl_FragColor = mix(v_color, stroke, mixR);
    } else {
      gl_FragColor = v_color;
    }
  } else {
    // \u5F53\u4E0D\u5B58\u5728 stroke \u6216 stroke <= 0.01
    gl_FragColor = v_color;
  }

  gl_FragColor.a *= opacity;

  gl_FragColor = filterColor(gl_FragColor);
  
  if(u_additive > 0.0) {
    gl_FragColor *= circleClipOpacity;
  } else {
    gl_FragColor.a *= circleClipOpacity;
  }

}
`,X0t=`
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute float a_Size;
attribute vec4 a_Color;
varying vec4 v_color;

uniform float u_opacity : 1;
uniform vec2 u_offsets;
uniform float u_stroke_width;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143
varying float v_blur;
varying float v_innerRadius;

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = a_Color;
  v_blur = 1.0 - max(2.0/a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

  vec2 textrueOffsets = vec2(0.0, 0.0);
  if(hasOffsets()) {
    vec2 valueXPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.r = pos2value(valueXPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;

    vec2 valueYPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    textrueOffsets.g = pos2value(valueYPos, columnWidth, rowHeight); // x
    textureOffset += 1.0;
  } else {
    textrueOffsets = u_offsets;
  }

  // cal style mapping
  
  vec2 offset = project_pixel(textrueOffsets);
  
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * vec4(a_Position.xy + offset, a_Position.z, 1.0);
  } else { // else
    vec4 project_pos = project_position(vec4(a_Position, 1.0)) + vec4(a_Size / 2.,-a_Size /2.,0.,0.);
    gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));
  }

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function hb(e){var r=e.coordinates;return{vertices:(0,We.Z)(r),indices:[0],size:r.length}}var $0t=function(e){(0,ze.Z)(t,e);var r=j0t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getDefaultStyle",value:function(){return{blend:"additive"}}},{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.offsets,u=s===void 0?[0,0]:s,l=i.blend,c=i.strokeOpacity,f=c===void 0?1:c,h=i.strokeWidth,v=h===void 0?0:h,p=i.stroke,g=p===void 0?"#fff":p;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,offsets:u})){this.judgeStyleAttributes({opacity:o,offsets:u});var y=this.layer.getEncodedData(),m=this.calDataFrame(this.cellLength,y,this.cellProperties),E=m.data,C=m.width,A=m.height;this.rowCount=A,this.dataTexture=this.cellLength>0&&E.length>0?this.createTexture2D({flipY:!0,data:E,format:J.LUMINANCE,type:J.FLOAT,width:C,height:A}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_additive:l==="additive"?1:0,u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_opacity:(0,Te.isNumber)(o)?o:1,u_offsets:this.isOffsetStatic(u)?u:[0,0],u_stroke_opacity:(0,Te.isNumber)(f)?f:1,u_stroke_width:(0,Te.isNumber)(v)?v:1,u_stroke_color:this.getStrokeColor(g)}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,this.layer.triangulation=hb,v.next=4,this.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:X0t,fragmentShader:Y0t,triangulation:hb,depth:{enable:!1},primitive:J.POINTS,blend:this.getBlend(),stencil:nn(u,c)});case 4:return f=v.sent,v.abrupt("return",[f]);case 6:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a){var o=a.size,s=o===void 0?1:o;return Array.isArray(s)?[s[0]]:[s]}}})}}]),t}(Wr);function q0t(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=K0t(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function K0t(e,r){if(e){if(typeof e=="string")return vb(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vb(e,r)}}function vb(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var Q0t=function(){function e(r,t,n){(0,ge.Z)(this,e),(0,S.Z)(this,"boxCells",[]);var i=this.boxCells;this.xCellCount=Math.ceil(r/n),this.yCellCount=Math.ceil(t/n);for(var a=0;a<this.xCellCount*this.yCellCount;a++)i.push([]);this.boxKeys=[],this.bboxes=[],this.width=r,this.height=t,this.xScale=this.xCellCount/r,this.yScale=this.yCellCount/t,this.boxUid=0}return(0,ye.Z)(e,[{key:"insert",value:function(t,n,i,a,o){this.forEachCell(n,i,a,o,this.insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(a),this.bboxes.push(o)}},{key:"query",value:function(t,n,i,a,o){return this.queryHitTest(t,n,i,a,!1,o)}},{key:"hitTest",value:function(t,n,i,a,o){return this.queryHitTest(t,n,i,a,!0,o)}},{key:"insertBoxCell",value:function(t,n,i,a,o,s){this.boxCells[o].push(s)}},{key:"queryHitTest",value:function(t,n,i,a,o,s){if(i<0||t>this.width||a<0||n>this.height)return o?!1:[];var u=[];if(t<=0&&n<=0&&this.width<=i&&this.height<=a){if(o)return!0;for(var l=0;l<this.boxKeys.length;l++)u.push({key:this.boxKeys[l],x1:this.bboxes[l*4],y1:this.bboxes[l*4+1],x2:this.bboxes[l*4+2],y2:this.bboxes[l*4+3]});return s?u.filter(s):u}var c={hitTest:o,seenUids:{box:{},circle:{}}};return this.forEachCell(t,n,i,a,this.queryCell,u,c,s),o?u.length>0:u}},{key:"queryCell",value:function(t,n,i,a,o,s,u,l){var c=u.seenUids,f=this.boxCells[o];if(f!==null){var h=this.bboxes,v=q0t(f),p;try{for(v.s();!(p=v.n()).done;){var g=p.value;if(!c.box[g]){c.box[g]=!0;var y=g*4;if(t<=h[y+2]&&n<=h[y+3]&&i>=h[y+0]&&a>=h[y+1]&&(!l||l(this.boxKeys[g]))){if(u.hitTest)return s.push(!0),!0;s.push({key:this.boxKeys[g],x1:h[y],y1:h[y+1],x2:h[y+2],y2:h[y+3]})}}}}catch(m){v.e(m)}finally{v.f()}}return!1}},{key:"forEachCell",value:function(t,n,i,a,o,s,u,l){for(var c=this.convertToXCellCoord(t),f=this.convertToYCellCoord(n),h=this.convertToXCellCoord(i),v=this.convertToYCellCoord(a),p=c;p<=h;p++)for(var g=f;g<=v;g++){var y=this.xCellCount*g+p;if(o.call(this,t,n,i,a,y,s,u,l))return}}},{key:"convertToXCellCoord",value:function(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}},{key:"convertToYCellCoord",value:function(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}}]),e}(),J0t=Q0t,tst=function(){function e(r,t){(0,ge.Z)(this,e),(0,S.Z)(this,"viewportPadding",100),this.width=r,this.height=t,this.viewportPadding=Math.max(r,t),this.grid=new J0t(r+this.viewportPadding,t+this.viewportPadding,25),this.screenRightBoundary=r+this.viewportPadding,this.screenBottomBoundary=t+this.viewportPadding,this.gridRightBoundary=r+2*this.viewportPadding,this.gridBottomBoundary=t+2*this.viewportPadding}return(0,ye.Z)(e,[{key:"placeCollisionBox",value:function(t){var n=t.x1+t.anchorPointX+this.viewportPadding,i=t.y1+t.anchorPointY+this.viewportPadding,a=t.x2+t.anchorPointX+this.viewportPadding,o=t.y2+t.anchorPointY+this.viewportPadding;return!this.isInsideGrid(n,i,a,o)||this.grid.hitTest(n,i,a,o)?{box:[]}:{box:[n,i,a,o]}}},{key:"insertCollisionBox",value:function(t,n){var i={featureIndex:n};this.grid.insert(i,t[0],t[1],t[2],t[3])}},{key:"project",value:function(t,n,i){var a=vet(n,i,0,1),o=O_(),s=f_.apply(ct,(0,We.Z)(t));return D8(o,a,s),{x:(o[0]/o[3]+1)/2*this.width+this.viewportPadding,y:(-o[1]/o[3]+1)/2*this.height+this.viewportPadding}}},{key:"isInsideGrid",value:function(t,n,i,a){return i>=0&&t<this.gridRightBoundary&&a>=0&&n<this.gridBottomBoundary}}]),e}();function pb(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=est(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function est(e,r){if(e){if(typeof e=="string")return db(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return db(e,r)}}function db(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function gb(e){var r=.5,t=.5;switch(e){case"right":case"top-right":case"bottom-right":r=1;break;case"left":case"top-left":case"bottom-left":r=0;break;default:r=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":t=1;break;case"top":case"top-right":case"top-left":t=0;break;default:t=.5}return{horizontalAlign:r,verticalAlign:t}}function yb(e,r,t,n,i){if(i){var a=e[n],o=a.glyph;if(o)for(var s=r[o].advance*a.scale,u=(e[n].x+s)*i,l=t;l<=n;l++)e[l].x-=u}}function mb(e,r,t,n,i,a,o){var s=(r-t)*i,u=(-n*o+.5)*a,l=pb(e),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;f.x+=s,f.y+=u}}catch(h){l.e(h)}finally{l.f()}}function rst(e,r,t,n,i,a,o){var s=-8,u=0,l=s,c=0,f=e.positionedGlyphs,h=a==="right"?1:a==="left"?0:.5,v=f.length;t.forEach(function(E){if(E.split("").forEach(function(A){var M=r[A],Z=0;M&&(f.push({glyph:A,x:u,y:l+Z,vertical:!1,scale:1,metrics:M}),u+=M.advance+o)}),f.length!==v){var C=u-o;c=Math.max(C,c),yb(f,r,v,f.length-1,h)}u=0,l-=n+5});var p=gb(i),g=p.horizontalAlign,y=p.verticalAlign;mb(f,h,g,y,c,n,t.length);var m=l-s;e.top+=-y*m,e.bottom=e.top-m,e.left+=-g*c,e.right=e.left+c}function nst(e,r,t,n,i,a,o){var s=-8,u=0,l=s,c=0,f=e.positionedGlyphs,h=a==="right"?1:a==="left"?0:.5,v=f.length;t.forEach(function(E){var C=r[E],A=0;if(C&&(f.push({glyph:E,x:C.advance/2,y:l+A,vertical:!1,scale:1,metrics:C}),u+=C.advance+o),f.length!==v){var M=u-o;c=Math.max(M,c),yb(f,r,v,f.length-1,h)}u=0,l-=n+5});var p=gb(i),g=p.horizontalAlign,y=p.verticalAlign;mb(f,h,g,y,c,n,t.length);var m=l-s;e.top+=-y*m,e.bottom=e.top-m,e.left+=-g*c,e.right=e.left+c}function ist(e,r,t,n,i,a){var o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:[0,0],s=arguments.length>7?arguments[7]:void 0,u=e.split(`
`),l=[],c={positionedGlyphs:l,top:o[1],bottom:o[1],left:o[0],right:o[0],lineCount:u.length,text:e};return s?nst(c,r,u,t,n,i,a):rst(c,r,u,t,n,i,a),l.length?c:!1}function ast(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0],t=arguments.length>2?arguments[2]:void 0,n=e.positionedGlyphs,i=n===void 0?[]:n,a=[],o=pb(i),s;try{for(o.s();!(s=o.n()).done;){var u=s.value,l=u.metrics,c=4,f=l.advance*u.scale/2,h=t?[u.x+f,u.y]:[0,0],v=t?[0,0]:[u.x+f+r[0],u.y+r[1]],p=(0-c)*u.scale-f+v[0],g=(0-c)*u.scale+v[1],y=p+l.width*u.scale,m=g+l.height*u.scale,E={x:p,y:g},C={x:y,y:g},A={x:p,y:m},M={x:y,y:m};a.push({tl:E,tr:C,bl:A,br:M,tex:l,glyphOffset:h})}}catch(Z){o.e(Z)}finally{o.f()}return a}function ost(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=sst(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function sst(e,r){if(e){if(typeof e=="string")return xb(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return xb(e,r)}}function xb(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ust(e){var r=lst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function lst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var _b=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0
uniform sampler2D u_sdf_map;
uniform float u_gamma_scale : 0.5;
// uniform float u_font_size : 24.0;
uniform float u_opacity : 1.0;
uniform vec4 u_stroke_color : [0, 0, 0, 1];
uniform float u_stroke_width : 2.0;
uniform float u_halo_blur : 0.5;
uniform float u_DevicePixelRatio;

varying vec4 v_color;
varying vec2 v_uv;
varying float v_gamma_scale;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
void main() {
  // get style data mapping
  float opacity = styleMappingMat[0][0];
  float strokeWidth = styleMappingMat[0][2];
  vec4 textrueStroke = vec4(
    styleMappingMat[1][0],
    styleMappingMat[1][1],
    styleMappingMat[1][2],
    styleMappingMat[1][3]
  );

  // get sdf from atlas
  float dist = texture2D(u_sdf_map, v_uv).a;

  // float fontScale = u_font_size / FONT_SIZE;

  // lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  lowp float buff = (6.0 - strokeWidth / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);
  // gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), vec4(u_stroke_color.rgb, u_stroke_color.a * u_opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * opacity), vec4(textrueStroke.rgb, textrueStroke.a * opacity), smoothstep(0., 0.5, 1. - dist));
  gl_FragColor.a= gl_FragColor.a * alpha;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Eb=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0
attribute vec3 a_Position;
attribute vec2 a_tex;
attribute vec2 a_textOffsets;
attribute vec4 a_Color;
attribute float a_Size;
attribute float a_Rotate;

uniform vec2 u_sdf_map_size;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_raisingHeight: 0.0;

varying vec2 v_uv;
varying float v_gamma_scale;
varying vec4 v_color;
varying float v_fontScale;

varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

uniform float u_opacity : 1;
uniform float u_stroke_width : 2;
uniform vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"
#pragma include "styleMappingCalStrokeWidth"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
   styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;

   vec2 strokeWidthAndOffset = calStrokeWidthAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][2] = strokeWidthAndOffset.r;
  textureOffset = strokeWidthAndOffset.g;

  vec4 textrueStroke = vec4(-1.0, -1.0, -1.0, -1.0);
  if(hasStroke()) {
    vec2 valueRPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][0] = pos2value(valueRPos, columnWidth, rowHeight); // R
    textureOffset += 1.0;

    vec2 valueGPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][1] = pos2value(valueGPos, columnWidth, rowHeight); // G
    textureOffset += 1.0;

    vec2 valueBPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][2] = pos2value(valueBPos, columnWidth, rowHeight); // B
    textureOffset += 1.0;

    vec2 valueAPos = nextPos(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset);
    styleMappingMat[1][3] = pos2value(valueAPos, columnWidth, rowHeight); // A
    textureOffset += 1.0;
  } else {
    if(u_stroke_color == vec4(0.0)) {
      styleMappingMat[1][0] = v_color.r;
      styleMappingMat[1][1] = v_color.g;
      styleMappingMat[1][2] = v_color.b;
      styleMappingMat[1][3] = v_color.a;
    } else {
      styleMappingMat[1][0] = u_stroke_color.r;
      styleMappingMat[1][1] = u_stroke_color.g;
      styleMappingMat[1][2] = u_stroke_color.b;
      styleMappingMat[1][3] = u_stroke_color.a;
    }
  }
  
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  v_uv = a_tex / u_sdf_map_size;

  // \u6587\u672C\u7F29\u653E\u6BD4\u4F8B
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  highp float angle_sin = sin(a_Rotate);
  highp float angle_cos = cos(a_Rotate);
  mat2 rotation_matrix = mat2(angle_cos, -1.0 * angle_sin, angle_sin, angle_cos);
  
  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
   projected_position  = u_Mvp *(vec4(a_Position.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));
  } else { // else
   projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));
  }

  gl_Position = vec4(
    projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`;function Cb(e){var r=this,t=e.id,n=[],i=[];if(!r.glyphInfoMap||!r.glyphInfoMap[t])return{vertices:[],indices:[],size:7};var a=r.glyphInfoMap[t].centroid,o=a.length===2?[a[0],a[1],0]:a;return r.glyphInfoMap[t].glyphQuads.forEach(function(s,u){n.push.apply(n,(0,We.Z)(o).concat([s.tex.x,s.tex.y+s.tex.height,s.tl.x,s.tl.y],(0,We.Z)(o),[s.tex.x+s.tex.width,s.tex.y+s.tex.height,s.tr.x,s.tr.y],(0,We.Z)(o),[s.tex.x+s.tex.width,s.tex.y,s.br.x,s.br.y],(0,We.Z)(o),[s.tex.x,s.tex.y,s.bl.x,s.bl.y])),i.push(0+u*4,1+u*4,2+u*4,2+u*4,3+u*4,0+u*4)}),{vertices:n,indices:i,size:7}}var Sb=function(e){(0,ze.Z)(t,e);var r=ust(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"glyphInfoMap",{}),(0,S.Z)((0,Qt.Z)(n),"currentZoom",-1),(0,S.Z)((0,Qt.Z)(n),"textureHeight",0),(0,S.Z)((0,Qt.Z)(n),"textCount",0),(0,S.Z)((0,Qt.Z)(n),"preTextStyle",{}),(0,S.Z)((0,Qt.Z)(n),"mapping",(0,xe.Z)(zt().mark(function s(){return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n.initGlyph(),n.updateTexture(),l.next=4,n.reBuildModel();case 4:case"end":return l.stop()}},s)}))),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.stroke,u=s===void 0?"#fff":s,l=i.strokeWidth,c=l===void 0?0:l,f=i.halo,h=f===void 0?.5:f,v=i.gamma,p=v===void 0?2:v,g=i.raisingHeight,y=g===void 0?0:g,m=this.fontService,E=m.canvas,C=m.mapping;if(C&&Object.keys(C).length!==this.textCount&&E&&(this.updateTexture(),this.textCount=Object.keys(C).length),this.preTextStyle=this.getTextStyle(),this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o,strokeWidth:c,stroke:u})){this.judgeStyleAttributes({opacity:o,strokeWidth:c,stroke:u});var A=this.layer.getEncodedData(),M=this.calDataFrame(this.cellLength,A,this.cellProperties),Z=M.data,Y=M.width,st=M.height;this.rowCount=st,this.dataTexture=this.cellLength>0&&Z.length>0?this.createTexture2D({flipY:!0,data:Z,format:J.LUMINANCE,type:J.FLOAT,width:Y,height:st}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(y),u_opacity:(0,Te.isNumber)(o)?o:1,u_stroke_width:(0,Te.isNumber)(c)?c:1,u_stroke_color:this.getStrokeColor(u),u_sdf_map:this.texture,u_halo_blur:h,u_gamma_scale:p,u_sdf_map_size:[(E==null?void 0:E.width)||1,(E==null?void 0:E.height)||1]}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.bindEvent(),this.extent=this.textExtent(),this.preTextStyle=this.getTextStyle(),s.abrupt("return",this.buildModels());case 4:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v;return zt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=o.textAllowOverlap,h=f===void 0?!1:f,this.initGlyph(),this.updateTexture(),h||this.filterGlyphs(),g.next=6,this.layer.buildLayerModel({moduleName:"pointText",vertexShader:Eb,fragmentShader:_b,triangulation:Cb.bind(this),depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c)});case 6:return v=g.sent,g.abrupt("return",[v]);case 8:case"end":return g.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"needUpdate",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m;return zt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(o=this.getTextStyle(),s=o.textAllowOverlap,u=s===void 0?!1:s,l=o.textAnchor,c=l===void 0?"center":l,f=o.textOffset,h=o.padding,v=o.fontFamily,p=o.fontWeight,!(!(0,Te.isEqual)(h,this.preTextStyle.padding)||!(0,Te.isEqual)(f,this.preTextStyle.textOffset)||!(0,Te.isEqual)(c,this.preTextStyle.textAnchor)||!(0,Te.isEqual)(v,this.preTextStyle.fontFamily)||!(0,Te.isEqual)(p,this.preTextStyle.fontWeight))){C.next=5;break}return C.next=4,this.mapping();case 4:return C.abrupt("return",!0);case 5:if(!u){C.next=7;break}return C.abrupt("return",!1);case 7:if(g=this.mapService.getZoom(),y=this.mapService.getBounds(),m=p8(this.extent,y),!(Math.abs(this.currentZoom-g)>.5||!m||u!==this.preTextStyle.textAllowOverlap)){C.next=14;break}return C.next=13,this.reBuildModel();case 13:return C.abrupt("return",!0);case 14:return C.abrupt("return",!1);case 15:case"end":return C.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.dataTexture)===null||a===void 0||a.destroy(),this.layer.off("remapping",this.mapping)}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"rotate",type:Xe.Attribute,descriptor:{name:"a_Rotate",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a){var o=a.rotate,s=o===void 0?0:o;return Array.isArray(s)?[s[0]]:[s]}}}),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Xe.Attribute,descriptor:{name:"a_textOffsets",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[5],s[6]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(a){var o=a.size,s=o===void 0?12:o;return Array.isArray(s)?[s[0]]:[s]}}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Xe.Attribute,descriptor:{name:"a_tex",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[3],s[4]]}}})}},{key:"bindEvent",value:function(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}},{key:"textExtent",value:function(){var i=this.mapService.getBounds();return Ou(i,.5)}},{key:"initTextFont",value:function(){var i=this.getTextStyle(),a=i.fontWeight,o=i.fontFamily,s=this.layer.getEncodedData(),u=[];s.forEach(function(l){var c=l.shape,f=c===void 0?"":c;f=f.toString();var h=ost(f),v;try{for(h.s();!(v=h.n()).done;){var p=v.value;u.indexOf(p)===-1&&u.push(p)}}catch(g){h.e(g)}finally{h.f()}}),this.fontService.setFontOptions({characterSet:u,fontWeight:a,fontFamily:o,iconfont:!1})}},{key:"initIconFontTex",value:function(){var i=this.getTextStyle(),a=i.fontWeight,o=i.fontFamily,s=this.layer.getEncodedData(),u=[];s.forEach(function(l){var c=l.shape,f=c===void 0?"":c;f="".concat(f),u.indexOf(f)===-1&&u.push(f)}),this.fontService.setFontOptions({characterSet:u,fontWeight:a,fontFamily:o,iconfont:!0})}},{key:"getTextStyle",value:function(){var i=this.layer.getLayerConfig(),a=i.fontWeight,o=a===void 0?"400":a,s=i.fontFamily,u=s===void 0?"sans-serif":s,l=i.textAllowOverlap,c=l===void 0?!1:l,f=i.padding,h=f===void 0?[0,0]:f,v=i.textAnchor,p=v===void 0?"center":v,g=i.textOffset,y=g===void 0?[0,0]:g,m=i.opacity,E=m===void 0?1:m,C=i.strokeOpacity,A=C===void 0?1:C,M=i.strokeWidth,Z=M===void 0?0:M,Y=i.stroke,st=Y===void 0?"#000":Y;return{fontWeight:o,fontFamily:u,textAllowOverlap:c,padding:h,textAnchor:p,textOffset:y,opacity:E,strokeOpacity:A,strokeWidth:Z,stroke:st}}},{key:"generateGlyphLayout",value:function(i){var a=this,o=this.fontService.mapping,s=this.layer.getLayerConfig(),u=s.spacing,l=u===void 0?2:u,c=s.textAnchor,f=c===void 0?"center":c,h=s.textOffset,v=this.layer.getEncodedData();this.glyphInfo=v.map(function(p){var g=p.shape,y=g===void 0?"":g,m=p.id,E=p.size,C=E===void 0?1:E,A=ist(y.toString(),o,C,f,"left",l,h||p.textOffset||[0,0],i),M=ast(A,h,!1);return p.shaping=A,p.glyphQuads=M,p.centroid=eo(p.coordinates),p.originCentroid=p.version==="GAODE2.x"?eo(p.originCoordinates):p.originCentroid=p.centroid,a.glyphInfoMap[m]={shaping:A,glyphQuads:M,centroid:eo(p.coordinates)},p})}},{key:"filterGlyphs",value:function(){var i=this,a=this.layer.getLayerConfig(),o=a.padding,s=o===void 0?[0,0]:o,u=a.textAllowOverlap,l=u===void 0?!1:u;if(!l){this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();var c=this.rendererService.getViewportSize(),f=c.width,h=c.height,v=new tst(f,h),p=this.glyphInfo.filter(function(g){var y=g.shaping,m=g.id,E=m===void 0?0:m,C=g.version==="GAODE2.x"?g.originCentroid:g.centroid,A=g.size,M=A/16,Z=i.mapService.lngLatToContainer(C),Y=v.placeCollisionBox({x1:y.left*M-s[0],x2:y.right*M+s[0],y1:y.top*M-s[1],y2:y.bottom*M+s[1],anchorPointX:Z.x,anchorPointY:Z.y}),st=Y.box;return st&&st.length?(v.insertCollisionBox(st,E),!0):!1});p.forEach(function(g){i.glyphInfoMap[g.id]=g})}}},{key:"initGlyph",value:function(){var i=this.layer.getLayerConfig(),a=i.iconfont,o=a===void 0?!1:a;o?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(o)}},{key:"updateTexture",value:function(){var i=this.rendererService.createTexture2D,a=this.fontService.canvas;this.textureHeight=a.height,this.texture&&this.texture.destroy(),this.texture=i({data:a,mag:J.LINEAR,min:J.LINEAR,width:a.width,height:a.height})}},{key:"reBuildModel",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,this.filterGlyphs(),v.next=4,this.layer.buildLayerModel({moduleName:"pointText",vertexShader:Eb,fragmentShader:_b,triangulation:Cb.bind(this),depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c)});case 4:f=v.sent,this.layer.models=[f];case 6:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()}]),t}(Wr),cst={fillImage:O0t,fill:ub,radar:G0t,image:lb,normal:fb,simplePoint:$0t,extrude:ob,text:Sb,earthFill:x0t,earthExtrude:p0t},fst=cst;function hst(e,r){var t=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=vst(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,o=!1,s;return{s:function(){t=t.call(e)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(o)throw s}}}}function vst(e,r){if(e){if(typeof e=="string")return bb(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bb(e,r)}}function bb(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function pst(e){var r=dst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function dst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var nc=function(e){(0,ze.Z)(t,e);var r=pst(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","PointLayer"),(0,S.Z)((0,Qt.Z)(n),"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}}),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel&&this.layerModel.clearModels(),this.layerModel=new fst[o](this),u.next=5,this.initLayerModels();case 5:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"rebuildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.buildModels();case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getModelTypeWillEmptyData",value:function(){if(this.shapeOption){var i=this.shapeOption,a=i.field,o=i.values,s=this.getLayerConfig(),u=s.shape2d,l=this.iconService.getIconMap();if(a&&(u==null?void 0:u.indexOf(a))!==-1)return"fill";if(o==="text")return"text";if(o&&o instanceof Array){var c=hst(o),f;try{for(c.s();!(f=c.n()).done;){var h=f.value;if(typeof h=="string"&&l.hasOwnProperty(h))return"image"}}catch(v){c.e(v)}finally{c.f()}}}return"normal"}},{key:"getDefaultConfig",value:function(){var i=this.getModelType(),a={fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}};return a[i]}},{key:"getModelType",value:function(){var i=this.getEncodedData(),a=this.getLayerConfig(),o=a.shape2d,s=a.shape3d,u=this.iconService.getIconMap(),l=i.find(function(f){return f.hasOwnProperty("shape")});if(l){var c=l.shape;return c==="dot"?"normal":c==="simple"?"simplePoint":c==="radar"?"radar":this.layerType==="fillImage"?"fillImage":(o==null?void 0:o.indexOf(c))!==-1?this.mapService.version==="GLOBEL"?"earthFill":"fill":(s==null?void 0:s.indexOf(c))!==-1?this.mapService.version==="GLOBEL"?"earthExtrude":"extrude":u.hasOwnProperty(c)?"image":"text"}else return this.getModelTypeWillEmptyData()}}]),t}(V0);function gst(e){var r=yst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function yst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var mst=`uniform float u_opacity: 1.0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;
uniform float u_linearColor: 0;

uniform float u_topsurface: 1.0;
uniform float u_sidesurface: 1.0;

varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];  
  float isSide = styleMappingMat[0][3];
  float sidey = styleMappingMat[3][0];
  float lightWeight = styleMappingMat[3][1];

  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }

    if(u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      gl_FragColor = linearColor;
    } else {
      gl_FragColor = v_Color;
    }

  } else {
     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    gl_FragColor = v_Color;
  }

  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,xst=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
attribute vec3 a_uvs;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
uniform float u_raisingHeight: 0.0;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - isSide
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // sidey
  );
  styleMappingMat[0][3] = a_Position.z;
  styleMappingMat[3][0] = a_uvs[2];

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  if(u_heightfixed > 0.0) { // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  // project_pos.z += 500000.0; // amap1

  // project_pos.z += (500000.0 * 4.0)/pow(2.0, 21.0 - u_Zoom); // mapbox
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  styleMappingMat[3][1] = lightWeight;

  setPickingColor(a_PickingColor);
}
`,_st=`uniform sampler2D u_texture;
uniform float u_opacity: 1.0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;
uniform float u_linearColor: 0;

uniform float u_topsurface: 1.0;
uniform float u_sidesurface: 1.0;

varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float isSide = styleMappingMat[0][3];
  float lightWeight = styleMappingMat[3][1];
  float topU = styleMappingMat[2][2];
  float topV = styleMappingMat[2][3];

  float sidey = styleMappingMat[3][0];
  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }

    if(u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      gl_FragColor = linearColor;
    } else {
      gl_FragColor = v_Color;
    }
  } else {

     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    gl_FragColor = texture2D(u_texture, vec2(topU, topV));
  }
  

  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Est=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
attribute vec3 a_uvs;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
uniform float u_raisingHeight: 0.0;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  v_Color = a_Color;

  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - a_Position.z(judge side by a_Position.z)
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1] - u - v
    0.0, 0.0, 0.0, 0.0  // sidey
  );
  
  styleMappingMat[0][3] = a_Position.z;
  styleMappingMat[2][2] = a_uvs[0];
  styleMappingMat[2][3] = 1.0 - a_uvs[1];
  styleMappingMat[3][0] = a_uvs[2];


  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  if(u_heightfixed > 0.0) { // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  // project_pos.z += 500000.0; // amap1

  // project_pos.z += (500000.0 * 4.0)/pow(2.0, 21.0 - u_Zoom); // mapbox
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  styleMappingMat[3][1] = lightWeight;

  setPickingColor(a_PickingColor);
}
`,Cst=`uniform float u_opacity: 1.0;
uniform vec4 u_sourceColor;
uniform vec4 u_targetColor;
uniform float u_linearColor: 0;

uniform float u_topsurface: 1.0;
uniform float u_sidesurface: 1.0;

varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E
#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  float isSide = styleMappingMat[0][3];
  float sidey = styleMappingMat[3][0];
  float lightWeight = styleMappingMat[3][1];

  // Tip: \u90E8\u5206\u673A\u578B GPU \u8BA1\u7B97\u7CBE\u5EA6\u517C\u5BB9
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }
    
    if( u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      gl_FragColor = linearColor;
    } else {
      // side notuse linear
       gl_FragColor = v_Color;
    }
  } else {
    // top face
    if(u_topsurface < 1.0) {
      discard;
    }
    gl_FragColor = v_Color;
  }

  gl_FragColor.a *= opacity;
  gl_FragColor = filterColorAlpha(gl_FragColor, lightWeight);
}
`,Sst=`precision highp float;

#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

attribute vec4 a_Color;
attribute vec3 a_Position;
attribute vec3 a_Normal;
attribute float a_Size;
attribute vec3 a_uvs;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
uniform float u_heightfixed: 0.0; // \u9ED8\u8BA4\u4E0D\u56FA\u5B9A
uniform float u_raisingHeight: 0.0;
uniform float u_opacity: 1.0;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - isSide
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0  // sidey
  );
  styleMappingMat[0][3] = a_Position.z;
  styleMappingMat[3][0] = a_uvs[2];

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos);

  if(u_heightfixed > 0.0) { // \u5224\u65AD\u51E0\u4F55\u4F53\u662F\u5426\u56FA\u5B9A\u9AD8\u5EA6
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    // gl_Position = u_Mvp * (vec4(project_pos.xyz * vec3(1.0, 1.0, -1.0), 1.0));
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  float lightWeight = calc_lighting(pos);
  // v_Color = a_Color;
  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  styleMappingMat[3][1] = lightWeight;

  setPickingColor(a_PickingColor);
}
`,bst=function(e){(0,ze.Z)(t,e);var r=gst(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.heightfixed,u=s===void 0?!1:s,l=i.raisingHeight,c=l===void 0?0:l,f=i.topsurface,h=f===void 0?!0:f,v=i.sidesurface,p=v===void 0?!0:v,g=i.sourceColor,y=i.targetColor;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:o})){this.judgeStyleAttributes({opacity:o});var m=this.layer.getEncodedData(),E=this.calDataFrame(this.cellLength,m,this.cellProperties),C=E.data,A=E.width,M=E.height;this.rowCount=M,this.dataTexture=this.cellLength>0&&C.length>0?this.createTexture2D({flipY:!0,data:C,format:J.LUMINANCE,type:J.FLOAT,width:A,height:M}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}var Z=0,Y=[1,1,1,1],st=[1,1,1,1];return g&&y&&(Y=Dr(g),st=Dr(y),Z=1),{u_topsurface:Number(h),u_sidesurface:Number(p),u_heightfixed:Number(u),u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(c),u_opacity:(0,Te.isNumber)(o)?o:1,u_linearColor:Z,u_sourceColor:Y,u_targetColor:st,u_texture:this.texture}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loadTexture(),s.abrupt("return",this.buildModels());case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g;return zt().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=this.getShaders(),h=f.frag,v=f.vert,p=f.type,m.next=4,this.layer.buildLayerModel({moduleName:p,vertexShader:v,fragmentShader:h,triangulation:Kot,stencil:nn(u,c)});case 4:return g=m.sent,m.abrupt("return",[g]);case 6:case"end":return m.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getShaders",value:function(){var i=this.layer.getLayerConfig(),a=i.pickLight,o=i.mapTexture;return o?{frag:_st,vert:Est,type:"polygonExtrudeTexture"}:a?{frag:Cst,vert:Sst,type:"polygonExtrudePickLight"}:{frag:mst,vert:xst,type:"polygonExtrude"}}},{key:"clearModels",value:function(){var i,a;(i=this.dataTexture)===null||i===void 0||i.destroy(),(a=this.texture)===null||a===void 0||a.destroy()}},{key:"registerBuiltinAttributes",value:function(){var i=this.layer.getSource().extent,a=(0,nr.Z)(i,4),o=a[0],s=a[1],u=a[2],l=a[3],c=u-o,f=l-s;this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Xe.Attribute,descriptor:{name:"a_uvs",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(v,p,g){var y=g[0],m=g[1];return[(y-o)/c,(m-s)/f,g[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Xe.Attribute,descriptor:{name:"a_Normal",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(v,p,g,y,m){return m}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Xe.Attribute,descriptor:{name:"a_Size",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(v){var p=v.size,g=p===void 0?10:p;return Array.isArray(g)?[g[0]]:[g]}}})}},{key:"loadTexture",value:function(){var i=this,a=this.layer.getLayerConfig(),o=a.mapTexture,s=this.rendererService.createTexture2D;if(this.texture=s({height:0,width:0}),o){var u=new Image;u.crossOrigin="",u.src=o,u.onload=function(){i.texture=s({data:u,width:u.width,height:u.height,wrapS:J.CLAMP_TO_EDGE,wrapT:J.CLAMP_TO_EDGE,min:J.LINEAR,mag:J.LINEAR}),i.layerService.reRender()}}}}]),t}(Wr);function Ast(e){var r=Mst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Mst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Tst=`uniform float u_opacity: 1.0;
varying vec4 v_color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"

void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_color;
  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,wst=`uniform float u_opacity: 1.0;
varying vec4 v_Color;
varying mat4 styleMappingMat; // \u4F20\u9012\u4ECE\u7247\u5143\u4E2D\u4F20\u9012\u7684\u6620\u5C04\u6570\u636E

#pragma include "picking"
uniform float u_opacitylinear: 0.0;
uniform float u_dir: 1.0;
varying vec3 v_linear;
varying vec2 v_pos;


void main() {
  float opacity = styleMappingMat[0][0];
  gl_FragColor = v_Color;
  
  if(u_opacitylinear > 0.0) {
    gl_FragColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;
  }

  gl_FragColor.a *= opacity;
  gl_FragColor = filterColor(gl_FragColor);
}
`,Fst=`attribute vec4 a_Color;
attribute vec3 a_Position;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
uniform float u_opacity: 1.0;
uniform float u_raisingHeight: 0.0;

varying vec4 v_Color;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

uniform float u_opacitylinear: 0.0;

attribute vec3 a_linear;
varying vec3 v_linear;
varying vec2 v_pos;

void main() {
  if(u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_Color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  project_pos.z += u_raisingHeight;

  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  setPickingColor(a_PickingColor);
}`,kst=`attribute vec4 a_Color;
attribute vec3 a_Position;

uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

uniform float u_opacity: 1.0;
uniform float u_raisingHeight: 0.0;

varying vec4 v_color;
varying mat4 styleMappingMat; // \u7528\u4E8E\u5C06\u5728\u9876\u70B9\u7740\u8272\u5668\u4E2D\u8BA1\u7B97\u597D\u7684\u6837\u5F0F\u503C\u4F20\u9012\u7ED9\u7247\u5143

#pragma include "styleMapping"
#pragma include "styleMappingCalOpacity"

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97
styleMappingMat = mat4(
    0.0, 0.0, 0.0, 0.0, // opacity - strokeOpacity - strokeWidth - empty
    0.0, 0.0, 0.0, 0.0, // strokeR - strokeG - strokeB - strokeA
    0.0, 0.0, 0.0, 0.0, // offsets[0] - offsets[1]
    0.0, 0.0, 0.0, 0.0
  );

  float rowCount = u_cellTypeLayout[0][0];    // \u5F53\u524D\u7684\u6570\u636E\u7EB9\u7406\u6709\u51E0\u884C
  float columnCount = u_cellTypeLayout[0][1]; // \u5F53\u770B\u5230\u6570\u636E\u7EB9\u7406\u6709\u51E0\u5217
  float columnWidth = 1.0/columnCount;  // \u5217\u5BBD
  float rowHeight = 1.0/rowCount;       // \u884C\u9AD8
  float cellCount = calCellCount(); // opacity - strokeOpacity - strokeWidth - stroke - offsets
  float id = a_vertexId; // \u7B2Cn\u4E2A\u9876\u70B9
  float cellCurrentRow = floor(id * cellCount / columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u884C
  float cellCurrentColumn = mod(id * cellCount, columnCount) + 1.0; // \u8D77\u59CB\u70B9\u5728\u7B2C\u51E0\u5217
  
  // cell \u56FA\u5B9A\u987A\u5E8F opacity -> strokeOpacity -> strokeWidth -> stroke ... 
  // \u6309\u987A\u5E8F\u4ECE cell \u4E2D\u53D6\u503C\u3001\u82E5\u6CA1\u6709\u5219\u81EA\u52A8\u5F80\u4E0B\u53D6\u503C
  float textureOffset = 0.0; // \u5728 cell \u4E2D\u53D6\u503C\u7684\u504F\u79FB\u91CF

  vec2 opacityAndOffset = calOpacityAndOffset(cellCurrentRow, cellCurrentColumn, columnCount, textureOffset, columnWidth, rowHeight);
  styleMappingMat[0][0] = opacityAndOffset.r;
  textureOffset = opacityAndOffset.g;
  // cal style mapping - \u6570\u636E\u7EB9\u7406\u6620\u5C04\u90E8\u5206\u7684\u8BA1\u7B97

  v_color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  project_pos.z += u_raisingHeight;

  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }

  setPickingColor(a_PickingColor);
}

`,Ost=function(e){(0,ze.Z)(t,e);var r=Ast(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.raisingHeight,o=a===void 0?0:a,s=i.opacity,u=s===void 0?1:s,l=i.opacityLinear,c=l===void 0?{enable:!1,dir:"in"}:l;if(this.dataTextureTest&&this.dataTextureNeedUpdate({opacity:u})){this.judgeStyleAttributes({opacity:u});var f=this.layer.getEncodedData(),h=this.calDataFrame(this.cellLength,f,this.cellProperties),v=h.data,p=h.width,g=h.height;this.rowCount=g,this.dataTexture=this.cellLength>0&&v.length>0?this.createTexture2D({flipY:!0,data:v,format:J.LUMINANCE,type:J.FLOAT,width:p,height:g}):this.createTexture2D({flipY:!0,data:[1],format:J.LUMINANCE,type:J.FLOAT,width:1,height:1})}return{u_dataTexture:this.dataTexture,u_cellTypeLayout:this.getCellTypeLayout(),u_raisingHeight:Number(o),u_opacity:(0,Te.isNumber)(u)?u:1,u_opacitylinear:Number(c.enable),u_dir:c.dir==="in"?1:0}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E,C;return zt().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return o=this.getModelParams(),s=o.frag,u=o.vert,l=o.triangulation,c=o.type,f=this.layer.getLayerConfig(),h=f.mask,v=h===void 0?!1:h,p=f.maskInside,g=p===void 0?!0:p,y=f.workerEnabled,m=y===void 0?!1:y,E=f.enablePicking,this.layer.triangulation=l,M.next=5,this.layer.buildLayerModel({moduleName:c,vertexShader:u,fragmentShader:s,triangulation:l,primitive:J.TRIANGLES,depth:{enable:!1},blend:this.getBlend(),stencil:nn(v,g),workerEnabled:m,workerOptions:{modelType:c,enablePicking:E}});case 5:return C=M.sent,M.abrupt("return",[C]);case 7:case"end":return M.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.dataTexture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){var i=this.layer.getLayerConfig(),a=i.opacityLinear,o=a===void 0?{enable:!1,dir:"in"}:a;o.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Xe.Attribute,descriptor:{name:"a_linear",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:3,update:function(u,l,c){return[c[3],c[4],c[5]]}}})}},{key:"getModelParams",value:function(){var i=this.layer.getLayerConfig(),a=i.opacityLinear,o=a===void 0?{enable:!1}:a;return o.enable?{frag:wst,vert:Fst,type:"polygonLinear",triangulation:$ot}:{frag:Tst,vert:kst,type:"polygonFill",triangulation:jx}}}]),t}(Wr);function Lst(e){var r=Ist();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Ist(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Pst=`
uniform float u_time: 0.0;
uniform float u_opacity: 1.0;

varying vec2 v_uv;

float coast2water_fadedepth = 0.10;
float large_waveheight      = .750; // change to adjust the "heavy" waves
float large_wavesize        = 3.4;  // factor to adjust the large wave size
float small_waveheight      = 0.6;  // change to adjust the small random waves
float small_wavesize        = 0.5;   // factor to ajust the small wave size
float water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact= 120.; // range [1..200]
float particle_amount       = 70.;
// vec3 watercolor             = vec3(0.43, 0.60, 0.66); // 'transparent' low-water color (RGB)
// vec3 watercolor2            = vec3(0.06, 0.07, 0.11); // deep-water color (RGB, should be darker than the low-water color)
uniform vec4 u_watercolor;
uniform vec4 u_watercolor2;
vec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights
#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

  

float hash( float n ) {
    return fract(sin(n)*43758.5453123);
}

// 2d noise function
float noise1( in vec2 x ) {
  vec2 p  = floor(x);
  vec2 f  = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y*57.0;
  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),
    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);
}

float noise(vec2 p) {
    return texture2D(u_texture2,p*vec2(1./256.)).x;
}

vec4 highness(vec2 p) {
    vec4 t = texture2D(u_texture1,fract(p));
    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;
    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);
}

float height_map( vec2 p ) {
    vec4 height=highness(p);
    /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );
    //p = p*6.;
    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;
    f += 0.2500*noise( p ); p = m*p*1.32;
    f += 0.1666*noise( p ); p = m*p*1.11;
    f += 0.0834*noise( p ); p = m*p*1.12;
    f += 0.0634*noise( p ); p = m*p*1.13;
    f += 0.0444*noise( p ); p = m*p*1.14;
    f += 0.0274*noise( p ); p = m*p*1.15;
    f += 0.0134*noise( p ); p = m*p*1.16;
    f += 0.0104*noise( p ); p = m*p*1.17;
    f += 0.0084*noise( p );
    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;
        const float FLAT_LEVEL = 0.92525;
        //f = f*0.25+height*0.75;
    if (f<FLAT_LEVEL)
        f = f;
    else
        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase
    return clamp(f, 0., 10.);
}

vec3 plasma_quintic( float x ) {
    x = clamp( x, 0.0, 1.0);
    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3
    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
    return vec3(
        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),
        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),
        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );
}

vec4 color(vec2 p){
    vec4 c1 = vec4(1.7,1.6,.9,1);
    vec4 c2 = vec4(.2,.94,.1,1);
    vec4 c3 = vec4(.3,.2,.0,1);
    vec4 c4 = vec4(.99,.99,1.6,1);
    vec4 v = highness(p);
    float los = smoothstep(0.1,1.1,v.b);
    float his = smoothstep(3.5,6.5,v.b);
    float ces = smoothstep(1.,5.,v.a);
    vec4 lo = mix(c1,c2,los);
    vec4 hi = mix(c3,c4,his);
    vec4 ce = mix(lo,hi,ces);

    return vec4(plasma_quintic(ces),1).ragb;
}

vec3 terrain_map( vec2 p )
{
  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture2D(u_texture3, fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );

float water_map( vec2 p, float height ) {
    vec2 p2 = p*large_wavesize;
    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );
    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );

    // coarse crossing 'ocean' waves...
    float f = 0.6000*noise( p );
    f += 0.2500*noise( p*m );
    f += 0.1666*noise( p*m*m );
    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;

    p *= small_wavesize;
    f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<9; i++)
    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }
    
    return wave+f*small_waveheight;
}

float nautic(vec2 p) {
    p *= 18.;
    float f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }
    return pow(1.-f, 5.);
}

float particles(vec2 p) {
    p *= 200.;
    float f = 0.;
    float amp = 1.0, s = 1.5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }
    return pow(f*.35, 7.)*particle_amount;
}

float test_shadow( vec2 xy, float height) {
    vec3 r0 = vec3(xy, height);
    vec3 rd = normalize( light - r0 );
    
    float hit = 1.0;
    float t   = 0.001;
    for (int j=1; j<25; j++)
    {
        vec3 p = r0 + t*rd;
        float h = height_map( p.xy );
        float height_diff = p.z - h;
        if (height_diff<0.0)
        {
            return 0.0;
        }
        t += 0.01+height_diff*.02;
        hit = min(hit, 2.*height_diff/t); // soft shaddow   
    }
    return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
    vec3 col = terrain_map( uv );
    vec2 iResolution = vec2(512.);
    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);
    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);
    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);
    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);
    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));
    vec3 r0 = vec3(uv, height);
    vec3 rd = normalize( light - r0 );
    float grad = dot(norm, rd);
    col *= grad+pow(grad, 8.);
    float terrainshade = test_shadow( uv, height );
    col = mix(col*.25, col, terrainshade);
    return col;
}


void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;
  float height = height_map( uv );
  vec3 col;

    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);
    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);
    if (height > level)
    {
        col = CalcTerrain(uv, height);
    }
    if (height <= level)
    {
        vec2 dif = vec2(.0, .01);
        vec2 pos = uv*15. + vec2(u_time*.01);
        float h1 = water_map(pos-dif,waveheight);
        float h2 = water_map(pos+dif,waveheight);
        float h3 = water_map(pos-dif.yx,waveheight);
        float h4 = water_map(pos+dif.yx,waveheight);
        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane
        uv += normwater.xy*.002*(level-height);
        
        col = CalcTerrain(uv, height);

        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);
        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);
        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;
        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));

        vec3 r0 = vec3(uv, WATER_LEVEL);
        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position
        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction
        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          
        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights
        float gradpos  = dot(vec3(0., 0., 1.), rd);
        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          
        float watershade  = test_shadow( uv, level );
        watercolor *= 2.2+watershade;
        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;
        watercolor /= (1.+specular1*1.25);
        watercolor += watershade*specular2*water_specularcolor;
        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));
        
        col = mix(col, watercolor, coastfade);
    }
    

  float opacity = u_opacity;
  gl_FragColor = vec4(col, opacity);  
}
`,Rst=`attribute vec2 a_uv;
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec2 v_uv;

#pragma include "projection"

void main() {
  v_uv = a_uv;

  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }
}

`,Dst=function(e){(0,ze.Z)(t,e);var r=Lst(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.watercolor,u=s===void 0?"#6D99A8":s,l=i.watercolor2,c=l===void 0?"#0F121C":l;return{u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3,u_watercolor:Dr(u),u_watercolor2:Dr(c),u_opacity:(0,Te.isNumber)(o)?o:1}}},{key:"getAnimateUniforms",value:function(){return{u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loadTexture(),s.abrupt("return",this.buildModels());case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:Rst,fragmentShader:Pst,triangulation:B9,primitive:J.TRIANGLES,depth:{enable:!1},stencil:nn(u,c)});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a,o;(i=this.texture1)===null||i===void 0||i.destroy(),(a=this.texture2)===null||a===void 0||a.destroy(),(o=this.texture3)===null||o===void 0||o.destroy()}},{key:"registerBuiltinAttributes",value:function(){var i=this.layer.getSource().extent,a=(0,nr.Z)(i,4),o=a[0],s=a[1],u=a[2],l=a[3],c=u-o,f=l-s;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Xe.Attribute,descriptor:{name:"a_uv",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(v,p,g,y){var m=v.version===Dn["GAODE2.x"]?v.originCoordinates[0][y]:g,E=(0,nr.Z)(m,2),C=E[0],A=E[1];return[(C-o)/c,(A-s)/f]}}})}},{key:"loadTexture",value:function(){var i=this,a=this.rendererService.createTexture2D,o={height:0,width:0};this.texture1=a(o),this.texture2=a(o),this.texture3=a(o),s(function(l){i.texture1=u(l[0]),i.texture2=u(l[1]),i.texture3=u(l[2]),i.layerService.reRender()});function s(l){var c=0,f=[],h=["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"];h.map(function(v){var p=new Image;p.crossOrigin="",p.src=v,f.push(p),p.onload=function(){c++,c===3&&l(f)}})}function u(l){return a({data:l,width:l.width,height:l.height,wrapS:J.MIRRORED_REPEAT,wrapT:J.MIRRORED_REPEAT,min:J.LINEAR,mag:J.LINEAR})}}}]),t}(Wr);function Bst(e){var r=Nst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Nst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Zst=`uniform sampler2D u_texture;
uniform float u_time: 0.0;
uniform float u_speed: 1.0;
uniform float u_opacity: 1.0;

varying vec4 v_Color;
varying vec2 v_uv;

float rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.; p.x += t * 2.;
  vec3 c1 = texture2D(u_texture, p.xz / 30.).xyz;
  p.z += t * 3.; p.x += t * 0.52;
  vec3 c2 = texture2D(u_texture, p.xz / 30.).xyz;
  p.z += t * 4.; p.x += t * 0.8;
  vec3 c3 = texture2D(u_texture, p.xz / 30.).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.;
  return p.y + z / 4.;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return  d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = .1;
  return normalize(vec3(
    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
  ));
} 

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0,1,0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {
  float opacity = u_opacity;
  gl_FragColor = v_Color;
  gl_FragColor.a *= opacity;

  float spc = calSpc();
  gl_FragColor += spc * 0.4;
}
`,zst=`attribute vec4 a_Color;
attribute vec2 a_uv;
attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

varying vec4 v_Color;
varying vec2 v_uv;
uniform float u_opacity: 1.0;


#pragma include "projection"

void main() {
  v_uv = a_uv;

  v_Color = a_Color;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }
}

`,Ust=function(e){(0,ze.Z)(t,e);var r=Bst(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.speed,u=s===void 0?.5:s;return{u_texture:this.texture,u_speed:u,u_opacity:(0,Te.isNumber)(o)?o:1}}},{key:"getAnimateUniforms",value:function(){return{u_time:this.layer.getLayerAnimateTime()}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return this.loadTexture(),s.abrupt("return",this.buildModels());case 2:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,v.next=3,this.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:zst,fragmentShader:Zst,triangulation:B9,primitive:J.TRIANGLES,depth:{enable:!1},stencil:nn(u,c)});case 3:return f=v.sent,v.abrupt("return",[f]);case 5:case"end":return v.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.texture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){var i=this.layer.getSource().extent,a=(0,nr.Z)(i,4),o=a[0],s=a[1],u=a[2],l=a[3],c=u-o,f=l-s;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Xe.Attribute,descriptor:{name:"a_uv",buffer:{usage:J.STATIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(v,p,g,y){var m=v.version===Dn["GAODE2.x"]?v.originCoordinates[0][y]:g,E=(0,nr.Z)(m,2),C=E[0],A=E[1];return[(C-o)/c,(A-s)/f]}}})}},{key:"loadTexture",value:function(){var i=this,a=this.layer.getLayerConfig(),o=a.waterTexture,s=this.rendererService.createTexture2D;this.texture=s({height:0,width:0});var u=new Image;u.crossOrigin="",o?(console.warn("L7 recommend\uFF1Ahttps://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),u.src=o):u.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",u.onload=function(){i.texture=s({data:u,width:u.width,height:u.height,wrapS:J.MIRRORED_REPEAT,wrapT:J.MIRRORED_REPEAT,min:J.LINEAR,mag:J.LINEAR}),i.layerService.reRender()}}}]),t}(Wr),Hst={fill:Ost,line:ib,extrude:bst,text:Sb,point_fill:ub,point_image:lb,point_normal:fb,point_extrude:ob,water:Ust,ocean:Dst},Vst=Hst;function Gst(e){var r=jst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function jst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var z9=function(e){(0,ze.Z)(t,e);var r=Gst(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","PolygonLayer"),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel=new Vst[o](this),u.next=4,this.initLayerModels();case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getModelType",value:function(){var i,a=this.styleAttributeService.getLayerStyleAttribute("shape"),o=a==null||(i=a.scale)===null||i===void 0?void 0:i.field;return o==="fill"?"fill":o==="extrude"?"extrude":o==="water"?"water":o==="ocean"?"ocean":o==="line"?"line":this.getPointModelType()}},{key:"getPointModelType",value:function(){var i=this.getEncodedData(),a=this.getLayerConfig(),o=a.shape2d,s=a.shape3d,u=this.iconService.getIconMap(),l=i.find(function(f){return f.hasOwnProperty("shape")});if(l){var c=l.shape;return c==="dot"?"point_normal":(o==null?void 0:o.indexOf(c))!==-1?"point_fill":(s==null?void 0:s.indexOf(c))!==-1?"point_extrude":u.hasOwnProperty(c)?"point_image":"text"}else return"fill"}}]),t}(V0);function Wst(e){var r=Yst();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Yst(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Xst=`uniform float u_opacity : 1.0;
uniform vec4 u_color;

void main() {
  gl_FragColor = u_color;
  gl_FragColor.a *= u_opacity;
}
`,$st=`attribute vec3 a_Position;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
    gl_Position = u_Mvp * (vec4(project_pos.xyz, 1.0));
  } else {
    gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  }
}

`,qst=function(e){(0,ze.Z)(t,e);var r=Wst(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?0:a,s=i.color,u=s===void 0?"#000":s;return{u_opacity:(0,Te.isNumber)(o)?o:0,u_color:Dr(u)}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.buildModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.layer.buildLayerModel({moduleName:"mask",vertexShader:$st,fragmentShader:Xst,triangulation:B9,depth:{enable:!1},blend:this.getBlend(),stencil:{enable:!0,mask:255,func:{cmp:J.ALWAYS,ref:1,mask:255},opFront:{fail:J.REPLACE,zfail:J.REPLACE,zpass:J.REPLACE}},pick:!1});case 2:return o=u.sent,u.abrupt("return",[o]);case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;i&&this.layerService.clear()}},{key:"registerBuiltinAttributes",value:function(){return""}}]),t}(Wr),Kst={fill:qst},Qst=Kst;function Jst(e){var r=tut();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function tut(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var U9=function(e){(0,ze.Z)(t,e);var r=Jst(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","MaskLayer"),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel=new Qst[o](this),u.next=4,this.initLayerModels();case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getModelType",value:function(){return"fill"}}]),t}(V0),Ab,Mb,Tb,wb,ic,Fb,kb,eut=(Ab=(0,Ze.b2)(),Mb=(0,Ze.f3)(ve.IMapService),Tb=(0,Ze.f3)(ve.IFontService),Ab(wb=(ic=function(){function e(){(0,ge.Z)(this,e),dr(this,"mapService",Fb,this),dr(this,"fontService",kb,this)}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=this,a=n.styleAttributeService;t.hooks.init.tapPromise("DataMappingPlugin",(0,xe.Z)(zt().mark(function o(){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:t.log(pn.MappingStart,dn.INIT),i.generateMaping(t,{styleAttributeService:a}),t.log(pn.MappingEnd,dn.INIT);case 3:case"end":return u.stop()}},o)}))),t.hooks.beforeRenderData.tapPromise("DataMappingPlugin",function(){var o=(0,xe.Z)(zt().mark(function s(u){var l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(u){f.next=2;break}return f.abrupt("return",u);case 2:return t.dataState.dataMappingNeedUpdate=!1,t.log(pn.MappingStart,dn.UPDATE),l=i.generateMaping(t,{styleAttributeService:a}),t.log(pn.MappingEnd,dn.UPDATE),f.abrupt("return",l);case 7:case"end":return f.stop()}},s)}));return function(s){return o.apply(this,arguments)}}()),t.hooks.beforeRender.tap("DataMappingPlugin",function(){var o=t.getSource();if(!(t.layerModelNeedUpdate||!o||!o.inited)){var s=a.getLayerStyleAttributes()||[],u=a.getLayerStyleAttribute("filter"),l=o.data.dataArray;if(!(Array.isArray(l)&&l.length===0)){var c=s.filter(function(v){return v.needRemapping}),f=l;if(u!=null&&u.needRemapping&&u!==null&&u!==void 0&&u.scale&&(f=l.filter(function(v){return i.applyAttributeMapping(u,v)[0]})),c.length){var h=i.mapping(t,c,f,t.getEncodedData());t.setEncodedData(h)}}}})}},{key:"generateMaping",value:function(t,n){var i=this,a=n.styleAttributeService,o=a.getLayerStyleAttributes()||[],s=a.getLayerStyleAttribute("filter"),u=t.getSource().data.dataArray,l=u;s!=null&&s.scale&&(l=u.filter(function(f){return i.applyAttributeMapping(s,f)[0]})),l=t.processData(l);var c=this.mapping(t,o,l,void 0);return t.setEncodedData(c),u.length===0&&t.encodeDataLength===0?!1:(t.emit("dataUpdate",null),!0)}},{key:"mapping",value:function(t,n,i,a){var o=this,s=t.getLayerConfig(),u=s.arrow,l=u===void 0?{enable:!1}:u,c=n.filter(function(h){return h.scale!==void 0}).filter(function(h){return h.name!=="filter"}),f=i.map(function(h,v){var p=a?a[v]:{},g=(0,H.Z)({id:h._id,coordinates:h.coordinates},p);if(c.forEach(function(E){var C=o.applyAttributeMapping(E,h);E.name==="color"&&(C=C.map(function(A){return Dr(A)})),g[E.name]=Array.isArray(C)&&C.length===1?C[0]:C,E.name==="shape"&&(g.shape=o.fontService.getIconFontKey(g[E.name]))}),l.enable&&(g.shape==="line"||g.shape==="halfLine")){var y=g.coordinates;if(t.arrowInsertCount<t.encodeDataLength){var m=o.getArrowPoints(y[0],y[1]);g.coordinates.splice(1,0,m,m),t.arrowInsertCount++}}return g});return n.forEach(function(h){h.needRemapping=!1}),this.adjustData2Amap2Coordinates(f,t),this.adjustData2SimpleCoordinates(f),f}},{key:"adjustData2Amap2Coordinates",value:function(t,n){var i=this;if(t.length>0&&this.mapService.version===Dn["GAODE2.x"]){var a=n.coordCenter||n.getSource().center;typeof t[0].coordinates[0]=="number"?t.filter(function(o){return!o.originCoordinates}).map(function(o){o.version=Dn["GAODE2.x"],o.originCoordinates=(0,Te.cloneDeep)(o.coordinates),o.coordinates=i.mapService.lngLatToCoordByLayer(o.coordinates,a)}):t.filter(function(o){return!o.originCoordinates}).map(function(o){o.version=Dn["GAODE2.x"],o.originCoordinates=(0,Te.cloneDeep)(o.coordinates),o.coordinates=i.mapService.lngLatToCoordsByLayer(o.coordinates,a)})}}},{key:"adjustData2SimpleCoordinates",value:function(t){var n=this;t.length>0&&this.mapService.version===Dn.SIMPLE&&t.map(function(i){i.simpleCoordinate||(i.coordinates=n.unProjectCoordinates(i.coordinates),i.simpleCoordinate=!0)})}},{key:"unProjectCoordinates",value:function(t){var n=this;if(typeof t[0]=="number")return this.mapService.simpleMapCoord.unproject(t);if(t[0]&&t[0][0]instanceof Array){var i=[];return t.map(function(o){var s=[];o.map(function(u){s.push(n.mapService.simpleMapCoord.unproject(u))}),i.push(s)}),i}else{var a=[];return t.map(function(o){a.push(n.mapService.simpleMapCoord.unproject(o))}),a}}},{key:"applyAttributeMapping",value:function(t,n){var i;if(!t.scale)return[];var a=(t==null||(i=t.scale)===null||i===void 0?void 0:i.scalers)||[],o=[];a.forEach(function(u){var l,c=u.field;(n.hasOwnProperty(c)||((l=t.scale)===null||l===void 0?void 0:l.type)==="variable")&&o.push(n[c])});var s=t.mapping?t.mapping(o):[];return s}},{key:"getArrowPoints",value:function(t,n){var i=[n[0]-t[0],n[1]-t[1]],a=gx(i),o=[t[0]+a[0]*1e-4,t[1]+a[1]*1e-4];return o}}]),e}(),Fb=vr(ic.prototype,"mapService",[Mb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kb=vr(ic.prototype,"fontService",[Tb],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ic))||wb),Ob,Lb,rut=(Ob=(0,Ze.b2)(),Ob(Lb=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t){var n=this;this.mapService=t.getContainer().get(ve.IMapService),t.hooks.init.tapPromise("DataSourcePlugin",(0,xe.Z)(zt().mark(function i(){var a,o,s,u;return zt().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(t.log(pn.SourceInitStart,dn.INIT),a=t.getSource(),a||(o=t.sourceOption||t.defaultSourceConfig,s=o.data,u=o.options,a=new Ju(s,u),t.setSource(a)),!a.inited){c.next=8;break}n.updateClusterData(t),t.log(pn.SourceInitEnd,dn.INIT),c.next=10;break;case 8:return c.next=10,new Promise(function(f){a.on("update",function(h){h.type==="inited"&&(n.updateClusterData(t),t.log(pn.SourceInitEnd,dn.INIT)),f(null)})});case 10:case"end":return c.stop()}},i)}))),t.hooks.beforeRenderData.tapPromise("DataSourcePlugin",(0,xe.Z)(zt().mark(function i(){var a,o,s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=n.updateClusterData(t),o=t.dataState.dataSourceNeedUpdate,t.dataState.dataSourceNeedUpdate=!1,s=a||o,l.abrupt("return",s);case 5:case"end":return l.stop()}},i)})))}},{key:"updateClusterData",value:function(t){if(t.isTileLayer||t.tileLayer||!t.getSource())return!1;var n=t.getSource(),i=n.cluster,a=n.clusterOptions.zoom,o=a===void 0?0:a,s=this.mapService.getZoom()-1,u=t.dataState.dataSourceNeedUpdate;return i&&u&&n.updateClusterData(Math.floor(s)),i&&Math.abs(t.clusterZoom-s)>=1?(o!==Math.floor(s)&&n.updateClusterData(Math.floor(s)),t.clusterZoom=s,!0):!1}}]),e}())||Lb);function H9(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Ib(e){return e.length===1&&(e=nut(e)),{left:function(r,t,n,i){for(n==null&&(n=0),i==null&&(i=r.length);n<i;){var a=n+i>>>1;e(r[a],t)<0?n=a+1:i=a}return n},right:function(r,t,n,i){for(n==null&&(n=0),i==null&&(i=r.length);n<i;){var a=n+i>>>1;e(r[a],t)>0?i=a:n=a+1}return n}}}function nut(e){return function(r,t){return H9(e(r),t)}}var Pb=Ib(H9),iut=Pb.right,Avt=Pb.left,ac=iut;function Rb(e,r){var t=e.length,n=-1,i,a,o;if(r==null){for(;++n<t;)if((i=e[n])!=null&&i>=i)for(a=o=i;++n<t;)(i=e[n])!=null&&(a>i&&(a=i),o<i&&(o=i))}else for(;++n<t;)if((i=r(e[n],n,e))!=null&&i>=i)for(a=o=i;++n<t;)(i=r(e[n],n,e))!=null&&(a>i&&(a=i),o<i&&(o=i));return[a,o]}var Db=Array.prototype,Mvt=Db.slice,Tvt=Db.map,V9=Math.sqrt(50),G9=Math.sqrt(10),j9=Math.sqrt(2);function Bb(e,r,t){var n,i=-1,a,o,s;if(r=+r,e=+e,t=+t,e===r&&t>0)return[e];if((n=r<e)&&(a=e,e=r,r=a),(s=oc(e,r,t))===0||!isFinite(s))return[];if(s>0)for(e=Math.ceil(e/s),r=Math.floor(r/s),o=new Array(a=Math.ceil(r-e+1));++i<a;)o[i]=(e+i)*s;else for(e=Math.floor(e*s),r=Math.ceil(r*s),o=new Array(a=Math.ceil(e-r+1));++i<a;)o[i]=(e-i)/s;return n&&o.reverse(),o}function oc(e,r,t){var n=(r-e)/Math.max(0,t),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=V9?10:a>=G9?5:a>=j9?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=V9?10:a>=G9?5:a>=j9?2:1)}function W9(e,r,t){var n=Math.abs(r-e)/Math.max(0,t),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=V9?i*=10:a>=G9?i*=5:a>=j9&&(i*=2),r<e?-i:i}function wvt(){var e=identity,r=extent,t=sturges;function n(i){var a,o=i.length,s,u=new Array(o);for(a=0;a<o;++a)u[a]=e(i[a],a,i);var l=r(u),c=l[0],f=l[1],h=t(u,c,f);Array.isArray(h)||(h=tickStep(c,f,h),h=range(Math.ceil(c/h)*h,f,h));for(var v=h.length;h[0]<=c;)h.shift(),--v;for(;h[v-1]>f;)h.pop(),--v;var p=new Array(v+1),g;for(a=0;a<=v;++a)g=p[a]=[],g.x0=a>0?h[a-1]:c,g.x1=a<v?h[a]:f;for(a=0;a<o;++a)s=u[a],c<=s&&s<=f&&p[bisect(h,s,0,v)].push(i[a]);return p}return n.value=function(i){return arguments.length?(e=typeof i=="function"?i:constant(i),n):e},n.domain=function(i){return arguments.length?(r=typeof i=="function"?i:constant([i[0],i[1]]),n):r},n.thresholds=function(i){return arguments.length?(t=typeof i=="function"?i:Array.isArray(i)?constant(slice.call(i)):constant(i),n):t},n}function Fvt(e,r,t){return e=map.call(e,number).sort(ascending),Math.ceil((t-r)/(2*(quantile(e,.75)-quantile(e,.25))*Math.pow(e.length,-1/3)))}function aut(e){return e===null?NaN:+e}function out(e,r,t){if(t==null&&(t=aut),!!(n=e.length)){if((r=+r)<=0||n<2)return+t(e[0],0,e);if(r>=1)return+t(e[n-1],n-1,e);var n,i=(n-1)*r,a=Math.floor(i),o=+t(e[a],a,e),s=+t(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Nb(e,r,t,n,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*r+(4-6*a+3*o)*t+(1+3*e+3*a-3*o)*n+o*i)/6}function sut(e){var r=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,r-1):Math.floor(t*r),i=e[n],a=e[n+1],o=n>0?e[n-1]:2*i-a,s=n<r-1?e[n+2]:2*a-i;return Nb((t-n/r)*r,o,i,a,s)}}function uut(e){var r=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*r),i=e[(n+r-1)%r],a=e[n%r],o=e[(n+1)%r],s=e[(n+2)%r];return Nb((t-n/r)*r,i,a,o,s)}}function Y9(e){return function(){return e}}function Zb(e,r){return function(t){return e+t*r}}function lut(e,r,t){return e=Math.pow(e,t),r=Math.pow(r,t)-e,t=1/t,function(n){return Math.pow(e+n*r,t)}}function kvt(e,r){var t=r-e;return t?Zb(e,t>180||t<-180?t-360*Math.round(t/360):t):constant(isNaN(e)?r:e)}function cut(e){return(e=+e)==1?zb:function(r,t){return t-r?lut(r,t,e):Y9(isNaN(r)?t:r)}}function zb(e,r){var t=r-e;return t?Zb(e,t):Y9(isNaN(e)?r:e)}var Ub=function e(r){var t=cut(r);function n(i,a){var o=t((i=A3(i)).r,(a=A3(a)).r),s=t(i.g,a.g),u=t(i.b,a.b),l=zb(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=u(c),i.opacity=l(c),i+""}}return n.gamma=e,n}(1);function Hb(e){return function(r){var t=r.length,n=new Array(t),i=new Array(t),a=new Array(t),o,s;for(o=0;o<t;++o)s=A3(r[o]),n[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return n=e(n),i=e(i),a=e(a),s.opacity=1,function(u){return s.r=n(u),s.g=i(u),s.b=a(u),s+""}}}var fut=Hb(sut),Ovt=Hb(uut),Qi="$";function sc(){}sc.prototype=Vb.prototype={constructor:sc,has:function(e){return Qi+e in this},get:function(e){return this[Qi+e]},set:function(e,r){return this[Qi+e]=r,this},remove:function(e){var r=Qi+e;return r in this&&delete this[r]},clear:function(){for(var e in this)e[0]===Qi&&delete this[e]},keys:function(){var e=[];for(var r in this)r[0]===Qi&&e.push(r.slice(1));return e},values:function(){var e=[];for(var r in this)r[0]===Qi&&e.push(this[r]);return e},entries:function(){var e=[];for(var r in this)r[0]===Qi&&e.push({key:r.slice(1),value:this[r]});return e},size:function(){var e=0;for(var r in this)r[0]===Qi&&++e;return e},empty:function(){for(var e in this)if(e[0]===Qi)return!1;return!0},each:function(e){for(var r in this)r[0]===Qi&&e(this[r],r.slice(1),this)}};function Vb(e,r){var t=new sc;if(e instanceof sc)e.each(function(s,u){t.set(u,s)});else if(Array.isArray(e)){var n=-1,i=e.length,a;if(r==null)for(;++n<i;)t.set(n,e[n]);else for(;++n<i;)t.set(r(a=e[n],n,e),a)}else if(e)for(var o in e)t.set(o,e[o]);return t}var X9=Vb;function Lvt(){var e=[],r=[],t,n,i;function a(s,u,l,c){if(u>=e.length)return t!=null&&s.sort(t),n!=null?n(s):s;for(var f=-1,h=s.length,v=e[u++],p,g,y=map(),m,E=l();++f<h;)(m=y.get(p=v(g=s[f])+""))?m.push(g):y.set(p,[g]);return y.each(function(C,A){c(E,A,a(C,u,l,c))}),E}function o(s,u){if(++u>e.length)return s;var l,c=r[u-1];return n!=null&&u>=e.length?l=s.entries():(l=[],s.each(function(f,h){l.push({key:h,values:o(f,u)})})),c!=null?l.sort(function(f,h){return c(f.key,h.key)}):l}return i={object:function(s){return a(s,0,hut,vut)},map:function(s){return a(s,0,Gb,jb)},entries:function(s){return o(a(s,0,Gb,jb),0)},key:function(s){return e.push(s),i},sortKeys:function(s){return r[e.length-1]=s,i},sortValues:function(s){return t=s,i},rollup:function(s){return n=s,i}}}function hut(){return{}}function vut(e,r,t){e[r]=t}function Gb(){return map()}function jb(e,r,t){e.set(r,t)}function uc(){}var z1=X9.prototype;uc.prototype=put.prototype={constructor:uc,has:z1.has,add:function(e){return e+="",this[Qi+e]=e,this},remove:z1.remove,clear:z1.clear,values:z1.keys,size:z1.size,empty:z1.empty,each:z1.each};function put(e,r){var t=new uc;if(e instanceof uc)e.each(function(a){t.add(a)});else if(e){var n=-1,i=e.length;if(r==null)for(;++n<i;)t.add(e[n]);else for(;++n<i;)t.add(r(e[n],n,e))}return t}var Ivt=null,Wb=Array.prototype,Yb=Wb.map,U1=Wb.slice;function Wo(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}function Xb(e,r){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(r).domain(e);break}return this}var $b={name:"implicit"};function lc(){var e=X9(),r=[],t=[],n=$b;function i(a){var o=a+"",s=e.get(o);if(!s){if(n!==$b)return n;e.set(o,s=r.push(a))}return t[(s-1)%t.length]}return i.domain=function(a){if(!arguments.length)return r.slice();r=[],e=X9();for(var o=-1,s=a.length,u,l;++o<s;)e.has(l=(u=a[o])+"")||e.set(l,r.push(u));return i},i.range=function(a){return arguments.length?(t=U1.call(a),i):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return lc(r,t).unknown(n)},Wo.apply(i,arguments),i}function qb(){var e=ordinal().unknown(void 0),r=e.domain,t=e.range,n=[0,1],i,a,o=!1,s=0,u=0,l=.5;delete e.unknown;function c(){var f=r().length,h=n[1]<n[0],v=n[h-0],p=n[1-h];i=(p-v)/Math.max(1,f-s+u*2),o&&(i=Math.floor(i)),v+=(p-v-i*(f-s))*l,a=i*(1-s),o&&(v=Math.round(v),a=Math.round(a));var g=sequence(f).map(function(y){return v+i*y});return t(h?g.reverse():g)}return e.domain=function(f){return arguments.length?(r(f),c()):r()},e.range=function(f){return arguments.length?(n=[+f[0],+f[1]],c()):n.slice()},e.rangeRound=function(f){return n=[+f[0],+f[1]],o=!0,c()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,c()):o},e.padding=function(f){return arguments.length?(s=Math.min(1,u=+f),c()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),c()):s},e.paddingOuter=function(f){return arguments.length?(u=+f,c()):u},e.align=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),c()):l},e.copy=function(){return qb(r(),n).round(o).paddingInner(s).paddingOuter(u).align(l)},initRange.apply(c(),arguments)}function Kb(e){var r=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kb(r())},e}function Pvt(){return Kb(qb.apply(null,arguments).paddingInner(1))}function Rvt(e,r){return(isNumberArray(r)?numberArray:Qb)(e,r)}function Qb(e,r){var t=r?r.length:0,n=e?Math.min(t,e.length):0,i=new Array(n),a=new Array(t),o;for(o=0;o<n;++o)i[o]=K9(e[o],r[o]);for(;o<t;++o)a[o]=r[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function dut(e,r){var t=new Date;return e=+e,r=+r,function(n){return t.setTime(e*(1-n)+r*n),t}}function cc(e,r){return e=+e,r=+r,function(t){return e*(1-t)+r*t}}function gut(e,r){var t={},n={},i;(e===null||typeof e!="object")&&(e={}),(r===null||typeof r!="object")&&(r={});for(i in r)i in e?t[i]=K9(e[i],r[i]):n[i]=r[i];return function(a){for(i in t)n[i]=t[i](a);return n}}var $9=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q9=new RegExp($9.source,"g");function yut(e){return function(){return e}}function mut(e){return function(r){return e(r)+""}}function xut(e,r){var t=$9.lastIndex=q9.lastIndex=0,n,i,a,o=-1,s=[],u=[];for(e=e+"",r=r+"";(n=$9.exec(e))&&(i=q9.exec(r));)(a=i.index)>t&&(a=r.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,u.push({i:o,x:cc(n,i)})),t=q9.lastIndex;return t<r.length&&(a=r.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?mut(u[0].x):yut(r):(r=u.length,function(l){for(var c=0,f;c<r;++c)s[(f=u[c]).i]=f.x(l);return s.join("")})}function _ut(e,r){r||(r=[]);var t=e?Math.min(r.length,e.length):0,n=r.slice(),i;return function(a){for(i=0;i<t;++i)n[i]=e[i]*(1-a)+r[i]*a;return n}}function Eut(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function K9(e,r){var t=typeof r,n;return r==null||t==="boolean"?Y9(r):(t==="number"?cc:t==="string"?(n=A1(r))?(r=n,Ub):xut:r instanceof A1?Ub:r instanceof Date?dut:Eut(r)?_ut:Array.isArray(r)?Qb:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?gut:cc)(e,r)}function Cut(e,r){return e=+e,r=+r,function(t){return Math.round(e*(1-t)+r*t)}}function Sut(e){return function(){return e}}function but(e){return+e}var Jb=[0,1];function Gn(e){return e}function Q9(e,r){return(r-=e=+e)?function(t){return(t-e)/r}:Sut(isNaN(r)?NaN:.5)}function tA(e){var r=e[0],t=e[e.length-1],n;return r>t&&(n=r,r=t,t=n),function(i){return Math.max(r,Math.min(t,i))}}function Aut(e,r,t){var n=e[0],i=e[1],a=r[0],o=r[1];return i<n?(n=Q9(i,n),a=t(o,a)):(n=Q9(n,i),a=t(a,o)),function(s){return a(n(s))}}function Mut(e,r,t){var n=Math.min(e.length,r.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),r=r.slice().reverse());++o<n;)i[o]=Q9(e[o],e[o+1]),a[o]=t(r[o],r[o+1]);return function(s){var u=ac(e,s,1,n)-1;return a[u](i[u](s))}}function fc(e,r){return r.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function J9(){var e=Jb,r=Jb,t=K9,n,i,a,o=Gn,s,u,l;function c(){return s=Math.min(e.length,r.length)>2?Mut:Aut,u=l=null,f}function f(h){return isNaN(h=+h)?a:(u||(u=s(e.map(n),r,t)))(n(o(h)))}return f.invert=function(h){return o(i((l||(l=s(r,e.map(n),cc)))(h)))},f.domain=function(h){return arguments.length?(e=Yb.call(h,but),o===Gn||(o=tA(e)),c()):e.slice()},f.range=function(h){return arguments.length?(r=U1.call(h),c()):r.slice()},f.rangeRound=function(h){return r=U1.call(h),t=Cut,c()},f.clamp=function(h){return arguments.length?(o=h?tA(e):Gn,f):o!==Gn},f.interpolate=function(h){return arguments.length?(t=h,c()):t},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,v){return n=h,i=v,c()}}function eA(e,r){return J9()(e,r)}var Tut=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hc(e){if(!(r=Tut.exec(e)))throw new Error("invalid format: "+e);var r;return new t6({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}hc.prototype=t6.prototype;function t6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}t6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wut(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vc(e,r){if((t=(e=r?e.toExponential(r-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function X0(e){return e=vc(Math.abs(e)),e?e[1]:NaN}function Fut(e,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(X0(r)/3)))*3-X0(Math.abs(e)))}function kut(e,r){return function(t,n){for(var i=t.length,a=[],o=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),a.push(t.substring(i-=s,i+s)),!((u+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(r)}}function Out(e){return function(r){return r.replace(/[0-9]/g,function(t){return e[+t]})}}function Lut(e){t:for(var r=e.length,t=1,n=-1,i;t<r;++t)switch(e[t]){case".":n=i=t;break;case"0":n===0&&(n=t),i=t;break;default:if(!+e[t])break t;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var rA;function Iut(e,r){var t=vc(e,r);if(!t)return e+"";var n=t[0],i=t[1],a=i-(rA=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+vc(e,Math.max(0,r+a-1))[0]}function nA(e,r){var t=vc(e,r);if(!t)return e+"";var n=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var iA={"%":function(e,r){return(e*100).toFixed(r)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:wut,e:function(e,r){return e.toExponential(r)},f:function(e,r){return e.toFixed(r)},g:function(e,r){return e.toPrecision(r)},o:function(e){return Math.round(e).toString(8)},p:function(e,r){return nA(e*100,r)},r:nA,s:Iut,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function aA(e){return e}var oA=Array.prototype.map,sA=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Put(e){var r=e.grouping===void 0||e.thousands===void 0?aA:kut(oA.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?aA:Out(oA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"-":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(f){f=hc(f);var h=f.fill,v=f.align,p=f.sign,g=f.symbol,y=f.zero,m=f.width,E=f.comma,C=f.precision,A=f.trim,M=f.type;M==="n"?(E=!0,M="g"):iA[M]||(C===void 0&&(C=12),A=!0,M="g"),(y||h==="0"&&v==="=")&&(y=!0,h="0",v="=");var Z=g==="$"?t:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",Y=g==="$"?n:/[%p]/.test(M)?o:"",st=iA[M],Ct=/[defgprs%]/.test(M);C=C===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Pt(Zt){var ie=Z,ce=Y,_e,Re,he;if(M==="c")ce=st(Zt)+ce,Zt="";else{Zt=+Zt;var Me=Zt<0||1/Zt<0;if(Zt=isNaN(Zt)?u:st(Math.abs(Zt),C),A&&(Zt=Lut(Zt)),Me&&+Zt==0&&p!=="+"&&(Me=!1),ie=(Me?p==="("?p:s:p==="-"||p==="("?"":p)+ie,ce=(M==="s"?sA[8+rA/3]:"")+ce+(Me&&p==="("?")":""),Ct){for(_e=-1,Re=Zt.length;++_e<Re;)if(he=Zt.charCodeAt(_e),48>he||he>57){ce=(he===46?i+Zt.slice(_e+1):Zt.slice(_e))+ce,Zt=Zt.slice(0,_e);break}}}E&&!y&&(Zt=r(Zt,1/0));var De=ie.length+Zt.length+ce.length,Fe=De<m?new Array(m-De+1).join(h):"";switch(E&&y&&(Zt=r(Fe+Zt,Fe.length?m-ce.length:1/0),Fe=""),v){case"<":Zt=ie+Zt+ce+Fe;break;case"=":Zt=ie+Fe+Zt+ce;break;case"^":Zt=Fe.slice(0,De=Fe.length>>1)+ie+Zt+ce+Fe.slice(De);break;default:Zt=Fe+ie+Zt+ce;break}return a(Zt)}return Pt.toString=function(){return f+""},Pt}function c(f,h){var v=l((f=hc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(X0(h)/3)))*3,g=Math.pow(10,-p),y=sA[8+p/3];return function(m){return v(g*m)+y}}return{format:l,formatPrefix:c}}var pc,e6,uA;Rut({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Rut(e){return pc=Put(e),e6=pc.format,uA=pc.formatPrefix,pc}function Dut(e,r){return e=Math.abs(e),r=Math.abs(r)-e,Math.max(0,X0(r)-X0(e))+1}function But(e){return Math.max(0,-X0(Math.abs(e)))}function Nut(e,r,t,n){var i=W9(e,r,t),a;switch(n=hc(n==null?",f":n),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(r));return n.precision==null&&!isNaN(a=Fut(i,o))&&(n.precision=a),uA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Dut(i,Math.max(Math.abs(e),Math.abs(r))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=But(i))&&(n.precision=a-(n.type==="%")*2);break}}return e6(n)}function il(e){var r=e.domain;return e.ticks=function(t){var n=r();return Bb(n[0],n[n.length-1],t==null?10:t)},e.tickFormat=function(t,n){var i=r();return Nut(i[0],i[i.length-1],t==null?10:t,n)},e.nice=function(t){t==null&&(t=10);var n=r(),i=0,a=n.length-1,o=n[i],s=n[a],u;return s<o&&(u=o,o=s,s=u,u=i,i=a,a=u),u=oc(o,s,t),u>0?(o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u,u=oc(o,s,t)):u<0&&(o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u,u=oc(o,s,t)),u>0?(n[i]=Math.floor(o/u)*u,n[a]=Math.ceil(s/u)*u,r(n)):u<0&&(n[i]=Math.ceil(o*u)/u,n[a]=Math.floor(s*u)/u,r(n)),e},e}function lA(){var e=eA(Gn,Gn);return e.copy=function(){return fc(e,lA())},Wo.apply(e,arguments),il(e)}function Zut(e){var r;function t(n){return isNaN(n=+n)?r:n}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=map.call(n,number),t):e.slice()},t.unknown=function(n){return arguments.length?(r=n,t):r},t.copy=function(){return Zut(e).unknown(r)},e=arguments.length?map.call(e,number):[0,1],linearish(t)}function cA(e,r){e=e.slice();var t=0,n=e.length-1,i=e[t],a=e[n],o;return a<i&&(o=t,t=n,n=o,o=i,i=a,a=o),e[t]=r.floor(i),e[n]=r.ceil(a),e}function fA(e){return Math.log(e)}function hA(e){return Math.exp(e)}function zut(e){return-Math.log(-e)}function Uut(e){return-Math.exp(-e)}function Hut(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Vut(e){return e===10?Hut:e===Math.E?Math.exp:function(r){return Math.pow(e,r)}}function Gut(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(r){return Math.log(r)/e})}function vA(e){return function(r){return-e(-r)}}function jut(e){var r=e(fA,hA),t=r.domain,n=10,i,a;function o(){return i=Gut(n),a=Vut(n),t()[0]<0?(i=vA(i),a=vA(a),e(zut,Uut)):e(fA,hA),r}return r.base=function(s){return arguments.length?(n=+s,o()):n},r.domain=function(s){return arguments.length?(t(s),o()):t()},r.ticks=function(s){var u=t(),l=u[0],c=u[u.length-1],f;(f=c<l)&&(h=l,l=c,c=h);var h=i(l),v=i(c),p,g,y,m=s==null?10:+s,E=[];if(!(n%1)&&v-h<m){if(h=Math.round(h)-1,v=Math.round(v)+1,l>0){for(;h<v;++h)for(g=1,p=a(h);g<n;++g)if(y=p*g,!(y<l)){if(y>c)break;E.push(y)}}else for(;h<v;++h)for(g=n-1,p=a(h);g>=1;--g)if(y=p*g,!(y<l)){if(y>c)break;E.push(y)}}else E=Bb(h,v,Math.min(v-h,m)).map(a);return f?E.reverse():E},r.tickFormat=function(s,u){if(u==null&&(u=n===10?".0e":","),typeof u!="function"&&(u=e6(u)),s===1/0)return u;s==null&&(s=10);var l=Math.max(1,n*s/r.ticks().length);return function(c){var f=c/a(Math.round(i(c)));return f*n<n-.5&&(f*=n),f<=l?u(c):""}},r.nice=function(){return t(cA(t(),{floor:function(s){return a(Math.floor(i(s)))},ceil:function(s){return a(Math.ceil(i(s)))}}))},r}function pA(){var e=jut(J9()).domain([1,10]);return e.copy=function(){return fc(e,pA()).base(e.base())},Wo.apply(e,arguments),e}function dA(e){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/e))}}function gA(e){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*e}}function Wut(e){var r=1,t=e(dA(r),gA(r));return t.constant=function(n){return arguments.length?e(dA(r=+n),gA(r)):r},linearish(t)}function Yut(){var e=Wut(transformer());return e.copy=function(){return copy(e,Yut()).constant(e.constant())},initRange.apply(e,arguments)}function yA(e){return function(r){return r<0?-Math.pow(-r,e):Math.pow(r,e)}}function Xut(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $ut(e){return e<0?-e*e:e*e}function qut(e){var r=e(Gn,Gn),t=1;function n(){return t===1?e(Gn,Gn):t===.5?e(Xut,$ut):e(yA(t),yA(1/t))}return r.exponent=function(i){return arguments.length?(t=+i,n()):t},il(r)}function r6(){var e=qut(J9());return e.copy=function(){return fc(e,r6()).exponent(e.exponent())},Wo.apply(e,arguments),e}function Dvt(){return r6.apply(null,arguments).exponent(.5)}function mA(){var e=[],r=[],t=[],n;function i(){var o=0,s=Math.max(1,r.length);for(t=new Array(s-1);++o<s;)t[o-1]=out(e,o/s);return a}function a(o){return isNaN(o=+o)?n:r[ac(t,o)]}return a.invertExtent=function(o){var s=r.indexOf(o);return s<0?[NaN,NaN]:[s>0?t[s-1]:e[0],s<t.length?t[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(var s=0,u=o.length,l;s<u;++s)l=o[s],l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(H9),i()},a.range=function(o){return arguments.length?(r=U1.call(o),i()):r.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return t.slice()},a.copy=function(){return mA().domain(e).range(r).unknown(n)},Wo.apply(a,arguments)}function xA(){var e=0,r=1,t=1,n=[.5],i=[0,1],a;function o(u){return u<=u?i[ac(n,u,0,t)]:a}function s(){var u=-1;for(n=new Array(t);++u<t;)n[u]=((u+1)*r-(u-t)*e)/(t+1);return o}return o.domain=function(u){return arguments.length?(e=+u[0],r=+u[1],s()):[e,r]},o.range=function(u){return arguments.length?(t=(i=U1.call(u)).length-1,s()):i.slice()},o.invertExtent=function(u){var l=i.indexOf(u);return l<0?[NaN,NaN]:l<1?[e,n[0]]:l>=t?[n[t-1],r]:[n[l-1],n[l]]},o.unknown=function(u){return arguments.length&&(a=u),o},o.thresholds=function(){return n.slice()},o.copy=function(){return xA().domain([e,r]).range(i).unknown(a)},Wo.apply(il(o),arguments)}function _A(){var e=[.5],r=[0,1],t,n=1;function i(a){return a<=a?r[ac(e,a,0,n)]:t}return i.domain=function(a){return arguments.length?(e=U1.call(a),n=Math.min(e.length,r.length-1),i):e.slice()},i.range=function(a){return arguments.length?(r=U1.call(a),n=Math.min(e.length,r.length-1),i):r.slice()},i.invertExtent=function(a){var o=r.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(t=a,i):t},i.copy=function(){return _A().domain(e).range(r).unknown(t)},Wo.apply(i,arguments)}var n6=new Date,i6=new Date;function $n(e,r,t,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return e(a=new Date(+a)),a},i.ceil=function(a){return e(a=new Date(a-1)),r(a,1),e(a),a},i.round=function(a){var o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=function(a,o){return r(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,s){var u=[],l;if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return u;do u.push(l=new Date(+a)),r(a,s),e(a);while(l<a&&a<o);return u},i.filter=function(a){return $n(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;r(o,-1),!a(o););else for(;--s>=0;)for(;r(o,1),!a(o););})},t&&(i.count=function(a,o){return n6.setTime(+a),i6.setTime(+o),e(n6),e(i6),Math.floor(t(n6,i6))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?function(o){return n(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var a6=$n(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r)},function(e,r){return r.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});a6.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$n(function(r){r.setFullYear(Math.floor(r.getFullYear()/e)*e),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,t){r.setFullYear(r.getFullYear()+t*e)})};var $0=a6,Bvt=a6.range,EA=$n(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,r){e.setMonth(e.getMonth()+r)},function(e,r){return r.getMonth()-e.getMonth()+(r.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),Kut=EA,Nvt=EA.range,dc=1e3,al=6e4,CA=36e5,SA=864e5,bA=6048e5;function H1(e){return $n(function(r){r.setDate(r.getDate()-(r.getDay()+7-e)%7),r.setHours(0,0,0,0)},function(r,t){r.setDate(r.getDate()+t*7)},function(r,t){return(t-r-(t.getTimezoneOffset()-r.getTimezoneOffset())*al)/bA})}var o6=H1(0),gc=H1(1),Qut=H1(2),Jut=H1(3),q0=H1(4),tlt=H1(5),elt=H1(6),Zvt=o6.range,zvt=gc.range,Uvt=Qut.range,Hvt=Jut.range,Vvt=q0.range,Gvt=tlt.range,jvt=elt.range,AA=$n(function(e){e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*al)/SA},function(e){return e.getDate()-1}),s6=AA,Wvt=AA.range,MA=$n(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc-e.getMinutes()*al)},function(e,r){e.setTime(+e+r*CA)},function(e,r){return(r-e)/CA},function(e){return e.getHours()}),rlt=MA,Yvt=MA.range,TA=$n(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc)},function(e,r){e.setTime(+e+r*al)},function(e,r){return(r-e)/al},function(e){return e.getMinutes()}),nlt=TA,Xvt=TA.range,wA=$n(function(e){e.setTime(e-e.getMilliseconds())},function(e,r){e.setTime(+e+r*dc)},function(e,r){return(r-e)/dc},function(e){return e.getUTCSeconds()}),ilt=wA,$vt=wA.range,yc=$n(function(){},function(e,r){e.setTime(+e+r)},function(e,r){return r-e});yc.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?$n(function(r){r.setTime(Math.floor(r/e)*e)},function(r,t){r.setTime(+r+t*e)},function(r,t){return(t-r)/e}):yc};var alt=yc,qvt=yc.range;function V1(e){return $n(function(r){r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-e)%7),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCDate(r.getUTCDate()+t*7)},function(r,t){return(t-r)/bA})}var FA=V1(0),mc=V1(1),olt=V1(2),slt=V1(3),K0=V1(4),ult=V1(5),llt=V1(6),Kvt=FA.range,Qvt=mc.range,Jvt=olt.range,tpt=slt.range,ept=K0.range,rpt=ult.range,npt=llt.range,kA=$n(function(e){e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r)},function(e,r){return(r-e)/SA},function(e){return e.getUTCDate()-1}),OA=kA,ipt=kA.range,u6=$n(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r)},function(e,r){return r.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});u6.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:$n(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/e)*e),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,t){r.setUTCFullYear(r.getUTCFullYear()+t*e)})};var ol=u6,apt=u6.range;function l6(e){if(0<=e.y&&e.y<100){var r=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return r.setFullYear(e.y),r}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function c6(e){if(0<=e.y&&e.y<100){var r=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return r.setUTCFullYear(e.y),r}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,r,t){return{y:e,m:r,d:t,H:0,M:0,S:0,L:0}}function clt(e){var r=e.dateTime,t=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=ul(i),c=ll(i),f=ul(a),h=ll(a),v=ul(o),p=ll(o),g=ul(s),y=ll(s),m=ul(u),E=ll(u),C={a:Me,A:De,b:Fe,B:Ve,c:null,d:BA,e:BA,f:Ilt,g:Vlt,G:jlt,H:klt,I:Olt,j:Llt,L:NA,m:Plt,M:Rlt,p:tr,q:fr,Q:GA,s:jA,S:Dlt,u:Blt,U:Nlt,V:Zlt,w:zlt,W:Ult,x:null,X:null,y:Hlt,Y:Glt,Z:Wlt,"%":VA},A={a:pr,A:ur,b:yr,B:Mr,c:null,d:zA,e:zA,f:qlt,g:o2t,G:u2t,H:Ylt,I:Xlt,j:$lt,L:UA,m:Klt,M:Qlt,p:an,q:on,Q:GA,s:jA,S:Jlt,u:t2t,U:e2t,V:r2t,w:n2t,W:i2t,x:null,X:null,y:a2t,Y:s2t,Z:l2t,"%":VA},M={a:Pt,A:Zt,b:ie,B:ce,c:_e,d:RA,e:RA,f:Mlt,g:PA,G:IA,H:DA,I:DA,j:Clt,L:Alt,m:Elt,M:Slt,p:Ct,q:_lt,Q:wlt,s:Flt,S:blt,u:dlt,U:glt,V:ylt,w:plt,W:mlt,x:Re,X:he,y:PA,Y:IA,Z:xlt,"%":Tlt};C.x=Z(t,C),C.X=Z(n,C),C.c=Z(r,C),A.x=Z(t,A),A.X=Z(n,A),A.c=Z(r,A);function Z(qe,xr){return function(Cr){var He=[],gn=-1,Gr=0,qn=qe.length,Kn,Da,fs;for(Cr instanceof Date||(Cr=new Date(+Cr));++gn<qn;)qe.charCodeAt(gn)===37&&(He.push(qe.slice(Gr,gn)),(Da=LA[Kn=qe.charAt(++gn)])!=null?Kn=qe.charAt(++gn):Da=Kn==="e"?" ":"0",(fs=xr[Kn])&&(Kn=fs(Cr,Da)),He.push(Kn),Gr=gn+1);return He.push(qe.slice(Gr,gn)),He.join("")}}function Y(qe,xr){return function(Cr){var He=sl(1900,void 0,1),gn=st(He,qe,Cr+="",0),Gr,qn;if(gn!=Cr.length)return null;if("Q"in He)return new Date(He.Q);if("s"in He)return new Date(He.s*1e3+("L"in He?He.L:0));if(xr&&!("Z"in He)&&(He.Z=0),"p"in He&&(He.H=He.H%12+He.p*12),He.m===void 0&&(He.m="q"in He?He.q:0),"V"in He){if(He.V<1||He.V>53)return null;"w"in He||(He.w=1),"Z"in He?(Gr=c6(sl(He.y,0,1)),qn=Gr.getUTCDay(),Gr=qn>4||qn===0?mc.ceil(Gr):mc(Gr),Gr=OA.offset(Gr,(He.V-1)*7),He.y=Gr.getUTCFullYear(),He.m=Gr.getUTCMonth(),He.d=Gr.getUTCDate()+(He.w+6)%7):(Gr=l6(sl(He.y,0,1)),qn=Gr.getDay(),Gr=qn>4||qn===0?gc.ceil(Gr):gc(Gr),Gr=s6.offset(Gr,(He.V-1)*7),He.y=Gr.getFullYear(),He.m=Gr.getMonth(),He.d=Gr.getDate()+(He.w+6)%7)}else("W"in He||"U"in He)&&("w"in He||(He.w="u"in He?He.u%7:"W"in He?1:0),qn="Z"in He?c6(sl(He.y,0,1)).getUTCDay():l6(sl(He.y,0,1)).getDay(),He.m=0,He.d="W"in He?(He.w+6)%7+He.W*7-(qn+5)%7:He.w+He.U*7-(qn+6)%7);return"Z"in He?(He.H+=He.Z/100|0,He.M+=He.Z%100,c6(He)):l6(He)}}function st(qe,xr,Cr,He){for(var gn=0,Gr=xr.length,qn=Cr.length,Kn,Da;gn<Gr;){if(He>=qn)return-1;if(Kn=xr.charCodeAt(gn++),Kn===37){if(Kn=xr.charAt(gn++),Da=M[Kn in LA?xr.charAt(gn++):Kn],!Da||(He=Da(qe,Cr,He))<0)return-1}else if(Kn!=Cr.charCodeAt(He++))return-1}return He}function Ct(qe,xr,Cr){var He=l.exec(xr.slice(Cr));return He?(qe.p=c[He[0].toLowerCase()],Cr+He[0].length):-1}function Pt(qe,xr,Cr){var He=v.exec(xr.slice(Cr));return He?(qe.w=p[He[0].toLowerCase()],Cr+He[0].length):-1}function Zt(qe,xr,Cr){var He=f.exec(xr.slice(Cr));return He?(qe.w=h[He[0].toLowerCase()],Cr+He[0].length):-1}function ie(qe,xr,Cr){var He=m.exec(xr.slice(Cr));return He?(qe.m=E[He[0].toLowerCase()],Cr+He[0].length):-1}function ce(qe,xr,Cr){var He=g.exec(xr.slice(Cr));return He?(qe.m=y[He[0].toLowerCase()],Cr+He[0].length):-1}function _e(qe,xr,Cr){return st(qe,r,xr,Cr)}function Re(qe,xr,Cr){return st(qe,t,xr,Cr)}function he(qe,xr,Cr){return st(qe,n,xr,Cr)}function Me(qe){return o[qe.getDay()]}function De(qe){return a[qe.getDay()]}function Fe(qe){return u[qe.getMonth()]}function Ve(qe){return s[qe.getMonth()]}function tr(qe){return i[+(qe.getHours()>=12)]}function fr(qe){return 1+~~(qe.getMonth()/3)}function pr(qe){return o[qe.getUTCDay()]}function ur(qe){return a[qe.getUTCDay()]}function yr(qe){return u[qe.getUTCMonth()]}function Mr(qe){return s[qe.getUTCMonth()]}function an(qe){return i[+(qe.getUTCHours()>=12)]}function on(qe){return 1+~~(qe.getUTCMonth()/3)}return{format:function(qe){var xr=Z(qe+="",C);return xr.toString=function(){return qe},xr},parse:function(qe){var xr=Y(qe+="",!1);return xr.toString=function(){return qe},xr},utcFormat:function(qe){var xr=Z(qe+="",A);return xr.toString=function(){return qe},xr},utcParse:function(qe){var xr=Y(qe+="",!0);return xr.toString=function(){return qe},xr}}}var LA={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,flt=/^%/,hlt=/[\\^$*+?|[\]().{}]/g;function Zr(e,r,t){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<t?new Array(t-a+1).join(r)+i:i)}function vlt(e){return e.replace(hlt,"\\$&")}function ul(e){return new RegExp("^(?:"+e.map(vlt).join("|")+")","i")}function ll(e){for(var r={},t=-1,n=e.length;++t<n;)r[e[t].toLowerCase()]=t;return r}function plt(e,r,t){var n=Fn.exec(r.slice(t,t+1));return n?(e.w=+n[0],t+n[0].length):-1}function dlt(e,r,t){var n=Fn.exec(r.slice(t,t+1));return n?(e.u=+n[0],t+n[0].length):-1}function glt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.U=+n[0],t+n[0].length):-1}function ylt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.V=+n[0],t+n[0].length):-1}function mlt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.W=+n[0],t+n[0].length):-1}function IA(e,r,t){var n=Fn.exec(r.slice(t,t+4));return n?(e.y=+n[0],t+n[0].length):-1}function PA(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function xlt(e,r,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(t,t+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function _lt(e,r,t){var n=Fn.exec(r.slice(t,t+1));return n?(e.q=n[0]*3-3,t+n[0].length):-1}function Elt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.m=n[0]-1,t+n[0].length):-1}function RA(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.d=+n[0],t+n[0].length):-1}function Clt(e,r,t){var n=Fn.exec(r.slice(t,t+3));return n?(e.m=0,e.d=+n[0],t+n[0].length):-1}function DA(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.H=+n[0],t+n[0].length):-1}function Slt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.M=+n[0],t+n[0].length):-1}function blt(e,r,t){var n=Fn.exec(r.slice(t,t+2));return n?(e.S=+n[0],t+n[0].length):-1}function Alt(e,r,t){var n=Fn.exec(r.slice(t,t+3));return n?(e.L=+n[0],t+n[0].length):-1}function Mlt(e,r,t){var n=Fn.exec(r.slice(t,t+6));return n?(e.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Tlt(e,r,t){var n=flt.exec(r.slice(t,t+1));return n?t+n[0].length:-1}function wlt(e,r,t){var n=Fn.exec(r.slice(t));return n?(e.Q=+n[0],t+n[0].length):-1}function Flt(e,r,t){var n=Fn.exec(r.slice(t));return n?(e.s=+n[0],t+n[0].length):-1}function BA(e,r){return Zr(e.getDate(),r,2)}function klt(e,r){return Zr(e.getHours(),r,2)}function Olt(e,r){return Zr(e.getHours()%12||12,r,2)}function Llt(e,r){return Zr(1+s6.count($0(e),e),r,3)}function NA(e,r){return Zr(e.getMilliseconds(),r,3)}function Ilt(e,r){return NA(e,r)+"000"}function Plt(e,r){return Zr(e.getMonth()+1,r,2)}function Rlt(e,r){return Zr(e.getMinutes(),r,2)}function Dlt(e,r){return Zr(e.getSeconds(),r,2)}function Blt(e){var r=e.getDay();return r===0?7:r}function Nlt(e,r){return Zr(o6.count($0(e)-1,e),r,2)}function ZA(e){var r=e.getDay();return r>=4||r===0?q0(e):q0.ceil(e)}function Zlt(e,r){return e=ZA(e),Zr(q0.count($0(e),e)+($0(e).getDay()===4),r,2)}function zlt(e){return e.getDay()}function Ult(e,r){return Zr(gc.count($0(e)-1,e),r,2)}function Hlt(e,r){return Zr(e.getFullYear()%100,r,2)}function Vlt(e,r){return e=ZA(e),Zr(e.getFullYear()%100,r,2)}function Glt(e,r){return Zr(e.getFullYear()%1e4,r,4)}function jlt(e,r){var t=e.getDay();return e=t>=4||t===0?q0(e):q0.ceil(e),Zr(e.getFullYear()%1e4,r,4)}function Wlt(e){var r=e.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+Zr(r/60|0,"0",2)+Zr(r%60,"0",2)}function zA(e,r){return Zr(e.getUTCDate(),r,2)}function Ylt(e,r){return Zr(e.getUTCHours(),r,2)}function Xlt(e,r){return Zr(e.getUTCHours()%12||12,r,2)}function $lt(e,r){return Zr(1+OA.count(ol(e),e),r,3)}function UA(e,r){return Zr(e.getUTCMilliseconds(),r,3)}function qlt(e,r){return UA(e,r)+"000"}function Klt(e,r){return Zr(e.getUTCMonth()+1,r,2)}function Qlt(e,r){return Zr(e.getUTCMinutes(),r,2)}function Jlt(e,r){return Zr(e.getUTCSeconds(),r,2)}function t2t(e){var r=e.getUTCDay();return r===0?7:r}function e2t(e,r){return Zr(FA.count(ol(e)-1,e),r,2)}function HA(e){var r=e.getUTCDay();return r>=4||r===0?K0(e):K0.ceil(e)}function r2t(e,r){return e=HA(e),Zr(K0.count(ol(e),e)+(ol(e).getUTCDay()===4),r,2)}function n2t(e){return e.getUTCDay()}function i2t(e,r){return Zr(mc.count(ol(e)-1,e),r,2)}function a2t(e,r){return Zr(e.getUTCFullYear()%100,r,2)}function o2t(e,r){return e=HA(e),Zr(e.getUTCFullYear()%100,r,2)}function s2t(e,r){return Zr(e.getUTCFullYear()%1e4,r,4)}function u2t(e,r){var t=e.getUTCDay();return e=t>=4||t===0?K0(e):K0.ceil(e),Zr(e.getUTCFullYear()%1e4,r,4)}function l2t(){return"+0000"}function VA(){return"%"}function GA(e){return+e}function jA(e){return Math.floor(+e/1e3)}var Q0,WA,c2t,f2t,h2t;v2t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v2t(e){return Q0=clt(e),WA=Q0.format,c2t=Q0.parse,f2t=Q0.utcFormat,h2t=Q0.utcParse,Q0}var cl=1e3,fl=cl*60,hl=fl*60,vl=hl*24,p2t=vl*7,YA=vl*30,f6=vl*365;function d2t(e){return new Date(e)}function g2t(e){return e instanceof Date?+e:+new Date(+e)}function XA(e,r,t,n,i,a,o,s,u){var l=eA(Gn,Gn),c=l.invert,f=l.domain,h=u(".%L"),v=u(":%S"),p=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),m=u("%b %d"),E=u("%B"),C=u("%Y"),A=[[o,1,cl],[o,5,5*cl],[o,15,15*cl],[o,30,30*cl],[a,1,fl],[a,5,5*fl],[a,15,15*fl],[a,30,30*fl],[i,1,hl],[i,3,3*hl],[i,6,6*hl],[i,12,12*hl],[n,1,vl],[n,2,2*vl],[t,1,p2t],[r,1,YA],[r,3,3*YA],[e,1,f6]];function M(Y){return(o(Y)<Y?h:a(Y)<Y?v:i(Y)<Y?p:n(Y)<Y?g:r(Y)<Y?t(Y)<Y?y:m:e(Y)<Y?E:C)(Y)}function Z(Y,st,Ct,Pt){if(Y==null&&(Y=10),typeof Y=="number"){var Zt=Math.abs(Ct-st)/Y,ie=Ib(function(ce){return ce[2]}).right(A,Zt);ie===A.length?(Pt=W9(st/f6,Ct/f6,Y),Y=e):ie?(ie=A[Zt/A[ie-1][2]<A[ie][2]/Zt?ie-1:ie],Pt=ie[1],Y=ie[0]):(Pt=Math.max(W9(st,Ct,Y),1),Y=s)}return Pt==null?Y:Y.every(Pt)}return l.invert=function(Y){return new Date(c(Y))},l.domain=function(Y){return arguments.length?f(Yb.call(Y,g2t)):f().map(d2t)},l.ticks=function(Y,st){var Ct=f(),Pt=Ct[0],Zt=Ct[Ct.length-1],ie=Zt<Pt,ce;return ie&&(ce=Pt,Pt=Zt,Zt=ce),ce=Z(Y,Pt,Zt,st),ce=ce?ce.range(Pt,Zt+1):[],ie?ce.reverse():ce},l.tickFormat=function(Y,st){return st==null?M:u(st)},l.nice=function(Y,st){var Ct=f();return(Y=Z(Y,Ct[0],Ct[Ct.length-1],st))?f(cA(Ct,Y)):l},l.copy=function(){return fc(l,XA(e,r,t,n,i,a,o,s,u))},l}function y2t(){return Wo.apply(XA($0,Kut,o6,s6,rlt,nlt,ilt,alt,WA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function opt(){return initRange.apply(calendar(utcYear,utcMonth,utcWeek,utcDay,utcHour,utcMinute,utcSecond,utcMillisecond,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xc(){var e=0,r=1,t,n,i,a,o=Gn,s=!1,u;function l(c){return isNaN(c=+c)?u:o(i===0?.5:(c=(a(c)-t)*i,s?Math.max(0,Math.min(1,c)):c))}return l.domain=function(c){return arguments.length?(t=a(e=+c[0]),n=a(r=+c[1]),i=t===n?0:1/(n-t),l):[e,r]},l.clamp=function(c){return arguments.length?(s=!!c,l):s},l.interpolator=function(c){return arguments.length?(o=c,l):o},l.unknown=function(c){return arguments.length?(u=c,l):u},function(c){return a=c,t=c(e),n=c(r),i=t===n?0:1/(n-t),l}}function pl(e,r){return r.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $A(){var e=il(xc()(Gn));return e.copy=function(){return pl(e,$A())},Xb.apply(e,arguments)}function m2t(){var e=loggish(xc()).domain([1,10]);return e.copy=function(){return pl(e,m2t()).base(e.base())},initInterpolator.apply(e,arguments)}function x2t(){var e=symlogish(xc());return e.copy=function(){return pl(e,x2t()).constant(e.constant())},initInterpolator.apply(e,arguments)}function qA(){var e=powish(xc());return e.copy=function(){return pl(e,qA()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function spt(){return qA.apply(null,arguments).exponent(.5)}function _2t(){var e=[],r=identity;function t(n){if(!isNaN(n=+n))return r((bisect(e,n)-1)/(e.length-1))}return t.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var i=0,a=n.length,o;i<a;++i)o=n[i],o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ascending),t},t.interpolator=function(n){return arguments.length?(r=n,t):r},t.copy=function(){return _2t(r).domain(e)},initInterpolator.apply(t,arguments)}function _c(){var e=0,r=.5,t=1,n,i,a,o,s,u=Gn,l,c=!1,f;function h(v){return isNaN(v=+v)?f:(v=.5+((v=+l(v))-i)*(v<i?o:s),u(c?Math.max(0,Math.min(1,v)):v))}return h.domain=function(v){return arguments.length?(n=l(e=+v[0]),i=l(r=+v[1]),a=l(t=+v[2]),o=n===i?0:.5/(i-n),s=i===a?0:.5/(a-i),h):[e,r,t]},h.clamp=function(v){return arguments.length?(c=!!v,h):c},h.interpolator=function(v){return arguments.length?(u=v,h):u},h.unknown=function(v){return arguments.length?(f=v,h):f},function(v){return l=v,n=v(e),i=v(r),a=v(t),o=n===i?0:.5/(i-n),s=i===a?0:.5/(a-i),h}}function KA(){var e=il(_c()(Gn));return e.copy=function(){return pl(e,KA())},Xb.apply(e,arguments)}function E2t(){var e=loggish(_c()).domain([.1,1,10]);return e.copy=function(){return copy(e,E2t()).base(e.base())},initInterpolator.apply(e,arguments)}function C2t(){var e=symlogish(_c());return e.copy=function(){return copy(e,C2t()).constant(e.constant())},initInterpolator.apply(e,arguments)}function QA(){var e=powish(_c());return e.copy=function(){return copy(e,QA()).exponent(e.exponent())},initInterpolator.apply(e,arguments)}function upt(){return QA.apply(null,arguments).exponent(.5)}function JA(e){var r,t=[];function n(i){return i==null?r:i}return n.invert=n,n.domain=n.range=function(i){return i?(t=i,i):t},n.unknown=function(i){return i?(r=i,i):r},n.copy=function(){return JA(e).unknown(r)},n}var ki,tM,eM,S2t=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,b2t=(ki={},(0,S.Z)(ki,Hr.LINEAR,lA),(0,S.Z)(ki,Hr.POWER,r6),(0,S.Z)(ki,Hr.LOG,pA),(0,S.Z)(ki,Hr.IDENTITY,JA),(0,S.Z)(ki,Hr.SEQUENTIAL,$A),(0,S.Z)(ki,Hr.TIME,y2t),(0,S.Z)(ki,Hr.QUANTILE,mA),(0,S.Z)(ki,Hr.QUANTIZE,xA),(0,S.Z)(ki,Hr.THRESHOLD,_A),(0,S.Z)(ki,Hr.CAT,lc),(0,S.Z)(ki,Hr.DIVERGING,KA),ki),A2t=(tM=(0,Ze.b2)(),tM(eM=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"scaleOptions",{})}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=this,a=n.styleAttributeService;t.hooks.init.tapPromise("FeatureScalePlugin",(0,xe.Z)(zt().mark(function o(){var s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(t.log(pn.ScaleInitStart,dn.INIT),i.scaleOptions=t.getScaleOptions(),u=a.getLayerStyleAttributes(),l=(s=t.getSource())===null||s===void 0?void 0:s.data.dataArray,!(Array.isArray(l)&&l.length===0)){f.next=8;break}return f.abrupt("return");case 8:i.caculateScalesForAttributes(u||[],l);case 9:t.log(pn.ScaleInitEnd,dn.INIT);case 10:case"end":return f.stop()}},o)}))),t.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",function(){var o=(0,xe.Z)(zt().mark(function s(u){var l,c;return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u){h.next=2;break}return h.abrupt("return",u);case 2:if(t.log(pn.ScaleInitStart,dn.UPDATE),i.scaleOptions=t.getScaleOptions(),l=a.getLayerStyleAttributes(),c=t.getSource().data.dataArray,!(Array.isArray(c)&&c.length===0)){h.next=8;break}return h.abrupt("return",!0);case 8:return i.caculateScalesForAttributes(l||[],c),t.log(pn.ScaleInitEnd,dn.UPDATE),t.layerModelNeedUpdate=!0,h.abrupt("return",!0);case 12:case"end":return h.stop()}},s)}));return function(s){return o.apply(this,arguments)}}()),t.hooks.beforeRender.tap("FeatureScalePlugin",function(){if(!t.layerModelNeedUpdate){i.scaleOptions=t.getScaleOptions();var o=a.getLayerStyleAttributes(),s=t.getSource().data.dataArray;if(!(Array.isArray(s)&&s.length===0)&&o){var u=o.filter(function(l){return l.needRescale});u.length&&i.caculateScalesForAttributes(u,s)}}})}},{key:"isNumber",value:function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},{key:"caculateScalesForAttributes",value:function(t,n){var i=this;t.forEach(function(a){if(a.scale){var o=a.scale;o.names=i.parseFields(a.scale.field||[]);var s=[];o.names.forEach(function(u){var l;s.push(i.createScale(u,a.name,(l=a.scale)===null||l===void 0?void 0:l.values,n))}),s.some(function(u){return u.type===Ho.VARIABLE})?(o.type=Ho.VARIABLE,s.forEach(function(u){var l;if(!o.callback&&o.values!=="text")switch((l=u.option)===null||l===void 0?void 0:l.type){case Hr.LOG:case Hr.LINEAR:case Hr.POWER:if(o.values&&o.values.length>2){var c=u.scale.ticks(o.values.length);u.scale.domain(c)}o.values?u.scale.range(o.values):u.scale.range(u.option.domain);break;case Hr.QUANTILE:case Hr.QUANTIZE:case Hr.THRESHOLD:u.scale.range(o.values);break;case Hr.IDENTITY:break;case Hr.CAT:o.values?u.scale.range(o.values):u.scale.range(u.option.domain);break;case Hr.DIVERGING:case Hr.SEQUENTIAL:u.scale.interpolator(fut(o.values));break}if(o.values==="text"){var f;u.scale.range((f=u.option)===null||f===void 0?void 0:f.domain)}})):(o.type=Ho.CONSTANT,o.defaultValues=s.map(function(u,l){return u.scale(o.names[l])})),o.scalers=s.map(function(u){return{field:u.field,func:u.scale,option:u.option}}),a.needRescale=!1}})}},{key:"parseFields",value:function(t){return Array.isArray(t)?t:(0,Te.isString)(t)?t.split("*"):[t]}},{key:"createScale",value:function(t,n,i,a){var o,s,u=this.scaleOptions[n]&&((o=this.scaleOptions[n])===null||o===void 0?void 0:o.field)===t?this.scaleOptions[n]:this.scaleOptions[t],l={field:t,scale:void 0,type:Ho.VARIABLE,option:u};if(!a||!a.length)return u&&u.type?l.scale=this.createDefaultScale(u):(l.scale=lc([t]),l.type=Ho.CONSTANT),l;var c=(s=a.find(function(v){return!(0,Te.isNil)(v[t])}))===null||s===void 0?void 0:s[t];if(this.isNumber(t)||(0,Te.isNil)(c)&&!u)l.scale=lc([t]),l.type=Ho.CONSTANT;else{var f=u&&u.type||this.getDefaultType(c);i==="text"&&(f=Hr.CAT);var h=this.createScaleConfig(f,t,u,a);l.scale=this.createDefaultScale(h),l.option=h}return l}},{key:"getDefaultType",value:function(t){var n=Hr.LINEAR;return typeof t=="string"&&(n=S2t.test(t)?Hr.TIME:Hr.CAT),n}},{key:"createScaleConfig",value:function(t,n,i,a){var o={type:t},s=(a==null?void 0:a.map(function(c){return c[n]}))||[];if(i!=null&&i.domain)o.domain=i==null?void 0:i.domain;else if(t===Hr.CAT||t===Hr.IDENTITY)o.domain=(0,Te.uniq)(s);else if(t===Hr.QUANTILE)o.domain=s;else if(t===Hr.DIVERGING){var u=Rb(s),l=(i==null?void 0:i.neutral)!==void 0?i==null?void 0:i.neutral:(u[0]+u[1])/2;o.domain=[u[0],l,u[1]]}else o.domain=Rb(s);return(0,H.Z)((0,H.Z)({},o),i)}},{key:"createDefaultScale",value:function(t){var n=t.type,i=t.domain,a=t.unknown,o=t.clamp,s=t.nice,u=b2t[n]();return i&&u.domain&&u.domain(i),a&&u.unknown(a),o!==void 0&&u.clamp&&u.clamp(o),s!==void 0&&u.nice&&u.nice(s),u}}]),e}())||eM),rM,nM,M2t=(rM=(0,Ze.b2)(),rM(nM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("LayerAnimateStylePlugin",function(){var n=t.animateStatus;n&&t.models.forEach(function(i){i.addUniforms((0,H.Z)({},t.layerModel.getAnimateUniforms()))})})}}]),e}())||nM),T2t=function(){function e(r){var t=r.rendererService,n=r.layerService,i=r.parent;(0,ge.Z)(this,e),(0,S.Z)(this,"tileResource",new Map),(0,S.Z)(this,"layerTiles",[]),this.rendererService=t,this.layerService=n,this.parent=i}return(0,ye.Z)(e,[{key:"tiles",get:function(){return this.layerTiles}},{key:"hasTile",value:function(t){return this.layerTiles.some(function(n){return n.key===t})}},{key:"addTile",value:function(t){this.layerTiles.push(t)}},{key:"getTile",value:function(t){return this.layerTiles.find(function(n){return n.key===t})}},{key:"getVisibleTileBylngLat",value:function(t){return this.layerTiles.find(function(n){return n.isLoaded&&n.visible&&n.lnglatInBounds(t)})}},{key:"removeTile",value:function(t){var n=this.layerTiles.findIndex(function(a){return a.key===t}),i=this.layerTiles.splice(n,1);i[0]&&i[0].destroy()}},{key:"updateTileVisible",value:function(t){var n=this.getTile(t.key);n==null||n.updateVisible(t.isVisible)}},{key:"isParentLoaded",value:function(t){var n=t.parent;if(!n)return!0;var i=this.getTile(n==null?void 0:n.key);return!!(i!=null&&i.isLoaded)}},{key:"isChildrenLoaded",value:function(t){var n=this,i=t==null?void 0:t.children;return i.length===0?!0:i.some(function(a){var o=n.getTile(a==null?void 0:a.key);return(o==null?void 0:o.isLoaded)===!1})}},{key:"render",value:function(){var r=(0,xe.Z)(zt().mark(function n(){var i=this,a;return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a=this.getRenderLayers(),a.map(function(){var u=(0,xe.Z)(zt().mark(function l(c){return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,i.layerService.renderLayer(c);case 2:case"end":return h.stop()}},l)}));return function(l){return u.apply(this,arguments)}}());case 2:case"end":return s.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()},{key:"getRenderLayers",value:function(){var t=this.layerTiles.filter(function(i){return i.visible&&i.isLoaded}),n=[];return t.map(function(i){return n.push.apply(n,(0,We.Z)(i.getLayers()))}),n}},{key:"getLayers",value:function(){var t=this.layerTiles.filter(function(i){return i.isLoaded}),n=[];return t.map(function(i){return n.push.apply(n,(0,We.Z)(i.getLayers()))}),n}},{key:"getTiles",value:function(){return this.layerTiles}},{key:"destroy",value:function(){this.layerTiles.forEach(function(t){return t.destroy()}),this.tileResource.clear()}}]),e}(),w2t=F(37824);function F2t(e,r,t){t===void 0&&(t={});var n=vS(e),i=vS(r),a=w2t.union(n.coordinates,i.coordinates);return a.length===0?null:a.length===1?wu(a[0],t.properties):cx(a,t.properties)}var k2t=F2t,O2t=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"getCombineFeature",value:function(t){var n=null,i=t[0];return t.map(function(a){var o=wu(a.coordinates);n===null?n=o:n=k2t(n,o)}),i&&(n.properties=(0,H.Z)({},i)),n}}]),e}(),dl="select",gl="active",L2t=function(){function e(r){var t=r.layerService,n=r.tileLayerService,i=r.parent;(0,ge.Z)(this,e),(0,S.Z)(this,"tilePickID",new Map),this.layerService=t,this.tileLayerService=n,this.parent=i,this.tileSourceService=new O2t}return(0,ye.Z)(e,[{key:"pickRender",value:function(t){var n=this.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(n){var i=n.getMainLayer();i==null||i.layerPickService.pickRender(t)}}},{key:"pick",value:function(t,n){var i=this.parent.getContainer(),a=i.get(ve.IPickingService);if(t.type==="RasterLayer"){var o=this.tileLayerService.getVisibleTileBylngLat(n.lngLat);if(o&&o.getMainLayer()!==void 0){var s=o.getMainLayer();return s.layerPickService.pickRasterLayer(s,n,this.parent)}return!1}return this.pickRender(n),a.pickFromPickingFBO(t,n)}},{key:"selectFeature",value:function(t){var n=(0,nr.Z)(t,3),i=n[0],a=n[1],o=n[2],s=this.color2PickId(i,a,o);this.tilePickID.set(dl,s),this.updateHighLight(i,a,o,dl)}},{key:"highlightPickedFeature",value:function(t){var n=(0,nr.Z)(t,3),i=n[0],a=n[1],o=n[2],s=this.color2PickId(i,a,o);this.tilePickID.set(gl,s),this.updateHighLight(i,a,o,gl)}},{key:"updateHighLight",value:function(t,n,i,a){this.tileLayerService.tiles.map(function(o){var s=o.getMainLayer();switch(a){case dl:s==null||s.hooks.beforeSelect.call([t,n,i]);break;case gl:s==null||s.hooks.beforeHighlight.call([t,n,i]);break}})}},{key:"setPickState",value:function(){var t=this.tilePickID.get(dl),n=this.tilePickID.get(gl);if(t){var i=this.pickId2Color(t),a=(0,nr.Z)(i,3),o=a[0],s=a[1],u=a[2];this.updateHighLight(o,s,u,dl);return}if(n){var l=this.pickId2Color(n),c=(0,nr.Z)(l,3),f=c[0],h=c[1],v=c[2];this.updateHighLight(f,h,v,gl);return}}},{key:"color2PickId",value:function(t,n,i){return M1(new Uint8Array([t,n,i]))}},{key:"pickId2Color",value:function(t){return Ja(t)}},{key:"getFeatureById",value:function(t){var n=this.tileLayerService.getTiles().filter(function(a){return a.visible}),i=[];return n.forEach(function(a){i.push.apply(i,(0,We.Z)(a.getFeatureById(t)))}),i}},{key:"pickRasterLayer",value:function(t,n,i){return!1}}]),e}(),I2t=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive"];function P2t(e){return e==="PolygonLayer"?z9:e==="LineLayer"?nl:nc}function R2t(e){return["PolygonLayer","LineLayer"].indexOf(e)!==-1}var G1=function(){function e(r,t){(0,ge.Z)(this,e),(0,S.Z)(this,"visible",!0),(0,S.Z)(this,"layers",[]),(0,S.Z)(this,"isLoaded",!1),this.parent=t,this.sourceTile=r,this.x=r.x,this.y=r.y,this.z=r.z,this.key="".concat(this.x,"_").concat(this.y,"_").concat(this.z)}return(0,ye.Z)(e,[{key:"getLayers",value:function(){return this.layers}},{key:"styleUpdate",value:function(){}},{key:"lnglatInBounds",value:function(t){var n=(0,nr.Z)(this.sourceTile.bounds,4),i=n[0],a=n[1],o=n[2],s=n[3],u=t.lng,l=t.lat;return u>=i&&u<=o&&l>=a&&l<=s}},{key:"getLayerOptions",value:function(){var t=this.parent.getLayerConfig();return(0,H.Z)((0,H.Z)({},t),{},{autoFit:!1,mask:R2t(this.parent.type)||t.mask})}},{key:"addMask",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=G3(this.parent.sceneContainer),a.setContainer(o,this.parent.sceneContainer),u.next=4,a.init();case 4:i.addMaskLayer(a);case 5:case"end":return u.stop()}},n,this)}));function t(n,i){return r.apply(this,arguments)}return t}()},{key:"addLayer",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){var a;return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i.isTileLayer=!0,a=G3(this.parent.sceneContainer),i.setContainer(a,this.parent.sceneContainer),this.layers.push(i),s.next=6,i.init();case 6:case"end":return s.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"updateVisible",value:function(t){this.visible=t,this.updateOptions("visible",t)}},{key:"updateOptions",value:function(t,n){this.layers.forEach(function(i){i.updateLayerConfig((0,S.Z)({},t,n))})}},{key:"getMainLayer",value:function(){return this.layers[0]}},{key:"getFeatures",value:function(t){return[]}},{key:"getFeatureById",value:function(t){return[]}},{key:"destroy",value:function(){this.layers.forEach(function(t){return t.destroy()})}}]),e}();function D2t(e){var r=B2t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function B2t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var N2t=function(e){(0,ze.Z)(t,e);var r=D2t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.getSourceOption(),s=o.data.features[0].properties,u=new nl().source(o.data,o.options).size(1).shape("line").color("red"),l=new nc({minZoom:this.z-1,maxZoom:this.z+1}).source([s],{parser:{type:"json",x:"textLng",y:"textLat"}}).size(20).color("red").shape(this.key).style({stroke:"#fff",strokeWidth:2}),f.next=6,this.addLayer(u);case 6:return f.next=8,this.addLayer(l);case 8:this.isLoaded=!0;case 9:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource(),a=this.sourceTile.data.layers.testTile.features;return{data:{type:"FeatureCollection",features:a},options:{parser:{type:"geojson"},transforms:i.transforms}}}}]),t}(G1);function Z2t(e){var r=z2t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function z2t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var U2t=`precision mediump float;
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
varying vec2 v_texCoord;
void main() {
  vec4 color = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y));
  gl_FragColor = color;
  gl_FragColor.a *= u_opacity;
}
`,H2t=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,V2t=function(e){(0,ze.Z)(t,e);var r=Z2t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity;return{u_opacity:a||1,u_texture:this.texture}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o=this,s,u,l,c,f,h,v,p,g,y,m;return zt().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(s=this.layer.getLayerConfig(),u=s.mask,l=u===void 0?!1:u,c=s.maskInside,f=c===void 0?!0:c,h=this.layer.getSource(),v=this.rendererService.createTexture2D,this.texture=v({height:0,width:0}),!Si){C.next=12;break}p=this.layerService.sceneService.getSceneConfig().canvas,g=p.createImage(),g.crossOrigin="anonymous",g.src=h.data.originData,g.onload=function(){o.texture=v({data:g,width:g.width,height:g.height}),o.layerService.reRender()},C.next=16;break;case 12:return C.next=14,h.data.images;case 14:y=C.sent,this.texture=v({data:y[0],width:y[0].width,height:y[0].height,mag:J.LINEAR,min:J.LINEAR});case 16:return C.next=18,this.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:H2t,fragmentShader:U2t,triangulation:tc,primitive:J.TRIANGLES,blend:{enable:!0},depth:{enable:!1},stencil:nn(l,f)});case 18:return m=C.sent,C.abrupt("return",[m]);case 20:case"end":return C.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.texture)===null||i===void 0||i.destroy()}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.initModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[3],s[4]]}}})}}]),t}(Wr),G2t={image:V2t},j2t=G2t;function W2t(e){var r=Y2t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Y2t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var X2t=function(e){(0,ze.Z)(t,e);var r=W2t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","ImageLayer"),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel=new j2t[o](this),u.next=4,this.initLayerModels();case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getDefaultConfig",value:function(){var i=this.getModelType(),a={image:{}};return a[i]}},{key:"getModelType",value:function(){return"image"}}]),t}(V0);function $2t(e){var r=q2t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function q2t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var K2t=function(e){(0,ze.Z)(t,e);var r=$2t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=this.getSourceOption(),l=new X2t((0,H.Z)({},s)).source(u.data,u.options),o&&Object.keys(o).forEach(function(h){var v,p,g=h;l[g]((v=o[g])===null||v===void 0?void 0:v.field,(p=o[g])===null||p===void 0?void 0:p.values)}),f.next=7,this.addLayer(l);case 7:this.isLoaded=!0;case 8:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:i.transforms}}}}]),t}(G1);function Q2t(e){var r=J2t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function J2t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var t3t=function(e){(0,ze.Z)(t,e);var r=Q2t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=this.getSourceOption(),l=new U9((0,H.Z)({},s)).source(u.data,u.options),o&&Object.keys(o).forEach(function(h){var v,p,g=h;l[g]((v=o[g])===null||v===void 0?void 0:v.field,(p=o[g])===null||p===void 0?void 0:p.values)}),f.next=7,this.addLayer(l);case 7:this.isLoaded=!0;case 8:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getFeatures",value:function(i){if(!i)return[];var a=this.sourceTile.data;return a.getTileData(i)}},{key:"getSourceOption",value:function(){var i=this.parent.getSource(),a=this.parent.getLayerConfig(),o=a.sourceLayer,s=a.featureId,u=this.getFeatures(o);return{data:{type:"FeatureCollection",features:u},options:{parser:{type:"geojson",featureId:s},transforms:i.transforms}}}}]),t}(G1);function e3t(e){var r=r3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function r3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var n3t=`precision mediump float;
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;
uniform float u_min;
uniform float u_max;
uniform vec2 u_domain;
uniform float u_noDataValue;
uniform bool u_clampLow: true;
uniform bool u_clampHigh: true;
varying vec2 v_texCoord;
bool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }


void main() {

  float value = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value))
    gl_FragColor = vec4(0.0, 0, 0, 0.0);
  else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1]))
    gl_FragColor = vec4(0, 0, 0, 0);
  else {
   
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] -u_domain[0]);
    vec4 color = texture2D(u_colorTexture,vec2(normalisedValue, 0));
    gl_FragColor = color;
    gl_FragColor.a =  gl_FragColor.a * u_opacity ;
  }
}
`,i3t=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));

   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,iM=function(e){(0,ze.Z)(t,e);var r=e3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.clampLow,u=s===void 0?!0:s,l=i.clampHigh,c=l===void 0?!0:l,f=i.noDataValue,h=f===void 0?-9999999:f,v=i.domain,p=i.rampColors,g=v||i8(p);return this.colorTexture=this.layer.textureService.getColorTexture(p,g),{u_opacity:o||1,u_texture:this.texture,u_domain:g,u_clampLow:u,u_clampHigh:typeof c!="undefined"?c:u,u_noDataValue:h,u_colorTexture:this.colorTexture}}},{key:"getRasterData",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s,u,l,c;return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!Array.isArray(o.data)){h.next=4;break}return h.abrupt("return",{data:o.data,width:o.width,height:o.height});case 4:return h.next=6,o.data;case 6:return s=h.sent,u=s.rasterData,l=s.width,c=s.height,h.abrupt("return",{data:Array.from(u),width:l,height:c});case 11:case"end":return h.stop()}},a)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E;return zt().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=this.layer.getSource(),h=this.rendererService.createTexture2D,v=f.data.dataArray[0],A.next=6,this.getRasterData(v);case 6:return p=A.sent,g=p.data,y=p.width,m=p.height,this.texture=h({data:g,width:y,height:m,format:J.LUMINANCE,type:J.FLOAT}),A.next=13,this.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:i3t,fragmentShader:n3t,triangulation:tc,primitive:J.TRIANGLES,depth:{enable:!1},stencil:nn(u,c)});case 13:return E=A.sent,A.abrupt("return",[E]);case 15:case"end":return A.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.initModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i,a;(i=this.texture)===null||i===void 0||i.destroy(),(a=this.colorTexture)===null||a===void 0||a.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[3],s[4]]}}})}}]),t}(Wr),a3t=["data"],o3t=["rasterData"];function s3t(e){var r=u3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function u3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var l3t=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));

   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,c3t=`precision mediump float;
uniform vec2 u_rminmax: vec2(0,255); 
uniform vec2 u_gminmax: vec2(0,255);
uniform vec2 u_bminmax: vec2(0,255);
uniform float u_opacity: 1.0;
uniform sampler2D u_texture;
uniform float u_noDataValue : 0.0;
varying vec2 v_texCoord;

void main() {
  vec3 rgb = texture2D(u_texture,vec2(v_texCoord.x,v_texCoord.y)).rgb;
  if(rgb == vec3(u_noDataValue)) {
    gl_FragColor = vec4(0.0, 0, 0, 0.0);
  } else {
    gl_FragColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);
  }
 
}`,f3t=function(e){(0,ze.Z)(t,e);var r=s3t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"dataOption",{}),n}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=a===void 0?1:a,s=i.noDataValue,u=s===void 0?0:s,l=this.dataOption,c=l.rMinMax,f=l.gMinMax,h=l.bMinMax;return{u_opacity:o||1,u_texture:this.texture,u_noDataValue:u,u_rminmax:c,u_gminmax:f,u_bminmax:h}}},{key:"getRasterData",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s,u,l,c,f;return zt().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(!Array.isArray(o.data)){v.next=4;break}return s=o.data,u=(0,B.Z)(o,a3t),this.dataOption=u,v.abrupt("return",(0,H.Z)({data:s},u));case 4:return v.next=6,o.data;case 6:if(l=v.sent,c=l.rasterData,f=(0,B.Z)(l,o3t),this.dataOption=f,!Array.isArray(c)){v.next=14;break}return v.abrupt("return",(0,H.Z)({data:c},f));case 14:return v.abrupt("return",(0,H.Z)({data:Array.from(c)},f));case 15:case"end":return v.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E;return zt().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=this.layer.getSource(),h=this.rendererService.createTexture2D,v=f.data.dataArray[0],A.next=6,this.getRasterData(v);case 6:return p=A.sent,g=p.data,y=p.width,m=p.height,this.texture=h({data:g,width:y,height:m,format:J.RGB,type:J.FLOAT}),A.next=13,this.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:l3t,fragmentShader:c3t,triangulation:tc,primitive:J.TRIANGLES,depth:{enable:!1},stencil:nn(u,c)});case 13:return E=A.sent,A.abrupt("return",[E]);case 15:case"end":return A.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.initModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.texture)===null||i===void 0||i.destroy()}},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[3],s[4]]}}})}}]),t}(Wr);function h3t(e){var r=v3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function v3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p3t=`precision mediump float;
uniform float u_opacity: 1.0;

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

varying vec2 v_texCoord;

uniform vec2 u_domain;
uniform float u_noDataValue;
uniform bool u_clampLow: true;
uniform bool u_clampHigh: true;

void main() {
  vec4 baseColor = texture2D(u_texture, vec2(v_texCoord.x, v_texCoord.y)) * 256.0;
  float r = baseColor.r * 256.0 * 256.0;
  float g = baseColor.g * 256.0;
  float b = baseColor.b;
  float value =  (r + g + b) * 0.1 - 10000.0;
  
  if (value == u_noDataValue) {
    gl_FragColor = vec4(0.0, 0, 0, 0.0);
  } else if ((!u_clampLow && value < u_domain[0]) || (!u_clampHigh && value > u_domain[1])) {
     gl_FragColor = vec4(0.0, 0, 0, 0.0);
  } else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture2D(u_colorTexture, vec2(normalisedValue, 0));
    gl_FragColor = color;
    gl_FragColor.a =  gl_FragColor.a * u_opacity ;
  }
}
`,d3t=`precision highp float;
uniform mat4 u_ModelMatrix;
uniform mat4 u_Mvp;
attribute vec3 a_Position;
attribute vec2 a_Uv;
varying vec2 v_texCoord;
#pragma include "projection"
void main() {
   v_texCoord = a_Uv;
   vec4 project_pos = project_position(vec4(a_Position, 1.0));
   // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   if(u_CoordinateSystem == COORDINATE_SYSTEM_P20_2) { // gaode2.x
      gl_Position = u_Mvp * (vec4(project_pos.xy,0., 1.0));
   } else {
      gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy,0., 1.0));
   }
}
`,g3t=function(e){(0,ze.Z)(t,e);var r=h3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getUninforms",value:function(){var i=this.layer.getLayerConfig(),a=i.opacity,o=i.clampLow,s=o===void 0?!0:o,u=i.clampHigh,l=u===void 0?!0:u,c=i.noDataValue,f=c===void 0?-9999999:c,h=i.domain,v=i.rampColors,p=i.colorTexture,g=h||i8(v),y=p;return p?this.layer.textureService.setColorTexture(p,v,g):y=this.layer.textureService.getColorTexture(v,g),{u_opacity:a||1,u_texture:this.texture,u_domain:g,u_clampLow:s,u_clampHigh:typeof l!="undefined"?l:s,u_noDataValue:f,u_colorTexture:y}}},{key:"initModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p;return zt().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return o=this.layer.getLayerConfig(),s=o.mask,u=s===void 0?!1:s,l=o.maskInside,c=l===void 0?!0:l,f=this.layer.getSource(),h=this.rendererService.createTexture2D,y.next=5,f.data.images;case 5:return v=y.sent,this.texture=h({data:v[0],width:v[0].width,height:v[0].height}),y.next=9,this.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:d3t,fragmentShader:p3t,triangulation:tc,primitive:J.TRIANGLES,depth:{enable:!1},blend:this.getBlend(),stencil:nn(u,c)});case 9:return p=y.sent,y.abrupt("return",[p]);case 11:case"end":return y.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"clearModels",value:function(){var i;(i=this.texture)===null||i===void 0||i.destroy()}},{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",this.initModels());case 1:case"end":return s.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"registerBuiltinAttributes",value:function(){this.styleAttributeService.registerStyleAttribute({name:"uv",type:Xe.Attribute,descriptor:{name:"a_Uv",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:2,update:function(a,o,s){return[s[3],s[4]]}}})}}]),t}(Wr),y3t={raster:iM,rasterRgb:f3t,raster3d:iM,rasterTerrainRgb:g3t},m3t=y3t;function x3t(e){var r=_3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function _3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var h6=function(e){(0,ze.Z)(t,e);var r=x3t(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"type","RasterLayer"),n}return(0,ye.Z)(t,[{key:"buildModels",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return o=this.getModelType(),this.layerModel=new m3t[o](this),u.next=4,this.initLayerModels();case 4:case"end":return u.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getDefaultConfig",value:function(){var i=this.getModelType(),a={raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}};return a[i]}},{key:"getModelType",value:function(){var i=this.layerSource.getParserType();switch(i){case"raster":return"raster";case"rasterRgb":return"rasterRgb";case"image":return"rasterTerrainRgb";default:return"raster"}}}]),t}(V0),E3t=["rasterData"];function C3t(e){var r=S3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function S3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var b3t=function(e){(0,ze.Z)(t,e);var r=C3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=this.getSourceOption(),l=new h6((0,H.Z)({},s)).source(u.data,u.options),o&&Object.keys(o).forEach(function(h){var v,p,g=h;l[g]((v=o[g])===null||v===void 0?void 0:v.field,(p=o[g])===null||p===void 0?void 0:p.values)}),f.next=7,this.addLayer(l);case 7:this.isLoaded=!0;case 8:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource(),a=this.sourceTile.data.data,o=a.rasterData,s=(0,B.Z)(a,E3t);return{data:o,options:{parser:(0,H.Z)({type:"rasterRgb",extent:this.sourceTile.bounds},s),transforms:i.transforms}}}}]),t}(G1);function A3t(e){var r=M3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function M3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var T3t=function(e){(0,ze.Z)(t,e);var r=A3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l;return zt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=this.getSourceOption(),l=new h6((0,H.Z)({},s)).source(u.data,u.options),o&&Object.keys(o).forEach(function(h){var v,p,g=h;l[g]((v=o[g])===null||v===void 0?void 0:v.field,(p=o[g])===null||p===void 0?void 0:p.values)}),f.next=7,this.addLayer(l);case 7:this.isLoaded=!0;case 8:case"end":return f.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:i.transforms}}}}]),t}(G1),w3t=["rasterData"];function F3t(e){var r=k3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function k3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var O3t={positions:[0,1],colors:["#000","#fff"]},L3t=function(e){(0,ze.Z)(t,e);var r=F3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h;return zt().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=this.getSourceOption(),l=this.getLayerOptions(),c=l.rampColors,f=l.domain,this.colorTexture=this.parent.textureService.getColorTexture(c,f),h=new h6((0,H.Z)((0,H.Z)({},s),{},{colorTexture:this.colorTexture})).source(u.data,u.options),o&&Object.keys(o).forEach(function(g){var y,m,E=g;h[E]((y=o[E])===null||y===void 0?void 0:y.field,(m=o[E])===null||m===void 0?void 0:m.values)}),p.next=9,this.addLayer(h);case 9:this.isLoaded=!0;case 10:case"end":return p.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource(),a=this.sourceTile.data.data,o=a.rasterData,s=(0,B.Z)(a,w3t);return{data:o,options:{parser:(0,H.Z)({type:"raster",extent:this.sourceTile.bounds},s),transforms:i.transforms}}}},{key:"styleUpdate",value:function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var u=o,l=u.rampColors,c=l===void 0?O3t:l,f=u.domain;this.colorTexture=this.parent.textureService.getColorTexture(c,f||i8(c)),this.layers.forEach(function(h){return h.style({colorTexture:i.colorTexture})})}},{key:"destroy",value:function(){this.layers.forEach(function(i){return i.destroy()})}}]),t}(G1);function I3t(e){var r=P3t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function P3t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Ec=function(e){(0,ze.Z)(t,e);var r=I3t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"initTileLayer",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c;return zt().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(o=this.parent.getLayerAttributeConfig(),s=this.getLayerOptions(),u=P2t(this.parent.type),l=this.getSourceOption(),l){h.next=7;break}return this.isLoaded=!0,h.abrupt("return");case 7:if(c=new u((0,H.Z)({},s)).source(l.data,l.options),Object.keys(o).forEach(function(v){var p,g,y=v;c[y]((p=o[y])===null||p===void 0?void 0:p.field,(g=o[y])===null||g===void 0?void 0:g.values)}),!s.mask){h.next=12;break}return h.next=12,this.addTileMask(c);case 12:return h.next=14,this.addLayer(c);case 14:this.setLayerMinMaxZoom(c),this.isLoaded=!0;case 16:case"end":return h.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"addTileMask",value:function(){var n=(0,xe.Z)(zt().mark(function a(o){var s;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=new U9({layerType:"MaskLayer"}).source({type:"FeatureCollection",features:[this.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}),l.next=3,this.addMask(o,s);case 3:case"end":return l.stop()}},a,this)}));function i(a){return n.apply(this,arguments)}return i}()},{key:"getSourceOption",value:function(){var i=this.parent.getSource(),a=this.parent.getLayerConfig(),o=a.sourceLayer,s=o===void 0?"defaultLayer":o,u=a.featureId,l=u===void 0?"id":u,c=this.getFeatures(s);return{data:{type:"FeatureCollection",features:c},options:{parser:{type:"geojson",featureId:l},transforms:i.transforms}}}},{key:"setLayerMinMaxZoom",value:function(i){i.getModelType()==="text"&&i.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}},{key:"getFeatures",value:function(i){var a=this.sourceTile.data;return a.getTileData(i)}},{key:"getFeatureById",value:function(i){var a=this.getMainLayer();if(!a)return[];var o=a.getSource().data.dataArray.filter(function(s){return s._id===i});return o}}]),t}(G1);function R3t(e){var r=e.type;switch(r){case"PolygonLayer":return Ec;case"LineLayer":return Ec;case"PointLayer":return Ec;case"TileDebugLayer":return N2t;case"MaskLayer":return t3t;case"RasterLayer":var t=e.getSource().parser.dataType;switch(t){case"rgb":case"customRGB":return b3t;case"arraybuffer":case"customArrayBuffer":return L3t;case"terrainRGB":return T3t;default:return K2t}default:return Ec}}var aM=function(){function e(r){(0,ge.Z)(this,e),(0,S.Z)(this,"initedTileset",!1),(0,S.Z)(this,"viewchange",(0,Te.debounce)(this.mapchange,24)),this.parent=r;var t=this.parent.getContainer();this.rendererService=t.get(ve.IRendererService),this.layerService=t.get(ve.ILayerService),this.mapService=t.get(ve.IMapService),this.pickingService=t.get(ve.IPickingService),this.tileLayerService=new T2t({rendererService:this.rendererService,layerService:this.layerService,parent:r}),this.tilePickService=new L2t({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:r}),this.parent.setLayerPickService(this.tilePickService),this.proxy(r),this.initTileSetManager()}return(0,ye.Z)(e,[{key:"initTileSetManager",value:function(){var t,n=this.parent.getSource();this.tilesetManager=n.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0);var i=this.getCurrentView(),a=i.latLonBounds,o=i.zoom;(t=this.tilesetManager)===null||t===void 0||t.update(o,a)}},{key:"mapchange",value:function(){var t,n=this.getCurrentView(),i=n.latLonBounds,a=n.zoom;if(this.mapService.version==="GAODE1.x"){var o=this.parent.getLayerConfig(),s=o.visible;a<2&&s?(this.parent.updateLayerConfig({visible:!1}),this.layerService.reRender()):a>=2&&!s&&(this.parent.updateLayerConfig({visible:!0}),this.layerService.reRender())}this.lastViewStates&&this.lastViewStates.zoom===a&&this.lastViewStates.latLonBounds.toString()===i.toString()||(this.lastViewStates={zoom:a,latLonBounds:i},(t=this.tilesetManager)===null||t===void 0||t.throttleUpdate(a,i))}},{key:"getCurrentView",value:function(){var t=this.mapService.getBounds(),n=[t[0][0],t[0][1],t[1][0],t[1][1]],i=this.mapService.getZoom();return{latLonBounds:n,zoom:i}}},{key:"bindTilesetEvent",value:function(){var t=this;this.tilesetManager.on("tile-loaded",function(n){}),this.tilesetManager.on("tile-unload",function(n){t.tileUnLoad(n)}),this.tilesetManager.on("tile-error",function(n,i){t.tileError(n)}),this.tilesetManager.on("tile-update",function(){t.tileUpdate()}),this.mapService.on("zoomend",function(){return t.mapchange()}),this.mapService.on("moveend",function(){return t.viewchange()})}},{key:"render",value:function(){this.tileLayerService.render()}},{key:"getLayers",value:function(){return this.tileLayerService.getLayers()}},{key:"getTiles",value:function(){return this.tileLayerService.getTiles()}},{key:"tileLoaded",value:function(t){}},{key:"tileError",value:function(t){console.warn("error:",t)}},{key:"destroy",value:function(){var t;(t=this.tilesetManager)===null||t===void 0||t.destroy(),this.tileLayerService.destroy()}},{key:"tileUnLoad",value:function(t){this.tileLayerService.removeTile(t.key)}},{key:"tileUpdate",value:function(){var r=(0,xe.Z)(zt().mark(function n(){var i=this,a,o;return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(this.tilesetManager){u.next=2;break}return u.abrupt("return");case 2:return a=this.parent.getMinZoom(),o=this.parent.getMaxZoom(),u.next=6,Promise.all(this.tilesetManager.tiles.filter(function(l){return l.isLoaded}).filter(function(l){return l.isVisibleChange}).filter(function(l){return l.data}).filter(function(l){return l.z>=a&&l.z<o}).map(function(){var l=(0,xe.Z)(zt().mark(function c(f){var h,v;return zt().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(i.tileLayerService.hasTile(f.key)){g.next=9;break}return h=R3t(i.parent),v=new h(f,i.parent),g.next=5,v.initTileLayer();case 5:i.tilePickService.setPickState(),v.getLayers().length!==0&&(i.tileLayerService.addTile(v),i.tileLayerService.updateTileVisible(f),i.layerService.reRender()),g.next=12;break;case 9:i.tileLayerService.updateTileVisible(f),i.tilePickService.setPickState(),i.layerService.reRender();case 12:case"end":return g.stop()}},c)}));return function(c){return l.apply(this,arguments)}}()));case 6:this.tilesetManager.isLoaded&&this.parent.emit("tiles-loaded",this.tilesetManager.currentTiles);case 7:case"end":return u.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()},{key:"setPickState",value:function(t){}},{key:"pickRender",value:function(t){this.tilePickService.pickRender(t)}},{key:"selectFeature",value:function(t){this.tilePickService.selectFeature(t)}},{key:"highlightPickedFeature",value:function(t){this.tilePickService.highlightPickedFeature(t)}},{key:"proxy",value:function(t){var n=this;I2t.forEach(function(i){var a=t[i].bind(t);t[i]=function(){for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return a.apply(void 0,s),n.getLayers().map(function(l){l[i].apply(l,s)}),i==="style"&&n.getTiles().forEach(function(l){return l.styleUpdate.apply(l,s)}),t}})}}]),e}(),oM,sM,D3t=(oM=(0,Ze.b2)(),oM(sM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"build",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i.prepareBuildModel(),o.next=3,i.buildModels();case 3:case"end":return o.stop()}},n)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"initLayerModel",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.build(i);case 2:i.styleNeedUpdate=!1;case 3:case"end":return o.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"prepareLayerModel",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.build(i);case 2:case"end":return o.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"apply",value:function(t){var n=this;t.hooks.init.tapPromise("LayerModelPlugin",(0,xe.Z)(zt().mark(function i(){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!t.getSource().isTile){o.next=4;break}return t.prepareBuildModel(),t.tileLayer=new aM(t),o.abrupt("return");case 4:return t.log(pn.BuildModelStart,dn.INIT),o.next=7,n.initLayerModel(t);case 7:t.log(pn.BuildModelEnd,dn.INIT);case 8:case"end":return o.stop()}},i)}))),t.hooks.beforeRenderData.tapPromise("LayerModelPlugin",function(){var i=(0,xe.Z)(zt().mark(function a(o){return zt().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(o){u.next=2;break}return u.abrupt("return",!1);case 2:if(!t.getSource().isTile){u.next=5;break}return t.tileLayer=new aM(t),u.abrupt("return",!1);case 5:return t.log(pn.BuildModelStart,dn.UPDATE),u.next=8,n.prepareLayerModel(t);case 8:return t.log(pn.BuildModelEnd,dn.UPDATE),u.abrupt("return",!0);case 10:case"end":return u.stop()}},a)}));return function(a){return i.apply(this,arguments)}}())}}]),e}())||sM),uM,lM,B3t=(uM=(0,Ze.b2)(),uM(lM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t){t.hooks.afterInit.tap("LayerStylePlugin",function(){var n=t.getLayerConfig(),i=n.autoFit,a=n.fitBoundsOptions;i&&t.fitBounds(a)})}}]),e}())||lM),cM,fM,N3t=["type"],hM={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},Z3t={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},z3t={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},U3t={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function H3t(e){var r={u_DirectionalLights:new Array(3).fill((0,H.Z)({},z3t)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill((0,H.Z)({},U3t)),u_NumOfSpotLights:0};return(!e||!e.length)&&(e=[Z3t]),e.forEach(function(t){var n=t.type,i=n===void 0?"directional":n,a=(0,B.Z)(t,N3t),o=hM[i].lights,s=hM[i].num,u=r[s];r[o][u]=(0,H.Z)((0,H.Z)({},r[o][u]),a),r[s]++}),r}var V3t=(cM=(0,Ze.b2)(),cM(fM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("LightingPlugin",function(){var n=t.getLayerConfig(),i=n.enableLighting;i&&t.models.forEach(function(a){return a.addUniforms((0,H.Z)({},H3t()))})})}}]),e}())||fM),vM,pM,G3t=(vM=(0,Ze.b2)(),vM(pM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=this,a=n.rendererService,o=n.postProcessingPassFactory,s=n.normalPassFactory;t.hooks.init.tapPromise("MultiPassRendererPlugin",function(){var u=t.getLayerConfig(),l=u.enableMultiPassRenderer,c=u.passes,f=c===void 0?[]:c;i.enabled=!!l&&t.getLayerConfig().enableMultiPassRenderer!==!1,i.enabled&&(t.multiPassRenderer=DS(t,f,o,s),t.multiPassRenderer.setRenderFlag(!0))}),t.hooks.beforeRender.tap("MultiPassRendererPlugin",function(){if(i.enabled){var u=a.getViewportSize(),l=u.width,c=u.height;t.multiPassRenderer.resize(l,c)}})}}]),e}())||pM),dM,gM,Cc={NONE:0,ENCODE:1,HIGHLIGHT:2},j3t=(dM=(0,Ze.b2)(),dM(gM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=n.styleAttributeService;t.hooks.init.tapPromise("PixelPickingPlugin",function(){var a=t.getLayerConfig(),o=a.enablePicking;i.registerStyleAttribute({name:"pickingColor",type:Xe.Attribute,descriptor:{name:"a_PickingColor",buffer:{data:[],type:J.FLOAT},size:3,update:function(u){var l=u.id;return o?Ja(l):[0,0,0]}}})}),t.hooks.beforePickingEncode.tap("PixelPickingPlugin",function(){var a=t.getLayerConfig(),o=a.enablePicking;o&&t.isVisible()&&t.models.forEach(function(s){return s.addUniforms({u_PickingStage:Cc.ENCODE})})}),t.hooks.afterPickingEncode.tap("PixelPickingPlugin",function(){var a=t.getLayerConfig(),o=a.enablePicking;o&&t.isVisible()&&t.models.forEach(function(s){return s.addUniforms({u_PickingStage:Cc.HIGHLIGHT})})}),t.hooks.beforeHighlight.tap("PixelPickingPlugin",function(a){var o=t.getLayerConfig(),s=o.highlightColor,u=o.activeMix,l=u===void 0?0:u,c=typeof s=="string"?Dr(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:M1(new Uint8Array(a))}),t.models.forEach(function(f){return f.addUniforms({u_PickingStage:Cc.HIGHLIGHT,u_PickingColor:a,u_HighlightColor:c.map(function(h){return h*255}),u_activeMix:l})})}),t.hooks.beforeSelect.tap("PixelPickingPlugin",function(a){var o=t.getLayerConfig(),s=o.selectColor,u=o.selectMix,l=u===void 0?0:u,c=typeof s=="string"?Dr(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:M1(new Uint8Array(a))}),t.models.forEach(function(f){return f.addUniforms({u_PickingStage:Cc.HIGHLIGHT,u_PickingColor:a,u_HighlightColor:c.map(function(h){return h*255}),u_activeMix:l,u_CurrentSelectedId:a,u_SelectColor:c.map(function(h){return h*255}),u_EnableSelect:1})})})}}]),e}())||gM),W3t=["mvt","geojsonvt","testTile"];function Y3t(e){var r=e.getSource();return W3t.includes(r.parser.type)}function lpt(e){return e.getContext?{width:e.width/DOM.DPR,height:e.height/DOM.DPR}:e.getBoundingClientRect()}var yM,mM,X3t=(yM=(0,Ze.b2)(),yM(mM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=this,a=n.styleAttributeService;t.hooks.init.tapPromise("RegisterStyleAttributePlugin",function(){Y3t(t)||i.registerBuiltinAttributes(a,t)})}},{key:"registerBuiltinAttributes",value:function(t,n){if(n.type==="MaskLayer"){this.registerPositionAttribute(t);return}this.registerPositionAttribute(t),this.registerColorAttribute(t),this.registerVertexIdAttribute(t)}},{key:"registerPositionAttribute",value:function(t){t.registerStyleAttribute({name:"position",type:Xe.Attribute,descriptor:{name:"a_Position",buffer:{data:[],type:J.FLOAT},size:3,update:function(i,a,o){return o.length===2?[o[0],o[1],0]:[o[0],o[1],o[2]]}}})}},{key:"registerFilterAttribute",value:function(t){t.registerStyleAttribute({name:"filter",type:Xe.Attribute,descriptor:{name:"filter",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(i){var a=i.filter;return a?[1]:[0]}}})}},{key:"registerColorAttribute",value:function(t){t.registerStyleAttribute({name:"color",type:Xe.Attribute,descriptor:{name:"a_Color",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:4,update:function(i){var a=i.color;return!a||!a.length?[1,1,1,1]:a}}})}},{key:"registerVertexIdAttribute",value:function(t){t.registerStyleAttribute({name:"vertexId",type:Xe.Attribute,descriptor:{name:"a_vertexId",buffer:{usage:J.DYNAMIC_DRAW,data:[],type:J.FLOAT},size:1,update:function(i,a){return[a]}}})}}]),e}())||mM),xM,_M,EM,CM,SM,bM,J0,AM,MM,TM,wM,$3t=(xM=(0,Ze.b2)(),_M=(0,Ze.f3)(ve.ICameraService),EM=(0,Ze.f3)(ve.ICoordinateSystemService),CM=(0,Ze.f3)(ve.IRendererService),SM=(0,Ze.f3)(ve.IMapService),xM(bM=(J0=function(){function e(){(0,ge.Z)(this,e),dr(this,"cameraService",AM,this),dr(this,"coordinateSystemService",MM,this),dr(this,"rendererService",TM,this),dr(this,"mapService",wM,this)}return(0,ye.Z)(e,[{key:"apply",value:function(t){var n=this,i=this.mapService.version,a=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[0,0];t.hooks.beforeRender.tap("ShaderUniformPlugin",function(){var s=t.getLayerConfig().tileOrigin;n.coordinateSystemService.refresh(s),i==="GAODE2.x"&&(n.setLayerCenter(t),a=n.mapService.map.customCoords.getMVPMatrix(),o=n.mapService.getCustomCoordCenter());var u=n.rendererService.getViewportSize(),l=u.width,c=u.height;t.models.forEach(function(f){var h;f.addUniforms((h={},(0,S.Z)(h,R1.ProjectionMatrix,n.cameraService.getProjectionMatrix()),(0,S.Z)(h,R1.ViewMatrix,n.cameraService.getViewMatrix()),(0,S.Z)(h,R1.ViewProjectionMatrix,n.cameraService.getViewProjectionMatrix()),(0,S.Z)(h,R1.Zoom,n.cameraService.getZoom()),(0,S.Z)(h,R1.ZoomScale,n.cameraService.getZoomScale()),(0,S.Z)(h,R1.FocalDistance,n.cameraService.getFocalDistance()),(0,S.Z)(h,R1.CameraPosition,n.cameraService.getCameraPosition()),(0,S.Z)(h,L1.CoordinateSystem,n.coordinateSystemService.getCoordinateSystem()),(0,S.Z)(h,L1.ViewportCenter,n.coordinateSystemService.getViewportCenter()),(0,S.Z)(h,L1.ViewportCenterProjection,n.coordinateSystemService.getViewportCenterProjection()),(0,S.Z)(h,L1.PixelsPerDegree,n.coordinateSystemService.getPixelsPerDegree()),(0,S.Z)(h,L1.PixelsPerDegree2,n.coordinateSystemService.getPixelsPerDegree2()),(0,S.Z)(h,L1.PixelsPerMeter,n.coordinateSystemService.getPixelsPerMeter()),(0,S.Z)(h,L1.Mvp,a),(0,S.Z)(h,"u_SceneCenterMKT",o),(0,S.Z)(h,"u_ViewportSize",[l,c]),(0,S.Z)(h,"u_ModelMatrix",n.cameraService.getModelMatrix()),(0,S.Z)(h,"u_DevicePixelRatio",Br.devicePixelRatio),(0,S.Z)(h,"u_PickingBuffer",t.getLayerConfig().pickingBuffer||0),(0,S.Z)(h,"u_shaderPick",Number(t.getShaderPickStat())),h))})})}},{key:"setLayerCenter",value:function(t){t.coordCenter===void 0&&(t.coordCenter=t.getSource().center),this.mapService.setCoordCenter&&this.mapService.setCoordCenter(t.coordCenter)}}]),e}(),AM=vr(J0.prototype,"cameraService",[_M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),MM=vr(J0.prototype,"coordinateSystemService",[EM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),TM=vr(J0.prototype,"rendererService",[CM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wM=vr(J0.prototype,"mapService",[SM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J0))||bM),FM,kM,q3t=(FM=(0,Ze.b2)(),FM(kM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t){t.hooks.beforeRender.tap("UpdateModelPlugin",function(){t.layerModel&&t.layerModel.needUpdate().then(function(n){n&&t.renderLayers()})}),t.hooks.afterRender.tap("UpdateModelPlugin",function(){t.layerModelNeedUpdate=!1})}}]),e}())||kM),OM,LM,K3t=(OM=(0,Ze.b2)(),OM(LM=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"apply",value:function(t,n){var i=this,a=n.styleAttributeService;t.hooks.init.tapPromise("UpdateStyleAttributePlugin",function(){i.initStyleAttribute(t,{styleAttributeService:a})}),t.hooks.beforeRender.tap("UpdateStyleAttributePlugin",function(){t.layerModelNeedUpdate||t.inited&&i.updateStyleAttribute(t,{styleAttributeService:a})})}},{key:"updateStyleAttribute",value:function(t,n){var i=n.styleAttributeService,a=i.getLayerStyleAttributes()||[],o=i.getLayerStyleAttribute("filter");if(o&&o.needRegenerateVertices){t.layerModelNeedUpdate=!0,a.forEach(function(s){return s.needRegenerateVertices=!1});return}a.filter(function(s){return s.needRegenerateVertices}).forEach(function(s){i.updateAttributeByFeatureRange(s.name,t.getEncodedData(),s.featureRange.startIndex,s.featureRange.endIndex,t),s.needRegenerateVertices=!1})}},{key:"initStyleAttribute",value:function(t,n){var i=n.styleAttributeService,a=i.getLayerStyleAttributes()||[];a.filter(function(o){return o.needRegenerateVertices}).forEach(function(o){i.updateAttributeByFeatureRange(o.name,t.getEncodedData(),o.featureRange.startIndex,o.featureRange.endIndex),o.needRegenerateVertices=!1})}}]),e}())||LM);Ti.bind(ve.ILayerPlugin).to(rut).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(X3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(A2t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(eut).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(B3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(K3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(q3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(G3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to($3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(M2t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(V3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(j3t).inRequestScope(),Ti.bind(ve.ILayerPlugin).to(D3t).inRequestScope();var Q3t=F(87781),J3t=F.n(Q3t),tct=function(){function e(r,t){(0,ge.Z)(this,e);var n=t.buffer,i=t.offset,a=t.stride,o=t.normalized,s=t.size,u=t.divisor;this.buffer=n,this.attribute={buffer:n.get(),offset:i||0,stride:a||0,normalized:o||!1,divisor:u||0},s&&(this.attribute.size=s)}return(0,ye.Z)(e,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),e}(),lo,yl,co,Ji,ml,Yo,xl,Sc,Ia,j1,Bn,Pa,Ra,bc,ect=(lo={},(0,S.Z)(lo,J.POINTS,"points"),(0,S.Z)(lo,J.LINES,"lines"),(0,S.Z)(lo,J.LINE_LOOP,"line loop"),(0,S.Z)(lo,J.LINE_STRIP,"line strip"),(0,S.Z)(lo,J.TRIANGLES,"triangles"),(0,S.Z)(lo,J.TRIANGLE_FAN,"triangle fan"),(0,S.Z)(lo,J.TRIANGLE_STRIP,"triangle strip"),lo),IM=(yl={},(0,S.Z)(yl,J.STATIC_DRAW,"static"),(0,S.Z)(yl,J.DYNAMIC_DRAW,"dynamic"),(0,S.Z)(yl,J.STREAM_DRAW,"stream"),yl),v6=(co={},(0,S.Z)(co,J.BYTE,"int8"),(0,S.Z)(co,J.UNSIGNED_INT,"int16"),(0,S.Z)(co,J.INT,"int32"),(0,S.Z)(co,J.UNSIGNED_BYTE,"uint8"),(0,S.Z)(co,J.UNSIGNED_SHORT,"uint16"),(0,S.Z)(co,J.UNSIGNED_INT,"uint32"),(0,S.Z)(co,J.FLOAT,"float"),co),rct=(Ji={},(0,S.Z)(Ji,J.ALPHA,"alpha"),(0,S.Z)(Ji,J.LUMINANCE,"luminance"),(0,S.Z)(Ji,J.LUMINANCE_ALPHA,"luminance alpha"),(0,S.Z)(Ji,J.RGB,"rgb"),(0,S.Z)(Ji,J.RGBA,"rgba"),(0,S.Z)(Ji,J.RGBA4,"rgba4"),(0,S.Z)(Ji,J.RGB5_A1,"rgb5 a1"),(0,S.Z)(Ji,J.RGB565,"rgb565"),(0,S.Z)(Ji,J.DEPTH_COMPONENT,"depth"),(0,S.Z)(Ji,J.DEPTH_STENCIL,"depth stencil"),Ji),nct=(ml={},(0,S.Z)(ml,J.DONT_CARE,"dont care"),(0,S.Z)(ml,J.NICEST,"nice"),(0,S.Z)(ml,J.FASTEST,"fast"),ml),PM=(Yo={},(0,S.Z)(Yo,J.NEAREST,"nearest"),(0,S.Z)(Yo,J.LINEAR,"linear"),(0,S.Z)(Yo,J.LINEAR_MIPMAP_LINEAR,"mipmap"),(0,S.Z)(Yo,J.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),(0,S.Z)(Yo,J.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),(0,S.Z)(Yo,J.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),Yo),RM=(xl={},(0,S.Z)(xl,J.REPEAT,"repeat"),(0,S.Z)(xl,J.CLAMP_TO_EDGE,"clamp"),(0,S.Z)(xl,J.MIRRORED_REPEAT,"mirror"),xl),ict=(Sc={},(0,S.Z)(Sc,J.NONE,"none"),(0,S.Z)(Sc,J.BROWSER_DEFAULT_WEBGL,"browser"),Sc),act=(Ia={},(0,S.Z)(Ia,J.NEVER,"never"),(0,S.Z)(Ia,J.ALWAYS,"always"),(0,S.Z)(Ia,J.LESS,"less"),(0,S.Z)(Ia,J.LEQUAL,"lequal"),(0,S.Z)(Ia,J.GREATER,"greater"),(0,S.Z)(Ia,J.GEQUAL,"gequal"),(0,S.Z)(Ia,J.EQUAL,"equal"),(0,S.Z)(Ia,J.NOTEQUAL,"notequal"),Ia),DM=(j1={},(0,S.Z)(j1,J.FUNC_ADD,"add"),(0,S.Z)(j1,J.MIN_EXT,"min"),(0,S.Z)(j1,J.MAX_EXT,"max"),(0,S.Z)(j1,J.FUNC_SUBTRACT,"subtract"),(0,S.Z)(j1,J.FUNC_REVERSE_SUBTRACT,"reverse subtract"),j1),Ac=(Bn={},(0,S.Z)(Bn,J.ZERO,"zero"),(0,S.Z)(Bn,J.ONE,"one"),(0,S.Z)(Bn,J.SRC_COLOR,"src color"),(0,S.Z)(Bn,J.ONE_MINUS_SRC_COLOR,"one minus src color"),(0,S.Z)(Bn,J.SRC_ALPHA,"src alpha"),(0,S.Z)(Bn,J.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),(0,S.Z)(Bn,J.DST_COLOR,"dst color"),(0,S.Z)(Bn,J.ONE_MINUS_DST_COLOR,"one minus dst color"),(0,S.Z)(Bn,J.DST_ALPHA,"dst alpha"),(0,S.Z)(Bn,J.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),(0,S.Z)(Bn,J.CONSTANT_COLOR,"constant color"),(0,S.Z)(Bn,J.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),(0,S.Z)(Bn,J.CONSTANT_ALPHA,"constant alpha"),(0,S.Z)(Bn,J.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),(0,S.Z)(Bn,J.SRC_ALPHA_SATURATE,"src alpha saturate"),Bn),oct=(Pa={},(0,S.Z)(Pa,J.NEVER,"never"),(0,S.Z)(Pa,J.ALWAYS,"always"),(0,S.Z)(Pa,J.LESS,"less"),(0,S.Z)(Pa,J.LEQUAL,"lequal"),(0,S.Z)(Pa,J.GREATER,"greater"),(0,S.Z)(Pa,J.GEQUAL,"gequal"),(0,S.Z)(Pa,J.EQUAL,"equal"),(0,S.Z)(Pa,J.NOTEQUAL,"notequal"),Pa),ts=(Ra={},(0,S.Z)(Ra,J.ZERO,"zero"),(0,S.Z)(Ra,J.KEEP,"keep"),(0,S.Z)(Ra,J.REPLACE,"replace"),(0,S.Z)(Ra,J.INVERT,"invert"),(0,S.Z)(Ra,J.INCR,"increment"),(0,S.Z)(Ra,J.DECR,"decrement"),(0,S.Z)(Ra,J.INCR_WRAP,"increment wrap"),(0,S.Z)(Ra,J.DECR_WRAP,"decrement wrap"),Ra),sct=(bc={},(0,S.Z)(bc,J.FRONT,"front"),(0,S.Z)(bc,J.BACK,"back"),bc),uct=function(){function e(r,t){(0,ge.Z)(this,e);var n=t.data,i=t.usage,a=t.type;this.buffer=r.buffer({data:n,usage:IM[i||J.STATIC_DRAW],type:v6[a||J.UNSIGNED_BYTE]})}return(0,ye.Z)(e,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var n=t.data,i=t.offset;this.buffer.subdata(n,i)}}]),e}(),lct=function(){function e(r,t){(0,ge.Z)(this,e);var n=t.data,i=t.usage,a=t.type,o=t.count;this.elements=r.elements({data:n,usage:IM[i||J.STATIC_DRAW],type:v6[a||J.UNSIGNED_BYTE],count:o})}return(0,ye.Z)(e,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var n=t.data;this.elements.subdata(n)}},{key:"destroy",value:function(){}}]),e}(),cct=function(){function e(r,t){(0,ge.Z)(this,e);var n=t.width,i=t.height,a=t.color,o=t.colors,s={width:n,height:i};Array.isArray(o)&&(s.colors=o.map(function(u){return u.get()})),a&&typeof a!="boolean"&&(s.color=a.get()),this.framebuffer=r.framebuffer(s)}return(0,ye.Z)(e,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var n=t.width,i=t.height;this.framebuffer.resize(n,i)}}]),e}(),fct=function(){function e(r,t){(0,ge.Z)(this,e),(0,S.Z)(this,"destroyed",!1),(0,S.Z)(this,"uniforms",{}),this.reGl=r;var n=t.pick,i=n===void 0?!0:n,a=t.vs,o=t.fs,s=t.attributes,u=t.uniforms,l=t.primitive,c=t.count,f=t.elements,h=t.depth,v=t.blend,p=t.stencil,g=t.cull,y=t.instances,m={};this.options=t,u&&(this.uniforms=this.extractUniforms(u),Object.keys(u).forEach(function(M){m[M]=r.prop(M)}));var E={};Object.keys(s).forEach(function(M){E[M]=s[M].get()});var C={attributes:E,frag:o,uniforms:m,vert:a,blend:{},primitive:ect[l===void 0?J.TRIANGLES:l]};if(y&&(C.instances=y),c?C.count=c:f&&(C.elements=f.get()),this.initDepthDrawParams({depth:h},C),this.initBlendDrawParams({blend:v},C),this.initStencilDrawParams({stencil:p},C),this.initCullDrawParams({cull:g},C),this.drawCommand=r(C),i){var A=(0,Te.cloneDeep)(C);A.blend=(0,H.Z)((0,H.Z)({},A.blend),{},{enable:!1}),this.drawPickCommand=r(A)}this.drawParams=C}return(0,ye.Z)(e,[{key:"updateAttributesAndElements",value:function(t,n){var i={};if(Object.keys(t).forEach(function(o){i[o]=t[o].get()}),this.drawParams.attributes=i,this.drawParams.elements=n.get(),this.drawCommand=this.reGl(this.drawParams),this.options.pick){var a=(0,Te.cloneDeep)(this.drawParams);a.blend=(0,H.Z)((0,H.Z)({},a.blend),{},{enable:!1}),this.drawPickCommand=this.reGl(a)}}},{key:"updateAttributes",value:function(t){var n={};if(Object.keys(t).forEach(function(a){n[a]=t[a].get()}),this.drawParams.attributes=n,this.drawCommand=this.reGl(this.drawParams),this.options.pick){var i=(0,Te.cloneDeep)(this.drawParams);i.blend=(0,H.Z)((0,H.Z)({},i.blend),{},{enable:!1}),this.drawPickCommand=this.reGl(i)}}},{key:"addUniforms",value:function(t){this.uniforms=(0,H.Z)((0,H.Z)({},this.uniforms),this.extractUniforms(t))}},{key:"draw",value:function(t,n){if(!(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)){var i=(0,H.Z)((0,H.Z)({},this.uniforms),this.extractUniforms(t.uniforms||{})),a={};Object.keys(i).forEach(function(o){var s=(0,Eu.Z)(i[o]);s==="boolean"||s==="number"||Array.isArray(i[o])||i[o].BYTES_PER_ELEMENT?a[o]=i[o]:a[o]=i[o].get()}),n?this.drawPickCommand&&this.drawPickCommand(a):this.drawCommand(a)}}},{key:"destroy",value:function(){var t,n;(t=this.drawParams)===null||t===void 0||(n=t.elements)===null||n===void 0||n.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(function(i){i==null||i.destroy()}),this.destroyed=!0}},{key:"initDepthDrawParams",value:function(t,n){var i=t.depth;i&&(n.depth={enable:i.enable===void 0?!0:!!i.enable,mask:i.mask===void 0?!0:!!i.mask,func:act[i.func||J.LESS],range:i.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,n){var i=t.blend;if(i){var a=i.enable,o=i.func,s=i.equation,u=i.color,l=u===void 0?[0,0,0,0]:u;n.blend={enable:!!a,func:{srcRGB:Ac[o&&o.srcRGB||J.SRC_ALPHA],srcAlpha:Ac[o&&o.srcAlpha||J.SRC_ALPHA],dstRGB:Ac[o&&o.dstRGB||J.ONE_MINUS_SRC_ALPHA],dstAlpha:Ac[o&&o.dstAlpha||J.ONE_MINUS_SRC_ALPHA]},equation:{rgb:DM[s&&s.rgb||J.FUNC_ADD],alpha:DM[s&&s.alpha||J.FUNC_ADD]},color:l}}}},{key:"initStencilDrawParams",value:function(t,n){var i=t.stencil;if(i){var a=i.enable,o=i.mask,s=o===void 0?-1:o,u=i.func,l=u===void 0?{cmp:J.ALWAYS,ref:0,mask:-1}:u,c=i.opFront,f=c===void 0?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:c,h=i.opBack,v=h===void 0?{fail:J.KEEP,zfail:J.KEEP,zpass:J.KEEP}:h;n.stencil={enable:!!a,mask:s,func:(0,H.Z)((0,H.Z)({},l),{},{cmp:oct[l.cmp]}),opFront:{fail:ts[f.fail],zfail:ts[f.zfail],zpass:ts[f.zpass]},opBack:{fail:ts[v.fail],zfail:ts[v.zfail],zpass:ts[v.zpass]}}}}},{key:"initCullDrawParams",value:function(t,n){var i=t.cull;if(i){var a=i.enable,o=i.face,s=o===void 0?J.BACK:o;n.cull={enable:!!a,face:sct[s]}}}},{key:"extractUniforms",value:function(t){var n=this,i={};return Object.keys(t).forEach(function(a){n.extractUniformsRecursively(a,t[a],i,"")}),i}},{key:"extractUniformsRecursively",value:function(t,n,i,a){var o=this;if(n===null||typeof n=="number"||typeof n=="boolean"||Array.isArray(n)&&typeof n[0]=="number"||(0,Te.isTypedArray)(n)||n===""||"resize"in n){i["".concat(a&&a+".").concat(t)]=n;return}(0,Te.isPlainObject)(n)&&Object.keys(n).forEach(function(s){o.extractUniformsRecursively(s,n[s],i,"".concat(a&&a+".").concat(t))}),Array.isArray(n)&&n.forEach(function(s,u){Object.keys(s).forEach(function(l){o.extractUniformsRecursively(l,s[l],i,"".concat(a&&a+".").concat(t,"[").concat(u,"]"))})})}}]),e}(),hct=function(){function e(r,t){(0,ge.Z)(this,e),(0,S.Z)(this,"isDestroy",!1);var n=t.data,i=t.type,a=i===void 0?J.UNSIGNED_BYTE:i,o=t.width,s=t.height,u=t.flipY,l=u===void 0?!1:u,c=t.format,f=c===void 0?J.RGBA:c,h=t.mipmap,v=h===void 0?!1:h,p=t.wrapS,g=p===void 0?J.CLAMP_TO_EDGE:p,y=t.wrapT,m=y===void 0?J.CLAMP_TO_EDGE:y,E=t.aniso,C=E===void 0?0:E,A=t.alignment,M=A===void 0?1:A,Z=t.premultiplyAlpha,Y=Z===void 0?!1:Z,st=t.mag,Ct=st===void 0?J.NEAREST:st,Pt=t.min,Zt=Pt===void 0?J.NEAREST:Pt,ie=t.colorSpace,ce=ie===void 0?J.BROWSER_DEFAULT_WEBGL:ie,_e=t.x,Re=_e===void 0?0:_e,he=t.y,Me=he===void 0?0:he,De=t.copy,Fe=De===void 0?!1:De;this.width=o,this.height=s;var Ve={width:o,height:s,type:v6[a],format:rct[f],wrapS:RM[g],wrapT:RM[m],mag:PM[Ct],min:PM[Zt],alignment:M,flipY:l,colorSpace:ict[ce],premultiplyAlpha:Y,aniso:C,x:Re,y:Me,copy:Fe};n&&(Ve.data=n),typeof v=="number"?Ve.mipmap=nct[v]:typeof v=="boolean"&&(Ve.mipmap=v),this.texture=r.texture(Ve)}return(0,ye.Z)(e,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.texture(t)}},{key:"bind",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var n=t.width,i=t.height;this.texture.resize(n,i),this.width=n,this.height=i}},{key:"getSize",value:function(){return[this.width,this.height]}},{key:"destroy",value:function(){if(!this.isDestroy){var t;(t=this.texture)===null||t===void 0||t.destroy()}this.isDestroy=!0}}]),e}(),BM,NM,vct=(BM=(0,Ze.b2)(),BM(NM=function(){function e(){var r=this;(0,ge.Z)(this,e),(0,S.Z)(this,"createModel",function(t){return new fct(r.gl,t)}),(0,S.Z)(this,"createAttribute",function(t){return new tct(r.gl,t)}),(0,S.Z)(this,"createBuffer",function(t){return new uct(r.gl,t)}),(0,S.Z)(this,"createElements",function(t){return new lct(r.gl,t)}),(0,S.Z)(this,"createTexture2D",function(t){return new hct(r.gl,t)}),(0,S.Z)(this,"createFramebuffer",function(t){return new cct(r.gl,t)}),(0,S.Z)(this,"useFramebuffer",function(t,n){r.gl({framebuffer:t?t.get():null})(n)}),(0,S.Z)(this,"clear",function(t){var n,i=t.color,a=t.depth,o=t.stencil,s=t.framebuffer,u=s===void 0?null:s,l={color:i,depth:a,stencil:o};l.framebuffer=u===null?u:u.get(),(n=r.gl)===null||n===void 0||n.clear(l)}),(0,S.Z)(this,"viewport",function(t){var n=t.x,i=t.y,a=t.width,o=t.height;r.gl._gl.viewport(n,i,a,o),r.width=a,r.height=o,r.gl._refresh()}),(0,S.Z)(this,"readPixels",function(t){var n=t.framebuffer,i=t.x,a=t.y,o=t.width,s=t.height,u={x:i,y:a,width:o,height:s};return n&&(u.framebuffer=n.get()),r.gl.read(u)}),(0,S.Z)(this,"getViewportSize",function(){return{width:r.gl._gl.drawingBufferWidth,height:r.gl._gl.drawingBufferHeight}}),(0,S.Z)(this,"getContainer",function(){if(Si)return r.canvas;var t;return(t=r.canvas)===null||t===void 0?void 0:t.parentElement}),(0,S.Z)(this,"getCanvas",function(){return r.canvas}),(0,S.Z)(this,"getGLContext",function(){return r.gl._gl}),(0,S.Z)(this,"destroy",function(){var t,n,i;r.canvas=null,(t=r.gl)===null||t===void 0||(n=t._gl)===null||n===void 0||(i=n.getExtension("WEBGL_lose_context"))===null||i===void 0||i.loseContext(),r.gl.destroy(),r.gl=null})}return(0,ye.Z)(e,[{key:"init",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a,o){var s=this;return zt().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.canvas=i,!o){l.next=5;break}this.gl=o,l.next=8;break;case 5:return l.next=7,new Promise(function(c,f){J3t()({canvas:s.canvas,attributes:{alpha:!0,antialias:a.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:a.preserveDrawingBuffer,stencil:a.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:function(v,p){(v||!p)&&f(v),c(p)}})});case 7:this.gl=l.sent;case 8:this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")};case 9:case"end":return l.stop()}},n,this)}));function t(n,i,a){return r.apply(this,arguments)}return t}()},{key:"getPointSizeRange",value:function(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}},{key:"testExtension",value:function(t){return!!this.getGLContext().getExtension(t)}},{key:"setState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setBaseState",value:function(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}},{key:"setCustomLayerDefaults",value:function(){var t=this.getGLContext();t.disable(t.CULL_FACE)}},{key:"setDirty",value:function(t){this.isDirty=t}},{key:"getDirty",value:function(){return this.isDirty}}]),e}())||NM);function pct(e){var r=dct();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function dct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var p6=["selectstart","selecting","selectend"],gct=function(e){(0,ze.Z)(t,e);var r=pct(t);function t(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,ge.Z)(this,t),i=r.call(this),(0,S.Z)((0,Qt.Z)(i),"isEnable",!1),(0,S.Z)((0,Qt.Z)(i),"onDragStart",function(o){i.box.style.display="block",i.startEvent=i.endEvent=o,i.syncBoxBound(),i.emit("selectstart",i.getLngLatBox(),i.startEvent,i.endEvent)}),(0,S.Z)((0,Qt.Z)(i),"onDragging",function(o){i.endEvent=o,i.syncBoxBound(),i.emit("selecting",i.getLngLatBox(),i.startEvent,i.endEvent)}),(0,S.Z)((0,Qt.Z)(i),"onDragEnd",function(o){i.endEvent=o,i.box.style.display="none",i.emit("selectend",i.getLngLatBox(),i.startEvent,i.endEvent)}),i.scene=n,i.options=a,i}return(0,ye.Z)(t,[{key:"container",get:function(){return this.scene.getMapService().getMarkerContainer()}},{key:"enable",value:function(){if(!this.isEnable){var i=this.options.className;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){var a=Er("div",void 0,this.container);a.classList.add("l7-select-box"),i&&a.classList.add(i),a.style.display="none",this.box=a}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}}},{key:"disable",value:function(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}},{key:"syncBoxBound",value:function(){var i=this.startEvent,a=i.x,o=i.y,s=this.endEvent,u=s.x,l=s.y,c=Math.min(a,u),f=Math.min(o,l),h=Math.abs(a-u),v=Math.abs(o-l);this.box.style.top="".concat(f,"px"),this.box.style.left="".concat(c,"px"),this.box.style.width="".concat(h,"px"),this.box.style.height="".concat(v,"px")}},{key:"getLngLatBox",value:function(){var i=this.startEvent.lngLat,a=i.lng,o=i.lat,s=this.endEvent.lngLat,u=s.lng,l=s.lat;return LQ([[a,o],[u,l]])}}]),t}(Vn.EventEmitter),yct=function(){function e(r){(0,ge.Z)(this,e);var t=r.id,n=r.map,i=r.canvas,a=r.hasBaseMap,o=Znt();this.container=o,n.setContainer(o,t,i,a),o.bind(ve.IRendererService).to(vct).inSingletonScope(),this.sceneService=o.get(ve.ISceneService),this.mapService=o.get(ve.IMapService),this.iconService=o.get(ve.IIconService),this.fontService=o.get(ve.IFontService),this.controlService=o.get(ve.IControlService),this.layerService=o.get(ve.ILayerService),this.debugService=o.get(ve.IDebugService),this.debugService.setEnable(r.debug),this.markerService=o.get(ve.IMarkerService),this.interactionService=o.get(ve.IInteractionService),this.popupService=o.get(ve.IPopupService),this.boxSelect=new gct(this,{}),OK((r==null?void 0:r.isMini)||!1),Si?this.sceneService.initMiniScene(r):(this.initComponent(t),this.sceneService.init(r),this.initControl())}return(0,ye.Z)(e,[{key:"map",get:function(){return this.mapService.map}},{key:"loaded",get:function(){return this.sceneService.loaded}},{key:"getServiceContainer",value:function(){return this.container}},{key:"getSize",value:function(){return this.mapService.getSize()}},{key:"getMinZoom",value:function(){return this.mapService.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.mapService.getMaxZoom()}},{key:"getType",value:function(){return this.mapService.getType()}},{key:"getMapContainer",value:function(){return this.mapService.getMapContainer()}},{key:"getMapCanvasContainer",value:function(){return this.mapService.getMapCanvasContainer()}},{key:"getMapService",value:function(){return this.mapService}},{key:"getDebugService",value:function(){return this.debugService}},{key:"exportPng",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.sceneService.exportPng(i));case 1:case"end":return o.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"exportMap",value:function(){var r=(0,xe.Z)(zt().mark(function n(i){return zt().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.sceneService.exportPng(i));case 1:case"end":return o.stop()}},n,this)}));function t(n){return r.apply(this,arguments)}return t}()},{key:"registerRenderService",value:function(t){var n=this;if(this.sceneService.loaded){var i=new t(this);i.init()}else this.on("loaded",function(){var a=new t(n);a.init()})}},{key:"setBgColor",value:function(t){this.mapService.setBgColor(t)}},{key:"addLayer",value:function(t){var n=this,i=G3(this.container);if(t.setContainer(i,this.container),this.sceneService.addLayer(t),t.inited){var a=this.initMask(t);this.addMask(a,t.id)}else t.on("inited",function(){var o=n.initMask(t);n.addMask(o,t.id)})}},{key:"initMask",value:function(t){var n=t.getLayerConfig(),i=n.mask,a=n.maskfence,o=n.maskColor,s=o===void 0?"#000":o,u=n.maskOpacity,l=u===void 0?0:u;if(!(!i||!a)){var c=new U9().source(a).shape("fill").style({color:s,opacity:l});return c}}},{key:"addMask",value:function(t,n){if(t){var i=this.getLayer(n);if(i){var a=G3(this.container);t.setContainer(a,this.container),i.addMaskLayer(t),this.sceneService.addMask(t)}else console.warn("parent layer not find!")}}},{key:"getPickedLayer",value:function(){return this.layerService.pickedLayerId}},{key:"getLayers",value:function(){return this.layerService.getLayers()}},{key:"getLayer",value:function(t){return this.layerService.getLayer(t)}},{key:"getLayerByName",value:function(t){return this.layerService.getLayerByName(t)}},{key:"removeLayer",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,this.layerService.remove(i,a);case 2:case"end":return s.stop()}},n,this)}));function t(n,i){return r.apply(this,arguments)}return t}()},{key:"removeAllLayer",value:function(){var r=(0,xe.Z)(zt().mark(function n(){return zt().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.layerService.removeAllLayers();case 2:case"end":return a.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()},{key:"render",value:function(){this.sceneService.render()}},{key:"setEnableRender",value:function(t){this.layerService.setEnableRender(t)}},{key:"addIconFont",value:function(t,n){this.fontService.addIconFont(t,n)}},{key:"addIconFonts",value:function(t){var n=this;t.forEach(function(i){var a=(0,nr.Z)(i,2),o=a[0],s=a[1];n.fontService.addIconFont(o,s)})}},{key:"addFontFace",value:function(t,n){var i=this;this.fontService.once("fontloaded",function(a){i.emit("fontloaded",a)}),this.fontService.addFontFace(t,n)}},{key:"addImage",value:function(){var r=(0,xe.Z)(zt().mark(function n(i,a){return zt().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(Si){s.next=5;break}return s.next=3,this.iconService.addImage(i,a);case 3:s.next=6;break;case 5:this.iconService.addImageMini(i,a,this.sceneService);case 6:case"end":return s.stop()}},n,this)}));function t(n,i){return r.apply(this,arguments)}return t}()},{key:"hasImage",value:function(t){return this.iconService.hasImage(t)}},{key:"removeImage",value:function(t){this.iconService.removeImage(t)}},{key:"addIconFontGlyphs",value:function(t,n){this.fontService.addIconGlyphs(n)}},{key:"addControl",value:function(t){this.controlService.addControl(t,this.container)}},{key:"removeControl",value:function(t){this.controlService.removeControl(t)}},{key:"getControlByName",value:function(t){return this.controlService.getControlByName(t)}},{key:"addMarker",value:function(t){this.markerService.addMarker(t)}},{key:"addMarkerLayer",value:function(t){this.markerService.addMarkerLayer(t)}},{key:"removeMarkerLayer",value:function(t){this.markerService.removeMarkerLayer(t)}},{key:"removeAllMakers",value:function(){this.markerService.removeAllMarkers()}},{key:"addPopup",value:function(t){this.popupService.addPopup(t)}},{key:"removePopup",value:function(t){this.popupService.removePopup(t)}},{key:"on",value:function(t,n){if(p6.includes(t)){var i;(i=this.boxSelect)===null||i===void 0||i.on(t,n)}else W3.includes(t)?this.sceneService.on(t,n):this.mapService.on(t,n)}},{key:"once",value:function(t,n){if(p6.includes(t)){var i;(i=this.boxSelect)===null||i===void 0||i.once(t,n)}else W3.includes(t)?this.sceneService.once(t,n):this.mapService.once(t,n)}},{key:"emit",value:function(t,n){W3.indexOf(t)===-1?this.mapService.on(t,n):this.sceneService.emit(t,n)}},{key:"off",value:function(t,n){if(p6.includes(t)){var i;(i=this.boxSelect)===null||i===void 0||i.off(t,n)}else W3.includes(t)?this.sceneService.off(t,n):this.mapService.off(t,n)}},{key:"getZoom",value:function(){return this.mapService.getZoom()}},{key:"getCenter",value:function(t){return this.mapService.getCenter(t)}},{key:"setCenter",value:function(t,n){return this.mapService.setCenter(t,n)}},{key:"getPitch",value:function(){return this.mapService.getPitch()}},{key:"setPitch",value:function(t){return this.mapService.setPitch(t)}},{key:"getRotation",value:function(){return this.mapService.getRotation()}},{key:"getBounds",value:function(){return this.mapService.getBounds()}},{key:"setRotation",value:function(t){this.mapService.setRotation(t)}},{key:"zoomIn",value:function(){this.mapService.zoomIn()}},{key:"zoomOut",value:function(){this.mapService.zoomOut()}},{key:"panTo",value:function(t){this.mapService.panTo(t)}},{key:"panBy",value:function(t,n){this.mapService.panBy(t,n)}},{key:"getContainer",value:function(){return this.mapService.getContainer()}},{key:"setZoom",value:function(t){this.mapService.setZoom(t)}},{key:"fitBounds",value:function(t,n){var i=this.sceneService.getSceneConfig(),a=i.fitBoundsOptions,o=i.animate;this.mapService.fitBounds(t,n||(0,H.Z)((0,H.Z)({},a),{},{animate:o}))}},{key:"setZoomAndCenter",value:function(t,n){this.mapService.setZoomAndCenter(t,n)}},{key:"setMapStyle",value:function(t){this.mapService.setMapStyle(t)}},{key:"setMapStatus",value:function(t){this.mapService.setMapStatus(t)}},{key:"pixelToLngLat",value:function(t){return this.mapService.pixelToLngLat(t)}},{key:"lngLatToPixel",value:function(t){return this.mapService.lngLatToPixel(t)}},{key:"containerToLngLat",value:function(t){return this.mapService.containerToLngLat(t)}},{key:"lngLatToContainer",value:function(t){return this.mapService.lngLatToContainer(t)}},{key:"destroy",value:function(){this.sceneService.destroy()}},{key:"registerPostProcessingPass",value:function(t,n){this.container.bind(ve.IPostProcessingPass).to(t).whenTargetNamed(n)}},{key:"enableShaderPick",value:function(){this.layerService.enableShaderPick()}},{key:"diasbleShaderPick",value:function(){this.layerService.disableShaderPick()}},{key:"enableBoxSelect",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.boxSelect.enable(),n&&this.boxSelect.once("selectend",function(){t.disableBoxSelect()})}},{key:"disableBoxSelect",value:function(){this.boxSelect.disable()}},{key:"getPointSizeRange",value:function(){return this.sceneService.getPointSizeRange()}},{key:"initComponent",value:function(t){this.controlService.init({container:Jm(t)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}},{key:"initControl",value:function(){var t=this.sceneService.getSceneConfig(),n=t.logoVisible,i=t.logoPosition;n&&this.addControl(new Ait({position:i}))}}]),e}(),ZM,d6,zM,UM=(ZM=a9(ve.IGlobalConfigService),d6=function(){function e(r){(0,ge.Z)(this,e),dr(this,"configService",zM,this),this.config=r}return(0,ye.Z)(e,[{key:"setContainer",value:function(t,n,i,a){t.bind(ve.MapConfig).toConstantValue((0,H.Z)((0,H.Z)({},this.config),{},{id:n,canvas:i,hasBaseMap:a})),t.bind(ve.IMapService).to(this.getServiceConstructor()).inSingletonScope()}},{key:"getServiceConstructor",value:function(){throw new Error("Method not implemented.")}}]),e}(),zM=vr(d6.prototype,"configService",[ZM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d6),mct=F(95742),HM=F.n(mct),VM=function(){function e(r){(0,ge.Z)(this,e),(0,S.Z)(this,"size",1e4),this.size=r||1e4}return(0,ye.Z)(e,[{key:"setSize",value:function(t){this.size=t}},{key:"getSize",value:function(){return[this.size,this.size]}},{key:"mercatorXfromLng",value:function(t){return(180+t)/360*this.size}},{key:"mercatorYfromLat",value:function(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}},{key:"lngFromMercatorX",value:function(t){return t/this.size*360-180}},{key:"latFromMercatorY",value:function(t){var n=180-(1-t/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(n*Math.PI/180))-90}},{key:"project",value:function(t){var n=this.mercatorXfromLng(t[0]),i=this.mercatorYfromLat(t[1]);return[n,i]}},{key:"unproject",value:function(t){var n=this.lngFromMercatorX(t[0]),i=this.latFromMercatorY(t[1]);return[n,i]}}]),e}();function GM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r={top:0,right:0,bottom:0,left:0};if(typeof e=="number")return{top:e,right:e,bottom:e,left:e};if(Array.isArray(e)){if(e.length===4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]}}return(0,H.Z)((0,H.Z)({},r),e)}function _l(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Mc(e,r){var t=D8([],r,e);return pet(t,t,1/t[3]),t}function cpt(e,r){var t=e%r;return t<0?r+t:t}function fpt(e,r,t){return t*r+(1-t)*e}function W1(e,r){if(!e)throw new Error(r||"viewport-mercator-project: assertion failed.")}var va=Math.PI,jM=va/4,fo=va/180,WM=180/va,g6=512,y6=4003e4,xct=1.5;function YM(e){return Math.pow(2,e)}function _ct(e){return Math.log2(e)}function Tc(e,r){var t=(0,nr.Z)(e,2),n=t[0],i=t[1];W1(Number.isFinite(n)&&Number.isFinite(r)),W1(Number.isFinite(i)&&i>=-90&&i<=90,"invalid latitude"),r*=g6;var a=n*fo,o=i*fo,s=r*(a+va)/(2*va),u=r*(va-Math.log(Math.tan(jM+o*.5)))/(2*va);return[s,u]}function m6(e,r){var t=(0,nr.Z)(e,2),n=t[0],i=t[1];r*=g6;var a=n/r*(2*va)-va,o=2*(Math.atan(Math.exp(va-i/r*(2*va)))-jM);return[a*WM,o*WM]}function hpt(e){var r=e.latitude;assert(Number.isFinite(r));var t=Math.cos(r*fo);return _ct(y6*t)-9}function XM(e){var r=e.latitude,t=e.longitude,n=e.zoom,i=e.scale,a=e.highPrecision,o=a===void 0?!1:a;i=i!==void 0?i:YM(n),W1(Number.isFinite(r)&&Number.isFinite(t)&&Number.isFinite(i));var s={},u=g6*i,l=Math.cos(r*fo),c=u/360,f=c/l,h=u/y6/l;if(s.pixelsPerMeter=[h,-h,h],s.metersPerPixel=[1/h,-1/h,1/h],s.pixelsPerDegree=[c,-f,h],s.degreesPerPixel=[1/c,-1/f,1/h],o){var v=fo*Math.tan(r*fo)/l,p=c*v/2,g=u/y6*v,y=g/f*h;s.pixelsPerDegree2=[0,-p,g],s.pixelsPerMeter2=[y,0,y]}return s}function vpt(e,r){var t=_slicedToArray(e,3),n=t[0],i=t[1],a=t[2],o=_slicedToArray(r,3),s=o[0],u=o[1],l=o[2],c=1,f=XM({longitude:n,latitude:i,scale:c,highPrecision:!0}),h=f.pixelsPerMeter,v=f.pixelsPerMeter2,p=Tc(e,c);p[0]+=s*(h[0]+v[0]*u),p[1]+=u*(h[1]+v[1]*u);var g=m6(p,c),y=(a||0)+(l||0);return Number.isFinite(a)||Number.isFinite(l)?[g[0],g[1],y]:g}function Ect(e){var r=e.height,t=e.pitch,n=e.bearing,i=e.altitude,a=e.center,o=a===void 0?null:a,s=e.flipY,u=s===void 0?!1:s,l=_l();return Zo(l,l,[0,0,-i]),O1(l,l,[1,1,1/r]),Z0(l,l,-t*fo),zu(l,l,n*fo),u&&O1(l,l,[1,-1,1]),o&&Zo(l,l,Y7([],o)),l}function Cct(e){var r=e.width,t=e.height,n=e.altitude,i=n===void 0?xct:n,a=e.pitch,o=a===void 0?0:a,s=e.nearZMultiplier,u=s===void 0?1:s,l=e.farZMultiplier,c=l===void 0?1:l,f=o*fo,h=Math.atan(.5/i),v=Math.sin(h)*i/Math.sin(Math.PI/2-f-h),p=Math.cos(Math.PI/2-f)*v+i;return{fov:2*Math.atan(t/2/i),aspect:r/t,focalDistance:i,near:u,far:p*c}}function Sct(e){var r=e.width,t=e.height,n=e.pitch,i=e.altitude,a=e.nearZMultiplier,o=e.farZMultiplier,s=Cct({width:r,height:t,altitude:i,pitch:n,nearZMultiplier:a,farZMultiplier:o}),u=s.fov,l=s.aspect,c=s.near,f=s.far,h=P8([],u,l,c,f);return h}function bct(e,r){var t=(0,nr.Z)(e,3),n=t[0],i=t[1],a=t[2],o=a===void 0?0:a;return W1(Number.isFinite(n)&&Number.isFinite(i)&&Number.isFinite(o)),Mc(r,[n,i,o,1])}function $M(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=(0,nr.Z)(e,3),i=n[0],a=n[1],o=n[2];if(W1(Number.isFinite(i)&&Number.isFinite(a),"invalid pixel coordinate"),Number.isFinite(o)){var s=Mc(r,[i,a,o,1]);return s}var u=Mc(r,[i,a,0,1]),l=Mc(r,[i,a,1,1]),c=u[2],f=l[2],h=c===f?0:((t||0)-c)/(f-c);return de.t7([],u,l,h)}var qM=_l(),Act=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=r.width,n=r.height,i=r.viewMatrix,a=i===void 0?qM:i,o=r.projectionMatrix,s=o===void 0?qM:o;(0,ge.Z)(this,e),this.width=t||1,this.height=n||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=a,this.projectionMatrix=s;var u=_l();$i(u,u,this.projectionMatrix),$i(u,u,this.viewMatrix),this.viewProjectionMatrix=u;var l=_l();O1(l,l,[this.width/2,-this.height/2,1]),Zo(l,l,[1,-1,0]),$i(l,l,this.viewProjectionMatrix);var c=I8(_l(),l);if(!c)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=l,this.pixelUnprojectionMatrix=c,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return(0,ye.Z)(e,[{key:"equals",value:function(t){return t instanceof e?t.width===this.width&&t.height===this.height&&R8(t.projectionMatrix,this.projectionMatrix)&&R8(t.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.topLeft,a=i===void 0?!0:i,o=this.projectPosition(t),s=bct(o,this.pixelProjectionMatrix),u=(0,nr.Z)(s,2),l=u[0],c=u[1],f=a?c:this.height-c;return t.length===2?[l,f]:[l,f,s[2]]}},{key:"unproject",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.topLeft,a=i===void 0?!0:i,o=n.targetZ,s=(0,nr.Z)(t,3),u=s[0],l=s[1],c=s[2],f=a?l:this.height-l,h=o&&o*this.pixelsPerMeter,v=$M([u,f,c],this.pixelUnprojectionMatrix,h),p=this.unprojectPosition(v),g=(0,nr.Z)(p,3),y=g[0],m=g[1],E=g[2];return Number.isFinite(c)?[y,m,E]:Number.isFinite(o)?[y,m,o]:[y,m]}},{key:"projectPosition",value:function(t){var n=this.projectFlat(t),i=(0,nr.Z)(n,2),a=i[0],o=i[1],s=(t[2]||0)*this.pixelsPerMeter;return[a,o,s]}},{key:"unprojectPosition",value:function(t){var n=this.unprojectFlat(t),i=(0,nr.Z)(n,2),a=i[0],o=i[1],s=(t[2]||0)/this.pixelsPerMeter;return[a,o,s]}},{key:"projectFlat",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return t}},{key:"unprojectFlat",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return t}}]),e}();function Mct(e){var r=e.width,t=e.height,n=e.bounds,i=e.minExtent,a=i===void 0?0:i,o=e.maxZoom,s=o===void 0?24:o,u=e.padding,l=u===void 0?0:u,c=e.offset,f=c===void 0?[0,0]:c,h=(0,nr.Z)(n,2),v=(0,nr.Z)(h[0],2),p=v[0],g=v[1],y=(0,nr.Z)(h[1],2),m=y[0],E=y[1];if(Number.isFinite(l)){var C=l;l={top:C,bottom:C,left:C,right:C}}else W1(Number.isFinite(l.top)&&Number.isFinite(l.bottom)&&Number.isFinite(l.left)&&Number.isFinite(l.right));var A=new x6({width:r,height:t,longitude:0,latitude:0,zoom:0}),M=A.project([p,E]),Z=A.project([m,g]),Y=[Math.max(Math.abs(Z[0]-M[0]),a),Math.max(Math.abs(Z[1]-M[1]),a)],st=[r-l.left-l.right-Math.abs(f[0])*2,t-l.top-l.bottom-Math.abs(f[1])*2];W1(st[0]>0&&st[1]>0);var Ct=st[0]/Y[0],Pt=st[1]/Y[1],Zt=(l.right-l.left)/2/Ct,ie=(l.bottom-l.top)/2/Pt,ce=[(Z[0]+M[0])/2+Zt,(Z[1]+M[1])/2+ie],_e=A.unproject(ce),Re=A.zoom+Math.log2(Math.abs(Math.min(Ct,Pt)));return{longitude:_e[0],latitude:_e[1],zoom:Math.min(Re,s)}}var x6=function(e){(0,ze.Z)(r,e);function r(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.width,a=n.height,o=n.latitude,s=o===void 0?0:o,u=n.longitude,l=u===void 0?0:u,c=n.zoom,f=c===void 0?0:c,h=n.pitch,v=h===void 0?0:h,p=n.bearing,g=p===void 0?0:p,y=n.altitude,m=y===void 0?1.5:y,E=n.nearZMultiplier,C=n.farZMultiplier;(0,ge.Z)(this,r),i=i||1,a=a||1;var A=YM(f);m=Math.max(.75,m);var M=Tc([l,s],A);M[2]=0;var Z=Sct({width:i,height:a,pitch:v,bearing:g,altitude:m,nearZMultiplier:E||1/a,farZMultiplier:C||1.01}),Y=Ect({height:a,center:M,pitch:v,bearing:g,altitude:m,flipY:!0});return t=(0,Ue.Z)(this,(0,ne.Z)(r).call(this,{width:i,height:a,viewMatrix:Y,projectionMatrix:Z})),t.latitude=s,t.longitude=l,t.zoom=f,t.pitch=v,t.bearing=g,t.altitude=m,t.scale=A,t.center=M,t.pixelsPerMeter=XM((0,Qt.Z)((0,Qt.Z)(t))).pixelsPerMeter[2],Object.freeze((0,Qt.Z)((0,Qt.Z)(t))),t}return(0,ye.Z)(r,[{key:"projectFlat",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return Tc(n,i)}},{key:"unprojectFlat",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return m6(n,i)}},{key:"getMapCenterByLngLatPosition",value:function(n){var i=n.lngLat,a=n.pos,o=$M(a,this.pixelUnprojectionMatrix),s=Tc(i,this.scale),u=de.IH([],s,de.tk([],o)),l=de.IH([],this.center,u);return m6(l,this.scale)}},{key:"getLocationAtPoint",value:function(n){var i=n.lngLat,a=n.pos;return this.getMapCenterByLngLatPosition({lngLat:i,pos:a})}},{key:"fitBounds",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.width,o=this.height,s=Mct(Object.assign({width:a,height:o,bounds:n},i)),u=s.longitude,l=s.latitude,c=s.zoom;return new r({width:a,height:o,longitude:u,latitude:l,zoom:c})}}]),r}(Act),Tct=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"syncWithMapCamera",value:function(t){var n=t.center,i=t.zoom,a=t.pitch,o=t.bearing,s=t.viewportHeight,u=t.viewportWidth,l=this.viewport?{width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing}:{};this.viewport=new x6((0,H.Z)((0,H.Z)({},l),{},{width:u,height:s,longitude:n&&n[0],latitude:n&&n[1],zoom:i,pitch:a,bearing:o}))}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,n){return this.viewport.projectFlat(t,n)}}]),e}(),wct={normal:"amap://styles/normal",light:"amap://styles/c422f5c0cfced5be9fe3a83f05f28a68?isPublic=true",dark:"amap://styles/c9f1d10cae34f8ab05e425462c5a58d7?isPublic=true",blank:"amap://styles/07c17002b38775b32a7a76c66cf90e99?isPublic=true",fresh:"amap://styles/fresh",grey:"amap://styles/grey",graffiti:"amap://styles/graffiti",macaron:"amap://styles/macaron",darkblue:"amap://styles/darkblue",wine:"amap://styles/wine"},Fct=["id","style","minZoom","maxZoom","token","mapInstance","plugin"],KM,QM,JM,tT,eT,rT,es,nT,iT,aT,oT;function kct(e,r){var t=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(t||n)&&(r||(r=document),!!r)){var i=r.head||r.getElementsByTagName("head")[0];if(!i){i=r.createElement("head");var a=r.body||r.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):r.documentElement.appendChild(i)}var o=r.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(r.createTextNode(e)),i.appendChild(o),o}}kct(`.amap-logo{
 display: none !important;
}
`);var sT={contextmenu:"rightclick"},Oct=0;window.forceWebGL=!0;var uT="15cd8a57710d40c9b7c0e3cc120f1200",Lct="1.4.15",Ict="amap-script",_6=!1,wc=[],Pct=12,Rct=(KM=(0,Ze.b2)(),QM=(0,Ze.f3)(ve.IGlobalConfigService),JM=(0,Ze.f3)(ve.MapConfig),tT=(0,Ze.f3)(ve.ICoordinateSystemService),eT=(0,Ze.f3)(ve.IEventEmitter),KM(rT=(es=function(){function e(){var r=this;(0,ge.Z)(this,e),(0,S.Z)(this,"version",Dn["GAODE1.x"]),(0,S.Z)(this,"simpleMapCoord",new VM),(0,S.Z)(this,"bgColor","rgba(0, 0, 0, 0)"),dr(this,"configService",nT,this),dr(this,"config",iT,this),dr(this,"coordinateSystemService",aT,this),dr(this,"eventEmitter",oT,this),(0,S.Z)(this,"handleCameraChanged",function(t){var n=t.camera,i=n.fov,a=n.near,o=n.far,s=n.height,u=n.pitch,l=n.rotation,c=n.aspect,f=n.position,h=r.getCenter(),v=h.lng,p=h.lat;if(r.emit("mapchange"),r.cameraChangedCallback){r.viewport.syncWithMapCamera({aspect:c,bearing:360-l,far:o,fov:i,cameraHeight:s,near:a,pitch:u,zoom:r.map.getZoom()-1,center:[v,p],offsetOrigin:[f.x,f.y]});var g=r.config.offsetZoom,y=g===void 0?Pct:g;r.viewport.getZoom()>y?r.coordinateSystemService.setCoordinateSystem(qi.P20_OFFSET):r.coordinateSystemService.setCoordinateSystem(qi.P20),r.cameraChangedCallback(r.viewport)}})}return(0,ye.Z)(e,[{key:"setBgColor",value:function(t){this.bgColor=t}},{key:"addMarkerContainer",value:function(){var t=this.map.getContainer();if(t!==null){var n=t.getElementsByClassName("amap-maps")[0];this.markerContainer=Er("div","l7-marker-container",n)}}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"on",value:function(t,n){o9.indexOf(t)!==-1?this.eventEmitter.on(t,n):this.map.on(sT[t]||t,n)}},{key:"off",value:function(t,n){o9.indexOf(t)!==-1?this.eventEmitter.off(t,n):this.map.off(sT[t]||t,n)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){var t;return(t=this.map.getContainer())===null||t===void 0?void 0:t.getElementsByClassName("amap-maps")[0]}},{key:"getSize",value:function(){var t=this.map.getSize();return[t.getWidth(),t.getHeight()]}},{key:"getType",value:function(){return"amap"}},{key:"getZoom",value:function(){return this.map.getZoom()-1}},{key:"setZoom",value:function(t){return this.map.setZoom(t+1)}},{key:"getCenter",value:function(t){if(t!=null&&t.padding){var n=this.getCenter(),i=GM(t.padding),a=this.lngLatToPixel([n.lng,n.lat]),o=[(i.right-i.left)/2,(i.bottom-i.top)/2],s=this.pixelToLngLat([a.x-o[0],a.y-o[1]]);return s}var u=this.map.getCenter();return{lng:u.getLng(),lat:u.getLat()}}},{key:"setCenter",value:function(t,n){if(n!=null&&n.padding){var i=GM(n.padding),a=this.lngLatToPixel(t),o=[(i.right-i.left)/2,(i.bottom-i.top)/2],s=this.pixelToLngLat([a.x+o[0],a.y+o[1]]);this.map.setCenter([s.lng,s.lat])}else this.map.setCenter(t)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return 360-this.map.getRotation()}},{key:"getBounds",value:function(){var t=this.map.getBounds().toBounds(),n=t.getNorthEast(),i=t.getSouthWest(),a=this.getCenter(),o=a.lng>n.getLng()||a.lng<i.getLng()?180-n.getLng():n.getLng(),s=a.lng<i.getLng()?i.getLng()-180:i.getLng();return[[s,i.getLat()],[o,n.getLat()]]}},{key:"getMinZoom",value:function(){var t=this.map.get("zooms");return t[0]-1}},{key:"getMaxZoom",value:function(){var t=this.map.get("zooms");return t[1]-1}},{key:"setRotation",value:function(t){return this.map.setRotation(t)}},{key:"setPitch",value:function(t){return this.map.setPitch(t)}},{key:"zoomIn",value:function(){this.map.zoomIn()}},{key:"zoomOut",value:function(){this.map.zoomOut()}},{key:"panTo",value:function(t){this.map.panTo(t)}},{key:"panBy",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.map.panBy(t,n)}},{key:"fitBounds",value:function(t){this.map.setBounds(new AMap.Bounds([t[0][0],t[0][1],t[1][0],t[1][1]]))}},{key:"setZoomAndCenter",value:function(t,n){this.map.setZoomAndCenter(t+1,n)}},{key:"setMapStyle",value:function(t){this.map.setMapStyle(this.getMapStyleValue(t))}},{key:"setMapStatus",value:function(t){this.map.setStatus(t)}},{key:"getMapStyleConfig",value:function(){return wct}},{key:"getMapStyleValue",value:function(t){return this.getMapStyleConfig()[t]||t}},{key:"getMapStyle",value:function(){return this.map.getMapStyle()}},{key:"pixelToLngLat",value:function(t){var n=this.map.pixelToLngLat(new AMap.Pixel(t[0],t[1]));return{lng:n.getLng(),lat:n.getLat()}}},{key:"lngLatToPixel",value:function(t){var n=this.map.lnglatToPixel(new AMap.LngLat(t[0],t[1]));return{x:n.getX(),y:n.getY()}}},{key:"containerToLngLat",value:function(t){var n=new AMap.Pixel(t[0],t[1]),i=this.map.containerToLngLat(n);return{lng:i==null?void 0:i.getLng(),lat:i==null?void 0:i.getLat()}}},{key:"lngLatToContainer",value:function(t){var n=new AMap.LngLat(t[0],t[1]),i=this.map.lngLatToContainer(n);return{x:i.getX(),y:i.getY()}}},{key:"lngLatToCoord",value:function(t){var n=this.map.lngLatToGeodeticCoord(t),i=n.x,a=n.y;return[i,-a]}},{key:"lngLatToMercator",value:function(t,n){return{x:0,y:0,z:0}}},{key:"getModelMatrix",value:function(t,n,i){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],o=this.viewport.projectFlat(t),s=ci();return Zo(s,s,_n(o[0],o[1],n)),O1(s,s,_n(a[0],a[1],a[2])),Z0(s,s,i[0]),Zu(s,s,i[1]),zu(s,s,i[2]),s}},{key:"init",value:function(){var r=(0,xe.Z)(zt().mark(function n(){var i=this,a,o,s,u,l,c,f,h,v,p,g,y,m,E;return zt().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return a=this.config,o=a.id,s=a.style,u=s===void 0?"light":s,l=a.minZoom,c=l===void 0?0:l,f=a.maxZoom,h=f===void 0?18:f,v=a.token,p=v===void 0?uT:v,g=a.mapInstance,y=a.plugin,m=y===void 0?[]:y,E=(0,B.Z)(a,Fct),A.next=3,new Promise(function(M){var Z=function(){if(g)i.map=g,i.$mapContainer=i.map.getContainer(),setTimeout(function(){i.map.on("camerachange",i.handleCameraChanged),M()},30);else{i.$mapContainer=i.creatMapContainer(o);var st=(0,H.Z)({mapStyle:i.getMapStyleValue(u),zooms:[c,h],viewMode:"3D"},E);st.zoom&&(st.zoom+=1);var Ct=new AMap.Map(i.$mapContainer,st);Ct.on("camerachange",i.handleCameraChanged),Ct.on("camerachange",function(){setTimeout(function(){return i.handleAfterMapChange()})}),i.map=Ct,setTimeout(function(){M()},10)}};!_6&&!g?(p===uT&&console.warn("%c".concat(i.configService.getSceneWarninfo("MapToken"),"!"),"color: #873bf4;font-weigh:900;font-size: 16px;"),_6=!0,m.push("Map3D"),HM().load({key:p,version:Lct,plugins:m}).then(function(){Z(),wc.length&&(wc.forEach(function(Y){return Y()}),wc=[])}).catch(function(Y){throw new Error(Y)})):_6&&window.AMap||g?Z():wc.push(Z)});case 3:this.viewport=new Tct;case 4:case"end":return A.stop()}},n,this)}));function t(){return r.apply(this,arguments)}return t}()},{key:"meterToCoord",value:function(t,n){var i=AMap.GeometryUtil.distance(L0(AMap.LngLat,(0,We.Z)(t)),L0(AMap.LngLat,(0,We.Z)(n))),a=this.lngLatToCoord(t),o=(0,nr.Z)(a,2),s=o[0],u=o[1],l=this.lngLatToCoord(n),c=(0,nr.Z)(l,2),f=c[0],h=c[1],v=Math.sqrt(Math.pow(s-f,2)+Math.pow(u-h,2));return v/i}},{key:"updateView",value:function(t){}},{key:"getOverlayContainer",value:function(){}},{key:"exportMap",value:function(t){var n,i=(n=this.getContainer())===null||n===void 0?void 0:n.getElementsByClassName("amap-layer")[0],a=t==="jpg"?i==null?void 0:i.toDataURL("image/jpeg"):i==null?void 0:i.toDataURL("image/png");return a}},{key:"emit",value:function(t){for(var n,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];(n=this.eventEmitter).emit.apply(n,[t].concat(a))}},{key:"once",value:function(t){for(var n,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];(n=this.eventEmitter).once.apply(n,[t].concat(a))}},{key:"destroy",value:function(){var t,n;(t=this.$mapContainer)===null||t===void 0||(n=t.parentNode)===null||n===void 0||n.removeChild(this.$mapContainer),delete window.initAMap;var i=document.getElementById(Ict);i&&document.head.removeChild(i),this.map.destroy()}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"handleAfterMapChange",value:function(){this.emit("mapAfterFrameChange")}},{key:"creatMapContainer",value:function(t){var n=t;typeof t=="string"&&(n=document.getElementById(t));var i=document.createElement("div");return i.style.cssText+=`
       position: absolute;
       top: 0;
       height: 100%;
       width: 100%;
     `,i.id="l7_amap_div"+Oct++,n.appendChild(i),i}}]),e}(),nT=vr(es.prototype,"configService",[QM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),iT=vr(es.prototype,"config",[JM],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aT=vr(es.prototype,"coordinateSystemService",[tT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oT=vr(es.prototype,"eventEmitter",[eT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),es))||rT),Dct=function(){function e(){(0,ge.Z)(this,e),(0,S.Z)(this,"projectionMatrix",ci()),(0,S.Z)(this,"viewMatrix",ci()),(0,S.Z)(this,"viewProjectionMatrix",ci()),(0,S.Z)(this,"ViewProjectionMatrixUncentered",ci()),(0,S.Z)(this,"viewUncenteredMatrix",ci())}return(0,ye.Z)(e,[{key:"syncWithMapCamera",value:function(t){var n=t.zoom,i=n===void 0?1:n,a=t.center,o=a===void 0?[0,0]:a,s=t.offsetOrigin,u=s===void 0?[0,0]:s,l=t.cameraPosition,c=l===void 0?[0,0,0]:l,f=t.up,h=f===void 0?[0,1,0]:f,v=t.lookAt,p=v===void 0?[0,0,0]:v,g=t.aspect,y=g===void 0?1:g,m=t.near,E=m===void 0?.1:m,C=t.far,A=C===void 0?1e3:C,M=t.fov,Z=M===void 0?45:M;this.zoom=i,this.center=o,P8(this.projectionMatrix,Z/180*Math.PI,y,E,A);var Y=_n.apply(V,(0,We.Z)(c)),st=_n.apply(V,(0,We.Z)(p)),Ct=_n.apply(V,(0,We.Z)(h));m_(this.viewMatrix,Y,st,Ct),this.viewUncenteredMatrix=c_(this.viewMatrix),Zo(this.viewMatrix,this.viewMatrix,_n(-u[0],u[1],0)),$i(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),$i(this.ViewProjectionMatrixUncentered,this.projectionMatrix,this.viewMatrix)}},{key:"getZoom",value:function(){return this.zoom}},{key:"getZoomScale",value:function(){return 1048576}},{key:"getCenter",value:function(){var t=(0,nr.Z)(this.center,2),n=t[0],i=t[1];return[n,i]}},{key:"getProjectionMatrix",value:function(){return this.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewUncenteredMatrix}},{key:"getViewProjectionMatrix",value:function(){return this.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.ViewProjectionMatrixUncentered}},{key:"getFocalDistance",value:function(){return 1.2}},{key:"projectFlat",value:function(t){var n=85.0511287798,i=Math.max(Math.min(n,t[1]),-n),a=256<<20,o=Math.PI/180,s=t[0]*o,u=i*o;u=Math.log(Math.tan(Math.PI/4+u/2));var l=.5/Math.PI,c=.5,f=-.5/Math.PI;return o=.5,s=a*(l*s+c)-215440491,u=-(a*(f*u+o)-106744817),[s,u]}}]),e}(),Bct=["id","style","minZoom","maxZoom","token","mapInstance","plugin","version"],lT,cT;function Nct(e){var r=Zct();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Zct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function zct(e,r){var t=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(t||n)&&(r||(r=document),!!r)){var i=r.head||r.getElementsByTagName("head")[0];if(!i){i=r.createElement("head");var a=r.body||r.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):r.documentElement.appendChild(i)}var o=r.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(r.createTextNode(e)),i.appendChild(o),o}}zct(`.amap-logo{
 display: none !important;
}
`);var fT=[108.92361,34.54083];window.forceWebGL=!0;var hT="ff533602d57df6f8ab3b0fea226ae52f",vT="2.0",ppt=!1,dpt=null,Uct=(lT=(0,Ze.b2)(),lT(cT=function(e){(0,ze.Z)(t,e);var r=Nct(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"version",Dn["GAODE2.x"]),(0,S.Z)((0,Qt.Z)(n),"handleViewChanged",function(s){var u=n.map.customCoords.getCameraParams(),l=u.fov,c=u.near,f=u.far,h=u.aspect,v=u.position,p=u.lookAt,g=u.up;n.emit("mapchange");var y=n.map.customCoords.getCenter();n.cameraChangedCallback&&(n.viewport.syncWithMapCamera({aspect:h,far:f,fov:l,cameraPosition:v,lookAt:p,up:g,near:c,zoom:n.map.getZoom()-1,center:y,offsetOrigin:[v[0],v[1]]}),n.coordinateSystemService.setCoordinateSystem(qi.P20_2),n.cameraChangedCallback(n.viewport))}),n}return(0,ye.Z)(t,[{key:"setCustomCoordCenter",value:function(i){this.sceneCenter=i,this.sceneCenterMKT=F3.apply(void 0,(0,We.Z)(i))}},{key:"getCustomCoordCenter",value:function(){return this.sceneCenterMKT}},{key:"lngLatToCoordByLayer",value:function(i,a){var o=a||this.sceneCenter,s=F3.apply(void 0,(0,We.Z)(o)),u=this._sub(F3(i[0],i[1]),s);return i[2]&&u.push(i[2]),u}},{key:"lngLatToCoordsByLayer",value:function(i,a){var o=this;return i.map(function(s){return typeof s[0]=="number"?o.lngLatToCoordByLayer(s,a):s.map(function(u){return o.lngLatToCoordByLayer(u,a)})})}},{key:"setCoordCenter",value:function(i){this.map.customCoords.setCenter(i||fT),this.setCustomCoordCenter(i||fT)}},{key:"lngLatToCoord",value:function(i){return this.sceneCenter||(this.map.customCoords.setCenter(i),this.setCustomCoordCenter(i)),this._sub(F3(i[0],i[1]),this.sceneCenterMKT)}},{key:"lngLatToCoords",value:function(i){var a=this;return i.map(function(o){return typeof o[0]=="number"?a.lngLatToCoord(o):o.map(function(s){return a.lngLatToCoord(s)})})}},{key:"addMarkerContainer",value:function(){if(this.map){var i=this.map.getContainer();if(i!==null){var a=i.getElementsByClassName("amap-maps")[0];a.style.zIndex="auto",this.markerContainer=Er("div","l7-marker-container2",a)}}}},{key:"updateView",value:function(i){}},{key:"getOverlayContainer",value:function(){}},{key:"getType",value:function(){return"amap2"}},{key:"getBounds",value:function(){var i=this.map.getBounds(),a=i.getNorthEast(),o=i.getSouthWest(),s=this.getCenter(),u=s.lng>a.getLng()||s.lng<o.getLng()?180-a.getLng():a.getLng(),l=s.lng<o.getLng()?o.getLng()-180:o.getLng();return[[l,o.getLat()],[u,a.getLat()]]}},{key:"getMinZoom",value:function(){var i=this.map.getZooms();return i[0]-1}},{key:"getMaxZoom",value:function(){var i=this.map.getZooms();return i[1]-1}},{key:"lngLatToContainer",value:function(i){var a=this.map.lngLatToContainer(i);return{x:a.getX(),y:a.getY()}}},{key:"getModelMatrix",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],u=this.map.customCoords.lngLatToCoord(i),l=ci();return Zo(l,l,_n(u[0],u[1],a)),O1(l,l,_n(s[0],s[1],s[2])),Z0(l,l,o[0]),Zu(l,l,o[1]),zu(l,l,o[2]),l}},{key:"init",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o,s,u,l,c,f,h,v,p,g,y,m,E,C,A,M,Z,Y,st,Ct,Pt,Zt;return zt().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(o=this.config,s=o.id,u=o.style,l=u===void 0?"light":u,c=o.minZoom,f=c===void 0?0:c,h=o.maxZoom,v=h===void 0?18:h,p=o.token,g=p===void 0?hT:p,y=o.mapInstance,m=o.plugin,E=m===void 0?[]:m,C=o.version,A=C===void 0?vT:C,M=(0,B.Z)(o,Bct),this.viewport=new Dct,window.AMap||y){ce.next=6;break}return E.push("Map3D"),ce.next=6,HM().load({key:g,version:vT,plugins:E});case 6:y?(this.map=y,this.$mapContainer=this.map.getContainer(),Y=this.map.getCenter(),(Z=this.map.customCoords)===null||Z===void 0||Z.setCenter([Y.lng,Y.lat]),this.setCustomCoordCenter([Y.lng,Y.lat]),this.map.on("viewchange",this.handleViewChanged)):(this.$mapContainer=this.creatMapContainer(s),Ct=(0,H.Z)({mapStyle:this.getMapStyleValue(l),zooms:[f,v],viewMode:"3D"},M),Ct.zoom&&(Ct.zoom+=1),g===hT&&console.warn("%c".concat(this.configService.getSceneWarninfo("MapToken"),"!"),"color: #873bf4;font-weigh:900;font-size: 16px;"),Pt=new AMap.Map(this.$mapContainer,Ct),this.map=Pt,Zt=Pt.getCenter(),(st=this.map.customCoords)===null||st===void 0||st.setCenter([Zt.lng,Zt.lat]),this.setCustomCoordCenter([Zt.lng,Zt.lat]),Pt.on("viewchange",this.handleViewChanged)),this.initViewPort();case 8:case"end":return ce.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"onCameraChanged",value:function(i){this.cameraChangedCallback=i}},{key:"initViewPort",value:function(){var i,a=(i=this.map.customCoords)===null||i===void 0?void 0:i.getCameraParams(),o=a.fov,s=a.near,u=a.far,l=a.aspect,c=a.position,f=a.lookAt,h=a.up;this.emit("mapchange");var v=this.map.customCoords.getCenter(),p=this.map.getZoom();this.cameraChangedCallback&&(this.viewport.syncWithMapCamera({aspect:l,far:u,fov:o,cameraPosition:c,lookAt:f,near:s,up:h,zoom:p-1,center:v,offsetOrigin:[c[0],c[1]]}),this.coordinateSystemService.setCoordinateSystem(qi.P20_2),this.cameraChangedCallback(this.viewport))}},{key:"_sub",value:function(i,a){var o=[0,0];return o[0]=i[0]-a[0],o[1]=i[1]-a[1],o}}]),t}(Rct))||cT);function Hct(e){var r=Vct();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Vct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Gct=function(e){(0,ze.Z)(t,e);var r=Hct(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getServiceConstructor",value:function(){return Uct}}]),t}(UM),jct=F(80966),El=F.n(jct),Wct={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},pT,dT,gT,yT,mT,xT,rs,_T,ET,CT,ST,bT={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},Yct=12,Xct=(pT=(0,Ze.b2)(),dT=(0,Ze.f3)(ve.MapConfig),gT=(0,Ze.f3)(ve.IGlobalConfigService),yT=(0,Ze.f3)(ve.ICoordinateSystemService),mT=(0,Ze.f3)(ve.IEventEmitter),pT(xT=(rs=function(){function e(){var r=this;(0,ge.Z)(this,e),(0,S.Z)(this,"version",Dn.DEFUALT),(0,S.Z)(this,"simpleMapCoord",new VM),(0,S.Z)(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),dr(this,"config",_T,this),dr(this,"configService",ET,this),dr(this,"coordinateSystemService",CT,this),dr(this,"eventEmitter",ST,this),(0,S.Z)(this,"handleCameraChanged",function(t){var n=r.map.getCenter(),i=n.lat,a=n.lng;r.emit("mapchange"),r.viewport.syncWithMapCamera({bearing:r.map.getBearing(),center:[a,i],viewportHeight:r.map.transform.height,pitch:r.map.getPitch(),viewportWidth:r.map.transform.width,zoom:r.map.getZoom(),cameraHeight:0}),r.updateCoordinateSystemService(),r.cameraChangedCallback(r.viewport)})}return(0,ye.Z)(e,[{key:"setBgColor",value:function(t){this.bgColor=t}},{key:"addMarkerContainer",value:function(){var t=this.map.getCanvasContainer();this.markerContainer=Er("div","l7-marker-container",t),this.markerContainer.setAttribute("tabindex","-1")}},{key:"getMarkerContainer",value:function(){return this.markerContainer}},{key:"getOverlayContainer",value:function(){}},{key:"on",value:function(t,n){o9.indexOf(t)!==-1?this.eventEmitter.on(t,n):this.map.on(bT[t]||t,n)}},{key:"off",value:function(t,n){this.map.off(bT[t]||t,n),this.eventEmitter.off(t,n)}},{key:"getContainer",value:function(){return this.map.getContainer()}},{key:"getMapCanvasContainer",value:function(){return this.map.getCanvasContainer()}},{key:"getSize",value:function(){if(this.version===Dn.SIMPLE)return this.simpleMapCoord.getSize();var t=this.map.transform;return[t.width,t.height]}},{key:"getType",value:function(){return"default"}},{key:"getZoom",value:function(){return this.map.getZoom()}},{key:"setZoom",value:function(t){return this.map.setZoom(t)}},{key:"getCenter",value:function(){return this.map.getCenter()}},{key:"setCenter",value:function(t){this.map.setCenter(t)}},{key:"getPitch",value:function(){return this.map.getPitch()}},{key:"getRotation",value:function(){return this.map.getBearing()}},{key:"getBounds",value:function(){return this.map.getBounds().toArray()}},{key:"getMinZoom",value:function(){return this.map.getMinZoom()}},{key:"getMaxZoom",value:function(){return this.map.getMaxZoom()}},{key:"setRotation",value:function(t){this.map.setBearing(t)}},{key:"zoomIn",value:function(t,n){this.map.zoomIn(t,n)}},{key:"zoomOut",value:function(t,n){this.map.zoomOut(t,n)}},{key:"setPitch",value:function(t){return this.map.setPitch(t)}},{key:"panTo",value:function(t){this.map.panTo(t)}},{key:"panBy",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.panTo([t,n])}},{key:"fitBounds",value:function(t,n){this.map.fitBounds(t,n)}},{key:"setMaxZoom",value:function(t){this.map.setMaxZoom(t)}},{key:"setMinZoom",value:function(t){this.map.setMinZoom(t)}},{key:"setMapStatus",value:function(t){t.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),t.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),t.dragEnable===!1&&this.map.dragPan.disable(),t.dragEnable===!0&&this.map.dragPan.enable(),t.rotateEnable===!1&&this.map.dragRotate.disable(),t.dragEnable===!0&&this.map.dragRotate.enable(),t.keyboardEnable===!1&&this.map.keyboard.disable(),t.keyboardEnable===!0&&this.map.keyboard.enable(),t.zoomEnable===!1&&this.map.scrollZoom.disable(),t.zoomEnable===!0&&this.map.scrollZoom.enable()}},{key:"setZoomAndCenter",value:function(t,n){this.map.flyTo({zoom:t,center:n})}},{key:"setMapStyle",value:function(t){this.map.setStyle(this.getMapStyleValue(t))}},{key:"meterToCoord",value:function(t,n){return 1}},{key:"pixelToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToPixel",value:function(t){return this.map.project(t)}},{key:"containerToLngLat",value:function(t){return this.map.unproject(t)}},{key:"lngLatToContainer",value:function(t){return this.map.project(t)}},{key:"getMapStyle",value:function(){try{var t,n=(t=this.map.getStyle().sprite)!==null&&t!==void 0?t:"";return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(n)?n==null?void 0:n.replace(/\/\w+$/,"").replace(/sprites/,"styles"):n}catch(i){return""}}},{key:"getMapStyleConfig",value:function(){return Wct}},{key:"getMapStyleValue",value:function(t){var n;return(n=this.getMapStyleConfig()[t])!==null&&n!==void 0?n:t}},{key:"destroy",value:function(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(t){for(var n,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];(n=this.eventEmitter).emit.apply(n,[t].concat(a))}},{key:"once",value:function(t){for(var n,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];(n=this.eventEmitter).once.apply(n,[t].concat(a))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"exportMap",value:function(t){var n=this.map.getCanvas(),i=t==="jpg"?n==null?void 0:n.toDataURL("image/jpeg"):n==null?void 0:n.toDataURL("image/png");return i}},{key:"onCameraChanged",value:function(t){this.cameraChangedCallback=t}},{key:"creatMapContainer",value:function(t){var n=t;return typeof t=="string"&&(n=document.getElementById(t)),n}},{key:"updateView",value:function(t){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:t.bearing,center:t.center,viewportHeight:t.viewportHeight,pitch:t.pitch,viewportWidth:t.viewportWidth,zoom:t.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}},{key:"updateCoordinateSystemService",value:function(){var t=this.config.offsetCoordinate,n=t===void 0?!0:t;this.viewport.getZoom()>Yct&&n?this.coordinateSystemService.setCoordinateSystem(qi.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(qi.LNGLAT)}}]),e}(),_T=vr(rs.prototype,"config",[dT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ET=vr(rs.prototype,"configService",[gT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),CT=vr(rs.prototype,"coordinateSystemService",[yT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ST=vr(rs.prototype,"eventEmitter",[mT],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rs))||xT),$ct=function(){function e(){(0,ge.Z)(this,e)}return(0,ye.Z)(e,[{key:"syncWithMapCamera",value:function(t){var n=t.center,i=t.zoom,a=t.pitch,o=t.bearing,s=t.viewportHeight,u=t.viewportWidth;this.viewport=new x6({width:u,height:s,longitude:n&&n[0],latitude:n&&n[1],zoom:i,pitch:a,bearing:o})}},{key:"getZoom",value:function(){return this.viewport.zoom}},{key:"getZoomScale",value:function(){return Math.pow(2,this.getZoom())}},{key:"getCenter",value:function(){return[this.viewport.longitude,this.viewport.latitude]}},{key:"getProjectionMatrix",value:function(){return this.viewport.projectionMatrix}},{key:"getModelMatrix",value:function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}},{key:"getViewMatrix",value:function(){return this.viewport.viewMatrix}},{key:"getViewMatrixUncentered",value:function(){return this.viewport.viewMatrixUncentered}},{key:"getViewProjectionMatrix",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getViewProjectionMatrixUncentered",value:function(){return this.viewport.viewProjectionMatrix}},{key:"getFocalDistance",value:function(){return 1}},{key:"projectFlat",value:function(t,n){return this.viewport.projectFlat(t,n)}}]),e}(),qct=["id","attributionControl","style","token","rotation","mapInstance"],AT,MT;function Kct(e){var r=Qct();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function Qct(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Jct(e,r){var t=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(t||n)&&(r||(r=document),!!r)){var i=r.head||r.getElementsByTagName("head")[0];if(!i){i=r.createElement("head");var a=r.body||r.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):r.documentElement.appendChild(i)}var o=r.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(r.createTextNode(e)),i.appendChild(o),o}}Jct(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:-webkit-grab;cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:-webkit-grabbing;cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:pinch-zoom;touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{-ms-touch-action:none;touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 2px rgba(0,0,0,.1);box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){-webkit-box-shadow:0 0 0 2px ButtonText;box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;-webkit-box-sizing:border-box;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{-webkit-box-shadow:0 0 2px 2px #0096ff;box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){-webkit-box-shadow:none;box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;-webkit-box-sizing:border-box;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:-webkit-box;display:-ms-flexbox;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.mapboxgl-popup-anchor-left{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.mapboxgl-popup-anchor-right{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{-webkit-align-self:flex-end;-ms-flex-item-align:end;align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.1);box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:-webkit-box;display:-ms-flexbox;display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 0 3px rgba(0,0,0,.35);box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`),window.mapboxgl=El();var t4t=0,TT="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg",e4t=(AT=(0,Ze.b2)(),AT(MT=function(e){(0,ze.Z)(t,e);var r=Kct(t);function t(){var n;(0,ge.Z)(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r.call.apply(r,[this].concat(a)),(0,S.Z)((0,Qt.Z)(n),"version",Dn.MAPBOX),n}return(0,ye.Z)(t,[{key:"getType",value:function(){return"mapbox"}},{key:"lngLatToCoord",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0,z:0},o=this.lngLatToMercator(i,0),s=o.x,u=o.y;return[s-a.x,u-a.y]}},{key:"lngLatToMercator",value:function(i,a){var o=window.mapboxgl.MercatorCoordinate.fromLngLat(i,a),s=o.x,u=s===void 0?0:s,l=o.y,c=l===void 0?0:l,f=o.z,h=f===void 0?0:f;return{x:u,y:c,z:h}}},{key:"getModelMatrix",value:function(i,a,o){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[1,1,1],u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{x:0,y:0,z:0},l=window.mapboxgl.MercatorCoordinate.fromLngLat(i,a),c=l.meterInMercatorCoordinateUnits(),f=ci();return Zo(f,f,_n(l.x-u.x,l.y-u.y,l.z||0-u.z)),O1(f,f,_n(c*s[0],-c*s[1],c*s[2])),Z0(f,f,o[0]),Zu(f,f,o[1]),zu(f,f,o[2]),f}},{key:"init",value:function(){var n=(0,xe.Z)(zt().mark(function a(){var o=this,s,u,l,c,f,h,v,p,g,y,m,E,C;return zt().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:s=this.config,u=s.id,l=u===void 0?"map":u,c=s.attributionControl,f=c===void 0?!1:c,h=s.style,v=h===void 0?"light":h,p=s.token,g=p===void 0?TT:p,y=s.rotation,m=y===void 0?0:y,E=s.mapInstance,C=(0,B.Z)(s,qct),this.viewport=new $ct,!E&&!window.mapboxgl&&console.error(this.configService.getSceneWarninfo("SDK")),g===TT&&v!=="blank"&&!window.mapboxgl.accessToken&&!E&&console.warn(this.configService.getSceneWarninfo("MapToken")),!E&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=g),E?(this.map=E,this.$mapContainer=this.map.getContainer()):(this.$mapContainer=this.creatMapContainer(l),this.map=new window.mapboxgl.Map((0,H.Z)({container:this.$mapContainer,style:this.getMapStyleValue(v),attributionControl:f,bearing:m},C))),this.map.on("load",function(){o.handleCameraChanged()}),this.map.on("move",this.handleCameraChanged),this.handleCameraChanged();case 9:case"end":return M.stop()}},a,this)}));function i(){return n.apply(this,arguments)}return i}()},{key:"destroy",value:function(){var i,a;(i=this.$mapContainer)===null||i===void 0||(a=i.parentNode)===null||a===void 0||a.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}},{key:"emit",value:function(i){for(var a,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];(a=this.eventEmitter).emit.apply(a,[i].concat(s))}},{key:"once",value:function(i){for(var a,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];(a=this.eventEmitter).once.apply(a,[i].concat(s))}},{key:"getMapContainer",value:function(){return this.$mapContainer}},{key:"meterToCoord",value:function(i,a){var o=new(El()).LngLat(i[0],i[1]),s=new(El()).LngLat(a[0],a[1]),u=o.distanceTo(s),l=El().MercatorCoordinate.fromLngLat({lng:i[0],lat:i[1]}),c=El().MercatorCoordinate.fromLngLat({lng:a[0],lat:a[1]}),f=l.x,h=l.y,v=c.x,p=c.y,g=Math.sqrt(Math.pow(f-v,2)+Math.pow(h-p,2))*4194304*2;return g/u}},{key:"exportMap",value:function(i){var a=this.map.getCanvas(),o=i==="jpg"?a==null?void 0:a.toDataURL("image/jpeg"):a==null?void 0:a.toDataURL("image/png");return o}},{key:"creatMapContainer",value:function(i){var a=i;typeof i=="string"&&(a=document.getElementById(i));var o=document.createElement("div");return o.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,o.id="l7_mapbox_div"+t4t++,a.appendChild(o),o}}]),t}(Xct))||MT);function r4t(e){var r=n4t();return function(){var n=(0,ne.Z)(e),i;if(r){var a=(0,ne.Z)(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return(0,Ue.Z)(this,i)}}function n4t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function i4t(e,r){var t=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,n=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined");if(!(t||n)&&(r||(r=document),!!r)){var i=r.head||r.getElementsByTagName("head")[0];if(!i){i=r.createElement("head");var a=r.body||r.getElementsByTagName("body")[0];a?a.parentNode.insertBefore(i,a):r.documentElement.appendChild(i)}var o=r.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=e:o.appendChild(r.createTextNode(e)),i.appendChild(o),o}}i4t(`.mapboxgl-ctrl-logo {
 display: none !important;
}
`);var a4t=function(e){(0,ze.Z)(t,e);var r=r4t(t);function t(){return(0,ge.Z)(this,t),r.apply(this,arguments)}return(0,ye.Z)(t,[{key:"getServiceConstructor",value:function(){return e4t}}]),t}(UM),E6={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`},C6="l7plot-tooltip",S6="l7plot-tooltip__title",b6="l7plot-tooltip__list",wT="l7plot-tooltip__list-item",FT="l7plot-tooltip__name",kT="l7plot-tooltip__value",o4t='<div class="'.concat(C6,`">
  <div class="`).concat(S6,`"></div>
  <ul class="`).concat(b6,`"></ul>
</div>`),OT='<li class="'.concat(wT,`" data-index={index}>
  <span class="`).concat(FT,`">{name}</span>
  <span class="`).concat(kT,`">{value}</span>
</li>`),Xo,s4t=(Xo={},Xo[C6]={visibility:"visible",zIndex:999,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"rgb(0 0 0 / 16%) 0px 6px 12px 0px",borderRadius:"2px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:E6.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},Xo[S6]={marginBottom:"4px"},Xo[b6]={margin:"0px",listStyleType:"none",padding:"0px"},Xo[wT]={listStyleType:"none",marginBottom:"4px",whiteSpace:"nowrap",display:"flex",justifyContent:"space-between"},Xo[FT]={},Xo[kT]={marginLeft:"30px"},Xo);function u4t(e,r){return!!e.className.match(new RegExp("(\\s|^)".concat(r,"(\\s|$)")))}function A6(e){for(var r=e.childNodes,t=r.length,n=t-1;n>=0;n--)e.removeChild(r[n])}var M6=function(){function e(r){this.destroyed=!1,this.options=(0,d.b$)({},this.getDefaultOptions(),r),this.container=this.initContainer(),this.initDom(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible(),this.render()}return e.prototype.getDefaultOptions=function(){return{name:"",containerTpl:"<div></div>",visible:!0,capture:!0,domStyles:{}}},e.prototype.getContainer=function(){return this.container},e.prototype.getParentContainer=function(){var r=this.options.parent,t;if(!r)return t;if((0,d.HD)(r)){var n=document.getElementById(r);if(n)t=n;else throw new Error("No parent id ".concat(r))}else t=r;return t},e.prototype.initContainer=function(){var r=this.createDom(this.options.containerTpl),t=this.getParentContainer();return t&&t.appendChild(r),r},e.prototype.initVisible=function(){this.options.visible?this.show():this.hide()},e.prototype.initCapture=function(){this.setCapture(this.options.capture)},e.prototype.update=function(r){this.options=(0,d.b$)({},this.options,r),this.updateInner(r),this.afterUpdate(r)},e.prototype.updateInner=function(r){r.domStyles&&this.applyStyles()},e.prototype.afterUpdate=function(r){r.capture&&this.setCapture(r.capture)},e.prototype.setCapture=function(r){var t=this.container,n=r?"auto":"none";t.style.pointerEvents=n},e.prototype.applyStyles=function(){var r=this.options.domStyles;if(r){var t=this.container;this.applyChildrenStyles(t,r);var n=this.options.className;if(n&&u4t(t,n)){var i=r[n];_r(t,i)}}},e.prototype.applyChildrenStyles=function(r,t){(0,d.S6)(t,function(n,i){var a=r.getElementsByClassName(i);(0,d.S6)(a,function(o){_r(o,n)})})},e.prototype.applyStyle=function(r,t){var n=this.options.domStyles;n&&_r(t,n[r])},e.prototype.createDom=function(r){return r===void 0&&(r="<div></div>"),Qr(r)},e.prototype.removeDom=function(){var r=this.container;r&&r.parentNode&&r.parentNode.removeChild(r)},e.prototype.destroy=function(){this.removeEvent(),this.removeDom(),this.destroyed=!0},e}(),l4t=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){return(0,d.b$)({},e.prototype.getDefaultOptions.call(this),{id:"l7plot-tooltip",name:"l7plot-tooltip",title:"",showTitle:!0,items:[],containerTpl:o4t,itemTpl:OT,domStyles:s4t,className:C6})},r.prototype.initContainer=function(){var t=this.options.customContent;if(t){var n=this.getHtmlContentNode(t),i=this.getParentContainer();return i&&i.appendChild(n),n}else return e.prototype.initContainer.call(this)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){},r.prototype.cacheDoms=function(){var t=this.container,n=t.getElementsByClassName(S6)[0],i=t.getElementsByClassName(b6)[0];this.titleDom=n,this.listDom=i},r.prototype.render=function(){this.options.customContent?this.renderCustomContent(this.options.customContent):(this.resetTitle(),this.renderItems())},r.prototype.show=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"visible"})},r.prototype.hide=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"hidden"})},r.prototype.updateInner=function(t){this.options.customContent?this.renderCustomContent(this.options.customContent):(t.title&&this.resetTitle(),t.items&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.renderCustomContent=function(t){var n=this.container.parentNode,i=this.getHtmlContentNode(t),a=this.container;n&&n.replaceChild(i,a),this.container=i,this.applyStyles()},r.prototype.getHtmlContentNode=function(t){var n,i=t(this.options.title||"",this.options.items);return(0,d.HD)(i)?n=this.createDom(i):n=i,n},r.prototype.resetTitle=function(){var t=this.options.title,n=this.options.showTitle;n&&t?(this.showTitle(),this.setTitle(t)):this.hideTitle()},r.prototype.showTitle=function(){var t=this.titleDom;t&&_r(t,{display:"block"})},r.prototype.hideTitle=function(){var t=this.titleDom;t&&_r(t,{display:"none"})},r.prototype.setTitle=function(t){var n=this.titleDom;n&&(n.innerHTML=t)},r.prototype.renderItems=function(){var t=this;this.clearItemDoms();var n=this.options.items,i=this.options.itemTpl||OT,a=this.listDom;a&&(n.forEach(function(o){var s=(0,x.pi)({},o),u=(0,d.ng)(i,s),l=t.createDom(u);a.appendChild(l)}),this.applyChildrenStyles(a,this.options.domStyles))},r.prototype.clearItemDoms=function(){this.listDom&&A6(this.listDom)},r.prototype.clear=function(){this.setTitle(""),this.clearItemDoms()},r}(M6),c4t=typeof global=="object"&&global&&global.Object===Object&&global,f4t=c4t,h4t=typeof self=="object"&&self&&self.Object===Object&&self,v4t=f4t||h4t||Function("return this")(),Fc=v4t,p4t=Fc.Symbol,ns=p4t,LT=Object.prototype,d4t=LT.hasOwnProperty,g4t=LT.toString,Cl=ns?ns.toStringTag:void 0;function y4t(e){var r=d4t.call(e,Cl),t=e[Cl];try{e[Cl]=void 0;var n=!0}catch(a){}var i=g4t.call(e);return n&&(r?e[Cl]=t:delete e[Cl]),i}var m4t=y4t,x4t=Object.prototype,_4t=x4t.toString;function E4t(e){return _4t.call(e)}var C4t=E4t,S4t="[object Null]",b4t="[object Undefined]",IT=ns?ns.toStringTag:void 0;function A4t(e){return e==null?e===void 0?b4t:S4t:IT&&IT in Object(e)?m4t(e):C4t(e)}var PT=A4t;function M4t(e){return e!=null&&typeof e=="object"}var T4t=M4t,w4t="[object Symbol]";function F4t(e){return typeof e=="symbol"||T4t(e)&&PT(e)==w4t}var kc=F4t,k4t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O4t=/^\w*$/;function L4t(e,r){if(a3(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||kc(e)?!0:O4t.test(e)||!k4t.test(e)||r!=null&&e in Object(r)}var I4t=L4t;function P4t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Oc=P4t,R4t="[object AsyncFunction]",D4t="[object Function]",B4t="[object GeneratorFunction]",N4t="[object Proxy]";function Z4t(e){if(!Oc(e))return!1;var r=PT(e);return r==D4t||r==B4t||r==R4t||r==N4t}var z4t=Z4t,U4t=Fc["__core-js_shared__"],T6=U4t,RT=function(){var e=/[^.]+$/.exec(T6&&T6.keys&&T6.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function H4t(e){return!!RT&&RT in e}var V4t=H4t,G4t=Function.prototype,j4t=G4t.toString;function W4t(e){if(e!=null){try{return j4t.call(e)}catch(r){}try{return e+""}catch(r){}}return""}var Y4t=W4t,X4t=/[\\^$.*+?()[\]{}|]/g,$4t=/^\[object .+?Constructor\]$/,q4t=Function.prototype,K4t=Object.prototype,Q4t=q4t.toString,J4t=K4t.hasOwnProperty,tft=RegExp("^"+Q4t.call(J4t).replace(X4t,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eft(e){if(!Oc(e)||V4t(e))return!1;var r=z4t(e)?tft:$4t;return r.test(Y4t(e))}var rft=eft;function nft(e,r){return e==null?void 0:e[r]}var ift=nft;function aft(e,r){var t=ift(e,r);return rft(t)?t:void 0}var DT=aft,oft=DT(Object,"create"),Sl=oft;function sft(){this.__data__=Sl?Sl(null):{},this.size=0}var uft=sft;function lft(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var cft=lft,fft="__lodash_hash_undefined__",hft=Object.prototype,vft=hft.hasOwnProperty;function pft(e){var r=this.__data__;if(Sl){var t=r[e];return t===fft?void 0:t}return vft.call(r,e)?r[e]:void 0}var dft=pft,gft=Object.prototype,yft=gft.hasOwnProperty;function mft(e){var r=this.__data__;return Sl?r[e]!==void 0:yft.call(r,e)}var xft=mft,_ft="__lodash_hash_undefined__";function Eft(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Sl&&r===void 0?_ft:r,this}var Cft=Eft;function is(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}is.prototype.clear=uft,is.prototype.delete=cft,is.prototype.get=dft,is.prototype.has=xft,is.prototype.set=Cft;var BT=is;function Sft(){this.__data__=[],this.size=0}var bft=Sft;function Aft(e,r){return e===r||e!==e&&r!==r}var Mft=Aft;function Tft(e,r){for(var t=e.length;t--;)if(Mft(e[t][0],r))return t;return-1}var Lc=Tft,wft=Array.prototype,Fft=wft.splice;function kft(e){var r=this.__data__,t=Lc(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Fft.call(r,t,1),--this.size,!0}var Oft=kft;function Lft(e){var r=this.__data__,t=Lc(r,e);return t<0?void 0:r[t][1]}var Ift=Lft;function Pft(e){return Lc(this.__data__,e)>-1}var Rft=Pft;function Dft(e,r){var t=this.__data__,n=Lc(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var Bft=Dft;function as(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}as.prototype.clear=bft,as.prototype.delete=Oft,as.prototype.get=Ift,as.prototype.has=Rft,as.prototype.set=Bft;var Nft=as,Zft=DT(Fc,"Map"),zft=Zft;function Uft(){this.size=0,this.__data__={hash:new BT,map:new(zft||Nft),string:new BT}}var Hft=Uft;function Vft(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var Gft=Vft;function jft(e,r){var t=e.__data__;return Gft(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Ic=jft;function Wft(e){var r=Ic(this,e).delete(e);return this.size-=r?1:0,r}var Yft=Wft;function Xft(e){return Ic(this,e).get(e)}var $ft=Xft;function qft(e){return Ic(this,e).has(e)}var Kft=qft;function Qft(e,r){var t=Ic(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Jft=Qft;function os(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}os.prototype.clear=Hft,os.prototype.delete=Yft,os.prototype.get=$ft,os.prototype.has=Kft,os.prototype.set=Jft;var NT=os,t5t="Expected a function";function w6(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(t5t);var t=function(){var n=arguments,i=r?r.apply(this,n):n[0],a=t.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return t.cache=a.set(i,o)||a,o};return t.cache=new(w6.Cache||NT),t}w6.Cache=NT;var e5t=w6,r5t=500;function n5t(e){var r=e5t(e,function(n){return t.size===r5t&&t.clear(),n}),t=r.cache;return r}var i5t=n5t,a5t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o5t=/\\(\\)?/g,s5t=i5t(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(a5t,function(t,n,i,a){r.push(i?a.replace(o5t,"$1"):n||t)}),r}),u5t=s5t;function l5t(e,r){for(var t=-1,n=e==null?0:e.length,i=Array(n);++t<n;)i[t]=r(e[t],t,e);return i}var c5t=l5t,f5t=1/0,ZT=ns?ns.prototype:void 0,zT=ZT?ZT.toString:void 0;function UT(e){if(typeof e=="string")return e;if(a3(e))return c5t(e,UT)+"";if(kc(e))return zT?zT.call(e):"";var r=e+"";return r=="0"&&1/e==-f5t?"-0":r}var h5t=UT;function v5t(e){return e==null?"":h5t(e)}var F6=v5t;function p5t(e,r){return a3(e)?e:I4t(e,r)?[e]:u5t(F6(e))}var d5t=p5t,g5t=1/0;function y5t(e){if(typeof e=="string"||kc(e))return e;var r=e+"";return r=="0"&&1/e==-g5t?"-0":r}var m5t=y5t;function x5t(e,r){r=d5t(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[m5t(r[t++])];return t&&t==n?e:void 0}var _5t=x5t;function E5t(e,r,t){var n=e==null?void 0:_5t(e,r);return n===void 0?t:n}var HT=E5t,C5t=5,S5t=new Object().toString,VT=function(e,r){return S5t.call(e)==="[object "+r+"]"},b5t=function(e){return VT(e,"Array")},A5t=function(e){return typeof e=="object"&&e!==null},GT=function(e){if(!A5t(e)||!VT(e,"Object"))return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r},jT=function(e,r,t,n){t=t||0,n=n||C5t;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var a=r[i];a?GT(a)?(GT(e[i])||(e[i]={}),t<n?jT(e[i],a,t+1,n):e[i]=r[i]):b5t(a)?(e[i]=[],e[i]=e[i].concat(a)):e[i]=a:e[i]=a}},Oi=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];for(var n=0;n<r.length;n+=1)jT(e,r[n]);return e},M5t=["mousemove","click"],T5t=function(e){(0,x.ZT)(r,e);function r(t,n,i){var a=e.call(this)||this;a.currentVisible=!1,a.interactionTriggerHander=function(p){var g=p.feature,y=p.featureId,m=a.options,E=m.title,C=m.customTitle,A=m.items,M=m.customItems,Z=g.type==="Feature"&&g.geometry&&g.properties,Y=Z?g.properties:g,st=[];if(M){var Ct=M(g);if(Array.isArray(Ct))st=Ct;else throw new Error("customItems return array")}else A&&A.forEach(function(Zt){if((0,d.HD)(Zt)){var ie=Zt.split(".").pop()||Zt,ce=HT(Y,Zt);ce!==void 0&&st.push({name:ie,value:ce})}else{var _e=Zt.field,Re=Zt.alias,he=Zt.customValue,Me=Re||_e.split(".").pop()||_e,ce=HT(Y,_e);ce!==void 0&&st.push({name:Me,value:he?he(ce,Y,y):ce})}});var Pt={title:C?C(Y):E,items:st};a.updateTooltip(p,Pt)},a.interactionUntriggerHander=function(){a.hideTooltip()},a.scene=t,a.interactionLayers=n,a.options=Oi({},a.getDefaultOptions(),i);var o=a.options,s=o.offsets,u=o.title,l=o.showTitle,c=o.customContent,f=o.domStyles,h=o.anchor,v=o.className;return a.marker=new s9({offsets:s,anchor:h,draggable:!1}),a.tooltipComponent=new l4t({title:u,showTitle:l,items:[],customContent:c,domStyles:f,className:v}),a.setComponent(),a.initInteractionEvent(),a}return r.prototype.getDefaultOptions=function(){return{showTitle:!0,showComponent:!0,items:[],offsets:[15,0],trigger:"mousemove",anchor:Su["TOP-LEFT"]}},r.prototype.update=function(t){this.marker.remove(),this.currentVisible=!1,this.options=Oi({},this.options,t);var n=this.options,i=n.offsets,a=n.showTitle,o=n.customContent,s=n.domStyles,u=n.anchor,l=n.className;this.marker=new s9({offsets:i,anchor:u,draggable:!1}),this.tooltipComponent.update({showTitle:a,customContent:o,domStyles:s,className:l}),this.setComponent()},r.prototype.initInteractionEvent=function(){var t=this,n=this.options.trigger||"mousemove";if(!M5t.includes(n))throw new Error("trigger is mousemove or click");this.interactionLayers.forEach(function(i){var a=i.layer;a.on(n,t.interactionTriggerHander),a.on("un".concat(n),t.interactionUntriggerHander)})},r.prototype.unBindInteractionEvent=function(){var t=this,n=this.options.trigger||"mousemove";this.interactionLayers.forEach(function(i){var a=i.layer;a.off(n,t.interactionTriggerHander),a.off("un".concat(n),t.interactionUntriggerHander)})},r.prototype.updateTooltip=function(t,n){var i=t.lngLat,a=t.x,o=t.y;if(this.options.showComponent&&(this.updateComponent(n),this.setPostion(i)),this.currentVisible){var s={type:"tooltip:change",data:n,lngLat:i,x:a,y:o};this.emit("tooltip:change",s)}else{this.showTooltip();var u={type:"tooltip:show",data:n,lngLat:i,x:a,y:o};this.emit("tooltip:show",u)}},r.prototype.showTooltip=function(){this.currentVisible||(this.options.showComponent&&this.scene.addMarker(this.marker),this.currentVisible=!0)},r.prototype.hideTooltip=function(){if(this.currentVisible){this.options.showComponent&&this.marker.remove(),this.currentVisible=!1;var t={type:"tooltip:hide"};this.emit("tooltip:hide",t)}},r.prototype.updateComponent=function(t){(0,d.Xy)(this.lastComponentOptions,t)||(this.tooltipComponent.update(t),this.lastComponentOptions=t)},r.prototype.setComponent=function(){var t=this.tooltipComponent.getContainer(),n=window.document.createElement("div");n.style.cursor="auto",n.style.userSelect="text",n.className="l7plot-tooltip-container",["mousemove","mousedown","mouseup","click","dblclick"].forEach(function(i){n.addEventListener(i,function(a){return a.stopPropagation()})}),n.appendChild(t),this.marker.setElement(n)},r.prototype.setPostion=function(t){this.marker.setLnglat(t)},r.prototype.destroy=function(){this.unBindInteractionEvent(),this.off(),this.marker.remove(),this.tooltipComponent.destroy()},r}(ya.Z),k6="l7plot-legend l7plot-legend__category",O6="l7plot-legend__title",L6="l7plot-legend__category-list",WT="l7plot-legend__list-item",YT="l7plot-legend__category-marker",XT="l7plot-legend__category-value",w5t='<div class="'.concat(k6,`">
  <div class="`).concat(O6,`"></div>
  <ul class="`).concat(L6,`"></ul>
</div>`),$T='<li class="'.concat(WT,`" data-index={index}>
  <span class="`).concat(YT,`" style="background:{color}"></span>
  <span class="`).concat(XT,`">{value}</span>
</li>`),$o,F5t=($o={},$o[k6]={visibility:"visible",zIndex:1,backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"rgb(0 0 0 / 16%) 0px 6px 12px 0px",borderRadius:"2px",color:"rgb(87, 87, 87)",fontFamily:E6.fontFamily,padding:"10px 10px 6px 10px",lineHeight:1,fontSize:"12px"},$o[O6]={fontSize:"13px",lineHeight:"19px",marginBottom:"8px"},$o[L6]={margin:"0px",listStyleType:"none",padding:"0px"},$o[WT]={listStyleType:"none",display:"flex",alignItems:"center",marginBottom:"2px"},$o[YT]={width:"10px",height:"10px"},$o[XT]={paddingLeft:"8px"},$o),k5t=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){return(0,d.b$)({},e.prototype.getDefaultOptions.call(this),{id:"l7plot-category-legend",name:"l7plot-category-legend",title:"",items:[],containerTpl:w5t,itemTpl:$T,domStyles:F5t,className:k6})},r.prototype.initContainer=function(){var t=this.options.customContent;if(t){var n=this.getHtmlContentNode(t),i=this.getParentContainer();return i&&i.appendChild(n),n}else return e.prototype.initContainer.call(this)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){},r.prototype.cacheDoms=function(){var t=this.container,n=t.getElementsByClassName(O6)[0],i=t.getElementsByClassName(L6)[0];this.titleDom=n,this.listDom=i},r.prototype.render=function(){this.options.customContent?this.renderCustomContent(this.options.customContent):(this.resetTitle(),this.renderItems())},r.prototype.show=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"visible"})},r.prototype.hide=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"hidden"})},r.prototype.updateInner=function(t){this.options.customContent?this.renderCustomContent(this.options.customContent):(t.title&&this.resetTitle(),t.items&&this.renderItems()),e.prototype.updateInner.call(this,t)},r.prototype.renderCustomContent=function(t){var n=this.container.parentNode,i=this.getHtmlContentNode(t),a=this.container;n&&n.replaceChild(i,a),this.container=i,this.applyStyles()},r.prototype.getHtmlContentNode=function(t){var n,i=t(this.options.title||"",this.options.items);return(0,d.HD)(i)?n=this.createDom(i):n=i,n},r.prototype.resetTitle=function(){var t=this.options.title;t?(this.showTitle(),this.setTitle(t)):this.hideTitle()},r.prototype.showTitle=function(){var t=this.titleDom;t&&_r(t,{display:"block"})},r.prototype.hideTitle=function(){var t=this.titleDom;t&&_r(t,{display:"none"})},r.prototype.setTitle=function(t){var n=this.titleDom;n&&(n.innerHTML=t)},r.prototype.renderItems=function(){var t=this;this.clearItemDoms();var n=this.options.items.length>30?this.options.items.slice(0,30):this.options.items,i=this.options.itemTpl||$T,a=this.listDom;a&&(n.forEach(function(o){var s=o.value==="",u=s?"\u2014":Array.isArray(o.value)?o.value.join(" - "):o.value,l=(0,x.pi)((0,x.pi)({},o),{value:u}),c=(0,d.ng)(i,l),f=t.createDom(c);a.appendChild(f)}),this.applyChildrenStyles(a,this.options.domStyles))},r.prototype.clearItemDoms=function(){this.listDom&&A6(this.listDom)},r.prototype.clear=function(){this.setTitle(""),this.clearItemDoms()},r}(M6),I6="l7plot-legend l7plot-legend__continue",P6="l7plot-legend__title",qT="l7plot-legend__ribbon-container",KT="l7plot-legend__ribbon",QT="l7plot-legend__gradient-bar",R6="l7plot-legend__value-range",O5t='<div class="'.concat(I6,`">
  <div class="`).concat(P6,`"></div>
  <div class="`).concat(qT,`"></div>
</div>`),JT='<div class="'.concat(KT,`">
  <span class="`).concat(R6,`">{min}</span>
  <div class="`).concat(QT,`" style="background-image: {backgroundImage}"></div>
  <span class="`).concat(R6,`">{max}</span>
</div>`),Y1,L5t=(Y1={},Y1[I6]={visibility:"visible",zIndex:1,backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"rgb(0 0 0 / 16%) 0px 6px 12px 0px",borderRadius:"2px",color:"rgb(87, 87, 87)",fontFamily:E6.fontFamily,padding:"10px",lineHeight:1,fontSize:"12px"},Y1[P6]={fontSize:"13px",lineHeight:"19px",marginBottom:"8px"},Y1[KT]={display:"flex",alignItems:"center"},Y1[QT]={width:"140px",height:"14px",margin:"0px 5px"},Y1[R6]={padding:"0px"},Y1),I5t=function(e){(0,x.ZT)(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.getDefaultOptions=function(){return(0,d.b$)({},e.prototype.getDefaultOptions.call(this),{id:"l7plot-continue-legend",name:"l7plot-continue-legend",title:"",containerTpl:O5t,ribbonTpl:JT,domStyles:L5t,className:I6})},r.prototype.initContainer=function(){var t=this.options.customContent;if(t){var n=this.getHtmlContentNode(t),i=this.getParentContainer();return i&&i.appendChild(n),n}else return e.prototype.initContainer.call(this)},r.prototype.initDom=function(){this.cacheDoms()},r.prototype.initEvent=function(){},r.prototype.removeEvent=function(){},r.prototype.cacheDoms=function(){var t=this.container,n=t.getElementsByClassName(P6)[0],i=t.getElementsByClassName(qT)[0];this.titleDom=n,this.ribbonContainerDom=i},r.prototype.render=function(){this.options.customContent?this.renderCustomContent(this.options.customContent):(this.resetTitle(),this.renderRibbon())},r.prototype.show=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"visible"})},r.prototype.hide=function(){var t=this.container;!t||this.destroyed||_r(t,{visibility:"hidden"})},r.prototype.updateInner=function(t){this.options.customContent?this.renderCustomContent(this.options.customContent):(t.title&&this.resetTitle(),t.colors&&this.renderRibbon()),e.prototype.updateInner.call(this,t)},r.prototype.renderCustomContent=function(t){var n=this.container.parentNode,i=this.getHtmlContentNode(t),a=this.container;n&&n.replaceChild(i,a),this.container=i,this.applyStyles()},r.prototype.getHtmlContentNode=function(t){var n,i=t(this.options.title||"",this.options.min,this.options.max,this.options.colors);return(0,d.HD)(i)?n=this.createDom(i):n=i,n},r.prototype.resetTitle=function(){var t=this.options.title;t?(this.showTitle(),this.setTitle(t)):this.hideTitle()},r.prototype.showTitle=function(){var t=this.titleDom;t&&_r(t,{display:"block"})},r.prototype.hideTitle=function(){var t=this.titleDom;t&&_r(t,{display:"none"})},r.prototype.setTitle=function(t){var n=this.titleDom;n&&(n.innerHTML=t)},r.prototype.renderRibbon=function(){this.clearRibbonContainerDoms();var t=this.options,n=t.min,i=t.max,a=t.colors,o=t.ribbonTpl,s=o===void 0?JT:o,u=this.ribbonContainerDom;if(u){var l="linear-gradient(to right, ".concat(a.join(", "),")"),c={min:n,max:i,backgroundImage:l},f=(0,d.ng)(s,c),h=this.createDom(f);u.appendChild(h),this.applyChildrenStyles(u,this.options.domStyles)}},r.prototype.clearRibbonContainerDoms=function(){this.ribbonContainerDom&&A6(this.ribbonContainerDom)},r.prototype.clear=function(){this.setTitle(""),this.clearRibbonContainerDoms()},r}(M6),P5t=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;return n.legendComponents=[],n.options=t,n.legendComponents=n.initLegendComponents(t.items),n}return r.prototype.initLegendComponents=function(t){for(var n=[],i=0;i<t.length;i++){var a=t[i];if(a.type==="category"){var o=new k5t({title:a.options.title,items:a.options.items,className:a.options.className,customContent:a.options.customContent,domStyles:a.options.domStyles});n.push(o)}else if(a.type==="continue"){var o=new I5t({title:a.options.title,min:a.options.min,max:a.options.max,colors:a.options.colors,className:a.options.className,customContent:a.options.customContent,domStyles:a.options.domStyles});n.push(o)}}return n},r.prototype.getDefaultOptions=function(){return{position:"bottomleft"}},r.prototype.onAdd=function(){var t=window.document.createElement("div");return t.className="l7plot-legend-container",this.legendComponents.forEach(function(n){var i=n.getContainer();t.appendChild(i)}),t},r.prototype.onRemove=function(){this.legendComponents.forEach(function(t){t.destroy()})},r}(D1),ss;(function(e){e.Amap="amap",e.Mapbox="mapbox"})(ss||(ss={}));var tw=function(e){(0,x.ZT)(r,e);function r(t,n){t===void 0&&(t=[]),n===void 0&&(n={});var i=e.call(this)||this;return i.name=n.name?n.name:(0,d.EL)("layerGroup"),i.layers=t,i}return r.prototype.addTo=function(t){var n=this;this.scene=t;var i=0,a=this.layers.length;this.layers.forEach(function(o){o.once("inited",function(s){i++,n.emit("inited",s),i===a&&n.emit("inited-all")}),o.addTo(t)})},r.prototype.hasLayer=function(t){return this.layers.some(function(n){return n===t})},r.prototype.addLayer=function(t){var n=this;this.layers.push(t),this.scene&&(t.once("inited",function(i){return n.emit("inited",i)}),t.addTo(this.scene))},r.prototype.removeLayer=function(t){var n=this.layers.findIndex(function(i){return i===t});return n===-1?!1:(this.layers.splice(n,1),this.scene&&t.remove(this.scene),!0)},r.prototype.getLayers=function(){return this.layers},r.prototype.getInteractionLayers=function(){return this.layers.filter(function(t){var n=t.interaction;return n})},r.prototype.getLayer=function(t){return this.layers.find(function(n){var i=n.layer;return i.id===t})},r.prototype.getLayerByName=function(t){return this.layers.find(function(n){return n.name===t})},r.prototype.removeAllLayer=function(){var t=this;this.layers.forEach(function(n){t.scene&&n.remove(t.scene)}),this.layers=[]},r.prototype.isEmpty=function(){return this.layers.length===0},r}(ya.Z),R5t=[{original:"loaded",adaptation:"scene-loaded"},{original:"resize",adaptation:"resize"},{original:"destroy",adaptation:"destroy"},{original:"resize",adaptation:"resize"}],D5t=["mapmove","movestart","moveend","zoomchange","zoomstart","zoomend","click","dblclick","contextmenu","mousemove","mousewheel","mouseover","mouseout","mouseup","mousedown","dragstart","dragging","dragend"],Pc=["inited","add","remove","dataUpdate","click","unclick","contextmenu","uncontextmenu","mouseenter","mousemove","unmousemove","mouseout","mouseup","unmouseup","mousedown","uncontextmenu","unpick"],X1=new Map;function gpt(e,r){X1.set(e,r)}function ypt(e){e.forEach(function(r){X1.set(r.id,r.image)})}function mpt(e){return X1.get(e)}function xpt(e){return X1.has(e)}function _pt(e){return X1.delete(e)}var Rc=new Map;function Ept(e,r){Rc.set(e,r)}function Cpt(e){return Rc.delete(e)}var bl=new Map;function Spt(e,r){bl.set(e,r)}function bpt(e){e.forEach(function(r){bl.set(r.name,r.fontUnicode)})}function Apt(e){return bl.delete(e)}var us=F(84593),ls=F(52789),Al=F(34996);function ew(e){var r,t,n,i={point:{default:{fill:e.pointFillColor,size:e.pointSize,stroke:e.pointBorderColor,lineWidth:e.pointBorder,fillOpacity:e.pointFillOpacity},active:{fill:e.pointActiveFillColor},selected:{fill:e.pointSelectedFillColor}}};return{mapStyle:e.mapStyle,defaultColor:e.brandColor,subColor:e.subColor,semanticRed:e.paletteSemanticRed,semanticGreen:e.paletteSemanticGreen,fontFamily:e.fontFamily,colors10:e.paletteQualitative10,colors20:e.paletteQualitative20,sequenceColors:e.paletteSequence,shapes:{point:["circle","square"],line:["line"]},sizes:[1,10],geometries:{point:{circle:{default:{style:i.point.default},active:{style:i.point.active},selected:{style:i.point.selected}}},line:{},polygon:{}},components:{legend:{category:{domStyles:(r={},r[ls.rC]={visibility:"visible",zIndex:1,backgroundColor:e.legendContainerFillColor,boxShadow:e.legendContainerShadow,borderRadius:"".concat(e.legendContainerBorderRadius,"px"),color:e.legendTextFillColor,fontFamily:e.fontFamily,padding:"10px",lineHeight:"1",fontSize:"".concat(e.legendTextFontSize,"px")},r[ls.O6]={fontSize:"13px",lineHeight:"19px",marginBottom:"8px"},r[ls.fL]={margin:"0px",padding:"0px"},r[ls.jp]={marginBottom:"2px"},r[ls.Bc]={width:"10px",height:"10px"},r[ls.Tf]={paddingLeft:"8px"},r)},continue:{domStyles:(t={},t[Al.rC]={visibility:"visible",zIndex:1,backgroundColor:e.legendContainerFillColor,boxShadow:e.legendContainerShadow,borderRadius:"".concat(e.legendContainerBorderRadius,"px"),color:e.legendTextFillColor,fontFamily:e.fontFamily,padding:"10px",lineHeight:1,fontSize:"".concat(e.legendTextFontSize,"px")},t[Al.O6]={fontSize:"13px",lineHeight:"19px",marginBottom:"8px"},t[Al.el]={display:"flex",alignItems:"center"},t[Al.bl]={width:"140px",height:"14px",margin:"0px 5px"},t[Al.VI]={padding:"0px"},t)}},tooltip:{domStyles:(n={},n[us.rC]={visibility:"visible",zIndex:999,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:e.tooltipContainerFillColor,boxShadow:e.tooltipContainerShadow,borderRadius:"".concat(e.tooltipContainerBorderRadius,"px"),color:e.tooltipTextFillColor,fontSize:"".concat(e.tooltipTextFontSize,"px"),fontFamily:e.fontFamily,lineHeight:e.tooltipTextLineHeight},n[us.O6]={marginBottom:"4px"},n[us.fL]={margin:"0px",padding:"0px"},n[us.jp]={marginBottom:"4px"},n[us.bX]={color:e.tooltipItemNameFillColor},n[us.Tf]={color:e.tooltipItemValueFillColor,marginLeft:"30px"},n)},label:{style:{textAnchor:"center",textOffset:[0,0],fill:e.labelFillColor,fontSize:e.labelFontSize,fontFamily:e.fontFamily,fillColorDark:e.labelFillColorDark,fillColorLight:e.labelFillColorLight}}}}}var $1={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},B5t={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},N5t=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],Z5t=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],z5t=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],rw=function(e){e===void 0&&(e={});var r=e.mapStyle,t=r===void 0?"light":r,n=e.subColor,i=n===void 0?"rgba(0,0,0,0.05)":n,a=e.paletteQualitative10,o=a===void 0?N5t:a,s=e.paletteQualitative20,u=s===void 0?Z5t:s,l=e.paletteSemanticRed,c=l===void 0?"#F4664A":l,f=e.paletteSemanticGreen,h=f===void 0?"#30BF78":f,v=e.paletteSemanticYellow,p=v===void 0?"#FAAD14":v,g=e.paletteSequence,y=g===void 0?z5t:g,m=e.fontFamily,E=m===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:m,C=e.brandColor,A=C===void 0?o[0]:C;return{mapStyle:t,brandColor:A,subColor:i,paletteQualitative10:o,paletteQualitative20:u,paletteSemanticRed:c,paletteSemanticGreen:h,paletteSemanticYellow:p,paletteSequence:y,fontFamily:E,legendContainerFillColor:"rgba(255, 255, 255, 0.85)",legendContainerShadow:"0 2px 8px 0 rgba(166, 166, 166, 0.20)",legendContainerBorderRadius:2,legendTextFillColor:$1[65],legendTextFontSize:12,tooltipContainerFillColor:"rgba(255, 255, 255, 0.9)",tooltipContainerShadow:"rgb(0 0 0 / 16%) 0px 6px 12px 0px",tooltipContainerBorderRadius:2,tooltipTextFillColor:$1[65],tooltipItemNameFillColor:$1[65],tooltipItemValueFillColor:$1[65],tooltipTextFontSize:12,tooltipTextLineHeight:"20px",labelFillColor:$1[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,pointFillColor:A,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:B5t[100],pointActiveBorderColor:$1[100],pointSelectedBorderColor:$1[100]}},Mpt=rw(),U5t={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},q1={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},nw=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],H5t=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],V5t=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],iw=function(e){e===void 0&&(e={});var r=e.mapStyle,t=r===void 0?"dark":r,n=e.subColor,i=n===void 0?"rgba(255,255,255,0.05)":n,a=e.paletteQualitative10,o=a===void 0?nw:a,s=e.paletteQualitative20,u=s===void 0?H5t:s,l=e.paletteSemanticRed,c=l===void 0?"#F4664A":l,f=e.paletteSemanticGreen,h=f===void 0?"#30BF78":f,v=e.paletteSemanticYellow,p=v===void 0?"#FAAD14":v,g=e.paletteSequence,y=g===void 0?V5t:g,m=e.fontFamily,E=m===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:m,C=e.brandColor,A=C===void 0?o[0]:C;return{mapStyle:t,brandColor:A,subColor:i,paletteQualitative10:o,paletteQualitative20:u,paletteSemanticRed:c,paletteSemanticGreen:h,paletteSemanticYellow:p,paletteSequence:y,fontFamily:E,legendContainerFillColor:"rgba(31, 31, 31, 0.85)",legendContainerShadow:"0 2px 8px 0 rgba(166, 166, 166, 0.20)",legendContainerBorderRadius:2,legendTextFillColor:q1[65],legendTextFontSize:12,tooltipContainerFillColor:"rgba(31, 31, 31, 0.9)",tooltipContainerShadow:"0px 2px 4px rgba(0, 0, 0, 0.5)",tooltipContainerBorderRadius:2,tooltipTextFillColor:q1[65],tooltipItemNameFillColor:q1[65],tooltipItemValueFillColor:q1[65],tooltipTextFontSize:12,tooltipTextLineHeight:"20px",labelFillColor:q1[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,pointFillColor:nw[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:U5t[100],pointActiveBorderColor:q1[100],pointSelectedBorderColor:q1[100]}},Tpt=iw();function aw(e){var r=e.styleSheet,t=r===void 0?{}:r,n=(0,x._T)(e,["styleSheet"]),i=rw(t);return(0,d.b$)({},ew(i),n)}function G5t(e){var r=e.styleSheet,t=r===void 0?{}:r,n=(0,x._T)(e,["styleSheet"]),i=iw(t);return(0,d.b$)({},ew(i),n)}var ow=aw({}),j5t=G5t({}),D6={default:ow,light:ow,dark:j5t};function B6(e){return e===void 0&&(e="default"),(0,d.U2)(D6,(0,d.vl)(e),D6.default)}function wpt(e,r,t){t===void 0&&(t="light"),D6[lowerCase(e)]=t==="light"?createTheme(r):createDarkTheme(r)}var sw={map:{type:ss.Amap},logo:!0},W5t=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this)||this;return n.inited=!1,n.sceneLoaded=!1,n.layersLoaded=!1,n.loaded=!1,n.layerGroup=new tw,n.options=Oi({},n.getDefaultOptions(),t),n.lastOptions=n.options,n}return r.prototype.getDefaultOptions=function(){return r.DefaultOptions},r.prototype.createContainer=function(t){var n=this.options,i=n.width,a=n.height,o=typeof t=="string"?document.getElementById(t):t;return o.style.position||(o.style.position="relative"),i&&(o.style.width||(o.style.width="".concat(i,"px"))),a&&(o.style.height||(o.style.height="".concat(a,"px"))),o},r.prototype.createTheme=function(){var t=(0,d.Kn)(this.options.theme)?Oi({},B6("default"),aw(this.options.theme)):B6(this.options.theme);return t},r.prototype.createMap=function(){var t=this.options.map?this.options.map:sw.map,n=t.type,i=(0,x._T)(t,["type"]),a=Object.assign({style:this.theme.mapStyle},i);return n===ss.Amap?new Gct(a):new a4t(a)},r.prototype.createScene=function(){var t=this.options,n=t.logo,i=t.antialias,a=t.preserveDrawingBuffer,o=(0,d.jn)(n)?{logoVisible:n}:{logoVisible:n==null?void 0:n.visible,logoPosition:n==null?void 0:n.position},s=Object.assign({antialias:i,preserveDrawingBuffer:a},o),u=this.createMap(),l=new yct((0,x.pi)({id:this.container,map:u},s));return l},r.prototype.registerResources=function(){var t=this;X1.size&&X1.forEach(function(n,i){!t.scene.hasImage(i)&&t.scene.addImage(i,n)}),Rc.size&&Rc.forEach(function(n,i){t.scene.addFontFace(i,n)}),bl.size&&bl.forEach(function(n,i){t.scene.addIconFont(i,n)})},r.prototype.update=function(t){this.updateOption(t),t.map&&!(0,d.Xy)(this.lastOptions.map,this.options.map)&&this.updateMap(t.map),this.render(),this.emit("update")},r.prototype.updateOption=function(t){this.lastOptions=this.options,this.options=Oi({},this.options,t)},r.prototype.updateMap=function(t){var n;if(this.scene){var i=t.style,a=t.center,o=t.zoom,s=t.rotation,u=t.pitch;(0,d.o8)(u)||this.scene.setPitch(u),(0,d.o8)(s)||this.scene.setRotation(s),i&&i!==((n=this.lastOptions.map)===null||n===void 0?void 0:n.style)&&this.scene.setMapStyle(i),o&&a&&this.scene.setZoomAndCenter(o,a)}},r.prototype.changeSize=function(t,n){this.options.width===t&&this.options.height===n||(this.container.style.width="".concat(t,"px"),this.container.style.height="".concat(n,"px"),this.options=Object.assign(this.options,{width:t,height:n}))},r.prototype.on=function(t,n,i){return this.proxyEventHander("on",t,n,i),this},r.prototype.once=function(t,n){return this.proxyEventHander("once",t,n),this},r.prototype.off=function(t,n){return this.proxyEventHander("off",t,n),this},r.prototype.proxyEventHander=function(t,n,i,a){var o=R5t.find(function(f){return f.adaptation===n});if(o)this.scene[t](o.original,i);else if(D5t.indexOf(n)!==-1)this.scene[t](n,i);else if(n.includes("Layer:")){var s=(0,x.CR)(n.split(":"),2),u=s[0],l=s[1],c=this[u]&&this[u][t];if(c&&Pc.indexOf(l)!==-1)this[u][t](l,i);else throw new Error('No event name "'.concat(n,'"'))}else e.prototype[t].call(this,n,i,a)},r.prototype.getScene=function(){return this.scene},r.prototype.getMap=function(){var t,n;return((t=this.options.map)===null||t===void 0?void 0:t.type)===ss.Amap?this.scene.map:((n=this.options.map)===null||n===void 0?void 0:n.type)===ss.Mapbox?this.scene.map:this.scene.map},r.prototype.addLayer=function(t){this.layerGroup.addLayer(t)},r.prototype.getLayes=function(){return console.warn("Replace to use getLayers()"),this.getLayers()},r.prototype.getLayers=function(){return this.layerGroup.getLayers()},r.prototype.getLayerByName=function(t){return this.layerGroup.getLayerByName(t)},r.prototype.removeLayer=function(t){return this.layerGroup.removeLayer(t)},r.prototype.removeAllLayer=function(){this.layerGroup.removeAllLayer()},r.prototype.zoomIn=function(){this.scene.zoomIn()},r.prototype.zoomOut=function(){this.scene.zoomOut()},r.prototype.setPitch=function(t){this.scene.setPitch(t)},r.prototype.fitBounds=function(t){this.scene.fitBounds(t)},r.prototype.setMapStatus=function(t){this.scene.setMapStatus(t)},r.prototype.setBgColor=function(t){this.scene.setBgColor(t)},r.prototype.initComponents=function(){this.initControls(),this.initTooltip()},r.prototype.updateComponents=function(){this.updateControls(),this.initTooltip()},r.prototype.initControls=function(){var t=this,n=this.options,i=n.zoom,a=n.scale,o=n.layerMenu,s=n.legend;a&&this.addScaleControl(a),i&&this.addZoomControl(i),o&&this.addLayerMenuControl(o),s&&setTimeout(function(){t.addLegendControl(s),t.emit("add-legend")},1e3)},r.prototype.updateControls=function(){var t=this.options,n=t.zoom,i=t.scale,a=t.layerMenu,o=t.legend;(0,d.Xy)(this.lastOptions.zoom,n)||(n?this.updateZoomControl(n):this.removeZoomControl()),(0,d.Xy)(this.lastOptions.scale,i)||(i?this.updateScaleControl(i):this.removeScaleControl()),(0,d.Xy)(this.lastOptions.layerMenu,a)||(a?this.updateLayerMenuControl(a):this.removeLayerMenuControl()),(0,d.Xy)(this.lastOptions.legend,o)||(o?this.updateLegendControl(o):this.removeLegendControl())},r.prototype.addZoomControl=function(t){this.zoomControl||(this.zoomControl=new Bit(t),this.scene.addControl(this.zoomControl))},r.prototype.updateZoomControl=function(t){if(!this.zoomControl){this.addZoomControl(t);return}this.removeZoomControl(),this.addZoomControl(t)},r.prototype.removeZoomControl=function(){this.zoomControl&&(this.zoomControl.remove(),this.zoomControl=void 0)},r.prototype.addScaleControl=function(t){this.scaleControl||(this.scaleControl=new Pit(t),this.scene.addControl(this.scaleControl))},r.prototype.updateScaleControl=function(t){if(!this.scaleControl){this.addScaleControl(t);return}this.removeScaleControl(),this.addScaleControl(t)},r.prototype.removeScaleControl=function(){this.scaleControl&&(this.scaleControl.remove(),this.scaleControl=void 0)},r.prototype.addLayerMenuControl=function(t){var n={},i={};this.layerGroup.getLayers().forEach(function(a){var o=a.name,s=a.layer;i[o]=s})},r.prototype.updateLayerMenuControl=function(t){this.removeLayerMenuControl(),this.addLayerMenuControl(t)},r.prototype.removeLayerMenuControl=function(){},r.prototype.getLegendOptions=function(){return{}},r.prototype.addLegendControl=function(t){if(!this.legendControl){var n=this.theme.components.legend,i=Oi({},this.getLegendOptions(),t),a=i.type,o=i.position,s=(0,x._T)(i,["type","position"]),u=[];if(a==="category"){var l=Oi({},{domStyles:n.category.domStyles},s);u.push({type:a,options:l})}else if(a==="continue"){var c=Oi({},{domStyles:n.continue.domStyles},s);u.push({type:a,options:c})}u.length&&(this.legendControl=new P5t({position:o,items:u}),this.scene.addControl(this.legendControl))}},r.prototype.updateLegendControl=function(t){if(!this.legendControl){this.addLegendControl(t);return}this.removeLegendControl(),this.addLegendControl(t)},r.prototype.removeLegendControl=function(){this.legendControl&&(this.legendControl.remove(),this.legendControl=void 0)},r.prototype.initTooltip=function(){var t=this;this.tooltip&&this.tooltip.destroy();var n=this.options.tooltip;if(n){var i=Oi({},{domStyles:this.theme.components.tooltip.domStyles},n),a=this.layerGroup.getInteractionLayers();this.tooltip=new T5t(this.scene,a,i),this.tooltip.on("*",function(o){return t.emit(o.type,o)})}},r.prototype.exportPng=function(t){return this.scene.exportPng(t)},r.prototype.destroy=function(){var t;e.prototype.off.call(this,"*"),this.removeScaleControl(),this.removeZoomControl(),this.removeLayerMenuControl(),this.removeLegendControl(),(t=this.tooltip)===null||t===void 0||t.destroy(),this.scene.destroy()},r.DefaultOptions=sw,r}(ya.Z),uw;(function(e){e[e.solid=0]="solid",e[e.dash=1]="dash"})(uw||(uw={}));var N6;(function(e){e.TextLayer="textLayer",e.DotLayer="dotLayer",e.IconLayer="iconLayer",e.DotDensity="dotDensityLayer",e.ColumnLayer="columnLayer",e.HeatmapLayer="heatmapLayer",e.GridLayer="gridLayer",e.HexbinLayer="hexbinLayer",e.LinesLayer="linesLayer",e.PathLayer="pathLayer",e.ArcLayer="arcLayer",e.AreaLayer="areaLayer",e.PrismLayer="prismLayer"})(N6||(N6={}));var Z6=function(){function e(){}return e.aggregation=function(r,t){var n=t.type,i=n===void 0?"grid":n,a=t.radius,o=t.method,s=t.field,u={type:i,size:a,method:o,field:s};r.transforms?(r.transforms=r.transforms.filter(function(l){return l.type!==u.type}),r.transforms.push(u)):r.transforms=[u]},e}(),lw=["name","zIndex","visible","minZoom","maxZoom","pickingBuffer","autoFit","blend"],cs=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this)||this;return n.options=Oi({},n.getDefaultOptions(),t),n.lastOptions=n.options,n}return r.prototype.getDefaultOptions=function(){return{}},r.prototype.pickLayerConfig=function(t){var n=(0,d.ei)(t,lw);return n},r.prototype.addTo=function(t){t.addLayer(this.layer)},r.prototype.remove=function(t){t.removeLayer(this.layer)},r.prototype.update=function(t){this.updateOption(t),this.updateConfig(t)},r.prototype.updateOption=function(t){this.lastOptions=this.options,this.options=Oi({},this.options,t)},r.prototype.updateConfig=function(t){!(0,d.o8)(t.zIndex)&&!(0,d.Xy)(this.lastOptions.zIndex,this.options.zIndex)&&this.setIndex(t.zIndex),!(0,d.o8)(t.blend)&&!(0,d.Xy)(this.lastOptions.blend,this.options.blend)&&this.setBlend(t.blend),!(0,d.o8)(t.minZoom)&&!(0,d.Xy)(this.lastOptions.minZoom,this.options.minZoom)&&this.setMinZoom(t.minZoom),!(0,d.o8)(t.maxZoom)&&!(0,d.Xy)(this.lastOptions.maxZoom,this.options.maxZoom)&&this.setMinZoom(t.maxZoom),!(0,d.o8)(t.visible)&&!(0,d.Xy)(this.lastOptions.visible,this.options.visible)&&(t.visible?this.show():this.hide())},r.prototype.render=function(){this.layer.renderLayers()},r.prototype.setSource=function(t){if(t instanceof Ju)this.layer.setSource(t);else{var n=t.data,i=t.aggregation,a=(0,x._T)(t,["data","aggregation"]);i&&Z6.aggregation(a,i);var o=this.layer.getSource();o?this.layer.setData(n,a):this.layer.source(n,a)}},r.prototype.changeData=function(t){this.setSource(t)},r.prototype.setIndex=function(t){this.layer.setIndex(t)},r.prototype.setBlend=function(t){this.layer.setBlend(t)},r.prototype.setMinZoom=function(t){this.layer.setMinZoom(t)},r.prototype.setMaxZoom=function(t){this.layer.setMaxZoom(t)},r.prototype.show=function(){this.layer.inited&&this.layer.show()},r.prototype.hide=function(){this.layer.inited&&this.layer.hide()},r.prototype.toggleVisible=function(){this.isVisible()?this.hide():this.show()},r.prototype.isVisible=function(){return this.layer.inited?this.layer.isVisible():this.options.visible},r.prototype.fitBounds=function(t){this.layer.fitBounds(t)},r.prototype.on=function(t,n){return Pc.indexOf(t)!==-1?this.layer.on(t,n):e.prototype.on.call(this,t,n),this},r.prototype.once=function(t,n){return Pc.indexOf(t)!==-1?this.layer.once(t,n):e.prototype.once.call(this,t,n),this},r.prototype.off=function(t,n){return Pc.indexOf(t)!==-1?this.layer.off(t,n):e.prototype.off.call(this,t,n),this},r.LayerType=N6,r.LayerConfigkeys=lw,r}(ya.Z);function K1(e,r){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return e.forEach(function(a,o){i[a]=t[o]}),delete i.undefined,r(i)}}var tn=function(){function e(){}return e.shape=function(r,t){if((0,d.HD)(t))r.shape(t);else if((0,d.mf)(t)){var n=[];r.shape(n.join("*"),K1(n,t))}else if((0,d.Kn)(t)){var i=t.field?t.field:"";if((0,d.mf)(t.value)){var n=(0,d.kJ)(i)?i:i.split("*");r.shape(i,K1(n,t.value))}else r.shape(i,t.value);(0,d.HD)(i)&&t.scale&&e.scale(r,i,t.scale)}},e.size=function(r,t){if((0,d.hj)(t))r.size(t);else if((0,d.kJ)(t))r.size(t);else if((0,d.mf)(t)){var n=[];r.size(n.join("*"),K1(n,t))}else if((0,d.Kn)(t)){var i=t.field?t.field:"";if((0,d.mf)(t.value)){var n=(0,d.kJ)(i)?i:i.split("*");r.size(i,K1(n,t.value))}else r.size(i,t.value);(0,d.HD)(i)&&t.scale&&e.scale(r,i,t.scale)}},e.color=function(r,t){if((0,d.HD)(t))r.color(t);else if((0,d.mf)(t)){var n=[];r.color(n.join("*"),K1(n,t))}else if((0,d.Kn)(t)){var i=t.field?t.field:"";if((0,d.mf)(t.value)){var n=(0,d.kJ)(i)?i:i.split("*");r.color(i,K1(n,t.value))}else r.color(i,t.value);(0,d.HD)(i)&&t.scale&&e.scale(r,i,t.scale)}},e.style=function(r,t){t&&r.style(t)},e.state=function(r,t){var n=t.active,i=t.select;n&&r.active(n),i&&r.select(i)},e.rotate=function(r,t){(0,d.HD)(t)||(0,d.mf)(t)||(0,d.Kn)(t)},e.texture=function(r,t){(0,d.HD)(t)&&r.texture(t)},e.animate=function(r,t){((0,d.jn)(t)||(0,d.Kn)(t))&&r.animate(t)},e.scale=function(r,t,n){r.scale(t,n)},e.filter=function(r,t){var n=t.field?t.field:"",i=(0,d.kJ)(n)?n:n.split("*");r.filter(i.join("*"),K1(i,t.value))},e}();function Y5t(e,r){var t=r.field,n=r.content,i=r.style,a=i===void 0?{}:i,o=r.state,s=a.fontSize,u=a.fill,l=t||n||"",c={field:l,value:"text"};tn.shape(e,c),s&&tn.size(e,s),u&&tn.color(e,u),a&&tn.style(e,a),o&&tn.state(e,o)}var cw={style:{fontSize:12}},X5t=[],$5t=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.type=cs.LayerType.TextLayer,n.interaction=!1;var i=n.options,a=i.name,o=i.source,s=n.pickLayerConfig(n.options);return n.name=a||(0,d.EL)(n.type),n.layer=new nc((0,x.pi)((0,x.pi)({},s),{name:n.name})),n.mappingLayer(n.layer,n.options),n.setSource(o),n}return r.prototype.getDefaultOptions=function(){return cw},r.prototype.mappingLayer=function(t,n){Y5t(t,n)},r.prototype.update=function(t){e.prototype.update.call(this,t),this.mappingLayer(this.layer,this.options)},r.DefaultOptions=cw,r.LayerOptionsKeys=cs.LayerConfigkeys.concat(X5t),r}(cs),z6;(function(e){e.Dot="dot",e.DotDensity="dotDensity",e.Heatmap="heatmap",e.Grid="grid",e.Hexbin="hexbin",e.Path="path",e.Flow="flow",e.Area="area",e.Choropleth="choropleth"})(z6||(z6={}));var q5t={autoFit:!1},U6=function(e){(0,x.ZT)(r,e);function r(t,n){var i=this;if(typeof t=="string"||t instanceof Element){if(n===void 0)throw new Error("options is undefined");i=e.call(this,n)||this,i.container=i.createContainer(t),i.theme=i.createTheme(),i.scene=i.createScene(),i.registerResources(),i.initSource()}else i=e.call(this,t)||this;return i}return r.prototype.initSource=function(){this.source=this.createSource(),this.render(),this.inited=!0},r.prototype.initLayersEvent=function(){},r.prototype.getDefaultOptions=function(){return r.DefaultOptions},r.prototype.createSource=function(){var t=this.options.source,n=t.data,i=t.aggregation,a=(0,x._T)(t,["data","aggregation"]);i&&Z6.aggregation(a,i);var o=new Ju(n,a);return o},r.prototype.createLabelLayer=function(t,n,i){var a=i||{},o=a.visible,s=a.minZoom,u=a.maxZoom,l=a.zIndex,c=l===void 0?0:l,f=new $5t((0,x.pi)({name:"labelLayer",visible:o,minZoom:s,maxZoom:u,zIndex:c+.1,source:t},n));return f},r.prototype.updateLabelLayer=function(t,n,i,a){n?a?a.update((0,x.pi)({},n)):(a=this.createLabelLayer(t,n,i),this.layerGroup.addLayer(a)):n===!1&&a&&this.layerGroup.removeLayer(a)},r.prototype.render=function(){var t=this,n=this.createLayers(this.source);this.inited?(this.layerGroup.removeAllLayer(),n.addTo(this.scene),this.layerGroup=n):(this.layerGroup=n,this.scene.sceneService.loaded?this.onSceneLoaded():this.scene.once("loaded",function(){t.onSceneLoaded()})),this.initLayersEvent()},r.prototype.onSceneLoaded=function(){var t=this;this.sceneLoaded=!0,this.layerGroup.isEmpty()?this.onLayersLoaded():this.layerGroup.once("inited-all",function(){t.onLayersLoaded()}),this.layerGroup.addTo(this.scene)},r.prototype.onLayersLoaded=function(){this.layersLoaded=!0,this.initComponents(),this.loaded=!0,this.emit("loaded")},r.prototype.attachToScene=function(t,n){this.scene=t,this.theme=n||B6("default"),this.registerResources(),this.initSource()},r.prototype.unattachFromScene=function(){var t;this.removeAllLayer(),(t=this.tooltip)===null||t===void 0||t.destroy()},r.prototype.addToScene=function(t){this.attachToScene(t)},r.prototype.removeFromScene=function(){var t;this.removeAllLayer(),this.removeScaleControl(),this.removeZoomControl(),this.removeLayerMenuControl(),this.removeLegendControl(),(t=this.tooltip)===null||t===void 0||t.destroy()},r.prototype.update=function(t){if(this.updateOption(t),t.map&&!(0,d.Xy)(this.lastOptions.map,this.options.map)&&this.updateMap(t.map),this.scene.setEnableRender(!1),t.source&&!(0,d.Xy)(this.lastOptions.source,this.options.source)){var n=t.source,i=n.data,a=(0,x._T)(n,["data"]);this.changeData(i,a)}this.scene.setEnableRender(!0),this.render(),this.updateComponents(),this.emit("update")},r.prototype.changeData=function(t,n){var i=this;this.options.source=Oi({},this.options.source,(0,x.pi)({data:t},n));var a=this.options.source,o=a.aggregation,s=(0,x._T)(a,["aggregation"]);o&&Z6.aggregation(s,o),this.source.setData(this.options.source.data,s);var u=this.options.legend;u&&setTimeout(function(){i.updateLegendControl(u)}),this.emit("change-data")},r.DefaultOptions=q5t,r.PlotType=z6,r}(W5t),K5t=Oi({},U6.DefaultOptions,{source:{data:{type:"FeatureCollection",features:[]},parser:{type:"geojson"}}}),fw="#2f54eb",kn={active:{fill:!1,stroke:fw,lineWidth:1.5,lineOpacity:.8},select:{fill:!1,stroke:fw,lineWidth:1.5,lineOpacity:.8}},Ml=function(e){return(0,d.o8)(e)||(e.active===!1?kn.active=Object.assign(kn.active,{fill:!1,stroke:!1}):typeof e.active=="object"&&(e.active.fill===!1?kn.active.fill=!1:typeof e.active.fill=="string"&&(kn.active.fill=e.active.fill),e.active.stroke===!1?kn.active.stroke=!1:typeof e.active.stroke=="string"&&(kn.active.stroke=e.active.stroke),typeof e.active.lineWidth=="number"&&(kn.active.lineWidth=e.active.lineWidth),typeof e.active.lineOpacity=="number"&&(kn.active.lineOpacity=e.active.lineOpacity)),e.select===!1?kn.select=Object.assign(kn.select,{fill:!1,stroke:!1}):typeof e.select=="object"&&(e.select.fill===!1?kn.select.fill=!1:typeof e.select.fill=="string"&&(kn.select.fill=e.select.fill),e.select.stroke===!1?kn.select.stroke=!1:typeof e.select.stroke=="string"&&(kn.select.stroke=e.select.stroke),typeof e.select.lineWidth=="number"&&(kn.select.lineWidth=e.select.lineWidth),typeof e.select.lineOpacity=="number"&&(kn.select.lineOpacity=e.select.lineOpacity))),kn};function Q5t(e,r,t,n,i,a){var o=a.color,s=a.style,u=a.state,l=Ml(u),c={active:l.active.fill===!1?!1:{color:l.active.fill},select:!1},f={opacity:s==null?void 0:s.opacity},h=s==null?void 0:s.fillBottomColor,v=s==null?void 0:s.lineWidth,p=s==null?void 0:s.stroke,g={opacity:s==null?void 0:s.lineOpacity,dashArray:s==null?void 0:s.lineDash,lineType:s==null?void 0:s.lineType};if(tn.shape(e,"fill"),o&&tn.color(e,o),f&&tn.style(e,f),c&&tn.state(e,c),h&&e.setBottomColor(h),tn.shape(r,"line"),v&&tn.size(r,v),p&&tn.color(r,p),g&&tn.style(r,g),l.active.stroke){var y=l.active.stroke,m=l.active.lineWidth||v,E={opacity:l.active.lineOpacity};tn.shape(t,"line"),m&&tn.size(t,m),y&&tn.color(t,y),E&&tn.style(t,E)}if(l.select.fill){var C=l.select.fill;tn.shape(n,"fill"),C&&tn.color(n,C),f&&tn.style(n,f),tn.state(n,{select:!1,active:!1})}if(l.select.stroke){var A=l.select.stroke,m=l.select.lineWidth||v,M={opacity:l.select.lineOpacity};tn.shape(i,"line"),m&&tn.size(i,m),A&&tn.color(i,A),M&&tn.style(i,M)}}var J5t=/\s/;function t8t(e){for(var r=e.length;r--&&J5t.test(e.charAt(r)););return r}var e8t=t8t,r8t=/^\s+/;function n8t(e){return e&&e.slice(0,e8t(e)+1).replace(r8t,"")}var i8t=n8t,hw=0/0,a8t=/^[-+]0x[0-9a-f]+$/i,o8t=/^0b[01]+$/i,s8t=/^0o[0-7]+$/i,u8t=parseInt;function l8t(e){if(typeof e=="number")return e;if(kc(e))return hw;if(Oc(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Oc(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=i8t(e);var t=o8t.test(e);return t||s8t.test(e)?u8t(e.slice(2),t?2:8):a8t.test(e)?hw:+e}var vw=l8t,pw=1/0,c8t=17976931348623157e292;function f8t(e){if(!e)return e===0?e:0;if(e=vw(e),e===pw||e===-pw){var r=e<0?-1:1;return r*c8t}return e===e?e:0}var h8t=f8t;function v8t(e){var r=h8t(e),t=r%1;return r===r?t?r-t:r:0}var p8t=v8t,d8t=Fc.isFinite,g8t=Math.min;function y8t(e){var r=Math[e];return function(t,n){if(t=vw(t),n=n==null?0:g8t(p8t(n),292),n&&d8t(t)){var i=(F6(t)+"e").split("e"),a=r(i[0]+"e"+(+i[1]+n));return i=(F6(a)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return r(t)}}var m8t=y8t,x8t=m8t("round"),dw=x8t,_8t=function(e){return!Array.isArray(e[0].value)},E8t=function(e){if(_8t(e))return e;var r=e.map(function(t){return(0,x.pi)((0,x.pi)({},t),{value:[dw(t.value[0],2),dw(t.value[1],2)]})});return r},gw={visible:!0,state:{active:!1,select:!1},enabledMultiSelect:!1},C8t=["color","style","state","enabledMultiSelect"],H6=function(e){(0,x.ZT)(r,e);function r(t){var n=e.call(this,t)||this;n.selectData=[],n.type=cs.LayerType.AreaLayer,n.interaction=!0,n.onHighlighHandle=function(p){var g=p.feature,y=p.featureId;n.setHighlightLayerSource(g,y)},n.onUnhighlighHandle=function(){n.setHighlightLayerSource()},n.onSelectHandle=function(p){var g=n.options.enabledMultiSelect,y=p.feature,m=p.featureId,E=(0,d.d9)(n.selectData),C=E.findIndex(function(M){return M.featureId===m});if(C===-1)g?E.push({feature:y,featureId:m}):E=[{feature:y,featureId:m}],n.emit("select",y,(0,d.d9)(E));else{var A=E[C];g?E.splice(C,1):E=[],n.emit("unselect",A,(0,d.d9)(E))}n.setSelectLayerSource(E)};var i=n.options,a=i.name,o=i.source,s=i.visible,u=i.minZoom,l=i.maxZoom,c=i.zIndex,f=c===void 0?0:c,h=n.pickLayerConfig(n.options),v=Ml(n.options.state);return n.name=a||(0,d.EL)(n.type),n.layer=new z9((0,x.pi)((0,x.pi)({},h),{name:n.name})),n.strokeLayer=new nl({name:"strokeLayer",visible:s,zIndex:f,minZoom:u,maxZoom:l}),n.highlightLayer=new nl({name:"highlightLayer",visible:s&&Boolean(v.active.stroke),zIndex:f+.1,minZoom:u,maxZoom:l}),n.selectFillLayer=new z9({name:"selectFillLayer",visible:s&&Boolean(v.select.fill),zIndex:f+.1,minZoom:u,maxZoom:l}),n.selectStrokeLayer=new nl({name:"selectStrokeLayer",visible:s&&Boolean(v.select.stroke),zIndex:f+.1,minZoom:u,maxZoom:l}),n.mappingLayer(n.options),n.setSource(o),n.initEvent(),n}return r.prototype.getDefaultOptions=function(){return gw},r.prototype.mappingLayer=function(t){Q5t(this.layer,this.strokeLayer,this.highlightLayer,this.selectFillLayer,this.selectStrokeLayer,t)},r.prototype.setSource=function(t){e.prototype.setSource.call(this,t),this.setStrokeLayerSource(),this.setHighlightLayerSource(),this.selectFillLayer.source({type:"FeatureCollection",features:[]},{parser:{type:"geojson"}}),this.selectStrokeLayer.source({type:"FeatureCollection",features:[]},{parser:{type:"geojson"}})},r.prototype.setStrokeLayerSource=function(){var t=this.layer.getSource();if(t)this.strokeLayer.setSource(t);else{var n=this.layer.sourceOption,i=n.data,a=n.options;this.strokeLayer.source(i,a)}},r.prototype.setHighlightLayerSource=function(t,n){if(n===void 0&&(n=-999),this.highlightLayerData!==n){var i=t?[t]:[];this.highlightLayer.setData({type:"FeatureCollection",features:i},{parser:{type:"geojson"}}),this.highlightLayerData=n}},r.prototype.setSelectLayerSource=function(t){if(t===void 0&&(t=[]),!(this.selectData.length===t.length&&(0,d.Xy)(this.selectData.map(function(i){var a=i.featureId;return a}),t.map(function(i){var a=i.featureId;return a})))){var n=t.map(function(i){var a=i.feature;return a});this.selectFillLayer.setData({type:"FeatureCollection",features:n},{parser:{type:"geojson"}}),this.selectStrokeLayer.setData({type:"FeatureCollection",features:n},{parser:{type:"geojson"}}),this.selectData=t}},r.prototype.initEvent=function(){this.layer.off("mousemove",this.onHighlighHandle),this.layer.off("unmousemove",this.onHighlighHandle),this.layer.off("click",this.onSelectHandle),this.selectData=[],this.highlightLayerData=null,this.options.state&&(this.options.state.active&&(this.layer.on("mousemove",this.onHighlighHandle),this.layer.on("unmousemove",this.onUnhighlighHandle)),this.options.state.select&&this.layer.on("click",this.onSelectHandle))},r.prototype.addTo=function(t){t.addLayer(this.layer),t.addLayer(this.strokeLayer),t.addLayer(this.highlightLayer),t.addLayer(this.selectFillLayer),t.addLayer(this.selectStrokeLayer)},r.prototype.remove=function(t){t.removeLayer(this.layer),t.removeLayer(this.strokeLayer),t.removeLayer(this.highlightLayer),t.removeLayer(this.selectFillLayer),t.removeLayer(this.selectStrokeLayer)},r.prototype.update=function(t){if(e.prototype.update.call(this,t),this.mappingLayer(this.options),this.options.visible){!(0,d.o8)(t.state)&&!(0,d.Xy)(this.lastOptions.state,this.options.state)&&this.updateHighlightLayer();var n=Ml(this.options.state);n.active.stroke&&this.setHighlightLayerSource(),(n.select.fill||n.select.stroke)&&this.setSelectLayerSource()}this.initEvent()},r.prototype.updateHighlightLayer=function(){var t=Ml(this.options.state),n=Ml(this.lastOptions.state);n.active.stroke!==t.active.stroke&&(t.active.stroke?this.highlightLayer.show():this.highlightLayer.hide()),n.select.fill!==t.select.fill&&(t.select.fill?this.selectFillLayer.show():this.selectFillLayer.hide()),n.select.stroke!==t.select.stroke&&(t.select.stroke?this.selectStrokeLayer.show():this.selectStrokeLayer.hide())},r.prototype.setIndex=function(t){this.layer.setIndex(t),this.strokeLayer.setIndex(t),this.highlightLayer.setIndex(t+.1),this.selectFillLayer.setIndex(t+.1),this.selectStrokeLayer.setIndex(t+.1)},r.prototype.setMinZoom=function(t){this.layer.setMinZoom(t),this.strokeLayer.setMinZoom(t),this.highlightLayer.setMinZoom(t),this.selectFillLayer.setMinZoom(t),this.selectStrokeLayer.setMinZoom(t)},r.prototype.setMaxZoom=function(t){this.layer.setMaxZoom(t),this.strokeLayer.setMaxZoom(t),this.highlightLayer.setMaxZoom(t),this.selectFillLayer.setMaxZoom(t),this.selectStrokeLayer.setMaxZoom(t)},r.prototype.show=function(){this.layer.inited&&(this.layer.show(),this.strokeLayer.show(),this.selectFillLayer.show(),this.selectStrokeLayer.show())},r.prototype.hide=function(){this.layer.inited&&(this.layer.hide(),this.strokeLayer.hide(),this.selectFillLayer.hide(),this.selectStrokeLayer.hide())},r.prototype.getColorLegendItems=function(){var t=this.layer.getLegendItems("color");if(Array.isArray(t)&&t.length!==0){var n=E8t(t);return n}return[]},r.prototype.setActive=function(t){},r.prototype.setSelect=function(t){},r.DefaultOptions=gw,r.LayerOptionsKeys=cs.LayerConfigkeys.concat(C8t),r}(cs),S8t=function(e){(0,x.ZT)(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.type=U6.PlotType.Area,t}return r.prototype.getDefaultOptions=function(){return r.DefaultOptions},r.prototype.createLayers=function(t){this.areaLayer=new H6((0,x.pi)({source:t},(0,d.ei)(this.options,H6.LayerOptionsKeys)));var n=new tw([this.areaLayer]);return this.options.label&&(this.labelLayer=this.createLabelLayer(t,this.options.label,this.options),n.addLayer(this.labelLayer)),n},r.prototype.updateLayers=function(t){var n=(0,d.ei)(t,H6.LayerOptionsKeys);this.areaLayer.update(n),this.updateLabelLayer(this.source,t.label,this.options,this.labelLayer)},r.prototype.initLayersEvent=function(){},r.prototype.getLegendOptions=function(){var t=this.areaLayer.getColorLegendItems();return t.length!==0?{type:"category",items:t}:{}},r.DefaultOptions=K5t,r}(U6),Fpt=function(e,r){var t={}.toString;return t.call(e)==="[object ".concat(r,"]")},kpt=function(e){return Object.prototype.toString.call(e).slice(8,-1)},V6=function(e){if(!e||typeof e!="object")return e;var r;return Array.isArray(e)?r=e.map(function(t){return V6(t)}):(r={},Object.keys(e).forEach(function(t){return r[t]=V6(e[t])})),r},Opt=function(e){if(!e)return e;var r={};for(var t in e)r[t]=e[t];return r},Tl=function(){return Tl=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Tl.apply(this,arguments)},b8t=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t},yw=function(e){var r=e.source,t=b8t(e,["source"]),n=Tl(Tl({},V6(t)),{source:Tl({},r)});return n},G6=function(){return G6=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},G6.apply(this,arguments)},Dc=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t};function A8t(e,r){var t=(0,_.useRef)(),n=(0,_.useRef)(),i=(0,_.useRef)(null),a=r.onReady;return(0,_.useEffect)(function(){if(!(!t.current||!n.current||(0,d.Xy)(n.current,r))){var o=!1,s=!1,u=!1,l=n.current,c=l.onReady,f=l.map,h=l.source,v=h.data,p=Dc(h,["data"]),g=Dc(l,["onReady","map","source"]),y=r.onReady,m=r.map,E=r.source,C=E.data,A=Dc(E,["data"]),M=Dc(r,["onReady","map","source"]);if(s=!(0,d.Xy)(f,m),o=!(0,d.Xy)(p,A)||v!==C,u=!(0,d.Xy)(g,M),n.current=yw(r),s){var Z=(0,d.ei)(m,["center","pitch","rotation","zoom","style"]);t.current.updateMap(Z)}o&&(t.current.loaded?t.current.changeData(C,A):t.current.once("loaded",function(){var Y;(Y=t.current)===null||Y===void 0||Y.changeData(C,A)})),u&&(t.current.loaded?t.current.update(M):t.current.once("loaded",function(){var Y;(Y=t.current)===null||Y===void 0||Y.update(M)}))}},[r]),(0,_.useEffect)(function(){return i.current?(n.current||(n.current=yw(r)),t.current=new e(i.current,G6({},r)),a&&t.current.once("loaded",function(){a(t.current)}),function(){t.current&&(t.current.destroy(),t.current=void 0)}):function(){return null}},[]),{plotRef:t,containerRef:i}}var M8t=function(e,r){e&&((0,d.mf)(e)?e(r):e.current=r)},T8t=function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),w8t=function(e){T8t(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(n){var i=t.props.errorTemplate;switch(n){default:return typeof i=="function"?i(n):i||_.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",n.message)}},t}return r.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},r.getDerivedStateFromProps=function(t,n){return n.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},r.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):_.createElement(_.Fragment,null,this.props.children)},r}(_.Component),F8t=w8t,k8t=function(e){var r=e.loadingTemplate,t=function(){return r||_.createElement(dm,{viewBox:"0 0 400 180",width:200,height:90,speed:1},_.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),_.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),_.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),_.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),_.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),_.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),_.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),_.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),_.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),_.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return _.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},t())},O8t=k8t,L8t=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t},I8t=(0,_.forwardRef)(function(e,r){var t=e.chartRef,n=e.containerStyle,i=n===void 0?{height:"inherit"}:n,a=e.className,o=e.loading,s=e.loadingTemplate,u=e.errorTemplate,l=L8t(e,["chartRef","containerStyle","className","loading","loadingTemplate","errorTemplate"]),c=A8t(S8t,l),f=c.plotRef,h=c.containerRef;return(0,_.useEffect)(function(){M8t(t,f.current)},[f.current]),(0,_.useImperativeHandle)(r,function(){return{getChart:function(){return f.current}}}),_.createElement(F8t,{errorTemplate:u},o&&_.createElement(O8t,{loadingTemplate:s}),_.createElement("div",{className:a,style:i,ref:h}))}),P8t=I8t,R8t=function(){var e=(0,_.useState)(!1),r=Ht()(e,2),t=r[0],n=r[1],i=(0,_.useState)({type:"FeatureCollection",features:[]}),a=Ht()(i,2),o=a[0],s=a[1],u=(0,_.useState)(),l=Ht()(u,2),c=l[0],f=l[1];(0,Ye.Z)(gt()(kt()().mark(function v(){return kt()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:c&&(n(!0),mm.features.forEach(function(y){y.properties.count=Math.round(Math.random()*100)}),s(mm),setTimeout(function(){n(!1)},90));case 1:case"end":return g.stop()}},v)})),[c]);var h={map:{type:"mapbox",style:"blank",minZoom:1.6,pitch:0,dragPan:!1,scrollZoom:!1,doubleClickZoom:!1},source:{data:o,parser:{type:"geojson"}},autoFit:!0,color:{field:"count",value:["#6296FE","#7EA6F9","#98B7F7","#BDD0F8","#DDE6F7","#F2F5FC"],scale:{type:"quantile"}},style:{opacity:1,stroke:"#fff",lineWidth:.6,lineOpacity:1},state:{active:!0},label:{visible:!0,field:"name",style:{fill:"#000",opacity:1,fontSize:10,stroke:"#fff",strokeWidth:1.5,textAllowOverlap:!1,padding:[3,3]}},legend:!1,tooltip:{items:["name","name_zh","pop_est"]}};return(0,D.jsx)(Qn.Z,{title:"\u767B\u5F55\u4F4D\u7F6E\u5206\u5E03",headerBordered:!0,extra:(0,D.jsx)(y3,{type:"today",onChange:function(p,g){f({startTime:p,endTime:g})}}),children:(0,D.jsx)(Q.Z,{loading:t,active:!0,paragraph:{rows:7},children:(0,D.jsx)("div",{style:{height:280},children:!t&&(0,D.jsx)(P8t,mt()({},h))})})})},D8t=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t},B8t=(0,_.forwardRef)(function(e,r){var t=e.chartRef,n=e.style,i=n===void 0?{height:"inherit"}:n,a=e.className,o=e.loading,s=e.loadingTemplate,u=e.errorTemplate,l=D8t(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=O5(Zd,l),f=c.chart,h=c.container;return(0,_.useEffect)(function(){L5(t,f.current)},[f.current]),(0,_.useImperativeHandle)(r,function(){return{getChart:function(){return f.current}}}),_.createElement(I5,{errorTemplate:u},o&&_.createElement(P5,{loadingTemplate:s,theme:e.theme}),_.createElement("div",{className:a,style:i,ref:h}))}),N8t=B8t,Z8t=function(){var e=(0,_.useState)(!1),r=Ht()(e,2),t=r[0],n=r[1],i=(0,_.useState)([]),a=Ht()(i,2),o=a[0],s=a[1],u=(0,_.useState)(),l=Ht()(u,2),c=l[0],f=l[1];(0,Ye.Z)(gt()(kt()().mark(function v(){var p,g,y,m,E;return kt()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!c){A.next=10;break}return p=c.startTime,g=c.endTime,n(!0),A.next=5,vo(p,g);case 5:y=A.sent,m=y.result,E=y.success,E&&s(m),setTimeout(function(){n(!1)},90);case 10:case"end":return A.stop()}},v)})),[c]);var h={height:300,minBarWidth:25,maxBarWidth:35,data:o,xField:"count",yField:"name",label:{position:"middle",style:{fill:"#FFFFFF",opacity:.6}},xAxis:{label:{autoHide:!0,autoRotate:!1}},barWidthRatio:.8,meta:{name:{alias:"\u5E94\u7528\u540D\u79F0"},count:{alias:"\u8BBF\u95EE\u6B21\u6570"}}};return(0,D.jsx)(Qn.Z,{title:"\u5E94\u7528\u8BBF\u95EE\u6392\u540D\uFF08\u524D\u5341\uFF09",headerBordered:!0,extra:(0,D.jsx)(y3,{type:"today",onChange:function(p,g){f({startTime:p,endTime:g})}}),children:(0,D.jsx)(Q.Z,{loading:t,active:!0,paragraph:{rows:7},children:o.length>0?(0,D.jsx)(N8t,mt()({},h)):(0,D.jsx)("div",{style:{height:280,alignItems:"center",display:"grid"},children:(0,D.jsx)(O0.Z,{image:O0.Z.PRESENTED_IMAGE_SIMPLE})})})})},z8t=function(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)r.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(t[n[i]]=e[n[i]]);return t},U8t=(0,_.forwardRef)(function(e,r){var t=e.chartRef,n=e.style,i=n===void 0?{height:"inherit"}:n,a=e.className,o=e.loading,s=e.loadingTemplate,u=e.errorTemplate,l=z8t(e,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),c=O5(zd,l),f=c.chart,h=c.container;return(0,_.useEffect)(function(){L5(t,f.current)},[f.current]),(0,_.useImperativeHandle)(r,function(){return{getChart:function(){return f.current}}}),_.createElement(I5,{errorTemplate:u},o&&_.createElement(P5,{loadingTemplate:s,theme:e.theme}),_.createElement("div",{className:a,style:i,ref:h}))}),H8t=U8t,V8t=function(){var e=(0,_.useState)(!1),r=Ht()(e,2),t=r[0],n=r[1],i=(0,_.useState)([]),a=Ht()(i,2),o=a[0],s=a[1],u=(0,_.useState)(),l=Ht()(u,2),c=l[0],f=l[1];(0,Ye.Z)(gt()(kt()().mark(function v(){var p,g,y,m,E;return kt()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!c){A.next=10;break}return p=c.startTime,g=c.endTime,n(!0),A.next=5,Na(p,g);case 5:y=A.sent,m=y.result,E=y.success,E&&s(m),setTimeout(function(){n(!1)},90);case 10:case"end":return A.stop()}},v)})),[c]);var h={height:280,data:o,isGroup:!0,xField:"name",yField:"count",seriesField:"status",marginRatio:.1,color:function(p){var g=p.status;return g==="\u6210\u529F"?"#5B8FF9":"#F4664A"},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]},minColumnWidth:15,maxColumnWidth:35};return(0,D.jsx)(Qn.Z,{title:"\u8BA4\u8BC1\u91CF",headerBordered:!0,extra:(0,D.jsx)(y3,{type:"today",onChange:function(p,g){f({startTime:p,endTime:g})}}),children:(0,D.jsx)(Q.Z,{loading:t,active:!0,paragraph:{rows:7},children:o.length>0?(0,D.jsx)(H8t,mt()({},h)):(0,D.jsx)("div",{style:{height:280,alignItems:"center",display:"grid"},children:(0,D.jsx)(O0.Z,{image:O0.Z.PRESENTED_IMAGE_SIMPLE})})})})},G8t=function(){return(0,D.jsxs)(St.f,{style:{height:"100%"},children:[(0,D.jsx)(Di,{}),(0,D.jsxs)(Ut.Z,{gutter:[24,24],children:[(0,D.jsx)(Dt.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{marginBottom:24},children:(0,D.jsx)(V8t,{})}),(0,D.jsx)(Dt.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{marginBottom:24},children:(0,D.jsx)(Z8t,{})})]}),(0,D.jsxs)(Ut.Z,{gutter:[24,24],children:[(0,D.jsx)(Dt.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{marginBottom:24},children:(0,D.jsx)(Eq,{})}),(0,D.jsx)(Dt.Z,{xs:24,sm:24,md:24,lg:12,xl:12,style:{marginBottom:24},children:(0,D.jsx)(R8t,{})})]})]})}},15457:function(Ce,z,F){"use strict";var nt=F(29268),V=F(79685),Bt=F(43865);function K(U,X){function W($){return(0,Bt.mf)($[Symbol.asyncIterator])}(0,V.useEffect)(()=>{const $=U();let et=!1;function bt(){return(0,nt.mG)(this,void 0,void 0,function*(){if(W($))for(;!((yield $.next()).done||et););else yield $})}return bt(),()=>{et=!0}},X)}z.Z=K},43865:function(Ce,z,F){"use strict";F.d(z,{mf:function(){return V}});const nt=W=>W!==null&&typeof W=="object",V=W=>typeof W=="function",Bt=W=>typeof W=="string",K=W=>typeof W=="boolean",U=W=>typeof W=="number",X=W=>typeof W=="undefined"},44334:function(Ce,z){(function(F,nt){nt(z)})(this,function(F){"use strict";function nt(S,H){return V(S)||Bt(S,H)||K()}function V(S){if(Array.isArray(S))return S}function Bt(S,H){var B=[],tt=!0,k=!1,T=void 0;try{for(var _=S[Symbol.iterator](),w;!(tt=(w=_.next()).done)&&(B.push(w.value),!(H&&B.length===H));tt=!0);}catch(G){k=!0,T=G}finally{try{!tt&&_.return!=null&&_.return()}finally{if(k)throw T}}return B}function K(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function U(S,H,B,tt){S=S.filter(function(Et,lt){var jt=H(Et,lt),Kt=B(Et,lt);return jt!=null&&isFinite(jt)&&Kt!=null&&isFinite(Kt)}),tt&&S.sort(function(Et,lt){return H(Et)-H(lt)});for(var k=S.length,T=new Float64Array(k),_=new Float64Array(k),w=0,G=0,it,_t,Yt,D=0;D<k;)Yt=S[D],T[D]=it=+H(Yt,D,S),_[D]=_t=+B(Yt,D,S),++D,w+=(it-w)/D,G+=(_t-G)/D;for(var ht=0;ht<k;++ht)T[ht]-=w,_[ht]-=G;return[T,_,w,G]}function X(S,H,B,tt){for(var k=0,T=0,_=S.length;T<_;T++){var w=S[T],G=+H(w,T,S),it=+B(w,T,S);G!=null&&isFinite(G)&&it!=null&&isFinite(it)&&tt(G,it,k++)}}function W(S,H,B,tt,k){var T=0,_=0;return X(S,H,B,function(w,G){var it=G-k(w),_t=G-tt;T+=it*it,_+=_t*_t}),1-T/_}function $(S){return Math.atan2(S[1][1]-S[0][1],S[1][0]-S[0][0])*180/Math.PI}function et(S){return[(S[0][0]+S[1][0])/2,(S[0][1]+S[1][1])/2]}function bt(S,H,B){for(var tt=Math.log(H-S)*Math.LOG10E+1|0,k=1*Math.pow(10,-tt/2-1),T=1e4,_=[G(S),G(H)],w=0;it(_)&&w<T;);return _;function G(_t){return[_t,B(_t)]}function it(_t){w++;for(var Yt=_t.length,D=!1,ht=0;ht<Yt-1;ht++){var Et=_t[ht],lt=_t[ht+1],jt=et([Et,lt]),Kt=G(jt[0]),ot=$([Et,jt]),pt=$([Et,Kt]),P=Math.abs(ot-pt);P>k&&(_t.splice(ht+1,0,Kt),D=!0)}return D}}function At(S,H,B,tt){var k=tt-S*S,T=Math.abs(k)<1e-24?0:(B-S*H)/k,_=H-T*S;return[_,T]}function Ft(){var S=function(T){return T[0]},H=function(T){return T[1]},B;function tt(k){var T=0,_=0,w=0,G=0,it=0,_t=0,Yt=B?+B[0]:1/0,D=B?+B[1]:-1/0;X(k,S,H,function(pt,P){var rt=Math.log(P),Q=pt*P;++T,_+=(P-_)/T,G+=(Q-G)/T,_t+=(pt*Q-_t)/T,w+=(P*rt-w)/T,it+=(Q*rt-it)/T,B||(pt<Yt&&(Yt=pt),pt>D&&(D=pt))});var ht=At(G/_,w/_,it/_,_t/_),Et=nt(ht,2),lt=Et[0],jt=Et[1];lt=Math.exp(lt);var Kt=function(P){return lt*Math.exp(jt*P)},ot=bt(Yt,D,Kt);return ot.a=lt,ot.b=jt,ot.predict=Kt,ot.rSquared=W(k,S,H,_,Kt),ot}return tt.domain=function(k){return arguments.length?(B=k,tt):B},tt.x=function(k){return arguments.length?(S=k,tt):S},tt.y=function(k){return arguments.length?(H=k,tt):H},tt}function Lt(){var S=function(T){return T[0]},H=function(T){return T[1]},B;function tt(k){var T=0,_=0,w=0,G=0,it=0,_t=B?+B[0]:1/0,Yt=B?+B[1]:-1/0;X(k,S,H,function(ot,pt){++T,_+=(ot-_)/T,w+=(pt-w)/T,G+=(ot*pt-G)/T,it+=(ot*ot-it)/T,B||(ot<_t&&(_t=ot),ot>Yt&&(Yt=ot))});var D=At(_,w,G,it),ht=nt(D,2),Et=ht[0],lt=ht[1],jt=function(pt){return lt*pt+Et},Kt=[[_t,jt(_t)],[Yt,jt(Yt)]];return Kt.a=lt,Kt.b=Et,Kt.predict=jt,Kt.rSquared=W(k,S,H,w,jt),Kt}return tt.domain=function(k){return arguments.length?(B=k,tt):B},tt.x=function(k){return arguments.length?(S=k,tt):S},tt.y=function(k){return arguments.length?(H=k,tt):H},tt}function Tt(S){S.sort(function(B,tt){return B-tt});var H=S.length/2;return H%1===0?(S[H-1]+S[H])/2:S[Math.floor(H)]}var ct=2,St=1e-12;function Ut(){var S=function(T){return T[0]},H=function(T){return T[1]},B=.3;function tt(k){for(var T=U(k,S,H,!0),_=nt(T,4),w=_[0],G=_[1],it=_[2],_t=_[3],Yt=w.length,D=Math.max(2,~~(B*Yt)),ht=new Float64Array(Yt),Et=new Float64Array(Yt),lt=new Float64Array(Yt).fill(1),jt=-1;++jt<=ct;){for(var Kt=[0,D-1],ot=0;ot<Yt;++ot){for(var pt=w[ot],P=Kt[0],rt=Kt[1],Q=pt-w[P]>w[rt]-pt?P:rt,xt=0,dt=0,qt=0,Ot=0,Rt=0,ut=1/Math.abs(w[Q]-pt||1),b=P;b<=rt;++b){var O=w[b],I=G[b],j=Dt(Math.abs(pt-O)*ut)*lt[b],L=O*j;xt+=j,dt+=L,qt+=I*j,Ot+=I*L,Rt+=O*L}var R=At(dt/xt,qt/xt,Ot/xt,Rt/xt),q=nt(R,2),N=q[0],yt=q[1];ht[ot]=N+yt*pt,Et[ot]=Math.abs(G[ot]-ht[ot]),It(w,ot+1,Kt)}if(jt===ct)break;var Nt=Tt(Et);if(Math.abs(Nt)<St)break;for(var Vt=0,te,ee;Vt<Yt;++Vt)te=Et[Vt]/(6*Nt),lt[Vt]=te>=1?St:(ee=1-te*te)*ee}return mt(w,ht,it,_t)}return tt.bandwidth=function(k){return arguments.length?(B=k,tt):B},tt.x=function(k){return arguments.length?(S=k,tt):S},tt.y=function(k){return arguments.length?(H=k,tt):H},tt}function Dt(S){return(S=1-S*S*S)*S*S}function It(S,H,B){var tt=S[H],k=B[0],T=B[1]+1;if(!(T>=S.length))for(;H>k&&S[T]-tt<=tt-S[k];)B[0]=++k,B[1]=T,++T}function mt(S,H,B,tt){for(var k=S.length,T=[],_=0,w=0,G=[],it;_<k;++_)it=S[_]+B,G[0]===it?G[1]+=(H[_]-G[1])/++w:(w=0,G[1]+=tt,G=[it,H[_]],T.push(G));return G[1]+=tt,T}function vt(){var S=function(_){return _[0]},H=function(_){return _[1]},B=Math.E,tt;function k(T){var _=0,w=0,G=0,it=0,_t=0,Yt=tt?+tt[0]:1/0,D=tt?+tt[1]:-1/0,ht=Math.log(B);X(T,S,H,function(P,rt){var Q=Math.log(P)/ht;++_,w+=(Q-w)/_,G+=(rt-G)/_,it+=(Q*rt-it)/_,_t+=(Q*Q-_t)/_,tt||(P<Yt&&(Yt=P),P>D&&(D=P))});var Et=At(w,G,it,_t),lt=nt(Et,2),jt=lt[0],Kt=lt[1],ot=function(rt){return Kt*Math.log(rt)/ht+jt},pt=bt(Yt,D,ot);return pt.a=Kt,pt.b=jt,pt.predict=ot,pt.rSquared=W(T,S,H,G,ot),pt}return k.domain=function(T){return arguments.length?(tt=T,k):tt},k.x=function(T){return arguments.length?(S=T,k):S},k.y=function(T){return arguments.length?(H=T,k):H},k.base=function(T){return arguments.length?(B=T,k):B},k}function kt(){var S=function(T){return T[0]},H=function(T){return T[1]},B;function tt(k){var T=U(k,S,H),_=nt(T,4),w=_[0],G=_[1],it=_[2],_t=_[3],Yt=w.length,D=0,ht=0,Et=0,lt=0,jt=0,Kt,ot,pt,P;for(Kt=0;Kt<Yt;)ot=w[Kt],pt=G[Kt++],P=ot*ot,D+=(P-D)/Kt,ht+=(P*ot-ht)/Kt,Et+=(P*P-Et)/Kt,lt+=(ot*pt-lt)/Kt,jt+=(P*pt-jt)/Kt;var rt=0,Q=0,xt=B?+B[0]:1/0,dt=B?+B[1]:-1/0;X(k,S,H,function(j,L){Q++,rt+=(L-rt)/Q,B||(j<xt&&(xt=j),j>dt&&(dt=j))});var qt=Et-D*D,Ot=D*qt-ht*ht,Rt=(jt*D-lt*ht)/Ot,ut=(lt*qt-jt*ht)/Ot,b=-Rt*D,O=function(L){return L=L-it,Rt*L*L+ut*L+b+_t},I=bt(xt,dt,O);return I.a=Rt,I.b=ut-2*Rt*it,I.c=b-ut*it+Rt*it*it+_t,I.predict=O,I.rSquared=W(k,S,H,rt,O),I}return tt.domain=function(k){return arguments.length?(B=k,tt):B},tt.x=function(k){return arguments.length?(S=k,tt):S},tt.y=function(k){return arguments.length?(H=k,tt):H},tt}function Mt(){var S=function(_){return _[0]},H=function(_){return _[1]},B=3,tt;function k(T){if(B===1){var _=Lt().x(S).y(H).domain(tt)(T);return _.coefficients=[_.b,_.a],delete _.a,delete _.b,_}if(B===2){var w=kt().x(S).y(H).domain(tt)(T);return w.coefficients=[w.c,w.b,w.a],delete w.a,delete w.b,delete w.c,w}var G=U(T,S,H),it=nt(G,4),_t=it[0],Yt=it[1],D=it[2],ht=it[3],Et=_t.length,lt=[],jt=[],Kt=B+1,ot=0,pt=0,P=tt?+tt[0]:1/0,rt=tt?+tt[1]:-1/0;X(T,S,H,function(O,I){++pt,ot+=(I-ot)/pt,tt||(O<P&&(P=O),O>rt&&(rt=O))});var Q,xt,dt,qt,Ot;for(Q=0;Q<Kt;++Q){for(dt=0,qt=0;dt<Et;++dt)qt+=Math.pow(_t[dt],Q)*Yt[dt];for(lt.push(qt),Ot=new Float64Array(Kt),xt=0;xt<Kt;++xt){for(dt=0,qt=0;dt<Et;++dt)qt+=Math.pow(_t[dt],Q+xt);Ot[xt]=qt}jt.push(Ot)}jt.push(lt);var Rt=$t(jt),ut=function(I){I-=D;var j=ht+Rt[0]+Rt[1]*I+Rt[2]*I*I;for(Q=3;Q<Kt;++Q)j+=Rt[Q]*Math.pow(I,Q);return j},b=bt(P,rt,ut);return b.coefficients=gt(Kt,Rt,-D,ht),b.predict=ut,b.rSquared=W(T,S,H,ot,ut),b}return k.domain=function(T){return arguments.length?(tt=T,k):tt},k.x=function(T){return arguments.length?(S=T,k):S},k.y=function(T){return arguments.length?(H=T,k):H},k.order=function(T){return arguments.length?(B=T,k):B},k}function gt(S,H,B,tt){var k=Array(S),T,_,w,G;for(T=0;T<S;++T)k[T]=0;for(T=S-1;T>=0;--T)for(w=H[T],G=1,k[T]+=w,_=1;_<=T;++_)G*=(T+1-_)/_,k[T-_]+=w*Math.pow(B,_)*G;return k[0]+=tt,k}function $t(S){var H=S.length-1,B=[],tt,k,T,_,w;for(tt=0;tt<H;++tt){for(_=tt,k=tt+1;k<H;++k)Math.abs(S[tt][k])>Math.abs(S[tt][_])&&(_=k);for(T=tt;T<H+1;++T)w=S[T][tt],S[T][tt]=S[T][_],S[T][_]=w;for(k=tt+1;k<H;++k)for(T=H;T>=tt;T--)S[T][k]-=S[T][tt]*S[tt][k]/S[tt][tt]}for(k=H-1;k>=0;--k){for(w=0,T=k+1;T<H;++T)w+=S[T][k]*B[T];B[k]=(S[H][k]-w)/S[k][k]}return B}function Ht(){var S=function(T){return T[0]},H=function(T){return T[1]},B;function tt(k){var T=0,_=0,w=0,G=0,it=0,_t=0,Yt=B?+B[0]:1/0,D=B?+B[1]:-1/0;X(k,S,H,function(pt,P){var rt=Math.log(pt),Q=Math.log(P);++T,_+=(rt-_)/T,w+=(Q-w)/T,G+=(rt*Q-G)/T,it+=(rt*rt-it)/T,_t+=(P-_t)/T,B||(pt<Yt&&(Yt=pt),pt>D&&(D=pt))});var ht=At(_,w,G,it),Et=nt(ht,2),lt=Et[0],jt=Et[1];lt=Math.exp(lt);var Kt=function(P){return lt*Math.pow(P,jt)},ot=bt(Yt,D,Kt);return ot.a=lt,ot.b=jt,ot.predict=Kt,ot.rSquared=W(k,S,H,_t,Kt),ot}return tt.domain=function(k){return arguments.length?(B=k,tt):B},tt.x=function(k){return arguments.length?(S=k,tt):S},tt.y=function(k){return arguments.length?(H=k,tt):H},tt}F.regressionExp=Ft,F.regressionLinear=Lt,F.regressionLoess=Ut,F.regressionLog=vt,F.regressionPoly=Mt,F.regressionPow=Ht,F.regressionQuad=kt,Object.defineProperty(F,"__esModule",{value:!0})})},74348:function(Ce,z,F){"use strict";F.d(z,{qY:function(){return Lt}});var nt=F(93738),V=function(mt,vt,kt){if(kt||arguments.length===2)for(var Mt=0,gt=vt.length,$t;Mt<gt;Mt++)($t||!(Mt in vt))&&($t||($t=Array.prototype.slice.call(vt,0,Mt)),$t[Mt]=vt[Mt]);return mt.concat($t||Array.prototype.slice.call(vt))},Bt=function(){function mt(vt,kt,Mt){this.name=vt,this.version=kt,this.os=Mt,this.type="browser"}return mt}(),K=function(){function mt(vt){this.version=vt,this.type="node",this.name="node",this.os=nt.platform}return mt}(),U=function(){function mt(vt,kt,Mt,gt){this.name=vt,this.version=kt,this.os=Mt,this.bot=gt,this.type="bot-device"}return mt}(),X=function(){function mt(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return mt}(),W=function(){function mt(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return mt}(),$=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,et=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,bt=3,At=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",$]],Ft=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Lt(mt){return mt?St(mt):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new W:typeof navigator!="undefined"?St(navigator.userAgent):Dt()}function Tt(mt){return mt!==""&&At.reduce(function(vt,kt){var Mt=kt[0],gt=kt[1];if(vt)return vt;var $t=gt.exec(mt);return!!$t&&[Mt,$t]},!1)}function ct(mt){var vt=Tt(mt);return vt?vt[0]:null}function St(mt){var vt=Tt(mt);if(!vt)return null;var kt=vt[0],Mt=vt[1];if(kt==="searchbot")return new X;var gt=Mt[1]&&Mt[1].split(".").join("_").split("_").slice(0,3);gt?gt.length<bt&&(gt=V(V([],gt,!0),It(bt-gt.length),!0)):gt=[];var $t=gt.join("."),Ht=Ut(mt),S=et.exec(mt);return S&&S[1]?new U(kt,$t,Ht,S[1]):new Bt(kt,$t,Ht)}function Ut(mt){for(var vt=0,kt=Ft.length;vt<kt;vt++){var Mt=Ft[vt],gt=Mt[0],$t=Mt[1],Ht=$t.exec(mt);if(Ht)return gt}return null}function Dt(){var mt=typeof nt!="undefined"&&nt.version;return mt?new K(nt.version.slice(1)):null}function It(mt){for(var vt=[],kt=0;kt<mt;kt++)vt.push("0");return vt}},89675:function(Ce){"use strict";Ce.exports=z,Ce.exports.default=z;function z(k,T,_){_=_||2;var w=T&&T.length,G=w?T[0]*_:k.length,it=F(k,0,G,_,!0),_t=[];if(!it||it.next===it.prev)return _t;var Yt,D,ht,Et,lt,jt,Kt;if(w&&(it=W(k,T,it,_)),k.length>80*_){Yt=ht=k[0],D=Et=k[1];for(var ot=_;ot<G;ot+=_)lt=k[ot],jt=k[ot+1],lt<Yt&&(Yt=lt),jt<D&&(D=jt),lt>ht&&(ht=lt),jt>Et&&(Et=jt);Kt=Math.max(ht-Yt,Et-D),Kt=Kt!==0?32767/Kt:0}return V(it,_t,_,Yt,D,Kt,0),_t}function F(k,T,_,w,G){var it,_t;if(G===tt(k,T,_,w)>0)for(it=T;it<_;it+=w)_t=S(it,k[it],k[it+1],_t);else for(it=_-w;it>=T;it-=w)_t=S(it,k[it],k[it+1],_t);return _t&&It(_t,_t.next)&&(H(_t),_t=_t.next),_t}function nt(k,T){if(!k)return k;T||(T=k);var _=k,w;do if(w=!1,!_.steiner&&(It(_,_.next)||Dt(_.prev,_,_.next)===0)){if(H(_),_=T=_.prev,_===_.next)break;w=!0}else _=_.next;while(w||_!==T);return T}function V(k,T,_,w,G,it,_t){if(k){!_t&&it&&Ft(k,w,G,it);for(var Yt=k,D,ht;k.prev!==k.next;){if(D=k.prev,ht=k.next,it?K(k,w,G,it):Bt(k)){T.push(D.i/_|0),T.push(k.i/_|0),T.push(ht.i/_|0),H(k),k=ht.next,Yt=ht.next;continue}if(k=ht,k===Yt){_t?_t===1?(k=U(nt(k),T,_),V(k,T,_,w,G,it,2)):_t===2&&X(k,T,_,w,G,it):V(nt(k),T,_,w,G,it,1);break}}}}function Bt(k){var T=k.prev,_=k,w=k.next;if(Dt(T,_,w)>=0)return!1;for(var G=T.x,it=_.x,_t=w.x,Yt=T.y,D=_.y,ht=w.y,Et=G<it?G<_t?G:_t:it<_t?it:_t,lt=Yt<D?Yt<ht?Yt:ht:D<ht?D:ht,jt=G>it?G>_t?G:_t:it>_t?it:_t,Kt=Yt>D?Yt>ht?Yt:ht:D>ht?D:ht,ot=w.next;ot!==T;){if(ot.x>=Et&&ot.x<=jt&&ot.y>=lt&&ot.y<=Kt&&St(G,Yt,it,D,_t,ht,ot.x,ot.y)&&Dt(ot.prev,ot,ot.next)>=0)return!1;ot=ot.next}return!0}function K(k,T,_,w){var G=k.prev,it=k,_t=k.next;if(Dt(G,it,_t)>=0)return!1;for(var Yt=G.x,D=it.x,ht=_t.x,Et=G.y,lt=it.y,jt=_t.y,Kt=Yt<D?Yt<ht?Yt:ht:D<ht?D:ht,ot=Et<lt?Et<jt?Et:jt:lt<jt?lt:jt,pt=Yt>D?Yt>ht?Yt:ht:D>ht?D:ht,P=Et>lt?Et>jt?Et:jt:lt>jt?lt:jt,rt=Tt(Kt,ot,T,_,w),Q=Tt(pt,P,T,_,w),xt=k.prevZ,dt=k.nextZ;xt&&xt.z>=rt&&dt&&dt.z<=Q;){if(xt.x>=Kt&&xt.x<=pt&&xt.y>=ot&&xt.y<=P&&xt!==G&&xt!==_t&&St(Yt,Et,D,lt,ht,jt,xt.x,xt.y)&&Dt(xt.prev,xt,xt.next)>=0||(xt=xt.prevZ,dt.x>=Kt&&dt.x<=pt&&dt.y>=ot&&dt.y<=P&&dt!==G&&dt!==_t&&St(Yt,Et,D,lt,ht,jt,dt.x,dt.y)&&Dt(dt.prev,dt,dt.next)>=0))return!1;dt=dt.nextZ}for(;xt&&xt.z>=rt;){if(xt.x>=Kt&&xt.x<=pt&&xt.y>=ot&&xt.y<=P&&xt!==G&&xt!==_t&&St(Yt,Et,D,lt,ht,jt,xt.x,xt.y)&&Dt(xt.prev,xt,xt.next)>=0)return!1;xt=xt.prevZ}for(;dt&&dt.z<=Q;){if(dt.x>=Kt&&dt.x<=pt&&dt.y>=ot&&dt.y<=P&&dt!==G&&dt!==_t&&St(Yt,Et,D,lt,ht,jt,dt.x,dt.y)&&Dt(dt.prev,dt,dt.next)>=0)return!1;dt=dt.nextZ}return!0}function U(k,T,_){var w=k;do{var G=w.prev,it=w.next.next;!It(G,it)&&mt(G,w,w.next,it)&&gt(G,it)&&gt(it,G)&&(T.push(G.i/_|0),T.push(w.i/_|0),T.push(it.i/_|0),H(w),H(w.next),w=k=it),w=w.next}while(w!==k);return nt(w)}function X(k,T,_,w,G,it){var _t=k;do{for(var Yt=_t.next.next;Yt!==_t.prev;){if(_t.i!==Yt.i&&Ut(_t,Yt)){var D=Ht(_t,Yt);_t=nt(_t,_t.next),D=nt(D,D.next),V(_t,T,_,w,G,it,0),V(D,T,_,w,G,it,0);return}Yt=Yt.next}_t=_t.next}while(_t!==k)}function W(k,T,_,w){var G=[],it,_t,Yt,D,ht;for(it=0,_t=T.length;it<_t;it++)Yt=T[it]*w,D=it<_t-1?T[it+1]*w:k.length,ht=F(k,Yt,D,w,!1),ht===ht.next&&(ht.steiner=!0),G.push(ct(ht));for(G.sort($),it=0;it<G.length;it++)_=et(G[it],_);return _}function $(k,T){return k.x-T.x}function et(k,T){var _=bt(k,T);if(!_)return T;var w=Ht(_,k);return nt(w,w.next),nt(_,_.next)}function bt(k,T){var _=T,w=k.x,G=k.y,it=-1/0,_t;do{if(G<=_.y&&G>=_.next.y&&_.next.y!==_.y){var Yt=_.x+(G-_.y)*(_.next.x-_.x)/(_.next.y-_.y);if(Yt<=w&&Yt>it&&(it=Yt,_t=_.x<_.next.x?_:_.next,Yt===w))return _t}_=_.next}while(_!==T);if(!_t)return null;var D=_t,ht=_t.x,Et=_t.y,lt=1/0,jt;_=_t;do w>=_.x&&_.x>=ht&&w!==_.x&&St(G<Et?w:it,G,ht,Et,G<Et?it:w,G,_.x,_.y)&&(jt=Math.abs(G-_.y)/(w-_.x),gt(_,k)&&(jt<lt||jt===lt&&(_.x>_t.x||_.x===_t.x&&At(_t,_)))&&(_t=_,lt=jt)),_=_.next;while(_!==D);return _t}function At(k,T){return Dt(k.prev,k,T.prev)<0&&Dt(T.next,k,k.next)<0}function Ft(k,T,_,w){var G=k;do G.z===0&&(G.z=Tt(G.x,G.y,T,_,w)),G.prevZ=G.prev,G.nextZ=G.next,G=G.next;while(G!==k);G.prevZ.nextZ=null,G.prevZ=null,Lt(G)}function Lt(k){var T,_,w,G,it,_t,Yt,D,ht=1;do{for(_=k,k=null,it=null,_t=0;_;){for(_t++,w=_,Yt=0,T=0;T<ht&&(Yt++,w=w.nextZ,!!w);T++);for(D=ht;Yt>0||D>0&&w;)Yt!==0&&(D===0||!w||_.z<=w.z)?(G=_,_=_.nextZ,Yt--):(G=w,w=w.nextZ,D--),it?it.nextZ=G:k=G,G.prevZ=it,it=G;_=w}it.nextZ=null,ht*=2}while(_t>1);return k}function Tt(k,T,_,w,G){return k=(k-_)*G|0,T=(T-w)*G|0,k=(k|k<<8)&16711935,k=(k|k<<4)&252645135,k=(k|k<<2)&858993459,k=(k|k<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,k|T<<1}function ct(k){var T=k,_=k;do(T.x<_.x||T.x===_.x&&T.y<_.y)&&(_=T),T=T.next;while(T!==k);return _}function St(k,T,_,w,G,it,_t,Yt){return(G-_t)*(T-Yt)>=(k-_t)*(it-Yt)&&(k-_t)*(w-Yt)>=(_-_t)*(T-Yt)&&(_-_t)*(it-Yt)>=(G-_t)*(w-Yt)}function Ut(k,T){return k.next.i!==T.i&&k.prev.i!==T.i&&!Mt(k,T)&&(gt(k,T)&&gt(T,k)&&$t(k,T)&&(Dt(k.prev,k,T.prev)||Dt(k,T.prev,T))||It(k,T)&&Dt(k.prev,k,k.next)>0&&Dt(T.prev,T,T.next)>0)}function Dt(k,T,_){return(T.y-k.y)*(_.x-T.x)-(T.x-k.x)*(_.y-T.y)}function It(k,T){return k.x===T.x&&k.y===T.y}function mt(k,T,_,w){var G=kt(Dt(k,T,_)),it=kt(Dt(k,T,w)),_t=kt(Dt(_,w,k)),Yt=kt(Dt(_,w,T));return!!(G!==it&&_t!==Yt||G===0&&vt(k,_,T)||it===0&&vt(k,w,T)||_t===0&&vt(_,k,w)||Yt===0&&vt(_,T,w))}function vt(k,T,_){return T.x<=Math.max(k.x,_.x)&&T.x>=Math.min(k.x,_.x)&&T.y<=Math.max(k.y,_.y)&&T.y>=Math.min(k.y,_.y)}function kt(k){return k>0?1:k<0?-1:0}function Mt(k,T){var _=k;do{if(_.i!==k.i&&_.next.i!==k.i&&_.i!==T.i&&_.next.i!==T.i&&mt(_,_.next,k,T))return!0;_=_.next}while(_!==k);return!1}function gt(k,T){return Dt(k.prev,k,k.next)<0?Dt(k,T,k.next)>=0&&Dt(k,k.prev,T)>=0:Dt(k,T,k.prev)<0||Dt(k,k.next,T)<0}function $t(k,T){var _=k,w=!1,G=(k.x+T.x)/2,it=(k.y+T.y)/2;do _.y>it!=_.next.y>it&&_.next.y!==_.y&&G<(_.next.x-_.x)*(it-_.y)/(_.next.y-_.y)+_.x&&(w=!w),_=_.next;while(_!==k);return w}function Ht(k,T){var _=new B(k.i,k.x,k.y),w=new B(T.i,T.x,T.y),G=k.next,it=T.prev;return k.next=T,T.prev=k,_.next=G,G.prev=_,w.next=_,_.prev=w,it.next=w,w.prev=it,w}function S(k,T,_,w){var G=new B(k,T,_);return w?(G.next=w.next,G.prev=w,w.next.prev=G,w.next=G):(G.prev=G,G.next=G),G}function H(k){k.next.prev=k.prev,k.prev.next=k.next,k.prevZ&&(k.prevZ.nextZ=k.nextZ),k.nextZ&&(k.nextZ.prevZ=k.prevZ)}function B(k,T,_){this.i=k,this.x=T,this.y=_,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}z.deviation=function(k,T,_,w){var G=T&&T.length,it=G?T[0]*_:k.length,_t=Math.abs(tt(k,0,it,_));if(G)for(var Yt=0,D=T.length;Yt<D;Yt++){var ht=T[Yt]*_,Et=Yt<D-1?T[Yt+1]*_:k.length;_t-=Math.abs(tt(k,ht,Et,_))}var lt=0;for(Yt=0;Yt<w.length;Yt+=3){var jt=w[Yt]*_,Kt=w[Yt+1]*_,ot=w[Yt+2]*_;lt+=Math.abs((k[jt]-k[ot])*(k[Kt+1]-k[jt+1])-(k[jt]-k[Kt])*(k[ot+1]-k[jt+1]))}return _t===0&&lt===0?0:Math.abs((lt-_t)/_t)};function tt(k,T,_,w){for(var G=0,it=T,_t=_-w;it<_;it+=w)G+=(k[_t]-k[it])*(k[it+1]+k[_t+1]),_t=it;return G}z.flatten=function(k){for(var T=k[0][0].length,_={vertices:[],holes:[],dimensions:T},w=0,G=0;G<k.length;G++){for(var it=0;it<k[G].length;it++)for(var _t=0;_t<T;_t++)_.vertices.push(k[G][it][_t]);G>0&&(w+=k[G-1].length,_.holes.push(w))}return _}},73827:function(Ce){function z(nt){var V=nt.target||nt.srcElement;V.__resizeRAF__&&cancelAnimationFrame(V.__resizeRAF__),V.__resizeRAF__=requestAnimationFrame(function(){var Bt=V.__resizeTrigger__,K=Bt&&Bt.__resizeListeners__;K&&K.forEach(function(U){U.call(Bt,nt)})})}var F=function(V,Bt){var K=this,U=K.document,X,W=U.attachEvent;typeof navigator!="undefined"&&(X=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/Edge/));function $(){this.contentDocument.defaultView.__resizeTrigger__=this.__resizeElement__,this.contentDocument.defaultView.addEventListener("resize",z)}if(!V.__resizeListeners__)if(V.__resizeListeners__=[],W)V.__resizeTrigger__=V,V.attachEvent("onresize",z);else{getComputedStyle(V).position==="static"&&(V.style.position="relative");var et=V.__resizeTrigger__=U.createElement("object");et.setAttribute("style","position: absolute; top: 0; left: 0; height: 100%; width: 100%; pointer-events: none; z-index: -1; opacity: 0;"),et.setAttribute("class","resize-sensor"),et.setAttribute("tabindex","-1"),et.setAttribute("title",""),et.__resizeElement__=V,et.onload=$,et.type="text/html",X&&V.appendChild(et),et.data="about:blank",X||V.appendChild(et)}V.__resizeListeners__.push(Bt)};Ce.exports=typeof window=="undefined"?F:F.bind(window),Ce.exports.unbind=function(nt,V){var Bt=document.attachEvent,K=nt.__resizeListeners__||[];if(V){var U=K.indexOf(V);U!==-1&&K.splice(U,1)}else K=nt.__resizeListeners__=[];if(!K.length){if(Bt)nt.detachEvent("onresize",z);else if(nt.__resizeTrigger__){var X=nt.__resizeTrigger__.contentDocument,W=X&&X.defaultView;W&&(W.removeEventListener("resize",z),delete W.__resizeTrigger__),nt.__resizeTrigger__=!nt.removeChild(nt.__resizeTrigger__)}delete nt.__resizeListeners__}}},11488:function(Ce){"use strict";var z=Object.prototype.hasOwnProperty,F="~";function nt(){}Object.create&&(nt.prototype=Object.create(null),new nt().__proto__||(F=!1));function V(X,W,$){this.fn=X,this.context=W,this.once=$||!1}function Bt(X,W,$,et,bt){if(typeof $!="function")throw new TypeError("The listener must be a function");var At=new V($,et||X,bt),Ft=F?F+W:W;return X._events[Ft]?X._events[Ft].fn?X._events[Ft]=[X._events[Ft],At]:X._events[Ft].push(At):(X._events[Ft]=At,X._eventsCount++),X}function K(X,W){--X._eventsCount===0?X._events=new nt:delete X._events[W]}function U(){this._events=new nt,this._eventsCount=0}U.prototype.eventNames=function(){var W=[],$,et;if(this._eventsCount===0)return W;for(et in $=this._events)z.call($,et)&&W.push(F?et.slice(1):et);return Object.getOwnPropertySymbols?W.concat(Object.getOwnPropertySymbols($)):W},U.prototype.listeners=function(W){var $=F?F+W:W,et=this._events[$];if(!et)return[];if(et.fn)return[et.fn];for(var bt=0,At=et.length,Ft=new Array(At);bt<At;bt++)Ft[bt]=et[bt].fn;return Ft},U.prototype.listenerCount=function(W){var $=F?F+W:W,et=this._events[$];return et?et.fn?1:et.length:0},U.prototype.emit=function(W,$,et,bt,At,Ft){var Lt=F?F+W:W;if(!this._events[Lt])return!1;var Tt=this._events[Lt],ct=arguments.length,St,Ut;if(Tt.fn){switch(Tt.once&&this.removeListener(W,Tt.fn,void 0,!0),ct){case 1:return Tt.fn.call(Tt.context),!0;case 2:return Tt.fn.call(Tt.context,$),!0;case 3:return Tt.fn.call(Tt.context,$,et),!0;case 4:return Tt.fn.call(Tt.context,$,et,bt),!0;case 5:return Tt.fn.call(Tt.context,$,et,bt,At),!0;case 6:return Tt.fn.call(Tt.context,$,et,bt,At,Ft),!0}for(Ut=1,St=new Array(ct-1);Ut<ct;Ut++)St[Ut-1]=arguments[Ut];Tt.fn.apply(Tt.context,St)}else{var Dt=Tt.length,It;for(Ut=0;Ut<Dt;Ut++)switch(Tt[Ut].once&&this.removeListener(W,Tt[Ut].fn,void 0,!0),ct){case 1:Tt[Ut].fn.call(Tt[Ut].context);break;case 2:Tt[Ut].fn.call(Tt[Ut].context,$);break;case 3:Tt[Ut].fn.call(Tt[Ut].context,$,et);break;case 4:Tt[Ut].fn.call(Tt[Ut].context,$,et,bt);break;default:if(!St)for(It=1,St=new Array(ct-1);It<ct;It++)St[It-1]=arguments[It];Tt[Ut].fn.apply(Tt[Ut].context,St)}}return!0},U.prototype.on=function(W,$,et){return Bt(this,W,$,et,!1)},U.prototype.once=function(W,$,et){return Bt(this,W,$,et,!0)},U.prototype.removeListener=function(W,$,et,bt){var At=F?F+W:W;if(!this._events[At])return this;if(!$)return K(this,At),this;var Ft=this._events[At];if(Ft.fn)Ft.fn===$&&(!bt||Ft.once)&&(!et||Ft.context===et)&&K(this,At);else{for(var Lt=0,Tt=[],ct=Ft.length;Lt<ct;Lt++)(Ft[Lt].fn!==$||bt&&!Ft[Lt].once||et&&Ft[Lt].context!==et)&&Tt.push(Ft[Lt]);Tt.length?this._events[At]=Tt.length===1?Tt[0]:Tt:K(this,At)}return this},U.prototype.removeAllListeners=function(W){var $;return W?($=F?F+W:W,this._events[$]&&K(this,$)):(this._events=new nt,this._eventsCount=0),this},U.prototype.off=U.prototype.removeListener,U.prototype.addListener=U.prototype.on,U.prefixed=F,U.EventEmitter=U,Ce.exports=U},12886:function(Ce,z){(function(F,nt){nt(z)})(this,function(F){"use strict";function nt(Lt,Tt,ct,St){St=St||{};var Ut=St.maxIterations||100,Dt=St.tolerance||1e-10,It=Lt(Tt),mt=Lt(ct),vt=ct-Tt;if(It*mt>0)throw"Initial bisect points must have opposite signs";if(It===0)return Tt;if(mt===0)return ct;for(var kt=0;kt<Ut;++kt){vt/=2;var Mt=Tt+vt,gt=Lt(Mt);if(gt*It>=0&&(Tt=Mt),Math.abs(vt)<Dt||gt===0)return Mt}return Tt+vt}function V(Lt){for(var Tt=new Array(Lt),ct=0;ct<Lt;++ct)Tt[ct]=0;return Tt}function Bt(Lt,Tt){return V(Lt).map(function(){return V(Tt)})}function K(Lt,Tt){for(var ct=0,St=0;St<Lt.length;++St)ct+=Lt[St]*Tt[St];return ct}function U(Lt){return Math.sqrt(K(Lt,Lt))}function X(Lt,Tt,ct){for(var St=0;St<Tt.length;++St)Lt[St]=Tt[St]*ct}function W(Lt,Tt,ct,St,Ut){for(var Dt=0;Dt<Lt.length;++Dt)Lt[Dt]=Tt*ct[Dt]+St*Ut[Dt]}function $(Lt,Tt,ct){ct=ct||{};var St=ct.maxIterations||Tt.length*200,Ut=ct.nonZeroDelta||1.05,Dt=ct.zeroDelta||.001,It=ct.minErrorDelta||1e-6,mt=ct.minErrorDelta||1e-5,vt=ct.rho!==void 0?ct.rho:1,kt=ct.chi!==void 0?ct.chi:2,Mt=ct.psi!==void 0?ct.psi:-.5,gt=ct.sigma!==void 0?ct.sigma:.5,$t,Ht=Tt.length,S=new Array(Ht+1);S[0]=Tt,S[0].fx=Lt(Tt),S[0].id=0;for(var H=0;H<Ht;++H){var B=Tt.slice();B[H]=B[H]?B[H]*Ut:Dt,S[H+1]=B,S[H+1].fx=Lt(B),S[H+1].id=H+1}function tt(Et){for(var lt=0;lt<Et.length;lt++)S[Ht][lt]=Et[lt];S[Ht].fx=Et.fx}for(var k=function(Et,lt){return Et.fx-lt.fx},T=Tt.slice(),_=Tt.slice(),w=Tt.slice(),G=Tt.slice(),it=0;it<St;++it){if(S.sort(k),ct.history){var _t=S.map(function(Et){var lt=Et.slice();return lt.fx=Et.fx,lt.id=Et.id,lt});_t.sort(function(Et,lt){return Et.id-lt.id}),ct.history.push({x:S[0].slice(),fx:S[0].fx,simplex:_t})}for($t=0,H=0;H<Ht;++H)$t=Math.max($t,Math.abs(S[0][H]-S[1][H]));if(Math.abs(S[0].fx-S[Ht].fx)<It&&$t<mt)break;for(H=0;H<Ht;++H){T[H]=0;for(var Yt=0;Yt<Ht;++Yt)T[H]+=S[Yt][H];T[H]/=Ht}var D=S[Ht];if(W(_,1+vt,T,-vt,D),_.fx=Lt(_),_.fx<S[0].fx)W(G,1+kt,T,-kt,D),G.fx=Lt(G),G.fx<_.fx?tt(G):tt(_);else if(_.fx>=S[Ht-1].fx){var ht=!1;if(_.fx>D.fx?(W(w,1+Mt,T,-Mt,D),w.fx=Lt(w),w.fx<D.fx?tt(w):ht=!0):(W(w,1-Mt*vt,T,Mt*vt,D),w.fx=Lt(w),w.fx<_.fx?tt(w):ht=!0),ht){if(gt>=1)break;for(H=1;H<S.length;++H)W(S[H],1-gt,S[0],gt,S[H]),S[H].fx=Lt(S[H])}}else tt(_)}return S.sort(k),{fx:S[0].fx,x:S[0]}}function et(Lt,Tt,ct,St,Ut,Dt,It){var mt=ct.fx,vt=K(ct.fxprime,Tt),kt=mt,Mt=mt,gt=vt,$t=0;Ut=Ut||1,Dt=Dt||1e-6,It=It||.1;function Ht(H,B,tt){for(var k=0;k<16;++k)if(Ut=(H+B)/2,W(St.x,1,ct.x,Ut,Tt),kt=St.fx=Lt(St.x,St.fxprime),gt=K(St.fxprime,Tt),kt>mt+Dt*Ut*vt||kt>=tt)B=Ut;else{if(Math.abs(gt)<=-It*vt)return Ut;gt*(B-H)>=0&&(B=H),H=Ut,tt=kt}return 0}for(var S=0;S<10;++S){if(W(St.x,1,ct.x,Ut,Tt),kt=St.fx=Lt(St.x,St.fxprime),gt=K(St.fxprime,Tt),kt>mt+Dt*Ut*vt||S&&kt>=Mt)return Ht($t,Ut,Mt);if(Math.abs(gt)<=-It*vt)return Ut;if(gt>=0)return Ht(Ut,$t,kt);Mt=kt,$t=Ut,Ut*=2}return Ut}function bt(Lt,Tt,ct){var St={x:Tt.slice(),fx:0,fxprime:Tt.slice()},Ut={x:Tt.slice(),fx:0,fxprime:Tt.slice()},Dt=Tt.slice(),It,mt,vt=1,kt;ct=ct||{},kt=ct.maxIterations||Tt.length*20,St.fx=Lt(St.x,St.fxprime),It=St.fxprime.slice(),X(It,St.fxprime,-1);for(var Mt=0;Mt<kt;++Mt){if(vt=et(Lt,It,St,Ut,vt),ct.history&&ct.history.push({x:St.x.slice(),fx:St.fx,fxprime:St.fxprime.slice(),alpha:vt}),!vt)X(It,St.fxprime,-1);else{W(Dt,1,Ut.fxprime,-1,St.fxprime);var gt=K(St.fxprime,St.fxprime),$t=Math.max(0,K(Dt,Ut.fxprime)/gt);W(It,$t,It,-1,Ut.fxprime),mt=St,St=Ut,Ut=mt}if(U(St.fxprime)<=1e-5)break}return ct.history&&ct.history.push({x:St.x.slice(),fx:St.fx,fxprime:St.fxprime.slice(),alpha:vt}),St}function At(Lt,Tt,ct){ct=ct||{};for(var St=ct.maxIterations||Tt.length*100,Ut=ct.learnRate||.001,Dt={x:Tt.slice(),fx:0,fxprime:Tt.slice()},It=0;It<St&&(Dt.fx=Lt(Dt.x,Dt.fxprime),ct.history&&ct.history.push({x:Dt.x.slice(),fx:Dt.fx,fxprime:Dt.fxprime.slice()}),W(Dt.x,1,Dt.x,-Ut,Dt.fxprime),!(U(Dt.fxprime)<=1e-5));++It);return Dt}function Ft(Lt,Tt,ct){ct=ct||{};var St={x:Tt.slice(),fx:0,fxprime:Tt.slice()},Ut={x:Tt.slice(),fx:0,fxprime:Tt.slice()},Dt=ct.maxIterations||Tt.length*100,It=ct.learnRate||1,mt=Tt.slice(),vt=ct.c1||.001,kt=ct.c2||.1,Mt,gt=[];if(ct.history){var $t=Lt;Lt=function(S,H){return gt.push(S.slice()),$t(S,H)}}St.fx=Lt(St.x,St.fxprime);for(var Ht=0;Ht<Dt&&(X(mt,St.fxprime,-1),It=et(Lt,mt,St,Ut,It,vt,kt),ct.history&&(ct.history.push({x:St.x.slice(),fx:St.fx,fxprime:St.fxprime.slice(),functionCalls:gt,learnRate:It,alpha:It}),gt=[]),Mt=St,St=Ut,Ut=Mt,!(It===0||U(St.fxprime)<1e-5));++Ht);return St}F.bisect=nt,F.nelderMead=$,F.conjugateGradient=bt,F.gradientDescent=At,F.gradientDescentLineSearch=Ft,F.zeros=V,F.zerosM=Bt,F.norm2=U,F.weightedSum=W,F.scale=X})},96140:function(Ce,z,F){"use strict";F.d(z,{FD:function(){return Bt},Ib:function(){return nt},WT:function(){return V}});var nt=1e-6,V=typeof Float32Array!="undefined"?Float32Array:Array,Bt=Math.random;function K($){V=$}var U=Math.PI/180;function X($){return $*U}function W($,et){return Math.abs($-et)<=nt*Math.max(1,Math.abs($),Math.abs(et))}Math.hypot||(Math.hypot=function(){for(var $=0,et=arguments.length;et--;)$+=arguments[et]*arguments[et];return Math.sqrt($)})},99250:function(Ce,z,F){"use strict";F.d(z,{Jp:function(){return Ft},U_:function(){return et},Us:function(){return Ut},vc:function(){return St},xJ:function(){return Dt}});function nt(){var _=new glMatrix.ARRAY_TYPE(9);return glMatrix.ARRAY_TYPE!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function V(_,w){return _[0]=w[0],_[1]=w[1],_[2]=w[2],_[3]=w[4],_[4]=w[5],_[5]=w[6],_[6]=w[8],_[7]=w[9],_[8]=w[10],_}function Bt(_){var w=new glMatrix.ARRAY_TYPE(9);return w[0]=_[0],w[1]=_[1],w[2]=_[2],w[3]=_[3],w[4]=_[4],w[5]=_[5],w[6]=_[6],w[7]=_[7],w[8]=_[8],w}function K(_,w){return _[0]=w[0],_[1]=w[1],_[2]=w[2],_[3]=w[3],_[4]=w[4],_[5]=w[5],_[6]=w[6],_[7]=w[7],_[8]=w[8],_}function U(_,w,G,it,_t,Yt,D,ht,Et){var lt=new glMatrix.ARRAY_TYPE(9);return lt[0]=_,lt[1]=w,lt[2]=G,lt[3]=it,lt[4]=_t,lt[5]=Yt,lt[6]=D,lt[7]=ht,lt[8]=Et,lt}function X(_,w,G,it,_t,Yt,D,ht,Et,lt){return _[0]=w,_[1]=G,_[2]=it,_[3]=_t,_[4]=Yt,_[5]=D,_[6]=ht,_[7]=Et,_[8]=lt,_}function W(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function $(_,w){if(_===w){var G=w[1],it=w[2],_t=w[5];_[1]=w[3],_[2]=w[6],_[3]=G,_[5]=w[7],_[6]=it,_[7]=_t}else _[0]=w[0],_[1]=w[3],_[2]=w[6],_[3]=w[1],_[4]=w[4],_[5]=w[7],_[6]=w[2],_[7]=w[5],_[8]=w[8];return _}function et(_,w){var G=w[0],it=w[1],_t=w[2],Yt=w[3],D=w[4],ht=w[5],Et=w[6],lt=w[7],jt=w[8],Kt=jt*D-ht*lt,ot=-jt*Yt+ht*Et,pt=lt*Yt-D*Et,P=G*Kt+it*ot+_t*pt;return P?(P=1/P,_[0]=Kt*P,_[1]=(-jt*it+_t*lt)*P,_[2]=(ht*it-_t*D)*P,_[3]=ot*P,_[4]=(jt*G-_t*Et)*P,_[5]=(-ht*G+_t*Yt)*P,_[6]=pt*P,_[7]=(-lt*G+it*Et)*P,_[8]=(D*G-it*Yt)*P,_):null}function bt(_,w){var G=w[0],it=w[1],_t=w[2],Yt=w[3],D=w[4],ht=w[5],Et=w[6],lt=w[7],jt=w[8];return _[0]=D*jt-ht*lt,_[1]=_t*lt-it*jt,_[2]=it*ht-_t*D,_[3]=ht*Et-Yt*jt,_[4]=G*jt-_t*Et,_[5]=_t*Yt-G*ht,_[6]=Yt*lt-D*Et,_[7]=it*Et-G*lt,_[8]=G*D-it*Yt,_}function At(_){var w=_[0],G=_[1],it=_[2],_t=_[3],Yt=_[4],D=_[5],ht=_[6],Et=_[7],lt=_[8];return w*(lt*Yt-D*Et)+G*(-lt*_t+D*ht)+it*(Et*_t-Yt*ht)}function Ft(_,w,G){var it=w[0],_t=w[1],Yt=w[2],D=w[3],ht=w[4],Et=w[5],lt=w[6],jt=w[7],Kt=w[8],ot=G[0],pt=G[1],P=G[2],rt=G[3],Q=G[4],xt=G[5],dt=G[6],qt=G[7],Ot=G[8];return _[0]=ot*it+pt*D+P*lt,_[1]=ot*_t+pt*ht+P*jt,_[2]=ot*Yt+pt*Et+P*Kt,_[3]=rt*it+Q*D+xt*lt,_[4]=rt*_t+Q*ht+xt*jt,_[5]=rt*Yt+Q*Et+xt*Kt,_[6]=dt*it+qt*D+Ot*lt,_[7]=dt*_t+qt*ht+Ot*jt,_[8]=dt*Yt+qt*Et+Ot*Kt,_}function Lt(_,w,G){var it=w[0],_t=w[1],Yt=w[2],D=w[3],ht=w[4],Et=w[5],lt=w[6],jt=w[7],Kt=w[8],ot=G[0],pt=G[1];return _[0]=it,_[1]=_t,_[2]=Yt,_[3]=D,_[4]=ht,_[5]=Et,_[6]=ot*it+pt*D+lt,_[7]=ot*_t+pt*ht+jt,_[8]=ot*Yt+pt*Et+Kt,_}function Tt(_,w,G){var it=w[0],_t=w[1],Yt=w[2],D=w[3],ht=w[4],Et=w[5],lt=w[6],jt=w[7],Kt=w[8],ot=Math.sin(G),pt=Math.cos(G);return _[0]=pt*it+ot*D,_[1]=pt*_t+ot*ht,_[2]=pt*Yt+ot*Et,_[3]=pt*D-ot*it,_[4]=pt*ht-ot*_t,_[5]=pt*Et-ot*Yt,_[6]=lt,_[7]=jt,_[8]=Kt,_}function ct(_,w,G){var it=G[0],_t=G[1];return _[0]=it*w[0],_[1]=it*w[1],_[2]=it*w[2],_[3]=_t*w[3],_[4]=_t*w[4],_[5]=_t*w[5],_[6]=w[6],_[7]=w[7],_[8]=w[8],_}function St(_,w){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=1,_[5]=0,_[6]=w[0],_[7]=w[1],_[8]=1,_}function Ut(_,w){var G=Math.sin(w),it=Math.cos(w);return _[0]=it,_[1]=G,_[2]=0,_[3]=-G,_[4]=it,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function Dt(_,w){return _[0]=w[0],_[1]=0,_[2]=0,_[3]=0,_[4]=w[1],_[5]=0,_[6]=0,_[7]=0,_[8]=1,_}function It(_,w){return _[0]=w[0],_[1]=w[1],_[2]=0,_[3]=w[2],_[4]=w[3],_[5]=0,_[6]=w[4],_[7]=w[5],_[8]=1,_}function mt(_,w){var G=w[0],it=w[1],_t=w[2],Yt=w[3],D=G+G,ht=it+it,Et=_t+_t,lt=G*D,jt=it*D,Kt=it*ht,ot=_t*D,pt=_t*ht,P=_t*Et,rt=Yt*D,Q=Yt*ht,xt=Yt*Et;return _[0]=1-Kt-P,_[3]=jt-xt,_[6]=ot+Q,_[1]=jt+xt,_[4]=1-lt-P,_[7]=pt-rt,_[2]=ot-Q,_[5]=pt+rt,_[8]=1-lt-Kt,_}function vt(_,w){var G=w[0],it=w[1],_t=w[2],Yt=w[3],D=w[4],ht=w[5],Et=w[6],lt=w[7],jt=w[8],Kt=w[9],ot=w[10],pt=w[11],P=w[12],rt=w[13],Q=w[14],xt=w[15],dt=G*ht-it*D,qt=G*Et-_t*D,Ot=G*lt-Yt*D,Rt=it*Et-_t*ht,ut=it*lt-Yt*ht,b=_t*lt-Yt*Et,O=jt*rt-Kt*P,I=jt*Q-ot*P,j=jt*xt-pt*P,L=Kt*Q-ot*rt,R=Kt*xt-pt*rt,q=ot*xt-pt*Q,N=dt*q-qt*R+Ot*L+Rt*j-ut*I+b*O;return N?(N=1/N,_[0]=(ht*q-Et*R+lt*L)*N,_[1]=(Et*j-D*q-lt*I)*N,_[2]=(D*R-ht*j+lt*O)*N,_[3]=(_t*R-it*q-Yt*L)*N,_[4]=(G*q-_t*j+Yt*I)*N,_[5]=(it*j-G*R-Yt*O)*N,_[6]=(rt*b-Q*ut+xt*Rt)*N,_[7]=(Q*Ot-P*b-xt*qt)*N,_[8]=(P*ut-rt*Ot+xt*dt)*N,_):null}function kt(_,w,G){return _[0]=2/w,_[1]=0,_[2]=0,_[3]=0,_[4]=-2/G,_[5]=0,_[6]=-1,_[7]=1,_[8]=1,_}function Mt(_){return"mat3("+_[0]+", "+_[1]+", "+_[2]+", "+_[3]+", "+_[4]+", "+_[5]+", "+_[6]+", "+_[7]+", "+_[8]+")"}function gt(_){return Math.hypot(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8])}function $t(_,w,G){return _[0]=w[0]+G[0],_[1]=w[1]+G[1],_[2]=w[2]+G[2],_[3]=w[3]+G[3],_[4]=w[4]+G[4],_[5]=w[5]+G[5],_[6]=w[6]+G[6],_[7]=w[7]+G[7],_[8]=w[8]+G[8],_}function Ht(_,w,G){return _[0]=w[0]-G[0],_[1]=w[1]-G[1],_[2]=w[2]-G[2],_[3]=w[3]-G[3],_[4]=w[4]-G[4],_[5]=w[5]-G[5],_[6]=w[6]-G[6],_[7]=w[7]-G[7],_[8]=w[8]-G[8],_}function S(_,w,G){return _[0]=w[0]*G,_[1]=w[1]*G,_[2]=w[2]*G,_[3]=w[3]*G,_[4]=w[4]*G,_[5]=w[5]*G,_[6]=w[6]*G,_[7]=w[7]*G,_[8]=w[8]*G,_}function H(_,w,G,it){return _[0]=w[0]+G[0]*it,_[1]=w[1]+G[1]*it,_[2]=w[2]+G[2]*it,_[3]=w[3]+G[3]*it,_[4]=w[4]+G[4]*it,_[5]=w[5]+G[5]*it,_[6]=w[6]+G[6]*it,_[7]=w[7]+G[7]*it,_[8]=w[8]+G[8]*it,_}function B(_,w){return _[0]===w[0]&&_[1]===w[1]&&_[2]===w[2]&&_[3]===w[3]&&_[4]===w[4]&&_[5]===w[5]&&_[6]===w[6]&&_[7]===w[7]&&_[8]===w[8]}function tt(_,w){var G=_[0],it=_[1],_t=_[2],Yt=_[3],D=_[4],ht=_[5],Et=_[6],lt=_[7],jt=_[8],Kt=w[0],ot=w[1],pt=w[2],P=w[3],rt=w[4],Q=w[5],xt=w[6],dt=w[7],qt=w[8];return Math.abs(G-Kt)<=glMatrix.EPSILON*Math.max(1,Math.abs(G),Math.abs(Kt))&&Math.abs(it-ot)<=glMatrix.EPSILON*Math.max(1,Math.abs(it),Math.abs(ot))&&Math.abs(_t-pt)<=glMatrix.EPSILON*Math.max(1,Math.abs(_t),Math.abs(pt))&&Math.abs(Yt-P)<=glMatrix.EPSILON*Math.max(1,Math.abs(Yt),Math.abs(P))&&Math.abs(D-rt)<=glMatrix.EPSILON*Math.max(1,Math.abs(D),Math.abs(rt))&&Math.abs(ht-Q)<=glMatrix.EPSILON*Math.max(1,Math.abs(ht),Math.abs(Q))&&Math.abs(Et-xt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Et),Math.abs(xt))&&Math.abs(lt-dt)<=glMatrix.EPSILON*Math.max(1,Math.abs(lt),Math.abs(dt))&&Math.abs(jt-qt)<=glMatrix.EPSILON*Math.max(1,Math.abs(jt),Math.abs(qt))}var k=null,T=null},1153:function(Ce,z,F){"use strict";F.d(z,{$X:function(){return $},AK:function(){return $t},EU:function(){return w},Fp:function(){return Tt},Fv:function(){return gt},I6:function(){return _t},IH:function(){return W},JG:function(){return U},TE:function(){return Dt},Ue:function(){return V},VV:function(){return Lt},al:function(){return K},bA:function(){return St},kE:function(){return mt},kK:function(){return k},lu:function(){return ht},t7:function(){return S},t8:function(){return X},tk:function(){return kt}});var nt=F(96140);function V(){var P=new nt.WT(2);return nt.WT!=Float32Array&&(P[0]=0,P[1]=0),P}function Bt(P){var rt=new glMatrix.ARRAY_TYPE(2);return rt[0]=P[0],rt[1]=P[1],rt}function K(P,rt){var Q=new nt.WT(2);return Q[0]=P,Q[1]=rt,Q}function U(P,rt){return P[0]=rt[0],P[1]=rt[1],P}function X(P,rt,Q){return P[0]=rt,P[1]=Q,P}function W(P,rt,Q){return P[0]=rt[0]+Q[0],P[1]=rt[1]+Q[1],P}function $(P,rt,Q){return P[0]=rt[0]-Q[0],P[1]=rt[1]-Q[1],P}function et(P,rt,Q){return P[0]=rt[0]*Q[0],P[1]=rt[1]*Q[1],P}function bt(P,rt,Q){return P[0]=rt[0]/Q[0],P[1]=rt[1]/Q[1],P}function At(P,rt){return P[0]=Math.ceil(rt[0]),P[1]=Math.ceil(rt[1]),P}function Ft(P,rt){return P[0]=Math.floor(rt[0]),P[1]=Math.floor(rt[1]),P}function Lt(P,rt,Q){return P[0]=Math.min(rt[0],Q[0]),P[1]=Math.min(rt[1],Q[1]),P}function Tt(P,rt,Q){return P[0]=Math.max(rt[0],Q[0]),P[1]=Math.max(rt[1],Q[1]),P}function ct(P,rt){return P[0]=Math.round(rt[0]),P[1]=Math.round(rt[1]),P}function St(P,rt,Q){return P[0]=rt[0]*Q,P[1]=rt[1]*Q,P}function Ut(P,rt,Q,xt){return P[0]=rt[0]+Q[0]*xt,P[1]=rt[1]+Q[1]*xt,P}function Dt(P,rt){var Q=rt[0]-P[0],xt=rt[1]-P[1];return Math.hypot(Q,xt)}function It(P,rt){var Q=rt[0]-P[0],xt=rt[1]-P[1];return Q*Q+xt*xt}function mt(P){var rt=P[0],Q=P[1];return Math.hypot(rt,Q)}function vt(P){var rt=P[0],Q=P[1];return rt*rt+Q*Q}function kt(P,rt){return P[0]=-rt[0],P[1]=-rt[1],P}function Mt(P,rt){return P[0]=1/rt[0],P[1]=1/rt[1],P}function gt(P,rt){var Q=rt[0],xt=rt[1],dt=Q*Q+xt*xt;return dt>0&&(dt=1/Math.sqrt(dt)),P[0]=rt[0]*dt,P[1]=rt[1]*dt,P}function $t(P,rt){return P[0]*rt[0]+P[1]*rt[1]}function Ht(P,rt,Q){var xt=rt[0]*Q[1]-rt[1]*Q[0];return P[0]=P[1]=0,P[2]=xt,P}function S(P,rt,Q,xt){var dt=rt[0],qt=rt[1];return P[0]=dt+xt*(Q[0]-dt),P[1]=qt+xt*(Q[1]-qt),P}function H(P,rt){rt=rt||1;var Q=glMatrix.RANDOM()*2*Math.PI;return P[0]=Math.cos(Q)*rt,P[1]=Math.sin(Q)*rt,P}function B(P,rt,Q){var xt=rt[0],dt=rt[1];return P[0]=Q[0]*xt+Q[2]*dt,P[1]=Q[1]*xt+Q[3]*dt,P}function tt(P,rt,Q){var xt=rt[0],dt=rt[1];return P[0]=Q[0]*xt+Q[2]*dt+Q[4],P[1]=Q[1]*xt+Q[3]*dt+Q[5],P}function k(P,rt,Q){var xt=rt[0],dt=rt[1];return P[0]=Q[0]*xt+Q[3]*dt+Q[6],P[1]=Q[1]*xt+Q[4]*dt+Q[7],P}function T(P,rt,Q){var xt=rt[0],dt=rt[1];return P[0]=Q[0]*xt+Q[4]*dt+Q[12],P[1]=Q[1]*xt+Q[5]*dt+Q[13],P}function _(P,rt,Q,xt){var dt=rt[0]-Q[0],qt=rt[1]-Q[1],Ot=Math.sin(xt),Rt=Math.cos(xt);return P[0]=dt*Rt-qt*Ot+Q[0],P[1]=dt*Ot+qt*Rt+Q[1],P}function w(P,rt){var Q=P[0],xt=P[1],dt=rt[0],qt=rt[1],Ot=Math.sqrt(Q*Q+xt*xt)*Math.sqrt(dt*dt+qt*qt),Rt=Ot&&(Q*dt+xt*qt)/Ot;return Math.acos(Math.min(Math.max(Rt,-1),1))}function G(P){return P[0]=0,P[1]=0,P}function it(P){return"vec2("+P[0]+", "+P[1]+")"}function _t(P,rt){return P[0]===rt[0]&&P[1]===rt[1]}function Yt(P,rt){var Q=P[0],xt=P[1],dt=rt[0],qt=rt[1];return Math.abs(Q-dt)<=glMatrix.EPSILON*Math.max(1,Math.abs(Q),Math.abs(dt))&&Math.abs(xt-qt)<=glMatrix.EPSILON*Math.max(1,Math.abs(xt),Math.abs(qt))}var D=null,ht=$,Et=null,lt=null,jt=null,Kt=null,ot=null,pt=function(){var P=V();return function(rt,Q,xt,dt,qt,Ot){var Rt,ut;for(Q||(Q=2),xt||(xt=0),dt?ut=Math.min(dt*Q+xt,rt.length):ut=rt.length,Rt=xt;Rt<ut;Rt+=Q)P[0]=rt[Rt],P[1]=rt[Rt+1],qt(P,P,Ot),rt[Rt]=P[0],rt[Rt+1]=P[1];return rt}}()},34686:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0});var F=Symbol.for("INJECTION");function nt(X,W,$,et){function bt(){return et&&!Reflect.hasMetadata(F,this,W)&&Reflect.defineMetadata(F,$(),this,W),Reflect.hasMetadata(F,this,W)?Reflect.getMetadata(F,this,W):$()}function At(Ft){Reflect.defineMetadata(F,Ft,this,W)}Object.defineProperty(X,W,{configurable:!0,enumerable:!0,get:bt,set:At})}function V(X,W){return function($){return function(et,bt){var At=function(){return X.get($)};nt(et,bt,At,W)}}}z.makePropertyInjectDecorator=V;function Bt(X,W){return function($,et){return function(bt,At){var Ft=function(){return X.getNamed($,et)};nt(bt,At,Ft,W)}}}z.makePropertyInjectNamedDecorator=Bt;function K(X,W){return function($,et,bt){return function(At,Ft){var Lt=function(){return X.getTagged($,et,bt)};nt(At,Ft,Lt,W)}}}z.makePropertyInjectTaggedDecorator=K;function U(X,W){return function($){return function(et,bt){var At=function(){return X.getAll($)};nt(et,bt,At,W)}}}z.makePropertyMultiInjectDecorator=U},82615:function(Ce,z,F){"use strict";var nt;nt={value:!0};var V=F(34686);function Bt(K,U){U===void 0&&(U=!0);var X=V.makePropertyInjectDecorator(K,U),W=V.makePropertyInjectNamedDecorator(K,U),$=V.makePropertyInjectTaggedDecorator(K,U),et=V.makePropertyMultiInjectDecorator(K,U);return{lazyInject:X,lazyInjectNamed:W,lazyInjectTagged:$,lazyMultiInject:et}}z.Z=Bt},90333:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.tagProperty=z.tagParameter=z.decorate=void 0;var nt=F(52050),V=F(91193);function Bt(et,bt,At,Ft){var Lt=V.TAGGED;U(Lt,et,bt,Ft,At)}z.tagParameter=Bt;function K(et,bt,At){var Ft=V.TAGGED_PROP;U(Ft,et.constructor,bt,At)}z.tagProperty=K;function U(et,bt,At,Ft,Lt){var Tt={},ct=typeof Lt=="number",St=Lt!==void 0&&ct?Lt.toString():At;if(ct&&At!==void 0)throw new Error(nt.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(et,bt)&&(Tt=Reflect.getMetadata(et,bt));var Ut=Tt[St];if(!Array.isArray(Ut))Ut=[];else for(var Dt=0,It=Ut;Dt<It.length;Dt++){var mt=It[Dt];if(mt.key===Ft.key)throw new Error(nt.DUPLICATED_METADATA+" "+mt.key.toString())}Ut.push(Ft),Tt[St]=Ut,Reflect.defineMetadata(et,Tt,bt)}function X(et,bt){Reflect.decorate(et,bt)}function W(et,bt){return function(At,Ft){bt(At,Ft,et)}}function $(et,bt,At){typeof At=="number"?X([W(At,et)],bt):typeof At=="string"?Reflect.decorate([et],bt,At):X([et],bt)}z.decorate=$},70105:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.inject=z.LazyServiceIdentifer=void 0;var nt=F(52050),V=F(91193),Bt=F(55650),K=F(90333),U=function(){function W($){this._cb=$}return W.prototype.unwrap=function(){return this._cb()},W}();z.LazyServiceIdentifer=U;function X(W){return function($,et,bt){if(W===void 0)throw new Error(nt.UNDEFINED_INJECT_ANNOTATION($.name));var At=new Bt.Metadata(V.INJECT_TAG,W);typeof bt=="number"?K.tagParameter($,et,bt,At):K.tagProperty($,et,At)}}z.inject=X},9719:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.injectable=void 0;var nt=F(52050),V=F(91193);function Bt(){return function(K){if(Reflect.hasOwnMetadata(V.PARAM_TYPES,K))throw new Error(nt.DUPLICATED_INJECTABLE_DECORATOR);var U=Reflect.getMetadata(V.DESIGN_PARAM_TYPES,K)||[];return Reflect.defineMetadata(V.PARAM_TYPES,U,K),K}}z.injectable=Bt},81623:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.multiInject=void 0;var nt=F(91193),V=F(55650),Bt=F(90333);function K(U){return function(X,W,$){var et=new V.Metadata(nt.MULTI_INJECT_TAG,U);typeof $=="number"?Bt.tagParameter(X,W,$,et):Bt.tagProperty(X,W,et)}}z.multiInject=K},69481:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.named=void 0;var nt=F(91193),V=F(55650),Bt=F(90333);function K(U){return function(X,W,$){var et=new V.Metadata(nt.NAMED_TAG,U);typeof $=="number"?Bt.tagParameter(X,W,$,et):Bt.tagProperty(X,W,et)}}z.named=K},35231:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.optional=void 0;var nt=F(91193),V=F(55650),Bt=F(90333);function K(){return function(U,X,W){var $=new V.Metadata(nt.OPTIONAL_TAG,!0);typeof W=="number"?Bt.tagParameter(U,X,W,$):Bt.tagProperty(U,X,$)}}z.optional=K},17419:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.postConstruct=void 0;var nt=F(52050),V=F(91193),Bt=F(55650);function K(){return function(U,X,W){var $=new Bt.Metadata(V.POST_CONSTRUCT,X);if(Reflect.hasOwnMetadata(V.POST_CONSTRUCT,U.constructor))throw new Error(nt.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(V.POST_CONSTRUCT,$,U.constructor)}}z.postConstruct=K},97404:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.tagged=void 0;var nt=F(55650),V=F(90333);function Bt(K,U){return function(X,W,$){var et=new nt.Metadata(K,U);typeof $=="number"?V.tagParameter(X,W,$,et):V.tagProperty(X,W,et)}}z.tagged=Bt},11580:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.targetName=void 0;var nt=F(91193),V=F(55650),Bt=F(90333);function K(U){return function(X,W,$){var et=new V.Metadata(nt.NAME_TAG,U);Bt.tagParameter(X,W,$,et)}}z.targetName=K},8814:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.unmanaged=void 0;var nt=F(91193),V=F(55650),Bt=F(90333);function K(){return function(U,X,W){var $=new V.Metadata(nt.UNMANAGED_TAG,!0);Bt.tagParameter(U,X,W,$)}}z.unmanaged=K},45210:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Binding=void 0;var nt=F(88795),V=F(18576),Bt=function(){function K(U,X){this.id=V.id(),this.activated=!1,this.serviceIdentifier=U,this.scope=X,this.type=nt.BindingTypeEnum.Invalid,this.constraint=function(W){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return K.prototype.clone=function(){var U=new K(this.serviceIdentifier,this.scope);return U.activated=U.scope===nt.BindingScopeEnum.Singleton?this.activated:!1,U.implementationType=this.implementationType,U.dynamicValue=this.dynamicValue,U.scope=this.scope,U.type=this.type,U.factory=this.factory,U.provider=this.provider,U.constraint=this.constraint,U.onActivation=this.onActivation,U.cache=this.cache,U},K}();z.Binding=Bt},44276:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingCount=void 0;var F={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};z.BindingCount=F},52050:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.STACK_OVERFLOW=z.CIRCULAR_DEPENDENCY_IN_FACTORY=z.POST_CONSTRUCT_ERROR=z.MULTIPLE_POST_CONSTRUCT_METHODS=z.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=z.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=z.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=z.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=z.ARGUMENTS_LENGTH_MISMATCH=z.INVALID_DECORATOR_OPERATION=z.INVALID_TO_SELF_VALUE=z.INVALID_FUNCTION_BINDING=z.INVALID_MIDDLEWARE_RETURN=z.NO_MORE_SNAPSHOTS_AVAILABLE=z.INVALID_BINDING_TYPE=z.NOT_IMPLEMENTED=z.CIRCULAR_DEPENDENCY=z.UNDEFINED_INJECT_ANNOTATION=z.MISSING_INJECT_ANNOTATION=z.MISSING_INJECTABLE_ANNOTATION=z.NOT_REGISTERED=z.CANNOT_UNBIND=z.AMBIGUOUS_MATCH=z.KEY_NOT_FOUND=z.NULL_ARGUMENT=z.DUPLICATED_METADATA=z.DUPLICATED_INJECTABLE_DECORATOR=void 0,z.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",z.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",z.NULL_ARGUMENT="NULL argument",z.KEY_NOT_FOUND="Key Not Found",z.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",z.CANNOT_UNBIND="Could not unbind serviceIdentifier:",z.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",z.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",z.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var F=function(K){return"@inject called with undefined this could mean that the class "+K+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};z.UNDEFINED_INJECT_ANNOTATION=F,z.CIRCULAR_DEPENDENCY="Circular dependency found:",z.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",z.INVALID_BINDING_TYPE="Invalid binding type:",z.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",z.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",z.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",z.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",z.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var nt=function(){for(var K=[],U=0;U<arguments.length;U++)K[U]=arguments[U];return"The number of constructor arguments in the derived class "+(K[0]+" must be >= than the number of constructor arguments of its base class.")};z.ARGUMENTS_LENGTH_MISMATCH=nt,z.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",z.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",z.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",z.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",z.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var V=function(){for(var K=[],U=0;U<arguments.length;U++)K[U]=arguments[U];return"@postConstruct error in class "+K[0]+": "+K[1]};z.POST_CONSTRUCT_ERROR=V;var Bt=function(){for(var K=[],U=0;U<arguments.length;U++)K[U]=arguments[U];return"It looks like there is a circular dependency "+("in one of the '"+K[0]+"' bindings. Please investigate bindings with")+("service identifier '"+K[1]+"'.")};z.CIRCULAR_DEPENDENCY_IN_FACTORY=Bt,z.STACK_OVERFLOW="Maximum call stack size exceeded"},88795:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.TargetTypeEnum=z.BindingTypeEnum=z.BindingScopeEnum=void 0;var F={Request:"Request",Singleton:"Singleton",Transient:"Transient"};z.BindingScopeEnum=F;var nt={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};z.BindingTypeEnum=nt;var V={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};z.TargetTypeEnum=V},91193:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.NON_CUSTOM_TAG_KEYS=z.POST_CONSTRUCT=z.DESIGN_PARAM_TYPES=z.PARAM_TYPES=z.TAGGED_PROP=z.TAGGED=z.MULTI_INJECT_TAG=z.INJECT_TAG=z.OPTIONAL_TAG=z.UNMANAGED_TAG=z.NAME_TAG=z.NAMED_TAG=void 0,z.NAMED_TAG="named",z.NAME_TAG="name",z.UNMANAGED_TAG="unmanaged",z.OPTIONAL_TAG="optional",z.INJECT_TAG="inject",z.MULTI_INJECT_TAG="multi_inject",z.TAGGED="inversify:tagged",z.TAGGED_PROP="inversify:tagged_props",z.PARAM_TYPES="inversify:paramtypes",z.DESIGN_PARAM_TYPES="design:paramtypes",z.POST_CONSTRUCT="post_construct";function F(){return[z.INJECT_TAG,z.MULTI_INJECT_TAG,z.NAME_TAG,z.UNMANAGED_TAG,z.NAMED_TAG,z.OPTIONAL_TAG]}z.NON_CUSTOM_TAG_KEYS=F()},46769:function(Ce,z,F){"use strict";var nt=this&&this.__awaiter||function(Ut,Dt,It,mt){function vt(kt){return kt instanceof It?kt:new It(function(Mt){Mt(kt)})}return new(It||(It=Promise))(function(kt,Mt){function gt(S){try{Ht(mt.next(S))}catch(H){Mt(H)}}function $t(S){try{Ht(mt.throw(S))}catch(H){Mt(H)}}function Ht(S){S.done?kt(S.value):vt(S.value).then(gt,$t)}Ht((mt=mt.apply(Ut,Dt||[])).next())})},V=this&&this.__generator||function(Ut,Dt){var It={label:0,sent:function(){if(kt[0]&1)throw kt[1];return kt[1]},trys:[],ops:[]},mt,vt,kt,Mt;return Mt={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(Mt[Symbol.iterator]=function(){return this}),Mt;function gt(Ht){return function(S){return $t([Ht,S])}}function $t(Ht){if(mt)throw new TypeError("Generator is already executing.");for(;It;)try{if(mt=1,vt&&(kt=Ht[0]&2?vt.return:Ht[0]?vt.throw||((kt=vt.return)&&kt.call(vt),0):vt.next)&&!(kt=kt.call(vt,Ht[1])).done)return kt;switch(vt=0,kt&&(Ht=[Ht[0]&2,kt.value]),Ht[0]){case 0:case 1:kt=Ht;break;case 4:return It.label++,{value:Ht[1],done:!1};case 5:It.label++,vt=Ht[1],Ht=[0];continue;case 7:Ht=It.ops.pop(),It.trys.pop();continue;default:if(kt=It.trys,!(kt=kt.length>0&&kt[kt.length-1])&&(Ht[0]===6||Ht[0]===2)){It=0;continue}if(Ht[0]===3&&(!kt||Ht[1]>kt[0]&&Ht[1]<kt[3])){It.label=Ht[1];break}if(Ht[0]===6&&It.label<kt[1]){It.label=kt[1],kt=Ht;break}if(kt&&It.label<kt[2]){It.label=kt[2],It.ops.push(Ht);break}kt[2]&&It.ops.pop(),It.trys.pop();continue}Ht=Dt.call(Ut,It)}catch(S){Ht=[6,S],vt=0}finally{mt=kt=0}if(Ht[0]&5)throw Ht[1];return{value:Ht[0]?Ht[1]:void 0,done:!0}}},Bt=this&&this.__spreadArray||function(Ut,Dt){for(var It=0,mt=Dt.length,vt=Ut.length;It<mt;It++,vt++)Ut[vt]=Dt[It];return Ut};Object.defineProperty(z,"__esModule",{value:!0}),z.Container=void 0;var K=F(45210),U=F(52050),X=F(88795),W=F(91193),$=F(54594),et=F(47572),bt=F(87536),At=F(43085),Ft=F(18576),Lt=F(77721),Tt=F(80522),ct=F(96382),St=function(){function Ut(Dt){this._appliedMiddleware=[];var It=Dt||{};if(typeof It!="object")throw new Error(""+U.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(It.defaultScope===void 0)It.defaultScope=X.BindingScopeEnum.Transient;else if(It.defaultScope!==X.BindingScopeEnum.Singleton&&It.defaultScope!==X.BindingScopeEnum.Transient&&It.defaultScope!==X.BindingScopeEnum.Request)throw new Error(""+U.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(It.autoBindInjectable===void 0)It.autoBindInjectable=!1;else if(typeof It.autoBindInjectable!="boolean")throw new Error(""+U.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(It.skipBaseClassChecks===void 0)It.skipBaseClassChecks=!1;else if(typeof It.skipBaseClassChecks!="boolean")throw new Error(""+U.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:It.autoBindInjectable,defaultScope:It.defaultScope,skipBaseClassChecks:It.skipBaseClassChecks},this.id=Ft.id(),this._bindingDictionary=new ct.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new $.MetadataReader}return Ut.merge=function(Dt,It){for(var mt=[],vt=2;vt<arguments.length;vt++)mt[vt-2]=arguments[vt];var kt=new Ut,Mt=Bt([Dt,It],mt).map(function(Ht){return et.getBindingDictionary(Ht)}),gt=et.getBindingDictionary(kt);function $t(Ht,S){Ht.traverse(function(H,B){B.forEach(function(tt){S.add(tt.serviceIdentifier,tt.clone())})})}return Mt.forEach(function(Ht){$t(Ht,gt)}),kt},Ut.prototype.load=function(){for(var Dt=[],It=0;It<arguments.length;It++)Dt[It]=arguments[It];for(var mt=this._getContainerModuleHelpersFactory(),vt=0,kt=Dt;vt<kt.length;vt++){var Mt=kt[vt],gt=mt(Mt.id);Mt.registry(gt.bindFunction,gt.unbindFunction,gt.isboundFunction,gt.rebindFunction)}},Ut.prototype.loadAsync=function(){for(var Dt=[],It=0;It<arguments.length;It++)Dt[It]=arguments[It];return nt(this,void 0,void 0,function(){var mt,vt,kt,Mt,gt;return V(this,function($t){switch($t.label){case 0:mt=this._getContainerModuleHelpersFactory(),vt=0,kt=Dt,$t.label=1;case 1:return vt<kt.length?(Mt=kt[vt],gt=mt(Mt.id),[4,Mt.registry(gt.bindFunction,gt.unbindFunction,gt.isboundFunction,gt.rebindFunction)]):[3,4];case 2:$t.sent(),$t.label=3;case 3:return vt++,[3,1];case 4:return[2]}})})},Ut.prototype.unload=function(){for(var Dt=this,It=[],mt=0;mt<arguments.length;mt++)It[mt]=arguments[mt];var vt=function(kt){return function(Mt){return Mt.moduleId===kt}};It.forEach(function(kt){var Mt=vt(kt.id);Dt._bindingDictionary.removeByCondition(Mt)})},Ut.prototype.bind=function(Dt){var It=this.options.defaultScope||X.BindingScopeEnum.Transient,mt=new K.Binding(Dt,It);return this._bindingDictionary.add(Dt,mt),new At.BindingToSyntax(mt)},Ut.prototype.rebind=function(Dt){return this.unbind(Dt),this.bind(Dt)},Ut.prototype.unbind=function(Dt){try{this._bindingDictionary.remove(Dt)}catch(It){throw new Error(U.CANNOT_UNBIND+" "+Lt.getServiceIdentifierAsString(Dt))}},Ut.prototype.unbindAll=function(){this._bindingDictionary=new ct.Lookup},Ut.prototype.isBound=function(Dt){var It=this._bindingDictionary.hasKey(Dt);return!It&&this.parent&&(It=this.parent.isBound(Dt)),It},Ut.prototype.isBoundNamed=function(Dt,It){return this.isBoundTagged(Dt,W.NAMED_TAG,It)},Ut.prototype.isBoundTagged=function(Dt,It,mt){var vt=!1;if(this._bindingDictionary.hasKey(Dt)){var kt=this._bindingDictionary.get(Dt),Mt=et.createMockRequest(this,Dt,It,mt);vt=kt.some(function(gt){return gt.constraint(Mt)})}return!vt&&this.parent&&(vt=this.parent.isBoundTagged(Dt,It,mt)),vt},Ut.prototype.snapshot=function(){this._snapshots.push(Tt.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},Ut.prototype.restore=function(){var Dt=this._snapshots.pop();if(Dt===void 0)throw new Error(U.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=Dt.bindings,this._middleware=Dt.middleware},Ut.prototype.createChild=function(Dt){var It=new Ut(Dt||this.options);return It.parent=this,It},Ut.prototype.applyMiddleware=function(){for(var Dt=[],It=0;It<arguments.length;It++)Dt[It]=arguments[It];this._appliedMiddleware=this._appliedMiddleware.concat(Dt);var mt=this._middleware?this._middleware:this._planAndResolve();this._middleware=Dt.reduce(function(vt,kt){return kt(vt)},mt)},Ut.prototype.applyCustomMetadataReader=function(Dt){this._metadataReader=Dt},Ut.prototype.get=function(Dt){return this._get(!1,!1,X.TargetTypeEnum.Variable,Dt)},Ut.prototype.getTagged=function(Dt,It,mt){return this._get(!1,!1,X.TargetTypeEnum.Variable,Dt,It,mt)},Ut.prototype.getNamed=function(Dt,It){return this.getTagged(Dt,W.NAMED_TAG,It)},Ut.prototype.getAll=function(Dt){return this._get(!0,!0,X.TargetTypeEnum.Variable,Dt)},Ut.prototype.getAllTagged=function(Dt,It,mt){return this._get(!1,!0,X.TargetTypeEnum.Variable,Dt,It,mt)},Ut.prototype.getAllNamed=function(Dt,It){return this.getAllTagged(Dt,W.NAMED_TAG,It)},Ut.prototype.resolve=function(Dt){var It=this.createChild();return It.bind(Dt).toSelf(),this._appliedMiddleware.forEach(function(mt){It.applyMiddleware(mt)}),It.get(Dt)},Ut.prototype._getContainerModuleHelpersFactory=function(){var Dt=this,It=function(gt,$t){gt._binding.moduleId=$t},mt=function(gt){return function($t){var Ht=Dt.bind.bind(Dt),S=Ht($t);return It(S,gt),S}},vt=function(gt){return function($t){var Ht=Dt.unbind.bind(Dt);Ht($t)}},kt=function(gt){return function($t){var Ht=Dt.isBound.bind(Dt);return Ht($t)}},Mt=function(gt){return function($t){var Ht=Dt.rebind.bind(Dt),S=Ht($t);return It(S,gt),S}};return function(gt){return{bindFunction:mt(gt),isboundFunction:kt(gt),rebindFunction:Mt(gt),unbindFunction:vt(gt)}}},Ut.prototype._get=function(Dt,It,mt,vt,kt,Mt){var gt=null,$t={avoidConstraints:Dt,contextInterceptor:function(Ht){return Ht},isMultiInject:It,key:kt,serviceIdentifier:vt,targetType:mt,value:Mt};if(this._middleware){if(gt=this._middleware($t),gt==null)throw new Error(U.INVALID_MIDDLEWARE_RETURN)}else gt=this._planAndResolve()($t);return gt},Ut.prototype._planAndResolve=function(){var Dt=this;return function(It){var mt=et.plan(Dt._metadataReader,Dt,It.isMultiInject,It.targetType,It.serviceIdentifier,It.key,It.value,It.avoidConstraints);mt=It.contextInterceptor(mt);var vt=bt.resolve(mt);return vt}},Ut}();z.Container=St},69377:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.AsyncContainerModule=z.ContainerModule=void 0;var nt=F(18576),V=function(){function K(U){this.id=nt.id(),this.registry=U}return K}();z.ContainerModule=V;var Bt=function(){function K(U){this.id=nt.id(),this.registry=U}return K}();z.AsyncContainerModule=Bt},80522:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.ContainerSnapshot=void 0;var F=function(){function nt(){}return nt.of=function(V,Bt){var K=new nt;return K.bindings=V,K.middleware=Bt,K},nt}();z.ContainerSnapshot=F},96382:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Lookup=void 0;var nt=F(52050),V=function(){function Bt(){this._map=new Map}return Bt.prototype.getMap=function(){return this._map},Bt.prototype.add=function(K,U){if(K==null)throw new Error(nt.NULL_ARGUMENT);if(U==null)throw new Error(nt.NULL_ARGUMENT);var X=this._map.get(K);X!==void 0?(X.push(U),this._map.set(K,X)):this._map.set(K,[U])},Bt.prototype.get=function(K){if(K==null)throw new Error(nt.NULL_ARGUMENT);var U=this._map.get(K);if(U!==void 0)return U;throw new Error(nt.KEY_NOT_FOUND)},Bt.prototype.remove=function(K){if(K==null)throw new Error(nt.NULL_ARGUMENT);if(!this._map.delete(K))throw new Error(nt.KEY_NOT_FOUND)},Bt.prototype.removeByCondition=function(K){var U=this;this._map.forEach(function(X,W){var $=X.filter(function(et){return!K(et)});$.length>0?U._map.set(W,$):U._map.delete(W)})},Bt.prototype.hasKey=function(K){if(K==null)throw new Error(nt.NULL_ARGUMENT);return this._map.has(K)},Bt.prototype.clone=function(){var K=new Bt;return this._map.forEach(function(U,X){U.forEach(function(W){return K.add(X,W.clone())})}),K},Bt.prototype.traverse=function(K){this._map.forEach(function(U,X){K(X,U)})},Bt}();z.Lookup=V},31331:function(Ce,z,F){"use strict";var nt;nt={value:!0},nt=nt=nt=nt=nt=nt=z.GW=nt=nt=z.zY=nt=nt=nt=nt=nt=z.f3=nt=nt=z.b2=nt=nt=nt=nt=nt=z.W2=nt=void 0;var V=F(91193);nt=V;var Bt=F(46769);Object.defineProperty(z,"W2",{enumerable:!0,get:function(){return Bt.Container}});var K=F(88795);nt={enumerable:!0,get:function(){return K.BindingScopeEnum}},nt={enumerable:!0,get:function(){return K.BindingTypeEnum}},nt={enumerable:!0,get:function(){return K.TargetTypeEnum}};var U=F(69377);nt={enumerable:!0,get:function(){return U.AsyncContainerModule}},nt={enumerable:!0,get:function(){return U.ContainerModule}};var X=F(9719);Object.defineProperty(z,"b2",{enumerable:!0,get:function(){return X.injectable}});var W=F(97404);nt={enumerable:!0,get:function(){return W.tagged}};var $=F(69481);nt={enumerable:!0,get:function(){return $.named}};var et=F(70105);Object.defineProperty(z,"f3",{enumerable:!0,get:function(){return et.inject}}),nt={enumerable:!0,get:function(){return et.LazyServiceIdentifer}};var bt=F(35231);nt={enumerable:!0,get:function(){return bt.optional}};var At=F(8814);nt={enumerable:!0,get:function(){return At.unmanaged}};var Ft=F(81623);nt={enumerable:!0,get:function(){return Ft.multiInject}};var Lt=F(11580);nt={enumerable:!0,get:function(){return Lt.targetName}};var Tt=F(17419);Object.defineProperty(z,"zY",{enumerable:!0,get:function(){return Tt.postConstruct}});var ct=F(54594);nt={enumerable:!0,get:function(){return ct.MetadataReader}};var St=F(18576);nt={enumerable:!0,get:function(){return St.id}};var Ut=F(90333);Object.defineProperty(z,"GW",{enumerable:!0,get:function(){return Ut.decorate}});var Dt=F(18307);nt={enumerable:!0,get:function(){return Dt.traverseAncerstors}},nt={enumerable:!0,get:function(){return Dt.taggedConstraint}},nt={enumerable:!0,get:function(){return Dt.namedConstraint}},nt={enumerable:!0,get:function(){return Dt.typeConstraint}};var It=F(77721);nt={enumerable:!0,get:function(){return It.getServiceIdentifierAsString}};var mt=F(55605);nt={enumerable:!0,get:function(){return mt.multiBindToService}}},52887:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Context=void 0;var nt=F(18576),V=function(){function Bt(K){this.id=nt.id(),this.container=K}return Bt.prototype.addPlan=function(K){this.plan=K},Bt.prototype.setCurrentRequest=function(K){this.currentRequest=K},Bt}();z.Context=V},55650:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Metadata=void 0;var nt=F(91193),V=function(){function Bt(K,U){this.key=K,this.value=U}return Bt.prototype.toString=function(){return this.key===nt.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},Bt}();z.Metadata=V},54594:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.MetadataReader=void 0;var nt=F(91193),V=function(){function Bt(){}return Bt.prototype.getConstructorMetadata=function(K){var U=Reflect.getMetadata(nt.PARAM_TYPES,K),X=Reflect.getMetadata(nt.TAGGED,K);return{compilerGeneratedMetadata:U,userGeneratedMetadata:X||{}}},Bt.prototype.getPropertiesMetadata=function(K){var U=Reflect.getMetadata(nt.TAGGED_PROP,K)||[];return U},Bt}();z.MetadataReader=V},21800:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Plan=void 0;var F=function(){function nt(V,Bt){this.parentContext=V,this.rootRequest=Bt}return nt}();z.Plan=F},47572:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.getBindingDictionary=z.createMockRequest=z.plan=void 0;var nt=F(44276),V=F(52050),Bt=F(88795),K=F(91193),U=F(83817),X=F(77721),W=F(52887),$=F(55650),et=F(21800),bt=F(73630),At=F(13571),Ft=F(79060);function Lt(vt){return vt._bindingDictionary}z.getBindingDictionary=Lt;function Tt(vt,kt,Mt,gt,$t,Ht){var S=vt?K.MULTI_INJECT_TAG:K.INJECT_TAG,H=new $.Metadata(S,Mt),B=new Ft.Target(kt,gt,Mt,H);if($t!==void 0){var tt=new $.Metadata($t,Ht);B.metadata.push(tt)}return B}function ct(vt,kt,Mt,gt,$t){var Ht=Dt(Mt.container,$t.serviceIdentifier),S=[];return Ht.length===nt.BindingCount.NoBindingsAvailable&&Mt.container.options.autoBindInjectable&&typeof $t.serviceIdentifier=="function"&&vt.getConstructorMetadata($t.serviceIdentifier).compilerGeneratedMetadata&&(Mt.container.bind($t.serviceIdentifier).toSelf(),Ht=Dt(Mt.container,$t.serviceIdentifier)),kt?S=Ht:S=Ht.filter(function(H){var B=new At.Request(H.serviceIdentifier,Mt,gt,H,$t);return H.constraint(B)}),St($t.serviceIdentifier,S,$t,Mt.container),S}function St(vt,kt,Mt,gt){switch(kt.length){case nt.BindingCount.NoBindingsAvailable:if(Mt.isOptional())return kt;var $t=X.getServiceIdentifierAsString(vt),Ht=V.NOT_REGISTERED;throw Ht+=X.listMetadataForTarget($t,Mt),Ht+=X.listRegisteredBindingsForServiceIdentifier(gt,$t,Dt),new Error(Ht);case nt.BindingCount.OnlyOneBindingAvailable:if(!Mt.isArray())return kt;case nt.BindingCount.MultipleBindingsAvailable:default:if(Mt.isArray())return kt;var $t=X.getServiceIdentifierAsString(vt),Ht=V.AMBIGUOUS_MATCH+" "+$t;throw Ht+=X.listRegisteredBindingsForServiceIdentifier(gt,$t,Dt),new Error(Ht)}}function Ut(vt,kt,Mt,gt,$t,Ht){var S,H;if($t===null){S=ct(vt,kt,gt,null,Ht),H=new At.Request(Mt,gt,null,S,Ht);var B=new et.Plan(gt,H);gt.addPlan(B)}else S=ct(vt,kt,gt,$t,Ht),H=$t.addChildRequest(Ht.serviceIdentifier,S,Ht);S.forEach(function(tt){var k=null;if(Ht.isArray())k=H.addChildRequest(tt.serviceIdentifier,tt,Ht);else{if(tt.cache)return;k=H}if(tt.type===Bt.BindingTypeEnum.Instance&&tt.implementationType!==null){var T=bt.getDependencies(vt,tt.implementationType);if(!gt.container.options.skipBaseClassChecks){var _=bt.getBaseClassDependencyCount(vt,tt.implementationType);if(T.length<_){var w=V.ARGUMENTS_LENGTH_MISMATCH(bt.getFunctionName(tt.implementationType));throw new Error(w)}}T.forEach(function(G){Ut(vt,!1,G.serviceIdentifier,gt,k,G)})}})}function Dt(vt,kt){var Mt=[],gt=Lt(vt);return gt.hasKey(kt)?Mt=gt.get(kt):vt.parent!==null&&(Mt=Dt(vt.parent,kt)),Mt}function It(vt,kt,Mt,gt,$t,Ht,S,H){H===void 0&&(H=!1);var B=new W.Context(kt),tt=Tt(Mt,gt,$t,"",Ht,S);try{return Ut(vt,H,$t,B,null,tt),B}catch(k){throw U.isStackOverflowExeption(k)&&B.plan&&X.circularDependencyToException(B.plan.rootRequest),k}}z.plan=It;function mt(vt,kt,Mt,gt){var $t=new Ft.Target(Bt.TargetTypeEnum.Variable,"",kt,new $.Metadata(Mt,gt)),Ht=new W.Context(vt),S=new At.Request(kt,Ht,null,[],$t);return S}z.createMockRequest=mt},83925:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.QueryableString=void 0;var F=function(){function nt(V){this.str=V}return nt.prototype.startsWith=function(V){return this.str.indexOf(V)===0},nt.prototype.endsWith=function(V){var Bt="",K=V.split("").reverse().join("");return Bt=this.str.split("").reverse().join(""),this.startsWith.call({str:Bt},K)},nt.prototype.contains=function(V){return this.str.indexOf(V)!==-1},nt.prototype.equals=function(V){return this.str===V},nt.prototype.value=function(){return this.str},nt}();z.QueryableString=F},73630:function(Ce,z,F){"use strict";var nt=this&&this.__spreadArray||function(ct,St){for(var Ut=0,Dt=St.length,It=ct.length;Ut<Dt;Ut++,It++)ct[It]=St[Ut];return ct};Object.defineProperty(z,"__esModule",{value:!0}),z.getFunctionName=z.getBaseClassDependencyCount=z.getDependencies=void 0;var V=F(70105),Bt=F(52050),K=F(88795),U=F(91193),X=F(77721);Object.defineProperty(z,"getFunctionName",{enumerable:!0,get:function(){return X.getFunctionName}});var W=F(79060);function $(ct,St){var Ut=X.getFunctionName(St),Dt=et(ct,Ut,St,!1);return Dt}z.getDependencies=$;function et(ct,St,Ut,Dt){var It=ct.getConstructorMetadata(Ut),mt=It.compilerGeneratedMetadata;if(mt===void 0){var vt=Bt.MISSING_INJECTABLE_ANNOTATION+" "+St+".";throw new Error(vt)}var kt=It.userGeneratedMetadata,Mt=Object.keys(kt),gt=Ut.length===0&&Mt.length>0,$t=Mt.length>Ut.length,Ht=gt||$t?Mt.length:Ut.length,S=At(Dt,St,mt,kt,Ht),H=Ft(ct,Ut),B=nt(nt([],S),H);return B}function bt(ct,St,Ut,Dt,It){var mt=It[ct.toString()]||[],vt=Tt(mt),kt=vt.unmanaged!==!0,Mt=Dt[ct],gt=vt.inject||vt.multiInject;if(Mt=gt||Mt,Mt instanceof V.LazyServiceIdentifer&&(Mt=Mt.unwrap()),kt){var $t=Mt===Object,Ht=Mt===Function,S=Mt===void 0,H=$t||Ht||S;if(!St&&H){var B=Bt.MISSING_INJECT_ANNOTATION+" argument "+ct+" in class "+Ut+".";throw new Error(B)}var tt=new W.Target(K.TargetTypeEnum.ConstructorArgument,vt.targetName,Mt);return tt.metadata=mt,tt}return null}function At(ct,St,Ut,Dt,It){for(var mt=[],vt=0;vt<It;vt++){var kt=vt,Mt=bt(kt,ct,St,Ut,Dt);Mt!==null&&mt.push(Mt)}return mt}function Ft(ct,St){for(var Ut=ct.getPropertiesMetadata(St),Dt=[],It=Object.keys(Ut),mt=0,vt=It;mt<vt.length;mt++){var kt=vt[mt],Mt=Ut[kt],gt=Tt(Ut[kt]),$t=gt.targetName||kt,Ht=gt.inject||gt.multiInject,S=new W.Target(K.TargetTypeEnum.ClassProperty,$t,Ht);S.metadata=Mt,Dt.push(S)}var H=Object.getPrototypeOf(St.prototype).constructor;if(H!==Object){var B=Ft(ct,H);Dt=nt(nt([],Dt),B)}return Dt}function Lt(ct,St){var Ut=Object.getPrototypeOf(St.prototype).constructor;if(Ut!==Object){var Dt=X.getFunctionName(Ut),It=et(ct,Dt,Ut,!0),mt=It.map(function(Mt){return Mt.metadata.filter(function(gt){return gt.key===U.UNMANAGED_TAG})}),vt=[].concat.apply([],mt).length,kt=It.length-vt;return kt>0?kt:Lt(ct,Ut)}else return 0}z.getBaseClassDependencyCount=Lt;function Tt(ct){var St={};return ct.forEach(function(Ut){St[Ut.key.toString()]=Ut.value}),{inject:St[U.INJECT_TAG],multiInject:St[U.MULTI_INJECT_TAG],targetName:St[U.NAME_TAG],unmanaged:St[U.UNMANAGED_TAG]}}},13571:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Request=void 0;var nt=F(18576),V=function(){function Bt(K,U,X,W,$){this.id=nt.id(),this.serviceIdentifier=K,this.parentContext=U,this.parentRequest=X,this.target=$,this.childRequests=[],this.bindings=Array.isArray(W)?W:[W],this.requestScope=X===null?new Map:null}return Bt.prototype.addChildRequest=function(K,U,X){var W=new Bt(K,this.parentContext,this,U,X);return this.childRequests.push(W),W},Bt}();z.Request=V},79060:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.Target=void 0;var nt=F(91193),V=F(18576),Bt=F(55650),K=F(83925),U=function(){function X(W,$,et,bt){this.id=V.id(),this.type=W,this.serviceIdentifier=et,this.name=new K.QueryableString($||""),this.metadata=new Array;var At=null;typeof bt=="string"?At=new Bt.Metadata(nt.NAMED_TAG,bt):bt instanceof Bt.Metadata&&(At=bt),At!==null&&this.metadata.push(At)}return X.prototype.hasTag=function(W){for(var $=0,et=this.metadata;$<et.length;$++){var bt=et[$];if(bt.key===W)return!0}return!1},X.prototype.isArray=function(){return this.hasTag(nt.MULTI_INJECT_TAG)},X.prototype.matchesArray=function(W){return this.matchesTag(nt.MULTI_INJECT_TAG)(W)},X.prototype.isNamed=function(){return this.hasTag(nt.NAMED_TAG)},X.prototype.isTagged=function(){return this.metadata.some(function(W){return nt.NON_CUSTOM_TAG_KEYS.every(function($){return W.key!==$})})},X.prototype.isOptional=function(){return this.matchesTag(nt.OPTIONAL_TAG)(!0)},X.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(W){return W.key===nt.NAMED_TAG})[0]:null},X.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(W){return nt.NON_CUSTOM_TAG_KEYS.every(function($){return W.key!==$})}):null},X.prototype.matchesNamedTag=function(W){return this.matchesTag(nt.NAMED_TAG)(W)},X.prototype.matchesTag=function(W){var $=this;return function(et){for(var bt=0,At=$.metadata;bt<At.length;bt++){var Ft=At[bt];if(Ft.key===W&&Ft.value===et)return!0}return!1}},X}();z.Target=U},10003:function(Ce,z,F){"use strict";var nt=this&&this.__spreadArray||function(et,bt){for(var At=0,Ft=bt.length,Lt=et.length;At<Ft;At++,Lt++)et[Lt]=bt[At];return et};Object.defineProperty(z,"__esModule",{value:!0}),z.resolveInstance=void 0;var V=F(52050),Bt=F(88795),K=F(91193);function U(et,bt,At){var Ft=bt.filter(function(Tt){return Tt.target!==null&&Tt.target.type===Bt.TargetTypeEnum.ClassProperty}),Lt=Ft.map(At);return Ft.forEach(function(Tt,ct){var St="";St=Tt.target.name.value();var Ut=Lt[ct];et[St]=Ut}),et}function X(et,bt){return new(et.bind.apply(et,nt([void 0],bt)))}function W(et,bt){if(Reflect.hasMetadata(K.POST_CONSTRUCT,et)){var At=Reflect.getMetadata(K.POST_CONSTRUCT,et);try{bt[At.value]()}catch(Ft){throw new Error(V.POST_CONSTRUCT_ERROR(et.name,Ft.message))}}}function $(et,bt,At){var Ft=null;if(bt.length>0){var Lt=bt.filter(function(ct){return ct.target!==null&&ct.target.type===Bt.TargetTypeEnum.ConstructorArgument}),Tt=Lt.map(At);Ft=X(et,Tt),Ft=U(Ft,bt,At)}else Ft=new et;return W(et,Ft),Ft}z.resolveInstance=$},87536:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.resolve=void 0;var nt=F(52050),V=F(88795),Bt=F(83817),K=F(77721),U=F(10003),X=function(et,bt,At){try{return At()}catch(Ft){throw Bt.isStackOverflowExeption(Ft)?new Error(nt.CIRCULAR_DEPENDENCY_IN_FACTORY(et,bt.toString())):Ft}},W=function(et){return function(bt){bt.parentContext.setCurrentRequest(bt);var At=bt.bindings,Ft=bt.childRequests,Lt=bt.target&&bt.target.isArray(),Tt=!bt.parentRequest||!bt.parentRequest.target||!bt.target||!bt.parentRequest.target.matchesArray(bt.target.serviceIdentifier);if(Lt&&Tt)return Ft.map(function(mt){var vt=W(et);return vt(mt)});var ct=null;if(bt.target.isOptional()&&At.length===0)return;var St=At[0],Ut=St.scope===V.BindingScopeEnum.Singleton,Dt=St.scope===V.BindingScopeEnum.Request;if(Ut&&St.activated)return St.cache;if(Dt&&et!==null&&et.has(St.id))return et.get(St.id);if(St.type===V.BindingTypeEnum.ConstantValue)ct=St.cache,St.activated=!0;else if(St.type===V.BindingTypeEnum.Function)ct=St.cache,St.activated=!0;else if(St.type===V.BindingTypeEnum.Constructor)ct=St.implementationType;else if(St.type===V.BindingTypeEnum.DynamicValue&&St.dynamicValue!==null)ct=X("toDynamicValue",St.serviceIdentifier,function(){return St.dynamicValue(bt.parentContext)});else if(St.type===V.BindingTypeEnum.Factory&&St.factory!==null)ct=X("toFactory",St.serviceIdentifier,function(){return St.factory(bt.parentContext)});else if(St.type===V.BindingTypeEnum.Provider&&St.provider!==null)ct=X("toProvider",St.serviceIdentifier,function(){return St.provider(bt.parentContext)});else if(St.type===V.BindingTypeEnum.Instance&&St.implementationType!==null)ct=U.resolveInstance(St.implementationType,Ft,W(et));else{var It=K.getServiceIdentifierAsString(bt.serviceIdentifier);throw new Error(nt.INVALID_BINDING_TYPE+" "+It)}return typeof St.onActivation=="function"&&(ct=St.onActivation(bt.parentContext,ct)),Ut&&(St.cache=ct,St.activated=!0),Dt&&et!==null&&!et.has(St.id)&&et.set(St.id,ct),ct}};function $(et){var bt=W(et.plan.rootRequest.requestScope);return bt(et.plan.rootRequest)}z.resolve=$},55404:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingInSyntax=void 0;var nt=F(88795),V=F(65408),Bt=function(){function K(U){this._binding=U}return K.prototype.inRequestScope=function(){return this._binding.scope=nt.BindingScopeEnum.Request,new V.BindingWhenOnSyntax(this._binding)},K.prototype.inSingletonScope=function(){return this._binding.scope=nt.BindingScopeEnum.Singleton,new V.BindingWhenOnSyntax(this._binding)},K.prototype.inTransientScope=function(){return this._binding.scope=nt.BindingScopeEnum.Transient,new V.BindingWhenOnSyntax(this._binding)},K}();z.BindingInSyntax=Bt},48971:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingInWhenOnSyntax=void 0;var nt=F(55404),V=F(37326),Bt=F(64957),K=function(){function U(X){this._binding=X,this._bindingWhenSyntax=new Bt.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new V.BindingOnSyntax(this._binding),this._bindingInSyntax=new nt.BindingInSyntax(X)}return U.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},U.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},U.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},U.prototype.when=function(X){return this._bindingWhenSyntax.when(X)},U.prototype.whenTargetNamed=function(X){return this._bindingWhenSyntax.whenTargetNamed(X)},U.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},U.prototype.whenTargetTagged=function(X,W){return this._bindingWhenSyntax.whenTargetTagged(X,W)},U.prototype.whenInjectedInto=function(X){return this._bindingWhenSyntax.whenInjectedInto(X)},U.prototype.whenParentNamed=function(X){return this._bindingWhenSyntax.whenParentNamed(X)},U.prototype.whenParentTagged=function(X,W){return this._bindingWhenSyntax.whenParentTagged(X,W)},U.prototype.whenAnyAncestorIs=function(X){return this._bindingWhenSyntax.whenAnyAncestorIs(X)},U.prototype.whenNoAncestorIs=function(X){return this._bindingWhenSyntax.whenNoAncestorIs(X)},U.prototype.whenAnyAncestorNamed=function(X){return this._bindingWhenSyntax.whenAnyAncestorNamed(X)},U.prototype.whenAnyAncestorTagged=function(X,W){return this._bindingWhenSyntax.whenAnyAncestorTagged(X,W)},U.prototype.whenNoAncestorNamed=function(X){return this._bindingWhenSyntax.whenNoAncestorNamed(X)},U.prototype.whenNoAncestorTagged=function(X,W){return this._bindingWhenSyntax.whenNoAncestorTagged(X,W)},U.prototype.whenAnyAncestorMatches=function(X){return this._bindingWhenSyntax.whenAnyAncestorMatches(X)},U.prototype.whenNoAncestorMatches=function(X){return this._bindingWhenSyntax.whenNoAncestorMatches(X)},U.prototype.onActivation=function(X){return this._bindingOnSyntax.onActivation(X)},U}();z.BindingInWhenOnSyntax=K},37326:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingOnSyntax=void 0;var nt=F(64957),V=function(){function Bt(K){this._binding=K}return Bt.prototype.onActivation=function(K){return this._binding.onActivation=K,new nt.BindingWhenSyntax(this._binding)},Bt}();z.BindingOnSyntax=V},43085:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingToSyntax=void 0;var nt=F(52050),V=F(88795),Bt=F(48971),K=F(65408),U=function(){function X(W){this._binding=W}return X.prototype.to=function(W){return this._binding.type=V.BindingTypeEnum.Instance,this._binding.implementationType=W,new Bt.BindingInWhenOnSyntax(this._binding)},X.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+nt.INVALID_TO_SELF_VALUE);var W=this._binding.serviceIdentifier;return this.to(W)},X.prototype.toConstantValue=function(W){return this._binding.type=V.BindingTypeEnum.ConstantValue,this._binding.cache=W,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=V.BindingScopeEnum.Singleton,new K.BindingWhenOnSyntax(this._binding)},X.prototype.toDynamicValue=function(W){return this._binding.type=V.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=W,this._binding.implementationType=null,new Bt.BindingInWhenOnSyntax(this._binding)},X.prototype.toConstructor=function(W){return this._binding.type=V.BindingTypeEnum.Constructor,this._binding.implementationType=W,this._binding.scope=V.BindingScopeEnum.Singleton,new K.BindingWhenOnSyntax(this._binding)},X.prototype.toFactory=function(W){return this._binding.type=V.BindingTypeEnum.Factory,this._binding.factory=W,this._binding.scope=V.BindingScopeEnum.Singleton,new K.BindingWhenOnSyntax(this._binding)},X.prototype.toFunction=function(W){if(typeof W!="function")throw new Error(nt.INVALID_FUNCTION_BINDING);var $=this.toConstantValue(W);return this._binding.type=V.BindingTypeEnum.Function,this._binding.scope=V.BindingScopeEnum.Singleton,$},X.prototype.toAutoFactory=function(W){return this._binding.type=V.BindingTypeEnum.Factory,this._binding.factory=function($){var et=function(){return $.container.get(W)};return et},this._binding.scope=V.BindingScopeEnum.Singleton,new K.BindingWhenOnSyntax(this._binding)},X.prototype.toProvider=function(W){return this._binding.type=V.BindingTypeEnum.Provider,this._binding.provider=W,this._binding.scope=V.BindingScopeEnum.Singleton,new K.BindingWhenOnSyntax(this._binding)},X.prototype.toService=function(W){this.toDynamicValue(function($){return $.container.get(W)})},X}();z.BindingToSyntax=U},65408:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingWhenOnSyntax=void 0;var nt=F(37326),V=F(64957),Bt=function(){function K(U){this._binding=U,this._bindingWhenSyntax=new V.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new nt.BindingOnSyntax(this._binding)}return K.prototype.when=function(U){return this._bindingWhenSyntax.when(U)},K.prototype.whenTargetNamed=function(U){return this._bindingWhenSyntax.whenTargetNamed(U)},K.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},K.prototype.whenTargetTagged=function(U,X){return this._bindingWhenSyntax.whenTargetTagged(U,X)},K.prototype.whenInjectedInto=function(U){return this._bindingWhenSyntax.whenInjectedInto(U)},K.prototype.whenParentNamed=function(U){return this._bindingWhenSyntax.whenParentNamed(U)},K.prototype.whenParentTagged=function(U,X){return this._bindingWhenSyntax.whenParentTagged(U,X)},K.prototype.whenAnyAncestorIs=function(U){return this._bindingWhenSyntax.whenAnyAncestorIs(U)},K.prototype.whenNoAncestorIs=function(U){return this._bindingWhenSyntax.whenNoAncestorIs(U)},K.prototype.whenAnyAncestorNamed=function(U){return this._bindingWhenSyntax.whenAnyAncestorNamed(U)},K.prototype.whenAnyAncestorTagged=function(U,X){return this._bindingWhenSyntax.whenAnyAncestorTagged(U,X)},K.prototype.whenNoAncestorNamed=function(U){return this._bindingWhenSyntax.whenNoAncestorNamed(U)},K.prototype.whenNoAncestorTagged=function(U,X){return this._bindingWhenSyntax.whenNoAncestorTagged(U,X)},K.prototype.whenAnyAncestorMatches=function(U){return this._bindingWhenSyntax.whenAnyAncestorMatches(U)},K.prototype.whenNoAncestorMatches=function(U){return this._bindingWhenSyntax.whenNoAncestorMatches(U)},K.prototype.onActivation=function(U){return this._bindingOnSyntax.onActivation(U)},K}();z.BindingWhenOnSyntax=Bt},64957:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.BindingWhenSyntax=void 0;var nt=F(37326),V=F(18307),Bt=function(){function K(U){this._binding=U}return K.prototype.when=function(U){return this._binding.constraint=U,new nt.BindingOnSyntax(this._binding)},K.prototype.whenTargetNamed=function(U){return this._binding.constraint=V.namedConstraint(U),new nt.BindingOnSyntax(this._binding)},K.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(U){var X=U.target!==null&&!U.target.isNamed()&&!U.target.isTagged();return X},new nt.BindingOnSyntax(this._binding)},K.prototype.whenTargetTagged=function(U,X){return this._binding.constraint=V.taggedConstraint(U)(X),new nt.BindingOnSyntax(this._binding)},K.prototype.whenInjectedInto=function(U){return this._binding.constraint=function(X){return V.typeConstraint(U)(X.parentRequest)},new nt.BindingOnSyntax(this._binding)},K.prototype.whenParentNamed=function(U){return this._binding.constraint=function(X){return V.namedConstraint(U)(X.parentRequest)},new nt.BindingOnSyntax(this._binding)},K.prototype.whenParentTagged=function(U,X){return this._binding.constraint=function(W){return V.taggedConstraint(U)(X)(W.parentRequest)},new nt.BindingOnSyntax(this._binding)},K.prototype.whenAnyAncestorIs=function(U){return this._binding.constraint=function(X){return V.traverseAncerstors(X,V.typeConstraint(U))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenNoAncestorIs=function(U){return this._binding.constraint=function(X){return!V.traverseAncerstors(X,V.typeConstraint(U))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenAnyAncestorNamed=function(U){return this._binding.constraint=function(X){return V.traverseAncerstors(X,V.namedConstraint(U))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenNoAncestorNamed=function(U){return this._binding.constraint=function(X){return!V.traverseAncerstors(X,V.namedConstraint(U))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenAnyAncestorTagged=function(U,X){return this._binding.constraint=function(W){return V.traverseAncerstors(W,V.taggedConstraint(U)(X))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenNoAncestorTagged=function(U,X){return this._binding.constraint=function(W){return!V.traverseAncerstors(W,V.taggedConstraint(U)(X))},new nt.BindingOnSyntax(this._binding)},K.prototype.whenAnyAncestorMatches=function(U){return this._binding.constraint=function(X){return V.traverseAncerstors(X,U)},new nt.BindingOnSyntax(this._binding)},K.prototype.whenNoAncestorMatches=function(U){return this._binding.constraint=function(X){return!V.traverseAncerstors(X,U)},new nt.BindingOnSyntax(this._binding)},K}();z.BindingWhenSyntax=Bt},18307:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.typeConstraint=z.namedConstraint=z.taggedConstraint=z.traverseAncerstors=void 0;var nt=F(91193),V=F(55650),Bt=function(W,$){var et=W.parentRequest;return et!==null?$(et)?!0:Bt(et,$):!1};z.traverseAncerstors=Bt;var K=function(W){return function($){var et=function(bt){return bt!==null&&bt.target!==null&&bt.target.matchesTag(W)($)};return et.metaData=new V.Metadata(W,$),et}};z.taggedConstraint=K;var U=K(nt.NAMED_TAG);z.namedConstraint=U;var X=function(W){return function($){var et=null;if($!==null)if(et=$.bindings[0],typeof W=="string"){var bt=et.serviceIdentifier;return bt===W}else{var At=$.bindings[0].implementationType;return W===At}return!1}};z.typeConstraint=X},55605:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.multiBindToService=void 0;var F=function(nt){return function(V){return function(){for(var Bt=[],K=0;K<arguments.length;K++)Bt[K]=arguments[K];return Bt.forEach(function(U){return nt.bind(U).toService(V)})}}};z.multiBindToService=F},83817:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.isStackOverflowExeption=void 0;var nt=F(52050);function V(Bt){return Bt instanceof RangeError||Bt.message===nt.STACK_OVERFLOW}z.isStackOverflowExeption=V},18576:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.id=void 0;var F=0;function nt(){return F++}z.id=nt},77721:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.circularDependencyToException=z.listMetadataForTarget=z.listRegisteredBindingsForServiceIdentifier=z.getServiceIdentifierAsString=z.getFunctionName=void 0;var nt=F(52050);function V(et){if(typeof et=="function"){var bt=et;return bt.name}else{if(typeof et=="symbol")return et.toString();var bt=et;return bt}}z.getServiceIdentifierAsString=V;function Bt(et,bt,At){var Ft="",Lt=At(et,bt);return Lt.length!==0&&(Ft=`
Registered bindings:`,Lt.forEach(function(Tt){var ct="Object";Tt.implementationType!==null&&(ct=$(Tt.implementationType)),Ft=Ft+`
 `+ct,Tt.constraint.metaData&&(Ft=Ft+" - "+Tt.constraint.metaData)})),Ft}z.listRegisteredBindingsForServiceIdentifier=Bt;function K(et,bt){return et.parentRequest===null?!1:et.parentRequest.serviceIdentifier===bt?!0:K(et.parentRequest,bt)}function U(et){function bt(Ft,Lt){Lt===void 0&&(Lt=[]);var Tt=V(Ft.serviceIdentifier);return Lt.push(Tt),Ft.parentRequest!==null?bt(Ft.parentRequest,Lt):Lt}var At=bt(et);return At.reverse().join(" --> ")}function X(et){et.childRequests.forEach(function(bt){if(K(bt,bt.serviceIdentifier)){var At=U(bt);throw new Error(nt.CIRCULAR_DEPENDENCY+" "+At)}else X(bt)})}z.circularDependencyToException=X;function W(et,bt){if(bt.isTagged()||bt.isNamed()){var At="",Ft=bt.getNamedTag(),Lt=bt.getCustomTags();return Ft!==null&&(At+=Ft.toString()+`
`),Lt!==null&&Lt.forEach(function(Tt){At+=Tt.toString()+`
`})," "+et+`
 `+et+" - "+At}else return" "+et}z.listMetadataForTarget=W;function $(et){if(et.name)return et.name;var bt=et.toString(),At=bt.match(/^function\s*([^\s(]+)/);return At?At[1]:"Anonymous function: "+bt}z.getFunctionName=$},78962:function(Ce){"use strict";Ce.exports=F,Ce.exports.default=F;var z=1e20;function F(U,X,W,$,et,bt){this.fontSize=U||24,this.buffer=X===void 0?3:X,this.cutoff=$||.25,this.fontFamily=et||"sans-serif",this.fontWeight=bt||"normal",this.radius=W||8;var At=this.size=this.fontSize+this.buffer*2,Ft=At+this.buffer*2,Lt=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0;Lt?this.canvas=my.createOffscreenCanvas(At,At,"2d"):(this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=At),this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Ft*Ft),this.gridInner=new Float64Array(Ft*Ft),this.f=new Float64Array(Ft),this.z=new Float64Array(Ft+1),this.v=new Uint16Array(Ft),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,Lt?this.middle=Math.round(At/2*1):this.middle=Math.round(At/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function nt(U,X,W,$,et,bt,At){bt.fill(z,0,X*W),At.fill(0,0,X*W);for(var Ft=(X-$)/2,Lt=0;Lt<et;Lt++)for(var Tt=0;Tt<$;Tt++){var ct=(Lt+Ft)*X+Tt+Ft,St=U.data[4*(Lt*$+Tt)+3]/255;if(St===1)bt[ct]=0,At[ct]=z;else if(St===0)bt[ct]=z,At[ct]=0;else{var Ut=Math.max(0,.5-St),Dt=Math.max(0,St-.5);bt[ct]=Ut*Ut,At[ct]=Dt*Dt}}}function V(U,X,W,$,et,bt,At){for(var Ft=0;Ft<X*W;Ft++){var Lt=Math.sqrt($[Ft])-Math.sqrt(et[Ft]);U[Ft]=Math.round(255-255*(Lt/bt+At))}}F.prototype._draw=function(U,X){var W=this.ctx.measureText(U),$=W.width,et=2*this.buffer,bt,At,Ft,Lt,Tt,ct,St,Ut;X&&this.useMetrics?(Tt=Math.floor(W.actualBoundingBoxAscent),Ut=this.buffer+Math.ceil(W.actualBoundingBoxAscent),ct=this.buffer,St=this.buffer,At=Math.min(this.size,Math.ceil(W.actualBoundingBoxRight-W.actualBoundingBoxLeft)),Lt=Math.min(this.size-ct,Math.ceil(W.actualBoundingBoxAscent+W.actualBoundingBoxDescent)),bt=At+et,Ft=Lt+et,this.ctx.textBaseline="alphabetic"):(bt=At=this.size,Ft=Lt=this.size,Tt=19*this.fontSize/24,ct=St=0,Ut=this.middle,this.ctx.textBaseline="middle");var Dt;At&&Lt&&(this.ctx.clearRect(St,ct,At,Lt),this.ctx.fillText(U,this.buffer,Ut),Dt=this.ctx.getImageData(St,ct,At,Lt));var It=new Uint8ClampedArray(bt*Ft);return nt(Dt,bt,Ft,At,Lt,this.gridOuter,this.gridInner),Bt(this.gridOuter,bt,Ft,this.f,this.v,this.z),Bt(this.gridInner,bt,Ft,this.f,this.v,this.z),V(It,bt,Ft,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:It,metrics:{width:At,height:Lt,sdfWidth:bt,sdfHeight:Ft,top:Tt,left:0,advance:$}}},F.prototype.draw=function(U){return this._draw(U,!1).data},F.prototype.drawWithMetrics=function(U){return this._draw(U,!0)};function Bt(U,X,W,$,et,bt){for(var At=0;At<X;At++)K(U,At,X,W,$,et,bt);for(var Ft=0;Ft<W;Ft++)K(U,Ft*X,1,X,$,et,bt)}function K(U,X,W,$,et,bt,At){var Ft,Lt,Tt,ct;for(bt[0]=0,At[0]=-z,At[1]=z,Ft=0;Ft<$;Ft++)et[Ft]=U[X+Ft*W];for(Ft=1,Lt=0,Tt=0;Ft<$;Ft++){do ct=bt[Lt],Tt=(et[Ft]-et[ct]+Ft*Ft-ct*ct)/(Ft-ct)/2;while(Tt<=At[Lt]&&--Lt>-1);Lt++,bt[Lt]=Ft,At[Lt]=Tt,At[Lt+1]=z}for(Ft=0,Lt=0;Ft<$;Ft++){for(;At[Lt+1]<Ft;)Lt++;ct=bt[Lt],U[X+Ft*W]=et[ct]+(Ft-ct)*(Ft-ct)}}},15629:function(Ce,z,F){"use strict";F.r(z),F.d(z,{Function:function(){return dt},Interpreter:function(){return Kt},default:function(){return qt},evaluate:function(){return xt},vm:function(){return nt}});var nt={};F.r(nt),F.d(nt,{Script:function(){return Q},compileFunction:function(){return pt},createContext:function(){return ot},runInContext:function(){return P},runInNewContext:function(){return rt}});var V=F(53156);function Bt(Ot,Rt){Ot.prototype=Object.create(Rt.prototype),Ot.prototype.constructor=Ot,Ot.__proto__=Rt}function K(Ot){var Rt=typeof Map=="function"?new Map:void 0;return K=function(b){if(b===null||!W(b))return b;if(typeof b!="function")throw new TypeError("Super expression must either be null or a function");if(typeof Rt!="undefined"){if(Rt.has(b))return Rt.get(b);Rt.set(b,O)}function O(){return X(b,arguments,et(this).constructor)}return O.prototype=Object.create(b.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),$(O,b)},K(Ot)}function U(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ot){return!1}}function X(Ot,Rt,ut){return U()?X=Reflect.construct:X=function(O,I,j){var L=[null];L.push.apply(L,I);var R=Function.bind.apply(O,L),q=new R;return j&&$(q,j.prototype),q},X.apply(null,arguments)}function W(Ot){return Function.toString.call(Ot).indexOf("[native code]")!==-1}function $(Ot,Rt){return $=Object.setPrototypeOf||function(b,O){return b.__proto__=O,b},$(Ot,Rt)}function et(Ot){return et=Object.setPrototypeOf?Object.getPrototypeOf:function(ut){return ut.__proto__||Object.getPrototypeOf(ut)},et(Ot)}var bt=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(K(Error)),At=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(K(SyntaxError)),Ft=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(K(ReferenceError)),Lt=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(K(TypeError)),Tt=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(bt),ct=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(At),St=function(Ot){Bt(Rt,Ot);function Rt(){return Ot.apply(this,arguments)||this}return Rt}(Ft),Ut={UnknownError:[3001,"%0",Tt],ExecutionTimeOutError:[3002,"Script execution timed out after %0ms",Tt],NodeTypeSyntaxError:[1001,"Unknown node type: %0",St],BinaryOperatorSyntaxError:[1002,"Unknown binary operator: %0",St],LogicalOperatorSyntaxError:[1003,"Unknown logical operator: %0",St],UnaryOperatorSyntaxError:[1004,"Unknown unary operator: %0",St],UpdateOperatorSyntaxError:[1005,"Unknown update operator: %0",St],ObjectStructureSyntaxError:[1006,"Unknown object structure: %0",St],AssignmentExpressionSyntaxError:[1007,"Unknown assignment expression: %0",St],VariableTypeSyntaxError:[1008,"Unknown variable type: %0",St],ParamTypeSyntaxError:[1009,"Unknown param type: %0",St],AssignmentTypeSyntaxError:[1010,"Unknown assignment type: %0",St],FunctionUndefinedReferenceError:[2001,"%0 is not a function",Ft],VariableUndefinedReferenceError:[2002,"%0 is not defined",Ft],IsNotConstructor:[2003,"%0 is not a constructor",Lt]};function Dt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ot){return!1}}function It(Ot,Rt,ut){return Dt()?It=Reflect.construct:It=function(O,I,j){var L=[null];L.push.apply(L,I);var R=Function.bind.apply(O,L),q=new R;return j&&mt(q,j.prototype),q},It.apply(null,arguments)}function mt(Ot,Rt){return mt=Object.setPrototypeOf||function(b,O){return b.__proto__=O,b},mt(Ot,Rt)}var vt="0.0.3";function kt(Ot,Rt){Object.defineProperty(Ot,"name",{value:Rt,writable:!1,enumerable:!1,configurable:!0})}var Mt=Object.prototype.hasOwnProperty,gt=Symbol("Break"),$t=Symbol("Continue"),Ht=Symbol("DefaultCase"),S=Symbol("EmptyStatementReturn"),H=Symbol("WithScopeName"),B=Symbol("SuperScopeName"),tt=Symbol("RootScopeName"),k=Symbol("GlobalScopeName");function T(Ot){return typeof Ot=="function"}var _=function(){function Ot(ut){this.interpreter=ut}var Rt=Ot.prototype;return Rt.generator=function(){var b=this.interpreter;function O(){return this.getCurrentScope()}function I(){return this.getGlobalScope()}function j(){return this.getCurrentContext()}return{getOptions:b.getOptions.bind(b),getCurrentScope:O.bind(b),getGlobalScope:I.bind(b),getCurrentContext:j.bind(b),getExecStartTime:b.getExecStartTime.bind(b)}},Ot}();function w(Ot,Rt,ut){if(ut===void 0&&(ut=!0),!(Ot instanceof _))throw new Error("Illegal call");if(typeof Rt!="string")return Rt;if(Rt){var b=Ot.generator(),O=b.getOptions(),I={timeout:O.timeout,_initEnv:function(){ut||this.setCurrentContext(b.getCurrentContext()),this.execStartTime=b.getExecStartTime(),this.execEndTime=this.execStartTime}},j=ut?b.getGlobalScope():b.getCurrentScope(),L=new Kt(j,I);return L.evaluate(Rt)}}Object.defineProperty(w,"__IS_EVAL_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});function G(Ot){if(!(Ot instanceof _))throw new Error("Illegal call");for(var Rt=Ot.generator(),ut=arguments.length,b=new Array(ut>1?ut-1:0),O=1;O<ut;O++)b[O-1]=arguments[O];var I=b.pop(),j=new Kt(Rt.getGlobalScope(),Rt.getOptions()),L=`
		    (function anonymous(`+b.join(",")+`){
		        `+I+`
		    });
		    `;return j.evaluate(L)}Object.defineProperty(G,"__IS_FUNCTION_FUNC",{value:!0,writable:!1,enumerable:!1,configurable:!1});var it=function(Rt){this.value=Rt},_t=function(Rt){this.value=Rt},Yt=function(Rt){this.value=Rt},D=function(Rt,ut,b){ut===void 0&&(ut=null),this.name=b,this.parent=ut,this.data=Rt,this.labelStack=[]};function ht(){}function Et(Ot,Rt){return Ot===void 0&&(Ot=null),new D(Object.create(null),Ot,Rt)}function lt(Ot){return Object.create(Ot)}var jt={NaN:NaN,Infinity:1/0,undefined:void 0,Object,Array,String,Boolean,Number,Date,RegExp,Error,URIError,TypeError,RangeError,SyntaxError,ReferenceError,Float32Array,Float64Array,Uint32Array,Math,parseInt,parseFloat,isNaN,isFinite,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,escape,unescape,eval:w,Function:G};typeof JSON!="undefined"&&(jt.JSON=JSON),typeof Promise!="undefined"&&(jt.Promise=Promise),typeof Set!="undefined"&&(jt.Set=Set),typeof Map!="undefined"&&(jt.Map=Map),typeof Symbol!="undefined"&&(jt.Symbol=Symbol),typeof Proxy!="undefined"&&(jt.Proxy=Proxy),typeof WeakMap!="undefined"&&(jt.WeakMap=WeakMap),typeof WeakSet!="undefined"&&(jt.WeakSet=WeakSet),typeof Reflect!="undefined"&&(jt.Reflect=Reflect);var Kt=function(){function Ot(ut,b){ut===void 0&&(ut=Ot.global),b===void 0&&(b={}),this.sourceList=[],this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.isVarDeclMode=!1,this.lastExecNode=null,this.isRunning=!1,this.options={ecmaVersion:b.ecmaVersion||Ot.ecmaVersion,timeout:b.timeout||0,rootContext:b.rootContext,globalContextInFunction:b.globalContextInFunction===void 0?Ot.globalContextInFunction:b.globalContextInFunction,_initEnv:b._initEnv},this.context=ut||Object.create(null),this.callStack=[],this.initEnvironment(this.context)}var Rt=Ot.prototype;return Rt.initEnvironment=function(b){var O;if(b instanceof D)O=b;else{var I=null,j=this.createSuperScope(b);this.options.rootContext&&(I=new D(lt(this.options.rootContext),j,tt)),O=new D(b,I||j,k)}this.globalScope=O,this.currentScope=this.globalScope,this.globalContext=O.data,this.currentContext=O.data,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null),this.execStartTime=Date.now(),this.execEndTime=this.execStartTime;var L=this.options._initEnv;L&&L.call(this)},Rt.getExecStartTime=function(){return this.execStartTime},Rt.getExecutionTime=function(){return this.execEndTime-this.execStartTime},Rt.setExecTimeout=function(b){b===void 0&&(b=0),this.options.timeout=b},Rt.getOptions=function(){return this.options},Rt.getGlobalScope=function(){return this.globalScope},Rt.getCurrentScope=function(){return this.currentScope},Rt.getCurrentContext=function(){return this.currentContext},Rt.isInterruptThrow=function(b){return b instanceof Tt||b instanceof St||b instanceof ct},Rt.createSuperScope=function(b){var O=Object.assign({},jt),I=Object.keys(O);return I.forEach(function(j){j in b&&delete O[j]}),new D(O,null,B)},Rt.setCurrentContext=function(b){this.currentContext=b},Rt.setCurrentScope=function(b){this.currentScope=b},Rt.evaluate=function(b){b===void 0&&(b="");var O;if(b)return O=(0,V.Qc)(b,{ranges:!0,locations:!0,ecmaVersion:this.options.ecmaVersion||Ot.ecmaVersion}),this.evaluateNode(O,b)},Rt.appendCode=function(b){return this.evaluate(b)},Rt.evaluateNode=function(b,O){var I=this;O===void 0&&(O=""),this.value=void 0,this.source=O,this.sourceList.push(O),this.isRunning=!0,this.execStartTime=Date.now(),this.execEndTime=this.execStartTime,this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var j=this.getCurrentScope(),L=this.getCurrentContext(),R=j.labelStack.concat([]),q=this.callStack.concat([]),N=function(){I.setCurrentScope(j),I.setCurrentContext(L),j.labelStack=R,I.callStack=q};try{var yt=this.createClosure(b);this.addDeclarationsToScope(this.collectDeclVars,this.collectDeclFuncs,this.getCurrentScope()),yt()}catch(Nt){throw Nt}finally{N(),this.execEndTime=Date.now()}return this.isRunning=!1,this.getValue()},Rt.createErrorMessage=function(b,O,I){var j=b[1].replace("%0",String(O));return I!==null&&(j+=this.getNodePosition(I||this.lastExecNode)),j},Rt.createError=function(b,O){return new O(b)},Rt.createThrowError=function(b,O){return this.createError(b,O)},Rt.createInternalThrowError=function(b,O,I){return this.createError(this.createErrorMessage(b,O,I),b[2])},Rt.checkTimeout=function(){if(!this.isRunning)return!1;var b=this.options.timeout||0,O=Date.now();return O-this.execStartTime>b},Rt.getNodePosition=function(b){if(b){var O="";return b.loc?" ["+b.loc.start.line+":"+b.loc.start.column+"]"+O:""}return""},Rt.createClosure=function(b){var O=this,I;switch(b.type){case"BinaryExpression":I=this.binaryExpressionHandler(b);break;case"LogicalExpression":I=this.logicalExpressionHandler(b);break;case"UnaryExpression":I=this.unaryExpressionHandler(b);break;case"UpdateExpression":I=this.updateExpressionHandler(b);break;case"ObjectExpression":I=this.objectExpressionHandler(b);break;case"ArrayExpression":I=this.arrayExpressionHandler(b);break;case"CallExpression":I=this.callExpressionHandler(b);break;case"NewExpression":I=this.newExpressionHandler(b);break;case"MemberExpression":I=this.memberExpressionHandler(b);break;case"ThisExpression":I=this.thisExpressionHandler(b);break;case"SequenceExpression":I=this.sequenceExpressionHandler(b);break;case"Literal":I=this.literalHandler(b);break;case"Identifier":I=this.identifierHandler(b);break;case"AssignmentExpression":I=this.assignmentExpressionHandler(b);break;case"FunctionDeclaration":I=this.functionDeclarationHandler(b);break;case"VariableDeclaration":I=this.variableDeclarationHandler(b);break;case"BlockStatement":case"Program":I=this.programHandler(b);break;case"ExpressionStatement":I=this.expressionStatementHandler(b);break;case"EmptyStatement":I=this.emptyStatementHandler(b);break;case"ReturnStatement":I=this.returnStatementHandler(b);break;case"FunctionExpression":I=this.functionExpressionHandler(b);break;case"IfStatement":I=this.ifStatementHandler(b);break;case"ConditionalExpression":I=this.conditionalExpressionHandler(b);break;case"ForStatement":I=this.forStatementHandler(b);break;case"WhileStatement":I=this.whileStatementHandler(b);break;case"DoWhileStatement":I=this.doWhileStatementHandler(b);break;case"ForInStatement":I=this.forInStatementHandler(b);break;case"WithStatement":I=this.withStatementHandler(b);break;case"ThrowStatement":I=this.throwStatementHandler(b);break;case"TryStatement":I=this.tryStatementHandler(b);break;case"ContinueStatement":I=this.continueStatementHandler(b);break;case"BreakStatement":I=this.breakStatementHandler(b);break;case"SwitchStatement":I=this.switchStatementHandler(b);break;case"LabeledStatement":I=this.labeledStatementHandler(b);break;case"DebuggerStatement":I=this.debuggerStatementHandler(b);break;default:throw this.createInternalThrowError(Ut.NodeTypeSyntaxError,b.type,b)}return function(){var j=O.options.timeout;if(j&&j>0&&O.checkTimeout())throw O.createInternalThrowError(Ut.ExecutionTimeOutError,j,null);return O.lastExecNode=b,I.apply(void 0,arguments)}},Rt.binaryExpressionHandler=function(b){var O=this,I=this.createClosure(b.left),j=this.createClosure(b.right);return function(){var L=I(),R=j();switch(b.operator){case"==":return L==R;case"!=":return L!=R;case"===":return L===R;case"!==":return L!==R;case"<":return L<R;case"<=":return L<=R;case">":return L>R;case">=":return L>=R;case"<<":return L<<R;case">>":return L>>R;case">>>":return L>>>R;case"+":return L+R;case"-":return L-R;case"*":return L*R;case"**":return Math.pow(L,R);case"/":return L/R;case"%":return L%R;case"|":return L|R;case"^":return L^R;case"&":return L&R;case"in":return L in R;case"instanceof":return L instanceof R;default:throw O.createInternalThrowError(Ut.BinaryOperatorSyntaxError,b.operator,b)}}},Rt.logicalExpressionHandler=function(b){var O=this,I=this.createClosure(b.left),j=this.createClosure(b.right);return function(){switch(b.operator){case"||":return I()||j();case"&&":return I()&&j();default:throw O.createInternalThrowError(Ut.LogicalOperatorSyntaxError,b.operator,b)}}},Rt.unaryExpressionHandler=function(b){var O=this;switch(b.operator){case"delete":var I=this.createObjectGetter(b.argument),j=this.createNameGetter(b.argument);return function(){var N=I(),yt=j();return delete N[yt]};default:var L;if(b.operator==="typeof"&&b.argument.type==="Identifier"){var R=this.createObjectGetter(b.argument),q=this.createNameGetter(b.argument);L=function(){return R()[q()]}}else L=this.createClosure(b.argument);return function(){var N=L();switch(b.operator){case"-":return-N;case"+":return+N;case"!":return!N;case"~":return~N;case"void":return;case"typeof":return typeof N;default:throw O.createInternalThrowError(Ut.UnaryOperatorSyntaxError,b.operator,b)}}}},Rt.updateExpressionHandler=function(b){var O=this,I=this.createObjectGetter(b.argument),j=this.createNameGetter(b.argument);return function(){var L=I(),R=j();switch(O.assertVariable(L,R,b),b.operator){case"++":return b.prefix?++L[R]:L[R]++;case"--":return b.prefix?--L[R]:L[R]--;default:throw O.createInternalThrowError(Ut.UpdateOperatorSyntaxError,b.operator,b)}}},Rt.objectExpressionHandler=function(b){var O=this,I=[];function j(R){return R.type==="Identifier"?R.name:R.type==="Literal"?R.value:this.throwError(Ut.ObjectStructureSyntaxError,R.type,R)}var L=Object.create(null);return b.properties.forEach(function(R){var q=R.kind,N=j(R.key);(!L[N]||q==="init")&&(L[N]={}),L[N][q]=O.createClosure(R.value),I.push({key:N,property:R})}),function(){for(var R={},q=I.length,N=0;N<q;N++){var yt=I[N],Nt=yt.key,Vt=L[Nt],te=Vt.init?Vt.init():void 0,ee=Vt.get?Vt.get():function(){},ue=Vt.set?Vt.set():function(Ee){};if("set"in Vt||"get"in Vt){var se={configurable:!0,enumerable:!0,get:ee,set:ue};Object.defineProperty(R,Nt,se)}else{var fe=yt.property,Ae=fe.kind;fe.key.type==="Identifier"&&fe.value.type==="FunctionExpression"&&Ae==="init"&&!fe.value.id&&kt(te,fe.key.name),R[Nt]=te}}return R}},Rt.arrayExpressionHandler=function(b){var O=this,I=b.elements.map(function(j){return j&&O.createClosure(j)});return function(){for(var j=I.length,L=Array(j),R=0;R<j;R++){var q=I[R];q&&(L[R]=q())}return L}},Rt.safeObjectGet=function(b,O,I){return b[O]},Rt.createCallFunctionGetter=function(b){var O=this;switch(b.type){case"MemberExpression":var I=this.createClosure(b.object),j=this.createMemberKeyGetter(b),L=this.source;return function(){var q=I(),N=j(),yt=O.safeObjectGet(q,N,b);if(!yt||!T(yt)){var Nt=L.slice(b.start,b.end);throw O.createInternalThrowError(Ut.FunctionUndefinedReferenceError,Nt,b)}return yt.__IS_EVAL_FUNC?function(Vt){return yt(new _(O),Vt,!0)}:yt.__IS_FUNCTION_FUNC?function(){for(var Vt=arguments.length,te=new Array(Vt),ee=0;ee<Vt;ee++)te[ee]=arguments[ee];return yt.apply(void 0,[new _(O)].concat(te))}:yt.bind(q)};default:var R=this.createClosure(b);return function(){var q="";b.type==="Identifier"&&(q=b.name);var N=R();if(!N||!T(N))throw O.createInternalThrowError(Ut.FunctionUndefinedReferenceError,q,b);if(b.type==="Identifier"&&N.__IS_EVAL_FUNC&&q==="eval")return function(Vt){var te=O.getScopeFromName(q,O.getCurrentScope()),ee=te.name===B||te.name===k||te.name===tt;return N(new _(O),Vt,!ee)};if(N.__IS_EVAL_FUNC)return function(Vt){return N(new _(O),Vt,!0)};if(N.__IS_FUNCTION_FUNC)return function(){for(var Vt=arguments.length,te=new Array(Vt),ee=0;ee<Vt;ee++)te[ee]=arguments[ee];return N.apply(void 0,[new _(O)].concat(te))};var yt=O.options.globalContextInFunction;if(b.type==="Identifier"){var Nt=O.getIdentifierScope(b);Nt.name===H&&(yt=Nt.data)}return N.bind(yt)}}},Rt.callExpressionHandler=function(b){var O=this,I=this.createCallFunctionGetter(b.callee),j=b.arguments.map(function(L){return O.createClosure(L)});return function(){return I().apply(void 0,j.map(function(L){return L()}))}},Rt.functionExpressionHandler=function(b){var O=this,I=this,j=this.source,L=this.collectDeclVars,R=this.collectDeclFuncs;this.collectDeclVars=Object.create(null),this.collectDeclFuncs=Object.create(null);var q=b.id?b.id.name:"",N=b.params.length,yt=b.params.map(function(ee){return O.createParamNameGetter(ee)}),Nt=this.createClosure(b.body),Vt=this.collectDeclVars,te=this.collectDeclFuncs;return this.collectDeclVars=L,this.collectDeclFuncs=R,function(){var ee=I.getCurrentScope(),ue=function se(){for(var fe=arguments.length,Ae=new Array(fe),Ee=0;Ee<fe;Ee++)Ae[Ee]=arguments[Ee];I.callStack.push(""+q);var Ie=I.getCurrentScope(),ke=Et(ee,"FunctionScope("+q+")");I.setCurrentScope(ke),I.addDeclarationsToScope(Vt,te,ke),q&&(ke.data[q]=se),ke.data.arguments=arguments,yt.forEach(function($e,Ke){ke.data[$e()]=Ae[Ke]});var je=I.getCurrentContext();I.setCurrentContext(this);var Oe=Nt();if(I.setCurrentContext(je),I.setCurrentScope(Ie),I.callStack.pop(),Oe instanceof it)return Oe.value};return kt(ue,q),Object.defineProperty(ue,"length",{value:N,writable:!1,enumerable:!1,configurable:!0}),Object.defineProperty(ue,"toString",{value:function(){return j.slice(b.start,b.end)},writable:!0,configurable:!0,enumerable:!1}),Object.defineProperty(ue,"valueOf",{value:function(){return j.slice(b.start,b.end)},writable:!0,configurable:!0,enumerable:!1}),ue}},Rt.newExpressionHandler=function(b){var O=this,I=this.source,j=this.createClosure(b.callee),L=b.arguments.map(function(R){return O.createClosure(R)});return function(){var R=j();if(!T(R)||R.__IS_EVAL_FUNC){var q=b.callee,N=I.slice(q.start,q.end);throw O.createInternalThrowError(Ut.IsNotConstructor,N,b)}return R.__IS_FUNCTION_FUNC?R.apply(void 0,[new _(O)].concat(L.map(function(yt){return yt()}))):It(R,L.map(function(yt){return yt()}))}},Rt.memberExpressionHandler=function(b){var O=this.createClosure(b.object),I=this.createMemberKeyGetter(b);return function(){var j=O(),L=I();return j[L]}},Rt.thisExpressionHandler=function(b){var O=this;return function(){return O.getCurrentContext()}},Rt.sequenceExpressionHandler=function(b){var O=this,I=b.expressions.map(function(j){return O.createClosure(j)});return function(){for(var j,L=I.length,R=0;R<L;R++){var q=I[R];j=q()}return j}},Rt.literalHandler=function(b){return function(){return b.regex?new RegExp(b.regex.pattern,b.regex.flags):b.value}},Rt.identifierHandler=function(b){var O=this;return function(){var I=O.getCurrentScope(),j=O.getScopeDataFromName(b.name,I);return O.assertVariable(j,b.name,b),j[b.name]}},Rt.getIdentifierScope=function(b){var O=this.getCurrentScope(),I=this.getScopeFromName(b.name,O);return I},Rt.assignmentExpressionHandler=function(b){var O=this;b.left.type==="Identifier"&&b.right.type==="FunctionExpression"&&!b.right.id&&(b.right.id={type:"Identifier",name:b.left.name});var I=this.createObjectGetter(b.left),j=this.createNameGetter(b.left),L=this.createClosure(b.right);return function(){var R=I(),q=j(),N=L();switch(b.operator!=="="&&O.assertVariable(R,q,b),b.operator){case"=":return R[q]=N;case"+=":return R[q]+=N;case"-=":return R[q]-=N;case"*=":return R[q]*=N;case"**=":return R[q]=Math.pow(R[q],N);case"/=":return R[q]/=N;case"%=":return R[q]%=N;case"<<=":return R[q]<<=N;case">>=":return R[q]>>=N;case">>>=":return R[q]>>>=N;case"&=":return R[q]&=N;case"^=":return R[q]^=N;case"|=":return R[q]|=N;default:throw O.createInternalThrowError(Ut.AssignmentExpressionSyntaxError,b.type,b)}}},Rt.functionDeclarationHandler=function(b){if(b.id){var O=this.functionExpressionHandler(b);Object.defineProperty(O,"isFunctionDeclareClosure",{value:!0,writable:!1,configurable:!1,enumerable:!1}),this.funcDeclaration(b.id.name,O)}return function(){return S}},Rt.getVariableName=function(b){if(b.type==="Identifier")return b.name;throw this.createInternalThrowError(Ut.VariableTypeSyntaxError,b.type,b)},Rt.variableDeclarationHandler=function(b){for(var O=this,I,j=[],L=0;L<b.declarations.length;L++){var R=b.declarations[L];this.varDeclaration(this.getVariableName(R.id)),R.init&&j.push({type:"AssignmentExpression",operator:"=",left:R.id,right:R.init})}return j.length&&(I=this.createClosure({type:"BlockStatement",body:j})),function(){if(I){var q=O.isVarDeclMode;O.isVarDeclMode=!0,I(),O.isVarDeclMode=q}return S}},Rt.assertVariable=function(b,O,I){if(b===this.globalScope.data&&!(O in b))throw this.createInternalThrowError(Ut.VariableUndefinedReferenceError,O,I)},Rt.programHandler=function(b){var O=this,I=b.body.map(function(j){return O.createClosure(j)});return function(){for(var j=S,L=0;L<I.length;L++){var R=I[L],q=O.setValue(R());if(q!==S&&(j=q,j instanceof it||j instanceof _t||j instanceof Yt||j===gt||j===$t))break}return j}},Rt.expressionStatementHandler=function(b){return this.createClosure(b.expression)},Rt.emptyStatementHandler=function(b){return function(){return S}},Rt.returnStatementHandler=function(b){var O=b.argument?this.createClosure(b.argument):ht;return function(){return new it(O())}},Rt.ifStatementHandler=function(b){var O=this.createClosure(b.test),I=this.createClosure(b.consequent),j=b.alternate?this.createClosure(b.alternate):function(){return S};return function(){return O()?I():j()}},Rt.conditionalExpressionHandler=function(b){return this.ifStatementHandler(b)},Rt.forStatementHandler=function(b){var O=this,I=ht,j=b.test?this.createClosure(b.test):function(){return!0},L=ht,R=this.createClosure(b.body);return b.type==="ForStatement"&&(I=b.init?this.createClosure(b.init):I,L=b.update?this.createClosure(b.update):ht),function(q){var N,yt=S,Nt=b.type==="DoWhileStatement";for(q&&q.type==="LabeledStatement"&&(N=q.label.name),I();Nt||j();L()){Nt=!1;var Vt=O.setValue(R());if(!(Vt===S||Vt===$t)){if(Vt===gt)break;if(yt=Vt,yt instanceof Yt&&yt.value===N){yt=S;continue}if(yt instanceof it||yt instanceof _t||yt instanceof Yt)break}}return yt}},Rt.whileStatementHandler=function(b){return this.forStatementHandler(b)},Rt.doWhileStatementHandler=function(b){return this.forStatementHandler(b)},Rt.forInStatementHandler=function(b){var O=this,I=b.left,j=this.createClosure(b.right),L=this.createClosure(b.body);return b.left.type==="VariableDeclaration"&&(this.createClosure(b.left)(),I=b.left.declarations[0].id),function(R){var q,N=S,yt;R&&R.type==="LabeledStatement"&&(q=R.label.name);var Nt=j();for(yt in Nt){O.assignmentExpressionHandler({type:"AssignmentExpression",operator:"=",left:I,right:{type:"Literal",value:yt}})();var Vt=O.setValue(L());if(!(Vt===S||Vt===$t)){if(Vt===gt)break;if(N=Vt,N instanceof Yt&&N.value===q){N=S;continue}if(N instanceof it||N instanceof _t||N instanceof Yt)break}}return N}},Rt.withStatementHandler=function(b){var O=this,I=this.createClosure(b.object),j=this.createClosure(b.body);return function(){var L=I(),R=O.getCurrentScope(),q=new D(L,R,H);O.setCurrentScope(q);var N=O.setValue(j());return O.setCurrentScope(R),N}},Rt.throwStatementHandler=function(b){var O=this,I=this.createClosure(b.argument);return function(){throw O.setValue(void 0),I()}},Rt.tryStatementHandler=function(b){var O=this,I=this.createClosure(b.block),j=b.handler?this.catchClauseHandler(b.handler):null,L=b.finalizer?this.createClosure(b.finalizer):null;return function(){var R=O.getCurrentScope(),q=O.getCurrentContext(),N=R.labelStack.concat([]),yt=O.callStack.concat([]),Nt=S,Vt,te,ee=function(){O.setCurrentScope(R),O.setCurrentContext(q),R.labelStack=N,O.callStack=yt};try{Nt=O.setValue(I()),Nt instanceof it&&(Vt=Nt)}catch(ue){if(ee(),O.isInterruptThrow(ue))throw ue;if(j)try{Nt=O.setValue(j(ue)),Nt instanceof it&&(Vt=Nt)}catch(se){if(ee(),O.isInterruptThrow(se))throw se;te=se}}if(L)try{Nt=L(),Nt instanceof it&&(Vt=Nt)}catch(ue){if(ee(),O.isInterruptThrow(ue))throw ue;te=ue}if(te)throw te;return Vt||Nt}},Rt.catchClauseHandler=function(b){var O=this,I=this.createParamNameGetter(b.param),j=this.createClosure(b.body);return function(L){var R,q=O.getCurrentScope(),N=q.data,yt=I(),Nt=Mt.call(N,yt),Vt=N[yt];return N[yt]=L,R=j(),Nt?N[yt]=Vt:delete N[yt],R}},Rt.continueStatementHandler=function(b){return function(){return b.label?new Yt(b.label.name):$t}},Rt.breakStatementHandler=function(b){return function(){return b.label?new _t(b.label.name):gt}},Rt.switchStatementHandler=function(b){var O=this,I=this.createClosure(b.discriminant),j=b.cases.map(function(L){return O.switchCaseHandler(L)});return function(){for(var L=I(),R=!1,q,N,yt,Nt=0;Nt<j.length;Nt++){var Vt=j[Nt](),te=Vt.testClosure();if(te===Ht){yt=Vt;continue}if(R||te===L){if(R=!0,N=O.setValue(Vt.bodyClosure()),N===S)continue;if(N===gt||(q=N,q instanceof it||q instanceof _t||q instanceof Yt||q===$t))break}}if(!R&&yt){N=O.setValue(yt.bodyClosure());var ee=N===S||N===gt||N===$t;ee||(q=N)}return q}},Rt.switchCaseHandler=function(b){var O=b.test?this.createClosure(b.test):function(){return Ht},I=this.createClosure({type:"BlockStatement",body:b.consequent});return function(){return{testClosure:O,bodyClosure:I}}},Rt.labeledStatementHandler=function(b){var O=this,I=b.label.name,j=this.createClosure(b.body);return function(){var L,R=O.getCurrentScope();return R.labelStack.push(I),L=j(b),L instanceof _t&&L.value===I&&(L=S),R.labelStack.pop(),L}},Rt.debuggerStatementHandler=function(b){return function(){debugger;return S}},Rt.createParamNameGetter=function(b){if(b.type==="Identifier")return function(){return b.name};throw this.createInternalThrowError(Ut.ParamTypeSyntaxError,b.type,b)},Rt.createObjectKeyGetter=function(b){var O;return b.type==="Identifier"?O=function(){return b.name}:O=this.createClosure(b),function(){return O()}},Rt.createMemberKeyGetter=function(b){return b.computed?this.createClosure(b.property):this.createObjectKeyGetter(b.property)},Rt.createObjectGetter=function(b){var O=this;switch(b.type){case"Identifier":return function(){return O.getScopeDataFromName(b.name,O.getCurrentScope())};case"MemberExpression":return this.createClosure(b.object);default:throw this.createInternalThrowError(Ut.AssignmentTypeSyntaxError,b.type,b)}},Rt.createNameGetter=function(b){switch(b.type){case"Identifier":return function(){return b.name};case"MemberExpression":return this.createMemberKeyGetter(b);default:throw this.createInternalThrowError(Ut.AssignmentTypeSyntaxError,b.type,b)}},Rt.varDeclaration=function(b){var O=this.collectDeclVars;O[b]=void 0},Rt.funcDeclaration=function(b,O){var I=this.collectDeclFuncs;I[b]=O},Rt.addDeclarationsToScope=function(b,O,I){var j=I.data;for(var L in O){var R=O[L];j[L]=R&&R()}for(var q in b)q in j||(j[q]=void 0)},Rt.getScopeValue=function(b,O){var I=this.getScopeFromName(b,O);return I.data[b]},Rt.getScopeDataFromName=function(b,O){return this.getScopeFromName(b,O).data},Rt.getScopeFromName=function(b,O){var I=O;do if(b in I.data)return I;while(I=I.parent);return this.globalScope},Rt.setValue=function(b){var O=this.callStack.length;return this.isVarDeclMode||O||b===S||b===gt||b===$t||b instanceof _t||b instanceof Yt||(this.value=b instanceof it?b.value:b),b},Rt.getValue=function(){return this.value},Ot}();Kt.version=vt,Kt.eval=w,Kt.Function=G,Kt.ecmaVersion=5,Kt.globalContextInFunction=void 0,Kt.global=Object.create(null);function ot(Ot){return Ot===void 0&&(Ot=Object.create(null)),Ot}function pt(Ot,Rt,ut){Rt===void 0&&(Rt=[]),ut===void 0&&(ut={});var b=ut.parsingContext,O=ut.timeout===void 0?0:ut.timeout,I=`
    (function anonymous(`+Rt.join(",")+`){
         `+Ot+`
    });
    `,j=new Kt(b,{ecmaVersion:ut.ecmaVersion,timeout:O,rootContext:ut.rootContext,globalContextInFunction:ut.globalContextInFunction});return j.evaluate(I)}function P(Ot,Rt,ut){var b=new Kt(Rt,ut);return b.evaluate(Ot)}var rt=P,Q=function(){function Ot(ut){this._code=ut}var Rt=Ot.prototype;return Rt.runInContext=function(b){return P(this._code,b)},Rt.runInNewContext=function(b){return P(this._code,b)},Ot}(),xt=function(Ot,Rt,ut){return P(Ot,Rt,ut)};function dt(){for(var Ot=arguments.length,Rt=new Array(Ot),ut=0;ut<Ot;ut++)Rt[ut]=arguments[ut];var b=Rt.pop();return pt(b||"",Rt)}var qt=xt},86105:function(Ce,z,F){var nt;(function(V,Bt,K,U){"use strict";var X=typeof my!="undefined"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,W=typeof wx!="undefined"&&wx!==null&&(typeof wx.request!="undefined"||typeof wx.miniProgram!="undefined"),$=X||W,et=["","webkit","Moz","MS","ms","o"],bt=$?"":Bt.createElement("div"),At="function",Ft=Math.round,Lt=Math.abs,Tt=Date.now;function ct(wt,Gt,re){return setTimeout(Mt(wt,re),Gt)}function St(wt,Gt,re){return Array.isArray(wt)?(Ut(wt,re[Gt],re),!0):!1}function Ut(wt,Gt,re){var Se;if(wt)if(wt.forEach)wt.forEach(Gt,re);else if(wt.length!==U)for(Se=0;Se<wt.length;)Gt.call(re,wt[Se],Se,wt),Se++;else for(Se in wt)wt.hasOwnProperty(Se)&&Gt.call(re,wt[Se],Se,wt)}function Dt(wt,Gt,re){var Se="DEPRECATED METHOD: "+Gt+`
`+re+` AT 
`;return function(){var Ne=new Error("get-stack-trace"),Qe=Ne&&Ne.stack?Ne.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Sr=V.console&&(V.console.warn||V.console.log);return Sr&&Sr.call(V.console,Se,Qe),wt.apply(this,arguments)}}var It;typeof Object.assign!="function"?It=function(Gt){if(Gt===U||Gt===null)throw new TypeError("Cannot convert undefined or null to object");for(var re=Object(Gt),Se=1;Se<arguments.length;Se++){var Ne=arguments[Se];if(Ne!==U&&Ne!==null)for(var Qe in Ne)Ne.hasOwnProperty(Qe)&&(re[Qe]=Ne[Qe])}return re}:It=Object.assign;var mt=Dt(function(Gt,re,Se){for(var Ne=Object.keys(re),Qe=0;Qe<Ne.length;)(!Se||Se&&Gt[Ne[Qe]]===U)&&(Gt[Ne[Qe]]=re[Ne[Qe]]),Qe++;return Gt},"extend","Use `assign`."),vt=Dt(function(Gt,re){return mt(Gt,re,!0)},"merge","Use `assign`.");function kt(wt,Gt,re){var Se=Gt.prototype,Ne;Ne=wt.prototype=Object.create(Se),Ne.constructor=wt,Ne._super=Se,re&&It(Ne,re)}function Mt(wt,Gt){return function(){return wt.apply(Gt,arguments)}}function gt(wt,Gt){return typeof wt==At?wt.apply(Gt&&Gt[0]||U,Gt):wt}function $t(wt,Gt){return wt===U?Gt:wt}function Ht(wt,Gt,re){Ut(tt(Gt),function(Se){wt.addEventListener(Se,re,!1)})}function S(wt,Gt,re){Ut(tt(Gt),function(Se){wt.removeEventListener(Se,re,!1)})}function H(wt,Gt){for(;wt;){if(wt==Gt)return!0;wt=wt.parentNode}return!1}function B(wt,Gt){return wt.indexOf(Gt)>-1}function tt(wt){return wt.trim().split(/\s+/g)}function k(wt,Gt,re){if(wt.indexOf&&!re)return wt.indexOf(Gt);for(var Se=0;Se<wt.length;){if(re&&wt[Se][re]==Gt||!re&&wt[Se]===Gt)return Se;Se++}return-1}function T(wt){return Array.prototype.slice.call(wt,0)}function _(wt,Gt,re){for(var Se=[],Ne=[],Qe=0;Qe<wt.length;){var Sr=Gt?wt[Qe][Gt]:wt[Qe];k(Ne,Sr)<0&&Se.push(wt[Qe]),Ne[Qe]=Sr,Qe++}return re&&(Gt?Se=Se.sort(function(rn,xn){return rn[Gt]>xn[Gt]}):Se=Se.sort()),Se}function w(wt,Gt){for(var re,Se,Ne=Gt[0].toUpperCase()+Gt.slice(1),Qe=0;Qe<et.length;){if(re=et[Qe],Se=re?re+Ne:Gt,Se in wt)return Se;Qe++}return U}var G=1;function it(){return G++}function _t(wt){var Gt=wt.ownerDocument||wt;return Gt.defaultView||Gt.parentWindow||V}var Yt=/mobile|tablet|ip(ad|hone|od)|android/i,D="ontouchstart"in V,ht=w(V,"PointerEvent")!==U,Et=D&&Yt.test(navigator.userAgent),lt="touch",jt="pen",Kt="mouse",ot="kinect",pt=25,P=1,rt=2,Q=4,xt=8,dt=1,qt=2,Ot=4,Rt=8,ut=16,b=qt|Ot,O=Rt|ut,I=b|O,j=["x","y"],L=["clientX","clientY"];function R(wt,Gt){var re=this;this.manager=wt,this.callback=Gt,this.element=wt.element,this.target=wt.options.inputTarget,this.domHandler=function(Se){gt(wt.options.enable,[wt])&&re.handler(Se)},this.init()}R.prototype={handler:function(){},init:function(){this.evEl&&Ht(this.element,this.evEl,this.domHandler),this.evTarget&&Ht(this.target,this.evTarget,this.domHandler),this.evWin&&Ht(_t(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(_t(this.element),this.evWin,this.domHandler)}};function q(wt){var Gt,re=wt.options.inputClass;return re?Gt=re:ht?Gt=cr:Et?Gt=bn:D?Gt=Pi:Gt=$e,new Gt(wt,N)}function N(wt,Gt,re){var Se=re.pointers.length,Ne=re.changedPointers.length,Qe=Gt&P&&Se-Ne===0,Sr=Gt&(Q|xt)&&Se-Ne===0;re.isFirst=!!Qe,re.isFinal=!!Sr,Qe&&(wt.session={}),re.eventType=Gt,yt(wt,re),wt.emit("hammer.input",re),wt.recognize(re),wt.session.prevInput=re}function yt(wt,Gt){var re=wt.session,Se=Gt.pointers,Ne=Se.length;re.firstInput||(re.firstInput=te(Gt)),Ne>1&&!re.firstMultiple?re.firstMultiple=te(Gt):Ne===1&&(re.firstMultiple=!1);var Qe=re.firstInput,Sr=re.firstMultiple,cn=Sr?Sr.center:Qe.center,rn=Gt.center=ee(Se);Gt.timeStamp=Tt(),Gt.deltaTime=Gt.timeStamp-Qe.timeStamp,Gt.angle=Ae(cn,rn),Gt.distance=fe(cn,rn),Nt(re,Gt),Gt.offsetDirection=se(Gt.deltaX,Gt.deltaY);var xn=ue(Gt.deltaTime,Gt.deltaX,Gt.deltaY);Gt.overallVelocityX=xn.x,Gt.overallVelocityY=xn.y,Gt.overallVelocity=Lt(xn.x)>Lt(xn.y)?xn.x:xn.y,Gt.scale=Sr?Ie(Sr.pointers,Se):1,Gt.rotation=Sr?Ee(Sr.pointers,Se):0,Gt.maxPointers=re.prevInput?Gt.pointers.length>re.prevInput.maxPointers?Gt.pointers.length:re.prevInput.maxPointers:Gt.pointers.length,Vt(re,Gt);var Yn=wt.element;H(Gt.srcEvent.target,Yn)&&(Yn=Gt.srcEvent.target),Gt.target=Yn}function Nt(wt,Gt){var re=Gt.center,Se=wt.offsetDelta||{},Ne=wt.prevDelta||{},Qe=wt.prevInput||{};(Gt.eventType===P||Qe.eventType===Q)&&(Ne=wt.prevDelta={x:Qe.deltaX||0,y:Qe.deltaY||0},Se=wt.offsetDelta={x:re.x,y:re.y}),Gt.deltaX=Ne.x+(re.x-Se.x),Gt.deltaY=Ne.y+(re.y-Se.y)}function Vt(wt,Gt){var re=wt.lastInterval||Gt,Se=Gt.timeStamp-re.timeStamp,Ne,Qe,Sr,cn;if(Gt.eventType!=xt&&(Se>pt||re.velocity===U)){var rn=Gt.deltaX-re.deltaX,xn=Gt.deltaY-re.deltaY,Yn=ue(Se,rn,xn);Qe=Yn.x,Sr=Yn.y,Ne=Lt(Yn.x)>Lt(Yn.y)?Yn.x:Yn.y,cn=se(rn,xn),wt.lastInterval=Gt}else Ne=re.velocity,Qe=re.velocityX,Sr=re.velocityY,cn=re.direction;Gt.velocity=Ne,Gt.velocityX=Qe,Gt.velocityY=Sr,Gt.direction=cn}function te(wt){for(var Gt=[],re=0;re<wt.pointers.length;)Gt[re]={clientX:Ft(wt.pointers[re].clientX),clientY:Ft(wt.pointers[re].clientY)},re++;return{timeStamp:Tt(),pointers:Gt,center:ee(Gt),deltaX:wt.deltaX,deltaY:wt.deltaY}}function ee(wt){var Gt=wt.length;if(Gt===1)return{x:Ft(wt[0].clientX),y:Ft(wt[0].clientY)};for(var re=0,Se=0,Ne=0;Ne<Gt;)re+=wt[Ne].clientX,Se+=wt[Ne].clientY,Ne++;return{x:Ft(re/Gt),y:Ft(Se/Gt)}}function ue(wt,Gt,re){return{x:Gt/wt||0,y:re/wt||0}}function se(wt,Gt){return wt===Gt?dt:Lt(wt)>=Lt(Gt)?wt<0?qt:Ot:Gt<0?Rt:ut}function fe(wt,Gt,re){re||(re=j);var Se=Gt[re[0]]-wt[re[0]],Ne=Gt[re[1]]-wt[re[1]];return Math.sqrt(Se*Se+Ne*Ne)}function Ae(wt,Gt,re){re||(re=j);var Se=Gt[re[0]]-wt[re[0]],Ne=Gt[re[1]]-wt[re[1]];return Math.atan2(Ne,Se)*180/Math.PI}function Ee(wt,Gt){return Ae(Gt[1],Gt[0],L)+Ae(wt[1],wt[0],L)}function Ie(wt,Gt){return fe(Gt[0],Gt[1],L)/fe(wt[0],wt[1],L)}var ke={mousedown:P,mousemove:rt,mouseup:Q},je="mousedown",Oe="mousemove mouseup";function $e(){this.evEl=je,this.evWin=Oe,this.pressed=!1,R.apply(this,arguments)}kt($e,R,{handler:function(Gt){var re=ke[Gt.type];re&P&&Gt.button===0&&(this.pressed=!0),re&rt&&Gt.which!==1&&(re=Q),this.pressed&&(re&Q&&(this.pressed=!1),this.callback(this.manager,re,{pointers:[Gt],changedPointers:[Gt],pointerType:Kt,srcEvent:Gt}))}});var Ke={pointerdown:P,pointermove:rt,pointerup:Q,pointercancel:xt,pointerout:xt},Ye={2:lt,3:jt,4:Kt,5:ot},er="pointerdown",sr="pointermove pointerup pointercancel";!$&&V.MSPointerEvent&&!V.PointerEvent&&(er="MSPointerDown",sr="MSPointerMove MSPointerUp MSPointerCancel");function cr(){this.evEl=er,this.evWin=sr,R.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}kt(cr,R,{handler:function(Gt){var re=this.store,Se=!1,Ne=Gt.type.toLowerCase().replace("ms",""),Qe=Ke[Ne],Sr=Ye[Gt.pointerType]||Gt.pointerType,cn=Sr==lt,rn=k(re,Gt.pointerId,"pointerId");Qe&P&&(Gt.button===0||cn)?rn<0&&(re.push(Gt),rn=re.length-1):Qe&(Q|xt)&&(Se=!0),!(rn<0)&&(re[rn]=Gt,this.callback(this.manager,Qe,{pointers:re,changedPointers:[Gt],pointerType:Sr,srcEvent:Gt}),Se&&re.splice(rn,1))}});var Lr={touchstart:P,touchmove:rt,touchend:Q,touchcancel:xt},en="touchstart",Yr="touchstart touchmove touchend touchcancel";function Nn(){this.evTarget=en,this.evWin=Yr,this.started=!1,R.apply(this,arguments)}kt(Nn,R,{handler:function(Gt){var re=Lr[Gt.type];if(re===P&&(this.started=!0),!!this.started){var Se=Li.call(this,Gt,re);re&(Q|xt)&&Se[0].length-Se[1].length===0&&(this.started=!1),this.callback(this.manager,re,{pointers:Se[0],changedPointers:Se[1],pointerType:lt,srcEvent:Gt})}}});function Li(wt,Gt){var re=T(wt.touches),Se=T(wt.changedTouches);return Gt&(Q|xt)&&(re=_(re.concat(Se),"identifier",!0)),[re,Se]}var Ii={touchstart:P,touchmove:rt,touchend:Q,touchcancel:xt},pa="touchstart touchmove touchend touchcancel";function bn(){this.evTarget=pa,this.targetIds={},R.apply(this,arguments)}kt(bn,R,{handler:function(Gt){var re=Ii[Gt.type],Se=jn.call(this,Gt,re);Se&&this.callback(this.manager,re,{pointers:Se[0],changedPointers:Se[1],pointerType:lt,srcEvent:Gt})}});function jn(wt,Gt){var re=T(wt.touches),Se=this.targetIds;if(Gt&(P|rt)&&re.length===1)return Se[re[0].identifier]=!0,[re,re];var Ne,Qe,Sr=T(wt.changedTouches),cn=[],rn=this.target;if(Qe=re.filter(function(xn){return H(xn.target,rn)}),Gt===P)for(Ne=0;Ne<Qe.length;)Se[Qe[Ne].identifier]=!0,Ne++;for(Ne=0;Ne<Sr.length;)Se[Sr[Ne].identifier]&&cn.push(Sr[Ne]),Gt&(Q|xt)&&delete Se[Sr[Ne].identifier],Ne++;if(cn.length)return[_(Qe.concat(cn),"identifier",!0),cn]}var An=2500,Zn=25;function Pi(){R.apply(this,arguments);var wt=Mt(this.handler,this);this.touch=new bn(this.manager,wt),this.mouse=new $e(this.manager,wt),this.primaryTouch=null,this.lastTouches=[]}kt(Pi,R,{handler:function(Gt,re,Se){var Ne=Se.pointerType==lt,Qe=Se.pointerType==Kt;if(!(Qe&&Se.sourceCapabilities&&Se.sourceCapabilities.firesTouchEvents)){if(Ne)vi.call(this,re,Se);else if(Qe&&ta.call(this,Se))return;this.callback(Gt,re,Se)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function vi(wt,Gt){wt&P?(this.primaryTouch=Gt.changedPointers[0].identifier,Na.call(this,Gt)):wt&(Q|xt)&&Na.call(this,Gt)}function Na(wt){var Gt=wt.changedPointers[0];if(Gt.identifier===this.primaryTouch){var re={x:Gt.clientX,y:Gt.clientY};this.lastTouches.push(re);var Se=this.lastTouches,Ne=function(){var Qe=Se.indexOf(re);Qe>-1&&Se.splice(Qe,1)};setTimeout(Ne,An)}}function ta(wt){for(var Gt=wt.srcEvent.clientX,re=wt.srcEvent.clientY,Se=0;Se<this.lastTouches.length;Se++){var Ne=this.lastTouches[Se],Qe=Math.abs(Gt-Ne.x),Sr=Math.abs(re-Ne.y);if(Qe<=Zn&&Sr<=Zn)return!0}return!1}var ho=$?U:w(bt.style,"touchAction"),da=ho!==U,vo="compute",ga="auto",Ri="manipulation",Di="none",Qn="pan-x",x="pan-y",d=Kr();function zr(wt,Gt){this.manager=wt,this.set(Gt)}zr.prototype={set:function(wt){wt==vo&&(wt=this.compute()),da&&this.manager.element.style&&d[wt]&&(this.manager.element.style[ho]=wt),this.actions=wt.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var wt=[];return Ut(this.manager.recognizers,function(Gt){gt(Gt.options.enable,[Gt])&&(wt=wt.concat(Gt.getTouchAction()))}),Pe(wt.join(" "))},preventDefaults:function(wt){var Gt=wt.srcEvent,re=wt.offsetDirection;if(this.manager.session.prevented){Gt.preventDefault();return}var Se=this.actions,Ne=B(Se,Di)&&!d[Di],Qe=B(Se,x)&&!d[x],Sr=B(Se,Qn)&&!d[Qn];if(Ne){var cn=wt.pointers.length===1,rn=wt.distance<2,xn=wt.deltaTime<250;if(cn&&rn&&xn)return}if(!(Sr&&Qe)&&(Ne||Qe&&re&b||Sr&&re&O))return this.preventSrc(Gt)},preventSrc:function(wt){this.manager.session.prevented=!0,wt.preventDefault()}};function Pe(wt){if(B(wt,Di))return Di;var Gt=B(wt,Qn),re=B(wt,x);return Gt&&re?Di:Gt||re?Gt?Qn:x:B(wt,Ri)?Ri:ga}function Kr(){if(!da)return!1;var wt={};if($)return wt;var Gt=V.CSS&&V.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(re){wt[re]=Gt?V.CSS.supports("touch-action",re):!0}),wt}var zn=1,rr=2,yn=4,$r=8,hn=$r,Xt=16,at=32;function Wt(wt){this.options=It({},this.defaults,wt||{}),this.id=it(),this.manager=null,this.options.enable=$t(this.options.enable,!0),this.state=zn,this.simultaneous={},this.requireFail=[]}Wt.prototype={defaults:{},set:function(wt){return It(this.options,wt),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(wt){if(St(wt,"recognizeWith",this))return this;var Gt=this.simultaneous;return wt=we(wt,this),Gt[wt.id]||(Gt[wt.id]=wt,wt.recognizeWith(this)),this},dropRecognizeWith:function(wt){return St(wt,"dropRecognizeWith",this)?this:(wt=we(wt,this),delete this.simultaneous[wt.id],this)},requireFailure:function(wt){if(St(wt,"requireFailure",this))return this;var Gt=this.requireFail;return wt=we(wt,this),k(Gt,wt)===-1&&(Gt.push(wt),wt.requireFailure(this)),this},dropRequireFailure:function(wt){if(St(wt,"dropRequireFailure",this))return this;wt=we(wt,this);var Gt=k(this.requireFail,wt);return Gt>-1&&this.requireFail.splice(Gt,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(wt){return!!this.simultaneous[wt.id]},emit:function(wt){var Gt=this,re=this.state;function Se(Ne){Gt.manager.emit(Ne,wt)}re<$r&&Se(Gt.options.event+ae(re)),Se(Gt.options.event),wt.additionalEvent&&Se(wt.additionalEvent),re>=$r&&Se(Gt.options.event+ae(re))},tryEmit:function(wt){if(this.canEmit())return this.emit(wt);this.state=at},canEmit:function(){for(var wt=0;wt<this.requireFail.length;){if(!(this.requireFail[wt].state&(at|zn)))return!1;wt++}return!0},recognize:function(wt){var Gt=It({},wt);if(!gt(this.options.enable,[this,Gt])){this.reset(),this.state=at;return}this.state&(hn|Xt|at)&&(this.state=zn),this.state=this.process(Gt),this.state&(rr|yn|$r|Xt)&&this.tryEmit(Gt)},process:function(wt){},getTouchAction:function(){},reset:function(){}};function ae(wt){return wt&Xt?"cancel":wt&$r?"end":wt&yn?"move":wt&rr?"start":""}function me(wt){return wt==ut?"down":wt==Rt?"up":wt==qt?"left":wt==Ot?"right":""}function we(wt,Gt){var re=Gt.manager;return re?re.get(wt):wt}function Be(){Wt.apply(this,arguments)}kt(Be,Wt,{defaults:{pointers:1},attrTest:function(wt){var Gt=this.options.pointers;return Gt===0||wt.pointers.length===Gt},process:function(wt){var Gt=this.state,re=wt.eventType,Se=Gt&(rr|yn),Ne=this.attrTest(wt);return Se&&(re&xt||!Ne)?Gt|Xt:Se||Ne?re&Q?Gt|$r:Gt&rr?Gt|yn:rr:at}});function Le(){Be.apply(this,arguments),this.pX=null,this.pY=null}kt(Le,Be,{defaults:{event:"pan",threshold:10,pointers:1,direction:I},getTouchAction:function(){var wt=this.options.direction,Gt=[];return wt&b&&Gt.push(x),wt&O&&Gt.push(Qn),Gt},directionTest:function(wt){var Gt=this.options,re=!0,Se=wt.distance,Ne=wt.direction,Qe=wt.deltaX,Sr=wt.deltaY;return Ne&Gt.direction||(Gt.direction&b?(Ne=Qe===0?dt:Qe<0?qt:Ot,re=Qe!=this.pX,Se=Math.abs(wt.deltaX)):(Ne=Sr===0?dt:Sr<0?Rt:ut,re=Sr!=this.pY,Se=Math.abs(wt.deltaY))),wt.direction=Ne,re&&Se>Gt.threshold&&Ne&Gt.direction},attrTest:function(wt){return Be.prototype.attrTest.call(this,wt)&&(this.state&rr||!(this.state&rr)&&this.directionTest(wt))},emit:function(wt){this.pX=wt.deltaX,this.pY=wt.deltaY;var Gt=me(wt.direction);Gt&&(wt.additionalEvent=this.options.event+Gt),this._super.emit.call(this,wt)}});function ir(){Be.apply(this,arguments)}kt(ir,Be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Di]},attrTest:function(wt){return this._super.attrTest.call(this,wt)&&(Math.abs(wt.scale-1)>this.options.threshold||this.state&rr)},emit:function(wt){if(wt.scale!==1){var Gt=wt.scale<1?"in":"out";wt.additionalEvent=this.options.event+Gt}this._super.emit.call(this,wt)}});function Or(){Wt.apply(this,arguments),this._timer=null,this._input=null}kt(Or,Wt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ga]},process:function(wt){var Gt=this.options,re=wt.pointers.length===Gt.pointers,Se=wt.distance<Gt.threshold,Ne=wt.deltaTime>Gt.time;if(this._input=wt,!Se||!re||wt.eventType&(Q|xt)&&!Ne)this.reset();else if(wt.eventType&P)this.reset(),this._timer=ct(function(){this.state=hn,this.tryEmit()},Gt.time,this);else if(wt.eventType&Q)return hn;return at},reset:function(){clearTimeout(this._timer)},emit:function(wt){this.state===hn&&(wt&&wt.eventType&Q?this.manager.emit(this.options.event+"up",wt):(this._input.timeStamp=Tt(),this.manager.emit(this.options.event,this._input)))}});function sn(){Be.apply(this,arguments)}kt(sn,Be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Di]},attrTest:function(wt){return this._super.attrTest.call(this,wt)&&(Math.abs(wt.rotation)>this.options.threshold||this.state&rr)}});function mn(){Be.apply(this,arguments)}kt(mn,Be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:b|O,pointers:1},getTouchAction:function(){return Le.prototype.getTouchAction.call(this)},attrTest:function(wt){var Gt=this.options.direction,re;return Gt&(b|O)?re=wt.overallVelocity:Gt&b?re=wt.overallVelocityX:Gt&O&&(re=wt.overallVelocityY),this._super.attrTest.call(this,wt)&&Gt&wt.offsetDirection&&wt.distance>this.options.threshold&&wt.maxPointers==this.options.pointers&&Lt(re)>this.options.velocity&&wt.eventType&Q},emit:function(wt){var Gt=me(wt.offsetDirection);Gt&&this.manager.emit(this.options.event+Gt,wt),this.manager.emit(this.options.event,wt)}});function Wn(){Wt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}kt(Wn,Wt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ri]},process:function(wt){var Gt=this.options,re=wt.pointers.length===Gt.pointers,Se=wt.distance<Gt.threshold,Ne=wt.deltaTime<Gt.time;if(this.reset(),wt.eventType&P&&this.count===0)return this.failTimeout();if(Se&&Ne&&re){if(wt.eventType!=Q)return this.failTimeout();var Qe=this.pTime?wt.timeStamp-this.pTime<Gt.interval:!0,Sr=!this.pCenter||fe(this.pCenter,wt.center)<Gt.posThreshold;this.pTime=wt.timeStamp,this.pCenter=wt.center,!Sr||!Qe?this.count=1:this.count+=1,this._input=wt;var cn=this.count%Gt.taps;if(cn===0)return this.hasRequireFailures()?(this._timer=ct(function(){this.state=hn,this.tryEmit()},Gt.interval,this),rr):hn}return at},failTimeout:function(){return this._timer=ct(function(){this.state=at},this.options.interval,this),at},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==hn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Qr(wt,Gt){return Gt=Gt||{},Gt.recognizers=$t(Gt.recognizers,Qr.defaults.preset),new Za(wt,Gt)}Qr.VERSION="2.0.7",Qr.defaults={domEvents:!1,touchAction:vo,enable:!0,inputTarget:null,inputClass:null,preset:[[sn,{enable:!1}],[ir,{enable:!1},["rotate"]],[mn,{direction:b}],[Le,{direction:b},["swipe"]],[Wn],[Wn,{event:"doubletap",taps:2},["tap"]],[Or]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var _r=1,Ko=2;function Za(wt,Gt){this.options=It({},Qr.defaults,Gt||{}),this.options.inputTarget=this.options.inputTarget||wt,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=wt,this.input=q(this),this.touchAction=new zr(this,this.options.touchAction),Q1(this,!0),Ut(this.options.recognizers,function(re){var Se=this.add(new re[0](re[1]));re[2]&&Se.recognizeWith(re[2]),re[3]&&Se.requireFailure(re[3])},this)}Za.prototype={set:function(wt){return It(this.options,wt),wt.touchAction&&this.touchAction.update(),wt.inputTarget&&(this.input.destroy(),this.input.target=wt.inputTarget,this.input.init()),this},stop:function(wt){this.session.stopped=wt?Ko:_r},recognize:function(wt){var Gt=this.session;if(!Gt.stopped){this.touchAction.preventDefaults(wt);var re,Se=this.recognizers,Ne=Gt.curRecognizer;(!Ne||Ne&&Ne.state&hn)&&(Ne=Gt.curRecognizer=null);for(var Qe=0;Qe<Se.length;)re=Se[Qe],Gt.stopped!==Ko&&(!Ne||re==Ne||re.canRecognizeWith(Ne))?re.recognize(wt):re.reset(),!Ne&&re.state&(rr|yn|$r)&&(Ne=Gt.curRecognizer=re),Qe++}},get:function(wt){if(wt instanceof Wt)return wt;for(var Gt=this.recognizers,re=0;re<Gt.length;re++)if(Gt[re].options.event==wt)return Gt[re];return null},add:function(wt){if(St(wt,"add",this))return this;var Gt=this.get(wt.options.event);return Gt&&this.remove(Gt),this.recognizers.push(wt),wt.manager=this,this.touchAction.update(),wt},remove:function(wt){if(St(wt,"remove",this))return this;if(wt=this.get(wt),wt){var Gt=this.recognizers,re=k(Gt,wt);re!==-1&&(Gt.splice(re,1),this.touchAction.update())}return this},on:function(wt,Gt){if(wt!==U&&Gt!==U){var re=this.handlers;return Ut(tt(wt),function(Se){re[Se]=re[Se]||[],re[Se].push(Gt)}),this}},off:function(wt,Gt){if(wt!==U){var re=this.handlers;return Ut(tt(wt),function(Se){Gt?re[Se]&&re[Se].splice(k(re[Se],Gt),1):delete re[Se]}),this}},emit:function(wt,Gt){this.options.domEvents&&hs(wt,Gt);var re=this.handlers[wt]&&this.handlers[wt].slice();if(!(!re||!re.length)){Gt.type=wt,Gt.preventDefault=function(){Gt.srcEvent.preventDefault()};for(var Se=0;Se<re.length;)re[Se](Gt),Se++}},destroy:function(){this.element&&Q1(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Q1(wt,Gt){var re=wt.element;if(re.style){var Se;Ut(wt.options.cssProps,function(Ne,Qe){Se=w(re.style,Qe),Gt?(wt.oldCssProps[Se]=re.style[Se],re.style[Se]=Ne):re.style[Se]=wt.oldCssProps[Se]||""}),Gt||(wt.oldCssProps={})}}function hs(wt,Gt){if(!$){var re=Bt.createEvent("Event");re.initEvent(wt,!0,!0),re.gesture=Gt,Gt.target.dispatchEvent(re)}}if(!$){It(Qr,{INPUT_START:P,INPUT_MOVE:rt,INPUT_END:Q,INPUT_CANCEL:xt,STATE_POSSIBLE:zn,STATE_BEGAN:rr,STATE_CHANGED:yn,STATE_ENDED:$r,STATE_RECOGNIZED:hn,STATE_CANCELLED:Xt,STATE_FAILED:at,DIRECTION_NONE:dt,DIRECTION_LEFT:qt,DIRECTION_RIGHT:Ot,DIRECTION_UP:Rt,DIRECTION_DOWN:ut,DIRECTION_HORIZONTAL:b,DIRECTION_VERTICAL:O,DIRECTION_ALL:I,Manager:Za,Input:R,TouchAction:zr,TouchInput:bn,MouseInput:$e,PointerEventInput:cr,TouchMouseInput:Pi,SingleTouchInput:Nn,Recognizer:Wt,AttrRecognizer:Be,Tap:Wn,Pan:Le,Swipe:mn,Pinch:ir,Rotate:sn,Press:Or,on:Ht,off:S,each:Ut,merge:vt,extend:mt,assign:It,inherit:kt,bindFn:Mt,prefixed:w});var ya=typeof window!="undefined"?window:typeof self!="undefined"?self:{};ya.Hammer=Qr,nt=function(){return Qr}.call(z,F,z,Ce),nt!==U&&(Ce.exports=nt)}})(typeof window!="undefined"?window:{console:null,MSPointerEvent:null,PointerEvent:null,CSS:null},document,"Hammer")},43548:function(Ce,z,F){"use strict";Ce.exports=V;var nt=F(11542);function V(B){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(B)?B:new Uint8Array(B||0),this.pos=0,this.type=0,this.length=this.buf.length}V.Varint=0,V.Fixed64=1,V.Bytes=2,V.Fixed32=5;var Bt=(1<<16)*(1<<16),K=1/Bt,U=12,X=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");V.prototype={destroy:function(){this.buf=null},readFields:function(B,tt,k){for(k=k||this.length;this.pos<k;){var T=this.readVarint(),_=T>>3,w=this.pos;this.type=T&7,B(_,tt,this),this.pos===w&&this.skip(T)}return tt},readMessage:function(B,tt){return this.readFields(B,tt,this.readVarint()+this.pos)},readFixed32:function(){var B=Mt(this.buf,this.pos);return this.pos+=4,B},readSFixed32:function(){var B=$t(this.buf,this.pos);return this.pos+=4,B},readFixed64:function(){var B=Mt(this.buf,this.pos)+Mt(this.buf,this.pos+4)*Bt;return this.pos+=8,B},readSFixed64:function(){var B=Mt(this.buf,this.pos)+$t(this.buf,this.pos+4)*Bt;return this.pos+=8,B},readFloat:function(){var B=nt.read(this.buf,this.pos,!0,23,4);return this.pos+=4,B},readDouble:function(){var B=nt.read(this.buf,this.pos,!0,52,8);return this.pos+=8,B},readVarint:function(B){var tt=this.buf,k,T;return T=tt[this.pos++],k=T&127,T<128||(T=tt[this.pos++],k|=(T&127)<<7,T<128)||(T=tt[this.pos++],k|=(T&127)<<14,T<128)||(T=tt[this.pos++],k|=(T&127)<<21,T<128)?k:(T=tt[this.pos],k|=(T&15)<<28,W(k,B,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var B=this.readVarint();return B%2===1?(B+1)/-2:B/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var B=this.readVarint()+this.pos,tt=this.pos;return this.pos=B,B-tt>=U&&X?S(this.buf,tt,B):Ht(this.buf,tt,B)},readBytes:function(){var B=this.readVarint()+this.pos,tt=this.buf.subarray(this.pos,B);return this.pos=B,tt},readPackedVarint:function(B,tt){if(this.type!==V.Bytes)return B.push(this.readVarint(tt));var k=$(this);for(B=B||[];this.pos<k;)B.push(this.readVarint(tt));return B},readPackedSVarint:function(B){if(this.type!==V.Bytes)return B.push(this.readSVarint());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readSVarint());return B},readPackedBoolean:function(B){if(this.type!==V.Bytes)return B.push(this.readBoolean());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readBoolean());return B},readPackedFloat:function(B){if(this.type!==V.Bytes)return B.push(this.readFloat());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readFloat());return B},readPackedDouble:function(B){if(this.type!==V.Bytes)return B.push(this.readDouble());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readDouble());return B},readPackedFixed32:function(B){if(this.type!==V.Bytes)return B.push(this.readFixed32());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readFixed32());return B},readPackedSFixed32:function(B){if(this.type!==V.Bytes)return B.push(this.readSFixed32());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readSFixed32());return B},readPackedFixed64:function(B){if(this.type!==V.Bytes)return B.push(this.readFixed64());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readFixed64());return B},readPackedSFixed64:function(B){if(this.type!==V.Bytes)return B.push(this.readSFixed64());var tt=$(this);for(B=B||[];this.pos<tt;)B.push(this.readSFixed64());return B},skip:function(B){var tt=B&7;if(tt===V.Varint)for(;this.buf[this.pos++]>127;);else if(tt===V.Bytes)this.pos=this.readVarint()+this.pos;else if(tt===V.Fixed32)this.pos+=4;else if(tt===V.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+tt)},writeTag:function(B,tt){this.writeVarint(B<<3|tt)},realloc:function(B){for(var tt=this.length||16;tt<this.pos+B;)tt*=2;if(tt!==this.length){var k=new Uint8Array(tt);k.set(this.buf),this.buf=k,this.length=tt}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(B){this.realloc(4),gt(this.buf,B,this.pos),this.pos+=4},writeSFixed32:function(B){this.realloc(4),gt(this.buf,B,this.pos),this.pos+=4},writeFixed64:function(B){this.realloc(8),gt(this.buf,B&-1,this.pos),gt(this.buf,Math.floor(B*K),this.pos+4),this.pos+=8},writeSFixed64:function(B){this.realloc(8),gt(this.buf,B&-1,this.pos),gt(this.buf,Math.floor(B*K),this.pos+4),this.pos+=8},writeVarint:function(B){if(B=+B||0,B>268435455||B<0){bt(B,this);return}this.realloc(4),this.buf[this.pos++]=B&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=(B>>>=7)&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=(B>>>=7)&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=B>>>7&127)))},writeSVarint:function(B){this.writeVarint(B<0?-B*2-1:B*2)},writeBoolean:function(B){this.writeVarint(Boolean(B))},writeString:function(B){B=String(B),this.realloc(B.length*4),this.pos++;var tt=this.pos;this.pos=H(this.buf,B,this.pos);var k=this.pos-tt;k>=128&&Lt(tt,k,this),this.pos=tt-1,this.writeVarint(k),this.pos+=k},writeFloat:function(B){this.realloc(4),nt.write(this.buf,B,this.pos,!0,23,4),this.pos+=4},writeDouble:function(B){this.realloc(8),nt.write(this.buf,B,this.pos,!0,52,8),this.pos+=8},writeBytes:function(B){var tt=B.length;this.writeVarint(tt),this.realloc(tt);for(var k=0;k<tt;k++)this.buf[this.pos++]=B[k]},writeRawMessage:function(B,tt){this.pos++;var k=this.pos;B(tt,this);var T=this.pos-k;T>=128&&Lt(k,T,this),this.pos=k-1,this.writeVarint(T),this.pos+=T},writeMessage:function(B,tt,k){this.writeTag(B,V.Bytes),this.writeRawMessage(tt,k)},writePackedVarint:function(B,tt){tt.length&&this.writeMessage(B,Tt,tt)},writePackedSVarint:function(B,tt){tt.length&&this.writeMessage(B,ct,tt)},writePackedBoolean:function(B,tt){tt.length&&this.writeMessage(B,Dt,tt)},writePackedFloat:function(B,tt){tt.length&&this.writeMessage(B,St,tt)},writePackedDouble:function(B,tt){tt.length&&this.writeMessage(B,Ut,tt)},writePackedFixed32:function(B,tt){tt.length&&this.writeMessage(B,It,tt)},writePackedSFixed32:function(B,tt){tt.length&&this.writeMessage(B,mt,tt)},writePackedFixed64:function(B,tt){tt.length&&this.writeMessage(B,vt,tt)},writePackedSFixed64:function(B,tt){tt.length&&this.writeMessage(B,kt,tt)},writeBytesField:function(B,tt){this.writeTag(B,V.Bytes),this.writeBytes(tt)},writeFixed32Field:function(B,tt){this.writeTag(B,V.Fixed32),this.writeFixed32(tt)},writeSFixed32Field:function(B,tt){this.writeTag(B,V.Fixed32),this.writeSFixed32(tt)},writeFixed64Field:function(B,tt){this.writeTag(B,V.Fixed64),this.writeFixed64(tt)},writeSFixed64Field:function(B,tt){this.writeTag(B,V.Fixed64),this.writeSFixed64(tt)},writeVarintField:function(B,tt){this.writeTag(B,V.Varint),this.writeVarint(tt)},writeSVarintField:function(B,tt){this.writeTag(B,V.Varint),this.writeSVarint(tt)},writeStringField:function(B,tt){this.writeTag(B,V.Bytes),this.writeString(tt)},writeFloatField:function(B,tt){this.writeTag(B,V.Fixed32),this.writeFloat(tt)},writeDoubleField:function(B,tt){this.writeTag(B,V.Fixed64),this.writeDouble(tt)},writeBooleanField:function(B,tt){this.writeVarintField(B,Boolean(tt))}};function W(B,tt,k){var T=k.buf,_,w;if(w=T[k.pos++],_=(w&112)>>4,w<128||(w=T[k.pos++],_|=(w&127)<<3,w<128)||(w=T[k.pos++],_|=(w&127)<<10,w<128)||(w=T[k.pos++],_|=(w&127)<<17,w<128)||(w=T[k.pos++],_|=(w&127)<<24,w<128)||(w=T[k.pos++],_|=(w&1)<<31,w<128))return et(B,_,tt);throw new Error("Expected varint not more than 10 bytes")}function $(B){return B.type===V.Bytes?B.readVarint()+B.pos:B.pos+1}function et(B,tt,k){return k?tt*4294967296+(B>>>0):(tt>>>0)*4294967296+(B>>>0)}function bt(B,tt){var k,T;if(B>=0?(k=B%4294967296|0,T=B/4294967296|0):(k=~(-B%4294967296),T=~(-B/4294967296),k^4294967295?k=k+1|0:(k=0,T=T+1|0)),B>=18446744073709552e3||B<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");tt.realloc(10),At(k,T,tt),Ft(T,tt)}function At(B,tt,k){k.buf[k.pos++]=B&127|128,B>>>=7,k.buf[k.pos++]=B&127|128,B>>>=7,k.buf[k.pos++]=B&127|128,B>>>=7,k.buf[k.pos++]=B&127|128,B>>>=7,k.buf[k.pos]=B&127}function Ft(B,tt){var k=(B&7)<<4;tt.buf[tt.pos++]|=k|((B>>>=3)?128:0),B&&(tt.buf[tt.pos++]=B&127|((B>>>=7)?128:0),B&&(tt.buf[tt.pos++]=B&127|((B>>>=7)?128:0),B&&(tt.buf[tt.pos++]=B&127|((B>>>=7)?128:0),B&&(tt.buf[tt.pos++]=B&127|((B>>>=7)?128:0),B&&(tt.buf[tt.pos++]=B&127)))))}function Lt(B,tt,k){var T=tt<=16383?1:tt<=2097151?2:tt<=268435455?3:Math.floor(Math.log(tt)/(Math.LN2*7));k.realloc(T);for(var _=k.pos-1;_>=B;_--)k.buf[_+T]=k.buf[_]}function Tt(B,tt){for(var k=0;k<B.length;k++)tt.writeVarint(B[k])}function ct(B,tt){for(var k=0;k<B.length;k++)tt.writeSVarint(B[k])}function St(B,tt){for(var k=0;k<B.length;k++)tt.writeFloat(B[k])}function Ut(B,tt){for(var k=0;k<B.length;k++)tt.writeDouble(B[k])}function Dt(B,tt){for(var k=0;k<B.length;k++)tt.writeBoolean(B[k])}function It(B,tt){for(var k=0;k<B.length;k++)tt.writeFixed32(B[k])}function mt(B,tt){for(var k=0;k<B.length;k++)tt.writeSFixed32(B[k])}function vt(B,tt){for(var k=0;k<B.length;k++)tt.writeFixed64(B[k])}function kt(B,tt){for(var k=0;k<B.length;k++)tt.writeSFixed64(B[k])}function Mt(B,tt){return(B[tt]|B[tt+1]<<8|B[tt+2]<<16)+B[tt+3]*16777216}function gt(B,tt,k){B[k]=tt,B[k+1]=tt>>>8,B[k+2]=tt>>>16,B[k+3]=tt>>>24}function $t(B,tt){return(B[tt]|B[tt+1]<<8|B[tt+2]<<16)+(B[tt+3]<<24)}function Ht(B,tt,k){for(var T="",_=tt;_<k;){var w=B[_],G=null,it=w>239?4:w>223?3:w>191?2:1;if(_+it>k)break;var _t,Yt,D;it===1?w<128&&(G=w):it===2?(_t=B[_+1],(_t&192)===128&&(G=(w&31)<<6|_t&63,G<=127&&(G=null))):it===3?(_t=B[_+1],Yt=B[_+2],(_t&192)===128&&(Yt&192)===128&&(G=(w&15)<<12|(_t&63)<<6|Yt&63,(G<=2047||G>=55296&&G<=57343)&&(G=null))):it===4&&(_t=B[_+1],Yt=B[_+2],D=B[_+3],(_t&192)===128&&(Yt&192)===128&&(D&192)===128&&(G=(w&15)<<18|(_t&63)<<12|(Yt&63)<<6|D&63,(G<=65535||G>=1114112)&&(G=null))),G===null?(G=65533,it=1):G>65535&&(G-=65536,T+=String.fromCharCode(G>>>10&1023|55296),G=56320|G&1023),T+=String.fromCharCode(G),_+=it}return T}function S(B,tt,k){return X.decode(B.subarray(tt,k))}function H(B,tt,k){for(var T=0,_,w;T<tt.length;T++){if(_=tt.charCodeAt(T),_>55295&&_<57344)if(w)if(_<56320){B[k++]=239,B[k++]=191,B[k++]=189,w=_;continue}else _=w-55296<<10|_-56320|65536,w=null;else{_>56319||T+1===tt.length?(B[k++]=239,B[k++]=191,B[k++]=189):w=_;continue}else w&&(B[k++]=239,B[k++]=191,B[k++]=189,w=null);_<128?B[k++]=_:(_<2048?B[k++]=_>>6|192:(_<65536?B[k++]=_>>12|224:(B[k++]=_>>18|240,B[k++]=_>>12&63|128),B[k++]=_>>6&63|128),B[k++]=_&63|128)}return k}},86319:function(Ce){"use strict";var z=Ce.exports;Ce.exports.isNumber=function(F){return typeof F=="number"},Ce.exports.findMin=function(F){if(F.length===0)return 1/0;for(var nt=F[0],V=1;V<F.length;V++)nt=Math.min(nt,F[V]);return nt},Ce.exports.findMax=function(F){if(F.length===0)return-1/0;for(var nt=F[0],V=1;V<F.length;V++)nt=Math.max(nt,F[V]);return nt},Ce.exports.findMinMulti=function(F){for(var nt=z.findMin(F[0]),V=1;V<F.length;V++)nt=Math.min(nt,z.findMin(F[V]));return nt},Ce.exports.findMaxMulti=function(F){for(var nt=z.findMax(F[0]),V=1;V<F.length;V++)nt=Math.max(nt,z.findMax(F[V]));return nt},Ce.exports.inside=function(F,nt,V){return F<=V&&V<=nt}},50517:function(Ce,z,F){"use strict";var nt=50,V=2,Bt=Math.log(2),K=Ce.exports,U=F(86319);function X($){return 1-Math.abs($)}Ce.exports.getUnifiedMinMax=function($,et){return K.getUnifiedMinMaxMulti([$],et)},Ce.exports.getUnifiedMinMaxMulti=function($,et){et=et||{};var bt=!1,At=!1,Ft=U.isNumber(et.width)?et.width:V,Lt=U.isNumber(et.size)?et.size:nt,Tt=U.isNumber(et.min)?et.min:(bt=!0,U.findMinMulti($)),ct=U.isNumber(et.max)?et.max:(At=!0,U.findMaxMulti($)),St=ct-Tt,Ut=St/(Lt-1);return bt&&(Tt=Tt-2*Ft*Ut),At&&(ct=ct+2*Ft*Ut),{min:Tt,max:ct}},Ce.exports.create=function($,et){if(et=et||{},!$||$.length===0)return[];var bt=U.isNumber(et.size)?et.size:nt,At=U.isNumber(et.width)?et.width:V,Ft=K.getUnifiedMinMax($,{size:bt,width:At,min:et.min,max:et.max}),Lt=Ft.min,Tt=Ft.max,ct=Tt-Lt,St=ct/(bt-1);if(ct===0)return[{x:Lt,y:1}];for(var Ut=[],Dt=0;Dt<bt;Dt++)Ut.push({x:Lt+Dt*St,y:0});var It=function(S){return Math.floor((S-Lt)/St)},mt=W(X,At),vt=mt[At],kt=mt[At-1]-mt[At-2],Mt=0;$.forEach(function(S){var H=It(S);if(!(H+At<0||H-At>=Ut.length)){var B=Math.max(H-At,0),tt=H,k=Math.min(H+At,Ut.length-1),T=B-(H-At),_=H+At-k,w=mt[-At-1+T]||0,G=mt[-At-1+_]||0,it=vt/(vt-w-G);T>0&&(Mt+=it*(T-1)*kt);var _t=Math.max(0,H-At+1);U.inside(0,Ut.length-1,_t)&&(Ut[_t].y+=it*1*kt),U.inside(0,Ut.length-1,tt+1)&&(Ut[tt+1].y-=it*2*kt),U.inside(0,Ut.length-1,k+1)&&(Ut[k+1].y+=it*1*kt)}});var gt=Mt,$t=0,Ht=0;return Ut.forEach(function(S){$t+=S.y,gt+=$t,S.y=gt,Ht+=gt}),Ht>0&&Ut.forEach(function(S){S.y/=Ht}),Ut};function W($,et){for(var bt={},At=0,Ft=-et;Ft<=et;Ft++)At+=$(Ft/et),bt[Ft]=At;return bt}Ce.exports.getExpectedValueFromPdf=function($){if(!(!$||$.length===0)){var et=0;return $.forEach(function(bt){et+=bt.x*bt.y}),et}},Ce.exports.getXWithLeftTailArea=function($,et){if(!(!$||$.length===0)){for(var bt=0,At=0,Ft=0;Ft<$.length&&(At=Ft,bt+=$[Ft].y,!(bt>=et));Ft++);return $[At].x}},Ce.exports.getPerplexity=function($){if(!(!$||$.length===0)){var et=0;return $.forEach(function(bt){var At=Math.log(bt.y);isFinite(At)&&(et+=bt.y*At)}),et=-et/Bt,Math.pow(2,et)}}},37824:function(Ce,z,F){var nt=F(93738);(function(V,Bt){Ce.exports=Bt()})(this,function(){"use strict";function V(ut,b){if(!(ut instanceof b))throw new TypeError("Cannot call a class as a function")}function Bt(ut,b){for(var O=0;O<b.length;O++){var I=b[O];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(ut,I.key,I)}}function K(ut,b,O){return b&&Bt(ut.prototype,b),O&&Bt(ut,O),ut}var U=function(){function ut(b,O){this.next=null,this.key=b,this.data=O,this.left=null,this.right=null}return ut}();function X(ut,b){return ut>b?1:ut<b?-1:0}function W(ut,b,O){for(var I=new U(null,null),j=I,L=I;;){var R=O(ut,b.key);if(R<0){if(b.left===null)break;if(O(ut,b.left.key)<0){var q=b.left;if(b.left=q.right,q.right=b,b=q,b.left===null)break}L.left=b,L=b,b=b.left}else if(R>0){if(b.right===null)break;if(O(ut,b.right.key)>0){var q=b.right;if(b.right=q.left,q.left=b,b=q,b.right===null)break}j.right=b,j=b,b=b.right}else break}return j.right=b.left,L.left=b.right,b.left=I.right,b.right=I.left,b}function $(ut,b,O,I){var j=new U(ut,b);if(O===null)return j.left=j.right=null,j;O=W(ut,O,I);var L=I(ut,O.key);return L<0?(j.left=O.left,j.right=O,O.left=null):L>=0&&(j.right=O.right,j.left=O,O.right=null),j}function et(ut,b,O){var I=null,j=null;if(b){b=W(ut,b,O);var L=O(b.key,ut);L===0?(I=b.left,j=b.right):L<0?(j=b.right,b.right=null,I=b):(I=b.left,b.left=null,j=b)}return{left:I,right:j}}function bt(ut,b,O){return b===null?ut:(ut===null||(b=W(ut.key,b,O),b.left=ut),b)}function At(ut,b,O,I,j){if(ut){I(""+b+(O?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+j(ut)+`
`);var L=b+(O?"    ":"\u2502   ");ut.left&&At(ut.left,L,!1,I,j),ut.right&&At(ut.right,L,!0,I,j)}}var Ft=function(){function ut(b){b===void 0&&(b=X),this._root=null,this._size=0,this._comparator=b}return ut.prototype.insert=function(b,O){return this._size++,this._root=$(b,O,this._root,this._comparator)},ut.prototype.add=function(b,O){var I=new U(b,O);this._root===null&&(I.left=I.right=null,this._size++,this._root=I);var j=this._comparator,L=W(b,this._root,j),R=j(b,L.key);return R===0?this._root=L:(R<0?(I.left=L.left,I.right=L,L.left=null):R>0&&(I.right=L.right,I.left=L,L.right=null),this._size++,this._root=I),this._root},ut.prototype.remove=function(b){this._root=this._remove(b,this._root,this._comparator)},ut.prototype._remove=function(b,O,I){var j;if(O===null)return null;O=W(b,O,I);var L=I(b,O.key);return L===0?(O.left===null?j=O.right:(j=W(b,O.left,I),j.right=O.right),this._size--,j):O},ut.prototype.pop=function(){var b=this._root;if(b){for(;b.left;)b=b.left;return this._root=W(b.key,this._root,this._comparator),this._root=this._remove(b.key,this._root,this._comparator),{key:b.key,data:b.data}}return null},ut.prototype.findStatic=function(b){for(var O=this._root,I=this._comparator;O;){var j=I(b,O.key);if(j===0)return O;j<0?O=O.left:O=O.right}return null},ut.prototype.find=function(b){return this._root&&(this._root=W(b,this._root,this._comparator),this._comparator(b,this._root.key)!==0)?null:this._root},ut.prototype.contains=function(b){for(var O=this._root,I=this._comparator;O;){var j=I(b,O.key);if(j===0)return!0;j<0?O=O.left:O=O.right}return!1},ut.prototype.forEach=function(b,O){for(var I=this._root,j=[],L=!1;!L;)I!==null?(j.push(I),I=I.left):j.length!==0?(I=j.pop(),b.call(O,I),I=I.right):L=!0;return this},ut.prototype.range=function(b,O,I,j){for(var L=[],R=this._comparator,q=this._root,N;L.length!==0||q;)if(q)L.push(q),q=q.left;else{if(q=L.pop(),N=R(q.key,O),N>0)break;if(R(q.key,b)>=0&&I.call(j,q))return this;q=q.right}return this},ut.prototype.keys=function(){var b=[];return this.forEach(function(O){var I=O.key;return b.push(I)}),b},ut.prototype.values=function(){var b=[];return this.forEach(function(O){var I=O.data;return b.push(I)}),b},ut.prototype.min=function(){return this._root?this.minNode(this._root).key:null},ut.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},ut.prototype.minNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.left;)b=b.left;return b},ut.prototype.maxNode=function(b){if(b===void 0&&(b=this._root),b)for(;b.right;)b=b.right;return b},ut.prototype.at=function(b){for(var O=this._root,I=!1,j=0,L=[];!I;)if(O)L.push(O),O=O.left;else if(L.length>0){if(O=L.pop(),j===b)return O;j++,O=O.right}else I=!0;return null},ut.prototype.next=function(b){var O=this._root,I=null;if(b.right){for(I=b.right;I.left;)I=I.left;return I}for(var j=this._comparator;O;){var L=j(b.key,O.key);if(L===0)break;L<0?(I=O,O=O.left):O=O.right}return I},ut.prototype.prev=function(b){var O=this._root,I=null;if(b.left!==null){for(I=b.left;I.right;)I=I.right;return I}for(var j=this._comparator;O;){var L=j(b.key,O.key);if(L===0)break;L<0?O=O.left:(I=O,O=O.right)}return I},ut.prototype.clear=function(){return this._root=null,this._size=0,this},ut.prototype.toList=function(){return ct(this._root)},ut.prototype.load=function(b,O,I){O===void 0&&(O=[]),I===void 0&&(I=!1);var j=b.length,L=this._comparator;if(I&&Dt(b,O,0,j-1,L),this._root===null)this._root=Lt(b,O,0,j),this._size=j;else{var R=Ut(this.toList(),Tt(b,O),L);j=this._size+j,this._root=St({head:R},0,j)}return this},ut.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(ut.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(ut.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),ut.prototype.toString=function(b){b===void 0&&(b=function(j){return String(j.key)});var O=[];return At(this._root,"",!0,function(I){return O.push(I)},b),O.join("")},ut.prototype.update=function(b,O,I){var j=this._comparator,L=et(b,this._root,j),R=L.left,q=L.right;j(b,O)<0?q=$(O,I,q,j):R=$(O,I,R,j),this._root=bt(R,q,j)},ut.prototype.split=function(b){return et(b,this._root,this._comparator)},ut}();function Lt(ut,b,O,I){var j=I-O;if(j>0){var L=O+Math.floor(j/2),R=ut[L],q=b[L],N=new U(R,q);return N.left=Lt(ut,b,O,L),N.right=Lt(ut,b,L+1,I),N}return null}function Tt(ut,b){for(var O=new U(null,null),I=O,j=0;j<ut.length;j++)I=I.next=new U(ut[j],b[j]);return I.next=null,O.next}function ct(ut){for(var b=ut,O=[],I=!1,j=new U(null,null),L=j;!I;)b?(O.push(b),b=b.left):O.length>0?(b=L=L.next=O.pop(),b=b.right):I=!0;return L.next=null,j.next}function St(ut,b,O){var I=O-b;if(I>0){var j=b+Math.floor(I/2),L=St(ut,b,j),R=ut.head;return R.left=L,ut.head=ut.head.next,R.right=St(ut,j+1,O),R}return null}function Ut(ut,b,O){for(var I=new U(null,null),j=I,L=ut,R=b;L!==null&&R!==null;)O(L.key,R.key)<0?(j.next=L,L=L.next):(j.next=R,R=R.next),j=j.next;return L!==null?j.next=L:R!==null&&(j.next=R),I.next}function Dt(ut,b,O,I,j){if(!(O>=I)){for(var L=ut[O+I>>1],R=O-1,q=I+1;;){do R++;while(j(ut[R],L)<0);do q--;while(j(ut[q],L)>0);if(R>=q)break;var N=ut[R];ut[R]=ut[q],ut[q]=N,N=b[R],b[R]=b[q],b[q]=N}Dt(ut,b,O,q,j),Dt(ut,b,q+1,I,j)}}var It=function(b,O){return b.ll.x<=O.x&&O.x<=b.ur.x&&b.ll.y<=O.y&&O.y<=b.ur.y},mt=function(b,O){if(O.ur.x<b.ll.x||b.ur.x<O.ll.x||O.ur.y<b.ll.y||b.ur.y<O.ll.y)return null;var I=b.ll.x<O.ll.x?O.ll.x:b.ll.x,j=b.ur.x<O.ur.x?b.ur.x:O.ur.x,L=b.ll.y<O.ll.y?O.ll.y:b.ll.y,R=b.ur.y<O.ur.y?b.ur.y:O.ur.y;return{ll:{x:I,y:L},ur:{x:j,y:R}}},vt=Number.EPSILON;vt===void 0&&(vt=Math.pow(2,-52));var kt=vt*vt,Mt=function(b,O){if(-vt<b&&b<vt&&-vt<O&&O<vt)return 0;var I=b-O;return I*I<kt*b*O?0:b<O?-1:1},gt=function(){function ut(){V(this,ut),this.reset()}return K(ut,[{key:"reset",value:function(){this.xRounder=new $t,this.yRounder=new $t}},{key:"round",value:function(O,I){return{x:this.xRounder.round(O),y:this.yRounder.round(I)}}}]),ut}(),$t=function(){function ut(){V(this,ut),this.tree=new Ft,this.round(0)}return K(ut,[{key:"round",value:function(O){var I=this.tree.add(O),j=this.tree.prev(I);if(j!==null&&Mt(I.key,j.key)===0)return this.tree.remove(O),j.key;var L=this.tree.next(I);return L!==null&&Mt(I.key,L.key)===0?(this.tree.remove(O),L.key):O}}]),ut}(),Ht=new gt,S=function(b,O){return b.x*O.y-b.y*O.x},H=function(b,O){return b.x*O.x+b.y*O.y},B=function(b,O,I){var j={x:O.x-b.x,y:O.y-b.y},L={x:I.x-b.x,y:I.y-b.y},R=S(j,L);return Mt(R,0)},tt=function(b){return Math.sqrt(H(b,b))},k=function(b,O,I){var j={x:O.x-b.x,y:O.y-b.y},L={x:I.x-b.x,y:I.y-b.y};return S(L,j)/tt(L)/tt(j)},T=function(b,O,I){var j={x:O.x-b.x,y:O.y-b.y},L={x:I.x-b.x,y:I.y-b.y};return H(L,j)/tt(L)/tt(j)},_=function(b,O,I){return O.y===0?null:{x:b.x+O.x/O.y*(I-b.y),y:I}},w=function(b,O,I){return O.x===0?null:{x:I,y:b.y+O.y/O.x*(I-b.x)}},G=function(b,O,I,j){if(O.x===0)return w(I,j,b.x);if(j.x===0)return w(b,O,I.x);if(O.y===0)return _(I,j,b.y);if(j.y===0)return _(b,O,I.y);var L=S(O,j);if(L==0)return null;var R={x:I.x-b.x,y:I.y-b.y},q=S(R,O)/L,N=S(R,j)/L,yt=b.x+N*O.x,Nt=I.x+q*j.x,Vt=b.y+N*O.y,te=I.y+q*j.y,ee=(yt+Nt)/2,ue=(Vt+te)/2;return{x:ee,y:ue}},it=function(){K(ut,null,[{key:"compare",value:function(O,I){var j=ut.comparePoints(O.point,I.point);return j!==0?j:(O.point!==I.point&&O.link(I),O.isLeft!==I.isLeft?O.isLeft?1:-1:Yt.compare(O.segment,I.segment))}},{key:"comparePoints",value:function(O,I){return O.x<I.x?-1:O.x>I.x?1:O.y<I.y?-1:O.y>I.y?1:0}}]);function ut(b,O){V(this,ut),b.events===void 0?b.events=[this]:b.events.push(this),this.point=b,this.isLeft=O}return K(ut,[{key:"link",value:function(O){if(O.point===this.point)throw new Error("Tried to link already linked events");for(var I=O.point.events,j=0,L=I.length;j<L;j++){var R=I[j];this.point.events.push(R),R.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var O=this.point.events.length,I=0;I<O;I++){var j=this.point.events[I];if(j.segment.consumedBy===void 0)for(var L=I+1;L<O;L++){var R=this.point.events[L];R.consumedBy===void 0&&j.otherSE.point.events===R.otherSE.point.events&&j.segment.consume(R.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var O=[],I=0,j=this.point.events.length;I<j;I++){var L=this.point.events[I];L!==this&&!L.segment.ringOut&&L.segment.isInResult()&&O.push(L)}return O}},{key:"getLeftmostComparator",value:function(O){var I=this,j=new Map,L=function(q){var N=q.otherSE;j.set(q,{sine:k(I.point,O.point,N.point),cosine:T(I.point,O.point,N.point)})};return function(R,q){j.has(R)||L(R),j.has(q)||L(q);var N=j.get(R),yt=N.sine,Nt=N.cosine,Vt=j.get(q),te=Vt.sine,ee=Vt.cosine;return yt>=0&&te>=0?Nt<ee?1:Nt>ee?-1:0:yt<0&&te<0?Nt<ee?-1:Nt>ee?1:0:te<yt?-1:te>yt?1:0}}}]),ut}(),_t=0,Yt=function(){K(ut,null,[{key:"compare",value:function(O,I){var j=O.leftSE.point.x,L=I.leftSE.point.x,R=O.rightSE.point.x,q=I.rightSE.point.x;if(q<j)return 1;if(R<L)return-1;var N=O.leftSE.point.y,yt=I.leftSE.point.y,Nt=O.rightSE.point.y,Vt=I.rightSE.point.y;if(j<L){if(yt<N&&yt<Nt)return 1;if(yt>N&&yt>Nt)return-1;var te=O.comparePoint(I.leftSE.point);if(te<0)return 1;if(te>0)return-1;var ee=I.comparePoint(O.rightSE.point);return ee!==0?ee:-1}if(j>L){if(N<yt&&N<Vt)return-1;if(N>yt&&N>Vt)return 1;var ue=I.comparePoint(O.leftSE.point);if(ue!==0)return ue;var se=O.comparePoint(I.rightSE.point);return se<0?1:se>0?-1:1}if(N<yt)return-1;if(N>yt)return 1;if(R<q){var fe=I.comparePoint(O.rightSE.point);if(fe!==0)return fe}if(R>q){var Ae=O.comparePoint(I.rightSE.point);if(Ae<0)return 1;if(Ae>0)return-1}if(R!==q){var Ee=Nt-N,Ie=R-j,ke=Vt-yt,je=q-L;if(Ee>Ie&&ke<je)return 1;if(Ee<Ie&&ke>je)return-1}return R>q?1:R<q||Nt<Vt?-1:Nt>Vt?1:O.id<I.id?-1:O.id>I.id?1:0}}]);function ut(b,O,I,j){V(this,ut),this.id=++_t,this.leftSE=b,b.segment=this,b.otherSE=O,this.rightSE=O,O.segment=this,O.otherSE=b,this.rings=I,this.windings=j}return K(ut,[{key:"replaceRightSE",value:function(O){this.rightSE=O,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var O=this.leftSE.point.y,I=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:O<I?O:I},ur:{x:this.rightSE.point.x,y:O>I?O:I}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(O){return O.x===this.leftSE.point.x&&O.y===this.leftSE.point.y||O.x===this.rightSE.point.x&&O.y===this.rightSE.point.y}},{key:"comparePoint",value:function(O){if(this.isAnEndpoint(O))return 0;var I=this.leftSE.point,j=this.rightSE.point,L=this.vector();if(I.x===j.x)return O.x===I.x?0:O.x<I.x?1:-1;var R=(O.y-I.y)/L.y,q=I.x+R*L.x;if(O.x===q)return 0;var N=(O.x-I.x)/L.x,yt=I.y+N*L.y;return O.y===yt?0:O.y<yt?-1:1}},{key:"getIntersection",value:function(O){var I=this.bbox(),j=O.bbox(),L=mt(I,j);if(L===null)return null;var R=this.leftSE.point,q=this.rightSE.point,N=O.leftSE.point,yt=O.rightSE.point,Nt=It(I,N)&&this.comparePoint(N)===0,Vt=It(j,R)&&O.comparePoint(R)===0,te=It(I,yt)&&this.comparePoint(yt)===0,ee=It(j,q)&&O.comparePoint(q)===0;if(Vt&&Nt)return ee&&!te?q:!ee&&te?yt:null;if(Vt)return te&&R.x===yt.x&&R.y===yt.y?null:R;if(Nt)return ee&&q.x===N.x&&q.y===N.y?null:N;if(ee&&te)return null;if(ee)return q;if(te)return yt;var ue=G(R,this.vector(),N,O.vector());return ue===null||!It(L,ue)?null:Ht.round(ue.x,ue.y)}},{key:"split",value:function(O){var I=[],j=O.events!==void 0,L=new it(O,!0),R=new it(O,!1),q=this.rightSE;this.replaceRightSE(R),I.push(R),I.push(L);var N=new ut(L,q,this.rings.slice(),this.windings.slice());return it.comparePoints(N.leftSE.point,N.rightSE.point)>0&&N.swapEvents(),it.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),j&&(L.checkForConsuming(),R.checkForConsuming()),I}},{key:"swapEvents",value:function(){var O=this.rightSE;this.rightSE=this.leftSE,this.leftSE=O,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var I=0,j=this.windings.length;I<j;I++)this.windings[I]*=-1}},{key:"consume",value:function(O){for(var I=this,j=O;I.consumedBy;)I=I.consumedBy;for(;j.consumedBy;)j=j.consumedBy;var L=ut.compare(I,j);if(L!==0){if(L>0){var R=I;I=j,j=R}if(I.prev===j){var q=I;I=j,j=q}for(var N=0,yt=j.rings.length;N<yt;N++){var Nt=j.rings[N],Vt=j.windings[N],te=I.rings.indexOf(Nt);te===-1?(I.rings.push(Nt),I.windings.push(Vt)):I.windings[te]+=Vt}j.rings=null,j.windings=null,j.consumedBy=I,j.leftSE.consumedBy=I.leftSE,j.rightSE.consumedBy=I.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{var O=this.prev.consumedBy||this.prev;this._beforeState=O.afterState()}return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var O=this.beforeState();this._afterState={rings:O.rings.slice(0),windings:O.windings.slice(0),multiPolys:[]};for(var I=this._afterState.rings,j=this._afterState.windings,L=this._afterState.multiPolys,R=0,q=this.rings.length;R<q;R++){var N=this.rings[R],yt=this.windings[R],Nt=I.indexOf(N);Nt===-1?(I.push(N),j.push(yt)):j[Nt]+=yt}for(var Vt=[],te=[],ee=0,ue=I.length;ee<ue;ee++)if(j[ee]!==0){var se=I[ee],fe=se.poly;if(te.indexOf(fe)===-1)if(se.isExterior)Vt.push(fe);else{te.indexOf(fe)===-1&&te.push(fe);var Ae=Vt.indexOf(se.poly);Ae!==-1&&Vt.splice(Ae,1)}}for(var Ee=0,Ie=Vt.length;Ee<Ie;Ee++){var ke=Vt[Ee].multiPoly;L.indexOf(ke)===-1&&L.push(ke)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var O=this.beforeState().multiPolys,I=this.afterState().multiPolys;switch(Q.type){case"union":{var j=O.length===0,L=I.length===0;this._isInResult=j!==L;break}case"intersection":{var R,q;O.length<I.length?(R=O.length,q=I.length):(R=I.length,q=O.length),this._isInResult=q===Q.numMultiPolys&&R<q;break}case"xor":{var N=Math.abs(O.length-I.length);this._isInResult=N%2===1;break}case"difference":{var yt=function(Vt){return Vt.length===1&&Vt[0].isSubject};this._isInResult=yt(O)!==yt(I);break}default:throw new Error("Unrecognized operation type found ".concat(Q.type))}return this._isInResult}}],[{key:"fromRing",value:function(O,I,j){var L,R,q,N=it.comparePoints(O,I);if(N<0)L=O,R=I,q=1;else if(N>0)L=I,R=O,q=-1;else throw new Error("Tried to create degenerate segment at [".concat(O.x,", ").concat(O.y,"]"));var yt=new it(L,!0),Nt=new it(R,!1);return new ut(yt,Nt,[j],[q])}}]),ut}(),D=function(){function ut(b,O,I){if(V(this,ut),!Array.isArray(b)||b.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=O,this.isExterior=I,this.segments=[],typeof b[0][0]!="number"||typeof b[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var j=Ht.round(b[0][0],b[0][1]);this.bbox={ll:{x:j.x,y:j.y},ur:{x:j.x,y:j.y}};for(var L=j,R=1,q=b.length;R<q;R++){if(typeof b[R][0]!="number"||typeof b[R][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var N=Ht.round(b[R][0],b[R][1]);N.x===L.x&&N.y===L.y||(this.segments.push(Yt.fromRing(L,N,this)),N.x<this.bbox.ll.x&&(this.bbox.ll.x=N.x),N.y<this.bbox.ll.y&&(this.bbox.ll.y=N.y),N.x>this.bbox.ur.x&&(this.bbox.ur.x=N.x),N.y>this.bbox.ur.y&&(this.bbox.ur.y=N.y),L=N)}(j.x!==L.x||j.y!==L.y)&&this.segments.push(Yt.fromRing(L,j,this))}return K(ut,[{key:"getSweepEvents",value:function(){for(var O=[],I=0,j=this.segments.length;I<j;I++){var L=this.segments[I];O.push(L.leftSE),O.push(L.rightSE)}return O}}]),ut}(),ht=function(){function ut(b,O){if(V(this,ut),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new D(b[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var I=1,j=b.length;I<j;I++){var L=new D(b[I],this,!1);L.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=L.bbox.ll.x),L.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=L.bbox.ll.y),L.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=L.bbox.ur.x),L.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=L.bbox.ur.y),this.interiorRings.push(L)}this.multiPoly=O}return K(ut,[{key:"getSweepEvents",value:function(){for(var O=this.exteriorRing.getSweepEvents(),I=0,j=this.interiorRings.length;I<j;I++)for(var L=this.interiorRings[I].getSweepEvents(),R=0,q=L.length;R<q;R++)O.push(L[R]);return O}}]),ut}(),Et=function(){function ut(b,O){if(V(this,ut),!Array.isArray(b))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof b[0][0][0]=="number"&&(b=[b])}catch(R){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var I=0,j=b.length;I<j;I++){var L=new ht(b[I],this);L.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=L.bbox.ll.x),L.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=L.bbox.ll.y),L.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=L.bbox.ur.x),L.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=L.bbox.ur.y),this.polys.push(L)}this.isSubject=O}return K(ut,[{key:"getSweepEvents",value:function(){for(var O=[],I=0,j=this.polys.length;I<j;I++)for(var L=this.polys[I].getSweepEvents(),R=0,q=L.length;R<q;R++)O.push(L[R]);return O}}]),ut}(),lt=function(){K(ut,null,[{key:"factory",value:function(O){for(var I=[],j=0,L=O.length;j<L;j++){var R=O[j];if(!(!R.isInResult()||R.ringOut)){for(var q=null,N=R.leftSE,yt=R.rightSE,Nt=[N],Vt=N.point,te=[];q=N,N=yt,Nt.push(N),N.point!==Vt;)for(;;){var ee=N.getAvailableLinkedEvents();if(ee.length===0){var ue=Nt[0].point,se=Nt[Nt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(ue.x,",")+" ".concat(ue.y,"]. Last matching segment found ends at")+" [".concat(se.x,", ").concat(se.y,"]."))}if(ee.length===1){yt=ee[0].otherSE;break}for(var fe=null,Ae=0,Ee=te.length;Ae<Ee;Ae++)if(te[Ae].point===N.point){fe=Ae;break}if(fe!==null){var Ie=te.splice(fe)[0],ke=Nt.splice(Ie.index);ke.unshift(ke[0].otherSE),I.push(new ut(ke.reverse()));continue}te.push({index:Nt.length,point:N.point});var je=N.getLeftmostComparator(q);yt=ee.sort(je)[0].otherSE;break}I.push(new ut(Nt))}}return I}}]);function ut(b){V(this,ut),this.events=b;for(var O=0,I=b.length;O<I;O++)b[O].segment.ringOut=this;this.poly=null}return K(ut,[{key:"getGeom",value:function(){for(var O=this.events[0].point,I=[O],j=1,L=this.events.length-1;j<L;j++){var R=this.events[j].point,q=this.events[j+1].point;B(R,O,q)!==0&&(I.push(R),O=R)}if(I.length===1)return null;var N=I[0],yt=I[1];B(N,O,yt)===0&&I.shift(),I.push(I[0]);for(var Nt=this.isExteriorRing()?1:-1,Vt=this.isExteriorRing()?0:I.length-1,te=this.isExteriorRing()?I.length:-1,ee=[],ue=Vt;ue!=te;ue+=Nt)ee.push([I[ue].x,I[ue].y]);return ee}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var O=this.enclosingRing();this._isExteriorRing=O?!O.isExteriorRing():!0}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var O=this.events[0],I=1,j=this.events.length;I<j;I++){var L=this.events[I];it.compare(O,L)>0&&(O=L)}for(var R=O.segment.prevInResult(),q=R?R.prevInResult():null;;){if(!R)return null;if(!q)return R.ringOut;if(q.ringOut!==R.ringOut)return q.ringOut.enclosingRing()!==R.ringOut?R.ringOut:R.ringOut.enclosingRing();R=q.prevInResult(),q=R?R.prevInResult():null}}}]),ut}(),jt=function(){function ut(b){V(this,ut),this.exteriorRing=b,b.poly=this,this.interiorRings=[]}return K(ut,[{key:"addInterior",value:function(O){this.interiorRings.push(O),O.poly=this}},{key:"getGeom",value:function(){var O=[this.exteriorRing.getGeom()];if(O[0]===null)return null;for(var I=0,j=this.interiorRings.length;I<j;I++){var L=this.interiorRings[I].getGeom();L!==null&&O.push(L)}return O}}]),ut}(),Kt=function(){function ut(b){V(this,ut),this.rings=b,this.polys=this._composePolys(b)}return K(ut,[{key:"getGeom",value:function(){for(var O=[],I=0,j=this.polys.length;I<j;I++){var L=this.polys[I].getGeom();L!==null&&O.push(L)}return O}},{key:"_composePolys",value:function(O){for(var I=[],j=0,L=O.length;j<L;j++){var R=O[j];if(!R.poly)if(R.isExteriorRing())I.push(new jt(R));else{var q=R.enclosingRing();q.poly||I.push(new jt(q)),q.poly.addInterior(R)}}return I}}]),ut}(),ot=function(){function ut(b){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yt.compare;V(this,ut),this.queue=b,this.tree=new Ft(O),this.segments=[]}return K(ut,[{key:"process",value:function(O){var I=O.segment,j=[];if(O.consumedBy)return O.isLeft?this.queue.remove(O.otherSE):this.tree.remove(I),j;var L=O.isLeft?this.tree.insert(I):this.tree.find(I);if(!L)throw new Error("Unable to find segment #".concat(I.id," ")+"[".concat(I.leftSE.point.x,", ").concat(I.leftSE.point.y,"] -> ")+"[".concat(I.rightSE.point.x,", ").concat(I.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var R=L,q=L,N=void 0,yt=void 0;N===void 0;)R=this.tree.prev(R),R===null?N=null:R.key.consumedBy===void 0&&(N=R.key);for(;yt===void 0;)q=this.tree.next(q),q===null?yt=null:q.key.consumedBy===void 0&&(yt=q.key);if(O.isLeft){var Nt=null;if(N){var Vt=N.getIntersection(I);if(Vt!==null&&(I.isAnEndpoint(Vt)||(Nt=Vt),!N.isAnEndpoint(Vt)))for(var te=this._splitSafely(N,Vt),ee=0,ue=te.length;ee<ue;ee++)j.push(te[ee])}var se=null;if(yt){var fe=yt.getIntersection(I);if(fe!==null&&(I.isAnEndpoint(fe)||(se=fe),!yt.isAnEndpoint(fe)))for(var Ae=this._splitSafely(yt,fe),Ee=0,Ie=Ae.length;Ee<Ie;Ee++)j.push(Ae[Ee])}if(Nt!==null||se!==null){var ke=null;if(Nt===null)ke=se;else if(se===null)ke=Nt;else{var je=it.comparePoints(Nt,se);ke=je<=0?Nt:se}this.queue.remove(I.rightSE),j.push(I.rightSE);for(var Oe=I.split(ke),$e=0,Ke=Oe.length;$e<Ke;$e++)j.push(Oe[$e])}j.length>0?(this.tree.remove(I),j.push(O)):(this.segments.push(I),I.prev=N)}else{if(N&&yt){var Ye=N.getIntersection(yt);if(Ye!==null){if(!N.isAnEndpoint(Ye))for(var er=this._splitSafely(N,Ye),sr=0,cr=er.length;sr<cr;sr++)j.push(er[sr]);if(!yt.isAnEndpoint(Ye))for(var Lr=this._splitSafely(yt,Ye),en=0,Yr=Lr.length;en<Yr;en++)j.push(Lr[en])}}this.tree.remove(I)}return j}},{key:"_splitSafely",value:function(O,I){this.tree.remove(O);var j=O.rightSE;this.queue.remove(j);var L=O.split(I);return L.push(j),O.consumedBy===void 0&&this.tree.insert(O),L}}]),ut}(),pt=typeof nt!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,P=typeof nt!="undefined"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,rt=function(){function ut(){V(this,ut)}return K(ut,[{key:"run",value:function(O,I,j){Q.type=O,Ht.reset();for(var L=[new Et(I,!0)],R=0,q=j.length;R<q;R++)L.push(new Et(j[R],!1));if(Q.numMultiPolys=L.length,Q.type==="difference")for(var N=L[0],yt=1;yt<L.length;)mt(L[yt].bbox,N.bbox)!==null?yt++:L.splice(yt,1);if(Q.type==="intersection"){for(var Nt=0,Vt=L.length;Nt<Vt;Nt++)for(var te=L[Nt],ee=Nt+1,ue=L.length;ee<ue;ee++)if(mt(te.bbox,L[ee].bbox)===null)return[]}for(var se=new Ft(it.compare),fe=0,Ae=L.length;fe<Ae;fe++)for(var Ee=L[fe].getSweepEvents(),Ie=0,ke=Ee.length;Ie<ke;Ie++)if(se.insert(Ee[Ie]),se.size>pt)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var je=new ot(se),Oe=se.size,$e=se.pop();$e;){var Ke=$e.key;if(se.size===Oe){var Ye=Ke.segment;throw new Error("Unable to pop() ".concat(Ke.isLeft?"left":"right"," SweepEvent ")+"[".concat(Ke.point.x,", ").concat(Ke.point.y,"] from segment #").concat(Ye.id," ")+"[".concat(Ye.leftSE.point.x,", ").concat(Ye.leftSE.point.y,"] -> ")+"[".concat(Ye.rightSE.point.x,", ").concat(Ye.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(se.size>pt)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(je.segments.length>P)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var er=je.process(Ke),sr=0,cr=er.length;sr<cr;sr++){var Lr=er[sr];Lr.consumedBy===void 0&&se.insert(Lr)}Oe=se.size,$e=se.pop()}Ht.reset();var en=lt.factory(je.segments),Yr=new Kt(en);return Yr.getGeom()}}]),ut}(),Q=new rt,xt=function(b){for(var O=arguments.length,I=new Array(O>1?O-1:0),j=1;j<O;j++)I[j-1]=arguments[j];return Q.run("union",b,I)},dt=function(b){for(var O=arguments.length,I=new Array(O>1?O-1:0),j=1;j<O;j++)I[j-1]=arguments[j];return Q.run("intersection",b,I)},qt=function(b){for(var O=arguments.length,I=new Array(O>1?O-1:0),j=1;j<O;j++)I[j-1]=arguments[j];return Q.run("xor",b,I)},Ot=function(b){for(var O=arguments.length,I=new Array(O>1?O-1:0),j=1;j<O;j++)I[j-1]=arguments[j];return Q.run("difference",b,I)},Rt={union:xt,intersection:dt,xor:qt,difference:Ot};return Rt})},14299:function(Ce,z,F){var nt=F(93738);var V;(function(Bt){(function(K){var U=typeof F.g=="object"?F.g:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),X=W(Bt);typeof U.Reflect=="undefined"?U.Reflect=Bt:X=W(U.Reflect,X),K(X);function W($,et){return function(bt,At){typeof $[bt]!="function"&&Object.defineProperty($,bt,{configurable:!0,writable:!0,value:At}),et&&et(bt,At)}}})(function(K){var U=Object.prototype.hasOwnProperty,X=typeof Symbol=="function",W=X&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",$=X&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",et=typeof Object.create=="function",bt={__proto__:[]}instanceof Array,At=!et&&!bt,Ft={create:et?function(){return q(Object.create(null))}:bt?function(){return q({__proto__:null})}:function(){return q({})},has:At?function(N,yt){return U.call(N,yt)}:function(N,yt){return yt in N},get:At?function(N,yt){return U.call(N,yt)?N[yt]:void 0}:function(N,yt){return N[yt]}},Lt=Object.getPrototypeOf(Function),Tt=typeof nt=="object"&&{NODE_ENV:"production",PUBLIC_PATH:"/"}&&{NODE_ENV:"production",PUBLIC_PATH:"/"}.REFLECT_METADATA_USE_MAP_POLYFILL==="true",ct=!Tt&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:j(),St=!Tt&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:L(),Ut=!Tt&&typeof WeakMap=="function"?WeakMap:R(),Dt=new Ut;function It(N,yt,Nt,Vt){if(ht(Nt)){if(!Q(N))throw new TypeError;if(!dt(yt))throw new TypeError;return B(N,yt)}else{if(!Q(N))throw new TypeError;if(!jt(yt))throw new TypeError;if(!jt(Vt)&&!ht(Vt)&&!Et(Vt))throw new TypeError;return Et(Vt)&&(Vt=void 0),Nt=rt(Nt),tt(N,yt,Nt,Vt)}}K("decorate",It);function mt(N,yt){function Nt(Vt,te){if(!jt(Vt))throw new TypeError;if(!ht(te)&&!qt(te))throw new TypeError;it(N,yt,Vt,te)}return Nt}K("metadata",mt);function vt(N,yt,Nt,Vt){if(!jt(Nt))throw new TypeError;return ht(Vt)||(Vt=rt(Vt)),it(N,yt,Nt,Vt)}K("defineMetadata",vt);function kt(N,yt,Nt){if(!jt(yt))throw new TypeError;return ht(Nt)||(Nt=rt(Nt)),T(N,yt,Nt)}K("hasMetadata",kt);function Mt(N,yt,Nt){if(!jt(yt))throw new TypeError;return ht(Nt)||(Nt=rt(Nt)),_(N,yt,Nt)}K("hasOwnMetadata",Mt);function gt(N,yt,Nt){if(!jt(yt))throw new TypeError;return ht(Nt)||(Nt=rt(Nt)),w(N,yt,Nt)}K("getMetadata",gt);function $t(N,yt,Nt){if(!jt(yt))throw new TypeError;return ht(Nt)||(Nt=rt(Nt)),G(N,yt,Nt)}K("getOwnMetadata",$t);function Ht(N,yt){if(!jt(N))throw new TypeError;return ht(yt)||(yt=rt(yt)),_t(N,yt)}K("getMetadataKeys",Ht);function S(N,yt){if(!jt(N))throw new TypeError;return ht(yt)||(yt=rt(yt)),Yt(N,yt)}K("getOwnMetadataKeys",S);function H(N,yt,Nt){if(!jt(yt))throw new TypeError;ht(Nt)||(Nt=rt(Nt));var Vt=k(yt,Nt,!1);if(ht(Vt)||!Vt.delete(N))return!1;if(Vt.size>0)return!0;var te=Dt.get(yt);return te.delete(Nt),te.size>0||Dt.delete(yt),!0}K("deleteMetadata",H);function B(N,yt){for(var Nt=N.length-1;Nt>=0;--Nt){var Vt=N[Nt],te=Vt(yt);if(!ht(te)&&!Et(te)){if(!dt(te))throw new TypeError;yt=te}}return yt}function tt(N,yt,Nt,Vt){for(var te=N.length-1;te>=0;--te){var ee=N[te],ue=ee(yt,Nt,Vt);if(!ht(ue)&&!Et(ue)){if(!jt(ue))throw new TypeError;Vt=ue}}return Vt}function k(N,yt,Nt){var Vt=Dt.get(N);if(ht(Vt)){if(!Nt)return;Vt=new ct,Dt.set(N,Vt)}var te=Vt.get(yt);if(ht(te)){if(!Nt)return;te=new ct,Vt.set(yt,te)}return te}function T(N,yt,Nt){var Vt=_(N,yt,Nt);if(Vt)return!0;var te=I(yt);return Et(te)?!1:T(N,te,Nt)}function _(N,yt,Nt){var Vt=k(yt,Nt,!1);return ht(Vt)?!1:pt(Vt.has(N))}function w(N,yt,Nt){var Vt=_(N,yt,Nt);if(Vt)return G(N,yt,Nt);var te=I(yt);if(!Et(te))return w(N,te,Nt)}function G(N,yt,Nt){var Vt=k(yt,Nt,!1);if(!ht(Vt))return Vt.get(N)}function it(N,yt,Nt,Vt){var te=k(Nt,Vt,!0);te.set(N,yt)}function _t(N,yt){var Nt=Yt(N,yt),Vt=I(N);if(Vt===null)return Nt;var te=_t(Vt,yt);if(te.length<=0)return Nt;if(Nt.length<=0)return te;for(var ee=new St,ue=[],se=0,fe=Nt;se<fe.length;se++){var Ae=fe[se],Ee=ee.has(Ae);Ee||(ee.add(Ae),ue.push(Ae))}for(var Ie=0,ke=te;Ie<ke.length;Ie++){var Ae=ke[Ie],Ee=ee.has(Ae);Ee||(ee.add(Ae),ue.push(Ae))}return ue}function Yt(N,yt){var Nt=[],Vt=k(N,yt,!1);if(ht(Vt))return Nt;for(var te=Vt.keys(),ee=Rt(te),ue=0;;){var se=b(ee);if(!se)return Nt.length=ue,Nt;var fe=ut(se);try{Nt[ue]=fe}catch(Ae){try{O(ee)}finally{throw Ae}}ue++}}function D(N){if(N===null)return 1;switch(typeof N){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return N===null?1:6;default:return 6}}function ht(N){return N===void 0}function Et(N){return N===null}function lt(N){return typeof N=="symbol"}function jt(N){return typeof N=="object"?N!==null:typeof N=="function"}function Kt(N,yt){switch(D(N)){case 0:return N;case 1:return N;case 2:return N;case 3:return N;case 4:return N;case 5:return N}var Nt=yt===3?"string":yt===5?"number":"default",Vt=Ot(N,W);if(Vt!==void 0){var te=Vt.call(N,Nt);if(jt(te))throw new TypeError;return te}return ot(N,Nt==="default"?"number":Nt)}function ot(N,yt){if(yt==="string"){var Nt=N.toString;if(xt(Nt)){var Vt=Nt.call(N);if(!jt(Vt))return Vt}var te=N.valueOf;if(xt(te)){var Vt=te.call(N);if(!jt(Vt))return Vt}}else{var te=N.valueOf;if(xt(te)){var Vt=te.call(N);if(!jt(Vt))return Vt}var ee=N.toString;if(xt(ee)){var Vt=ee.call(N);if(!jt(Vt))return Vt}}throw new TypeError}function pt(N){return!!N}function P(N){return""+N}function rt(N){var yt=Kt(N,3);return lt(yt)?yt:P(yt)}function Q(N){return Array.isArray?Array.isArray(N):N instanceof Object?N instanceof Array:Object.prototype.toString.call(N)==="[object Array]"}function xt(N){return typeof N=="function"}function dt(N){return typeof N=="function"}function qt(N){switch(D(N)){case 3:return!0;case 4:return!0;default:return!1}}function Ot(N,yt){var Nt=N[yt];if(Nt!=null){if(!xt(Nt))throw new TypeError;return Nt}}function Rt(N){var yt=Ot(N,$);if(!xt(yt))throw new TypeError;var Nt=yt.call(N);if(!jt(Nt))throw new TypeError;return Nt}function ut(N){return N.value}function b(N){var yt=N.next();return yt.done?!1:yt}function O(N){var yt=N.return;yt&&yt.call(N)}function I(N){var yt=Object.getPrototypeOf(N);if(typeof N!="function"||N===Lt||yt!==Lt)return yt;var Nt=N.prototype,Vt=Nt&&Object.getPrototypeOf(Nt);if(Vt==null||Vt===Object.prototype)return yt;var te=Vt.constructor;return typeof te!="function"||te===N?yt:te}function j(){var N={},yt=[],Nt=function(){function ue(se,fe,Ae){this._index=0,this._keys=se,this._values=fe,this._selector=Ae}return ue.prototype["@@iterator"]=function(){return this},ue.prototype[$]=function(){return this},ue.prototype.next=function(){var se=this._index;if(se>=0&&se<this._keys.length){var fe=this._selector(this._keys[se],this._values[se]);return se+1>=this._keys.length?(this._index=-1,this._keys=yt,this._values=yt):this._index++,{value:fe,done:!1}}return{value:void 0,done:!0}},ue.prototype.throw=function(se){throw this._index>=0&&(this._index=-1,this._keys=yt,this._values=yt),se},ue.prototype.return=function(se){return this._index>=0&&(this._index=-1,this._keys=yt,this._values=yt),{value:se,done:!0}},ue}();return function(){function ue(){this._keys=[],this._values=[],this._cacheKey=N,this._cacheIndex=-2}return Object.defineProperty(ue.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),ue.prototype.has=function(se){return this._find(se,!1)>=0},ue.prototype.get=function(se){var fe=this._find(se,!1);return fe>=0?this._values[fe]:void 0},ue.prototype.set=function(se,fe){var Ae=this._find(se,!0);return this._values[Ae]=fe,this},ue.prototype.delete=function(se){var fe=this._find(se,!1);if(fe>=0){for(var Ae=this._keys.length,Ee=fe+1;Ee<Ae;Ee++)this._keys[Ee-1]=this._keys[Ee],this._values[Ee-1]=this._values[Ee];return this._keys.length--,this._values.length--,se===this._cacheKey&&(this._cacheKey=N,this._cacheIndex=-2),!0}return!1},ue.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=N,this._cacheIndex=-2},ue.prototype.keys=function(){return new Nt(this._keys,this._values,Vt)},ue.prototype.values=function(){return new Nt(this._keys,this._values,te)},ue.prototype.entries=function(){return new Nt(this._keys,this._values,ee)},ue.prototype["@@iterator"]=function(){return this.entries()},ue.prototype[$]=function(){return this.entries()},ue.prototype._find=function(se,fe){return this._cacheKey!==se&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=se)),this._cacheIndex<0&&fe&&(this._cacheIndex=this._keys.length,this._keys.push(se),this._values.push(void 0)),this._cacheIndex},ue}();function Vt(ue,se){return ue}function te(ue,se){return se}function ee(ue,se){return[ue,se]}}function L(){return function(){function N(){this._map=new ct}return Object.defineProperty(N.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),N.prototype.has=function(yt){return this._map.has(yt)},N.prototype.add=function(yt){return this._map.set(yt,yt),this},N.prototype.delete=function(yt){return this._map.delete(yt)},N.prototype.clear=function(){this._map.clear()},N.prototype.keys=function(){return this._map.keys()},N.prototype.values=function(){return this._map.values()},N.prototype.entries=function(){return this._map.entries()},N.prototype["@@iterator"]=function(){return this.keys()},N.prototype[$]=function(){return this.keys()},N}()}function R(){var N=16,yt=Ft.create(),Nt=Vt();return function(){function fe(){this._key=Vt()}return fe.prototype.has=function(Ae){var Ee=te(Ae,!1);return Ee!==void 0?Ft.has(Ee,this._key):!1},fe.prototype.get=function(Ae){var Ee=te(Ae,!1);return Ee!==void 0?Ft.get(Ee,this._key):void 0},fe.prototype.set=function(Ae,Ee){var Ie=te(Ae,!0);return Ie[this._key]=Ee,this},fe.prototype.delete=function(Ae){var Ee=te(Ae,!1);return Ee!==void 0?delete Ee[this._key]:!1},fe.prototype.clear=function(){this._key=Vt()},fe}();function Vt(){var fe;do fe="@@WeakMap@@"+se();while(Ft.has(yt,fe));return yt[fe]=!0,fe}function te(fe,Ae){if(!U.call(fe,Nt)){if(!Ae)return;Object.defineProperty(fe,Nt,{value:Ft.create()})}return fe[Nt]}function ee(fe,Ae){for(var Ee=0;Ee<Ae;++Ee)fe[Ee]=Math.random()*255|0;return fe}function ue(fe){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array(fe)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array(fe)):ee(new Uint8Array(fe),fe):ee(new Array(fe),fe)}function se(){var fe=ue(N);fe[6]=fe[6]&79|64,fe[8]=fe[8]&191|128;for(var Ae="",Ee=0;Ee<N;++Ee){var Ie=fe[Ee];(Ee===4||Ee===6||Ee===8)&&(Ae+="-"),Ie<16&&(Ae+="0"),Ae+=Ie.toString(16).toLowerCase()}return Ae}}function q(N){return N.__=void 0,delete N.__,N}})})(V||(V={}))},46612:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.SensorTabIndex=z.SensorClassName=z.SizeSensorId=void 0;var F="size-sensor-id";z.SizeSensorId=F;var nt="size-sensor-object";z.SensorClassName=nt;var V="-1";z.SensorTabIndex=V},51793:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var F=function(V){var Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,K=null;return function(){for(var U=this,X=arguments.length,W=new Array(X),$=0;$<X;$++)W[$]=arguments[$];clearTimeout(K),K=setTimeout(function(){V.apply(U,W)},Bt)}};z.default=F},8664:function(Ce,z){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var F=1,nt=function(){return"".concat(F++)};z.default=nt},1375:function(Ce,z,F){"use strict";var nt;nt={value:!0},nt=nt=z.ak=void 0;var V=F(43337),Bt=function(W,$){var et=(0,V.getSensor)(W);return et.bind($),function(){et.unbind($)}};z.ak=Bt;var K=function(W){var $=(0,V.getSensor)(W);(0,V.removeSensor)($)};nt=K;var U="1.0.1";nt=U},43337:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.removeSensor=z.getSensor=void 0;var nt=K(F(8664)),V=F(69075),Bt=F(46612);function K($){return $&&$.__esModule?$:{default:$}}var U={},X=function(et){var bt=et.getAttribute(Bt.SizeSensorId);if(bt&&U[bt])return U[bt];var At=(0,nt.default)();et.setAttribute(Bt.SizeSensorId,At);var Ft=(0,V.createSensor)(et);return U[At]=Ft,Ft};z.getSensor=X;var W=function(et){var bt=et.element.getAttribute(Bt.SizeSensorId);et.element.removeAttribute(Bt.SizeSensorId),et.destroy(),bt&&U[bt]&&delete U[bt]};z.removeSensor=W},69075:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createSensor=void 0;var nt=F(94482),V=F(40763),Bt=typeof ResizeObserver!="undefined"?V.createSensor:nt.createSensor;z.createSensor=Bt},94482:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createSensor=void 0;var nt=Bt(F(51793)),V=F(46612);function Bt(U){return U&&U.__esModule?U:{default:U}}var K=function(X){var W=void 0,$=[],et=function(){getComputedStyle(X).position==="static"&&(X.style.position="relative");var ct=document.createElement("object");return ct.onload=function(){ct.contentDocument.defaultView.addEventListener("resize",bt),bt()},ct.style.display="block",ct.style.position="absolute",ct.style.top="0",ct.style.left="0",ct.style.height="100%",ct.style.width="100%",ct.style.overflow="hidden",ct.style.pointerEvents="none",ct.style.zIndex="-1",ct.style.opacity="0",ct.setAttribute("class",V.SensorClassName),ct.setAttribute("tabindex",V.SensorTabIndex),ct.type="text/html",X.appendChild(ct),ct.data="about:blank",ct},bt=(0,nt.default)(function(){$.forEach(function(Tt){Tt(X)})}),At=function(ct){W||(W=et()),$.indexOf(ct)===-1&&$.push(ct)},Ft=function(){W&&W.parentNode&&(W.contentDocument&&W.contentDocument.defaultView.removeEventListener("resize",bt),W.parentNode.removeChild(W),W=void 0,$=[])},Lt=function(ct){var St=$.indexOf(ct);St!==-1&&$.splice(St,1),$.length===0&&W&&Ft()};return{element:X,bind:At,destroy:Ft,unbind:Lt}};z.createSensor=K},40763:function(Ce,z,F){"use strict";Object.defineProperty(z,"__esModule",{value:!0}),z.createSensor=void 0;var nt=V(F(51793));function V(K){return K&&K.__esModule?K:{default:K}}var Bt=function(U){var X=void 0,W=[],$=(0,nt.default)(function(){W.forEach(function(Lt){Lt(U)})}),et=function(){var Tt=new ResizeObserver($);return Tt.observe(U),$(),Tt},bt=function(Tt){X||(X=et()),W.indexOf(Tt)===-1&&W.push(Tt)},At=function(){X.disconnect(),W=[],X=void 0},Ft=function(Tt){var ct=W.indexOf(Tt);ct!==-1&&W.splice(ct,1),W.length===0&&X&&At()};return{element:U,bind:bt,destroy:At,unbind:Ft}};z.createSensor=Bt},39720:function(Ce){(function(z,F){Ce.exports=F()})(this,function(){"use strict";function z(Mt,gt,$t,Ht,S,H){if(!(S-Ht<=$t)){var B=Ht+S>>1;F(Mt,gt,B,Ht,S,H%2),z(Mt,gt,$t,Ht,B-1,H+1),z(Mt,gt,$t,B+1,S,H+1)}}function F(Mt,gt,$t,Ht,S,H){for(;S>Ht;){if(S-Ht>600){var B=S-Ht+1,tt=$t-Ht+1,k=Math.log(B),T=.5*Math.exp(2*k/3),_=.5*Math.sqrt(k*T*(B-T)/B)*(tt-B/2<0?-1:1),w=Math.max(Ht,Math.floor($t-tt*T/B+_)),G=Math.min(S,Math.floor($t+(B-tt)*T/B+_));F(Mt,gt,$t,w,G,H)}var it=gt[2*$t+H],_t=Ht,Yt=S;for(nt(Mt,gt,Ht,$t),gt[2*S+H]>it&&nt(Mt,gt,Ht,S);_t<Yt;){for(nt(Mt,gt,_t,Yt),_t++,Yt--;gt[2*_t+H]<it;)_t++;for(;gt[2*Yt+H]>it;)Yt--}gt[2*Ht+H]===it?nt(Mt,gt,Ht,Yt):(Yt++,nt(Mt,gt,Yt,S)),Yt<=$t&&(Ht=Yt+1),$t<=Yt&&(S=Yt-1)}}function nt(Mt,gt,$t,Ht){V(Mt,$t,Ht),V(gt,2*$t,2*Ht),V(gt,2*$t+1,2*Ht+1)}function V(Mt,gt,$t){var Ht=Mt[gt];Mt[gt]=Mt[$t],Mt[$t]=Ht}function Bt(Mt,gt,$t,Ht,S,H,B){for(var tt=[0,Mt.length-1,0],k=[],T,_;tt.length;){var w=tt.pop(),G=tt.pop(),it=tt.pop();if(G-it<=B){for(var _t=it;_t<=G;_t++)T=gt[2*_t],_=gt[2*_t+1],T>=$t&&T<=S&&_>=Ht&&_<=H&&k.push(Mt[_t]);continue}var Yt=Math.floor((it+G)/2);T=gt[2*Yt],_=gt[2*Yt+1],T>=$t&&T<=S&&_>=Ht&&_<=H&&k.push(Mt[Yt]);var D=(w+1)%2;(w===0?$t<=T:Ht<=_)&&(tt.push(it),tt.push(Yt-1),tt.push(D)),(w===0?S>=T:H>=_)&&(tt.push(Yt+1),tt.push(G),tt.push(D))}return k}function K(Mt,gt,$t,Ht,S,H){for(var B=[0,Mt.length-1,0],tt=[],k=S*S;B.length;){var T=B.pop(),_=B.pop(),w=B.pop();if(_-w<=H){for(var G=w;G<=_;G++)U(gt[2*G],gt[2*G+1],$t,Ht)<=k&&tt.push(Mt[G]);continue}var it=Math.floor((w+_)/2),_t=gt[2*it],Yt=gt[2*it+1];U(_t,Yt,$t,Ht)<=k&&tt.push(Mt[it]);var D=(T+1)%2;(T===0?$t-S<=_t:Ht-S<=Yt)&&(B.push(w),B.push(it-1),B.push(D)),(T===0?$t+S>=_t:Ht+S>=Yt)&&(B.push(it+1),B.push(_),B.push(D))}return tt}function U(Mt,gt,$t,Ht){var S=Mt-$t,H=gt-Ht;return S*S+H*H}var X=function(Mt){return Mt[0]},W=function(Mt){return Mt[1]},$=function(gt,$t,Ht,S,H){$t===void 0&&($t=X),Ht===void 0&&(Ht=W),S===void 0&&(S=64),H===void 0&&(H=Float64Array),this.nodeSize=S,this.points=gt;for(var B=gt.length<65536?Uint16Array:Uint32Array,tt=this.ids=new B(gt.length),k=this.coords=new H(gt.length*2),T=0;T<gt.length;T++)tt[T]=T,k[2*T]=$t(gt[T]),k[2*T+1]=Ht(gt[T]);z(tt,k,S,0,tt.length-1,0)};$.prototype.range=function(gt,$t,Ht,S){return Bt(this.ids,this.coords,gt,$t,Ht,S,this.nodeSize)},$.prototype.within=function(gt,$t,Ht){return K(this.ids,this.coords,gt,$t,Ht,this.nodeSize)};var et={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Mt){return Mt}},bt=Math.fround||function(Mt){return function(gt){return Mt[0]=+gt,Mt[0]}}(new Float32Array(1)),At=function(gt){this.options=mt(Object.create(et),gt),this.trees=new Array(this.options.maxZoom+1)};At.prototype.load=function(gt){var $t=this.options,Ht=$t.log,S=$t.minZoom,H=$t.maxZoom,B=$t.nodeSize;Ht&&console.time("total time");var tt="prepare "+gt.length+" points";Ht&&console.time(tt),this.points=gt;for(var k=[],T=0;T<gt.length;T++)gt[T].geometry&&k.push(Lt(gt[T],T));this.trees[H+1]=new $(k,vt,kt,B,Float32Array),Ht&&console.timeEnd(tt);for(var _=H;_>=S;_--){var w=+Date.now();k=this._cluster(k,_),this.trees[_]=new $(k,vt,kt,B,Float32Array),Ht&&console.log("z%d: %d clusters in %dms",_,k.length,+Date.now()-w)}return Ht&&console.timeEnd("total time"),this},At.prototype.getClusters=function(gt,$t){var Ht=((gt[0]+180)%360+360)%360-180,S=Math.max(-90,Math.min(90,gt[1])),H=gt[2]===180?180:((gt[2]+180)%360+360)%360-180,B=Math.max(-90,Math.min(90,gt[3]));if(gt[2]-gt[0]>=360)Ht=-180,H=180;else if(Ht>H){var tt=this.getClusters([Ht,S,180,B],$t),k=this.getClusters([-180,S,H,B],$t);return tt.concat(k)}for(var T=this.trees[this._limitZoom($t)],_=T.range(St(Ht),Ut(B),St(H),Ut(S)),w=[],G=0,it=_;G<it.length;G+=1){var _t=it[G],Yt=T.points[_t];w.push(Yt.numPoints?Tt(Yt):this.points[Yt.index])}return w},At.prototype.getChildren=function(gt){var $t=this._getOriginId(gt),Ht=this._getOriginZoom(gt),S="No cluster with the specified id.",H=this.trees[Ht];if(!H)throw new Error(S);var B=H.points[$t];if(!B)throw new Error(S);for(var tt=this.options.radius/(this.options.extent*Math.pow(2,Ht-1)),k=H.within(B.x,B.y,tt),T=[],_=0,w=k;_<w.length;_+=1){var G=w[_],it=H.points[G];it.parentId===gt&&T.push(it.numPoints?Tt(it):this.points[it.index])}if(T.length===0)throw new Error(S);return T},At.prototype.getLeaves=function(gt,$t,Ht){$t=$t||10,Ht=Ht||0;var S=[];return this._appendLeaves(S,gt,$t,Ht,0),S},At.prototype.getTile=function(gt,$t,Ht){var S=this.trees[this._limitZoom(gt)],H=Math.pow(2,gt),B=this.options,tt=B.extent,k=B.radius,T=k/tt,_=(Ht-T)/H,w=(Ht+1+T)/H,G={features:[]};return this._addTileFeatures(S.range(($t-T)/H,_,($t+1+T)/H,w),S.points,$t,Ht,H,G),$t===0&&this._addTileFeatures(S.range(1-T/H,_,1,w),S.points,H,Ht,H,G),$t===H-1&&this._addTileFeatures(S.range(0,_,T/H,w),S.points,-1,Ht,H,G),G.features.length?G:null},At.prototype.getClusterExpansionZoom=function(gt){for(var $t=this._getOriginZoom(gt)-1;$t<=this.options.maxZoom;){var Ht=this.getChildren(gt);if($t++,Ht.length!==1)break;gt=Ht[0].properties.cluster_id}return $t},At.prototype._appendLeaves=function(gt,$t,Ht,S,H){for(var B=this.getChildren($t),tt=0,k=B;tt<k.length;tt+=1){var T=k[tt],_=T.properties;if(_&&_.cluster?H+_.point_count<=S?H+=_.point_count:H=this._appendLeaves(gt,_.cluster_id,Ht,S,H):H<S?H++:gt.push(T),gt.length===Ht)break}return H},At.prototype._addTileFeatures=function(gt,$t,Ht,S,H,B){for(var tt=0,k=gt;tt<k.length;tt+=1){var T=k[tt],_=$t[T],w=_.numPoints,G=void 0,it=void 0,_t=void 0;if(w)G=ct(_),it=_.x,_t=_.y;else{var Yt=this.points[_.index];G=Yt.properties,it=St(Yt.geometry.coordinates[0]),_t=Ut(Yt.geometry.coordinates[1])}var D={type:1,geometry:[[Math.round(this.options.extent*(it*H-Ht)),Math.round(this.options.extent*(_t*H-S))]],tags:G},ht=void 0;w?ht=_.id:this.options.generateId?ht=_.index:this.points[_.index].id&&(ht=this.points[_.index].id),ht!==void 0&&(D.id=ht),B.features.push(D)}},At.prototype._limitZoom=function(gt){return Math.max(this.options.minZoom,Math.min(Math.floor(+gt),this.options.maxZoom+1))},At.prototype._cluster=function(gt,$t){for(var Ht=[],S=this.options,H=S.radius,B=S.extent,tt=S.reduce,k=S.minPoints,T=H/(B*Math.pow(2,$t)),_=0;_<gt.length;_++){var w=gt[_];if(!(w.zoom<=$t)){w.zoom=$t;for(var G=this.trees[$t+1],it=G.within(w.x,w.y,T),_t=w.numPoints||1,Yt=_t,D=0,ht=it;D<ht.length;D+=1){var Et=ht[D],lt=G.points[Et];lt.zoom>$t&&(Yt+=lt.numPoints||1)}if(Yt>_t&&Yt>=k){for(var jt=w.x*_t,Kt=w.y*_t,ot=tt&&_t>1?this._map(w,!0):null,pt=(_<<5)+($t+1)+this.points.length,P=0,rt=it;P<rt.length;P+=1){var Q=rt[P],xt=G.points[Q];if(!(xt.zoom<=$t)){xt.zoom=$t;var dt=xt.numPoints||1;jt+=xt.x*dt,Kt+=xt.y*dt,xt.parentId=pt,tt&&(ot||(ot=this._map(w,!0)),tt(ot,this._map(xt)))}}w.parentId=pt,Ht.push(Ft(jt/Yt,Kt/Yt,pt,Yt,ot))}else if(Ht.push(w),Yt>1)for(var qt=0,Ot=it;qt<Ot.length;qt+=1){var Rt=Ot[qt],ut=G.points[Rt];ut.zoom<=$t||(ut.zoom=$t,Ht.push(ut))}}}return Ht},At.prototype._getOriginId=function(gt){return gt-this.points.length>>5},At.prototype._getOriginZoom=function(gt){return(gt-this.points.length)%32},At.prototype._map=function(gt,$t){if(gt.numPoints)return $t?mt({},gt.properties):gt.properties;var Ht=this.points[gt.index].properties,S=this.options.map(Ht);return $t&&S===Ht?mt({},S):S};function Ft(Mt,gt,$t,Ht,S){return{x:bt(Mt),y:bt(gt),zoom:1/0,id:$t,parentId:-1,numPoints:Ht,properties:S}}function Lt(Mt,gt){var $t=Mt.geometry.coordinates,Ht=$t[0],S=$t[1];return{x:bt(St(Ht)),y:bt(Ut(S)),zoom:1/0,index:gt,parentId:-1}}function Tt(Mt){return{type:"Feature",id:Mt.id,properties:ct(Mt),geometry:{type:"Point",coordinates:[Dt(Mt.x),It(Mt.y)]}}}function ct(Mt){var gt=Mt.numPoints,$t=gt>=1e4?Math.round(gt/1e3)+"k":gt>=1e3?Math.round(gt/100)/10+"k":gt;return mt(mt({},Mt.properties),{cluster:!0,cluster_id:Mt.id,point_count:gt,point_count_abbreviated:$t})}function St(Mt){return Mt/360+.5}function Ut(Mt){var gt=Math.sin(Mt*Math.PI/180),$t=.5-.25*Math.log((1+gt)/(1-gt))/Math.PI;return $t<0?0:$t>1?1:$t}function Dt(Mt){return(Mt-.5)*360}function It(Mt){var gt=(180-Mt*360)*Math.PI/180;return 360*Math.atan(Math.exp(gt))/Math.PI-90}function mt(Mt,gt){for(var $t in gt)Mt[$t]=gt[$t];return Mt}function vt(Mt){return Mt.x}function kt(Mt){return Mt.y}return At})},29268:function(Ce,z,F){"use strict";F.d(z,{CR:function(){return Ut},Jh:function(){return Lt},XA:function(){return St},ZT:function(){return V},_T:function(){return K},ev:function(){return mt},mG:function(){return Ft},pi:function(){return Bt},pr:function(){return It}});var nt=function(T,_){return nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,G){w.__proto__=G}||function(w,G){for(var it in G)Object.prototype.hasOwnProperty.call(G,it)&&(w[it]=G[it])},nt(T,_)};function V(T,_){if(typeof _!="function"&&_!==null)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");nt(T,_);function w(){this.constructor=T}T.prototype=_===null?Object.create(_):(w.prototype=_.prototype,new w)}var Bt=function(){return Bt=Object.assign||function(_){for(var w,G=1,it=arguments.length;G<it;G++){w=arguments[G];for(var _t in w)Object.prototype.hasOwnProperty.call(w,_t)&&(_[_t]=w[_t])}return _},Bt.apply(this,arguments)};function K(T,_){var w={};for(var G in T)Object.prototype.hasOwnProperty.call(T,G)&&_.indexOf(G)<0&&(w[G]=T[G]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,G=Object.getOwnPropertySymbols(T);it<G.length;it++)_.indexOf(G[it])<0&&Object.prototype.propertyIsEnumerable.call(T,G[it])&&(w[G[it]]=T[G[it]]);return w}function U(T,_,w,G){var it=arguments.length,_t=it<3?_:G===null?G=Object.getOwnPropertyDescriptor(_,w):G,Yt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_t=Reflect.decorate(T,_,w,G);else for(var D=T.length-1;D>=0;D--)(Yt=T[D])&&(_t=(it<3?Yt(_t):it>3?Yt(_,w,_t):Yt(_,w))||_t);return it>3&&_t&&Object.defineProperty(_,w,_t),_t}function X(T,_){return function(w,G){_(w,G,T)}}function W(T,_,w,G,it,_t){function Yt(Q){if(Q!==void 0&&typeof Q!="function")throw new TypeError("Function expected");return Q}for(var D=G.kind,ht=D==="getter"?"get":D==="setter"?"set":"value",Et=!_&&T?G.static?T:T.prototype:null,lt=_||(Et?Object.getOwnPropertyDescriptor(Et,G.name):{}),jt,Kt=!1,ot=w.length-1;ot>=0;ot--){var pt={};for(var P in G)pt[P]=P==="access"?{}:G[P];for(var P in G.access)pt.access[P]=G.access[P];pt.addInitializer=function(Q){if(Kt)throw new TypeError("Cannot add initializers after decoration has completed");_t.push(Yt(Q||null))};var rt=(0,w[ot])(D==="accessor"?{get:lt.get,set:lt.set}:lt[ht],pt);if(D==="accessor"){if(rt===void 0)continue;if(rt===null||typeof rt!="object")throw new TypeError("Object expected");(jt=Yt(rt.get))&&(lt.get=jt),(jt=Yt(rt.set))&&(lt.set=jt),(jt=Yt(rt.init))&&it.push(jt)}else(jt=Yt(rt))&&(D==="field"?it.push(jt):lt[ht]=jt)}Et&&Object.defineProperty(Et,G.name,lt),Kt=!0}function $(T,_,w){for(var G=arguments.length>2,it=0;it<_.length;it++)w=G?_[it].call(T,w):_[it].call(T);return G?w:void 0}function et(T){return typeof T=="symbol"?T:"".concat(T)}function bt(T,_,w){return typeof _=="symbol"&&(_=_.description?"[".concat(_.description,"]"):""),Object.defineProperty(T,"name",{configurable:!0,value:w?"".concat(w," ",_):_})}function At(T,_){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(T,_)}function Ft(T,_,w,G){function it(_t){return _t instanceof w?_t:new w(function(Yt){Yt(_t)})}return new(w||(w=Promise))(function(_t,Yt){function D(lt){try{Et(G.next(lt))}catch(jt){Yt(jt)}}function ht(lt){try{Et(G.throw(lt))}catch(jt){Yt(jt)}}function Et(lt){lt.done?_t(lt.value):it(lt.value).then(D,ht)}Et((G=G.apply(T,_||[])).next())})}function Lt(T,_){var w={label:0,sent:function(){if(_t[0]&1)throw _t[1];return _t[1]},trys:[],ops:[]},G,it,_t,Yt;return Yt={next:D(0),throw:D(1),return:D(2)},typeof Symbol=="function"&&(Yt[Symbol.iterator]=function(){return this}),Yt;function D(Et){return function(lt){return ht([Et,lt])}}function ht(Et){if(G)throw new TypeError("Generator is already executing.");for(;Yt&&(Yt=0,Et[0]&&(w=0)),w;)try{if(G=1,it&&(_t=Et[0]&2?it.return:Et[0]?it.throw||((_t=it.return)&&_t.call(it),0):it.next)&&!(_t=_t.call(it,Et[1])).done)return _t;switch(it=0,_t&&(Et=[Et[0]&2,_t.value]),Et[0]){case 0:case 1:_t=Et;break;case 4:return w.label++,{value:Et[1],done:!1};case 5:w.label++,it=Et[1],Et=[0];continue;case 7:Et=w.ops.pop(),w.trys.pop();continue;default:if(_t=w.trys,!(_t=_t.length>0&&_t[_t.length-1])&&(Et[0]===6||Et[0]===2)){w=0;continue}if(Et[0]===3&&(!_t||Et[1]>_t[0]&&Et[1]<_t[3])){w.label=Et[1];break}if(Et[0]===6&&w.label<_t[1]){w.label=_t[1],_t=Et;break}if(_t&&w.label<_t[2]){w.label=_t[2],w.ops.push(Et);break}_t[2]&&w.ops.pop(),w.trys.pop();continue}Et=_.call(T,w)}catch(lt){Et=[6,lt],it=0}finally{G=_t=0}if(Et[0]&5)throw Et[1];return{value:Et[0]?Et[1]:void 0,done:!0}}}var Tt=Object.create?function(T,_,w,G){G===void 0&&(G=w);var it=Object.getOwnPropertyDescriptor(_,w);(!it||("get"in it?!_.__esModule:it.writable||it.configurable))&&(it={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(T,G,it)}:function(T,_,w,G){G===void 0&&(G=w),T[G]=_[w]};function ct(T,_){for(var w in T)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&Tt(_,T,w)}function St(T){var _=typeof Symbol=="function"&&Symbol.iterator,w=_&&T[_],G=0;if(w)return w.call(T);if(T&&typeof T.length=="number")return{next:function(){return T&&G>=T.length&&(T=void 0),{value:T&&T[G++],done:!T}}};throw new TypeError(_?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ut(T,_){var w=typeof Symbol=="function"&&T[Symbol.iterator];if(!w)return T;var G=w.call(T),it,_t=[],Yt;try{for(;(_===void 0||_-- >0)&&!(it=G.next()).done;)_t.push(it.value)}catch(D){Yt={error:D}}finally{try{it&&!it.done&&(w=G.return)&&w.call(G)}finally{if(Yt)throw Yt.error}}return _t}function Dt(){for(var T=[],_=0;_<arguments.length;_++)T=T.concat(Ut(arguments[_]));return T}function It(){for(var T=0,_=0,w=arguments.length;_<w;_++)T+=arguments[_].length;for(var G=Array(T),it=0,_=0;_<w;_++)for(var _t=arguments[_],Yt=0,D=_t.length;Yt<D;Yt++,it++)G[it]=_t[Yt];return G}function mt(T,_,w){if(w||arguments.length===2)for(var G=0,it=_.length,_t;G<it;G++)(_t||!(G in _))&&(_t||(_t=Array.prototype.slice.call(_,0,G)),_t[G]=_[G]);return T.concat(_t||Array.prototype.slice.call(_))}function vt(T){return this instanceof vt?(this.v=T,this):new vt(T)}function kt(T,_,w){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var G=w.apply(T,_||[]),it,_t=[];return it={},Yt("next"),Yt("throw"),Yt("return"),it[Symbol.asyncIterator]=function(){return this},it;function Yt(Kt){G[Kt]&&(it[Kt]=function(ot){return new Promise(function(pt,P){_t.push([Kt,ot,pt,P])>1||D(Kt,ot)})})}function D(Kt,ot){try{ht(G[Kt](ot))}catch(pt){jt(_t[0][3],pt)}}function ht(Kt){Kt.value instanceof vt?Promise.resolve(Kt.value.v).then(Et,lt):jt(_t[0][2],Kt)}function Et(Kt){D("next",Kt)}function lt(Kt){D("throw",Kt)}function jt(Kt,ot){Kt(ot),_t.shift(),_t.length&&D(_t[0][0],_t[0][1])}}function Mt(T){var _,w;return _={},G("next"),G("throw",function(it){throw it}),G("return"),_[Symbol.iterator]=function(){return this},_;function G(it,_t){_[it]=T[it]?function(Yt){return(w=!w)?{value:vt(T[it](Yt)),done:!1}:_t?_t(Yt):Yt}:_t}}function gt(T){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _=T[Symbol.asyncIterator],w;return _?_.call(T):(T=typeof St=="function"?St(T):T[Symbol.iterator](),w={},G("next"),G("throw"),G("return"),w[Symbol.asyncIterator]=function(){return this},w);function G(_t){w[_t]=T[_t]&&function(Yt){return new Promise(function(D,ht){Yt=T[_t](Yt),it(D,ht,Yt.done,Yt.value)})}}function it(_t,Yt,D,ht){Promise.resolve(ht).then(function(Et){_t({value:Et,done:D})},Yt)}}function $t(T,_){return Object.defineProperty?Object.defineProperty(T,"raw",{value:_}):T.raw=_,T}var Ht=Object.create?function(T,_){Object.defineProperty(T,"default",{enumerable:!0,value:_})}:function(T,_){T.default=_};function S(T){if(T&&T.__esModule)return T;var _={};if(T!=null)for(var w in T)w!=="default"&&Object.prototype.hasOwnProperty.call(T,w)&&Tt(_,T,w);return Ht(_,T),_}function H(T){return T&&T.__esModule?T:{default:T}}function B(T,_,w,G){if(w==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?T!==_||!G:!_.has(T))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?G:w==="a"?G.call(T):G?G.value:_.get(T)}function tt(T,_,w,G,it){if(G==="m")throw new TypeError("Private method is not writable");if(G==="a"&&!it)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?T!==_||!it:!_.has(T))throw new TypeError("Cannot write private member to an object whose class did not declare it");return G==="a"?it.call(T,w):it?it.value=w:_.set(T,w),w}function k(T,_){if(_===null||typeof _!="object"&&typeof _!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof T=="function"?_===T:T.has(_)}},22786:function(Ce,z,F){var nt=F(40765).default;function V(){"use strict";Ce.exports=V=function(){return Bt},Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports;var Bt={},K=Object.prototype,U=K.hasOwnProperty,X=Object.defineProperty||function(k,T,_){k[T]=_.value},W=typeof Symbol=="function"?Symbol:{},$=W.iterator||"@@iterator",et=W.asyncIterator||"@@asyncIterator",bt=W.toStringTag||"@@toStringTag";function At(k,T,_){return Object.defineProperty(k,T,{value:_,enumerable:!0,configurable:!0,writable:!0}),k[T]}try{At({},"")}catch(k){At=function(_,w,G){return _[w]=G}}function Ft(k,T,_,w){var G=T&&T.prototype instanceof ct?T:ct,it=Object.create(G.prototype),_t=new H(w||[]);return X(it,"_invoke",{value:gt(k,_,_t)}),it}function Lt(k,T,_){try{return{type:"normal",arg:k.call(T,_)}}catch(w){return{type:"throw",arg:w}}}Bt.wrap=Ft;var Tt={};function ct(){}function St(){}function Ut(){}var Dt={};At(Dt,$,function(){return this});var It=Object.getPrototypeOf,mt=It&&It(It(B([])));mt&&mt!==K&&U.call(mt,$)&&(Dt=mt);var vt=Ut.prototype=ct.prototype=Object.create(Dt);function kt(k){["next","throw","return"].forEach(function(T){At(k,T,function(_){return this._invoke(T,_)})})}function Mt(k,T){function _(G,it,_t,Yt){var D=Lt(k[G],k,it);if(D.type!=="throw"){var ht=D.arg,Et=ht.value;return Et&&nt(Et)=="object"&&U.call(Et,"__await")?T.resolve(Et.__await).then(function(lt){_("next",lt,_t,Yt)},function(lt){_("throw",lt,_t,Yt)}):T.resolve(Et).then(function(lt){ht.value=lt,_t(ht)},function(lt){return _("throw",lt,_t,Yt)})}Yt(D.arg)}var w;X(this,"_invoke",{value:function(it,_t){function Yt(){return new T(function(D,ht){_(it,_t,D,ht)})}return w=w?w.then(Yt,Yt):Yt()}})}function gt(k,T,_){var w="suspendedStart";return function(G,it){if(w==="executing")throw new Error("Generator is already running");if(w==="completed"){if(G==="throw")throw it;return tt()}for(_.method=G,_.arg=it;;){var _t=_.delegate;if(_t){var Yt=$t(_t,_);if(Yt){if(Yt===Tt)continue;return Yt}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(w==="suspendedStart")throw w="completed",_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);w="executing";var D=Lt(k,T,_);if(D.type==="normal"){if(w=_.done?"completed":"suspendedYield",D.arg===Tt)continue;return{value:D.arg,done:_.done}}D.type==="throw"&&(w="completed",_.method="throw",_.arg=D.arg)}}}function $t(k,T){var _=T.method,w=k.iterator[_];if(w===void 0)return T.delegate=null,_==="throw"&&k.iterator.return&&(T.method="return",T.arg=void 0,$t(k,T),T.method==="throw")||_!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+_+"' method")),Tt;var G=Lt(w,k.iterator,T.arg);if(G.type==="throw")return T.method="throw",T.arg=G.arg,T.delegate=null,Tt;var it=G.arg;return it?it.done?(T[k.resultName]=it.value,T.next=k.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,Tt):it:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,Tt)}function Ht(k){var T={tryLoc:k[0]};1 in k&&(T.catchLoc=k[1]),2 in k&&(T.finallyLoc=k[2],T.afterLoc=k[3]),this.tryEntries.push(T)}function S(k){var T=k.completion||{};T.type="normal",delete T.arg,k.completion=T}function H(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(Ht,this),this.reset(!0)}function B(k){if(k){var T=k[$];if(T)return T.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var _=-1,w=function G(){for(;++_<k.length;)if(U.call(k,_))return G.value=k[_],G.done=!1,G;return G.value=void 0,G.done=!0,G};return w.next=w}}return{next:tt}}function tt(){return{value:void 0,done:!0}}return St.prototype=Ut,X(vt,"constructor",{value:Ut,configurable:!0}),X(Ut,"constructor",{value:St,configurable:!0}),St.displayName=At(Ut,bt,"GeneratorFunction"),Bt.isGeneratorFunction=function(k){var T=typeof k=="function"&&k.constructor;return!!T&&(T===St||(T.displayName||T.name)==="GeneratorFunction")},Bt.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,Ut):(k.__proto__=Ut,At(k,bt,"GeneratorFunction")),k.prototype=Object.create(vt),k},Bt.awrap=function(k){return{__await:k}},kt(Mt.prototype),At(Mt.prototype,et,function(){return this}),Bt.AsyncIterator=Mt,Bt.async=function(k,T,_,w,G){G===void 0&&(G=Promise);var it=new Mt(Ft(k,T,_,w),G);return Bt.isGeneratorFunction(T)?it:it.next().then(function(_t){return _t.done?_t.value:it.next()})},kt(vt),At(vt,bt,"Generator"),At(vt,$,function(){return this}),At(vt,"toString",function(){return"[object Generator]"}),Bt.keys=function(k){var T=Object(k),_=[];for(var w in T)_.push(w);return _.reverse(),function G(){for(;_.length;){var it=_.pop();if(it in T)return G.value=it,G.done=!1,G}return G.done=!0,G}},Bt.values=B,H.prototype={constructor:H,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!T)for(var _ in this)_.charAt(0)==="t"&&U.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var _=this;function w(ht,Et){return _t.type="throw",_t.arg=T,_.next=ht,Et&&(_.method="next",_.arg=void 0),!!Et}for(var G=this.tryEntries.length-1;G>=0;--G){var it=this.tryEntries[G],_t=it.completion;if(it.tryLoc==="root")return w("end");if(it.tryLoc<=this.prev){var Yt=U.call(it,"catchLoc"),D=U.call(it,"finallyLoc");if(Yt&&D){if(this.prev<it.catchLoc)return w(it.catchLoc,!0);if(this.prev<it.finallyLoc)return w(it.finallyLoc)}else if(Yt){if(this.prev<it.catchLoc)return w(it.catchLoc,!0)}else{if(!D)throw new Error("try statement without catch or finally");if(this.prev<it.finallyLoc)return w(it.finallyLoc)}}}},abrupt:function(T,_){for(var w=this.tryEntries.length-1;w>=0;--w){var G=this.tryEntries[w];if(G.tryLoc<=this.prev&&U.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var it=G;break}}it&&(T==="break"||T==="continue")&&it.tryLoc<=_&&_<=it.finallyLoc&&(it=null);var _t=it?it.completion:{};return _t.type=T,_t.arg=_,it?(this.method="next",this.next=it.finallyLoc,Tt):this.complete(_t)},complete:function(T,_){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&_&&(this.next=_),Tt},finish:function(T){for(var _=this.tryEntries.length-1;_>=0;--_){var w=this.tryEntries[_];if(w.finallyLoc===T)return this.complete(w.completion,w.afterLoc),S(w),Tt}},catch:function(T){for(var _=this.tryEntries.length-1;_>=0;--_){var w=this.tryEntries[_];if(w.tryLoc===T){var G=w.completion;if(G.type==="throw"){var it=G.arg;S(w)}return it}}throw new Error("illegal catch attempt")},delegateYield:function(T,_,w){return this.delegate={iterator:B(T),resultName:_,nextLoc:w},this.method==="next"&&(this.arg=void 0),Tt}},Bt}Ce.exports=V,Ce.exports.__esModule=!0,Ce.exports.default=Ce.exports},2723:function(Ce,z,F){var nt=F(22786)();Ce.exports=nt;try{regeneratorRuntime=nt}catch(V){typeof globalThis=="object"?globalThis.regeneratorRuntime=nt:Function("r","regeneratorRuntime = r")(nt)}}}]);
